//>>built
require({cache:{"dojo/behavior":function(){define("./_base/kernel ./_base/lang ./_base/array ./_base/connect ./query ./domReady".split(" "),function(h,k,d,g,b,c){h.deprecated("dojo.behavior","Use dojo/on with event delegation (on.selector())");h.behavior=new function(){function c(a,b){a[b]||(a[b]=[]);return a[b]}function l(a,b,c){var e={},f;for(f in a)"undefined"==typeof e[f]&&(c?c.call(b,a[f],f):b(a[f],f))}var e=0;this._behaviors={};this.add=function(a){l(a,this,function(a,b){var m=c(this._behaviors,
b);"number"!=typeof m.id&&(m.id=e++);var d=[];m.push(d);if(k.isString(a)||k.isFunction(a))a={found:a};l(a,function(a,b){c(d,b).push(a)})})};var a=function(a,b,c){k.isString(b)?"found"==c?g.publish(b,[a]):g.connect(a,c,function(){g.publish(b,arguments)}):k.isFunction(b)&&("found"==c?b(a):g.connect(a,c,b))};this.apply=function(){l(this._behaviors,function(c,e){b(e).forEach(function(b){var e=0,f="_dj_behavior_"+c.id;if("number"==typeof b[f]&&(e=b[f],e==c.length))return;for(var g;g=c[e];e++)l(g,function(c,
e){k.isArray(c)&&d.forEach(c,function(c){a(b,c,e)})});b[f]=c.length})})}};c(function(){h.behavior.apply()});return h.behavior})},"dojo/parser":function(){define("require ./_base/kernel ./_base/lang ./_base/array ./_base/config ./dom ./_base/window ./_base/url ./aspect ./promise/all ./date/stamp ./Deferred ./has ./query ./on ./ready".split(" "),function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r){function s(a){return eval("("+a+")")}function v(a){var b=a._nameCaseMap,c=a.prototype;if(!b||b._extendCnt<u){var b=
a._nameCaseMap={},e;for(e in c)"_"!==e.charAt(0)&&(b[e.toLowerCase()]=e);b._extendCnt=u}return b}function w(a,b){var c=a.join();if(!y[c]){for(var e=[],m=0,f=a.length;m<f;m++){var g=a[m];e[e.length]=y[g]=y[g]||d.getObject(g)||~g.indexOf("/")&&(b?b(g):h(g))}m=e.shift();y[c]=e.length?m.createSubclass?m.createSubclass(e):m.extend.apply(m,e):m}return y[c]}new Date("X");var u=0;e.after(d,"extend",function(){u++},!0);var y={},x={_clearCache:function(){u++;y={}},_functionFromScript:function(a,b){var c="",
e="",m=a.getAttribute(b+"args")||a.getAttribute("args"),f=a.getAttribute("with"),m=(m||"").split(/\s*,\s*/);f&&f.length&&g.forEach(f.split(/\s*,\s*/),function(a){c+="with("+a+"){";e+="}"});return new Function(m,c+a.innerHTML+e)},instantiate:function(a,b,c){b=b||{};c=c||{};var e=(c.scope||k._scopeName)+"Type",m="data-"+(c.scope||k._scopeName)+"-",f=m+"type",d=m+"mixins",l=[];g.forEach(a,function(a){var c=e in b?b[e]:a.getAttribute(f)||a.getAttribute(e);if(c){var m=a.getAttribute(d),c=m?[c].concat(m.split(/\s*,\s*/)):
[c];l.push({node:a,types:c})}});return this._instantiate(l,b,c)},_instantiate:function(b,c,e,m){function f(a){!c._started&&!e.noStart&&g.forEach(a,function(a){"function"===typeof a.startup&&!a._started&&a.startup()});return a}b=g.map(b,function(a){var b=a.ctor||w(a.types,e.contextRequire);if(!b)throw Error("Unable to resolve constructor for: '"+a.types.join()+"'");return this.construct(b,a.node,c,e,a.scripts,a.inherited)},this);return m?a(b).then(f):f(b)},construct:function(a,b,c,f,n,r){function h(a){ea&&
d.setObject(ea,a);for(Q=0;Q<aa.length;Q++)e[aa[Q].advice||"after"](a,aa[Q].method,d.hitch(a,aa[Q].func),!0);for(Q=0;Q<U.length;Q++)U[Q].call(a);for(Q=0;Q<T.length;Q++)a.watch(T[Q].prop,T[Q].func);for(Q=0;Q<Y.length;Q++)q(a,Y[Q].event,Y[Q].func);return a}var x=a&&a.prototype;f=f||{};var y={};f.defaults&&d.mixin(y,f.defaults);r&&d.mixin(y,r);var w;p("dom-attributes-explicit")?w=b.attributes:p("dom-attributes-specified-flag")?w=g.filter(b.attributes,function(a){return a.specified}):(r=(/^input$|^img$/i.test(b.nodeName)?
b:b.cloneNode(!1)).outerHTML.replace(/=[^\s"']+|="[^"]*"|='[^']*'/g,"").replace(/^\s*<[a-zA-Z0-9]*\s*/,"").replace(/\s*>.*$/,""),w=g.map(r.split(/\s+/),function(a){var c=a.toLowerCase();return{name:a,value:"LI"==b.nodeName&&"value"==a||"enctype"==c?b.getAttribute(c):b.getAttributeNode(c).value}}));var u=f.scope||k._scopeName;r="data-"+u+"-";var K={};"dojo"!==u&&(K[r+"props"]="data-dojo-props",K[r+"type"]="data-dojo-type",K[r+"mixins"]="data-dojo-mixins",K[u+"type"]="dojoType",K[r+"id"]="data-dojo-id");
for(var Q=0,V,u=[],ea,L;V=w[Q++];){var N=V.name,I=N.toLowerCase();V=V.value;switch(K[I]||I){case "data-dojo-type":case "dojotype":case "data-dojo-mixins":break;case "data-dojo-props":L=V;break;case "data-dojo-id":case "jsid":ea=V;break;case "data-dojo-attach-point":case "dojoattachpoint":y.dojoAttachPoint=V;break;case "data-dojo-attach-event":case "dojoattachevent":y.dojoAttachEvent=V;break;case "class":y["class"]=b.className;break;case "style":y.style=b.style&&b.style.cssText;break;default:if(N in
x||(N=v(a)[I]||N),N in x)switch(typeof x[N]){case "string":y[N]=V;break;case "number":y[N]=V.length?Number(V):NaN;break;case "boolean":y[N]="false"!=V.toLowerCase();break;case "function":""===V||-1!=V.search(/[^\w\.]+/i)?y[N]=new Function(V):y[N]=d.getObject(V,!1)||new Function(V);u.push(N);break;default:I=x[N],y[N]=I&&"length"in I?V?V.split(/\s*,\s*/):[]:I instanceof Date?""==V?new Date(""):"now"==V?new Date:m.fromISOString(V):I instanceof l?k.baseUrl+V:s(V)}else y[N]=V}}for(w=0;w<u.length;w++)K=
u[w].toLowerCase(),b.removeAttribute(K),b[K]=null;if(L)try{L=s.call(f.propsThis,"{"+L+"}"),d.mixin(y,L)}catch(O){throw Error(O.toString()+" in data-dojo-props\x3d'"+L+"'");}d.mixin(y,c);n||(n=a&&(a._noScript||x._noScript)?[]:t("\x3e script[type^\x3d'dojo/']",b));var aa=[],U=[],T=[],Y=[];if(n)for(Q=0;Q<n.length;Q++)K=n[Q],b.removeChild(K),c=K.getAttribute(r+"event")||K.getAttribute("event"),f=K.getAttribute(r+"prop"),L=K.getAttribute(r+"method"),u=K.getAttribute(r+"advice"),w=K.getAttribute("type"),
K=this._functionFromScript(K,r),c?"dojo/connect"==w?aa.push({method:c,func:K}):"dojo/on"==w?Y.push({event:c,func:K}):y[c]=K:"dojo/aspect"==w?aa.push({method:L,advice:u,func:K}):"dojo/watch"==w?T.push({prop:f,func:K}):U.push(K);a=(n=a.markupFactory||x.markupFactory)?n(y,b,a):new a(y,b);return a.then?a.then(h):h(a)},scan:function(a,b){function c(a){if(!a.inherited){a.inherited={};var b=a.node,e=c(a.parent),b={dir:b.getAttribute("dir")||e.dir,lang:b.getAttribute("lang")||e.lang,textDir:b.getAttribute(t)||
e.textDir},m;for(m in b)b[m]&&(a.inherited[m]=b[m])}return a.inherited}var e=[],m=[],f={},d=(b.scope||k._scopeName)+"Type",l="data-"+(b.scope||k._scopeName)+"-",q=l+"type",t=l+"textdir",l=l+"mixins",r=a.firstChild,s=b.inherited;if(!s){var x=function(a,b){return a.getAttribute&&a.getAttribute(b)||a.parentNode&&x(a.parentNode,b)},s={dir:x(a,"dir"),lang:x(a,"lang"),textDir:x(a,t)},v;for(v in s)s[v]||delete s[v]}for(var s={inherited:s},y,u;;)if(r)if(1!=r.nodeType)r=r.nextSibling;else if(y&&"script"==
r.nodeName.toLowerCase())(N=r.getAttribute("type"))&&/^dojo\/\w/i.test(N)&&y.push(r),r=r.nextSibling;else if(u)r=r.nextSibling;else{var N=r.getAttribute(q)||r.getAttribute(d);v=r.firstChild;if(!N&&(!v||3==v.nodeType&&!v.nextSibling))r=r.nextSibling;else{u=null;if(N){var I=r.getAttribute(l);y=I?[N].concat(I.split(/\s*,\s*/)):[N];try{u=w(y,b.contextRequire)}catch(O){}u||g.forEach(y,function(a){~a.indexOf("/")&&!f[a]&&(f[a]=!0,m[m.length]=a)});I=u&&!u.prototype._noScript?[]:null;s={types:y,ctor:u,parent:s,
node:r,scripts:I};s.inherited=c(s);e.push(s)}else s={node:r,scripts:y,parent:s};y=I;u=r.stopParser||u&&u.prototype.stopParser&&!b.template;r=v}}else{if(!s||!s.node)break;r=s.node.nextSibling;u=!1;s=s.parent;y=s.scripts}var aa=new n;m.length?(p("dojo-debug-messages"),(b.contextRequire||h)(m,function(){aa.resolve(g.filter(e,function(a){if(!a.ctor)try{a.ctor=w(a.types,b.contextRequire)}catch(c){}for(var e=a.parent;e&&!e.types;)e=e.parent;var m=a.ctor&&a.ctor.prototype;a.instantiateChildren=!(m&&m.stopParser&&
!b.template);a.instantiate=!e||e.instantiate&&e.instantiateChildren;return a.instantiate}))})):aa.resolve(e);return aa.promise},_require:function(a,b){var c=s("{"+a.innerHTML+"}"),e=[],m=[],f=new n,g=b&&b.contextRequire||h,l;for(l in c)e.push(l),m.push(c[l]);g(m,function(){for(var a=0;a<e.length;a++)d.setObject(e[a],arguments[a]);f.resolve(arguments)});return f.promise},_scanAmd:function(a,b){var c=new n,e=c.promise;c.resolve(!0);var m=this;t("script[type\x3d'dojo/require']",a).forEach(function(a){e=
e.then(function(){return m._require(a,b)});a.parentNode.removeChild(a)});return e},parse:function(a,b){a&&("string"!=typeof a&&!("nodeType"in a))&&(b=a,a=b.rootNode);var e=a?c.byId(a):f.body();b=b||{};var m=b.template?{template:!0}:{},g=[],l=this,n=this._scanAmd(e,b).then(function(){return l.scan(e,b)}).then(function(a){return l._instantiate(a,m,b,!0)}).then(function(a){return g=g.concat(a)}).otherwise(function(a){throw a;});d.mixin(g,n);return g}};k.parser=x;b.parseOnLoad&&r(100,x,"parse");return x})},
"dojo/_base/url":function(){define(["./kernel"],function(h){var k=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/,d=/^((([^\[:]+):)?([^@]+)@)?(\[([^\]]+)\]|([^\[:]*))(:([0-9]+))?$/,g=function(){for(var b=arguments,c=[b[0]],f=1;f<b.length;f++)if(b[f]){var l=new g(b[f]+""),c=new g(c[0]+"");if(""==l.path&&!l.scheme&&!l.authority&&!l.query)null!=l.fragment&&(c.fragment=l.fragment),l=c;else if(!l.scheme&&(l.scheme=c.scheme,!l.authority&&(l.authority=c.authority,"/"!=l.path.charAt(0)))){for(var c=
(c.path.substring(0,c.path.lastIndexOf("/")+1)+l.path).split("/"),e=0;e<c.length;e++)"."==c[e]?e==c.length-1?c[e]="":(c.splice(e,1),e--):0<e&&(!(1==e&&""==c[0])&&".."==c[e]&&".."!=c[e-1])&&(e==c.length-1?(c.splice(e,1),c[e-1]=""):(c.splice(e-1,2),e-=2));l.path=c.join("/")}c=[];l.scheme&&c.push(l.scheme,":");l.authority&&c.push("//",l.authority);c.push(l.path);l.query&&c.push("?",l.query);l.fragment&&c.push("#",l.fragment)}this.uri=c.join("");b=this.uri.match(k);this.scheme=b[2]||(b[1]?"":null);this.authority=
b[4]||(b[3]?"":null);this.path=b[5];this.query=b[7]||(b[6]?"":null);this.fragment=b[9]||(b[8]?"":null);null!=this.authority&&(b=this.authority.match(d),this.user=b[3]||null,this.password=b[4]||null,this.host=b[6]||b[7],this.port=b[9]||null)};g.prototype.toString=function(){return this.uri};return h._Url=g})},"dojo/promise/all":function(){define(["../_base/array","../Deferred","../when"],function(h,k,d){var g=h.some;return function(b){var c,f;b instanceof Array?f=b:b&&"object"===typeof b&&(c=b);var l,
e=[];if(c){f=[];for(var a in c)Object.hasOwnProperty.call(c,a)&&(e.push(a),f.push(c[a]));l={}}else f&&(l=[]);if(!f||!f.length)return(new k).resolve(l);var m=new k;m.promise.always(function(){l=e=null});var n=f.length;g(f,function(a,b){c||e.push(b);d(a,function(a){m.isFulfilled()||(l[e[b]]=a,0===--n&&m.resolve(l))},m.reject);return m.isFulfilled()});return m.promise}})},"dojo/date/stamp":function(){define(["../_base/lang","../_base/array"],function(h,k){var d={};h.setObject("dojo.date.stamp",d);d.fromISOString=
function(g,b){d._isoRegExp||(d._isoRegExp=/^(?:(\d{4})(?:-(\d{2})(?:-(\d{2}))?)?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(.\d+)?)?((?:[+-](\d{2}):(\d{2}))|Z)?)?$/);var c=d._isoRegExp.exec(g),f=null;if(c){c.shift();c[1]&&c[1]--;c[6]&&(c[6]*=1E3);b&&(b=new Date(b),k.forEach(k.map("FullYear Month Date Hours Minutes Seconds Milliseconds".split(" "),function(a){return b["get"+a]()}),function(a,b){c[b]=c[b]||a}));f=new Date(c[0]||1970,c[1]||0,c[2]||1,c[3]||0,c[4]||0,c[5]||0,c[6]||0);100>c[0]&&f.setFullYear(c[0]||
1970);var l=0,e=c[7]&&c[7].charAt(0);"Z"!=e&&(l=60*(c[8]||0)+(Number(c[9])||0),"-"!=e&&(l*=-1));e&&(l-=f.getTimezoneOffset());l&&f.setTime(f.getTime()+6E4*l)}return f};d.toISOString=function(d,b){var c=function(a){return 10>a?"0"+a:a};b=b||{};var f=[],l=b.zulu?"getUTC":"get",e="";"time"!=b.selector&&(e=d[l+"FullYear"](),e=["0000".substr((e+"").length)+e,c(d[l+"Month"]()+1),c(d[l+"Date"]())].join("-"));f.push(e);if("date"!=b.selector){e=[c(d[l+"Hours"]()),c(d[l+"Minutes"]()),c(d[l+"Seconds"]())].join(":");
l=d[l+"Milliseconds"]();b.milliseconds&&(e+="."+(100>l?"0":"")+c(l));if(b.zulu)e+="Z";else if("time"!=b.selector)var l=d.getTimezoneOffset(),a=Math.abs(l),e=e+((0<l?"-":"+")+c(Math.floor(a/60))+":"+c(a%60));f.push(e)}return f.join("T")};return d})},"dojo/number":function(){define(["./_base/lang","./i18n","./i18n!./cldr/nls/number","./string","./regexp"],function(h,k,d,g,b){var c={};h.setObject("dojo.number",c);c.format=function(b,e){e=h.mixin({},e||{});var a=k.normalizeLocale(e.locale),a=k.getLocalization("dojo.cldr",
"number",a);e.customs=a;a=e.pattern||a[(e.type||"decimal")+"Format"];return isNaN(b)||Infinity==Math.abs(b)?null:c._applyPattern(b,a,e)};c._numberPatternRE=/[#0,]*[#0](?:\.0*#*)?/;c._applyPattern=function(b,e,a){a=a||{};var m=a.customs.group,f=a.customs.decimal;e=e.split(";");var d=e[0];e=e[0>b?1:0]||"-"+d;if(-1!=e.indexOf("%"))b*=100;else if(-1!=e.indexOf("\u2030"))b*=1E3;else if(-1!=e.indexOf("\u00a4"))m=a.customs.currencyGroup||m,f=a.customs.currencyDecimal||f,e=e.replace(/\u00a4{1,3}/,function(b){return a[["symbol",
"currency","displayName"][b.length-1]]||a.currency||""});else if(-1!=e.indexOf("E"))throw Error("exponential notation not supported");var g=c._numberPatternRE,d=d.match(g);if(!d)throw Error("unable to find a number expression in pattern: "+e);!1===a.fractional&&(a.places=0);return e.replace(g,c._formatAbsolute(b,d[0],{decimal:f,group:m,places:a.places,round:a.round}))};c.round=function(b,c,a){a=10/(a||10);return(a*+b).toFixed(c)/a};if(0==(0.9).toFixed()){var f=c.round;c.round=function(b,c,a){var m=
Math.pow(10,-c||0),d=Math.abs(b);if(!b||d>=m)m=0;else if(d/=m,0.5>d||0.95<=d)m=0;return f(b,c,a)+(0<b?m:-m)}}c._formatAbsolute=function(b,e,a){a=a||{};!0===a.places&&(a.places=0);Infinity===a.places&&(a.places=6);e=e.split(".");var m="string"==typeof a.places&&a.places.indexOf(","),f=a.places;m?f=a.places.substring(m+1):0<=f||(f=(e[1]||[]).length);0>a.round||(b=c.round(b,f,a.round));b=String(Math.abs(b)).split(".");var d=b[1]||"";e[1]||a.places?(m&&(a.places=a.places.substring(0,m)),m=void 0!==a.places?
a.places:e[1]&&e[1].lastIndexOf("0")+1,m>d.length&&(b[1]=g.pad(d,m,"0",!0)),f<d.length&&(b[1]=d.substr(0,f))):b[1]&&b.pop();f=e[0].replace(",","");m=f.indexOf("0");-1!=m&&(m=f.length-m,m>b[0].length&&(b[0]=g.pad(b[0],m)),-1==f.indexOf("#")&&(b[0]=b[0].substr(b[0].length-m)));var f=e[0].lastIndexOf(","),t,q;-1!=f&&(t=e[0].length-f-1,e=e[0].substr(0,f),f=e.lastIndexOf(","),-1!=f&&(q=e.length-f-1));e=[];for(f=b[0];f;)m=f.length-t,e.push(0<m?f.substr(m):f),f=0<m?f.slice(0,m):"",q&&(t=q,delete q);b[0]=
e.reverse().join(a.group||",");return b.join(a.decimal||".")};c.regexp=function(b){return c._parseInfo(b).regexp};c._parseInfo=function(f){f=f||{};var e=k.normalizeLocale(f.locale),e=k.getLocalization("dojo.cldr","number",e),a=f.pattern||e[(f.type||"decimal")+"Format"],m=e.group,d=e.decimal,g=1;if(-1!=a.indexOf("%"))g/=100;else if(-1!=a.indexOf("\u2030"))g/=1E3;else{var t=-1!=a.indexOf("\u00a4");t&&(m=e.currencyGroup||m,d=e.currencyDecimal||d)}e=a.split(";");1==e.length&&e.push("-"+e[0]);e=b.buildGroupRE(e,
function(a){a="(?:"+b.escapeString(a,".")+")";return a.replace(c._numberPatternRE,function(a){var b={signed:!1,separator:f.strict?m:[m,""],fractional:f.fractional,decimal:d,exponent:!1};a=a.split(".");var e=f.places;1==a.length&&1!=g&&(a[1]="###");1==a.length||0===e?b.fractional=!1:(void 0===e&&(e=f.pattern?a[1].lastIndexOf("0")+1:Infinity),e&&void 0==f.fractional&&(b.fractional=!0),!f.places&&e<a[1].length&&(e+=","+a[1].length),b.places=e);a=a[0].split(",");1<a.length&&(b.groupSize=a.pop().length,
1<a.length&&(b.groupSize2=a.pop().length));return"("+c._realNumberRegexp(b)+")"})},!0);t&&(e=e.replace(/([\s\xa0]*)(\u00a4{1,3})([\s\xa0]*)/g,function(a,c,e,m){a=b.escapeString(f[["symbol","currency","displayName"][e.length-1]]||f.currency||"");c=c?"[\\s\\xa0]":"";m=m?"[\\s\\xa0]":"";return!f.strict?(c&&(c+="*"),m&&(m+="*"),"(?:"+c+a+m+")?"):c+a+m}));return{regexp:e.replace(/[\xa0 ]/g,"[\\s\\xa0]"),group:m,decimal:d,factor:g}};c.parse=function(b,e){var a=c._parseInfo(e),m=RegExp("^"+a.regexp+"$").exec(b);
if(!m)return NaN;var f=m[1];if(!m[1]){if(!m[2])return NaN;f=m[2];a.factor*=-1}f=f.replace(RegExp("["+a.group+"\\s\\xa0]","g"),"").replace(a.decimal,".");return f*a.factor};c._realNumberRegexp=function(f){f=f||{};"places"in f||(f.places=Infinity);"string"!=typeof f.decimal&&(f.decimal=".");if(!("fractional"in f)||/^0/.test(f.places))f.fractional=[!0,!1];"exponent"in f||(f.exponent=[!0,!1]);"eSigned"in f||(f.eSigned=[!0,!1]);var e=c._integerRegexp(f),a=b.buildGroupRE(f.fractional,function(a){var b=
"";a&&0!==f.places&&(b="\\"+f.decimal,b=Infinity==f.places?"(?:"+b+"\\d+)?":b+("\\d{"+f.places+"}"));return b},!0),m=b.buildGroupRE(f.exponent,function(a){return a?"([eE]"+c._integerRegexp({signed:f.eSigned})+")":""}),e=e+a;a&&(e="(?:(?:"+e+")|(?:"+a+"))");return e+m};c._integerRegexp=function(c){c=c||{};"signed"in c||(c.signed=[!0,!1]);"separator"in c?"groupSize"in c||(c.groupSize=3):c.separator="";var e=b.buildGroupRE(c.signed,function(a){return a?"[-+]":""},!0),a=b.buildGroupRE(c.separator,function(a){if(!a)return"(?:\\d+)";
a=b.escapeString(a);" "==a?a="\\s":"\u00a0"==a&&(a="\\s\\xa0");var e=c.groupSize,f=c.groupSize2;return f?(a="(?:0|[1-9]\\d{0,"+(f-1)+"}(?:["+a+"]\\d{"+f+"})*["+a+"]\\d{"+e+"})",0<e-f?"(?:"+a+"|(?:0|[1-9]\\d{0,"+(e-1)+"}))":a):"(?:0|[1-9]\\d{0,"+(e-1)+"}(?:["+a+"]\\d{"+e+"})*)"},!0);return e+a};return c})},"dojo/i18n":function(){define("./_base/kernel require ./has ./_base/array ./_base/config ./_base/lang ./_base/xhr ./json module".split(" "),function(h,k,d,g,b,c,f,l,e){d.add("dojo-preload-i18n-Api",
1);var a=h.i18n={},m=/(^.*(^|\/)nls)(\/|$)([^\/]*)\/?([^\/]*)/,n=function(a,b,c,e){var f=[c+e];b=b.split("-");for(var m="",d=0;d<b.length;d++)if(m+=(m?"-":"")+b[d],!a||a[m])f.push(c+m+"/"+e),f.specificity=m;return f},p={},t=function(a,b,c){c=c?c.toLowerCase():h.locale;a=a.replace(/\./g,"/");b=b.replace(/\./g,"/");return/root/i.test(c)?a+"/nls/"+b:a+"/nls/"+c+"/"+b},q=h.getL10nName=function(a,b,c){return e.id+"!"+t(a,b,c)},r=function(a,b,e,f,m,d){a([b],function(g){var l=c.clone(g.root||g.ROOT),q=n(!g._v1x&&
g,m,e,f);a(q,function(){for(var a=1;a<q.length;a++)l=c.mixin(c.clone(l),arguments[a]);p[b+"/"+m]=l;l.$locale=q.specificity;d()})})},s=function(a){var e=b.extraLocale||[],e=c.isArray(e)?e:[e];e.push(a);return e},v=function(a,b,e){if(d("dojo-preload-i18n-Api")){var f=a.split("*"),q="preload"==f[1];q&&(p[a]||(p[a]=1,A(f[2],l.parse(f[3]),1,b)),e(1));if(!(f=q))y&&x.push([a,b,e]),f=y;if(f)return}a=m.exec(a);var n=a[1]+"/",t=a[5]||a[4],k=n+t,f=(a=a[5]&&a[4])||h.locale||"",v=k+"/"+f;a=a?[f]:s(f);var w=a.length,
u=function(){--w||e(c.delegate(p[v]))};g.forEach(a,function(a){var c=k+"/"+a;d("dojo-preload-i18n-Api")&&C(c);p[c]?u():r(b,k,n,t,a,u)})};if(d("dojo-unit-tests"))var w=a.unitTests=[];d("dojo-preload-i18n-Api");var u=a.normalizeLocale=function(a){a=a?a.toLowerCase():h.locale;return"root"==a?"ROOT":a},y=0,x=[],A=a._preloadLocalizations=function(a,b,e,f){function m(a,b){f.isXdUrl(k.toUrl(a+".js"))||e?f([a],b):G([a],b,f)}function d(a,b){for(var c=a.split("-");c.length;){if(b(c.join("-")))return;c.pop()}b("ROOT")}
function l(){for(--y;!y&&x.length;)v.apply(null,x.shift())}function q(e){e=u(e);d(e,function(q){if(0<=g.indexOf(b,q)){var n=a.replace(/\./g,"/")+"_"+q;y++;m(n,function(a){for(var b in a){var m=a[b],g=b.match(/(.+)\/([^\/]+)$/),n;if(g){n=g[2];g=g[1]+"/";m._localized=m._localized||{};var t;if("ROOT"===q){var r=t=m._localized;delete m._localized;r.root=m;p[k.toAbsMid(b)]=r}else t=m._localized,p[k.toAbsMid(g+n+"/"+q)]=m;q!==e&&function(a,b,m,g){var q=[],n=[];d(e,function(c){g[c]&&(q.push(k.toAbsMid(a+
c+"/"+b)),n.push(k.toAbsMid(a+b+"/"+c)))});q.length?(y++,f(q,function(){for(var f=0;f<q.length;f++)m=c.mixin(c.clone(m),arguments[f]),p[n[f]]=m;p[k.toAbsMid(a+b+"/"+e)]=c.clone(m);l()})):p[k.toAbsMid(a+b+"/"+e)]=m}(g,n,m,t)}}l()});return!0}return!1})}f=f||k;q();g.forEach(h.config.extraLocale,q)},C=function(){},D={},E=new Function("__bundle","__checkForLegacyModules","__mid","__amdValue","var define \x3d function(mid, factory){define.called \x3d 1; __amdValue.result \x3d factory || mid;},\t   require \x3d function(){define.called \x3d 1;};try{define.called \x3d 0;eval(__bundle);if(define.called\x3d\x3d1)return __amdValue;if((__checkForLegacyModules \x3d __checkForLegacyModules(__mid)))return __checkForLegacyModules;}catch(e){}try{return eval('('+__bundle+')');}catch(e){return e;}"),
G=function(a,b,c){var e=[];g.forEach(a,function(a){function b(c){c=E(c,C,a,D);c===D?e.push(p[m]=D.result):(c instanceof Error&&(c={}),e.push(p[m]=/nls\/[^\/]+\/[^\/]+$/.test(m)?c:{root:c,_v1x:1}))}var m=c.toUrl(a+".js");if(p[m])e.push(p[m]);else{var d=c.syncLoadNls(a);if(d)e.push(d);else if(f)f.get({url:m,sync:!0,load:b,error:function(){e.push(p[m]={})}});else try{c.getText(m,!0,b)}catch(g){e.push(p[m]={})}}});b&&b.apply(null,e)},C=function(a){for(var b,c=a.split("/"),e=h.global[c[0]],f=1;e&&f<c.length-
1;e=e[c[f++]]);e&&((b=e[c[f]])||(b=e[c[f].replace(/-/g,"_")]),b&&(p[a]=b));return b};a.getLocalization=function(a,b,c){var e;a=t(a,b,c);v(a,!k.isXdUrl(k.toUrl(a+".js"))?function(a,b){G(a,b,k)}:k,function(a){e=a});return e};d("dojo-unit-tests")&&w.push(function(a){a.register("tests.i18n.unit",function(a){var b;b=E("{prop:1}",C,"nonsense",D);a.is({prop:1},b);a.is(void 0,b[1]);b=E("({prop:1})",C,"nonsense",D);a.is({prop:1},b);a.is(void 0,b[1]);b=E("{'prop-x':1}",C,"nonsense",D);a.is({"prop-x":1},b);
a.is(void 0,b[1]);b=E("({'prop-x':1})",C,"nonsense",D);a.is({"prop-x":1},b);a.is(void 0,b[1]);b=E("define({'prop-x':1})",C,"nonsense",D);a.is(D,b);a.is({"prop-x":1},D.result);b=E("define('some/module', {'prop-x':1})",C,"nonsense",D);a.is(D,b);a.is({"prop-x":1},D.result);b=E("this is total nonsense and should throw an error",C,"nonsense",D);a.is(b instanceof Error,!0)})});return c.mixin(a,{dynamic:!0,normalize:function(a,b){return/^\./.test(a)?b(a):a},load:v,cache:p,getL10nName:q})})},"dojo/string":function(){define(["./_base/kernel",
"./_base/lang"],function(h,k){var d=/[&<>'"\/]/g,g={"\x26":"\x26amp;","\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#x27;","/":"\x26#x2F;"},b={};k.setObject("dojo.string",b);b.escape=function(b){return!b?"":b.replace(d,function(b){return g[b]})};b.rep=function(b,f){if(0>=f||!b)return"";for(var d=[];;){f&1&&d.push(b);if(!(f>>=1))break;b+=b}return d.join("")};b.pad=function(c,f,d,e){d||(d="0");c=String(c);f=b.rep(d,Math.ceil((f-c.length)/d.length));return e?c+f:f+c};b.substitute=function(b,
f,d,e){e=e||h.global;d=d?k.hitch(e,d):function(a){return a};return b.replace(/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,function(a,b,c){a=k.getObject(b,!1,f);c&&(a=k.getObject(c,!1,e).call(e,a,b));return d(a,b).toString()})};b.trim=String.prototype.trim?k.trim:function(b){b=b.replace(/^\s+/,"");for(var f=b.length-1;0<=f;f--)if(/\S/.test(b.charAt(f))){b=b.substring(0,f+1);break}return b};return b})},"dojo/regexp":function(){define(["./_base/kernel","./_base/lang"],function(h,k){var d={};k.setObject("dojo.regexp",
d);d.escapeString=function(d,b){return d.replace(/([\.$?*|{}\(\)\[\]\\\/\+\-^])/g,function(c){return b&&-1!=b.indexOf(c)?c:"\\"+c})};d.buildGroupRE=function(g,b,c){if(!(g instanceof Array))return b(g);for(var f=[],l=0;l<g.length;l++)f.push(b(g[l]));return d.group(f.join("|"),c)};d.group=function(d,b){return"("+(b?"?:":"")+d+")"};return d})},"dojo/dnd/Source":function(){define("../_base/array ../_base/declare ../_base/kernel ../_base/lang ../dom-class ../dom-geometry ../mouse ../ready ../topic ./common ./Selector ./Manager".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n){d.isAsync||l(0,function(){require(["dojo/dnd/AutoSource","dojo/dnd/Target"])});var p=k("dojo.dnd.Source",m,{isSource:!0,horizontal:!1,copyOnly:!1,selfCopy:!1,selfAccept:!0,skipForm:!1,withHandles:!1,autoSync:!1,delay:0,accept:["text"],generateText:!0,constructor:function(a,c){g.mixin(this,g.mixin({},c));var f=this.accept;if(f.length){this.accept={};for(var m=0;m<f.length;++m)this.accept[f[m]]=1}this.mouseDown=this.isDragging=!1;this.targetBox=this.targetAnchor=null;
this.before=!0;this._lastY=this._lastX=0;this.sourceState="";this.isSource&&b.add(this.node,"dojoDndSource");this.targetState="";this.accept&&b.add(this.node,"dojoDndTarget");this.horizontal&&b.add(this.node,"dojoDndHorizontal");this.topics=[e.subscribe("/dnd/source/over",g.hitch(this,"onDndSourceOver")),e.subscribe("/dnd/start",g.hitch(this,"onDndStart")),e.subscribe("/dnd/drop",g.hitch(this,"onDndDrop")),e.subscribe("/dnd/cancel",g.hitch(this,"onDndCancel"))]},checkAcceptance:function(a,b){if(this==
a)return!this.copyOnly||this.selfAccept;for(var c=0;c<b.length;++c){for(var e=a.getItem(b[c].id).type,f=!1,m=0;m<e.length;++m)if(e[m]in this.accept){f=!0;break}if(!f)return!1}return!0},copyState:function(a,b){if(a)return!0;2>arguments.length&&(b=this==n.manager().target);if(b){if(this.copyOnly)return this.selfCopy}else return this.copyOnly;return!1},destroy:function(){p.superclass.destroy.call(this);h.forEach(this.topics,function(a){a.remove()});this.targetAnchor=null},onMouseMove:function(b){if(!(this.isDragging&&
"Disabled"==this.targetState)){p.superclass.onMouseMove.call(this,b);var e=n.manager();if(!this.isDragging&&this.mouseDown&&this.isSource&&(Math.abs(b.pageX-this._lastX)>this.delay||Math.abs(b.pageY-this._lastY)>this.delay)){var f=this.getSelectedNodes();f.length&&e.startDrag(this,f,this.copyState(a.getCopyKeyState(b),!0))}if(this.isDragging){f=!1;if(this.current){if(!this.targetBox||this.targetAnchor!=this.current)this.targetBox=c.position(this.current,!0);f=this.horizontal?b.pageX-this.targetBox.x<
this.targetBox.w/2==c.isBodyLtr(this.current.ownerDocument):b.pageY-this.targetBox.y<this.targetBox.h/2}if(this.current!=this.targetAnchor||f!=this.before)this._markTargetAnchor(f),e.canDrop(!this.current||e.source!=this||!(this.current.id in this.selection))}}},onMouseDown:function(b){if(!this.mouseDown&&this._legalMouseDown(b)&&(!this.skipForm||!a.isFormElement(b)))this.mouseDown=!0,this._lastX=b.pageX,this._lastY=b.pageY,p.superclass.onMouseDown.call(this,b)},onMouseUp:function(a){this.mouseDown&&
(this.mouseDown=!1,p.superclass.onMouseUp.call(this,a))},onDndSourceOver:function(a){this!==a?(this.mouseDown=!1,this.targetAnchor&&this._unmarkTargetAnchor()):this.isDragging&&(a=n.manager(),a.canDrop("Disabled"!=this.targetState&&(!this.current||a.source!=this||!(this.current.id in this.selection))))},onDndStart:function(a,b,c){this.autoSync&&this.sync();this.isSource&&this._changeState("Source",this==a?c?"Copied":"Moved":"");b=this.accept&&this.checkAcceptance(a,b);this._changeState("Target",b?
"":"Disabled");this==a&&n.manager().overSource(this);this.isDragging=!0},onDndDrop:function(a,b,c,e){if(this==e)this.onDrop(a,b,c);this.onDndCancel()},onDndCancel:function(){this.targetAnchor&&(this._unmarkTargetAnchor(),this.targetAnchor=null);this.before=!0;this.mouseDown=this.isDragging=!1;this._changeState("Source","");this._changeState("Target","")},onDrop:function(a,b,c){if(this!=a)this.onDropExternal(a,b,c);else this.onDropInternal(b,c)},onDropExternal:function(b,c,e){var f=this._normalizedCreator;
this._normalizedCreator=this.creator?function(a,c){return f.call(this,b.getItem(a.id).data,c)}:e?function(c){var e=b.getItem(c.id);c=c.cloneNode(!0);c.id=a.getUniqueId();return{node:c,data:e.data,type:e.type}}:function(a){var c=b.getItem(a.id);b.delItem(a.id);return{node:a,data:c.data,type:c.type}};this.selectNone();!e&&!this.creator&&b.selectNone();this.insertNodes(!0,c,this.before,this.current);!e&&this.creator&&b.deleteSelectedNodes();this._normalizedCreator=f},onDropInternal:function(b,c){var e=
this._normalizedCreator;if(!(this.current&&this.current.id in this.selection)){if(c)this._normalizedCreator=this.creator?function(a,b){return e.call(this,this.getItem(a.id).data,b)}:function(b){var c=this.getItem(b.id);b=b.cloneNode(!0);b.id=a.getUniqueId();return{node:b,data:c.data,type:c.type}};else{if(!this.current)return;this._normalizedCreator=function(a){var b=this.getItem(a.id);return{node:a,data:b.data,type:b.type}}}this._removeSelection();this.insertNodes(!0,b,this.before,this.current);this._normalizedCreator=
e}},onDraggingOver:function(){},onDraggingOut:function(){},onOverEvent:function(){p.superclass.onOverEvent.call(this);n.manager().overSource(this);if(this.isDragging&&"Disabled"!=this.targetState)this.onDraggingOver()},onOutEvent:function(){p.superclass.onOutEvent.call(this);n.manager().outSource(this);if(this.isDragging&&"Disabled"!=this.targetState)this.onDraggingOut()},_markTargetAnchor:function(a){this.current==this.targetAnchor&&this.before==a||(this.targetAnchor&&this._removeItemClass(this.targetAnchor,
this.before?"Before":"After"),this.targetAnchor=this.current,this.targetBox=null,this.before=a,this.targetAnchor&&this._addItemClass(this.targetAnchor,this.before?"Before":"After"))},_unmarkTargetAnchor:function(){this.targetAnchor&&(this._removeItemClass(this.targetAnchor,this.before?"Before":"After"),this.targetBox=this.targetAnchor=null,this.before=!0)},_markDndStatus:function(a){this._changeState("Source",a?"Copied":"Moved")},_legalMouseDown:function(a){if("touchstart"!=a.type&&!f.isLeft(a))return!1;
if(!this.withHandles)return!0;for(a=a.target;a&&a!==this.node;a=a.parentNode){if(b.contains(a,"dojoDndHandle"))return!0;if(b.contains(a,"dojoDndItem")||b.contains(a,"dojoDndIgnore"))break}return!1}});return p})},"dojo/dnd/common":function(){define(["../sniff","../_base/kernel","../_base/lang","../dom"],function(h,k,d,g){var b=d.getObject("dojo.dnd",!0);b.getCopyKeyState=function(b){return b[h("mac")?"metaKey":"ctrlKey"]};b._uniqueId=0;b.getUniqueId=function(){var c;do c=k._scopeName+"Unique"+ ++b._uniqueId;
while(g.byId(c));return c};b._empty={};b.isFormElement=function(b){b=b.target;3==b.nodeType&&(b=b.parentNode);return 0<=" a button textarea input select option ".indexOf(" "+b.tagName.toLowerCase()+" ")};return b})},"dojo/dnd/Selector":function(){define("../_base/array ../_base/declare ../_base/kernel ../_base/lang ../dom ../dom-construct ../mouse ../_base/NodeList ../on ../touch ./common ./Container".split(" "),function(h,k,d,g,b,c,f,l,e,a,m,n){var p=k("dojo.dnd.Selector",n,{constructor:function(b,
c){c||(c={});this.singular=c.singular;this.autoSync=c.autoSync;this.selection={};this.anchor=null;this.simpleSelection=!1;this.events.push(e(this.node,a.press,g.hitch(this,"onMouseDown")),e(this.node,a.release,g.hitch(this,"onMouseUp")))},singular:!1,getSelectedNodes:function(){var a=new l,c=m._empty,e;for(e in this.selection)e in c||a.push(b.byId(e));return a},selectNone:function(){return this._removeSelection()._removeAnchor()},selectAll:function(){this.forInItems(function(a,c){this._addItemClass(b.byId(c),
"Selected");this.selection[c]=1},this);return this._removeAnchor()},deleteSelectedNodes:function(){var a=m._empty,e;for(e in this.selection)if(!(e in a)){var f=b.byId(e);this.delItem(e);c.destroy(f)}this.anchor=null;this.selection={};return this},forInSelectedItems:function(a,b){b=b||d.global;var c=this.selection,e=m._empty,f;for(f in c)f in e||a.call(b,this.getItem(f),f,this)},sync:function(){p.superclass.sync.call(this);this.anchor&&!this.getItem(this.anchor.id)&&(this.anchor=null);var a=[],b=m._empty,
c;for(c in this.selection)c in b||this.getItem(c)||a.push(c);h.forEach(a,function(a){delete this.selection[a]},this);return this},insertNodes:function(a,b,c,e){var f=this._normalizedCreator;this._normalizedCreator=function(b,c){var e=f.call(this,b,c);a?(this.anchor?this.anchor!=e.node&&(this._removeItemClass(e.node,"Anchor"),this._addItemClass(e.node,"Selected")):(this.anchor=e.node,this._removeItemClass(e.node,"Selected"),this._addItemClass(this.anchor,"Anchor")),this.selection[e.node.id]=1):(this._removeItemClass(e.node,
"Selected"),this._removeItemClass(e.node,"Anchor"));return e};p.superclass.insertNodes.call(this,b,c,e);this._normalizedCreator=f;return this},destroy:function(){p.superclass.destroy.call(this);this.selection=this.anchor=null},onMouseDown:function(a){this.autoSync&&this.sync();if(this.current)if(!this.singular&&!m.getCopyKeyState(a)&&!a.shiftKey&&this.current.id in this.selection)this.simpleSelection=!0,f.isLeft(a)&&(a.stopPropagation(),a.preventDefault());else{if(!this.singular&&a.shiftKey){m.getCopyKeyState(a)||
this._removeSelection();var b=this.getAllNodes();if(b.length&&(this.anchor||(this.anchor=b[0],this._addItemClass(this.anchor,"Anchor")),this.selection[this.anchor.id]=1,this.anchor!=this.current)){for(var c=0,e;c<b.length&&!(e=b[c],e==this.anchor||e==this.current);++c);for(++c;c<b.length;++c){e=b[c];if(e==this.anchor||e==this.current)break;this._addItemClass(e,"Selected");this.selection[e.id]=1}this._addItemClass(this.current,"Selected");this.selection[this.current.id]=1}}else this.singular?this.anchor==
this.current?m.getCopyKeyState(a)&&this.selectNone():(this.selectNone(),this.anchor=this.current,this._addItemClass(this.anchor,"Anchor"),this.selection[this.current.id]=1):m.getCopyKeyState(a)?this.anchor==this.current?(delete this.selection[this.anchor.id],this._removeAnchor()):this.current.id in this.selection?(this._removeItemClass(this.current,"Selected"),delete this.selection[this.current.id]):(this.anchor&&(this._removeItemClass(this.anchor,"Anchor"),this._addItemClass(this.anchor,"Selected")),
this.anchor=this.current,this._addItemClass(this.current,"Anchor"),this.selection[this.current.id]=1):this.current.id in this.selection||(this.selectNone(),this.anchor=this.current,this._addItemClass(this.current,"Anchor"),this.selection[this.current.id]=1);a.stopPropagation();a.preventDefault()}},onMouseUp:function(){this.simpleSelection&&(this.simpleSelection=!1,this.selectNone(),this.current&&(this.anchor=this.current,this._addItemClass(this.anchor,"Anchor"),this.selection[this.current.id]=1))},
onMouseMove:function(){this.simpleSelection=!1},onOverEvent:function(){this.onmousemoveEvent=e(this.node,a.move,g.hitch(this,"onMouseMove"))},onOutEvent:function(){this.onmousemoveEvent&&(this.onmousemoveEvent.remove(),delete this.onmousemoveEvent)},_removeSelection:function(){var a=m._empty,c;for(c in this.selection)if(!(c in a)){var e=b.byId(c);e&&this._removeItemClass(e,"Selected")}this.selection={};return this},_removeAnchor:function(){this.anchor&&(this._removeItemClass(this.anchor,"Anchor"),
this.anchor=null);return this}});return p})},"dojo/touch":function(){define("./_base/kernel ./aspect ./dom ./dom-class ./_base/lang ./on ./has ./mouse ./domReady ./_base/window".split(" "),function(h,k,d,g,b,c,f,l,e,a){function m(a,b,e){return q&&e?function(a,b){return c(a,e,b)}:s?function(e,f){var m=c(e,b,function(a){f.call(this,a);G=(new Date).getTime()}),d=c(e,a,function(a){(!G||(new Date).getTime()>G+1E3)&&f.call(this,a)});return{remove:function(){m.remove();d.remove()}}}:function(b,e){return c(b,
a,e)}}function n(a){do if(void 0!==a.dojoClick)return a;while(a=a.parentNode)}function p(b,e,f){if(!l.isRight(b)){var m=n(b.target);if(w=!b.target.disabled&&m&&m.dojoClick)if(y=(u="useTarget"==w)?m:b.target,u&&b.preventDefault(),x=b.changedTouches?b.changedTouches[0].pageX-a.global.pageXOffset:b.clientX,A=b.changedTouches?b.changedTouches[0].pageY-a.global.pageYOffset:b.clientY,C=("object"==typeof w?w.x:"number"==typeof w?w:0)||4,D=("object"==typeof w?w.y:"number"==typeof w?w:0)||4,!v){v=!0;var q=
function(b){w=u?d.isDescendant(a.doc.elementFromPoint(b.changedTouches?b.changedTouches[0].pageX-a.global.pageXOffset:b.clientX,b.changedTouches?b.changedTouches[0].pageY-a.global.pageYOffset:b.clientY),y):w&&(b.changedTouches?b.changedTouches[0].target:b.target)==y&&Math.abs((b.changedTouches?b.changedTouches[0].pageX-a.global.pageXOffset:b.clientX)-x)<=C&&Math.abs((b.changedTouches?b.changedTouches[0].pageY-a.global.pageYOffset:b.clientY)-A)<=D};a.doc.addEventListener(e,function(a){l.isRight(a)||
(q(a),u&&a.preventDefault())},!0);a.doc.addEventListener(f,function(a){if(!l.isRight(a)&&(q(a),w)){E=(new Date).getTime();var b=u?y:a.target;"LABEL"===b.tagName&&(b=d.byId(b.getAttribute("for"))||b);var e=a.changedTouches?a.changedTouches[0]:a,f=function(b){var c=document.createEvent("MouseEvents");c._dojo_click=!0;c.initMouseEvent(b,!0,!0,a.view,a.detail,e.screenX,e.screenY,e.clientX,e.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,0,null);return c},m=f("mousedown"),g=f("mouseup"),n=f("click");
setTimeout(function(){c.emit(b,"mousedown",m);c.emit(b,"mouseup",g);c.emit(b,"click",n);E=(new Date).getTime()},0)}},!0);b=function(b){a.doc.addEventListener(b,function(a){var c=a.target;if(w&&(!a._dojo_click&&(new Date).getTime()<=E+1E3&&!("INPUT"==c.tagName&&g.contains(c,"dijitOffScreen")))&&(a.stopPropagation(),a.stopImmediatePropagation&&a.stopImmediatePropagation(),"click"==b&&("INPUT"!=c.tagName||"radio"==c.type&&(g.contains(c,"dijitCheckBoxInput")||g.contains(c,"mblRadioButton"))||"checkbox"==
c.type&&(g.contains(c,"dijitCheckBoxInput")||g.contains(c,"mblCheckBox")))&&"TEXTAREA"!=c.tagName&&"AUDIO"!=c.tagName&&"VIDEO"!=c.tagName)){var e=null;try{if("A"==c.tagName){for(;(c=c.parentElement)&&!c.classList.contains("dijitMenu")&&!c.classList.contains("dijitButtonNode"););e=c}}catch(f){}e||a.preventDefault()}},!0)};b("click");b("mousedown");b("mouseup")}}}var t=5>f("ios"),q=f("pointer-events")||f("MSPointer"),r=function(){var a={},b;for(b in{down:1,move:1,up:1,cancel:1,over:1,out:1})a[b]=f("MSPointer")?
"MSPointer"+b.charAt(0).toUpperCase()+b.slice(1):"pointer"+b;return a}(),s=f("touch-events"),v,w,u=!1,y,x,A,C,D,E,G,H;f("touch")&&(q?e(function(){a.doc.addEventListener(r.down,function(a){p(a,r.move,r.up)},!0)}):e(function(){function e(a){var c=b.delegate(a,{bubbles:!0});6<=f("ios")&&(c.touches=a.touches,c.altKey=a.altKey,c.changedTouches=a.changedTouches,c.ctrlKey=a.ctrlKey,c.metaKey=a.metaKey,c.shiftKey=a.shiftKey,c.targetTouches=a.targetTouches);return c}H=a.body();a.doc.addEventListener("touchstart",
function(a){G=(new Date).getTime();var b=H;H=a.target;c.emit(b,"dojotouchout",{relatedTarget:H,bubbles:!0});c.emit(H,"dojotouchover",{relatedTarget:b,bubbles:!0});p(a,"touchmove","touchend")},!0);c(a.doc,"touchmove",function(b){G=(new Date).getTime();var f=a.doc.elementFromPoint(b.pageX-(t?0:a.global.pageXOffset),b.pageY-(t?0:a.global.pageYOffset));f&&(H!==f&&(c.emit(H,"dojotouchout",{relatedTarget:f,bubbles:!0}),c.emit(f,"dojotouchover",{relatedTarget:H,bubbles:!0}),H=f),c.emit(f,"dojotouchmove",
e(b))||b.preventDefault())});c(a.doc,"touchend",function(b){G=(new Date).getTime();var f=a.doc.elementFromPoint(b.pageX-(t?0:a.global.pageXOffset),b.pageY-(t?0:a.global.pageYOffset))||a.body();c.emit(f,"dojotouchend",e(b))})}));k={press:m("mousedown","touchstart",r.down),move:m("mousemove","dojotouchmove",r.move),release:m("mouseup","dojotouchend",r.up),cancel:m(l.leave,"touchcancel",q?r.cancel:null),over:m("mouseover","dojotouchover",r.over),out:m("mouseout","dojotouchout",r.out),enter:l._eventHandler(m("mouseover",
"dojotouchover",r.over)),leave:l._eventHandler(m("mouseout","dojotouchout",r.out))};return h.touch=k})},"dojo/dnd/Container":function(){define("../_base/array ../_base/declare ../_base/kernel ../_base/lang ../_base/window ../dom ../dom-class ../dom-construct ../Evented ../has ../on ../query ../touch ./common".split(" "),function(h,k,d,g,b,c,f,l,e,a,m,n,p,t){k=k("dojo.dnd.Container",e,{skipForm:!1,allowNested:!1,constructor:function(a,b){this.node=c.byId(a);b||(b={});this.creator=b.creator||null;this.skipForm=
b.skipForm;this.parent=b.dropParent&&c.byId(b.dropParent);this.map={};this.current=null;this.containerState="";f.add(this.node,"dojoDndContainer");(!b||!b._skipStartup)&&this.startup();this.events=[m(this.node,p.over,g.hitch(this,"onMouseOver")),m(this.node,p.out,g.hitch(this,"onMouseOut")),m(this.node,"dragstart",g.hitch(this,"onSelectStart")),m(this.node,"selectstart",g.hitch(this,"onSelectStart"))]},creator:function(){},getItem:function(a){return this.map[a]},setItem:function(a,b){this.map[a]=
b},delItem:function(a){delete this.map[a]},forInItems:function(a,b){b=b||d.global;var c=this.map,e=t._empty,f;for(f in c)f in e||a.call(b,c[f],f,this);return b},clearItems:function(){this.map={}},getAllNodes:function(){return n((this.allowNested?"":"\x3e ")+".dojoDndItem",this.parent)},sync:function(){var a={};this.getAllNodes().forEach(function(b){if(b.id){var c=this.getItem(b.id);if(c){a[b.id]=c;return}}else b.id=t.getUniqueId();var c=b.getAttribute("dndType"),e=b.getAttribute("dndData");a[b.id]=
{data:e||b.innerHTML,type:c?c.split(/\s*,\s*/):["text"]}},this);this.map=a;return this},insertNodes:function(a,b,c){this.parent.firstChild?b?c||(c=this.parent.firstChild):c&&(c=c.nextSibling):c=null;var e;if(c)for(b=0;b<a.length;++b)e=this._normalizedCreator(a[b]),this.setItem(e.node.id,{data:e.data,type:e.type}),c.parentNode.insertBefore(e.node,c);else for(b=0;b<a.length;++b)e=this._normalizedCreator(a[b]),this.setItem(e.node.id,{data:e.data,type:e.type}),this.parent.appendChild(e.node);return this},
destroy:function(){h.forEach(this.events,function(a){a.remove()});this.clearItems();this.node=this.parent=this.current=null},markupFactory:function(a,b,c){a._skipStartup=!0;return new c(b,a)},startup:function(){if(!this.parent&&(this.parent=this.node,"table"==this.parent.tagName.toLowerCase())){var a=this.parent.getElementsByTagName("tbody");a&&a.length&&(this.parent=a[0])}this.defaultCreator=t._defaultCreator(this.parent);this.sync()},onMouseOver:function(a){for(var b=a.relatedTarget;b&&b!=this.node;)try{b=
b.parentNode}catch(c){b=null}b||(this._changeState("Container","Over"),this.onOverEvent());b=this._getChildByEvent(a);this.current!=b&&(this.current&&this._removeItemClass(this.current,"Over"),b&&this._addItemClass(b,"Over"),this.current=b)},onMouseOut:function(a){for(a=a.relatedTarget;a;){if(a==this.node)return;try{a=a.parentNode}catch(b){a=null}}this.current&&(this._removeItemClass(this.current,"Over"),this.current=null);this._changeState("Container","");this.onOutEvent()},onSelectStart:function(a){if(!this.skipForm||
!t.isFormElement(a))a.stopPropagation(),a.preventDefault()},onOverEvent:function(){},onOutEvent:function(){},_changeState:function(a,b){var c="dojoDnd"+a,e=a.toLowerCase()+"State";f.replace(this.node,c+b,c+this[e]);this[e]=b},_addItemClass:function(a,b){f.add(a,"dojoDndItem"+b)},_removeItemClass:function(a,b){f.remove(a,"dojoDndItem"+b)},_getChildByEvent:function(a){if(a=a.target)for(var b=a.parentNode;b;a=b,b=a.parentNode)if((b==this.parent||this.allowNested)&&f.contains(a,"dojoDndItem"))return a;
return null},_normalizedCreator:function(a,b){var c=(this.creator||this.defaultCreator).call(this,a,b);g.isArray(c.type)||(c.type=["text"]);c.node.id||(c.node.id=t.getUniqueId());f.add(c.node,"dojoDndItem");return c}});t._createNode=function(a){return!a?t._createSpan:function(b){return l.create(a,{innerHTML:b})}};t._createTrTd=function(a){var b=l.create("tr");l.create("td",{innerHTML:a},b);return b};t._createSpan=function(a){return l.create("span",{innerHTML:a})};t._defaultCreatorNodes={ul:"li",ol:"li",
div:"div",p:"div"};t._defaultCreator=function(a){a=a.tagName.toLowerCase();var b="tbody"==a||"thead"==a?t._createTrTd:t._createNode(t._defaultCreatorNodes[a]);return function(a,c){var e=a&&g.isObject(a),f,m;e&&a.tagName&&a.nodeType&&a.getAttribute?(f=a.getAttribute("dndData")||a.innerHTML,e=(e=a.getAttribute("dndType"))?e.split(/\s*,\s*/):["text"],m=a):(f=e&&a.data?a.data:a,e=e&&a.type?a.type:["text"],m=("avatar"==c?t._createSpan:b)(String(f)));m.id||(m.id=t.getUniqueId());return{node:m,data:f,type:e}}};
return k})},"dojo/dnd/Manager":function(){define("../_base/array ../_base/declare ../_base/lang ../_base/window ../dom-class ../Evented ../has ../keys ../on ../topic ../touch ./common ./autoscroll ./Avatar".split(" "),function(h,k,d,g,b,c,f,l,e,a,m,n,p,t){var q=k("dojo.dnd.Manager",[c],{constructor:function(){this.source=this.avatar=null;this.nodes=[];this.copy=!0;this.target=null;this.canDropFlag=!1;this.events=[]},OFFSET_X:f("touch")?0:16,OFFSET_Y:f("touch")?-64:16,overSource:function(b){this.avatar&&
(this.target=b&&"Disabled"!=b.targetState?b:null,this.canDropFlag=Boolean(this.target),this.avatar.update());a.publish("/dnd/source/over",b)},outSource:function(b){this.avatar?this.target==b&&(this.target=null,this.canDropFlag=!1,this.avatar.update(),a.publish("/dnd/source/over",null)):a.publish("/dnd/source/over",null)},startDrag:function(c,f,l){function n(a){a.preventDefault();a.stopPropagation()}p.autoScrollStart(g.doc);this.source=c;this.nodes=f;this.copy=Boolean(l);this.avatar=this.makeAvatar();
g.body().appendChild(this.avatar.node);a.publish("/dnd/start",c,f,this.copy);this.events=[e(g.doc,m.move,d.hitch(this,"onMouseMove")),e(g.doc,m.release,d.hitch(this,"onMouseUp")),e(g.doc,"keydown",d.hitch(this,"onKeyDown")),e(g.doc,"keyup",d.hitch(this,"onKeyUp")),e(g.doc,"dragstart",n),e(g.body(),"selectstart",n)];b.add(g.body(),"dojoDnd"+(l?"Copy":"Move"))},canDrop:function(a){a=Boolean(this.target&&a);this.canDropFlag!=a&&(this.canDropFlag=a,this.avatar.update())},stopDrag:function(){b.remove(g.body(),
["dojoDndCopy","dojoDndMove"]);h.forEach(this.events,function(a){a.remove()});this.events=[];this.avatar.destroy();this.source=this.target=this.avatar=null;this.nodes=[]},makeAvatar:function(){return new t(this)},updateAvatar:function(){this.avatar.update()},onMouseMove:function(a){var b=this.avatar;b&&(p.autoScrollNodes(a),b=b.node.style,b.left=a.pageX+this.OFFSET_X+"px",b.top=a.pageY+this.OFFSET_Y+"px",b=Boolean(this.source.copyState(n.getCopyKeyState(a))),this.copy!=b&&this._setCopyStatus(b));
f("touch")&&a.preventDefault()},onMouseUp:function(b){if(this.avatar){if(this.target&&this.canDropFlag){var c=Boolean(this.source.copyState(n.getCopyKeyState(b)));a.publish("/dnd/drop/before",this.source,this.nodes,c,this.target,b);a.publish("/dnd/drop",this.source,this.nodes,c,this.target,b)}else a.publish("/dnd/cancel");this.stopDrag()}},onKeyDown:function(b){if(this.avatar)switch(b.keyCode){case l.CTRL:b=Boolean(this.source.copyState(!0));this.copy!=b&&this._setCopyStatus(b);break;case l.ESCAPE:a.publish("/dnd/cancel"),
this.stopDrag()}},onKeyUp:function(a){this.avatar&&a.keyCode==l.CTRL&&(a=Boolean(this.source.copyState(!1)),this.copy!=a&&this._setCopyStatus(a))},_setCopyStatus:function(a){this.copy=a;this.source._markDndStatus(this.copy);this.updateAvatar();b.replace(g.body(),"dojoDnd"+(this.copy?"Copy":"Move"),"dojoDnd"+(this.copy?"Move":"Copy"))}});n._manager=null;q.manager=n.manager=function(){n._manager||(n._manager=new q);return n._manager};return q})},"dojo/dnd/autoscroll":function(){define("../_base/lang ../sniff ../_base/window ../dom-geometry ../dom-style ../window".split(" "),
function(h,k,d,g,b,c){var f={};h.setObject("dojo.dnd.autoscroll",f);f.getViewport=c.getBox;f.V_TRIGGER_AUTOSCROLL=32;f.H_TRIGGER_AUTOSCROLL=32;f.V_AUTOSCROLL_VALUE=16;f.H_AUTOSCROLL_VALUE=16;var l,e=d.doc,a=Infinity,m=Infinity;f.autoScrollStart=function(b){e=b;l=c.getBox(e);b=d.body(e).parentNode;a=Math.max(b.scrollHeight-l.h,0);m=Math.max(b.scrollWidth-l.w,0)};f.autoScroll=function(b){var g=l||c.getBox(e),h=d.body(e).parentNode,q=0,k=0;b.clientX<f.H_TRIGGER_AUTOSCROLL?q=-f.H_AUTOSCROLL_VALUE:b.clientX>
g.w-f.H_TRIGGER_AUTOSCROLL&&(q=Math.min(f.H_AUTOSCROLL_VALUE,m-h.scrollLeft));b.clientY<f.V_TRIGGER_AUTOSCROLL?k=-f.V_AUTOSCROLL_VALUE:b.clientY>g.h-f.V_TRIGGER_AUTOSCROLL&&(k=Math.min(f.V_AUTOSCROLL_VALUE,a-h.scrollTop));window.scrollBy(q,k)};f._validNodes={div:1,p:1,td:1};f._validOverflow={auto:1,scroll:1};f.autoScrollNodes=function(a){for(var c,e,m,l,h,v,w=0,u=0,y=a.target;y;){if(1==y.nodeType&&y.tagName.toLowerCase()in f._validNodes){m=b.getComputedStyle(y);l=m.overflow.toLowerCase()in f._validOverflow;
h=m.overflowX.toLowerCase()in f._validOverflow;v=m.overflowY.toLowerCase()in f._validOverflow;if(l||h||v)c=g.getContentBox(y,m),e=g.position(y,!0);if(l||h){m=Math.min(f.H_TRIGGER_AUTOSCROLL,c.w/2);h=a.pageX-e.x;if(k("webkit")||k("opera"))h+=d.body().scrollLeft;w=0;0<h&&h<c.w&&(h<m?w=-m:h>c.w-m&&(w=m),y.scrollLeft+=w)}if(l||v){l=Math.min(f.V_TRIGGER_AUTOSCROLL,c.h/2);v=a.pageY-e.y;if(k("webkit")||k("opera"))v+=d.body().scrollTop;u=0;0<v&&v<c.h&&(v<l?u=-l:v>c.h-l&&(u=l),y.scrollTop+=u)}if(w||u)return}try{y=
y.parentNode}catch(x){y=null}}f.autoScroll(a)};return f})},"dojo/window":function(){define("./_base/lang ./sniff ./_base/window ./dom ./dom-geometry ./dom-style ./dom-construct".split(" "),function(h,k,d,g,b,c,f){k.add("rtl-adjust-position-for-verticalScrollBar",function(c,a){var m=d.body(a),g=f.create("div",{style:{overflow:"scroll",overflowX:"visible",direction:"rtl",visibility:"hidden",position:"absolute",left:"0",top:"0",width:"64px",height:"64px"}},m,"last"),l=f.create("div",{style:{overflow:"hidden",
direction:"ltr"}},g,"last"),h=0!=b.position(l).x;g.removeChild(l);m.removeChild(g);return h});k.add("position-fixed-support",function(c,a){var m=d.body(a),g=f.create("span",{style:{visibility:"hidden",position:"fixed",left:"1px",top:"1px"}},m,"last"),l=f.create("span",{style:{position:"fixed",left:"0",top:"0"}},g,"last"),h=b.position(l).x!=b.position(g).x;g.removeChild(l);m.removeChild(g);return h});var l={getBox:function(c){c=c||d.doc;var a="BackCompat"==c.compatMode?d.body(c):c.documentElement,
f=b.docScroll(c);if(k("touch")){var g=l.get(c);c=g.innerWidth||a.clientWidth;a=g.innerHeight||a.clientHeight}else c=a.clientWidth,a=a.clientHeight;return{l:f.x,t:f.y,w:c,h:a}},get:function(b){if(k("ie")&&l!==document.parentWindow){b.parentWindow.execScript("document._parentWindow \x3d window;","Javascript");var a=b._parentWindow;b._parentWindow=null;return a}return b.parentWindow||b.defaultView},scrollIntoView:function(e,a){try{e=g.byId(e);var f=e.ownerDocument||d.doc,l=d.body(f),p=f.documentElement||
l.parentNode,h=k("ie"),q=k("webkit");if(!(e==l||e==p))if(!k("mozilla")&&(!h&&!q&&!k("opera")&&!k("trident"))&&"scrollIntoView"in e)e.scrollIntoView(!1);else{var r="BackCompat"==f.compatMode,s=Math.min(l.clientWidth||p.clientWidth,p.clientWidth||l.clientWidth),v=Math.min(l.clientHeight||p.clientHeight,p.clientHeight||l.clientHeight),f=q||r?l:p,w=a||b.position(e),u=e.parentNode,q=function(a){return 6>=h||7==h&&r?!1:k("position-fixed-support")&&"fixed"==c.get(a,"position").toLowerCase()},y=this,x=function(a,
b,c){"BODY"==a.tagName||"HTML"==a.tagName?y.get(a.ownerDocument).scrollBy(b,c):(b&&(a.scrollLeft+=b),c&&(a.scrollTop+=c))};if(!q(e))for(;u;){u==l&&(u=f);var A=b.position(u),C=q(u),D="rtl"==c.getComputedStyle(u).direction.toLowerCase();if(u==f){A.w=s;A.h=v;if(f==p&&(h||k("trident"))&&D)A.x+=f.offsetWidth-A.w;if(0>A.x||!h||9<=h||k("trident"))A.x=0;if(0>A.y||!h||9<=h||k("trident"))A.y=0}else{var E=b.getPadBorderExtents(u);A.w-=E.w;A.h-=E.h;A.x+=E.l;A.y+=E.t;var G=u.clientWidth,H=A.w-G;0<G&&0<H&&(D&&
k("rtl-adjust-position-for-verticalScrollBar")&&(A.x+=H),A.w=G);G=u.clientHeight;H=A.h-G;0<G&&0<H&&(A.h=G)}C&&(0>A.y&&(A.h+=A.y,A.y=0),0>A.x&&(A.w+=A.x,A.x=0),A.y+A.h>v&&(A.h=v-A.y),A.x+A.w>s&&(A.w=s-A.x));var M=w.x-A.x,J=w.y-A.y,S=M+w.w-A.w,W=J+w.h-A.h,X,K;if(0<S*M&&(u.scrollLeft||u==f||u.scrollWidth>u.offsetHeight)){X=Math[0>M?"max":"min"](M,S);if(D&&(8==h&&!r||9<=h||k("trident")))X=-X;K=u.scrollLeft;x(u,X,0);X=u.scrollLeft-K;w.x-=X}if(0<W*J&&(u.scrollTop||u==f||u.scrollHeight>u.offsetHeight))X=
Math.ceil(Math[0>J?"max":"min"](J,W)),K=u.scrollTop,x(u,0,X),X=u.scrollTop-K,w.y-=X;u=u!=f&&!C&&u.parentNode}}}catch(Q){e.scrollIntoView(!1)}}};h.setObject("dojo.window",l);return l})},"dojo/dnd/Avatar":function(){define("../_base/declare ../_base/window ../dom ../dom-attr ../dom-class ../dom-construct ../hccss ../query".split(" "),function(h,k,d,g,b,c,f,l){return h("dojo.dnd.Avatar",null,{constructor:function(b){this.manager=b;this.construct()},construct:function(){var b=c.create("table",{"class":"dojoDndAvatar",
style:{position:"absolute",zIndex:"1999",margin:"0px"}}),a=this.manager.source,m,d=c.create("tbody",null,b),l=c.create("tr",null,d),h=c.create("td",null,l),q=Math.min(5,this.manager.nodes.length),k=0;f("highcontrast")&&c.create("span",{id:"a11yIcon",innerHTML:this.manager.copy?"+":"\x3c"},h);c.create("span",{innerHTML:a.generateText?this._generateText():""},h);for(g.set(l,{"class":"dojoDndAvatarHeader",style:{opacity:0.9}});k<q;++k)a.creator?m=a._normalizedCreator(a.getItem(this.manager.nodes[k].id).data,
"avatar").node:(m=this.manager.nodes[k].cloneNode(!0),"tr"==m.tagName.toLowerCase()&&(l=c.create("table"),c.create("tbody",null,l).appendChild(m),m=l)),m.id="",l=c.create("tr",null,d),h=c.create("td",null,l),h.appendChild(m),g.set(l,{"class":"dojoDndAvatarItem",style:{opacity:(9-k)/10}});this.node=b},destroy:function(){c.destroy(this.node);this.node=!1},update:function(){b.toggle(this.node,"dojoDndAvatarCanDrop",this.manager.canDropFlag);if(f("highcontrast")){var c=d.byId("a11yIcon"),a="+";this.manager.canDropFlag&&
!this.manager.copy?a="\x3c ":!this.manager.canDropFlag&&!this.manager.copy?a="o":this.manager.canDropFlag||(a="x");c.innerHTML=a}l("tr.dojoDndAvatarHeader td span"+(f("highcontrast")?" span":""),this.node).forEach(function(a){a.innerHTML=this.manager.source.generateText?this._generateText():""},this)},_generateText:function(){return this.manager.nodes.length.toString()}})})},"dojo/hccss":function(){define("require ./_base/config ./dom-class ./dom-style ./has ./domReady ./_base/window".split(" "),
function(h,k,d,g,b,c,f){b.add("highcontrast",function(){var c=f.doc.createElement("div");c.style.cssText='border: 1px solid; border-color:red green; position: absolute; height: 5px; top: -999px;background-image: url("'+(k.blankGif||h.toUrl("./resources/blank.gif"))+'");';f.body().appendChild(c);var e=g.getComputedStyle(c),a=e.backgroundImage,e=e.borderTopColor==e.borderRightColor||a&&("none"==a||"url(invalid-url:)"==a);8>=b("ie")?c.outerHTML="":f.body().removeChild(c);return e});c(function(){b("highcontrast")&&
d.add(f.body(),"dj_a11y")});return b})},"dojo/fx":function(){define("./_base/lang ./Evented ./_base/kernel ./_base/array ./aspect ./_base/fx ./dom ./dom-style ./dom-geometry ./ready require".split(" "),function(h,k,d,g,b,c,f,l,e,a,m){d.isAsync||a(0,function(){m(["./fx/Toggler"])});d=d.fx={};a={_fire:function(a,b){this[a]&&this[a].apply(this,b||[]);return this}};var n=function(a){this._index=-1;this._animations=a||[];this._current=this._onAnimateCtx=this._onEndCtx=null;this.duration=0;g.forEach(this._animations,
function(a){this.duration+=a.duration;a.delay&&(this.duration+=a.delay)},this)};n.prototype=new k;h.extend(n,{_onAnimate:function(){this._fire("onAnimate",arguments)},_onEnd:function(){this._onAnimateCtx.remove();this._onEndCtx.remove();this._onAnimateCtx=this._onEndCtx=null;this._index+1==this._animations.length?this._fire("onEnd"):(this._current=this._animations[++this._index],this._onAnimateCtx=b.after(this._current,"onAnimate",h.hitch(this,"_onAnimate"),!0),this._onEndCtx=b.after(this._current,
"onEnd",h.hitch(this,"_onEnd"),!0),this._current.play(0,!0))},play:function(a,c){this._current||(this._current=this._animations[this._index=0]);if(!c&&"playing"==this._current.status())return this;var e=b.after(this._current,"beforeBegin",h.hitch(this,function(){this._fire("beforeBegin")}),!0),f=b.after(this._current,"onBegin",h.hitch(this,function(a){this._fire("onBegin",arguments)}),!0),m=b.after(this._current,"onPlay",h.hitch(this,function(a){this._fire("onPlay",arguments);e.remove();f.remove();
m.remove()}));this._onAnimateCtx&&this._onAnimateCtx.remove();this._onAnimateCtx=b.after(this._current,"onAnimate",h.hitch(this,"_onAnimate"),!0);this._onEndCtx&&this._onEndCtx.remove();this._onEndCtx=b.after(this._current,"onEnd",h.hitch(this,"_onEnd"),!0);this._current.play.apply(this._current,arguments);return this},pause:function(){if(this._current){var a=b.after(this._current,"onPause",h.hitch(this,function(b){this._fire("onPause",arguments);a.remove()}),!0);this._current.pause()}return this},
gotoPercent:function(a,b){this.pause();var c=this.duration*a;this._current=null;g.some(this._animations,function(a,b){if(c<=a.duration)return this._current=a,this._index=b,!0;c-=a.duration;return!1},this);this._current&&this._current.gotoPercent(c/this._current.duration);b&&this.play();return this},stop:function(a){if(this._current){if(a){for(;this._index+1<this._animations.length;++this._index)this._animations[this._index].stop(!0);this._current=this._animations[this._index]}var c=b.after(this._current,
"onStop",h.hitch(this,function(a){this._fire("onStop",arguments);c.remove()}),!0);this._current.stop()}return this},status:function(){return this._current?this._current.status():"stopped"},destroy:function(){this.stop();this._onAnimateCtx&&this._onAnimateCtx.remove();this._onEndCtx&&this._onEndCtx.remove()}});h.extend(n,a);d.chain=function(a){return new n(a)};var p=function(a){this._animations=a||[];this._connects=[];this.duration=this._finished=0;g.forEach(a,function(a){var c=a.duration;a.delay&&
(c+=a.delay);this.duration<c&&(this.duration=c);this._connects.push(b.after(a,"onEnd",h.hitch(this,"_onEnd"),!0))},this);this._pseudoAnimation=new c.Animation({curve:[0,1],duration:this.duration});var e=this;g.forEach("beforeBegin onBegin onPlay onAnimate onPause onStop onEnd".split(" "),function(a){e._connects.push(b.after(e._pseudoAnimation,a,function(){e._fire(a,arguments)},!0))})};h.extend(p,{_doAction:function(a,b){g.forEach(this._animations,function(c){c[a].apply(c,b)});return this},_onEnd:function(){++this._finished>
this._animations.length&&this._fire("onEnd")},_call:function(a,b){var c=this._pseudoAnimation;c[a].apply(c,b)},play:function(a,b){this._finished=0;this._doAction("play",arguments);this._call("play",arguments);return this},pause:function(){this._doAction("pause",arguments);this._call("pause",arguments);return this},gotoPercent:function(a,b){var c=this.duration*a;g.forEach(this._animations,function(a){a.gotoPercent(a.duration<c?1:c/a.duration,b)});this._call("gotoPercent",arguments);return this},stop:function(a){this._doAction("stop",
arguments);this._call("stop",arguments);return this},status:function(){return this._pseudoAnimation.status()},destroy:function(){this.stop();g.forEach(this._connects,function(a){a.remove()})}});h.extend(p,a);d.combine=function(a){return new p(a)};d.wipeIn=function(a){var e=a.node=f.byId(a.node),m=e.style,d;a=c.animateProperty(h.mixin({properties:{height:{start:function(){d=m.overflow;m.overflow="hidden";if("hidden"==m.visibility||"none"==m.display)return m.height="1px",m.display="",m.visibility="",
1;var a=l.get(e,"height");return Math.max(a,1)},end:function(){return e.scrollHeight}}}},a));var g=function(){m.height="auto";m.overflow=d};b.after(a,"onStop",g,!0);b.after(a,"onEnd",g,!0);return a};d.wipeOut=function(a){var e=(a.node=f.byId(a.node)).style,m;a=c.animateProperty(h.mixin({properties:{height:{end:1}}},a));b.after(a,"beforeBegin",function(){m=e.overflow;e.overflow="hidden";e.display=""},!0);var d=function(){e.overflow=m;e.height="auto";e.display="none"};b.after(a,"onStop",d,!0);b.after(a,
"onEnd",d,!0);return a};d.slideTo=function(a){var m=null,d=null,g=function(a){return function(){var b=l.getComputedStyle(a),c=b.position;m="absolute"==c?a.offsetTop:parseInt(b.top)||0;d="absolute"==c?a.offsetLeft:parseInt(b.left)||0;"absolute"!=c&&"relative"!=c&&(b=e.position(a,!0),m=b.y,d=b.x,a.style.position="absolute",a.style.top=m+"px",a.style.left=d+"px")}}(a.node=f.byId(a.node));g();a=c.animateProperty(h.mixin({properties:{top:a.top||0,left:a.left||0}},a));b.after(a,"beforeBegin",g,!0);return a};
return d})},"dojo/fx/Toggler":function(){define(["../_base/lang","../_base/declare","../_base/fx","../aspect"],function(h,k,d,g){return k("dojo.fx.Toggler",null,{node:null,showFunc:d.fadeIn,hideFunc:d.fadeOut,showDuration:200,hideDuration:200,constructor:function(b){h.mixin(this,b);this.node=b.node;this._showArgs=h.mixin({},b);this._showArgs.node=this.node;this._showArgs.duration=this.showDuration;this.showAnim=this.showFunc(this._showArgs);this._hideArgs=h.mixin({},b);this._hideArgs.node=this.node;
this._hideArgs.duration=this.hideDuration;this.hideAnim=this.hideFunc(this._hideArgs);g.after(this.showAnim,"beforeBegin",h.hitch(this.hideAnim,"stop",!0),!0);g.after(this.hideAnim,"beforeBegin",h.hitch(this.showAnim,"stop",!0),!0)},show:function(b){return this.showAnim.play(b||0)},hide:function(b){return this.hideAnim.play(b||0)}})})},"dojo/io/iframe":function(){define("../_base/config ../_base/json ../_base/kernel ../_base/lang ../_base/xhr ../sniff ../_base/window ../dom ../dom-construct ../query require ../aspect ../request/iframe".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p){d.deprecated("dojo/io/iframe","Use dojo/request/iframe.","2.0");c=p._iframeName;c=c.substring(0,c.lastIndexOf("_"));var t=g.delegate(p,{create:function(){return t._frame=p.create.apply(p,arguments)},get:null,post:null,send:function(a){var c,e=b._ioSetArgs(a,function(a){c&&c.cancel()},function(a){var b=null;a=a.ioArgs;try{var e=a.handleAs;"xml"===e||"html"===e?b=c.response.data:(b=c.response.text,"json"===e?b=k.fromJson(b):"javascript"===e&&(b=d.eval(b)))}catch(f){b=
f}return b},function(a,b){b.ioArgs._hasError=!0;return a}),f=e.ioArgs,m="GET",g=l.byId(a.form);a.method&&("POST"===a.method.toUpperCase()&&g)&&(m="POST");a={method:m,handleAs:"json"===a.handleAs||"javascript"===a.handleAs?"text":a.handleAs,form:a.form,query:g?null:a.content,data:g?a.content:null,timeout:a.timeout,ioArgs:f};a.method&&(a.method=a.method.toUpperCase());if(h.ioPublish&&d.publish&&!1!==f.args.ioPublish)var t=n.after(p,"_notifyStart",function(a){a.options.ioArgs===f&&(t.remove(),b._ioNotifyStart(e))},
!0);c=p(f.url,a,!0);f._callNext=c._callNext;c.then(function(){e.resolve(e)}).otherwise(function(a){e.ioArgs.error=a;e.reject(a)});return e},_iframeOnload:f.global[c+"_onload"]});g.setObject("dojo.io.iframe",t);return t})},"dojo/request/iframe":function(){define("module require ./watch ./util ./handlers ../_base/lang ../io-query ../query ../has ../dom ../dom-construct ../_base/window ../NodeList-dom".split(" "),function(h,k,d,g,b,c,f,l,e,a,m,n){function p(a){return!this.isFulfilled()}function t(a){return!!this._finished}
function q(a,e){if(!e)try{var f=a.options,m=s.doc(s._frame),d=f.handleAs;if("html"!==d){if("xml"===d)if("html"===m.documentElement.tagName.toLowerCase()){l("a",m.documentElement).orphan();var g=m.documentElement.innerText,g=g.replace(/>\s+</g,"\x3e\x3c");a.text=c.trim(g)}else a.data=m;else a.text=m.getElementsByTagName("textarea")[0].value;b(a)}else a.data=m}catch(n){e=n}e?this.reject(e):this._finished?this.resolve(a):this.reject(Error("Invalid dojo/request/iframe request state"))}function r(a){this._callNext()}
function s(a,b,c){var e=g.parseArgs(a,g.deepCreate(u,b),!0);a=e.url;b=e.options;if("GET"!==b.method&&"POST"!==b.method)throw Error(b.method+" not supported by dojo/request/iframe");s._frame||(s._frame=s.create(s._iframeName,w+"();"));a=g.deferred(e,null,p,t,q,r);a._callNext=function(){this._calledNext||(this._calledNext=!0,s._currentDfd=null,s._fireNextRequest())};a._legacy=c;s._dfdQueue.push(a);s._fireNextRequest();d(a);return c?a:a.promise}var v=h.id.replace(/[\/\.\-]/g,"_"),w=v+"_onload";n.global[w]||
(n.global[w]=function(){var b=s._currentDfd;if(b){var c=a.byId(b.response.options.form)||b._tmpForm;if(c){for(var e=b._contentToClean,f=0;f<e.length;f++)for(var d=e[f],g=0;g<c.childNodes.length;g++){var l=c.childNodes[g];if(l.name===d){m.destroy(l);break}}b._originalAction&&c.setAttribute("action",b._originalAction);b._originalMethod&&(c.setAttribute("method",b._originalMethod),c.method=b._originalMethod);b._originalTarget&&(c.setAttribute("target",b._originalTarget),c.target=b._originalTarget)}b._tmpForm&&
(m.destroy(b._tmpForm),delete b._tmpForm);b._finished=!0}else s._fireNextRequest()});var u={method:"POST"};s.create=function(a,b,c){if(n.global[a])return n.global[a];if(n.global.frames[a])return n.global.frames[a];c||(e("config-useXDomain")&&e("config-dojoBlankHtmlUrl"),c=e("config-dojoBlankHtmlUrl")||k.toUrl("dojo/resources/blank.html"));b=m.place('\x3ciframe id\x3d"'+a+'" name\x3d"'+a+'" src\x3d"'+c+'" onload\x3d"'+b+'" style\x3d"position: absolute; left: 1px; top: 1px; height: 1px; width: 1px; visibility: hidden"\x3e',
n.body());return n.global[a]=b};s.doc=function(a){if(a.contentDocument)return a.contentDocument;var b=a.name;if(b){var c=n.doc.getElementsByTagName("iframe");if(a.document&&c[b].contentWindow&&c[b].contentWindow.document)return c[b].contentWindow.document;if(n.doc.frames[b]&&n.doc.frames[b].document)return n.doc.frames[b].document}return null};s.setSrc=function(a,b,c){a=n.global.frames[a.name];a.contentWindow&&(a=a.contentWindow);try{c?a.location.replace(b):a.location=b}catch(e){}};s._iframeName=
v+"_IoIframe";s._notifyStart=function(){};s._dfdQueue=[];s._currentDfd=null;s._fireNextRequest=function(){var b;try{if(!s._currentDfd&&s._dfdQueue.length){do b=s._currentDfd=s._dfdQueue.shift();while(b&&(b.canceled||b.isCanceled&&b.isCanceled())&&s._dfdQueue.length);if(!b||b.canceled||b.isCanceled&&b.isCanceled())s._currentDfd=null;else{var e=b.response,d=e.options,l=b._contentToClean=[],p=a.byId(d.form),h=g.notify,q=d.data||null,k;!b._legacy&&"POST"===d.method&&!p?p=b._tmpForm=m.create("form",{name:v+
"_form",style:{position:"absolute",top:"-1000px",left:"-1000px"}},n.body()):"GET"===d.method&&(p&&-1<e.url.indexOf("?"))&&(k=e.url.slice(e.url.indexOf("?")+1),q=c.mixin(f.queryToObject(k),q));if(p){if(!b._legacy){var t=p;do t=t.parentNode;while(t&&t!==n.doc.documentElement);t||(p.style.position="absolute",p.style.left="-1000px",p.style.top="-1000px",n.body().appendChild(p));p.name||(p.name=v+"_form")}if(q){var t=function(a,b){m.create("input",{type:"hidden",name:a,value:b},p);l.push(a)},r;for(r in q){var w=
q[r];if(c.isArray(w)&&1<w.length)for(k=0;k<w.length;k++)t(r,w[k]);else p[r]?p[r].value=w:t(r,w)}}var u=p.getAttributeNode("action"),X=p.getAttributeNode("method"),K=p.getAttributeNode("target");e.url&&(b._originalAction=u?u.value:null,u?u.value=e.url:p.setAttribute("action",e.url));if(b._legacy){if(!X||!X.value)X?X.value=d.method:p.setAttribute("method",d.method)}else b._originalMethod=X?X.value:null,X?X.value=d.method:p.setAttribute("method",d.method);b._originalTarget=K?K.value:null;K?K.value=s._iframeName:
p.setAttribute("target",s._iframeName);p.target=s._iframeName;h&&h.emit("send",e,b.promise.cancel);s._notifyStart(e);p.submit()}else d="",e.options.data&&(d=e.options.data,"string"!==typeof d&&(d=f.objectToQuery(d))),t=e.url+(-1<e.url.indexOf("?")?"\x26":"?")+d,h&&h.emit("send",e,b.promise.cancel),s._notifyStart(e),s.setSrc(s._frame,t,!0)}}}catch(Q){b.reject(Q)}};g.addCommonMethods(s,["GET","POST"]);return s})},"dojo/data/ItemFileReadStore":function(){define("../_base/kernel ../_base/lang ../_base/declare ../_base/array ../_base/xhr ../Evented ./util/filter ./util/simpleFetch ../date/stamp".split(" "),
function(h,k,d,g,b,c,f,l,e){d=d("dojo.data.ItemFileReadStore",[c],{constructor:function(a){this._arrayOfAllItems=[];this._arrayOfTopLevelItems=[];this._loadFinished=!1;this.url=this._ccUrl=this._jsonFileUrl=a.url;this._jsonData=a.data;this.data=null;this._datatypeMap=a.typeMap||{};this._datatypeMap.Date||(this._datatypeMap.Date={type:Date,deserialize:function(a){return e.fromISOString(a)}});this._features={"dojo.data.api.Read":!0,"dojo.data.api.Identity":!0};this._itemsByIdentity=null;this._storeRefPropName=
"_S";this._itemNumPropName="_0";this._rootItemPropName="_RI";this._reverseRefMap="_RRM";this._loadInProgress=!1;this._queuedFetches=[];void 0!==a.urlPreventCache&&(this.urlPreventCache=a.urlPreventCache?!0:!1);void 0!==a.hierarchical&&(this.hierarchical=a.hierarchical?!0:!1);a.clearOnClose&&(this.clearOnClose=!0);"failOk"in a&&(this.failOk=a.failOk?!0:!1)},url:"",_ccUrl:"",data:null,typeMap:null,clearOnClose:!1,urlPreventCache:!1,failOk:!1,hierarchical:!0,_assertIsItem:function(a){if(!this.isItem(a))throw Error(this.declaredClass+
": Invalid item argument.");},_assertIsAttribute:function(a){if("string"!==typeof a)throw Error(this.declaredClass+": Invalid attribute argument.");},getValue:function(a,b,c){a=this.getValues(a,b);return 0<a.length?a[0]:c},getValues:function(a,b){this._assertIsItem(a);this._assertIsAttribute(b);return(a[b]||[]).slice(0)},getAttributes:function(a){this._assertIsItem(a);var b=[],c;for(c in a)c!==this._storeRefPropName&&(c!==this._itemNumPropName&&c!==this._rootItemPropName&&c!==this._reverseRefMap)&&
b.push(c);return b},hasAttribute:function(a,b){this._assertIsItem(a);this._assertIsAttribute(b);return b in a},containsValue:function(a,b,c){var e=void 0;"string"===typeof c&&(e=f.patternToRegExp(c,!1));return this._containsValue(a,b,c,e)},_containsValue:function(a,b,c,e){return g.some(this.getValues(a,b),function(a){if(null!==a&&!k.isObject(a)&&e){if(a.toString().match(e))return!0}else if(c===a)return!0})},isItem:function(a){return a&&a[this._storeRefPropName]===this&&this._arrayOfAllItems[a[this._itemNumPropName]]===
a?!0:!1},isItemLoaded:function(a){return this.isItem(a)},loadItem:function(a){this._assertIsItem(a.item)},getFeatures:function(){return this._features},getLabel:function(a){if(this._labelAttr&&this.isItem(a))return this.getValue(a,this._labelAttr)},getLabelAttributes:function(a){return this._labelAttr?[this._labelAttr]:null},filter:function(a,b,c){var e=[],d,g;if(a.query){var l;d=a.queryOptions?a.queryOptions.ignoreCase:!1;var h={};for(g in a.query)l=a.query[g],"string"===typeof l?h[g]=f.patternToRegExp(l,
d):l instanceof RegExp&&(h[g]=l);for(d=0;d<b.length;++d){var k=!0,w=b[d];if(null===w)k=!1;else for(g in a.query)l=a.query[g],this._containsValue(w,g,l,h[g])||(k=!1);k&&e.push(w)}}else for(d=0;d<b.length;++d)g=b[d],null!==g&&e.push(g);c(e,a)},_fetchItems:function(a,c,e){var f=this;if(this._loadFinished)this.filter(a,this._getItemsArray(a.queryOptions),c);else if(this._jsonFileUrl!==this._ccUrl?(h.deprecated(this.declaredClass+": ","To change the url, set the url property of the store, not _jsonFileUrl.  _jsonFileUrl support will be removed in 2.0"),
this.url=this._ccUrl=this._jsonFileUrl):this.url!==this._ccUrl&&(this._ccUrl=this._jsonFileUrl=this.url),null!=this.data&&(this._jsonData=this.data,this.data=null),this._jsonFileUrl)if(this._loadInProgress)this._queuedFetches.push({args:a,filter:k.hitch(f,"filter"),findCallback:k.hitch(f,c)});else{this._loadInProgress=!0;var d=b.get({url:f._jsonFileUrl,handleAs:"json-comment-optional",preventCache:this.urlPreventCache,failOk:this.failOk});d.addCallback(function(b){try{f._getItemsFromLoadedData(b),
f._loadFinished=!0,f._loadInProgress=!1,f.filter(a,f._getItemsArray(a.queryOptions),c),f._handleQueuedFetches()}catch(d){f._loadFinished=!0,f._loadInProgress=!1,e(d,a)}});d.addErrback(function(b){f._loadInProgress=!1;e(b,a)});var g=null;a.abort&&(g=a.abort);a.abort=function(){d&&-1===d.fired&&d.cancel();g&&g.call(a)}}else if(this._jsonData)try{this._loadFinished=!0,this._getItemsFromLoadedData(this._jsonData),this._jsonData=null,f.filter(a,this._getItemsArray(a.queryOptions),c)}catch(l){e(l,a)}else e(Error(this.declaredClass+
": No JSON source data was provided as either URL or a nested Javascript object."),a)},_handleQueuedFetches:function(){if(0<this._queuedFetches.length){for(var a=0;a<this._queuedFetches.length;a++){var b=this._queuedFetches[a],c=b.args,e=b.filter,b=b.findCallback;e?e(c,this._getItemsArray(c.queryOptions),b):this.fetchItemByIdentity(c)}this._queuedFetches=[]}},_getItemsArray:function(a){return a&&a.deep?this._arrayOfAllItems:this._arrayOfTopLevelItems},close:function(a){this.clearOnClose&&(this._loadFinished&&
!this._loadInProgress)&&(this._arrayOfAllItems=[],this._arrayOfTopLevelItems=[],this._loadFinished=!1,this._itemsByIdentity=null,this._loadInProgress=!1,this._queuedFetches=[])},_getItemsFromLoadedData:function(a){function b(a){return null!==a&&"object"===typeof a&&(!k.isArray(a)||e)&&!k.isFunction(a)&&(a.constructor==Object||k.isArray(a))&&"undefined"===typeof a._reference&&"undefined"===typeof a._type&&"undefined"===typeof a._value&&f.hierarchical}function c(a){f._arrayOfAllItems.push(a);for(var e in a){var d=
a[e];if(d)if(k.isArray(d))for(var g=0;g<d.length;++g){var l=d[g];b(l)&&c(l)}else b(d)&&c(d)}}var e=!1,f=this;this._labelAttr=a.label;var d,g;this._arrayOfAllItems=[];this._arrayOfTopLevelItems=a.items;for(d=0;d<this._arrayOfTopLevelItems.length;++d)g=this._arrayOfTopLevelItems[d],k.isArray(g)&&(e=!0),c(g),g[this._rootItemPropName]=!0;var l={},h;for(d=0;d<this._arrayOfAllItems.length;++d)for(h in g=this._arrayOfAllItems[d],g){if(h!==this._rootItemPropName){var w=g[h];null!==w?k.isArray(w)||(g[h]=[w]):
g[h]=[null]}l[h]=h}for(;l[this._storeRefPropName];)this._storeRefPropName+="_";for(;l[this._itemNumPropName];)this._itemNumPropName+="_";for(;l[this._reverseRefMap];)this._reverseRefMap+="_";if(l=a.identifier){this._itemsByIdentity={};this._features["dojo.data.api.Identity"]=l;for(d=0;d<this._arrayOfAllItems.length;++d)if(g=this._arrayOfAllItems[d],a=g[l],a=a[0],Object.hasOwnProperty.call(this._itemsByIdentity,a)){if(this._jsonFileUrl)throw Error(this.declaredClass+":  The json data as specified by: ["+
this._jsonFileUrl+"] is malformed.  Items within the list have identifier: ["+l+"].  Value collided: ["+a+"]");if(this._jsonData)throw Error(this.declaredClass+":  The json data provided by the creation arguments is malformed.  Items within the list have identifier: ["+l+"].  Value collided: ["+a+"]");}else this._itemsByIdentity[a]=g}else this._features["dojo.data.api.Identity"]=Number;for(d=0;d<this._arrayOfAllItems.length;++d)g=this._arrayOfAllItems[d],g[this._storeRefPropName]=this,g[this._itemNumPropName]=
d;for(d=0;d<this._arrayOfAllItems.length;++d)for(h in g=this._arrayOfAllItems[d],g){a=g[h];for(l=0;l<a.length;++l)if(w=a[l],null!==w&&"object"==typeof w){if("_type"in w&&"_value"in w){var u=w._type,y=this._datatypeMap[u];if(y)if(k.isFunction(y))a[l]=new y(w._value);else if(k.isFunction(y.deserialize))a[l]=y.deserialize(w._value);else throw Error("dojo.data.ItemFileReadStore: Value provided in typeMap was neither a constructor, nor a an object with a deserialize function");else throw Error("dojo.data.ItemFileReadStore: in the typeMap constructor arg, no object class was specified for the datatype '"+
u+"'");}if(w._reference){w=w._reference;if(k.isObject(w))for(u=0;u<this._arrayOfAllItems.length;++u){var y=this._arrayOfAllItems[u],x=!0,A;for(A in w)y[A]!=w[A]&&(x=!1);x&&(a[l]=y)}else a[l]=this._getItemByIdentity(w);this.referenceIntegrity&&(w=a[l],this.isItem(w)&&this._addReferenceToMap(w,g,h))}else this.isItem(w)&&this.referenceIntegrity&&this._addReferenceToMap(w,g,h)}}},_addReferenceToMap:function(a,b,c){},getIdentity:function(a){var b=this._features["dojo.data.api.Identity"];return b===Number?
a[this._itemNumPropName]:(a=a[b])?a[0]:null},fetchItemByIdentity:function(a){var c,e;if(this._loadFinished)c=this._getItemByIdentity(a.identity),a.onItem&&(e=a.scope?a.scope:h.global,a.onItem.call(e,c));else{var f=this;this._jsonFileUrl!==this._ccUrl?(h.deprecated(this.declaredClass+": ","To change the url, set the url property of the store, not _jsonFileUrl.  _jsonFileUrl support will be removed in 2.0"),this.url=this._ccUrl=this._jsonFileUrl):this.url!==this._ccUrl&&(this._ccUrl=this._jsonFileUrl=
this.url);null!=this.data&&null==this._jsonData&&(this._jsonData=this.data,this.data=null);this._jsonFileUrl?this._loadInProgress?this._queuedFetches.push({args:a}):(this._loadInProgress=!0,e=b.get({url:f._jsonFileUrl,handleAs:"json-comment-optional",preventCache:this.urlPreventCache,failOk:this.failOk}),e.addCallback(function(b){var e=a.scope?a.scope:h.global;try{f._getItemsFromLoadedData(b),f._loadFinished=!0,f._loadInProgress=!1,c=f._getItemByIdentity(a.identity),a.onItem&&a.onItem.call(e,c),f._handleQueuedFetches()}catch(d){f._loadInProgress=
!1,a.onError&&a.onError.call(e,d)}}),e.addErrback(function(b){f._loadInProgress=!1;a.onError&&a.onError.call(a.scope?a.scope:h.global,b)})):this._jsonData&&(f._getItemsFromLoadedData(f._jsonData),f._jsonData=null,f._loadFinished=!0,c=f._getItemByIdentity(a.identity),a.onItem&&(e=a.scope?a.scope:h.global,a.onItem.call(e,c)))}},_getItemByIdentity:function(a){var b=null;this._itemsByIdentity?Object.hasOwnProperty.call(this._itemsByIdentity,a)&&(b=this._itemsByIdentity[a]):Object.hasOwnProperty.call(this._arrayOfAllItems,
a)&&(b=this._arrayOfAllItems[a]);void 0===b&&(b=null);return b},getIdentityAttributes:function(a){a=this._features["dojo.data.api.Identity"];return a===Number?null:[a]},_forceLoad:function(){var a=this;this._jsonFileUrl!==this._ccUrl?(h.deprecated(this.declaredClass+": ","To change the url, set the url property of the store, not _jsonFileUrl.  _jsonFileUrl support will be removed in 2.0"),this.url=this._ccUrl=this._jsonFileUrl):this.url!==this._ccUrl&&(this._ccUrl=this._jsonFileUrl=this.url);null!=
this.data&&(this._jsonData=this.data,this.data=null);if(this._jsonFileUrl){var c=b.get({url:this._jsonFileUrl,handleAs:"json-comment-optional",preventCache:this.urlPreventCache,failOk:this.failOk,sync:!0});c.addCallback(function(b){try{if(!0!==a._loadInProgress&&!a._loadFinished)a._getItemsFromLoadedData(b),a._loadFinished=!0;else if(a._loadInProgress)throw Error(this.declaredClass+":  Unable to perform a synchronous load, an async load is in progress.");}catch(c){throw c;}});c.addErrback(function(a){throw a;
})}else this._jsonData&&(a._getItemsFromLoadedData(a._jsonData),a._jsonData=null,a._loadFinished=!0)}});k.extend(d,l);return d})},"dojo/data/util/filter":function(){define(["../../_base/lang"],function(h){var k={};h.setObject("dojo.data.util.filter",k);k.patternToRegExp=function(d,g){for(var b="^",c=null,f=0;f<d.length;f++)switch(c=d.charAt(f),c){case "\\":b+=c;f++;b+=d.charAt(f);break;case "*":b+=".*";break;case "?":b+=".";break;case "$":case "^":case "/":case "+":case ".":case "|":case "(":case ")":case "{":case "}":case "[":case "]":b+=
"\\";default:b+=c}b+="$";return g?RegExp(b,"mi"):RegExp(b,"m")};return k})},"dojo/data/util/simpleFetch":function(){define(["../../_base/lang","../../_base/kernel","./sorter"],function(h,k,d){var g={};h.setObject("dojo.data.util.simpleFetch",g);g.errorHandler=function(b,c){c.onError&&c.onError.call(c.scope||k.global,b,c)};g.fetchHandler=function(b,c){var f=c.abort||null,g=!1,e=c.start?c.start:0,a=c.count&&Infinity!==c.count?e+c.count:b.length;c.abort=function(){g=!0;f&&f.call(c)};var m=c.scope||k.global;
c.store||(c.store=this);c.onBegin&&c.onBegin.call(m,b.length,c);c.sort&&b.sort(d.createSortFunction(c.sort,this));if(c.onItem)for(var n=e;n<b.length&&n<a;++n){var p=b[n];g||c.onItem.call(m,p,c)}c.onComplete&&!g&&(n=null,c.onItem||(n=b.slice(e,a)),c.onComplete.call(m,n,c))};g.fetch=function(b){b=b||{};b.store||(b.store=this);this._fetchItems(b,h.hitch(this,"fetchHandler"),h.hitch(this,"errorHandler"));return b};return g})},"dojo/data/util/sorter":function(){define(["../../_base/lang"],function(h){var k=
{};h.setObject("dojo.data.util.sorter",k);k.basicComparator=function(d,g){var b=-1;null===d&&(d=void 0);null===g&&(g=void 0);if(d==g)b=0;else if(d>g||null==d)b=1;return b};k.createSortFunction=function(d,g){function b(a,b,c,e){return function(f,d){var m=e.getValue(f,a),g=e.getValue(d,a);return b*c(m,g)}}for(var c=[],f,l=g.comparatorMap,e=k.basicComparator,a=0;a<d.length;a++){f=d[a];var m=f.attribute;if(m){f=f.descending?-1:1;var n=e;l&&("string"!==typeof m&&"toString"in m&&(m=m.toString()),n=l[m]||
e);c.push(b(m,f,n,g))}}return function(a,b){for(var e=0;e<c.length;){var f=c[e++](a,b);if(0!==f)return f}return 0}};return k})},"dojo/cookie":function(){define(["./_base/kernel","./regexp"],function(h,k){h.cookie=function(d,g,b){var c=document.cookie,f;if(1==arguments.length)f=(f=c.match(RegExp("(?:^|; )"+k.escapeString(d)+"\x3d([^;]*)")))?decodeURIComponent(f[1]):void 0;else{b=b||{};c=b.expires;if("number"==typeof c){var l=new Date;l.setTime(l.getTime()+864E5*c);c=b.expires=l}c&&c.toUTCString&&(b.expires=
c.toUTCString());g=encodeURIComponent(g);var c=d+"\x3d"+g,e;for(e in b)c+="; "+e,l=b[e],!0!==l&&(c+="\x3d"+l);document.cookie=c}return f};h.cookie.isSupported=function(){"cookieEnabled"in navigator||(this("__djCookieTest__","CookiesAllowed"),navigator.cookieEnabled="CookiesAllowed"==this("__djCookieTest__"),navigator.cookieEnabled&&this("__djCookieTest__","",{expires:-1}));return navigator.cookieEnabled};return h.cookie})},"dojo/dnd/AutoSource":function(){define(["../_base/declare","./Source"],function(h,
k){return h("dojo.dnd.AutoSource",k,{constructor:function(){this.autoSync=!0}})})},"dojo/dnd/Target":function(){define(["../_base/declare","../dom-class","./Source"],function(h,k,d){return h("dojo.dnd.Target",d,{constructor:function(){this.isSource=!1;k.remove(this.node,"dojoDndSource")}})})},"dojo/NodeList-html":function(){define(["./query","./_base/lang","./html"],function(h,k,d){h=h.NodeList;k.extend(h,{html:function(g,b){var c=new d._ContentSetter(b||{});this.forEach(function(b){c.node=b;c.set(g);
c.tearDown()});return this}});return h})},"dojo/html":function(){define("./_base/kernel ./_base/lang ./_base/array ./_base/declare ./dom ./dom-construct ./parser".split(" "),function(h,k,d,g,b,c,f){var l=0,e={_secureForInnerHtml:function(a){return a.replace(/(?:\s*<!DOCTYPE\s[^>]+>|<title[^>]*>[\s\S]*?<\/title>)/ig,"")},_emptyNode:c.empty,_setNodeContent:function(a,b){c.empty(a);if(b)if("string"==typeof b&&(b=c.toDom(b,a.ownerDocument)),!b.nodeType&&k.isArrayLike(b))for(var e=b.length,f=0;f<b.length;f=
e==b.length?f+1:0)c.place(b[f],a,"last");else c.place(b,a,"last");return a},_ContentSetter:g("dojo.html._ContentSetter",null,{node:"",content:"",id:"",cleanContent:!1,extractContent:!1,parseContent:!1,parserScope:h._scopeName,startup:!0,constructor:function(a,c){k.mixin(this,a||{});c=this.node=b.byId(this.node||c);this.id||(this.id=["Setter",c?c.id||c.tagName:"",l++].join("_"))},set:function(a,b){void 0!==a&&(this.content=a);b&&this._mixin(b);this.onBegin();this.setContent();var c=this.onEnd();return c&&
c.then?c:this.node},setContent:function(){var a=this.node;if(!a)throw Error(this.declaredClass+": setContent given no node");try{a=e._setNodeContent(a,this.content)}catch(b){var c=this.onContentError(b);try{a.innerHTML=c}catch(f){}}this.node=a},empty:function(){this.parseDeferred&&(this.parseDeferred.isResolved()||this.parseDeferred.cancel(),delete this.parseDeferred);this.parseResults&&this.parseResults.length&&(d.forEach(this.parseResults,function(a){a.destroy&&a.destroy()}),delete this.parseResults);
c.empty(this.node)},onBegin:function(){var a=this.content;if(k.isString(a)&&(this.cleanContent&&(a=e._secureForInnerHtml(a)),this.extractContent)){var b=a.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);b&&(a=b[1])}this.empty();this.content=a;return this.node},onEnd:function(){this.parseContent&&this._parse();return this.node},tearDown:function(){delete this.parseResults;delete this.parseDeferred;delete this.node;delete this.content},onContentError:function(a){return"Error occurred setting content: "+
a},onExecError:function(a){return"Error occurred executing scripts: "+a},_mixin:function(a){var b={},c;for(c in a)c in b||(this[c]=a[c])},_parse:function(){var a=this.node;try{var b={};d.forEach(["dir","lang","textDir"],function(a){this[a]&&(b[a]=this[a])},this);var c=this;this.parseDeferred=f.parse({rootNode:a,noStart:!this.startup,inherited:b,scope:this.parserScope}).then(function(a){return c.parseResults=a},function(a){c._onError("Content",a,"Error parsing in _ContentSetter#"+this.id)})}catch(e){this._onError("Content",
e,"Error parsing in _ContentSetter#"+this.id)}},_onError:function(a,b,c){a=this["on"+a+"Error"].call(this,b);c||a&&e._setNodeContent(this.node,a,!0)}}),set:function(a,b,c){void 0==b&&(b="");return c?(new e._ContentSetter(k.mixin(c,{content:b,node:a}))).set():e._setNodeContent(a,b,!0)}};k.setObject("dojo.html",e);return e})},"dojo/NodeList-fx":function(){define(["./query","./_base/lang","./aspect","./_base/fx","./fx"],function(h,k,d,g,b){h=h.NodeList;k.extend(h,{_anim:function(c,f,d){d=d||{};var e=
b.combine(this.map(function(a){a={node:a};k.mixin(a,d);return c[f](a)}));return d.auto?e.play()&&this:e},wipeIn:function(c){return this._anim(b,"wipeIn",c)},wipeOut:function(c){return this._anim(b,"wipeOut",c)},slideTo:function(c){return this._anim(b,"slideTo",c)},fadeIn:function(b){return this._anim(g,"fadeIn",b)},fadeOut:function(b){return this._anim(g,"fadeOut",b)},animateProperty:function(b){return this._anim(g,"animateProperty",b)},anim:function(c,f,l,e,a){var m=b.combine(this.map(function(a){return g.animateProperty({node:a,
properties:c,duration:f||350,easing:l})}));e&&d.after(m,"onEnd",e,!0);return m.play(a||0)}});return h})},"dijit/_base":function(){define("./main ./a11y ./WidgetSet ./_base/focus ./_base/manager ./_base/place ./_base/popup ./_base/scroll ./_base/sniff ./_base/typematic ./_base/wai ./_base/window".split(" "),function(h){return h._base})},"dijit/main":function(){define(["dojo/_base/kernel"],function(h){return h.dijit})},"dijit/a11y":function(){define("dojo/_base/array dojo/dom dojo/dom-attr dojo/dom-style dojo/_base/lang dojo/sniff ./main".split(" "),
function(h,k,d,g,b,c,f){var l={_isElementShown:function(b){var a=g.get(b);return"hidden"!=a.visibility&&"collapsed"!=a.visibility&&"none"!=a.display&&"hidden"!=d.get(b,"type")},hasDefaultTabStop:function(b){switch(b.nodeName.toLowerCase()){case "a":return d.has(b,"href");case "area":case "button":case "input":case "object":case "select":case "textarea":return!0;case "iframe":var a;try{var c=b.contentDocument;if("designMode"in c&&"on"==c.designMode)return!0;a=c.body}catch(f){try{a=b.contentWindow.document.body}catch(g){return!1}}return a&&
("true"==a.contentEditable||a.firstChild&&"true"==a.firstChild.contentEditable);default:return"true"==b.contentEditable}},effectiveTabIndex:function(b){return d.get(b,"disabled")?void 0:d.has(b,"tabIndex")?+d.get(b,"tabIndex"):l.hasDefaultTabStop(b)?0:void 0},isTabNavigable:function(b){return 0<=l.effectiveTabIndex(b)},isFocusable:function(b){return-1<=l.effectiveTabIndex(b)},_getTabNavigable:function(b){function a(a){return a&&"input"==a.tagName.toLowerCase()&&a.type&&"radio"==a.type.toLowerCase()&&
a.name&&a.name.toLowerCase()}var f,g,p,h,k,r,s={},v=l._isElementShown,w=l.effectiveTabIndex,u=function(b){for(b=b.firstChild;b;b=b.nextSibling)if(!(1!=b.nodeType||9>=c("ie")&&"HTML"!==b.scopeName||!v(b))){var e=w(b);if(0<=e){if(0==e)f||(f=b),g=b;else if(0<e){if(!p||e<h)h=e,p=b;if(!k||e>=r)r=e,k=b}e=a(b);d.get(b,"checked")&&e&&(s[e]=b)}"SELECT"!=b.nodeName.toUpperCase()&&u(b)}};v(b)&&u(b);return{first:s[a(f)]||f,last:s[a(g)]||g,lowest:s[a(p)]||p,highest:s[a(k)]||k}},getFirstInTabbingOrder:function(b,
a){var c=l._getTabNavigable(k.byId(b,a));return c.lowest?c.lowest:c.first},getLastInTabbingOrder:function(b,a){var c=l._getTabNavigable(k.byId(b,a));return c.last?c.last:c.highest}};b.mixin(f,l);return l})},"dijit/WidgetSet":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/kernel","./registry"],function(h,k,d,g){var b=k("dijit.WidgetSet",null,{constructor:function(){this._hash={};this.length=0},add:function(b){if(this._hash[b.id])throw Error("Tried to register widget with id\x3d\x3d"+
b.id+" but that id is already registered");this._hash[b.id]=b;this.length++},remove:function(b){this._hash[b]&&(delete this._hash[b],this.length--)},forEach:function(b,f){f=f||d.global;var g=0,e;for(e in this._hash)b.call(f,this._hash[e],g++,this._hash);return this},filter:function(c,f){f=f||d.global;var g=new b,e=0,a;for(a in this._hash){var m=this._hash[a];c.call(f,m,e++,this._hash)&&g.add(m)}return g},byId:function(b){return this._hash[b]},byClass:function(c){var f=new b,d,e;for(d in this._hash)e=
this._hash[d],e.declaredClass==c&&f.add(e);return f},toArray:function(){var b=[],f;for(f in this._hash)b.push(this._hash[f]);return b},map:function(b,f){return h.map(this.toArray(),b,f)},every:function(b,f){f=f||d.global;var g=0,e;for(e in this._hash)if(!b.call(f,this._hash[e],g++,this._hash))return!1;return!0},some:function(b,f){f=f||d.global;var g=0,e;for(e in this._hash)if(b.call(f,this._hash[e],g++,this._hash))return!0;return!1}});h.forEach("forEach filter byClass map every some".split(" "),function(c){g[c]=
b.prototype[c]});return b})},"dijit/registry":function(){define(["dojo/_base/array","dojo/_base/window","./main"],function(h,k,d){var g={},b={},c={length:0,add:function(c){if(b[c.id])throw Error("Tried to register widget with id\x3d\x3d"+c.id+" but that id is already registered");b[c.id]=c;this.length++},remove:function(c){b[c]&&(delete b[c],this.length--)},byId:function(c){return"string"==typeof c?b[c]:c},byNode:function(c){return b[c.getAttribute("widgetId")]},toArray:function(){var c=[],d;for(d in b)c.push(b[d]);
return c},getUniqueId:function(c){var l;do l=c+"_"+(c in g?++g[c]:g[c]=0);while(b[l]);return"dijit"==d._scopeName?l:d._scopeName+"_"+l},findWidgets:function(c,d){function e(c){for(c=c.firstChild;c;c=c.nextSibling)if(1==c.nodeType){var f=c.getAttribute("widgetId");f?(f=b[f])&&a.push(f):c!==d&&e(c)}}var a=[];e(c);return a},_destroyAll:function(){d._curFocus=null;d._prevFocus=null;d._activeStack=[];h.forEach(c.findWidgets(k.body()),function(b){b._destroyed||(b.destroyRecursive?b.destroyRecursive():b.destroy&&
b.destroy())})},getEnclosingWidget:function(c){for(;c;){var d=1==c.nodeType&&c.getAttribute("widgetId");if(d)return b[d];c=c.parentNode}return null},_hash:b};return d.registry=c})},"dijit/_base/focus":function(){define("dojo/_base/array dojo/dom dojo/_base/lang dojo/topic dojo/_base/window ../focus ../selection ../main".split(" "),function(h,k,d,g,b,c,f,l){c.focus=function(e){if(e){var a="node"in e?e.node:e,f=e.bookmark;e=e.openedForWindow;var d=f?f.isCollapsed:!1;if(a){var g="iframe"==a.tagName.toLowerCase()?
a.contentWindow:a;if(g&&g.focus)try{g.focus()}catch(h){}c._onFocusNode(a)}if(f&&b.withGlobal(e||b.global,l.isCollapsed)&&!d){e&&e.focus();try{b.withGlobal(e||b.global,l.moveToBookmark,null,[f])}catch(k){}}}};c.watch("curNode",function(b,a,c){l._curFocus=c;l._prevFocus=a;c&&g.publish("focusNode",c)});c.watch("activeStack",function(b,a,c){l._activeStack=c});c.on("widget-blur",function(b,a){g.publish("widgetBlur",b,a)});c.on("widget-focus",function(b,a){g.publish("widgetFocus",b,a)});d.mixin(l,{_curFocus:null,
_prevFocus:null,isCollapsed:function(){return l.getBookmark().isCollapsed},getBookmark:function(){return(b.global==window?f:new f.SelectionManager(b.global)).getBookmark()},moveToBookmark:function(c){return(b.global==window?f:new f.SelectionManager(b.global)).moveToBookmark(c)},getFocus:function(e,a){var f=!c.curNode||e&&k.isDescendant(c.curNode,e.domNode)?l._prevFocus:c.curNode;return{node:f,bookmark:f&&f==c.curNode&&b.withGlobal(a||b.global,l.getBookmark),openedForWindow:a}},_activeStack:[],registerIframe:function(b){return c.registerIframe(b)},
unregisterIframe:function(b){b&&b.remove()},registerWin:function(b,a){return c.registerWin(b,a)},unregisterWin:function(b){b&&b.remove()}});return l})},"dijit/focus":function(){define("dojo/aspect dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/Evented dojo/_base/lang dojo/on dojo/domReady dojo/sniff dojo/Stateful dojo/_base/window dojo/window ./a11y ./registry ./main".split(" "),function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s){var v,w,u=new (k([n,f],{curNode:null,activeStack:[],
constructor:function(){var a=l.hitch(this,function(a){d.isDescendant(this.curNode,a)&&this.set("curNode",null);d.isDescendant(this.prevNode,a)&&this.set("prevNode",null)});h.before(c,"empty",a);h.before(c,"destroy",a)},registerIframe:function(a){return this.registerWin(a.contentWindow,a)},registerWin:function(a,b){var c=this,f=a.document&&a.document.body;if(f){var d=m("pointer-events")?"pointerdown":m("MSPointer")?"MSPointerDown":m("touch-events")?"mousedown, touchstart":"mousedown",g=e(a.document,
d,function(a){if(!a||!(a.target&&null==a.target.parentNode))c._onTouchNode(b||a.target,"mouse")}),l=e(f,"focusin",function(a){if(a.target.tagName){var e=a.target.tagName.toLowerCase();"#document"==e||"body"==e||(q.isFocusable(a.target)?c._onFocusNode(b||a.target):c._onTouchNode(b||a.target))}}),p=e(f,"focusout",function(a){c._onBlurNode(b||a.target)});return{remove:function(){g.remove();l.remove();p.remove();f=g=l=p=null}}}},_onBlurNode:function(a){a=(new Date).getTime();a<v+100||(this._clearFocusTimer&&
clearTimeout(this._clearFocusTimer),this._clearFocusTimer=setTimeout(l.hitch(this,function(){this.set("prevNode",this.curNode);this.set("curNode",null)}),0),this._clearActiveWidgetsTimer&&clearTimeout(this._clearActiveWidgetsTimer),a<w+100||(this._clearActiveWidgetsTimer=setTimeout(l.hitch(this,function(){delete this._clearActiveWidgetsTimer;this._setStack([])}),0)))},_onTouchNode:function(a,c){w=(new Date).getTime();this._clearActiveWidgetsTimer&&(clearTimeout(this._clearActiveWidgetsTimer),delete this._clearActiveWidgetsTimer);
b.contains(a,"dijitPopup")&&(a=a.firstChild);var e=[];try{for(;a;){var f=g.get(a,"dijitPopupParent");if(f)a=r.byId(f).domNode;else if(a.tagName&&"body"==a.tagName.toLowerCase()){if(a===p.body())break;a=t.get(a.ownerDocument).frameElement}else{var d=a.getAttribute&&a.getAttribute("widgetId"),m=d&&r.byId(d);m&&!("mouse"==c&&m.get("disabled"))&&e.unshift(d);a=a.parentNode}}}catch(l){}this._setStack(e,c)},_onFocusNode:function(a){a&&9!=a.nodeType&&(v=(new Date).getTime(),this._clearFocusTimer&&(clearTimeout(this._clearFocusTimer),
delete this._clearFocusTimer),this._onTouchNode(a),a!=this.curNode&&(this.set("prevNode",this.curNode),this.set("curNode",a)))},_setStack:function(a,b){var c=this.activeStack,e=c.length-1,f=a.length-1;if(a[f]!=c[e]){this.set("activeStack",a);var d;for(d=e;0<=d&&c[d]!=a[d];d--)if(e=r.byId(c[d]))e._hasBeenBlurred=!0,e.set("focused",!1),e._focusManager==this&&e._onBlur(b),this.emit("widget-blur",e,b);for(d++;d<=f;d++)if(e=r.byId(a[d]))e.set("focused",!0),e._focusManager==this&&e._onFocus(b),this.emit("widget-focus",
e,b)}},focus:function(a){if(a)try{a.focus()}catch(b){}}}));a(function(){var a=u.registerWin(t.get(document));m("ie")&&e(window,"unload",function(){a&&(a.remove(),a=null)})});s.focus=function(a){u.focus(a)};for(var y in u)/^_/.test(y)||(s.focus[y]="function"==typeof u[y]?l.hitch(u,y):u[y]);u.watch(function(a,b,c){s.focus[a]=c});return u})},"dojo/Stateful":function(){define(["./_base/declare","./_base/lang","./_base/array","./when"],function(h,k,d,g){return h("dojo.Stateful",null,{_attrPairNames:{},
_getAttrNames:function(b){var c=this._attrPairNames;return c[b]?c[b]:c[b]={s:"_"+b+"Setter",g:"_"+b+"Getter"}},postscript:function(b){b&&this.set(b)},_get:function(b,c){return"function"===typeof this[c.g]?this[c.g]():this[b]},get:function(b){return this._get(b,this._getAttrNames(b))},set:function(b,c){if("object"===typeof b){for(var f in b)b.hasOwnProperty(f)&&"_watchCallbacks"!=f&&this.set(f,b[f]);return this}f=this._getAttrNames(b);var d=this._get(b,f);f=this[f.s];var e;"function"===typeof f?e=
f.apply(this,Array.prototype.slice.call(arguments,1)):this[b]=c;if(this._watchCallbacks){var a=this;g(e,function(){a._watchCallbacks(b,d,c)})}return this},_changeAttrValue:function(b,c){var f=this.get(b);this[b]=c;this._watchCallbacks&&this._watchCallbacks(b,f,c);return this},watch:function(b,c){var f=this._watchCallbacks;if(!f)var g=this,f=this._watchCallbacks=function(a,b,c,e){var d=function(e){if(e){e=e.slice();for(var f=0,d=e.length;f<d;f++)e[f].call(g,a,b,c)}};d(f["_"+a]);e||d(f["*"])};!c&&"function"===
typeof b?(c=b,b="*"):b="_"+b;var e=f[b];"object"!==typeof e&&(e=f[b]=[]);e.push(c);var a={};a.unwatch=a.remove=function(){var a=d.indexOf(e,c);-1<a&&e.splice(a,1)};return a}})})},"dijit/selection":function(){define("dojo/_base/array dojo/dom dojo/_base/lang dojo/sniff dojo/_base/window dijit/focus".split(" "),function(h,k,d,g,b,c){var f=function(e){var a=e.document;this.getType=function(){if(a.getSelection){var b="text",c;try{c=e.getSelection()}catch(f){}c&&1==c.rangeCount&&(c=c.getRangeAt(0),c.startContainer==
c.endContainer&&(1==c.endOffset-c.startOffset&&3!=c.startContainer.nodeType)&&(b="control"));return b}return a.selection.type.toLowerCase()};this.getSelectedText=function(){if(a.getSelection){var b=e.getSelection();return b?b.toString():""}return"control"==this.getType()?null:a.selection.createRange().text};this.getSelectedHtml=function(){if(a.getSelection){var b=e.getSelection();if(b&&b.rangeCount){var c,f="";for(c=0;c<b.rangeCount;c++){var d=b.getRangeAt(c).cloneContents(),g=a.createElement("div");
g.appendChild(d);f+=g.innerHTML}return f}return null}return"control"==this.getType()?null:a.selection.createRange().htmlText};this.getSelectedElement=function(){if("control"==this.getType()){if(a.getSelection){var b=e.getSelection();return b.anchorNode.childNodes[b.anchorOffset]}if((b=a.selection.createRange())&&b.item)return a.selection.createRange().item(0)}return null};this.getParentElement=function(){if("control"==this.getType()){var b=this.getSelectedElement();if(b)return b.parentNode}else if(a.getSelection){if(b=
a.getSelection()){for(b=b.anchorNode;b&&1!=b.nodeType;)b=b.parentNode;return b}}else return b=a.selection.createRange(),b.collapse(!0),b.parentElement();return null};this.hasAncestorElement=function(a){return null!=this.getAncestorElement.apply(this,arguments)};this.getAncestorElement=function(a){var b=this.getSelectedElement()||this.getParentElement();return this.getParentOfType(b,arguments)};this.isTag=function(a,b){if(a&&a.tagName)for(var c=a.tagName.toLowerCase(),e=0;e<b.length;e++){var f=String(b[e]).toLowerCase();
if(c==f)return f}return""};this.getParentOfType=function(a,b){for(;a;){if(this.isTag(a,b).length)return a;a=a.parentNode}return null};this.collapse=function(b){if(a.getSelection){var c=e.getSelection();c.removeAllRanges?b?c.collapseToStart():c.collapseToEnd():c.collapse(b)}else c=a.selection.createRange(),c.collapse(b),c.select()};this.remove=function(){var b=a.selection;a.getSelection?(b=e.getSelection(),b.deleteFromDocument()):"none"!=b.type.toLowerCase()&&b.clear();return b};this.selectElementChildren=
function(b,c){var f;b=k.byId(b);if(a.getSelection){var d=e.getSelection();g("opera")?(f=d.rangeCount?d.getRangeAt(0):a.createRange(),f.setStart(b,0),f.setEnd(b,3==b.nodeType?b.length:b.childNodes.length),d.addRange(f)):d.selectAllChildren(b)}else if(f=b.ownerDocument.body.createTextRange(),f.moveToElementText(b),!c)try{f.select()}catch(l){}};this.selectElement=function(c,e){var f;c=k.byId(c);if(a.getSelection){var d=a.getSelection();f=a.createRange();d.removeAllRanges&&(g("opera")&&d.getRangeAt(0)&&
(f=d.getRangeAt(0)),f.selectNode(c),d.removeAllRanges(),d.addRange(f))}else try{d=c.tagName?c.tagName.toLowerCase():"",f="img"===d||"table"===d?b.body(a).createControlRange():b.body(a).createRange(),f.addElement(c),e||f.select()}catch(l){this.selectElementChildren(c,e)}};this.inSelection=function(b){if(b){var c,f;if(a.getSelection){var d=e.getSelection();d&&0<d.rangeCount&&(f=d.getRangeAt(0));if(f&&f.compareBoundaryPoints&&a.createRange)try{if(c=a.createRange(),c.setStart(b,0),1===f.compareBoundaryPoints(f.START_TO_END,
c))return!0}catch(g){}}else{f=a.selection.createRange();try{c=b.ownerDocument.body.createTextRange(),c.moveToElementText(b)}catch(l){}if(f&&c&&1===f.compareEndPoints("EndToStart",c))return!0}}return!1};this.getBookmark=function(){var b,f,d=a.selection,g=c.curNode;if(a.getSelection){if(d=e.getSelection())if(d.isCollapsed){if(b=g?g.tagName:"")if(b=b.toLowerCase(),"textarea"==b||"input"==b&&(!g.type||"text"==g.type.toLowerCase()))return d={start:g.selectionStart,end:g.selectionEnd,node:g,pRange:!0},
{isCollapsed:d.end<=d.start,mark:d};b={isCollapsed:!0};d.rangeCount&&(b.mark=d.getRangeAt(0).cloneRange())}else f=d.getRangeAt(0),b={isCollapsed:!1,mark:f.cloneRange()}}else if(d){b=g?g.tagName:"";b=b.toLowerCase();if(g&&b&&("button"==b||"textarea"==b||"input"==b)){if(d.type&&"none"==d.type.toLowerCase())return{isCollapsed:!0,mark:null};f=d.createRange();return{isCollapsed:f.text&&f.text.length?!1:!0,mark:{range:f,pRange:!0}}}b={};try{f=d.createRange(),b.isCollapsed=!("Text"==d.type?f.htmlText.length:
f.length)}catch(l){return b.isCollapsed=!0,b}if("CONTROL"==d.type.toUpperCase())if(f.length){b.mark=[];d=0;for(g=f.length;d<g;)b.mark.push(f.item(d++))}else b.isCollapsed=!0,b.mark=null;else b.mark=f.getBookmark()}return b};this.moveToBookmark=function(b){if(b=b.mark)if(a.getSelection){var c=e.getSelection();c&&c.removeAllRanges&&(b.pRange?(c=b.node,c.selectionStart=b.start,c.selectionEnd=b.end):(c.removeAllRanges(),c.addRange(b)))}else if(a.selection&&b){var f;b.pRange?f=b.range:d.isArray(b)?(f=
a.body.createControlRange(),h.forEach(b,function(a){f.addElement(a)})):(f=a.body.createTextRange(),f.moveToBookmark(b));f.select()}};this.isCollapsed=function(){return this.getBookmark().isCollapsed}},l=new f(window);l.SelectionManager=f;return l})},"dijit/_base/manager":function(){define(["dojo/_base/array","dojo/_base/config","dojo/_base/lang","../registry","../main"],function(h,k,d,g,b){var c={};h.forEach("byId getUniqueId findWidgets _destroyAll byNode getEnclosingWidget".split(" "),function(b){c[b]=
g[b]});d.mixin(c,{defaultDuration:k.defaultDuration||200});d.mixin(b,c);return b})},"dijit/_base/place":function(){define(["dojo/_base/array","dojo/_base/lang","dojo/window","../place","../main"],function(h,k,d,g,b){var c={getViewport:function(){return d.getBox()}};c.placeOnScreen=g.at;c.placeOnScreenAroundElement=function(b,c,e,a){var d;if(k.isArray(e))d=e;else{d=[];for(var h in e)d.push({aroundCorner:h,corner:e[h]})}return g.around(b,c,d,!0,a)};c.placeOnScreenAroundNode=c.placeOnScreenAroundElement;
c.placeOnScreenAroundRectangle=c.placeOnScreenAroundElement;c.getPopupAroundAlignment=function(b,c){var e={};h.forEach(b,function(a){var b=c;switch(a){case "after":e[c?"BR":"BL"]=c?"BL":"BR";break;case "before":e[c?"BL":"BR"]=c?"BR":"BL";break;case "below-alt":b=!b;case "below":e[b?"BL":"BR"]=b?"TL":"TR";e[b?"BR":"BL"]=b?"TR":"TL";break;case "above-alt":b=!b;default:e[b?"TL":"TR"]=b?"BL":"BR",e[b?"TR":"TL"]=b?"BR":"BL"}});return e};k.mixin(b,c);return b})},"dijit/place":function(){define("dojo/_base/array dojo/dom-geometry dojo/dom-style dojo/_base/kernel dojo/_base/window ./Viewport ./main".split(" "),
function(h,k,d,g,b,c,f){function l(a,e,f,g){var l=c.getEffectiveBox(a.ownerDocument);(!a.parentNode||"body"!=String(a.parentNode.tagName).toLowerCase())&&b.body(a.ownerDocument).appendChild(a);var q=null;h.some(e,function(b){var c=b.corner,e=b.pos,d=0,m={w:{L:l.l+l.w-e.x,R:e.x-l.l,M:l.w}[c.charAt(1)],h:{T:l.t+l.h-e.y,B:e.y-l.t,M:l.h}[c.charAt(0)]},h=a.style;h.left=h.right="auto";f&&(d=f(a,b.aroundCorner,c,m,g),d="undefined"==typeof d?0:d);var s=a.style,r=s.display,E=s.visibility;"none"==s.display&&
(s.visibility="hidden",s.display="");h=k.position(a);s.display=r;s.visibility=E;r={L:e.x,R:e.x-h.w,M:Math.max(l.l,Math.min(l.l+l.w,e.x+(h.w>>1))-h.w)}[c.charAt(1)];E={T:e.y,B:e.y-h.h,M:Math.max(l.t,Math.min(l.t+l.h,e.y+(h.h>>1))-h.h)}[c.charAt(0)];e=Math.max(l.l,r);s=Math.max(l.t,E);r=Math.min(l.l+l.w,r+h.w);E=Math.min(l.t+l.h,E+h.h);r-=e;E-=s;d+=h.w-r+(h.h-E);if(null==q||d<q.overflow)q={corner:c,aroundCorner:b.aroundCorner,x:e,y:s,w:r,h:E,overflow:d,spaceAvailable:m};return!d});q.overflow&&f&&f(a,
q.aroundCorner,q.corner,q.spaceAvailable,g);e=q.y;var r=q.x,s=b.body(a.ownerDocument);/relative|absolute/.test(d.get(s,"position"))&&(e-=d.get(s,"marginTop"),r-=d.get(s,"marginLeft"));s=a.style;s.top=e+"px";s.left=r+"px";s.right="auto";return q}var e={TL:"BR",TR:"BL",BL:"TR",BR:"TL"};return f.place={at:function(a,b,c,f,d){c=h.map(c,function(a){var c={corner:a,aroundCorner:e[a],pos:{x:b.x,y:b.y}};f&&(c.pos.x+="L"==a.charAt(1)?f.x:-f.x,c.pos.y+="T"==a.charAt(0)?f.y:-f.y);return c});return l(a,c,d)},
around:function(a,b,c,e,f){function q(a,b){E.push({aroundCorner:a,corner:b,pos:{x:{L:x,R:x+C,M:x+(C>>1)}[a.charAt(1)],y:{T:A,B:A+D,M:A+(D>>1)}[a.charAt(0)]}})}var r;if("string"==typeof b||"offsetWidth"in b||"ownerSVGElement"in b){if(r=k.position(b,!0),/^(above|below)/.test(c[0])){var s=k.getBorderExtents(b),v=b.firstChild?k.getBorderExtents(b.firstChild):{t:0,l:0,b:0,r:0},w=k.getBorderExtents(a),u=a.firstChild?k.getBorderExtents(a.firstChild):{t:0,l:0,b:0,r:0};r.y+=Math.min(s.t+v.t,w.t+u.t);r.h-=
Math.min(s.t+v.t,w.t+u.t)+Math.min(s.b+v.b,w.b+u.b)}}else r=b;if(b.parentNode){s="absolute"==d.getComputedStyle(b).position;for(b=b.parentNode;b&&1==b.nodeType&&"BODY"!=b.nodeName;){v=k.position(b,!0);w=d.getComputedStyle(b);/relative|absolute/.test(w.position)&&(s=!1);if(!s&&/hidden|auto|scroll/.test(w.overflow)){var u=Math.min(r.y+r.h,v.y+v.h),y=Math.min(r.x+r.w,v.x+v.w);r.x=Math.max(r.x,v.x);r.y=Math.max(r.y,v.y);r.h=u-r.y;r.w=y-r.x}"absolute"==w.position&&(s=!0);b=b.parentNode}}var x=r.x,A=r.y,
C="w"in r?r.w:r.w=r.width,D="h"in r?r.h:(g.deprecated("place.around: dijit/place.__Rectangle: { x:"+x+", y:"+A+", height:"+r.height+", width:"+C+" } has been deprecated.  Please use { x:"+x+", y:"+A+", h:"+r.height+", w:"+C+" }","","2.0"),r.h=r.height),E=[];h.forEach(c,function(a){var b=e;switch(a){case "above-centered":q("TM","BM");break;case "below-centered":q("BM","TM");break;case "after-centered":b=!b;case "before-centered":q(b?"ML":"MR",b?"MR":"ML");break;case "after":b=!b;case "before":q(b?
"TL":"TR",b?"TR":"TL");q(b?"BL":"BR",b?"BR":"BL");break;case "below-alt":b=!b;case "below":q(b?"BL":"BR",b?"TL":"TR");q(b?"BR":"BL",b?"TR":"TL");break;case "above-alt":b=!b;case "above":q(b?"TL":"TR",b?"BL":"BR");q(b?"TR":"TL",b?"BR":"BL");break;default:q(a.aroundCorner,a.corner)}});a=l(a,E,f,{w:C,h:D});a.aroundNodePos=r;return a}}})},"dijit/Viewport":function(){define(["dojo/Evented","dojo/on","dojo/domReady","dojo/sniff","dojo/window"],function(h,k,d,g,b){var c=new h,f;d(function(){var d=b.getBox();
c._rlh=k(window,"resize",function(){var a=b.getBox();d.h==a.h&&d.w==a.w||(d=a,c.emit("resize"))});if(8==g("ie")){var e=screen.deviceXDPI;setInterval(function(){screen.deviceXDPI!=e&&(e=screen.deviceXDPI,c.emit("resize"))},500)}g("ios")&&(k(document,"focusin",function(a){f=a.target}),k(document,"focusout",function(a){f=null}))});c.getEffectiveBox=function(c){c=b.getBox(c);var e=f&&f.tagName&&f.tagName.toLowerCase();if(g("ios")&&f&&!f.readOnly&&("textarea"==e||"input"==e&&/^(color|email|number|password|search|tel|text|url)$/.test(f.type)))c.h*=
0==orientation||180==orientation?0.66:0.4,e=f.getBoundingClientRect(),c.h=Math.max(c.h,e.top+e.height);return c};return c})},"dijit/_base/popup":function(){define(["dojo/dom-class","dojo/_base/window","../popup","../BackgroundIframe"],function(h,k,d){var g=d._createWrapper;d._createWrapper=function(b){b.declaredClass||(b={_popupWrapper:b.parentNode&&h.contains(b.parentNode,"dijitPopup")?b.parentNode:null,domNode:b,destroy:function(){},ownerDocument:b.ownerDocument,ownerDocumentBody:k.body(b.ownerDocument)});
return g.call(this,b)};var b=d.open;d.open=function(c){if(c.orient&&"string"!=typeof c.orient&&!("length"in c.orient)){var f=[],d;for(d in c.orient)f.push({aroundCorner:d,corner:c.orient[d]});c.orient=f}return b.call(this,c)};return d})},"dijit/popup":function(){define("dojo/_base/array dojo/aspect dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/has dojo/keys dojo/_base/lang dojo/on ./place ./BackgroundIframe ./Viewport ./main".split(" "),function(h,
k,d,g,b,c,f,l,e,a,m,n,p,t,q,r){function s(){this._popupWrapper&&(c.destroy(this._popupWrapper),delete this._popupWrapper)}d=d(null,{_stack:[],_beginZIndex:1E3,_idGen:1,_repositionAll:function(){if(this._firstAroundNode){var a=this._firstAroundPosition,b=f.position(this._firstAroundNode,!0),c=b.x-a.x,a=b.y-a.y;if(c||a){this._firstAroundPosition=b;for(b=0;b<this._stack.length;b++){var e=this._stack[b].wrapper.style;e.top=parseFloat(e.top)+a+"px";"auto"==e.right?e.left=parseFloat(e.left)+c+"px":e.right=
parseFloat(e.right)-c+"px"}}this._aroundMoveListener=setTimeout(m.hitch(this,"_repositionAll"),c||a?10:50)}},_createWrapper:function(a){var b=a._popupWrapper,e=a.domNode;b||(b=c.create("div",{"class":"dijitPopup",style:{display:"none"},role:"region","aria-label":a["aria-label"]||a.label||a.name||a.id},a.ownerDocumentBody),b.appendChild(e),e=e.style,e.display="",e.visibility="",e.position="",e.top="0px",a._popupWrapper=b,k.after(a,"destroy",s,!0),"ontouchend"in document&&n(b,"touchend",function(a){/^(input|button|textarea)$/i.test(a.target.tagName)||
a.preventDefault()}));return b},moveOffScreen:function(a){var b=this._createWrapper(a);a=f.isBodyLtr(a.ownerDocument);var c={visibility:"hidden",top:"-9999px",display:""};c[a?"left":"right"]="-9999px";c[a?"right":"left"]="auto";l.set(b,c);return b},hide:function(a){var b=this._createWrapper(a);l.set(b,{display:"none",height:"auto",overflow:"hidden",border:""});a=a.domNode;"_originalStyle"in a&&(a.style.cssText=a._originalStyle)},getTopPopup:function(){for(var a=this._stack,b=a.length-1;0<b&&a[b].parent===
a[b-1].widget;b--);return a[b]},open:function(c){for(var d=this._stack,h=c.popup,k=h.domNode,s=c.orient||["below","below-alt","above","above-alt"],r=c.parent?c.parent.isLeftToRight():f.isBodyLtr(h.ownerDocument),C=c.around,D=c.around&&c.around.id?c.around.id+"_dropdown":"popup_"+this._idGen++;d.length&&(!c.parent||!g.isDescendant(c.parent.domNode,d[d.length-1].widget.domNode));)this.close(d[d.length-1].widget);var E=this.moveOffScreen(h);h.startup&&!h._started&&h.startup();var G,H=f.position(k);if("maxHeight"in
c&&-1!=c.maxHeight)G=c.maxHeight||Infinity;else{G=q.getEffectiveBox(this.ownerDocument);var M=C?f.position(C,!1):{y:c.y-(c.padding||0),h:2*(c.padding||0)};G=Math.floor(Math.max(M.y,G.h-(M.y+M.h)))}H.h>G&&(H=l.getComputedStyle(k),l.set(E,{overflowY:"scroll",height:G+"px",border:H.borderLeftWidth+" "+H.borderLeftStyle+" "+H.borderLeftColor}),k._originalStyle=k.style.cssText,k.style.border="none");b.set(E,{id:D,style:{zIndex:this._beginZIndex+d.length},"class":"dijitPopup "+(h.baseClass||h["class"]||
"").split(" ")[0]+"Popup",dijitPopupParent:c.parent?c.parent.id:""});0==d.length&&C&&(this._firstAroundNode=C,this._firstAroundPosition=f.position(C,!0),this._aroundMoveListener=setTimeout(m.hitch(this,"_repositionAll"),50));e("config-bgIframe")&&!h.bgIframe&&(h.bgIframe=new t(E));D=h.orient?m.hitch(h,"orient"):null;s=C?p.around(E,C,s,r,D):p.at(E,c,"R"==s?["TR","BR","TL","BL"]:["TL","BL","TR","BR"],c.padding,D);E.style.visibility="visible";k.style.visibility="visible";k=[];k.push(n(E,"keydown",m.hitch(this,
function(b){if(b.keyCode==a.ESCAPE&&c.onCancel)b.stopPropagation(),b.preventDefault(),c.onCancel();else if(b.keyCode==a.TAB&&(b.stopPropagation(),b.preventDefault(),(b=this.getTopPopup())&&b.onCancel))b.onCancel()})));h.onCancel&&c.onCancel&&k.push(h.on("cancel",c.onCancel));k.push(h.on(h.onExecute?"execute":"change",m.hitch(this,function(){var a=this.getTopPopup();if(a&&a.onExecute)a.onExecute()})));d.push({widget:h,wrapper:E,parent:c.parent,onExecute:c.onExecute,onCancel:c.onCancel,onClose:c.onClose,
handlers:k});if(h.onOpen)h.onOpen(s);return s},close:function(a){for(var b=this._stack;a&&h.some(b,function(b){return b.widget==a})||!a&&b.length;){var c=b.pop(),e=c.widget,f=c.onClose;e.bgIframe&&(e.bgIframe.destroy(),delete e.bgIframe);if(e.onClose)e.onClose();for(var d;d=c.handlers.pop();)d.remove();e&&e.domNode&&this.hide(e);f&&f()}0==b.length&&this._aroundMoveListener&&(clearTimeout(this._aroundMoveListener),this._firstAroundNode=this._firstAroundPosition=this._aroundMoveListener=null)}});return r.popup=
new d})},"dijit/BackgroundIframe":function(){define("require ./main dojo/_base/config dojo/dom-construct dojo/dom-style dojo/_base/lang dojo/on dojo/sniff".split(" "),function(h,k,d,g,b,c,f,l){l.add("config-bgIframe",l("ie")&&!/IEMobile\/10\.0/.test(navigator.userAgent)||l("trident")&&/Windows NT 6.[01]/.test(navigator.userAgent));var e=new function(){var a=[];this.pop=function(){var c;a.length?(c=a.pop(),c.style.display=""):(9>l("ie")?(c="\x3ciframe src\x3d'"+(d.dojoBlankHtmlUrl||h.toUrl("dojo/resources/blank.html")||
'javascript:""')+"' role\x3d'presentation' style\x3d'position: absolute; left: 0px; top: 0px;z-index: -1; filter:Alpha(Opacity\x3d\"0\");'\x3e",c=document.createElement(c)):(c=g.create("iframe"),c.src='javascript:""',c.className="dijitBackgroundIframe",c.setAttribute("role","presentation"),b.set(c,"opacity",0.1)),c.tabIndex=-1);return c};this.push=function(b){b.style.display="none";a.push(b)}};k.BackgroundIframe=function(a){if(!a.id)throw Error("no id");if(l("config-bgIframe")){var d=this.iframe=
e.pop();a.appendChild(d);7>l("ie")||l("quirks")?(this.resize(a),this._conn=f(a,"resize",c.hitch(this,"resize",a))):b.set(d,{width:"100%",height:"100%"})}};c.extend(k.BackgroundIframe,{resize:function(a){this.iframe&&b.set(this.iframe,{width:a.offsetWidth+"px",height:a.offsetHeight+"px"})},destroy:function(){this._conn&&(this._conn.remove(),this._conn=null);this.iframe&&(this.iframe.parentNode.removeChild(this.iframe),e.push(this.iframe),delete this.iframe)}});return k.BackgroundIframe})},"dijit/_base/scroll":function(){define(["dojo/window",
"../main"],function(h,k){k.scrollIntoView=function(d,g){h.scrollIntoView(d,g)}})},"dijit/_base/sniff":function(){define(["dojo/uacss"],function(){})},"dojo/uacss":function(){define(["./dom-geometry","./_base/lang","./domReady","./sniff","./_base/window"],function(h,k,d,g,b){var c=b.doc.documentElement;b=g("ie");var f=g("opera"),l=Math.floor,e=g("ff"),a=h.boxModel.replace(/-/,""),f={dj_quirks:g("quirks"),dj_opera:f,dj_khtml:g("khtml"),dj_webkit:g("webkit"),dj_safari:g("safari"),dj_chrome:g("chrome"),
dj_gecko:g("mozilla"),dj_ios:g("ios"),dj_android:g("android")};b&&(f.dj_ie=!0,f["dj_ie"+l(b)]=!0,f.dj_iequirks=g("quirks"));e&&(f["dj_ff"+l(e)]=!0);f["dj_"+a]=!0;var m="",n;for(n in f)f[n]&&(m+=n+" ");c.className=k.trim(c.className+" "+m);d(function(){if(!h.isBodyLtr()){var a="dj_rtl dijitRtl "+m.replace(/ /g,"-rtl ");c.className=k.trim(c.className+" "+a+"dj_rtl dijitRtl "+m.replace(/ /g,"-rtl "))}});return g})},"dijit/_base/typematic":function(){define(["../typematic"],function(){})},"dijit/typematic":function(){define("dojo/_base/array dojo/_base/connect dojo/_base/lang dojo/on dojo/sniff ./main".split(" "),
function(h,k,d,g,b,c){var f=c.typematic={_fireEventAndReload:function(){this._timer=null;this._callback(++this._count,this._node,this._evt);this._currentTimeout=Math.max(0>this._currentTimeout?this._initialDelay:1<this._subsequentDelay?this._subsequentDelay:Math.round(this._currentTimeout*this._subsequentDelay),this._minDelay);this._timer=setTimeout(d.hitch(this,"_fireEventAndReload"),this._currentTimeout)},trigger:function(b,c,a,f,g,h,k,q){if(g!=this._obj){this.stop();this._initialDelay=k||500;this._subsequentDelay=
h||0.9;this._minDelay=q||10;this._obj=g;this._node=a;this._count=this._currentTimeout=-1;this._callback=d.hitch(c,f);this._evt={faux:!0};for(var r in b)"layerX"!=r&&"layerY"!=r&&(c=b[r],"function"!=typeof c&&"undefined"!=typeof c&&(this._evt[r]=c));this._fireEventAndReload()}},stop:function(){this._timer&&(clearTimeout(this._timer),this._timer=null);this._obj&&(this._callback(-1,this._node,this._evt),this._obj=null)},addKeyListener:function(b,c,a,m,n,p,t){var q="keyCode"in c?"keyCode":"charCode"in
c?"charCode":"charOrCode",r=[g(b,"keyCode"in c?"keydown":"charCode"in c?"keypress":k._keypress,d.hitch(this,function(d){d[q]==c[q]&&(void 0===c.ctrlKey||c.ctrlKey==d.ctrlKey)&&(void 0===c.altKey||c.altKey==d.altKey)&&(void 0===c.metaKey||c.metaKey==(d.metaKey||!1))&&(void 0===c.shiftKey||c.shiftKey==d.shiftKey)?(d.stopPropagation(),d.preventDefault(),f.trigger(d,a,b,m,c,n,p,t)):f._obj==c&&f.stop()})),g(b,"keyup",d.hitch(this,function(){f._obj==c&&f.stop()}))];return{remove:function(){h.forEach(r,
function(a){a.remove()})}}},addMouseListener:function(c,e,a,m,k,p){var t=[g(c,"mousedown",d.hitch(this,function(b){b.preventDefault();f.trigger(b,e,c,a,c,m,k,p)})),g(c,"mouseup",d.hitch(this,function(a){this._obj&&a.preventDefault();f.stop()})),g(c,"mouseout",d.hitch(this,function(a){this._obj&&a.preventDefault();f.stop()})),g(c,"dblclick",d.hitch(this,function(g){g.preventDefault();9>b("ie")&&(f.trigger(g,e,c,a,c,m,k,p),setTimeout(d.hitch(this,f.stop),50))}))];return{remove:function(){h.forEach(t,
function(a){a.remove()})}}},addListener:function(b,c,a,f,d,g,k,q){var r=[this.addKeyListener(c,a,f,d,g,k,q),this.addMouseListener(b,f,d,g,k,q)];return{remove:function(){h.forEach(r,function(a){a.remove()})}}}};return f})},"dijit/_base/wai":function(){define(["dojo/dom-attr","dojo/_base/lang","../main","../hccss"],function(h,k,d){k.mixin(d,{hasWaiRole:function(d,b){var c=this.getWaiRole(d);return b?-1<c.indexOf(b):0<c.length},getWaiRole:function(d){return k.trim((h.get(d,"role")||"").replace("wairole:",
""))},setWaiRole:function(d,b){h.set(d,"role",b)},removeWaiRole:function(d,b){var c=h.get(d,"role");c&&(b?(c=k.trim((" "+c+" ").replace(" "+b+" "," ")),h.set(d,"role",c)):d.removeAttribute("role"))},hasWaiState:function(d,b){return d.hasAttribute?d.hasAttribute("aria-"+b):!!d.getAttribute("aria-"+b)},getWaiState:function(d,b){return d.getAttribute("aria-"+b)||""},setWaiState:function(d,b,c){d.setAttribute("aria-"+b,c)},removeWaiState:function(d,b){d.removeAttribute("aria-"+b)}});return d})},"dijit/hccss":function(){define(["dojo/dom-class",
"dojo/hccss","dojo/domReady","dojo/_base/window"],function(h,k,d,g){d(function(){k("highcontrast")&&h.add(g.body(),"dijit_a11y")});return k})},"dijit/_base/window":function(){define(["dojo/window","../main"],function(h,k){k.getDocumentWindow=function(d){return h.get(d)}})},"dijit/layout/TabContainer":function(){define(["dojo/_base/lang","dojo/_base/declare","./_TabContainerBase","./TabController","./ScrollingTabController"],function(h,k,d,g,b){return k("dijit.layout.TabContainer",d,{useMenu:!0,useSlider:!0,
controllerWidget:"",_makeController:function(b){var f=this.baseClass+"-tabs"+(this.doLayout?"":" dijitTabNoLayout");return new ("string"==typeof this.controllerWidget?h.getObject(this.controllerWidget):this.controllerWidget)({id:this.id+"_tablist",ownerDocument:this.ownerDocument,dir:this.dir,lang:this.lang,textDir:this.textDir,tabPosition:this.tabPosition,doLayout:this.doLayout,containerId:this.id,"class":f,nested:this.nested,useMenu:this.useMenu,useSlider:this.useSlider,tabStripClass:this.tabStrip?
this.baseClass+(this.tabStrip?"":"No")+"Strip":null},b)},postMixInProperties:function(){this.inherited(arguments);this.controllerWidget||(this.controllerWidget=("top"==this.tabPosition||"bottom"==this.tabPosition)&&!this.nested?b:g)}})})},"dijit/layout/_TabContainerBase":function(){define("dojo/_base/declare dojo/dom-class dojo/dom-geometry dojo/dom-style ./StackContainer ./utils ../registry ../_TemplatedMixin dojo/text!./templates/TabContainer.html".split(" "),function(h,k,d,g,b,c,f,l,e){return h("dijit.layout._TabContainerBase",
[b,l],{tabPosition:"top",baseClass:"dijitTabContainer",tabStrip:!1,nested:!1,templateString:e,postMixInProperties:function(){this.baseClass+=this.tabPosition.charAt(0).toUpperCase()+this.tabPosition.substr(1).replace(/-.*/,"");this.srcNodeRef&&g.set(this.srcNodeRef,"visibility","hidden");this.inherited(arguments)},buildRendering:function(){this.inherited(arguments);this.tablist=this._makeController(this.tablistNode);this.doLayout||k.add(this.domNode,"dijitTabContainerNoLayout");this.nested?(k.add(this.domNode,
"dijitTabContainerNested"),k.add(this.tablist.containerNode,"dijitTabContainerTabListNested"),k.add(this.tablistSpacer,"dijitTabContainerSpacerNested"),k.add(this.containerNode,"dijitTabPaneWrapperNested")):k.add(this.domNode,"tabStrip-"+(this.tabStrip?"enabled":"disabled"))},_setupChild:function(a){k.add(a.domNode,"dijitTabPane");this.inherited(arguments)},startup:function(){this._started||(this.tablist.startup(),this.inherited(arguments))},layout:function(){if(this._contentBox&&"undefined"!=typeof this._contentBox.l){var a=
this.selectedChildWidget;if(this.doLayout){var b=this.tabPosition.replace(/-h/,"");this.tablist.region=b;b=[this.tablist,{domNode:this.tablistSpacer,region:b},{domNode:this.containerNode,region:"center"}];c.layoutChildren(this.domNode,this._contentBox,b);this._containerContentBox=c.marginBox2contentBox(this.containerNode,b[2]);a&&a.resize&&a.resize(this._containerContentBox)}else{if(this.tablist.resize){b=this.tablist.domNode.style;b.width="0";var e=d.getContentBox(this.domNode).w;b.width="";this.tablist.resize({w:e})}a&&
a.resize&&a.resize()}}},destroy:function(a){this.tablist&&this.tablist.destroy(a);this.inherited(arguments)},selectChild:function(a,b){this._focused&&(a=f.byId(a),this.tablist.pane2button(a.id).focus());return this.inherited(arguments)}})})},"dijit/layout/StackContainer":function(){define("dojo/_base/array dojo/cookie dojo/_base/declare dojo/dom-class dojo/dom-construct dojo/has dojo/_base/lang dojo/on dojo/ready dojo/topic dojo/when ../registry ../_WidgetBase ./_LayoutWidget".split(" "),function(h,
k,d,g,b,c,f,l,e,a,m,n,p,t){c("dijit-legacy-requires")&&e(0,function(){require(["dijit/layout/StackController"])});d=d("dijit.layout.StackContainer",t,{doLayout:!0,persist:!1,baseClass:"dijitStackContainer",buildRendering:function(){this.inherited(arguments);g.add(this.domNode,"dijitLayoutContainer")},postCreate:function(){this.inherited(arguments);this.own(l(this.domNode,"keydown",f.hitch(this,"_onKeyDown")))},startup:function(){if(!this._started){var b=this.getChildren();h.forEach(b,this._setupChild,
this);this.persist?this.selectedChildWidget=n.byId(k(this.id+"_selectedChild")):h.some(b,function(a){a.selected&&(this.selectedChildWidget=a);return a.selected},this);var c=this.selectedChildWidget;!c&&b[0]&&(c=this.selectedChildWidget=b[0],c.selected=!0);a.publish(this.id+"-startup",{children:b,selected:c,textDir:this.textDir});this.inherited(arguments)}},resize:function(){if(!this._hasBeenShown){this._hasBeenShown=!0;var a=this.selectedChildWidget;a&&this._showChild(a)}this.inherited(arguments)},
_setupChild:function(a){var c=a.domNode,e=b.place("\x3cdiv role\x3d'tabpanel' class\x3d'"+this.baseClass+"ChildWrapper dijitHidden'\x3e",a.domNode,"replace"),f=a["aria-label"]||a.title||a.label;f&&e.setAttribute("aria-label",f);b.place(c,e);a._wrapper=e;this.inherited(arguments);"none"==c.style.display&&(c.style.display="block");a.domNode.removeAttribute("title")},addChild:function(b,c){this.inherited(arguments);this._started&&(a.publish(this.id+"-addChild",b,c),this.layout(),this.selectedChildWidget||
this.selectChild(b))},removeChild:function(c){var e=h.indexOf(this.getChildren(),c);this.inherited(arguments);b.destroy(c._wrapper);delete c._wrapper;this._started&&a.publish(this.id+"-removeChild",c);if(!this._descendantsBeingDestroyed){if(this.selectedChildWidget===c&&(this.selectedChildWidget=void 0,this._started)){var f=this.getChildren();f.length&&this.selectChild(f[Math.max(e-1,0)])}this._started&&this.layout()}},selectChild:function(b,c){var e;b=n.byId(b);this.selectedChildWidget!=b&&(e=this._transition(b,
this.selectedChildWidget,c),this._set("selectedChildWidget",b),a.publish(this.id+"-selectChild",b),this.persist&&k(this.id+"_selectedChild",this.selectedChildWidget.id));return m(e||!0)},_transition:function(a,b){b&&this._hideChild(b);var c=this._showChild(a);a.resize&&(this.doLayout?a.resize(this._containerContentBox||this._contentBox):a.resize());return c},_adjacent:function(a){var b=this.getChildren(),c=h.indexOf(b,this.selectedChildWidget),c=c+(a?1:b.length-1);return b[c%b.length]},forward:function(){return this.selectChild(this._adjacent(!0),
!0)},back:function(){return this.selectChild(this._adjacent(!1),!0)},_onKeyDown:function(b){a.publish(this.id+"-containerKeyDown",{e:b,page:this})},layout:function(){var a=this.selectedChildWidget;a&&a.resize&&(this.doLayout?a.resize(this._containerContentBox||this._contentBox):a.resize())},_showChild:function(a){var b=this.getChildren();a.isFirstChild=a==b[0];a.isLastChild=a==b[b.length-1];a._set("selected",!0);a._wrapper&&g.replace(a._wrapper,"dijitVisible","dijitHidden");return a._onShow&&a._onShow()||
!0},_hideChild:function(a){a._set("selected",!1);a._wrapper&&g.replace(a._wrapper,"dijitHidden","dijitVisible");a.onHide&&a.onHide()},closeChild:function(a){a.onClose&&a.onClose(this,a)&&(this.removeChild(a),a.destroyRecursive())},destroyDescendants:function(a){this._descendantsBeingDestroyed=!0;this.selectedChildWidget=void 0;h.forEach(this.getChildren(),function(b){a||this.removeChild(b);b.destroyRecursive(a)},this);this._descendantsBeingDestroyed=!1}});d.ChildWidgetProperties={selected:!1,disabled:!1,
closable:!1,iconClass:"dijitNoIcon",showTitle:!0};f.extend(p,d.ChildWidgetProperties);return d})},"dijit/_WidgetBase":function(){define("require dojo/_base/array dojo/aspect dojo/_base/config dojo/_base/connect dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/has dojo/_base/kernel dojo/_base/lang dojo/on dojo/ready dojo/Stateful dojo/topic dojo/_base/window ./Destroyable dojo/has!dojo-bidi?./_BidiMixin ./registry".split(" "),function(h,
k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s,v,w,u,y,x,A){function C(a){return function(b){l[b?"set":"remove"](this.domNode,a,b);this._set(a,b)}}p.add("dijit-legacy-requires",!t.isAsync);p.add("dojo-bidi",!1);p("dijit-legacy-requires")&&s(0,function(){h(["dijit/_base/manager"])});var D={};g=c("dijit._WidgetBase",[v,y],{id:"",_setIdAttr:"domNode",lang:"",_setLangAttr:C("lang"),dir:"",_setDirAttr:C("dir"),"class":"",_setClassAttr:{node:"domNode",type:"class"},_setTypeAttr:null,style:"",title:"",tooltip:"",baseClass:"",
srcNodeRef:null,domNode:null,containerNode:null,ownerDocument:null,_setOwnerDocumentAttr:function(a){this._set("ownerDocument",a)},attributeMap:{},_blankGif:g.blankGif||h.toUrl("dojo/resources/blank.gif"),_introspect:function(){var a=this.constructor;if(!a._setterAttrs){var b=a.prototype,c=a._setterAttrs=[],a=a._onMap={},e;for(e in b.attributeMap)c.push(e);for(e in b)/^on/.test(e)&&(a[e.substring(2).toLowerCase()]=e),/^_set[A-Z](.*)Attr$/.test(e)&&(e=e.charAt(4).toLowerCase()+e.substr(5,e.length-
9),(!b.attributeMap||!(e in b.attributeMap))&&c.push(e))}},postscript:function(a,b){this.create(a,b)},create:function(a,b){this._introspect();this.srcNodeRef=f.byId(b);this._connects=[];this._supportingWidgets=[];this.srcNodeRef&&"string"==typeof this.srcNodeRef.id&&(this.id=this.srcNodeRef.id);a&&(this.params=a,q.mixin(this,a));this.postMixInProperties();this.id||(this.id=A.getUniqueId(this.declaredClass.replace(/\./g,"_")),this.params&&delete this.params.id);this.ownerDocument=this.ownerDocument||
(this.srcNodeRef?this.srcNodeRef.ownerDocument:document);this.ownerDocumentBody=u.body(this.ownerDocument);A.add(this);this.buildRendering();var c;if(this.domNode){this._applyAttributes();var e=this.srcNodeRef;e&&(e.parentNode&&this.domNode!==e)&&(e.parentNode.replaceChild(this.domNode,e),c=!0);this.domNode.setAttribute("widgetId",this.id)}this.postCreate();c&&delete this.srcNodeRef;this._created=!0},_applyAttributes:function(){var a={},b;for(b in this.params||{})a[b]=this._get(b);k.forEach(this.constructor._setterAttrs,
function(b){if(!(b in a)){var c=this._get(b);c&&this.set(b,c)}},this);for(b in a)this.set(b,a[b])},postMixInProperties:function(){},buildRendering:function(){this.domNode||(this.domNode=this.srcNodeRef||this.ownerDocument.createElement("div"));if(this.baseClass){var a=this.baseClass.split(" ");this.isLeftToRight()||(a=a.concat(k.map(a,function(a){return a+"Rtl"})));e.add(this.domNode,a)}},postCreate:function(){},startup:function(){this._started||(this._started=!0,k.forEach(this.getChildren(),function(a){!a._started&&
(!a._destroyed&&q.isFunction(a.startup))&&(a.startup(),a._started=!0)}))},destroyRecursive:function(a){this._beingDestroyed=!0;this.destroyDescendants(a);this.destroy(a)},destroy:function(a){function b(c){c.destroyRecursive?c.destroyRecursive(a):c.destroy&&c.destroy(a)}this._beingDestroyed=!0;this.uninitialize();k.forEach(this._connects,q.hitch(this,"disconnect"));k.forEach(this._supportingWidgets,b);this.domNode&&k.forEach(A.findWidgets(this.domNode,this.containerNode),b);this.destroyRendering(a);
A.remove(this.id);this._destroyed=!0},destroyRendering:function(b){this.bgIframe&&(this.bgIframe.destroy(b),delete this.bgIframe);this.domNode&&(b?l.remove(this.domNode,"widgetId"):a.destroy(this.domNode),delete this.domNode);this.srcNodeRef&&(b||a.destroy(this.srcNodeRef),delete this.srcNodeRef)},destroyDescendants:function(a){k.forEach(this.getChildren(),function(b){b.destroyRecursive&&b.destroyRecursive(a)})},uninitialize:function(){return!1},_setStyleAttr:function(a){var b=this.domNode;q.isObject(a)?
n.set(b,a):b.style.cssText=b.style.cssText?b.style.cssText+("; "+a):a;this._set("style",a)},_attrToDom:function(a,b,c){c=3<=arguments.length?c:this.attributeMap[a];k.forEach(q.isArray(c)?c:[c],function(c){var f=this[c.node||c||"domNode"];switch(c.type||"attribute"){case "attribute":q.isFunction(b)&&(b=q.hitch(this,b));c=c.attribute?c.attribute:/^on[A-Z][a-zA-Z]*$/.test(a)?a.toLowerCase():a;f.tagName?l.set(f,c,b):f.set(c,b);break;case "innerText":f.innerHTML="";f.appendChild(this.ownerDocument.createTextNode(b));
break;case "innerHTML":f.innerHTML=b;break;case "class":e.replace(f,b,this[a])}},this)},get:function(a){var b=this._getAttrNames(a);return this[b.g]?this[b.g]():this._get(a)},set:function(a,b){if("object"===typeof a){for(var c in a)this.set(c,a[c]);return this}c=this._getAttrNames(a);var e=this[c.s];if(q.isFunction(e))var f=e.apply(this,Array.prototype.slice.call(arguments,1));else{var e=this.focusNode&&!q.isFunction(this.focusNode)?"focusNode":"domNode",d=this[e]&&this[e].tagName,g;if(g=d)if(!(g=
D[d])){g=this[e];var l={},m;for(m in g)l[m.toLowerCase()]=!0;g=D[d]=l}m=g;c=a in this.attributeMap?this.attributeMap[a]:c.s in this?this[c.s]:m&&c.l in m&&"function"!=typeof b||/^aria-|^data-|^role$/.test(a)?e:null;null!=c&&this._attrToDom(a,b,c);this._set(a,b)}return f||this},_attrPairNames:{},_getAttrNames:function(a){var b=this._attrPairNames;if(b[a])return b[a];var c=a.replace(/^[a-z]|-[a-zA-Z]/g,function(a){return a.charAt(a.length-1).toUpperCase()});return b[a]={n:a+"Node",s:"_set"+c+"Attr",
g:"_get"+c+"Attr",l:c.toLowerCase()}},_set:function(a,b){var c=this[a];this[a]=b;if(this._created&&!(c===b||c!==c&&b!==b))this._watchCallbacks&&this._watchCallbacks(a,c,b),this.emit("attrmodified-"+a,{detail:{prevValue:c,newValue:b}})},_get:function(a){return this[a]},emit:function(a,b,c){b=b||{};void 0===b.bubbles&&(b.bubbles=!0);void 0===b.cancelable&&(b.cancelable=!0);b.detail||(b.detail={});b.detail.widget=this;var e,f=this["on"+a];f&&(e=f.apply(this,c?c:[b]));this._started&&!this._beingDestroyed&&
r.emit(this.domNode,a.toLowerCase(),b);return e},on:function(a,b){var c=this._onMap(a);return c?d.after(this,c,b,!0):this.own(r(this.domNode,a,b))[0]},_onMap:function(a){var b=this.constructor,c=b._onMap;if(!c){var c=b._onMap={},e;for(e in b.prototype)/^on/.test(e)&&(c[e.replace(/^on/,"").toLowerCase()]=e)}return c["string"==typeof a&&a.toLowerCase()]},toString:function(){return"[Widget "+this.declaredClass+", "+(this.id||"NO ID")+"]"},getChildren:function(){return this.containerNode?A.findWidgets(this.containerNode):
[]},getParent:function(){return A.getEnclosingWidget(this.domNode.parentNode)},connect:function(a,c,e){return this.own(b.connect(a,c,this,e))[0]},disconnect:function(a){a.remove()},subscribe:function(a,b){return this.own(w.subscribe(a,q.hitch(this,b)))[0]},unsubscribe:function(a){a.remove()},isLeftToRight:function(){return this.dir?"ltr"==this.dir.toLowerCase():m.isBodyLtr(this.ownerDocument)},isFocusable:function(){return this.focus&&"none"!=n.get(this.domNode,"display")},placeAt:function(b,c){var e=
!b.tagName&&A.byId(b);e&&e.addChild&&(!c||"number"===typeof c)?e.addChild(this,c):(e=e&&"domNode"in e?e.containerNode&&!/after|before|replace/.test(c||"")?e.containerNode:e.domNode:f.byId(b,this.ownerDocument),a.place(this.domNode,e,c),!this._started&&(this.getParent()||{})._started&&this.startup());return this},defer:function(a,b){var c=setTimeout(q.hitch(this,function(){c&&(c=null,this._destroyed||q.hitch(this,a)())}),b||0);return{remove:function(){c&&(clearTimeout(c),c=null);return null}}}});p("dojo-bidi")&&
g.extend(x);return g})},"dijit/Destroyable":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare"],function(h,k,d){return d("dijit.Destroyable",null,{destroy:function(d){this._destroyed=!0},own:function(){var d=["destroyRecursive","destroy","remove"];h.forEach(arguments,function(b){function c(){l.remove();h.forEach(e,function(a){a.remove()})}var f,l=k.before(this,"destroy",function(a){b[f](a)}),e=[];b.then?(f="cancel",b.then(c,c)):h.forEach(d,function(a){"function"===typeof b[a]&&
(f||(f=a),e.push(k.after(b,a,c,!0)))})},this);return arguments}})})},"dijit/layout/_LayoutWidget":function(){define("dojo/_base/lang ../_Widget ../_Container ../_Contained ../Viewport dojo/_base/declare dojo/dom-class dojo/dom-geometry dojo/dom-style".split(" "),function(h,k,d,g,b,c,f,l,e){return c("dijit.layout._LayoutWidget",[k,d,g],{baseClass:"dijitLayoutContainer",isLayoutContainer:!0,_setTitleAttr:null,buildRendering:function(){this.inherited(arguments);f.add(this.domNode,"dijitContainer")},
startup:function(){if(!this._started){this.inherited(arguments);var a=this.getParent&&this.getParent();if(!a||!a.isLayoutContainer)this.resize(),this.own(b.on("resize",h.hitch(this,"resize")))}},resize:function(a,b){var c=this.domNode;a&&l.setMarginBox(c,a);var f=b||{};h.mixin(f,a||{});if(!("h"in f)||!("w"in f))f=h.mixin(l.getMarginBox(c),f);var d=e.getComputedStyle(c),g=l.getMarginExtents(c,d),k=l.getBorderExtents(c,d),f=this._borderBox={w:f.w-(g.w+k.w),h:f.h-(g.h+k.h)},g=l.getPadExtents(c,d);this._contentBox=
{l:e.toPixelValue(c,d.paddingLeft),t:e.toPixelValue(c,d.paddingTop),w:f.w-g.w,h:f.h-g.h};this.layout()},layout:function(){},_setupChild:function(a){f.add(a.domNode,this.baseClass+"-child "+(a.baseClass?this.baseClass+"-"+a.baseClass:""))},addChild:function(a,b){this.inherited(arguments);this._started&&this._setupChild(a)},removeChild:function(a){f.remove(a.domNode,this.baseClass+"-child"+(a.baseClass?" "+this.baseClass+"-"+a.baseClass:""));this.inherited(arguments)}})})},"dijit/_Widget":function(){define("dojo/aspect dojo/_base/config dojo/_base/connect dojo/_base/declare dojo/has dojo/_base/kernel dojo/_base/lang dojo/query dojo/ready ./registry ./_WidgetBase ./_OnDijitClickMixin ./_FocusMixin dojo/uacss ./hccss".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p){function t(){}function q(a){return function(b,c,e,g){return b&&"string"==typeof c&&b[c]==t?b.on(c.substring(2).toLowerCase(),f.hitch(e,g)):a.apply(d,arguments)}}h.around(d,"connect",q);c.connect&&h.around(c,"connect",q);h=g("dijit._Widget",[m,n,p],{onClick:t,onDblClick:t,onKeyDown:t,onKeyPress:t,onKeyUp:t,onMouseDown:t,onMouseMove:t,onMouseOut:t,onMouseOver:t,onMouseLeave:t,onMouseEnter:t,onMouseUp:t,constructor:function(a){this._toConnect={};for(var b in a)this[b]===
t&&(this._toConnect[b.replace(/^on/,"").toLowerCase()]=a[b],delete a[b])},postCreate:function(){this.inherited(arguments);for(var a in this._toConnect)this.on(a,this._toConnect[a]);delete this._toConnect},on:function(a,b){return this[this._onMap(a)]===t?d.connect(this.domNode,a.toLowerCase(),this,b):this.inherited(arguments)},_setFocusedAttr:function(a){this._focused=a;this._set("focused",a)},setAttribute:function(a,b){c.deprecated(this.declaredClass+"::setAttribute(attr, value) is deprecated. Use set() instead.",
"","2.0");this.set(a,b)},attr:function(a,b){return 2<=arguments.length||"object"===typeof a?this.set.apply(this,arguments):this.get(a)},getDescendants:function(){c.deprecated(this.declaredClass+"::getDescendants() is deprecated. Use getChildren() instead.","","2.0");return this.containerNode?l("[widgetId]",this.containerNode).map(a.byNode):[]},_onShow:function(){this.onShow()},onShow:function(){},onHide:function(){},onClose:function(){return!0}});b("dijit-legacy-requires")&&e(0,function(){require(["dijit/_base"])});
return h})},"dijit/_OnDijitClickMixin":function(){define("dojo/on dojo/_base/array dojo/keys dojo/_base/declare dojo/has ./a11yclick".split(" "),function(h,k,d,g,b,c){h=g("dijit._OnDijitClickMixin",null,{connect:function(b,d,e){return this.inherited(arguments,[b,"ondijitclick"==d?c:d,e])}});h.a11yclick=c;return h})},"dijit/a11yclick":function(){define(["dojo/keys","dojo/mouse","dojo/on","dojo/touch"],function(h,k,d,g){function b(b){if((b.keyCode===h.ENTER||b.keyCode===h.SPACE)&&!/input|button|textarea/i.test(b.target.nodeName))for(b=
b.target;b;b=b.parentNode)if(b.dojoClick)return!0}var c;d(document,"keydown",function(f){b(f)?(c=f.target,f.preventDefault()):c=null});d(document,"keyup",function(f){b(f)&&f.target==c&&(c=null,d.emit(f.target,"click",{cancelable:!0,bubbles:!0,ctrlKey:f.ctrlKey,shiftKey:f.shiftKey,metaKey:f.metaKey,altKey:f.altKey,_origType:f.type}))});var f=function(b,c){b.dojoClick=!0;return d(b,"click",c)};f.click=f;f.press=function(b,c){var a=d(b,g.press,function(a){("mousedown"!=a.type||k.isLeft(a))&&c(a)}),f=
d(b,"keydown",function(a){(a.keyCode===h.ENTER||a.keyCode===h.SPACE)&&c(a)});return{remove:function(){a.remove();f.remove()}}};f.release=function(b,c){var a=d(b,g.release,function(a){("mouseup"!=a.type||k.isLeft(a))&&c(a)}),f=d(b,"keyup",function(a){(a.keyCode===h.ENTER||a.keyCode===h.SPACE)&&c(a)});return{remove:function(){a.remove();f.remove()}}};f.move=g.move;return f})},"dijit/_FocusMixin":function(){define(["./focus","./_WidgetBase","dojo/_base/declare","dojo/_base/lang"],function(h,k,d,g){g.extend(k,
{focused:!1,onFocus:function(){},onBlur:function(){},_onFocus:function(){this.onFocus()},_onBlur:function(){this.onBlur()}});return d("dijit._FocusMixin",null,{_focusManager:h})})},"dijit/_Container":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-construct","dojo/_base/kernel"],function(h,k,d,g){return k("dijit._Container",null,{buildRendering:function(){this.inherited(arguments);this.containerNode||(this.containerNode=this.domNode)},addChild:function(b,c){var f=this.containerNode;
if(0<c){for(f=f.firstChild;0<c;)1==f.nodeType&&c--,f=f.nextSibling;f?c="before":(f=this.containerNode,c="last")}d.place(b.domNode,f,c);this._started&&!b._started&&b.startup()},removeChild:function(b){"number"==typeof b&&(b=this.getChildren()[b]);b&&(b=b.domNode)&&b.parentNode&&b.parentNode.removeChild(b)},hasChildren:function(){return 0<this.getChildren().length},_getSiblingOfChild:function(b,c){g.deprecated(this.declaredClass+"::_getSiblingOfChild() is deprecated. Use _KeyNavMixin::_getNext() instead.",
"","2.0");var f=this.getChildren(),d=h.indexOf(f,b);return f[d+c]},getIndexOfChild:function(b){return h.indexOf(this.getChildren(),b)}})})},"dijit/_Contained":function(){define(["dojo/_base/declare","./registry"],function(h,k){return h("dijit._Contained",null,{_getSibling:function(d){var g=this.domNode;do g=g[d+"Sibling"];while(g&&1!=g.nodeType);return g&&k.byNode(g)},getPreviousSibling:function(){return this._getSibling("previous")},getNextSibling:function(){return this._getSibling("next")},getIndexInParent:function(){var d=
this.getParent();return!d||!d.getIndexOfChild?-1:d.getIndexOfChild(this)}})})},"dijit/layout/utils":function(){define(["dojo/_base/array","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/lang"],function(h,k,d,g,b){function c(c,e){var a=c.resize?c.resize(e):d.setMarginBox(c.domNode,e);a?b.mixin(c,a):(b.mixin(c,d.getMarginBox(c.domNode)),b.mixin(c,e))}var f={marginBox2contentBox:function(b,c){var a=g.getComputedStyle(b),f=d.getMarginExtents(b,a),h=d.getPadBorderExtents(b,a);return{l:g.toPixelValue(b,
a.paddingLeft),t:g.toPixelValue(b,a.paddingTop),w:c.w-(f.w+h.w),h:c.h-(f.h+h.h)}},layoutChildren:function(f,e,a,d,g){e=b.mixin({},e);k.add(f,"dijitLayoutContainer");a=h.filter(a,function(a){return"center"!=a.region&&"client"!=a.layoutAlign}).concat(h.filter(a,function(a){return"center"==a.region||"client"==a.layoutAlign}));h.forEach(a,function(a){var b=a.domNode,f=a.region||a.layoutAlign;if(!f)throw Error("No region setting for "+a.id);var l=b.style;l.left=e.l+"px";l.top=e.t+"px";l.position="absolute";
k.add(b,"dijitAlign"+(f.substring(0,1).toUpperCase()+f.substring(1)));b={};d&&d==a.id&&(b["top"==a.region||"bottom"==a.region?"h":"w"]=g);"leading"==f&&(f=a.isLeftToRight()?"left":"right");"trailing"==f&&(f=a.isLeftToRight()?"right":"left");"top"==f||"bottom"==f?(b.w=e.w,c(a,b),e.h-=a.h,"top"==f?e.t+=a.h:l.top=e.t+e.h+"px"):"left"==f||"right"==f?(b.h=e.h,c(a,b),e.w-=a.w,"left"==f?e.l+=a.w:l.left=e.l+e.w+"px"):("client"==f||"center"==f)&&c(a,e)})}};b.setObject("dijit.layout.utils",f);return f})},"dijit/_TemplatedMixin":function(){define("dojo/cache dojo/_base/declare dojo/dom-construct dojo/_base/lang dojo/on dojo/sniff dojo/string ./_AttachMixin".split(" "),
function(h,k,d,g,b,c,f,l){var e=k("dijit._TemplatedMixin",l,{templateString:null,templatePath:null,_skipNodeCache:!1,searchContainerNode:!0,_stringRepl:function(a){var b=this.declaredClass,c=this;return f.substitute(a,this,function(a,e){"!"==e.charAt(0)&&(a=g.getObject(e.substr(1),!1,c));if("undefined"==typeof a)throw Error(b+" template:"+e);return null==a?"":"!"==e.charAt(0)?a:this._escapeValue(""+a)},this)},_escapeValue:function(a){return a.replace(/["'<>&]/g,function(a){return{"\x26":"\x26amp;",
"\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#x27;"}[a]})},buildRendering:function(){if(!this._rendered){this.templateString||(this.templateString=h(this.templatePath,{sanitize:!0}));var a=e.getCachedTemplate(this.templateString,this._skipNodeCache,this.ownerDocument),b;if(g.isString(a)){if(b=d.toDom(this._stringRepl(a),this.ownerDocument),1!=b.nodeType)throw Error("Invalid template: "+a);}else b=a.cloneNode(!0);this.domNode=b}this.inherited(arguments);this._rendered||this._fillContent(this.srcNodeRef);
this._rendered=!0},_fillContent:function(a){var b=this.containerNode;if(a&&b)for(;a.hasChildNodes();)b.appendChild(a.firstChild)}});e._templateCache={};e.getCachedTemplate=function(a,b,c){var g=e._templateCache,l=a,h=g[l];if(h){try{if(!h.ownerDocument||h.ownerDocument==(c||document))return h}catch(k){}d.destroy(h)}a=f.trim(a);if(b||a.match(/\$\{([^\}]+)\}/g))return g[l]=a;b=d.toDom(a,c);if(1!=b.nodeType)throw Error("Invalid template: "+a);return g[l]=b};c("ie")&&b(window,"unload",function(){var a=
e._templateCache,b;for(b in a){var c=a[b];"object"==typeof c&&d.destroy(c);delete a[b]}});return e})},"dojo/cache":function(){define(["./_base/kernel","./text"],function(h){return h.cache})},"dojo/text":function(){define(["./_base/kernel","require","./has","./request"],function(h,k,d,g){var b;b=function(a,b,c){g(a,{sync:!!b,headers:{"X-Requested-With":null}}).then(c)};var c={},f=function(a){if(a){a=a.replace(/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,"");var b=a.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);
b&&(a=b[1])}else a="";return a},l={},e={};h.cache=function(a,e,d){var g;"string"==typeof a?/\//.test(a)?(g=a,d=e):g=k.toUrl(a.replace(/\./g,"/")+(e?"/"+e:"")):(g=a+"",d=e);a=void 0!=d&&"string"!=typeof d?d.value:d;d=d&&d.sanitize;if("string"==typeof a)return c[g]=a,d?f(a):a;if(null===a)return delete c[g],null;g in c||b(g,!0,function(a){c[g]=a});return d?f(c[g]):c[g]};return{dynamic:!0,normalize:function(a,b){var c=a.split("!"),e=c[0];return(/^\./.test(e)?b(e):e)+(c[1]?"!"+c[1]:"")},load:function(a,
d,g){a=a.split("!");var h=1<a.length,k=a[0],q=d.toUrl(a[0]);a="url:"+q;var r=l,s=function(a){g(h?f(a):a)};k in c?r=c[k]:d.cache&&a in d.cache?r=d.cache[a]:q in c&&(r=c[q]);if(r===l)if(e[q])e[q].push(s);else{var v=e[q]=[s];b(q,!d.async,function(a){c[k]=c[q]=a;for(var b=0;b<v.length;)v[b++](a);delete e[q]})}else s(r)}}})},"dojo/request":function(){define(["./request/default!"],function(h){return h})},"dojo/request/default":function(){define(["exports","require","../has"],function(h,k,d){var g=d("config-requestProvider");
g||(g="./xhr");h.getPlatformDefaultId=function(){return"./xhr"};h.load=function(b,c,f,d){k(["platform"==b?"./xhr":g],function(b){f(b)})}})},"dijit/_AttachMixin":function(){define("require dojo/_base/array dojo/_base/connect dojo/_base/declare dojo/_base/lang dojo/mouse dojo/on dojo/touch ./_WidgetBase".split(" "),function(h,k,d,g,b,c,f,l,e){var a=b.delegate(l,{mouseenter:c.enter,mouseleave:c.leave,keypress:d._keypress}),m;d=g("dijit._AttachMixin",null,{constructor:function(){this._attachPoints=[];
this._attachEvents=[]},buildRendering:function(){this.inherited(arguments);this._attachTemplateNodes(this.domNode);this._beforeFillContent()},_beforeFillContent:function(){},_attachTemplateNodes:function(a){for(var b=a;;)if(1==b.nodeType&&(this._processTemplateNode(b,function(a,b){return a.getAttribute(b)},this._attach)||this.searchContainerNode)&&b.firstChild)b=b.firstChild;else{if(b==a)break;for(;!b.nextSibling;)if(b=b.parentNode,b==a)return;b=b.nextSibling}},_processTemplateNode:function(a,c,e){var f=
!0,d=this.attachScope||this,g=c(a,"dojoAttachPoint")||c(a,"data-dojo-attach-point");if(g)for(var l=g.split(/\s*,\s*/);g=l.shift();)b.isArray(d[g])?d[g].push(a):d[g]=a,f="containerNode"!=g,this._attachPoints.push(g);if(c=c(a,"dojoAttachEvent")||c(a,"data-dojo-attach-event")){g=c.split(/\s*,\s*/);for(l=b.trim;c=g.shift();)if(c){var m=null;-1!=c.indexOf(":")?(m=c.split(":"),c=l(m[0]),m=l(m[1])):c=l(c);m||(m=c);this._attachEvents.push(e(a,c,b.hitch(d,m)))}}return f},_attach:function(b,c,e){c=c.replace(/^on/,
"").toLowerCase();c="dijitclick"==c?m||(m=h("./a11yclick")):a[c]||c;return f(b,c,e)},_detachTemplateNodes:function(){var a=this.attachScope||this;k.forEach(this._attachPoints,function(b){delete a[b]});this._attachPoints=[];k.forEach(this._attachEvents,function(a){a.remove()});this._attachEvents=[]},destroyRendering:function(){this._detachTemplateNodes();this.inherited(arguments)}});b.extend(e,{dojoAttachEvent:"",dojoAttachPoint:""});return d})},"dijit/layout/TabController":function(){define("dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/has dojo/i18n dojo/_base/lang ./StackController ../registry ../Menu ../MenuItem dojo/text!./templates/_TabButton.html dojo/i18n!../nls/common".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n){n=h("dijit.layout._TabButton"+(b("dojo-bidi")?"_NoBidi":""),l.StackButton,{baseClass:"dijitTab",cssStateNodes:{closeNode:"dijitTabCloseButton"},templateString:n,_setNameAttr:"focusNode",scrollOnFocus:!1,buildRendering:function(){this.inherited(arguments);k.setSelectable(this.containerNode,!1)},startup:function(){this.inherited(arguments);var a=this.domNode;this.defer(function(){a.className=a.className},1)},_setCloseButtonAttr:function(a){this._set("closeButton",a);
g.toggle(this.domNode,"dijitClosable",a);this.closeNode.style.display=a?"":"none";a&&(a=c.getLocalization("dijit","common"),this.closeNode&&d.set(this.closeNode,"title",a.itemClose))},_setDisabledAttr:function(a){this.inherited(arguments);if(this.closeNode)if(a)d.remove(this.closeNode,"title");else{var b=c.getLocalization("dijit","common");d.set(this.closeNode,"title",b.itemClose)}},_setLabelAttr:function(a){this.inherited(arguments);!this.showLabel&&!this.params.title&&(this.iconNode.alt=f.trim(this.containerNode.innerText||
this.containerNode.textContent||""))}});b("dojo-bidi")&&(n=h("dijit.layout._TabButton",n,{_setLabelAttr:function(a){this.inherited(arguments);this.applyTextDir(this.iconNode,this.iconNode.alt)}}));h=h("dijit.layout.TabController",l,{baseClass:"dijitTabController",templateString:"\x3cdiv role\x3d'tablist' data-dojo-attach-event\x3d'onkeydown:onkeydown'\x3e\x3c/div\x3e",tabPosition:"top",buttonWidget:n,buttonWidgetCloseClass:"dijitTabCloseButton",postCreate:function(){this.inherited(arguments);var b=
new a({id:this.id+"_Menu",ownerDocument:this.ownerDocument,dir:this.dir,lang:this.lang,textDir:this.textDir,targetNodeIds:[this.domNode],selector:function(a){return g.contains(a,"dijitClosable")&&!g.contains(a,"dijitTabDisabled")}});this.own(b);var f=c.getLocalization("dijit","common"),d=this;b.addChild(new m({label:f.itemClose,ownerDocument:this.ownerDocument,dir:this.dir,lang:this.lang,textDir:this.textDir,onClick:function(a){a=e.byNode(this.getParent().currentTarget);d.onCloseButtonClick(a.page)}}))}});
h.TabButton=n;return h})},"dijit/layout/StackController":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-class dojo/dom-construct dojo/keys dojo/_base/lang dojo/on dojo/topic ../focus ../registry ../_Widget ../_TemplatedMixin ../_Container ../form/ToggleButton dojo/touch".split(" "),function(h,k,d,g,b,c,f,l,e,a,m,n,p,t){g=k("dijit.layout._StackButton",t,{tabIndex:"-1",closeButton:!1,_aria_attr:"aria-selected",buildRendering:function(a){this.inherited(arguments);(this.focusNode||this.domNode).setAttribute("role",
"tab")}});k=k("dijit.layout.StackController",[m,n,p],{baseClass:"dijitStackController",templateString:"\x3cspan role\x3d'tablist' data-dojo-attach-event\x3d'onkeydown'\x3e\x3c/span\x3e",containerId:"",buttonWidget:g,buttonWidgetCloseClass:"dijitStackCloseButton",pane2button:function(b){return a.byId(this.id+"_"+b)},postCreate:function(){this.inherited(arguments);this.own(l.subscribe(this.containerId+"-startup",c.hitch(this,"onStartup")),l.subscribe(this.containerId+"-addChild",c.hitch(this,"onAddChild")),
l.subscribe(this.containerId+"-removeChild",c.hitch(this,"onRemoveChild")),l.subscribe(this.containerId+"-selectChild",c.hitch(this,"onSelectChild")),l.subscribe(this.containerId+"-containerKeyDown",c.hitch(this,"onContainerKeyDown")));this.containerNode.dojoClick=!0;this.own(f(this.containerNode,"click",c.hitch(this,function(b){var c=a.getEnclosingWidget(b.target);if(c!=this.containerNode&&!c.disabled&&c.page)for(b=b.target;b!==this.containerNode;b=b.parentNode)if(d.contains(b,this.buttonWidgetCloseClass)){this.onCloseButtonClick(c.page);
break}else if(b==c.domNode){this.onButtonClick(c.page);break}})))},onStartup:function(b){this.textDir=b.textDir;h.forEach(b.children,this.onAddChild,this);if(b.selected)this.onSelectChild(b.selected);var e=a.byId(this.containerId).containerNode,d=c.hitch(this,"pane2button");b={title:"label",showtitle:"showLabel",iconclass:"iconClass",closable:"closeButton",tooltip:"title",disabled:"disabled",textdir:"textdir"};var g=function(a,b){return f(e,"attrmodified-"+a,function(a){var c=d(a.detail&&a.detail.widget&&
a.detail.widget.id);c&&c.set(b,a.detail.newValue)})},l;for(l in b)this.own(g(l,b[l]))},destroy:function(a){this.destroyDescendants(a);this.inherited(arguments)},onAddChild:function(a,b){var e=new (c.isString(this.buttonWidget)?c.getObject(this.buttonWidget):this.buttonWidget)({id:this.id+"_"+a.id,name:this.id+"_"+a.id,label:a.title,disabled:a.disabled,ownerDocument:this.ownerDocument,dir:a.dir,lang:a.lang,textDir:a.textDir||this.textDir,showLabel:a.showTitle,iconClass:a.iconClass,closeButton:a.closable,
title:a.tooltip,page:a});this.addChild(e,b);a.controlButton=e;if(!this._currentChild)this.onSelectChild(a);e=a._wrapper.getAttribute("aria-labelledby")?a._wrapper.getAttribute("aria-labelledby")+" "+e.id:e.id;a._wrapper.removeAttribute("aria-label");a._wrapper.setAttribute("aria-labelledby",e)},onRemoveChild:function(a){this._currentChild===a&&(this._currentChild=null);var b=this.pane2button(a.id);b&&(this.removeChild(b),b.destroy());delete a.controlButton},onSelectChild:function(b){if(b){if(this._currentChild){var c=
this.pane2button(this._currentChild.id);c.set("checked",!1);c.focusNode.setAttribute("tabIndex","-1")}c=this.pane2button(b.id);c.set("checked",!0);this._currentChild=b;c.focusNode.setAttribute("tabIndex","0");a.byId(this.containerId)}},onButtonClick:function(b){var c=this.pane2button(b.id);e.focus(c.focusNode);this._currentChild&&this._currentChild.id===b.id&&c.set("checked",!0);a.byId(this.containerId).selectChild(b)},onCloseButtonClick:function(b){a.byId(this.containerId).closeChild(b);this._currentChild&&
(b=this.pane2button(this._currentChild.id))&&e.focus(b.focusNode||b.domNode)},adjacent:function(a){if(!this.isLeftToRight()&&(!this.tabPosition||/top|bottom/.test(this.tabPosition)))a=!a;var b=this.getChildren(),c=h.indexOf(b,this.pane2button(this._currentChild.id)),e=b[c],f;do c=(c+(a?1:b.length-1))%b.length,f=b[c];while(f.disabled&&f!=e);return f},onkeydown:function(a,c){if(!this.disabled&&!a.altKey){var e=null;if(a.ctrlKey||!a._djpage){switch(a.keyCode){case b.LEFT_ARROW:case b.UP_ARROW:a._djpage||
(e=!1);break;case b.PAGE_UP:a.ctrlKey&&(e=!1);break;case b.RIGHT_ARROW:case b.DOWN_ARROW:a._djpage||(e=!0);break;case b.PAGE_DOWN:a.ctrlKey&&(e=!0);break;case b.HOME:for(var f=this.getChildren(),d=0;d<f.length;d++){var g=f[d];if(!g.disabled){this.onButtonClick(g.page);break}}a.stopPropagation();a.preventDefault();break;case b.END:f=this.getChildren();for(d=f.length-1;0<=d;d--)if(g=f[d],!g.disabled){this.onButtonClick(g.page);break}a.stopPropagation();a.preventDefault();break;case b.DELETE:case 87:if(this._currentChild.closable&&
(a.keyCode==b.DELETE||a.ctrlKey))this.onCloseButtonClick(this._currentChild),a.stopPropagation(),a.preventDefault();break;case b.TAB:a.ctrlKey&&(this.onButtonClick(this.adjacent(!a.shiftKey).page),a.stopPropagation(),a.preventDefault())}null!==e&&(this.onButtonClick(this.adjacent(e).page),a.stopPropagation(),a.preventDefault())}}},onContainerKeyDown:function(a){a.e._djpage=a.page;this.onkeydown(a.e)}});k.StackButton=g;return k})},"dijit/form/ToggleButton":function(){define(["dojo/_base/declare","dojo/_base/kernel",
"./Button","./_ToggleButtonMixin"],function(h,k,d,g){return h("dijit.form.ToggleButton",[d,g],{baseClass:"dijitToggleButton",setChecked:function(b){k.deprecated("setChecked("+b+") is deprecated. Use set('checked',"+b+") instead.","","2.0");this.set("checked",b)}})})},"dijit/form/Button":function(){define("require dojo/_base/declare dojo/dom-class dojo/has dojo/_base/kernel dojo/_base/lang dojo/ready ./_FormWidget ./_ButtonMixin dojo/text!./templates/Button.html ../a11yclick".split(" "),function(h,
k,d,g,b,c,f,l,e,a){g("dijit-legacy-requires")&&f(0,function(){h(["dijit/form/DropDownButton","dijit/form/ComboButton","dijit/form/ToggleButton"])});f=k("dijit.form.Button"+(g("dojo-bidi")?"_NoBidi":""),[l,e],{showLabel:!0,iconClass:"dijitNoIcon",_setIconClassAttr:{node:"iconNode",type:"class"},baseClass:"dijitButton",templateString:a,_setValueAttr:"valueNode",_setNameAttr:function(a){this.valueNode&&this.valueNode.setAttribute("name",a)},_fillContent:function(a){if(a&&(!this.params||!("label"in this.params)))if(a=
c.trim(a.innerHTML))this.label=a},_setShowLabelAttr:function(a){this.containerNode&&d.toggle(this.containerNode,"dijitDisplayNone",!a);this._set("showLabel",a)},setLabel:function(a){b.deprecated("dijit.form.Button.setLabel() is deprecated.  Use set('label', ...) instead.","","2.0");this.set("label",a)},_setLabelAttr:function(a){this.inherited(arguments);!this.showLabel&&!("title"in this.params)&&(this.titleNode.title=c.trim(this.containerNode.innerText||this.containerNode.textContent||""))}});g("dojo-bidi")&&
(f=k("dijit.form.Button",f,{_setLabelAttr:function(a){this.inherited(arguments);this.titleNode.title&&this.applyTextDir(this.titleNode,this.titleNode.title)},_setTextDirAttr:function(a){this._created&&this.textDir!=a&&(this._set("textDir",a),this._setLabelAttr(this.label))}}));return f})},"dijit/form/_FormWidget":function(){define("dojo/_base/declare dojo/sniff dojo/_base/kernel dojo/ready ../_Widget ../_CssStateMixin ../_TemplatedMixin ./_FormWidgetMixin".split(" "),function(h,k,d,g,b,c,f,l){k("dijit-legacy-requires")&&
g(0,function(){require(["dijit/form/_FormValueWidget"])});return h("dijit.form._FormWidget",[b,f,c,l],{setDisabled:function(b){d.deprecated("setDisabled("+b+") is deprecated. Use set('disabled',"+b+") instead.","","2.0");this.set("disabled",b)},setValue:function(b){d.deprecated("dijit.form._FormWidget:setValue("+b+") is deprecated.  Use set('value',"+b+") instead.","","2.0");this.set("value",b)},getValue:function(){d.deprecated(this.declaredClass+"::getValue() is deprecated. Use get('value') instead.",
"","2.0");return this.get("value")},postMixInProperties:function(){this.nameAttrSetting=this.name&&!k("msapp")?'name\x3d"'+this.name.replace(/"/g,"\x26quot;")+'"':"";this.inherited(arguments)}})})},"dijit/_CssStateMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom dojo/dom-class dojo/has dojo/_base/lang dojo/on dojo/domReady dojo/touch dojo/_base/window ./a11yclick ./registry".split(" "),function(h,k,d,g,b,c,f,l,e,a,m,n){k=k("dijit._CssStateMixin",[],{hovering:!1,active:!1,_applyAttributes:function(){this.inherited(arguments);
h.forEach("disabled readOnly checked selected focused state hovering active _opened".split(" "),function(a){this.watch(a,c.hitch(this,"_setStateClass"))},this);for(var a in this.cssStateNodes||{})this._trackMouseState(this[a],this.cssStateNodes[a]);this._trackMouseState(this.domNode,this.baseClass);this._setStateClass()},_cssMouseEvent:function(a){if(!this.disabled)switch(a.type){case "mouseover":case "MSPointerOver":case "pointerover":this._set("hovering",!0);this._set("active",this._mouseDown);
break;case "mouseout":case "MSPointerOut":case "pointerout":this._set("hovering",!1);this._set("active",!1);break;case "mousedown":case "touchstart":case "MSPointerDown":case "pointerdown":case "keydown":this._set("active",!0);break;case "mouseup":case "dojotouchend":case "MSPointerUp":case "pointerup":case "keyup":this._set("active",!1)}},_setStateClass:function(){function a(c){b=b.concat(h.map(b,function(a){return a+c}),"dijit"+c)}var b=this.baseClass.split(" ");this.isLeftToRight()||a("Rtl");var c=
"mixed"==this.checked?"Mixed":this.checked?"Checked":"";this.checked&&a(c);this.state&&a(this.state);this.selected&&a("Selected");this._opened&&a("Opened");this.disabled?a("Disabled"):this.readOnly?a("ReadOnly"):this.active?a("Active"):this.hovering&&a("Hover");this.focused&&a("Focused");var c=this.stateNode||this.domNode,e={};h.forEach(c.className.split(" "),function(a){e[a]=!0});"_stateClasses"in this&&h.forEach(this._stateClasses,function(a){delete e[a]});h.forEach(b,function(a){e[a]=!0});var f=
[],d;for(d in e)f.push(d);c.className=f.join(" ");this._stateClasses=b},_subnodeCssMouseEvent:function(a,b,c){function e(c){g.toggle(a,b+"Active",c)}if(!this.disabled&&!this.readOnly)switch(c.type){case "mouseover":case "MSPointerOver":case "pointerover":g.toggle(a,b+"Hover",!0);break;case "mouseout":case "MSPointerOut":case "pointerout":g.toggle(a,b+"Hover",!1);e(!1);break;case "mousedown":case "touchstart":case "MSPointerDown":case "pointerdown":case "keydown":e(!0);break;case "mouseup":case "MSPointerUp":case "pointerup":case "dojotouchend":case "keyup":e(!1);
break;case "focus":case "focusin":g.toggle(a,b+"Focused",!0);break;case "blur":case "focusout":g.toggle(a,b+"Focused",!1)}},_trackMouseState:function(a,b){a._cssState=b}});l(function(){function b(a,c,e){if(!e||!d.isDescendant(e,c))for(;c&&c!=e;c=c.parentNode)if(c._cssState){var f=n.getEnclosingWidget(c);f&&(c==f.domNode?f._cssMouseEvent(a):f._subnodeCssMouseEvent(c,c._cssState,a))}}var c=a.body(),g;f(c,e.over,function(a){b(a,a.target,a.relatedTarget)});f(c,e.out,function(a){b(a,a.target,a.relatedTarget)});
f(c,m.press,function(a){g=a.target;b(a,g)});f(c,m.release,function(a){b(a,g);g=null});f(c,"focusin, focusout",function(a){var b=a.target;if(b._cssState&&!b.getAttribute("widgetId")){var c=n.getEnclosingWidget(b);c&&c._subnodeCssMouseEvent(b,b._cssState,a)}})});return k})},"dijit/form/_FormWidgetMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/dom-style dojo/_base/lang dojo/mouse dojo/on dojo/sniff dojo/window ../a11y".split(" "),function(h,k,d,g,b,c,f,l,e,a){return k("dijit.form._FormWidgetMixin",
null,{name:"",alt:"",value:"",type:"text","aria-label":"focusNode",tabIndex:"0",_setTabIndexAttr:"focusNode",disabled:!1,intermediateChanges:!1,scrollOnFocus:!0,_setIdAttr:"focusNode",_setDisabledAttr:function(c){this._set("disabled",c);d.set(this.focusNode,"disabled",c);this.valueNode&&d.set(this.valueNode,"disabled",c);this.focusNode.setAttribute("aria-disabled",c?"true":"false");c?(this._set("hovering",!1),this._set("active",!1),c="tabIndex"in this.attributeMap?this.attributeMap.tabIndex:"_setTabIndexAttr"in
this?this._setTabIndexAttr:"focusNode",h.forEach(b.isArray(c)?c:[c],function(b){b=this[b];l("webkit")||a.hasDefaultTabStop(b)?b.setAttribute("tabIndex","-1"):b.removeAttribute("tabIndex")},this)):""!=this.tabIndex&&this.set("tabIndex",this.tabIndex)},_onFocus:function(a){if("mouse"==a&&this.isFocusable())var c=this.own(f(this.focusNode,"focus",function(){g.remove();c.remove()}))[0],d=l("pointer-events")?"pointerup":l("MSPointer")?"MSPointerUp":l("touch-events")?"touchend, mouseup":"mouseup",g=this.own(f(this.ownerDocumentBody,
d,b.hitch(this,function(a){g.remove();c.remove();this.focused&&("touchend"==a.type?this.defer("focus"):this.focus())})))[0];this.scrollOnFocus&&this.defer(function(){e.scrollIntoView(this.domNode)});this.inherited(arguments)},isFocusable:function(){return!this.disabled&&this.focusNode&&"none"!=g.get(this.domNode,"display")},focus:function(){if(!this.disabled&&this.focusNode.focus)try{this.focusNode.focus()}catch(a){}},compare:function(a,b){return"number"==typeof a&&"number"==typeof b?isNaN(a)&&isNaN(b)?
0:a-b:a>b?1:a<b?-1:0},onChange:function(){},_onChangeActive:!1,_handleOnChange:function(a,b){if(void 0==this._lastValueReported&&(null===b||!this._onChangeActive))this._resetValue=this._lastValueReported=a;this._pendingOnChange=this._pendingOnChange||typeof a!=typeof this._lastValueReported||0!=this.compare(a,this._lastValueReported);if((this.intermediateChanges||b||void 0===b)&&this._pendingOnChange)this._lastValueReported=a,this._pendingOnChange=!1,this._onChangeActive&&(this._onChangeHandle&&this._onChangeHandle.remove(),
this._onChangeHandle=this.defer(function(){this._onChangeHandle=null;this.onChange(a)}))},create:function(){this.inherited(arguments);this._onChangeActive=!0},destroy:function(){this._onChangeHandle&&(this._onChangeHandle.remove(),this.onChange(this._lastValueReported));this.inherited(arguments)}})})},"dijit/form/_ButtonMixin":function(){define(["dojo/_base/declare","dojo/dom","dojo/has","../registry"],function(h,k,d,g){var b=h("dijit.form._ButtonMixin"+(d("dojo-bidi")?"_NoBidi":""),null,{label:"",
type:"button",__onClick:function(b){b.stopPropagation();b.preventDefault();this.disabled||this.valueNode.click(b);return!1},_onClick:function(b){if(this.disabled)return b.stopPropagation(),b.preventDefault(),!1;!1===this.onClick(b)&&b.preventDefault();var f=b.defaultPrevented;if(!f&&"submit"==this.type&&!(this.valueNode||this.focusNode).form)for(var d=this.domNode;d.parentNode;d=d.parentNode){var e=g.byNode(d);if(e&&"function"==typeof e._onSubmit){e._onSubmit(b);b.preventDefault();f=!0;break}}return!f},
postCreate:function(){this.inherited(arguments);k.setSelectable(this.focusNode,!1)},onClick:function(){return!0},_setLabelAttr:function(b){this._set("label",b);(this.containerNode||this.focusNode).innerHTML=b}});d("dojo-bidi")&&(b=h("dijit.form._ButtonMixin",b,{_setLabelAttr:function(){this.inherited(arguments);this.applyTextDir(this.containerNode||this.focusNode)}}));return b})},"dijit/form/_ToggleButtonMixin":function(){define(["dojo/_base/declare","dojo/dom-attr"],function(h,k){return h("dijit.form._ToggleButtonMixin",
null,{checked:!1,_aria_attr:"aria-pressed",_onClick:function(d){var g=this.checked;this._set("checked",!g);var b=this.inherited(arguments);this.set("checked",b?this.checked:g);return b},_setCheckedAttr:function(d,g){this._set("checked",d);var b=this.focusNode||this.domNode;this._created&&k.get(b,"checked")!=!!d&&k.set(b,"checked",!!d);b.setAttribute(this._aria_attr,String(d));this._handleOnChange(d,g)},postCreate:function(){this.inherited(arguments);var d=this.focusNode||this.domNode;this.checked&&
d.setAttribute("checked","checked");void 0===this._resetValue&&(this._lastValueReported=this._resetValue=this.checked)},reset:function(){this._hasBeenBlurred=!1;this.set("checked",this.params.checked||!1)}})})},"dijit/Menu":function(){define("require dojo/_base/array dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-geometry dojo/dom-style dojo/keys dojo/_base/lang dojo/on dojo/sniff dojo/_base/window dojo/window ./popup ./DropDownMenu dojo/ready".split(" "),function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,
q,r){m("dijit-legacy-requires")&&r(0,function(){h(["dijit/MenuItem","dijit/PopupMenuItem","dijit/CheckedMenuItem","dijit/MenuSeparator"])});return d("dijit.Menu",q,{constructor:function(){this._bindings=[]},targetNodeIds:[],selector:"",contextMenuForWindow:!1,leftClickToOpen:!1,refocus:!0,postCreate:function(){this.contextMenuForWindow?this.bindDomNode(this.ownerDocumentBody):k.forEach(this.targetNodeIds,this.bindDomNode,this);this.inherited(arguments)},_iframeContentWindow:function(a){return p.get(this._iframeContentDocument(a))||
this._iframeContentDocument(a).__parent__||a.name&&document.frames[a.name]||null},_iframeContentDocument:function(a){return a.contentDocument||a.contentWindow&&a.contentWindow.document||a.name&&document.frames[a.name]&&document.frames[a.name].document||null},bindDomNode:function(c){c=g.byId(c,this.ownerDocument);var f;if("iframe"==c.tagName.toLowerCase()){var d=c;f=this._iframeContentWindow(d);f=n.body(f.document)}else f=c==n.body(this.ownerDocument)?this.ownerDocument.documentElement:c;var m={node:c,
iframe:d};b.set(c,"_dijitMenu"+this.id,this._bindings.push(m));var h=e.hitch(this,function(b){var c=this.selector,e=c?function(b){return a.selector(c,b)}:function(a){return a},f=this;return[a(b,e(this.leftClickToOpen?"click":"contextmenu"),function(a){a.stopPropagation();a.preventDefault();(new Date).getTime()<this._lastKeyDown+500||f._scheduleOpen(this,d,{x:a.pageX,y:a.pageY},a.target)}),a(b,e("keydown"),function(a){if(93==a.keyCode||a.shiftKey&&a.keyCode==l.F10||this.leftClickToOpen&&a.keyCode==
l.SPACE)a.stopPropagation(),a.preventDefault(),f._scheduleOpen(this,d,null,a.target),this._lastKeyDown=(new Date).getTime()})]});m.connects=f?h(f):[];d&&(m.onloadHandler=e.hitch(this,function(){var a=this._iframeContentWindow(d),a=n.body(a.document);m.connects=h(a)}),d.addEventListener?d.addEventListener("load",m.onloadHandler,!1):d.attachEvent("onload",m.onloadHandler))},unBindDomNode:function(a){var c;try{c=g.byId(a,this.ownerDocument)}catch(e){return}a="_dijitMenu"+this.id;if(c&&b.has(c,a)){for(var f=
b.get(c,a)-1,d=this._bindings[f],l;l=d.connects.pop();)l.remove();(l=d.iframe)&&(l.removeEventListener?l.removeEventListener("load",d.onloadHandler,!1):l.detachEvent("onload",d.onloadHandler));b.remove(c,a);delete this._bindings[f]}},_scheduleOpen:function(a,b,c,e){this._openTimer||(this._openTimer=this.defer(function(){delete this._openTimer;this._openMyself({target:e,delegatedTarget:a,iframe:b,coords:c})},1))},_openMyself:function(a){function b(){q.refocus&&r&&r.focus();t.close(q)}var e=a.target,
d=a.iframe,l=a.coords,h=!l;this.currentTarget=a.delegatedTarget;if(l){if(d){a=c.position(d,!0);var e=this._iframeContentWindow(d),e=c.docScroll(e.document),k=f.getComputedStyle(d),n=f.toPixelValue,p=(m("ie")&&m("quirks")?0:n(d,k.paddingLeft))+(m("ie")&&m("quirks")?n(d,k.borderLeftWidth):0),d=(m("ie")&&m("quirks")?0:n(d,k.paddingTop))+(m("ie")&&m("quirks")?n(d,k.borderTopWidth):0);l.x+=a.x+p-e.x;l.y+=a.y+d-e.y}}else l=c.position(e,!0),l.x+=10,l.y+=10;var q=this,d=this._focusManager.get("prevNode");
a=this._focusManager.get("curNode");var r=!a||g.isDescendant(a,this.domNode)?d:a;t.open({popup:this,x:l.x,y:l.y,onExecute:b,onCancel:b,orient:this.isLeftToRight()?"L":"R"});this.focus();h||this.defer(function(){this._cleanUp(!0)});this._onBlur=function(){this.inherited("_onBlur",arguments);t.close(this)}},destroy:function(){k.forEach(this._bindings,function(a){a&&this.unBindDomNode(a.node)},this);this.inherited(arguments)}})})},"dijit/DropDownMenu":function(){define(["dojo/_base/declare","dojo/keys",
"dojo/text!./templates/Menu.html","./_MenuBase"],function(h,k,d,g){return h("dijit.DropDownMenu",g,{templateString:d,baseClass:"dijitMenu",_onUpArrow:function(){this.focusPrev()},_onDownArrow:function(){this.focusNext()},_onRightArrow:function(b){this._moveToPopup(b);b.stopPropagation();b.preventDefault()},_onLeftArrow:function(b){if(this.parentMenu)if(this.parentMenu._isMenuBar)this.parentMenu.focusPrev();else this.onCancel(!1);else b.stopPropagation(),b.preventDefault()}})})},"dijit/_MenuBase":function(){define("dojo/_base/array dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/_base/lang dojo/mouse dojo/on dojo/window ./a11yclick ./registry ./_Widget ./_CssStateMixin ./_KeyNavContainer ./_TemplatedMixin".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q){return k("dijit._MenuBase",[n,q,t,p],{selected:null,_setSelectedAttr:function(a){this.selected!=a&&(this.selected&&(this.selected._setSelected(!1),this._onChildDeselect(this.selected)),a&&a._setSelected(!0),this._set("selected",a))},activated:!1,_setActivatedAttr:function(a){b.toggle(this.domNode,"dijitMenuActive",a);b.toggle(this.domNode,"dijitMenuPassive",!a);this._set("activated",a)},parentMenu:null,popupDelay:500,passivePopupDelay:Infinity,autoFocus:!1,
childSelector:function(a){var b=m.byNode(a);return a.parentNode==this.containerNode&&b&&b.focus},postCreate:function(){var b=this,e="string"==typeof this.childSelector?this.childSelector:c.hitch(this,"childSelector");this.own(l(this.containerNode,l.selector(e,f.enter),function(){b.onItemHover(m.byNode(this))}),l(this.containerNode,l.selector(e,f.leave),function(){b.onItemUnhover(m.byNode(this))}),l(this.containerNode,l.selector(e,a),function(a){b.onItemClick(m.byNode(this),a);a.stopPropagation()}),
l(this.containerNode,l.selector(e,"focusin"),function(){b._onItemFocus(m.byNode(this))}));this.inherited(arguments)},onKeyboardSearch:function(a,b,c,e){this.inherited(arguments);if(a&&(-1==e||a.popup&&1==e))this.onItemClick(a,b)},_keyboardSearchCompare:function(a,b){return a.shortcutKey?b==a.shortcutKey.toLowerCase()?-1:0:this.inherited(arguments)?1:0},onExecute:function(){},onCancel:function(){},_moveToPopup:function(a){if(this.focusedChild&&this.focusedChild.popup&&!this.focusedChild.disabled)this.onItemClick(this.focusedChild,
a);else(a=this._getTopMenu())&&a._isMenuBar&&a.focusNext()},_onPopupHover:function(){this.set("selected",this.currentPopupItem);this._stopPendingCloseTimer()},onItemHover:function(a){this.activated?(this.set("selected",a),a.popup&&(!a.disabled&&!this.hover_timer)&&(this.hover_timer=this.defer(function(){this._openItemPopup(a)},this.popupDelay))):Infinity>this.passivePopupDelay&&(this.passive_hover_timer&&this.passive_hover_timer.remove(),this.passive_hover_timer=this.defer(function(){this.onItemClick(a,
{type:"click"})},this.passivePopupDelay));this._hoveredChild=a;a._set("hovering",!0)},_onChildDeselect:function(a){this._stopPopupTimer();this.currentPopupItem==a&&(this._stopPendingCloseTimer(),this._pendingClose_timer=this.defer(function(){this.currentPopupItem=this._pendingClose_timer=null;a._closePopup()},this.popupDelay))},onItemUnhover:function(a){this._hoveredChild==a&&(this._hoveredChild=null);this.passive_hover_timer&&(this.passive_hover_timer.remove(),this.passive_hover_timer=null);a._set("hovering",
!1)},_stopPopupTimer:function(){this.hover_timer&&(this.hover_timer=this.hover_timer.remove())},_stopPendingCloseTimer:function(){this._pendingClose_timer&&(this._pendingClose_timer=this._pendingClose_timer.remove())},_getTopMenu:function(){for(var a=this;a.parentMenu;a=a.parentMenu);return a},onItemClick:function(a,b){this.passive_hover_timer&&this.passive_hover_timer.remove();this.focusChild(a);if(a.disabled)return!1;if(a.popup){this.set("selected",a);this.set("activated",!0);var c=/^key/.test(b._origType||
b.type)||0==b.clientX&&0==b.clientY;this._openItemPopup(a,c)}else this.onExecute(),a._onClick?a._onClick(b):a.onClick(b)},_openItemPopup:function(a,b){if(a!=this.currentPopupItem){this.currentPopupItem&&(this._stopPendingCloseTimer(),this.currentPopupItem._closePopup());this._stopPopupTimer();var e=a.popup;e.parentMenu=this;this.own(this._mouseoverHandle=l.once(e.domNode,"mouseover",c.hitch(this,"_onPopupHover")));var f=this;a._openPopup({parent:this,orient:this._orient||["after","before"],onCancel:function(){b&&
f.focusChild(a);f._cleanUp()},onExecute:c.hitch(this,"_cleanUp",!0),onClose:function(){f._mouseoverHandle&&(f._mouseoverHandle.remove(),delete f._mouseoverHandle)}},b);this.currentPopupItem=a}},onOpen:function(){this.isShowingNow=!0;this.set("activated",!0)},onClose:function(){this.set("activated",!1);this.set("selected",null);this.isShowingNow=!1;this.parentMenu=null},_closeChild:function(){this._stopPopupTimer();this.currentPopupItem&&(this.focused&&(g.set(this.selected.focusNode,"tabIndex",this.tabIndex),
this.selected.focusNode.focus()),this.currentPopupItem._closePopup(),this.currentPopupItem=null)},_onItemFocus:function(a){if(this._hoveredChild&&this._hoveredChild!=a)this.onItemUnhover(this._hoveredChild);this.set("selected",a)},_onBlur:function(){this._cleanUp(!0);this.inherited(arguments)},_cleanUp:function(a){this._closeChild();"undefined"==typeof this.isShowingNow&&this.set("activated",!1);a&&this.set("selected",null)}})})},"dijit/_KeyNavContainer":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/_base/kernel dojo/keys dojo/_base/lang ./registry ./_Container ./_FocusMixin ./_KeyNavMixin".split(" "),
function(h,k,d,g,b,c,f,l,e,a){return k("dijit._KeyNavContainer",[e,a,l],{connectKeyNavHandlers:function(a,e){var f=this._keyNavCodes={},d=c.hitch(this,"focusPrev"),g=c.hitch(this,"focusNext");h.forEach(a,function(a){f[a]=d});h.forEach(e,function(a){f[a]=g});f[b.HOME]=c.hitch(this,"focusFirstChild");f[b.END]=c.hitch(this,"focusLastChild")},startupKeyNavChildren:function(){g.deprecated("startupKeyNavChildren() call no longer needed","","2.0")},startup:function(){this.inherited(arguments);h.forEach(this.getChildren(),
c.hitch(this,"_startupChild"))},addChild:function(a,b){this.inherited(arguments);this._startupChild(a)},_startupChild:function(a){a.set("tabIndex","-1")},_getFirst:function(){var a=this.getChildren();return a.length?a[0]:null},_getLast:function(){var a=this.getChildren();return a.length?a[a.length-1]:null},focusNext:function(){this.focusChild(this._getNextFocusableChild(this.focusedChild,1))},focusPrev:function(){this.focusChild(this._getNextFocusableChild(this.focusedChild,-1),!0)},childSelector:function(a){return(a=
f.byNode(a))&&a.getParent()==this}})})},"dijit/_KeyNavMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/keys dojo/_base/lang dojo/on dijit/registry dijit/_FocusMixin".split(" "),function(h,k,d,g,b,c,f,l){return k("dijit._KeyNavMixin",l,{tabIndex:"0",childSelector:null,postCreate:function(){this.inherited(arguments);d.set(this.domNode,"tabIndex",this.tabIndex);if(!this._keyNavCodes){var e=this._keyNavCodes={};e[g.HOME]=b.hitch(this,"focusFirstChild");e[g.END]=b.hitch(this,
"focusLastChild");e[this.isLeftToRight()?g.LEFT_ARROW:g.RIGHT_ARROW]=b.hitch(this,"_onLeftArrow");e[this.isLeftToRight()?g.RIGHT_ARROW:g.LEFT_ARROW]=b.hitch(this,"_onRightArrow");e[g.UP_ARROW]=b.hitch(this,"_onUpArrow");e[g.DOWN_ARROW]=b.hitch(this,"_onDownArrow")}var a=this,e="string"==typeof this.childSelector?this.childSelector:b.hitch(this,"childSelector");this.own(c(this.domNode,"keypress",b.hitch(this,"_onContainerKeypress")),c(this.domNode,"keydown",b.hitch(this,"_onContainerKeydown")),c(this.domNode,
"focus",b.hitch(this,"_onContainerFocus")),c(this.containerNode,c.selector(e,"focusin"),function(b){a._onChildFocus(f.getEnclosingWidget(this),b)}))},_onLeftArrow:function(){},_onRightArrow:function(){},_onUpArrow:function(){},_onDownArrow:function(){},focus:function(){this.focusFirstChild()},_getFirstFocusableChild:function(){return this._getNextFocusableChild(null,1)},_getLastFocusableChild:function(){return this._getNextFocusableChild(null,-1)},focusFirstChild:function(){this.focusChild(this._getFirstFocusableChild())},
focusLastChild:function(){this.focusChild(this._getLastFocusableChild())},focusChild:function(b,a){b&&(this.focusedChild&&b!==this.focusedChild&&this._onChildBlur(this.focusedChild),b.set("tabIndex",this.tabIndex),b.focus(a?"end":"start"))},_onContainerFocus:function(b){b.target!==this.domNode||this.focusedChild||this.focus()},_onFocus:function(){d.set(this.domNode,"tabIndex","-1");this.inherited(arguments)},_onBlur:function(b){d.set(this.domNode,"tabIndex",this.tabIndex);this.focusedChild&&(this.focusedChild.set("tabIndex",
"-1"),this.lastFocusedChild=this.focusedChild,this._set("focusedChild",null));this.inherited(arguments)},_onChildFocus:function(b){b&&b!=this.focusedChild&&(this.focusedChild&&!this.focusedChild._destroyed&&this.focusedChild.set("tabIndex","-1"),b.set("tabIndex",this.tabIndex),this.lastFocused=b,this._set("focusedChild",b))},_searchString:"",multiCharSearchDuration:1E3,onKeyboardSearch:function(b,a,c,f){b&&this.focusChild(b)},_keyboardSearchCompare:function(b,a){var c=b.domNode,c=(b.label||(c.focusNode?
c.focusNode.label:"")||c.innerText||c.textContent||"").replace(/^\s+/,"").substr(0,a.length).toLowerCase();return a.length&&c==a?-1:0},_onContainerKeydown:function(b){var a=this._keyNavCodes[b.keyCode];a?(a(b,this.focusedChild),b.stopPropagation(),b.preventDefault(),this._searchString=""):b.keyCode==g.SPACE&&(this._searchTimer&&!b.ctrlKey&&!b.altKey&&!b.metaKey)&&(b.stopImmediatePropagation(),b.preventDefault(),this._keyboardSearch(b," "))},_onContainerKeypress:function(b){b.charCode<=g.SPACE||(b.ctrlKey||
b.altKey||b.metaKey)||(b.preventDefault(),b.stopPropagation(),this._keyboardSearch(b,String.fromCharCode(b.charCode).toLowerCase()))},_keyboardSearch:function(c,a){var f=null,d,g=0;b.hitch(this,function(){this._searchTimer&&this._searchTimer.remove();this._searchString+=a;var b=/^(.)\1*$/.test(this._searchString)?1:this._searchString.length;d=this._searchString.substr(0,b);this._searchTimer=this.defer(function(){this._searchTimer=null;this._searchString=""},this.multiCharSearchDuration);var c=this.focusedChild||
null;if(1==b||!c)if(c=this._getNextFocusableChild(c,1),!c)return;b=c;do{var e=this._keyboardSearchCompare(c,d);e&&0==g++&&(f=c);if(-1==e){g=-1;break}c=this._getNextFocusableChild(c,1)}while(c!=b)})();this.onKeyboardSearch(f,c,d,g)},_onChildBlur:function(){},_getNextFocusableChild:function(b,a){var c=b;do{if(b)b=this._getNext(b,a);else if(b=this[0<a?"_getFirst":"_getLast"](),!b)break;if(null!=b&&b!=c&&b.isFocusable())return b}while(b!=c);return null},_getFirst:function(){return null},_getLast:function(){return null},
_getNext:function(b,a){if(b)for(b=b.domNode;b;)if((b=b[0>a?"previousSibling":"nextSibling"])&&"getAttribute"in b){var c=f.byNode(b);if(c)return c}return null}})})},"dijit/MenuItem":function(){define("dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/_base/kernel dojo/sniff dojo/_base/lang ./_Widget ./_TemplatedMixin ./_Contained ./_CssStateMixin dojo/text!./templates/MenuItem.html".split(" "),function(h,k,d,g,b,c,f,l,e,a,m,n){f=h("dijit.MenuItem"+(c("dojo-bidi")?"_NoBidi":""),[l,e,a,m],
{templateString:n,baseClass:"dijitMenuItem",label:"",_setLabelAttr:function(a){this._set("label",a);var b="",c;c=a.search(/{\S}/);if(0<=c){var b=a.charAt(c+1),e=a.substr(0,c);a=a.substr(c+3);c=e+b+a;a=e+'\x3cspan class\x3d"dijitMenuItemShortcutKey"\x3e'+b+"\x3c/span\x3e"+a}else c=a;this.domNode.setAttribute("aria-label",c+" "+this.accelKey);this.containerNode.innerHTML=a;this._set("shortcutKey",b)},iconClass:"dijitNoIcon",_setIconClassAttr:{node:"iconNode",type:"class"},accelKey:"",disabled:!1,_fillContent:function(a){a&&
!("label"in this.params)&&this._set("label",a.innerHTML)},buildRendering:function(){this.inherited(arguments);d.set(this.containerNode,"id",this.id+"_text");this.accelKeyNode&&d.set(this.accelKeyNode,"id",this.id+"_accel");k.setSelectable(this.domNode,!1)},onClick:function(){},focus:function(){try{8==c("ie")&&this.containerNode.focus(),this.focusNode.focus()}catch(a){}},_setSelected:function(a){g.toggle(this.domNode,"dijitMenuItemSelected",a)},setLabel:function(a){b.deprecated("dijit.MenuItem.setLabel() is deprecated.  Use set('label', ...) instead.",
"","2.0");this.set("label",a)},setDisabled:function(a){b.deprecated("dijit.Menu.setDisabled() is deprecated.  Use set('disabled', bool) instead.","","2.0");this.set("disabled",a)},_setDisabledAttr:function(a){this.focusNode.setAttribute("aria-disabled",a?"true":"false");this._set("disabled",a)},_setAccelKeyAttr:function(a){this.accelKeyNode&&(this.accelKeyNode.style.display=a?"":"none",this.accelKeyNode.innerHTML=a,d.set(this.containerNode,"colSpan",a?"1":"2"));this._set("accelKey",a)}});c("dojo-bidi")&&
(f=h("dijit.MenuItem",f,{_setLabelAttr:function(a){this.inherited(arguments);"auto"===this.textDir&&this.applyTextDir(this.textDirNode)}}));return f})},"dijit/layout/ScrollingTabController":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/_base/fx dojo/_base/lang dojo/on dojo/query dojo/sniff ../registry dojo/text!./templates/ScrollingTabController.html dojo/text!./templates/_ScrollingTabControllerButton.html ./TabController ./utils ../_WidgetsInTemplateMixin ../Menu ../MenuItem ../form/Button ../_HasDropDown dojo/NodeList-dom ../a11yclick".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s,v,w,u){n=k("dijit.layout.ScrollingTabController",[t,r],{baseClass:"dijitTabController dijitScrollingTabController",templateString:n,useMenu:!0,useSlider:!0,tabStripClass:"",_minScroll:5,_setClassAttr:{node:"containerNode",type:"class"},buildRendering:function(){this.inherited(arguments);var a=this.domNode;this.scrollNode=this.tablistWrapper;this._initButtons();this.tabStripClass||(this.tabStripClass="dijitTabContainer"+this.tabPosition.charAt(0).toUpperCase()+
this.tabPosition.substr(1).replace(/-.*/,"")+"None",d.add(a,"tabStrip-disabled"));d.add(this.tablistWrapper,this.tabStripClass)},onStartup:function(){this.inherited(arguments);b.set(this.domNode,"visibility","");this._postStartup=!0;this.own(l(this.containerNode,"attrmodified-label, attrmodified-iconclass",f.hitch(this,function(a){this._dim&&this.resize(this._dim)})))},onAddChild:function(a,c){this.inherited(arguments);b.set(this.containerNode,"width",b.get(this.containerNode,"width")+200+"px")},
onRemoveChild:function(a,b){var c=this.pane2button(a.id);this._selectedTab===c.domNode&&(this._selectedTab=null);this.inherited(arguments)},_initButtons:function(){this._btnWidth=0;this._buttons=e("\x3e .tabStripButton",this.domNode).filter(function(a){if(this.useMenu&&a==this._menuBtn.domNode||this.useSlider&&(a==this._rightBtn.domNode||a==this._leftBtn.domNode))return this._btnWidth+=g.getMarginSize(a).w,!0;b.set(a,"display","none");return!1},this)},_getTabsWidth:function(){var a=this.getChildren();
if(a.length){var b=a[this.isLeftToRight()?0:a.length-1].domNode,a=a[this.isLeftToRight()?a.length-1:0].domNode;return a.offsetLeft+a.offsetWidth-b.offsetLeft}return 0},_enableBtn:function(a){var c=this._getTabsWidth();a=a||b.get(this.scrollNode,"width");return 0<c&&a<c},resize:function(a){this._dim=a;this.scrollNode.style.height="auto";var b=this._contentBox=q.marginBox2contentBox(this.domNode,{h:0,w:a.w});b.h=this.scrollNode.offsetHeight;g.setContentSize(this.domNode,b);b=this._enableBtn(this._contentBox.w);
this._buttons.style("display",b?"":"none");this._leftBtn.region="left";this._rightBtn.region="right";this._menuBtn.region=this.isLeftToRight()?"right":"left";q.layoutChildren(this.domNode,this._contentBox,[this._menuBtn,this._leftBtn,this._rightBtn,{domNode:this.scrollNode,region:"center"}]);this._selectedTab&&(this._anim&&"playing"==this._anim.status()&&this._anim.stop(),this.scrollNode.scrollLeft=this._convertToScrollLeft(this._getScrollForSelectedTab()));this._setButtonClass(this._getScroll());
this._postResize=!0;return{h:this._contentBox.h,w:a.w}},_getScroll:function(){return this.isLeftToRight()||8>a("ie")||a("ie")&&a("quirks")||a("webkit")?this.scrollNode.scrollLeft:b.get(this.containerNode,"width")-b.get(this.scrollNode,"width")+(8<=a("ie")?-1:1)*this.scrollNode.scrollLeft},_convertToScrollLeft:function(c){if(this.isLeftToRight()||8>a("ie")||a("ie")&&a("quirks")||a("webkit"))return c;var e=b.get(this.containerNode,"width")-b.get(this.scrollNode,"width");return(8<=a("ie")?-1:1)*(c-e)},
onSelectChild:function(a){var c=this.pane2button(a.id);if(c){c=c.domNode;if(c!=this._selectedTab&&(this._selectedTab=c,this._postResize)){var e=this._getScroll();(e>c.offsetLeft||e+b.get(this.scrollNode,"width")<c.offsetLeft+b.get(c,"width"))&&this.createSmoothScroll().play()}this.inherited(arguments)}},_getScrollBounds:function(){var a=this.getChildren(),c=b.get(this.scrollNode,"width"),e=b.get(this.containerNode,"width")-c,f=this._getTabsWidth();if(a.length&&f>c)return{min:this.isLeftToRight()?
0:a[a.length-1].domNode.offsetLeft,max:this.isLeftToRight()?a[a.length-1].domNode.offsetLeft+a[a.length-1].domNode.offsetWidth-c:e};a=this.isLeftToRight()?0:e;return{min:a,max:a}},_getScrollForSelectedTab:function(){var a=this._selectedTab,c=b.get(this.scrollNode,"width"),e=this._getScrollBounds(),a=a.offsetLeft+b.get(a,"width")/2-c/2;return a=Math.min(Math.max(a,e.min),e.max)},createSmoothScroll:function(a){if(0<arguments.length){var b=this._getScrollBounds();a=Math.min(Math.max(a,b.min),b.max)}else a=
this._getScrollForSelectedTab();this._anim&&"playing"==this._anim.status()&&this._anim.stop();var e=this,f=this.scrollNode,d=new c.Animation({beforeBegin:function(){this.curve&&delete this.curve;var b=f.scrollLeft,g=e._convertToScrollLeft(a);d.curve=new c._Line(b,g)},onAnimate:function(a){f.scrollLeft=a}});this._anim=d;this._setButtonClass(a);return d},_getBtnNode:function(a){for(a=a.target;a&&!d.contains(a,"tabStripButton");)a=a.parentNode;return a},doSlideRight:function(a){this.doSlide(1,this._getBtnNode(a))},
doSlideLeft:function(a){this.doSlide(-1,this._getBtnNode(a))},doSlide:function(a,c){if(!c||!d.contains(c,"dijitTabDisabled")){var e=0.75*b.get(this.scrollNode,"width")*a,e=this._getScroll()+e;this._setButtonClass(e);this.createSmoothScroll(e).play()}},_setButtonClass:function(a){var b=this._getScrollBounds();this._leftBtn.set("disabled",a<=b.min);this._rightBtn.set("disabled",a>=b.max)}});p=k("dijit.layout._ScrollingTabControllerButtonMixin",null,{baseClass:"dijitTab tabStripButton",templateString:p,
tabIndex:"",isFocusable:function(){return!1}});k("dijit.layout._ScrollingTabControllerButton",[w,p]);k("dijit.layout._ScrollingTabControllerMenuButton",[w,u,p],{containerId:"",tabIndex:"-1",isLoaded:function(){return!1},loadDropDown:function(a){this.dropDown=new s({id:this.containerId+"_menu",ownerDocument:this.ownerDocument,dir:this.dir,lang:this.lang,textDir:this.textDir});var b=m.byId(this.containerId);h.forEach(b.getChildren(),function(a){var c=new v({id:a.id+"_stcMi",label:a.title,iconClass:a.iconClass,
disabled:a.disabled,ownerDocument:this.ownerDocument,dir:a.dir,lang:a.lang,textDir:a.textDir||b.textDir,onClick:function(){b.selectChild(a)}});this.dropDown.addChild(c)},this);a()},closeDropDown:function(a){this.inherited(arguments);this.dropDown&&(this._popupStateNode.removeAttribute("aria-owns"),this.dropDown.destroyRecursive(),delete this.dropDown)}});return n})},"dijit/_WidgetsInTemplateMixin":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/_base/lang","dojo/parser"],
function(h,k,d,g,b){return d("dijit._WidgetsInTemplateMixin",null,{_earlyTemplatedStartup:!1,widgetsInTemplate:!0,contextRequire:null,_beforeFillContent:function(){if(this.widgetsInTemplate){var c=this.domNode;this.containerNode&&!this.searchContainerNode&&(this.containerNode.stopParser=!0);b.parse(c,{noStart:!this._earlyTemplatedStartup,template:!0,inherited:{dir:this.dir,lang:this.lang,textDir:this.textDir},propsThis:this,contextRequire:this.contextRequire,scope:"dojo"}).then(g.hitch(this,function(b){this._startupWidgets=
b;for(var c=0;c<b.length;c++)this._processTemplateNode(b[c],function(b,a){return b[a]},function(b,a,c){return a in b?b.connect(b,a,c):b.on(a,c,!0)});this.containerNode&&this.containerNode.stopParser&&delete this.containerNode.stopParser}));if(!this._startupWidgets)throw Error(this.declaredClass+": parser returned unfilled promise (probably waiting for module auto-load), unsupported by _WidgetsInTemplateMixin.   Must pre-load all supporting widgets before instantiation.");}},_processTemplateNode:function(b,
f,d){return f(b,"dojoType")||f(b,"data-dojo-type")?!0:this.inherited(arguments)},startup:function(){h.forEach(this._startupWidgets,function(b){b&&(!b._started&&b.startup)&&b.startup()});this._startupWidgets=null;this.inherited(arguments)}})})},"dijit/_HasDropDown":function(){define("dojo/_base/declare dojo/_base/Deferred dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/has dojo/keys dojo/_base/lang dojo/on dojo/touch ./registry ./focus ./popup ./_FocusMixin".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r){return h("dijit._HasDropDown",r,{_buttonNode:null,_arrowWrapperNode:null,_popupStateNode:null,_aroundNode:null,dropDown:null,autoWidth:!0,forceWidth:!1,maxHeight:-1,dropDownPosition:["below","above"],_stopClickEvents:!0,_onDropDownMouseDown:function(b){!this.disabled&&!this.readOnly&&("MSPointerDown"!=b.type&&"pointerdown"!=b.type&&b.preventDefault(),this.own(m.once(this.ownerDocument,n.release,a.hitch(this,"_onDropDownMouseUp"))),this.toggleDropDown())},
_onDropDownMouseUp:function(a){var e=this.dropDown,f=!1;if(a&&this._opened){var d=c.position(this._buttonNode,!0);if(!(a.pageX>=d.x&&a.pageX<=d.x+d.w)||!(a.pageY>=d.y&&a.pageY<=d.y+d.h)){for(d=a.target;d&&!f;)b.contains(d,"dijitPopup")?f=!0:d=d.parentNode;if(f){d=a.target;if(e.onItemClick){for(var g;d&&!(g=p.byNode(d));)d=d.parentNode;if(g&&g.onClick&&g.getParent)g.getParent().onItemClick(g,a)}return}}}if(this._opened){if(e.focus&&(!1!==e.autoFocus||"mouseup"==a.type&&!this.hovering))this._focusDropDownTimer=
this.defer(function(){e.focus();delete this._focusDropDownTimer})}else this.focus&&this.defer("focus")},_onDropDownClick:function(a){this._stopClickEvents&&(a.stopPropagation(),a.preventDefault())},buildRendering:function(){this.inherited(arguments);this._buttonNode=this._buttonNode||this.focusNode||this.domNode;this._popupStateNode=this._popupStateNode||this.focusNode||this._buttonNode;var a={after:this.isLeftToRight()?"Right":"Left",before:this.isLeftToRight()?"Left":"Right",above:"Up",below:"Down",
left:"Left",right:"Right"}[this.dropDownPosition[0]]||this.dropDownPosition[0]||"Down";b.add(this._arrowWrapperNode||this._buttonNode,"dijit"+a+"ArrowButton")},postCreate:function(){this.inherited(arguments);var b=this.focusNode||this.domNode;this.own(m(this._buttonNode,n.press,a.hitch(this,"_onDropDownMouseDown")),m(this._buttonNode,"click",a.hitch(this,"_onDropDownClick")),m(b,"keydown",a.hitch(this,"_onKey")),m(b,"keyup",a.hitch(this,"_onKeyUp")))},destroy:function(){this._opened&&this.closeDropDown(!0);
this.dropDown&&(this.dropDown._destroyed||this.dropDown.destroyRecursive(),delete this.dropDown);this.inherited(arguments)},_onKey:function(a){if(!this.disabled&&!this.readOnly){var b=this.dropDown,c=a.target;if(b&&(this._opened&&b.handleKey)&&!1===b.handleKey(a))a.stopPropagation(),a.preventDefault();else if(b&&this._opened&&a.keyCode==e.ESCAPE)this.closeDropDown(),a.stopPropagation(),a.preventDefault();else if(!this._opened&&(a.keyCode==e.DOWN_ARROW||(a.keyCode==e.ENTER||a.keyCode==e.SPACE&&(!this._searchTimer||
a.ctrlKey||a.altKey||a.metaKey))&&("input"!==(c.tagName||"").toLowerCase()||c.type&&"text"!==c.type.toLowerCase())))this._toggleOnKeyUp=!0,a.stopPropagation(),a.preventDefault()}},_onKeyUp:function(){if(this._toggleOnKeyUp){delete this._toggleOnKeyUp;this.toggleDropDown();var b=this.dropDown;b&&b.focus&&this.defer(a.hitch(b,"focus"),1)}},_onBlur:function(){this.closeDropDown(!1);this.inherited(arguments)},isLoaded:function(){return!0},loadDropDown:function(a){a()},loadAndOpenDropDown:function(){var b=
new k,c=a.hitch(this,function(){this.openDropDown();b.resolve(this.dropDown)});this.isLoaded()?c():this.loadDropDown(c);return b},toggleDropDown:function(){!this.disabled&&!this.readOnly&&(this._opened?this.closeDropDown(!0):this.loadAndOpenDropDown())},openDropDown:function(){var e=this.dropDown,f=e.domNode,d=this._aroundNode||this.domNode,l=this,m=q.open({parent:this,popup:e,around:d,orient:this.dropDownPosition,maxHeight:this.maxHeight,onExecute:function(){l.closeDropDown(!0)},onCancel:function(){l.closeDropDown(!0)},
onClose:function(){g.set(l._popupStateNode,"popupActive",!1);b.remove(l._popupStateNode,"dijitHasDropDownOpen");l._set("_opened",!1)}});if(this.forceWidth||this.autoWidth&&d.offsetWidth>e._popupWrapper.offsetWidth){var d=d.offsetWidth-e._popupWrapper.offsetWidth,h={w:e.domNode.offsetWidth+d};a.isFunction(e.resize)?e.resize(h):c.setMarginBox(f,h);"R"==m.corner[1]&&(e._popupWrapper.style.left=e._popupWrapper.style.left.replace("px","")-d+"px")}g.set(this._popupStateNode,"popupActive","true");b.add(this._popupStateNode,
"dijitHasDropDownOpen");this._set("_opened",!0);this._popupStateNode.setAttribute("aria-expanded","true");this._popupStateNode.setAttribute("aria-owns",e.id);"presentation"!==f.getAttribute("role")&&!f.getAttribute("aria-labelledby")&&f.setAttribute("aria-labelledby",this.id);return m},closeDropDown:function(a){this._focusDropDownTimer&&(this._focusDropDownTimer.remove(),delete this._focusDropDownTimer);this._opened&&(this._popupStateNode.setAttribute("aria-expanded","false"),a&&this.focus&&this.focus(),
q.close(this.dropDown),this._opened=!1)}})})},"dijit/layout/BorderContainer":function(){define("dojo/_base/array dojo/cookie dojo/_base/declare dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/keys dojo/_base/lang dojo/on dojo/touch ../_WidgetBase ../_Widget ../_TemplatedMixin ./LayoutContainer ./utils".split(" "),function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r){var s=d("dijit.layout._Splitter",[p,t],{live:!0,templateString:'\x3cdiv class\x3d"dijitSplitter" data-dojo-attach-event\x3d"onkeydown:_onKeyDown,press:_startDrag,onmouseenter:_onMouse,onmouseleave:_onMouse" tabIndex\x3d"0" role\x3d"separator"\x3e\x3cdiv class\x3d"dijitSplitterThumb"\x3e\x3c/div\x3e\x3c/div\x3e',
constructor:function(){this._handlers=[]},postMixInProperties:function(){this.inherited(arguments);this.horizontal=/top|bottom/.test(this.region);this._factor=/top|left/.test(this.region)?1:-1;this._cookieName=this.container.id+"_"+this.region},buildRendering:function(){this.inherited(arguments);g.add(this.domNode,"dijitSplitter"+(this.horizontal?"H":"V"));if(this.container.persist){var a=k(this._cookieName);a&&(this.child.domNode.style[this.horizontal?"height":"width"]=a)}},_computeMaxSize:function(){var a=
this.horizontal?"h":"w",b=c.getMarginBox(this.child.domNode)[a],e=h.filter(this.container.getChildren(),function(a){return"center"==a.region})[0],a=c.getContentBox(e.domNode)[a]-10;return Math.min(this.child.maxSize,b+a)},_startDrag:function(d){this.cover||(this.cover=b.place("\x3cdiv class\x3ddijitSplitterCover\x3e\x3c/div\x3e",this.child.domNode,"after"));g.add(this.cover,"dijitSplitterCoverActive");this.fake&&b.destroy(this.fake);if(!(this._resize=this.live))(this.fake=this.domNode.cloneNode(!0)).removeAttribute("id"),
g.add(this.domNode,"dijitSplitterShadow"),b.place(this.fake,this.domNode,"after");g.add(this.domNode,"dijitSplitterActive dijitSplitter"+(this.horizontal?"H":"V")+"Active");this.fake&&g.remove(this.fake,"dijitSplitterHover dijitSplitter"+(this.horizontal?"H":"V")+"Hover");var l=this._factor,h=this.horizontal,k=h?"pageY":"pageX",n=d[k],p=this.domNode.style,h=h?"h":"w",t=f.getComputedStyle(this.child.domNode),q=c.getMarginBox(this.child.domNode,t)[h],s=this._computeMaxSize(),r=Math.max(this.child.minSize,
c.getPadBorderExtents(this.child.domNode,t)[h]+10),h=this.region,v="top"==h||"bottom"==h?"top":"left",J=parseInt(p[v],10),S=this._resize,W=e.hitch(this.container,"_layoutChildren",this.child.id),h=this.ownerDocument;this._handlers=this._handlers.concat([a(h,m.move,this._drag=function(a,b){var c=a[k]-n,e=l*c+q,f=Math.max(Math.min(e,s),r);(S||b)&&W(f);p[v]=c+J+l*(f-e)+"px"}),a(h,"dragstart",function(a){a.stopPropagation();a.preventDefault()}),a(this.ownerDocumentBody,"selectstart",function(a){a.stopPropagation();
a.preventDefault()}),a(h,m.release,e.hitch(this,"_stopDrag"))]);d.stopPropagation();d.preventDefault()},_onMouse:function(a){a="mouseover"==a.type||"mouseenter"==a.type;g.toggle(this.domNode,"dijitSplitterHover",a);g.toggle(this.domNode,"dijitSplitter"+(this.horizontal?"H":"V")+"Hover",a)},_stopDrag:function(a){try{this.cover&&g.remove(this.cover,"dijitSplitterCoverActive"),this.fake&&b.destroy(this.fake),g.remove(this.domNode,"dijitSplitterActive dijitSplitter"+(this.horizontal?"H":"V")+"Active dijitSplitterShadow"),
this._drag(a),this._drag(a,!0)}finally{this._cleanupHandlers(),delete this._drag}this.container.persist&&k(this._cookieName,this.child.domNode.style[this.horizontal?"height":"width"],{expires:365})},_cleanupHandlers:function(){for(var a;a=this._handlers.pop();)a.remove()},_onKeyDown:function(a){this._resize=!0;var b=this.horizontal,e=1;switch(a.keyCode){case b?l.UP_ARROW:l.LEFT_ARROW:e*=-1;case b?l.DOWN_ARROW:l.RIGHT_ARROW:break;default:return}b=c.getMarginSize(this.child.domNode)[b?"h":"w"]+this._factor*
e;this.container._layoutChildren(this.child.id,Math.max(Math.min(b,this._computeMaxSize()),this.child.minSize));a.stopPropagation();a.preventDefault()},destroy:function(){this._cleanupHandlers();delete this.child;delete this.container;delete this.cover;delete this.fake;this.inherited(arguments)}}),v=d("dijit.layout._Gutter",[p,t],{templateString:'\x3cdiv class\x3d"dijitGutter" role\x3d"presentation"\x3e\x3c/div\x3e',postMixInProperties:function(){this.inherited(arguments);this.horizontal=/top|bottom/.test(this.region)},
buildRendering:function(){this.inherited(arguments);g.add(this.domNode,"dijitGutter"+(this.horizontal?"H":"V"))}});d=d("dijit.layout.BorderContainer",q,{gutters:!0,liveSplitters:!0,persist:!1,baseClass:"dijitBorderContainer",_splitterClass:s,postMixInProperties:function(){this.gutters||(this.baseClass+="NoGutter");this.inherited(arguments)},_setupChild:function(a){this.inherited(arguments);var c=a.region,f=a.isLeftToRight();"leading"==c&&(c=f?"left":"right");"trailing"==c&&(c=f?"right":"left");if(c&&
"center"!=c&&(a.splitter||this.gutters)&&!a._splitterWidget)f=a.splitter?this._splitterClass:v,e.isString(f)&&(f=e.getObject(f)),f=new f({id:a.id+"_splitter",container:this,child:a,region:c,live:this.liveSplitters}),f.isSplitter=!0,a._splitterWidget=f,c="bottom"==c||c==(this.isLeftToRight()?"right":"left"),b.place(f.domNode,a.domNode,c?"before":"after"),f.startup()},layout:function(){this._layoutChildren()},removeChild:function(a){var b=a._splitterWidget;b&&(b.destroy(),delete a._splitterWidget);
this.inherited(arguments)},getChildren:function(){return h.filter(this.inherited(arguments),function(a){return!a.isSplitter})},getSplitter:function(a){return h.filter(this.getChildren(),function(b){return b.region==a})[0]._splitterWidget},resize:function(a,b){if(!this.cs||!this.pe){var e=this.domNode;this.cs=f.getComputedStyle(e);this.pe=c.getPadExtents(e,this.cs);this.pe.r=f.toPixelValue(e,this.cs.paddingRight);this.pe.b=f.toPixelValue(e,this.cs.paddingBottom);f.set(e,"padding","0px")}this.inherited(arguments)},
_layoutChildren:function(a,b){if(this._borderBox&&this._borderBox.h){var c=[];h.forEach(this._getOrderedChildren(),function(a){c.push(a);a._splitterWidget&&c.push(a._splitterWidget)});r.layoutChildren(this.domNode,{l:this.pe.l,t:this.pe.t,w:this._borderBox.w-this.pe.w,h:this._borderBox.h-this.pe.h},c,a,b)}},destroyRecursive:function(){h.forEach(this.getChildren(),function(a){var b=a._splitterWidget;b&&b.destroy();delete a._splitterWidget});this.inherited(arguments)}});d.ChildWidgetProperties={splitter:!1,
minSize:0,maxSize:Infinity};e.mixin(d.ChildWidgetProperties,q.ChildWidgetProperties);e.extend(n,d.ChildWidgetProperties);d._Splitter=s;d._Gutter=v;return d})},"dijit/layout/LayoutContainer":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-class dojo/dom-style dojo/_base/lang ../_WidgetBase ./_LayoutWidget ./utils".split(" "),function(h,k,d,g,b,c,f,l){k=k("dijit.layout.LayoutContainer",f,{design:"headline",baseClass:"dijitLayoutContainer",startup:function(){this._started||(h.forEach(this.getChildren(),
this._setupChild,this),this.inherited(arguments))},_setupChild:function(b){this.inherited(arguments);b.region&&d.add(b.domNode,this.baseClass+"Pane")},_getOrderedChildren:function(){var b=h.map(this.getChildren(),function(a,b){return{pane:a,weight:["center"==a.region?Infinity:0,a.layoutPriority,("sidebar"==this.design?1:-1)*(/top|bottom/.test(a.region)?1:-1),b]}},this);b.sort(function(a,b){for(var c=a.weight,e=b.weight,f=0;f<c.length;f++)if(c[f]!=e[f])return c[f]-e[f];return 0});return h.map(b,function(a){return a.pane})},
layout:function(){l.layoutChildren(this.domNode,this._contentBox,this._getOrderedChildren())},addChild:function(b,a){this.inherited(arguments);this._started&&this.layout()},removeChild:function(b){this.inherited(arguments);this._started&&this.layout();d.remove(b.domNode,this.baseClass+"Pane");g.set(b.domNode,{top:"auto",bottom:"auto",left:"auto",right:"auto",position:"static"});g.set(b.domNode,/top|bottom/.test(b.region)?"width":"height","auto")}});k.ChildWidgetProperties={region:"",layoutAlign:"",
layoutPriority:0};b.extend(c,k.ChildWidgetProperties);return k})},"dijit/layout/AccordionPane":function(){define(["dojo/_base/declare","dojo/_base/kernel","./ContentPane"],function(h,k,d){return h("dijit.layout.AccordionPane",d,{constructor:function(){k.deprecated("dijit.layout.AccordionPane deprecated, use ContentPane instead","","2.0")},onSelected:function(){}})})},"dijit/layout/ContentPane":function(){define("dojo/_base/kernel dojo/_base/lang ../_Widget ../_Container ./_ContentPaneResizeMixin dojo/string dojo/html dojo/i18n!../nls/loading dojo/_base/array dojo/_base/declare dojo/_base/Deferred dojo/dom dojo/dom-attr dojo/dom-construct dojo/_base/xhr dojo/i18n dojo/when".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s){return a("dijit.layout.ContentPane",[d,g,b],{href:"",content:"",extractContent:!1,parseOnLoad:!0,parserScope:h._scopeName,preventCache:!1,preload:!1,refreshOnShow:!1,loadingMessage:"\x3cspan class\x3d'dijitContentPaneLoading lastUnit size1of1'\x3e\x3cspan class\x3d'dijitInline dijitIconLoading'\x3e\x3c/span\x3e${loadingState}\x3c/span\x3e",errorMessage:"\x3cspan class\x3d'dijitContentPaneError'\x3e\x3cspan class\x3d'dijitInline dijitIconError'\x3e\x3c/span\x3e${errorState}\x3c/span\x3e",
isLoaded:!1,baseClass:"dijitContentPane",ioArgs:{},onLoadDeferred:null,_setTitleAttr:null,stopParser:!0,template:!1,markupFactory:function(a,b,c){var e=new c(a,b);return!e.href&&e._contentSetter&&e._contentSetter.parseDeferred&&!e._contentSetter.parseDeferred.isFulfilled()?e._contentSetter.parseDeferred.then(function(){return e}):e},create:function(a,b){if((!a||!a.template)&&b&&!("href"in a)&&!("content"in a)){b=n.byId(b);for(var c=b.ownerDocument.createDocumentFragment();b.firstChild;)c.appendChild(b.firstChild);
a=k.delegate(a,{content:c})}this.inherited(arguments,[a,b])},postMixInProperties:function(){this.inherited(arguments);var a=r.getLocalization("dijit","loading",this.lang);this.loadingMessage=c.substitute(this.loadingMessage,a);this.errorMessage=c.substitute(this.errorMessage,a)},buildRendering:function(){this.inherited(arguments);this.containerNode||(this.containerNode=this.domNode);this.domNode.removeAttribute("title")},startup:function(){this.inherited(arguments);this._contentSetter&&e.forEach(this._contentSetter.parseResults,
function(a){!a._started&&(!a._destroyed&&k.isFunction(a.startup))&&(a.startup(),a._started=!0)},this)},_startChildren:function(){e.forEach(this.getChildren(),function(a){!a._started&&(!a._destroyed&&k.isFunction(a.startup))&&(a.startup(),a._started=!0)});this._contentSetter&&e.forEach(this._contentSetter.parseResults,function(a){!a._started&&(!a._destroyed&&k.isFunction(a.startup))&&(a.startup(),a._started=!0)},this)},setHref:function(a){h.deprecated("dijit.layout.ContentPane.setHref() is deprecated. Use set('href', ...) instead.",
"","2.0");return this.set("href",a)},_setHrefAttr:function(a){this.cancel();this.onLoadDeferred=new m(k.hitch(this,"cancel"));this.onLoadDeferred.then(k.hitch(this,"onLoad"));this._set("href",a);this.preload||this._created&&this._isShown()?this._load():this._hrefChanged=!0;return this.onLoadDeferred},setContent:function(a){h.deprecated("dijit.layout.ContentPane.setContent() is deprecated.  Use set('content', ...) instead.","","2.0");this.set("content",a)},_setContentAttr:function(a){this._set("href",
"");this.cancel();this.onLoadDeferred=new m(k.hitch(this,"cancel"));this._created&&this.onLoadDeferred.then(k.hitch(this,"onLoad"));this._setContent(a||"");this._isDownloaded=!1;return this.onLoadDeferred},_getContentAttr:function(){return this.containerNode.innerHTML},cancel:function(){this._xhrDfd&&-1==this._xhrDfd.fired&&this._xhrDfd.cancel();delete this._xhrDfd;this.onLoadDeferred=null},destroy:function(){this.cancel();this.inherited(arguments)},destroyRecursive:function(a){this._beingDestroyed||
this.inherited(arguments)},_onShow:function(){this.inherited(arguments);if(this.href&&!this._xhrDfd&&(!this.isLoaded||this._hrefChanged||this.refreshOnShow))return this.refresh()},refresh:function(){this.cancel();this.onLoadDeferred=new m(k.hitch(this,"cancel"));this.onLoadDeferred.then(k.hitch(this,"onLoad"));this._load();return this.onLoadDeferred},_load:function(){this._setContent(this.onDownloadStart(),!0);var a=this,b={preventCache:this.preventCache||this.refreshOnShow,url:this.href,handleAs:"text"};
k.isObject(this.ioArgs)&&k.mixin(b,this.ioArgs);var c=this._xhrDfd=(this.ioMethod||q.get)(b),e;c.then(function(b){e=b;try{return a._isDownloaded=!0,a._setContent(b,!1)}catch(c){a._onError("Content",c)}},function(b){c.canceled||a._onError("Download",b);delete a._xhrDfd;return b}).then(function(){a.onDownloadEnd();delete a._xhrDfd;return e});delete this._hrefChanged},_onLoadHandler:function(a){this._set("isLoaded",!0);try{this.onLoadDeferred.resolve(a)}catch(b){}},_onUnloadHandler:function(){this._set("isLoaded",
!1);try{this.onUnload()}catch(a){}},destroyDescendants:function(a){this.isLoaded&&this._onUnloadHandler();var b=this._contentSetter;e.forEach(this.getChildren(),function(b){b.destroyRecursive?b.destroyRecursive(a):b.destroy&&b.destroy(a);b._destroyed=!0});b&&(e.forEach(b.parseResults,function(b){b._destroyed||(b.destroyRecursive?b.destroyRecursive(a):b.destroy&&b.destroy(a),b._destroyed=!0)}),delete b.parseResults);a||t.empty(this.containerNode);delete this._singleChild},_setContent:function(a,b){this.destroyDescendants();
var c=this._contentSetter;c&&c instanceof f._ContentSetter||(c=this._contentSetter=new f._ContentSetter({node:this.containerNode,_onError:k.hitch(this,this._onError),onContentError:k.hitch(this,function(a){a=this.onContentError(a);try{this.containerNode.innerHTML=a}catch(b){}})}));var e=k.mixin({cleanContent:this.cleanContent,extractContent:this.extractContent,parseContent:!a.domNode&&this.parseOnLoad,parserScope:this.parserScope,startup:!1,dir:this.dir,lang:this.lang,textDir:this.textDir},this._contentSetterParams||
{}),e=c.set(k.isObject(a)&&a.domNode?a.domNode:a,e),d=this;return s(e&&e.then?e:c.parseDeferred,function(){delete d._contentSetterParams;b||(d._started&&(d._startChildren(),d._scheduleLayout()),d._onLoadHandler(a))})},_onError:function(a,b,c){this.onLoadDeferred.reject(b);a=this["on"+a+"Error"].call(this,b);c||a&&this._setContent(a,!0)},onLoad:function(){},onUnload:function(){},onDownloadStart:function(){return this.loadingMessage},onContentError:function(){},onDownloadError:function(){return this.errorMessage},
onDownloadEnd:function(){}})})},"dijit/layout/_ContentPaneResizeMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/_base/lang dojo/query ../registry ../Viewport ./utils".split(" "),function(h,k,d,g,b,c,f,l,e,a){return k("dijit.layout._ContentPaneResizeMixin",null,{doLayout:!0,isLayoutContainer:!0,startup:function(){if(!this._started){var a=this.getParent();this._childOfLayoutWidget=a&&a.isLayoutContainer;this._needLayout=!this._childOfLayoutWidget;
this.inherited(arguments);this._isShown()&&this._onShow();this._childOfLayoutWidget||this.own(e.on("resize",c.hitch(this,"resize")))}},_checkIfSingleChild:function(){if(this.doLayout){var a=[],b=!1;f("\x3e *",this.containerNode).some(function(c){var e=l.byNode(c);e&&e.resize?a.push(e):!/script|link|style/i.test(c.nodeName)&&c.offsetHeight&&(b=!0)});this._singleChild=1==a.length&&!b?a[0]:null;d.toggle(this.containerNode,this.baseClass+"SingleChild",!!this._singleChild)}},resize:function(a,b){this._resizeCalled=
!0;this._scheduleLayout(a,b)},_scheduleLayout:function(a,b){this._isShown()?this._layout(a,b):(this._needLayout=!0,this._changeSize=a,this._resultSize=b)},_layout:function(b,e){delete this._needLayout;!this._wasShown&&!1!==this.open&&this._onShow();b&&g.setMarginBox(this.domNode,b);var f=this.containerNode;if(f===this.domNode){var d=e||{};c.mixin(d,b||{});if(!("h"in d)||!("w"in d))d=c.mixin(g.getMarginBox(f),d);this._contentBox=a.marginBox2contentBox(f,d)}else this._contentBox=g.getContentBox(f);
this._layoutChildren()},_layoutChildren:function(){this._checkIfSingleChild();if(this._singleChild&&this._singleChild.resize){var a=this._contentBox||g.getContentBox(this.containerNode);this._singleChild.resize({w:a.w,h:a.h})}else for(var a=this.getChildren(),b,c=0;b=a[c++];)b.resize&&b.resize()},_isShown:function(){if(this._childOfLayoutWidget)return this._resizeCalled&&"open"in this?this.open:this._resizeCalled;if("open"in this)return this.open;var a=this.domNode,b=this.domNode.parentNode;return"none"!=
a.style.display&&"hidden"!=a.style.visibility&&!d.contains(a,"dijitHidden")&&b&&b.style&&"none"!=b.style.display},_onShow:function(){this._wasShown=!0;this._needLayout&&this._layout(this._changeSize,this._resultSize);this.inherited(arguments)}})})},"dojox/layout/ContentPane":function(){define(["dojo/_base/lang","dojo/_base/xhr","dijit/layout/ContentPane","dojox/html/_base","dojo/_base/declare"],function(h,k,d,g,b){return b("dojox.layout.ContentPane",d,{adjustPaths:!1,cleanContent:!1,renderStyles:!1,
executeScripts:!0,scriptHasHooks:!1,ioMethod:k.get,ioArgs:{},onExecError:function(b){},_setContent:function(b){var f=this._contentSetter;f&&f instanceof g._ContentSetter||(f=this._contentSetter=new g._ContentSetter({node:this.containerNode,_onError:h.hitch(this,this._onError),onContentError:h.hitch(this,function(b){b=this.onContentError(b);try{this.containerNode.innerHTML=b}catch(c){}})}));this._contentSetterParams={adjustPaths:Boolean(this.adjustPaths&&(this.href||this.referencePath)),referencePath:this.href||
this.referencePath,renderStyles:this.renderStyles,executeScripts:this.executeScripts,scriptHasHooks:this.scriptHasHooks,scriptHookReplacement:"dijit.byId('"+this.id+"')"};return this.inherited("_setContent",arguments)},destroy:function(){var b=this._contentSetter;b&&b.tearDown();this.inherited(arguments)}})})},"dojox/html/_base":function(){define("dojo/_base/declare dojo/Deferred dojo/dom-construct dojo/html dojo/_base/kernel dojo/_base/lang dojo/ready dojo/_base/sniff dojo/_base/url dojo/_base/xhr dojo/when dojo/_base/window".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n){var p=b.getObject("dojox.html",!0);if(l("ie"))var t=/(AlphaImageLoader\([^)]*?src=(['"]))(?![a-z]+:|\/)([^\r\n;}]+?)(\2[^)]*\)\s*[;}]?)/g;var q=/(?:(?:@import\s*(['"])(?![a-z]+:|\/)([^\r\n;{]+?)\1)|url\(\s*(['"]?)(?![a-z]+:|\/)([^\r\n;]+?)\3\s*\))([a-z, \s]*[;}]?)/g,r=p._adjustCssPaths=function(a,b){if(b&&a)return t&&(b=b.replace(t,function(b,c,f,d,g){return c+(new e(a,"./"+d)).toString()+g})),b.replace(q,function(b,c,f,d,g,l){return f?'@import "'+(new e(a,"./"+f)).toString()+
'"'+l:"url("+(new e(a,"./"+g)).toString()+")"+l})},s=/(<[a-z][a-z0-9]*\s[^>]*)(?:(href|src)=(['"]?)([^>]*?)\3|style=(['"]?)([^>]*?)\5)([^>]*>)/gi,v=p._adjustHtmlPaths=function(a,b){var c=a||"./";return b.replace(s,function(a,b,f,d,g,l,m,h){return b+(f?f+"\x3d"+d+(new e(c,g)).toString()+d:"style\x3d"+l+r(c,m)+l)+h})},w=p._snarfStyles=function(a,b,c){c.attributes=[];b=b.replace(/<[!][-][-](.|\s)*?[-][-]>/g,function(a){return a.replace(/<(\/?)style\b/ig,"\x26lt;$1Style").replace(/<(\/?)link\b/ig,"\x26lt;$1Link").replace(/@import "/ig,
'@ import "')});return b.replace(/(?:<style([^>]*)>([\s\S]*?)<\/style>|<link\s+(?=[^>]*rel=['"]?stylesheet)([^>]*?href=(['"])([^>]*?)\4[^>\/]*)\/?>)/gi,function(b,e,f,d,g,l){b=(e||d||"").replace(/^\s*([\s\S]*?)\s*$/i,"$1");f?f=c.push(a?r(a,f):f):(f=c.push('@import "'+l+'";'),b=b.replace(/\s*(?:rel|href)=(['"])?[^\s]*\1\s*/gi,""));if(b){b=b.split(/\s+/);l={};d=0;for(g=b.length;d<g;d++)e=b[d].split("\x3d"),l[e[0]]=e[1].replace(/^\s*['"]?([\s\S]*?)['"]?\s*$/,"$1");c.attributes[f-1]=l}return""})},u=p._snarfScripts=
function(b,c){function e(b){c.downloadRemote&&(b=b.replace(/&([a-z0-9#]+);/g,function(a,b){switch(b){case "amp":return"\x26";case "gt":return"\x3e";case "lt":return"\x3c";default:return"#"==b.charAt(0)?String.fromCharCode(b.substring(1)):"\x26"+b+";"}}),a.get({url:b,sync:!0,load:function(a){c.code+=a+";"},error:c.errBack}))}c.code="";b=b.replace(/<[!][-][-](.|\s)*?[-][-]>/g,function(a){return a.replace(/<(\/?)script\b/ig,"\x26lt;$1Script")});return b.replace(/<script\s*(?![^>]*type=['"]?(?:dojo\/|text\/html\b))[^>]*?(?:src=(['"]?)([^>]*?)\1[^>]*)?>([\s\S]*?)<\/script>/gi,
function(a,b,f,d){f?e(f):c.code+=d;return""})},y=p.evalInGlobal=function(a,b){b=b||n.doc.body;var c=b.ownerDocument.createElement("script");c.type="text/javascript";b.appendChild(c);c.text=a};p._ContentSetter=h(g._ContentSetter,{adjustPaths:!1,referencePath:".",renderStyles:!1,executeScripts:!1,scriptHasHooks:!1,scriptHookReplacement:null,_renderStyles:function(a){this._styleNodes=[];for(var b,c,e,f=this.node.ownerDocument,d=f.getElementsByTagName("head")[0],g=0,l=a.length;g<l;g++){e=a[g];c=a.attributes[g];
b=f.createElement("style");b.setAttribute("type","text/css");for(var m in c)b.setAttribute(m,c[m]);this._styleNodes.push(b);d.appendChild(b);b.styleSheet?b.styleSheet.cssText=e:b.appendChild(f.createTextNode(e))}},empty:function(){this.inherited("empty",arguments);this._styles=[]},onBegin:function(){this.inherited("onBegin",arguments);var a=this.content,b=this._styles;if(c.isString(a)){this.adjustPaths&&this.referencePath&&(a=v(this.referencePath,a));if(this.renderStyles||this.cleanContent)a=w(this.referencePath,
a,b);if(this.executeScripts){var e=this,b={downloadRemote:!0,errBack:function(a){e._onError.call(e,"Exec",'Error downloading remote script in "'+e.id+'"',a)}},a=u(a,b);this._code=b.code}}this.content=a},onEnd:function(){var a=this._code,b=this._styles;if(this._styleNodes&&this._styleNodes.length)for(;this._styleNodes.length;)d.destroy(this._styleNodes.pop());this.renderStyles&&(b&&b.length)&&this._renderStyles(b);var e=new k,g=this.getInherited(arguments),l=arguments,b=c.hitch(this,function(){g.apply(this,
l);m(this.parseDeferred,function(){e.resolve()})});if(this.executeScripts&&a){this.cleanContent&&(a=a.replace(/(\x3c!--|(?:\/\/)?--\x3e|<!\[CDATA\[|\]\]>)/g,""));this.scriptHasHooks&&(a=a.replace(/_container_(?!\s*=[^=])/g,this.scriptHookReplacement));try{y(a,this.node)}catch(h){this._onError("Exec","Error eval script in "+this.id+", "+h.message,h)}f(b)}else b();return e.promise},tearDown:function(){this.inherited(arguments);delete this._styles;if(this._styleNodes&&this._styleNodes.length)for(;this._styleNodes.length;)d.destroy(this._styleNodes.pop());
delete this._styleNodes;c.mixin(this,p._ContentSetter.prototype)}});p.set=function(a,b,e){return e?(new p._ContentSetter(c.mixin(e,{content:b,node:a}))).set():g._setNodeContent(a,b,!0)};return p})},"dijit/Dialog":function(){define("require dojo/_base/array dojo/aspect dojo/_base/declare dojo/Deferred dojo/dom dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/_base/fx dojo/i18n dojo/keys dojo/_base/lang dojo/on dojo/ready dojo/sniff dojo/window dojo/dnd/Moveable dojo/dnd/TimedMoveable ./focus ./_base/manager ./_Widget ./_TemplatedMixin ./_CssStateMixin ./form/_FormMixin ./_DialogMixin ./DialogUnderlay ./layout/ContentPane ./layout/utils dojo/text!./templates/Dialog.html ./a11yclick dojo/i18n!./nls/common".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s,v,w,u,y,x,A,C,D,E,G,H,M,J){var S=new b;S.resolve(!0);y=g("dijit._DialogBase"+(r("dojo-bidi")?"_NoBidi":""),[A,D,E,C],{templateString:J,baseClass:"dijitDialog",cssStateNodes:{closeButtonNode:"dijitDialogCloseIcon"},_setTitleAttr:{node:"titleNode",type:"innerHTML"},open:!1,duration:y.defaultDuration,refocus:!0,autofocus:!0,_firstFocusItem:null,_lastFocusItem:null,draggable:!0,_setDraggableAttr:function(a){this._set("draggable",a)},maxRatio:0.9,closable:!0,
_setClosableAttr:function(a){this.closeButtonNode.style.display=a?"":"none";this._set("closable",a)},postMixInProperties:function(){var a=m.getLocalization("dijit","common");p.mixin(this,a);this.inherited(arguments)},postCreate:function(){e.set(this.domNode,{display:"none",position:"absolute"});this.ownerDocumentBody.appendChild(this.domNode);this.inherited(arguments);d.after(this,"onExecute",p.hitch(this,"hide"),!0);d.after(this,"onCancel",p.hitch(this,"hide"),!0);this._modalconnects=[]},onLoad:function(){this.resize();
this._position();this.autofocus&&X.isTop(this)&&(this._getFocusItems(),u.focus(this._firstFocusItem));this.inherited(arguments)},focus:function(){this._getFocusItems();u.focus(this._firstFocusItem)},_endDrag:function(){var a=l.position(this.domNode),b=s.getBox(this.ownerDocument);a.y=Math.min(Math.max(a.y,0),b.h-a.h);a.x=Math.min(Math.max(a.x,0),b.w-a.w);this._relativePosition=a;this._position()},_setup:function(){var a=this.domNode;this.titleBar&&this.draggable?(this._moveable=new (6==r("ie")?w:
v)(a,{handle:this.titleBar}),d.after(this._moveable,"onMoveStop",p.hitch(this,"_endDrag"),!0)):f.add(a,"dijitDialogFixed");this.underlayAttrs={dialogId:this.id,"class":k.map(this["class"].split(/\s/),function(a){return a+"_underlay"}).join(" "),_onKeyDown:p.hitch(this,"_onKey"),ownerDocument:this.ownerDocument}},_size:function(){this.resize()},_position:function(){if(!f.contains(this.ownerDocumentBody,"dojoMove")){var a=this.domNode,b=s.getBox(this.ownerDocument),c=this._relativePosition,d=c?null:
l.position(a);e.set(a,{left:Math.floor(b.l+(c?c.x:(b.w-d.w)/2))+"px",top:Math.floor(b.t+(c?c.y:(b.h-d.h)/2))+"px"})}},_onKey:function(a){if(a.keyCode==n.TAB){this._getFocusItems();var b=a.target;this._firstFocusItem==this._lastFocusItem?(a.stopPropagation(),a.preventDefault()):b==this._firstFocusItem&&a.shiftKey?(u.focus(this._lastFocusItem),a.stopPropagation(),a.preventDefault()):b==this._lastFocusItem&&!a.shiftKey&&(u.focus(this._firstFocusItem),a.stopPropagation(),a.preventDefault())}else this.closable&&
a.keyCode==n.ESCAPE&&(this.onCancel(),a.stopPropagation(),a.preventDefault())},show:function(){if(this.open)return S.promise;this._started||this.startup();this._alreadyInitialized||(this._setup(),this._alreadyInitialized=!0);this._fadeOutDeferred&&(this._fadeOutDeferred.cancel(),X.hide(this));var c=s.get(this.ownerDocument);this._modalconnects.push(t(c,"scroll",p.hitch(this,"resize",null)));this._modalconnects.push(t(this.domNode,"keydown",p.hitch(this,"_onKey")));e.set(this.domNode,{opacity:0,display:""});
this._set("open",!0);this._onShow();this.resize();this._position();var d;this._fadeInDeferred=new b(p.hitch(this,function(){d.stop();delete this._fadeInDeferred}));c=this._fadeInDeferred.promise;d=a.fadeIn({node:this.domNode,duration:this.duration,beforeBegin:p.hitch(this,function(){X.show(this,this.underlayAttrs)}),onEnd:p.hitch(this,function(){this.autofocus&&X.isTop(this)&&(this._getFocusItems(),u.focus(this._firstFocusItem));this._fadeInDeferred.resolve(!0);delete this._fadeInDeferred})}).play();
f.add(document.body,"overflow-hidden");return c},hide:function(){if(!this._alreadyInitialized||!this.open)return S.promise;this._fadeInDeferred&&this._fadeInDeferred.cancel();var c;this._fadeOutDeferred=new b(p.hitch(this,function(){c.stop();delete this._fadeOutDeferred}));this._fadeOutDeferred.then(p.hitch(this,"onHide"));var e=this._fadeOutDeferred.promise;c=a.fadeOut({node:this.domNode,duration:this.duration,onEnd:p.hitch(this,function(){this.domNode.style.display="none";X.hide(this);this._fadeOutDeferred.resolve(!0);
delete this._fadeOutDeferred})}).play();this._scrollConnected&&(this._scrollConnected=!1);for(var d;d=this._modalconnects.pop();)d.remove();this._relativePosition&&delete this._relativePosition;this._set("open",!1);f.remove(document.body,"overflow-hidden");return e},resize:function(a){if("none"!=this.domNode.style.display){this._checkIfSingleChild();if(!a){this._shrunk&&(this._singleChild&&"undefined"!=typeof this._singleChildOriginalStyle&&(this._singleChild.domNode.style.cssText=this._singleChildOriginalStyle,
delete this._singleChildOriginalStyle),k.forEach([this.domNode,this.containerNode,this.titleBar,this.actionBarNode],function(a){a&&e.set(a,{position:"static",width:"auto",height:"auto"})}),this.domNode.style.position="absolute");var b=s.getBox(this.ownerDocument);b.w*=this.maxRatio;b.h*=this.maxRatio;var c=l.position(this.domNode);c.w>=b.w||c.h>=b.h?(a={w:Math.min(c.w,b.w),h:Math.min(c.h,b.h)},this._shrunk=!0):this._shrunk=!1}if(a){l.setMarginBox(this.domNode,a);b=[];this.titleBar&&b.push({domNode:this.titleBar,
region:"top"});this.actionBarNode&&b.push({domNode:this.actionBarNode,region:"bottom"});c={domNode:this.containerNode,region:"center"};b.push(c);var f=M.marginBox2contentBox(this.domNode,a);M.layoutChildren(this.domNode,f,b);this._singleChild?(b=M.marginBox2contentBox(this.containerNode,c),this._singleChild.resize({w:b.w,h:b.h})):(this.containerNode.style.overflow="auto",this._layoutChildren())}else this._layoutChildren();!r("touch")&&!a&&this._position()}},_layoutChildren:function(){k.forEach(this.getChildren(),
function(a){a.resize&&a.resize()})},destroy:function(){this._fadeInDeferred&&this._fadeInDeferred.cancel();this._fadeOutDeferred&&this._fadeOutDeferred.cancel();this._moveable&&this._moveable.destroy();for(var a;a=this._modalconnects.pop();)a.remove();X.hide(this);this.inherited(arguments)}});r("dojo-bidi")&&(y=g("dijit._DialogBase",y,{_setTitleAttr:function(a){this._set("title",a);this.titleNode.innerHTML=a;this.applyTextDir(this.titleNode)},_setTextDirAttr:function(a){this._created&&this.textDir!=
a&&(this._set("textDir",a),this.set("title",this.title))}}));var W=g("dijit.Dialog",[H,y],{});W._DialogBase=y;var X=W._DialogLevelManager={_beginZIndex:950,show:function(a,b){K[K.length-1].focus=u.curNode;var c=K[K.length-1].dialog?K[K.length-1].zIndex+2:W._DialogLevelManager._beginZIndex;e.set(a.domNode,"zIndex",c);G.show(b,c-1);K.push({dialog:a,underlayAttrs:b,zIndex:c})},hide:function(a){if(K[K.length-1].dialog==a){K.pop();var b=K[K.length-1];1==K.length?G.hide():G.show(b.underlayAttrs,b.zIndex-
1);if(a.refocus){a=b.focus;if(b.dialog&&(!a||!c.isDescendant(a,b.dialog.domNode)))b.dialog._getFocusItems(),a=b.dialog._firstFocusItem;if(a)try{a.focus()}catch(e){}}}else b=k.indexOf(k.map(K,function(a){return a.dialog}),a),-1!=b&&K.splice(b,1)},isTop:function(a){return K[K.length-1].dialog==a}},K=W._dialogStack=[{dialog:null,focus:null,underlayAttrs:null}];u.watch("curNode",function(a,b,c){a=K[K.length-1].dialog;if(c&&a&&!a._fadeOutDeferred&&c.ownerDocument==a.ownerDocument){do if(c==a.domNode||
f.contains(c,"dijitPopup"))return;while(c=c.parentNode);a.focus()}});r("dijit-legacy-requires")&&q(0,function(){h(["dijit/TooltipDialog"])});return W})},"dojo/dnd/Moveable":function(){define("../_base/array ../_base/declare ../_base/lang ../dom ../dom-class ../Evented ../on ../topic ../touch ./common ./Mover ../_base/window".split(" "),function(h,k,d,g,b,c,f,l,e,a,m,n){return k("dojo.dnd.Moveable",[c],{handle:"",delay:0,skip:!1,constructor:function(a,b){this.node=g.byId(a);b||(b={});this.handle=b.handle?
g.byId(b.handle):null;this.handle||(this.handle=this.node);this.delay=0<b.delay?b.delay:0;this.skip=b.skip;this.mover=b.mover?b.mover:m;this.events=[f(this.handle,e.press,d.hitch(this,"onMouseDown")),f(this.handle,"dragstart",d.hitch(this,"onSelectStart")),f(this.handle,"selectstart",d.hitch(this,"onSelectStart"))]},markupFactory:function(a,b,c){return new c(b,a)},destroy:function(){h.forEach(this.events,function(a){a.remove()});this.events=this.node=this.handle=null},onMouseDown:function(b){if(!this.skip||
!a.isFormElement(b)){if(this.delay)this.events.push(f(this.handle,e.move,d.hitch(this,"onMouseMove")),f(this.handle,e.release,d.hitch(this,"onMouseUp"))),this._lastX=b.pageX,this._lastY=b.pageY;else this.onDragDetected(b);b.stopPropagation();b.preventDefault()}},onMouseMove:function(a){if(Math.abs(a.pageX-this._lastX)>this.delay||Math.abs(a.pageY-this._lastY)>this.delay)this.onMouseUp(a),this.onDragDetected(a);a.stopPropagation();a.preventDefault()},onMouseUp:function(a){for(var b=0;2>b;++b)this.events.pop().remove();
a.stopPropagation();a.preventDefault()},onSelectStart:function(b){if(!this.skip||!a.isFormElement(b))b.stopPropagation(),b.preventDefault()},onDragDetected:function(a){new this.mover(this.node,a,this)},onMoveStart:function(a){l.publish("/dnd/move/start",a);b.add(n.body(),"dojoMove");b.add(this.node,"dojoMoveItem")},onMoveStop:function(a){l.publish("/dnd/move/stop",a);b.remove(n.body(),"dojoMove");b.remove(this.node,"dojoMoveItem")},onFirstMove:function(){},onMove:function(a,b){this.onMoving(a,b);
var c=a.node.style;c.left=b.l+"px";c.top=b.t+"px";this.onMoved(a,b)},onMoving:function(){},onMoved:function(){}})})},"dojo/dnd/Mover":function(){define("../_base/array ../_base/declare ../_base/lang ../sniff ../_base/window ../dom ../dom-geometry ../dom-style ../Evented ../on ../touch ./common ./autoscroll".split(" "),function(h,k,d,g,b,c,f,l,e,a,m,n,p){return k("dojo.dnd.Mover",[e],{constructor:function(b,e,f){function g(a){a.preventDefault();a.stopPropagation()}this.node=c.byId(b);this.marginBox=
{l:e.pageX,t:e.pageY};this.mouseButton=e.button;e=this.host=f;b=b.ownerDocument;this.events=[a(b,m.move,d.hitch(this,"onFirstMove")),a(b,m.move,d.hitch(this,"onMouseMove")),a(b,m.release,d.hitch(this,"onMouseUp")),a(b,"dragstart",g),a(b.body,"selectstart",g)];p.autoScrollStart(b);if(e&&e.onMoveStart)e.onMoveStart(this)},onMouseMove:function(a){p.autoScroll(a);var b=this.marginBox;this.host.onMove(this,{l:b.l+a.pageX,t:b.t+a.pageY},a);a.preventDefault();a.stopPropagation()},onMouseUp:function(a){(g("webkit")&&
g("mac")&&2==this.mouseButton?0==a.button:this.mouseButton==a.button)&&this.destroy();a.preventDefault();a.stopPropagation()},onFirstMove:function(a){var c=this.node.style,e,d=this.host;switch(c.position){case "relative":case "absolute":e=Math.round(parseFloat(c.left))||0;c=Math.round(parseFloat(c.top))||0;break;default:c.position="absolute";c=f.getMarginBox(this.node);e=b.doc.body;var g=l.getComputedStyle(e),m=f.getMarginBox(e,g),g=f.getContentBox(e,g);e=c.l-(g.l-m.l);c=c.t-(g.t-m.t)}this.marginBox.l=
e-this.marginBox.l;this.marginBox.t=c-this.marginBox.t;if(d&&d.onFirstMove)d.onFirstMove(this,a);this.events.shift().remove()},destroy:function(){h.forEach(this.events,function(a){a.remove()});var a=this.host;if(a&&a.onMoveStop)a.onMoveStop(this);this.events=this.node=this.host=null}})})},"dojo/dnd/TimedMoveable":function(){define(["../_base/declare","./Moveable"],function(h,k){var d=k.prototype.onMove;return h("dojo.dnd.TimedMoveable",k,{timeout:40,constructor:function(d,b){b||(b={});b.timeout&&
("number"==typeof b.timeout&&0<=b.timeout)&&(this.timeout=b.timeout)},onMoveStop:function(g){g._timer&&(clearTimeout(g._timer),d.call(this,g,g._leftTop));k.prototype.onMoveStop.apply(this,arguments)},onMove:function(g,b){g._leftTop=b;if(!g._timer){var c=this;g._timer=setTimeout(function(){g._timer=null;d.call(c,g,g._leftTop)},this.timeout)}}})})},"dijit/form/_FormMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/kernel dojo/_base/lang dojo/on dojo/window".split(" "),function(h,
k,d,g,b,c){return k("dijit.form._FormMixin",null,{state:"",_getDescendantFormWidgets:function(b){var c=[];h.forEach(b||this.getChildren(),function(b){"value"in b?c.push(b):c=c.concat(this._getDescendantFormWidgets(b.getChildren()))},this);return c},reset:function(){h.forEach(this._getDescendantFormWidgets(),function(b){b.reset&&b.reset()})},validate:function(){var b=!1;return h.every(h.map(this._getDescendantFormWidgets(),function(d){d._hasBeenBlurred=!0;var e=d.disabled||!d.validate||d.validate();
!e&&!b&&(c.scrollIntoView(d.containerNode||d.domNode),d.focus(),b=!0);return e}),function(b){return b})},setValues:function(b){d.deprecated(this.declaredClass+"::setValues() is deprecated. Use set('value', val) instead.","","2.0");return this.set("value",b)},_setValueAttr:function(b){var c={};h.forEach(this._getDescendantFormWidgets(),function(a){a.name&&(c[a.name]||(c[a.name]=[])).push(a)});for(var e in c)if(c.hasOwnProperty(e)){var a=c[e],d=g.getObject(e,!1,b);void 0!==d&&(d=[].concat(d),"boolean"==
typeof a[0].checked?h.forEach(a,function(a){a.set("value",-1!=h.indexOf(d,a._get("value")))}):a[0].multiple?a[0].set("value",d):h.forEach(a,function(a,b){a.set("value",d[b])}))}},getValues:function(){d.deprecated(this.declaredClass+"::getValues() is deprecated. Use get('value') instead.","","2.0");return this.get("value")},_getValueAttr:function(){var b={};h.forEach(this._getDescendantFormWidgets(),function(c){var e=c.name;if(e&&!c.disabled){var a=c.get("value");"boolean"==typeof c.checked?/Radio/.test(c.declaredClass)?
!1!==a?g.setObject(e,a,b):(a=g.getObject(e,!1,b),void 0===a&&g.setObject(e,null,b)):(c=g.getObject(e,!1,b),c||(c=[],g.setObject(e,c,b)),!1!==a&&c.push(a)):(c=g.getObject(e,!1,b),"undefined"!=typeof c?g.isArray(c)?c.push(a):g.setObject(e,[c,a],b):g.setObject(e,a,b))}});return b},isValid:function(){return""==this.state},onValidStateChange:function(){},_getState:function(){var b=h.map(this._descendants,function(b){return b.get("state")||""});return 0<=h.indexOf(b,"Error")?"Error":0<=h.indexOf(b,"Incomplete")?
"Incomplete":""},disconnectChildren:function(){},connectChildren:function(b){this._descendants=this._getDescendantFormWidgets();h.forEach(this._descendants,function(b){b._started||b.startup()});b||this._onChildChange()},_onChildChange:function(b){(!b||"state"==b||"disabled"==b)&&this._set("state",this._getState());if(!b||"value"==b||"disabled"==b||"checked"==b)this._onChangeDelayTimer&&this._onChangeDelayTimer.remove(),this._onChangeDelayTimer=this.defer(function(){delete this._onChangeDelayTimer;
this._set("value",this.get("value"))},10)},startup:function(){this.inherited(arguments);this._descendants=this._getDescendantFormWidgets();this.value=this.get("value");this.state=this._getState();var c=this;this.own(b(this.containerNode,"attrmodified-state, attrmodified-disabled, attrmodified-value, attrmodified-checked",function(b){b.target!=c.domNode&&c._onChildChange(b.type.replace("attrmodified-",""))}));this.watch("state",function(b,c,a){this.onValidStateChange(""==a)})},destroy:function(){this.inherited(arguments)}})})},
"dijit/_DialogMixin":function(){define(["dojo/_base/declare","./a11y"],function(h,k){return h("dijit._DialogMixin",null,{actionBarTemplate:"",execute:function(){},onCancel:function(){},onExecute:function(){},_onSubmit:function(){this.onExecute();this.execute(this.get("value"))},_getFocusItems:function(){var d=k._getTabNavigable(this.domNode);this._firstFocusItem=d.lowest||d.first||this.closeButtonNode||this.domNode;this._lastFocusItem=d.last||d.highest||this._firstFocusItem}})})},"dijit/DialogUnderlay":function(){define("dojo/_base/declare dojo/_base/lang dojo/aspect dojo/dom-attr dojo/dom-style dojo/on dojo/window ./_Widget ./_TemplatedMixin ./BackgroundIframe ./Viewport ./main".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n){var p=h("dijit.DialogUnderlay",[l,e],{templateString:"\x3cdiv class\x3d'dijitDialogUnderlayWrapper'\x3e\x3cdiv class\x3d'dijitDialogUnderlay' tabIndex\x3d'-1' data-dojo-attach-point\x3d'node'\x3e\x3c/div\x3e\x3c/div\x3e",dialogId:"","class":"",_modalConnects:[],_setDialogIdAttr:function(a){g.set(this.node,"id",a+"_underlay");this._set("dialogId",a)},_setClassAttr:function(a){this.node.className="dijitDialogUnderlay "+a;this._set("class",a)},postCreate:function(){this.ownerDocumentBody.appendChild(this.domNode);
this.own(c(this.domNode,"keydown",k.hitch(this,"_onKeyDown")));this.inherited(arguments)},layout:function(){var a=this.node.style,b=this.domNode.style;b.display="none";var c=f.getBox(this.ownerDocument);b.top=c.t+"px";b.left=c.l+"px";a.width=c.w+"px";a.height=c.h+"px";b.display="block"},show:function(){this.domNode.style.display="block";this.open=!0;this.layout();this.bgIframe=new a(this.domNode);var b=f.get(this.ownerDocument);this._modalConnects=[m.on("resize",k.hitch(this,"layout")),c(b,"scroll",
k.hitch(this,"layout"))]},hide:function(){this.bgIframe.destroy();delete this.bgIframe;for(this.domNode.style.display="none";this._modalConnects.length;)this._modalConnects.pop().remove();this.open=!1},destroy:function(){for(;this._modalConnects.length;)this._modalConnects.pop().remove();this.inherited(arguments)},_onKeyDown:function(){}});p.show=function(a,c){var e=p._singleton;!e||e._destroyed?e=n._underlay=p._singleton=new p(a):a&&e.set(a);b.set(e.domNode,"zIndex",c);e.open||e.show()};p.hide=function(){var a=
p._singleton;a&&!a._destroyed&&a.hide()};return p})},"dijit/Tooltip":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/fx dojo/dom dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/_base/lang dojo/mouse dojo/on dojo/sniff ./_base/manager ./place ./_Widget ./_TemplatedMixin ./BackgroundIframe dojo/text!./templates/Tooltip.html ./main".split(" "),function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s,v){function w(){}var u=k("dijit._MasterTooltip",[t,q],{duration:n.defaultDuration,templateString:s,
postCreate:function(){this.ownerDocumentBody.appendChild(this.domNode);this.bgIframe=new r(this.domNode);this.fadeIn=d.fadeIn({node:this.domNode,duration:this.duration,onEnd:l.hitch(this,"_onShow")});this.fadeOut=d.fadeOut({node:this.domNode,duration:this.duration,onEnd:l.hitch(this,"_onHide")})},show:function(a,b,c,e,d,g,m){if(!this.aroundNode||!(this.aroundNode===b&&this.containerNode.innerHTML==a))if("playing"==this.fadeOut.status())this._onDeck=arguments;else{this.containerNode.innerHTML=a;d&&
this.set("textDir",d);this.containerNode.align=e?"right":"left";var h=p.around(this.domNode,b,c&&c.length?c:y.defaultPosition,!e,l.hitch(this,"orient")),k=h.aroundNodePos;"M"==h.corner.charAt(0)&&"M"==h.aroundCorner.charAt(0)?(this.connectorNode.style.top=k.y+(k.h-this.connectorNode.offsetHeight>>1)-h.y+"px",this.connectorNode.style.left=""):"M"==h.corner.charAt(1)&&"M"==h.aroundCorner.charAt(1)?this.connectorNode.style.left=k.x+(k.w-this.connectorNode.offsetWidth>>1)-h.x+"px":(this.connectorNode.style.left=
"",this.connectorNode.style.top="");f.set(this.domNode,"opacity",0);this.fadeIn.play();this.isShowingNow=!0;this.aroundNode=b;this.onMouseEnter=g||w;this.onMouseLeave=m||w}},orient:function(a,b,e,f,d){this.connectorNode.style.top="";var g=f.h;f=f.w;a.className="dijitTooltip "+{"MR-ML":"dijitTooltipRight","ML-MR":"dijitTooltipLeft","TM-BM":"dijitTooltipAbove","BM-TM":"dijitTooltipBelow","BL-TL":"dijitTooltipBelow dijitTooltipABLeft","TL-BL":"dijitTooltipAbove dijitTooltipABLeft","BR-TR":"dijitTooltipBelow dijitTooltipABRight",
"TR-BR":"dijitTooltipAbove dijitTooltipABRight","BR-BL":"dijitTooltipRight","BL-BR":"dijitTooltipLeft"}[b+"-"+e];this.domNode.style.width="auto";var l=c.position(this.domNode);if(m("ie")||m("trident"))l.w+=2;var h=Math.min(Math.max(f,1),l.w);c.setMarginBox(this.domNode,{w:h});"B"==e.charAt(0)&&"B"==b.charAt(0)?(a=c.position(a),b=this.connectorNode.offsetHeight,a.h>g?(this.connectorNode.style.top=g-(d.h+b>>1)+"px",this.connectorNode.style.bottom=""):(this.connectorNode.style.bottom=Math.min(Math.max(d.h/
2-b/2,0),a.h-b)+"px",this.connectorNode.style.top="")):(this.connectorNode.style.top="",this.connectorNode.style.bottom="");return Math.max(0,l.w-f)},_onShow:function(){m("ie")&&(this.domNode.style.filter="")},hide:function(a){this._onDeck&&this._onDeck[1]==a?this._onDeck=null:this.aroundNode===a&&(this.fadeIn.stop(),this.isShowingNow=!1,this.aroundNode=null,this.fadeOut.play());this.onMouseEnter=this.onMouseLeave=w},_onHide:function(){this.domNode.style.cssText="";this.containerNode.innerHTML="";
this._onDeck&&(this.show.apply(this,this._onDeck),this._onDeck=null)}});m("dojo-bidi")&&u.extend({_setAutoTextDir:function(a){this.applyTextDir(a);h.forEach(a.children,function(a){this._setAutoTextDir(a)},this)},_setTextDirAttr:function(a){this._set("textDir",a);"auto"==a?this._setAutoTextDir(this.containerNode):this.containerNode.dir=this.textDir}});v.showTooltip=function(a,b,c,e,f,d,g){c&&(c=h.map(c,function(a){return{after:"after-centered",before:"before-centered"}[a]||a}));y._masterTT||(v._masterTT=
y._masterTT=new u);return y._masterTT.show(a,b,c,e,f,d,g)};v.hideTooltip=function(a){return y._masterTT&&y._masterTT.hide(a)};var y=k("dijit.Tooltip",t,{label:"",showDelay:400,hideDelay:400,connectId:[],position:[],selector:"",_setConnectIdAttr:function(b){h.forEach(this._connections||[],function(a){h.forEach(a,function(a){a.remove()})},this);this._connectIds=h.filter(l.isArrayLike(b)?b:b?[b]:[],function(a){return g.byId(a,this.ownerDocument)},this);this._connections=h.map(this._connectIds,function(b){b=
g.byId(b,this.ownerDocument);var c=this.selector,f=c?function(b){return a.selector(c,b)}:function(a){return a},d=this;return[a(b,f(e.enter),function(){d._onHover(this)}),a(b,f("focusin"),function(){d._onHover(this)}),a(b,f(e.leave),l.hitch(d,"_onUnHover")),a(b,f("focusout"),l.hitch(d,"set","state","DORMANT"))]},this);this._set("connectId",b)},addTarget:function(a){a=a.id||a;-1==h.indexOf(this._connectIds,a)&&this.set("connectId",this._connectIds.concat(a))},removeTarget:function(a){a=h.indexOf(this._connectIds,
a.id||a);0<=a&&(this._connectIds.splice(a,1),this.set("connectId",this._connectIds))},buildRendering:function(){this.inherited(arguments);b.add(this.domNode,"dijitTooltipData")},startup:function(){this.inherited(arguments);var a=this.connectId;h.forEach(l.isArrayLike(a)?a:[a],this.addTarget,this)},getContent:function(a){return this.label||this.domNode.innerHTML},state:"DORMANT",_setStateAttr:function(a){if(!(this.state==a||"SHOW TIMER"==a&&"SHOWING"==this.state||"HIDE TIMER"==a&&"DORMANT"==this.state)){this._hideTimer&&
(this._hideTimer.remove(),delete this._hideTimer);this._showTimer&&(this._showTimer.remove(),delete this._showTimer);switch(a){case "DORMANT":this._connectNode&&(y.hide(this._connectNode),delete this._connectNode,this.onHide());break;case "SHOW TIMER":"SHOWING"!=this.state&&(this._showTimer=this.defer(function(){this.set("state","SHOWING")},this.showDelay));break;case "SHOWING":var b=this.getContent(this._connectNode);if(!b){this.set("state","DORMANT");return}y.show(b,this._connectNode,this.position,
!this.isLeftToRight(),this.textDir,l.hitch(this,"set","state","SHOWING"),l.hitch(this,"set","state","HIDE TIMER"));this.onShow(this._connectNode,this.position);break;case "HIDE TIMER":this._hideTimer=this.defer(function(){this.set("state","DORMANT")},this.hideDelay)}this._set("state",a)}},_onHover:function(a){this._connectNode&&a!=this._connectNode&&this.set("state","DORMANT");this._connectNode=a;this.set("state","SHOW TIMER")},_onUnHover:function(a){this.set("state","HIDE TIMER")},open:function(a){this.set("state",
"DORMANT");this._connectNode=a;this.set("state","SHOWING")},close:function(){this.set("state","DORMANT")},onShow:function(){},onHide:function(){},destroy:function(){this.set("state","DORMANT");h.forEach(this._connections||[],function(a){h.forEach(a,function(a){a.remove()})},this);this.inherited(arguments)}});y._MasterTooltip=u;y.show=v.showTooltip;y.hide=v.hideTooltip;y.defaultPosition=["after-centered","before-centered"];return y})},"dijit/form/CheckBox":function(){define("require dojo/_base/declare dojo/dom-attr dojo/has dojo/query dojo/ready ./ToggleButton ./_CheckBoxMixin dojo/text!./templates/CheckBox.html dojo/NodeList-dom ../a11yclick".split(" "),
function(h,k,d,g,b,c,f,l,e){g("dijit-legacy-requires")&&c(0,function(){h(["dijit/form/RadioButton"])});return k("dijit.form.CheckBox",[f,l],{templateString:e,baseClass:"dijitCheckBox",_setValueAttr:function(a,b){"string"==typeof a&&(this.inherited(arguments),a=!0);this._created&&this.set("checked",a,b)},_getValueAttr:function(){return this.checked&&this._get("value")},_setIconClassAttr:null,_setNameAttr:"focusNode",postMixInProperties:function(){this.inherited(arguments);this.checkedAttrSetting=""},
_fillContent:function(){},_onFocus:function(){this.id&&b("label[for\x3d'"+this.id+"']").addClass("dijitFocusedLabel");this.inherited(arguments)},_onBlur:function(){this.id&&b("label[for\x3d'"+this.id+"']").removeClass("dijitFocusedLabel");this.inherited(arguments)}})})},"dijit/form/_CheckBoxMixin":function(){define(["dojo/_base/declare","dojo/dom-attr"],function(h,k){return h("dijit.form._CheckBoxMixin",null,{type:"checkbox",value:"on",readOnly:!1,_aria_attr:"aria-checked",_setReadOnlyAttr:function(d){this._set("readOnly",
d);k.set(this.focusNode,"readOnly",d)},_setLabelAttr:void 0,_getSubmitValue:function(d){return null==d||""===d?"on":d},_setValueAttr:function(d){d=this._getSubmitValue(d);this._set("value",d);k.set(this.focusNode,"value",d)},reset:function(){this.inherited(arguments);this._set("value",this._getSubmitValue(this.params.value));k.set(this.focusNode,"value",this.value)},_onClick:function(d){return this.readOnly?(d.stopPropagation(),d.preventDefault(),!1):this.inherited(arguments)}})})},"dijit/form/Select":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/dom-class dojo/dom-geometry dojo/i18n dojo/keys dojo/_base/lang dojo/on dojo/sniff ./_FormSelectWidget ../_HasDropDown ../DropDownMenu ../MenuItem ../MenuSeparator ../Tooltip ../_KeyNavMixin ../registry dojo/text!./templates/Select.html dojo/i18n!./nls/validate".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s,v,w){function u(a){return function(b){this._isLoaded?this.inherited(a,arguments):this.loadDropDown(l.hitch(this,a,b))}}var y=k("dijit.form._SelectMenu",p,{autoFocus:!0,buildRendering:function(){this.inherited(arguments);this.domNode.setAttribute("role","listbox")},postCreate:function(){this.inherited(arguments);this.own(e(this.domNode,"selectstart",function(a){a.preventDefault();a.stopPropagation()}))},focus:function(){var a=!1,b=this.parentWidget.value;
l.isArray(b)&&(b=b[b.length-1]);b&&h.forEach(this.parentWidget._getChildren(),function(c){c.option&&b===c.option.value&&(a=!0,this.focusChild(c,!1))},this);a||this.inherited(arguments)}});b=k("dijit.form.Select"+(a("dojo-bidi")?"_NoBidi":""),[m,n,s],{baseClass:"dijitSelect dijitValidationTextBox",templateString:w,_buttonInputDisabled:a("ie")?"disabled":"",required:!1,state:"",message:"",tooltipPosition:[],emptyLabel:"\x26#160;",_isLoaded:!1,_childrenLoaded:!1,labelType:"html",_fillContent:function(){this.inherited(arguments);
if(this.options.length&&!this.value&&this.srcNodeRef){var a=this.srcNodeRef.selectedIndex||0;this._set("value",this.options[0<=a?a:0].value)}this.dropDown=new y({id:this.id+"_menu",parentWidget:this});g.add(this.dropDown.domNode,this.baseClass.replace(/\s+|$/g,"Menu "))},_getMenuItemForOption:function(a){if(!a.value&&!a.label)return new q({ownerDocument:this.ownerDocument});var b=l.hitch(this,"_setValueAttr",a);a=new t({option:a,label:("text"===this.labelType?(a.label||"").toString().replace(/&/g,
"\x26amp;").replace(/</g,"\x26lt;"):a.label)||this.emptyLabel,onClick:b,ownerDocument:this.ownerDocument,dir:this.dir,textDir:this.textDir,disabled:a.disabled||!1});a.focusNode.setAttribute("role","option");return a},_addOptionItem:function(a){this.dropDown&&this.dropDown.addChild(this._getMenuItemForOption(a))},_getChildren:function(){return!this.dropDown?[]:this.dropDown.getChildren()},focus:function(){if(!this.disabled&&this.focusNode.focus)try{this.focusNode.focus()}catch(a){}},focusChild:function(a){a&&
this.set("value",a.option)},_getFirst:function(){var a=this._getChildren();return a.length?a[0]:null},_getLast:function(){var a=this._getChildren();return a.length?a[a.length-1]:null},childSelector:function(a){return(a=v.byNode(a))&&a.getParent()==this.dropDown},onKeyboardSearch:function(a,b,c,e){a&&this.focusChild(a)},_loadChildren:function(a){if(!0===a)if(this.dropDown&&(delete this.dropDown.focusedChild,this.focusedChild=null),this.options.length)this.inherited(arguments);else{h.forEach(this._getChildren(),
function(a){a.destroyRecursive()});var b=new t({ownerDocument:this.ownerDocument,label:this.emptyLabel});this.dropDown.addChild(b)}else this._updateSelection();this._isLoaded=!1;this._childrenLoaded=!0;this._loadingStore||this._setValueAttr(this.value,!1)},_refreshState:function(){this._started&&this.validate(this.focused)},startup:function(){this.inherited(arguments);this._refreshState()},_setValueAttr:function(a){this.inherited(arguments);d.set(this.valueNode,"value",this.get("value"));this._refreshState()},
_setNameAttr:"valueNode",_setDisabledAttr:function(a){this.inherited(arguments);this._refreshState()},_setRequiredAttr:function(a){this._set("required",a);this.focusNode.setAttribute("aria-required",a);this._refreshState()},_setOptionsAttr:function(a){this._isLoaded=!1;this._set("options",a)},_setDisplay:function(a){a=("text"===this.labelType?(a||"").replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;"):a)||this.emptyLabel;this.containerNode.innerHTML='\x3cspan role\x3d"option" class\x3d"dijitReset dijitInline '+
this.baseClass.replace(/\s+|$/g,"Label ")+'"\x3e'+a+"\x3c/span\x3e"},validate:function(a){a=this.disabled||this.isValid(a);this._set("state",a?"":this._hasBeenBlurred?"Error":"Incomplete");this.focusNode.setAttribute("aria-invalid",a?"false":"true");var b=a?"":this._missingMsg;b&&this.focused&&this._hasBeenBlurred?r.show(b,this.domNode,this.tooltipPosition,!this.isLeftToRight()):r.hide(this.domNode);this._set("message",b);return a},isValid:function(){return!this.required||0===this.value||!/^\s*$/.test(this.value||
"")},reset:function(){this.inherited(arguments);r.hide(this.domNode);this._refreshState()},postMixInProperties:function(){this.inherited(arguments);this._missingMsg=c.getLocalization("dijit.form","validate",this.lang).missingMessage},postCreate:function(){this.inherited(arguments);this.own(e(this.domNode,"selectstart",function(a){a.preventDefault();a.stopPropagation()}));this.domNode.setAttribute("aria-expanded","false");var a=this._keyNavCodes;delete a[f.LEFT_ARROW];delete a[f.RIGHT_ARROW]},_setStyleAttr:function(a){this.inherited(arguments);
g.toggle(this.domNode,this.baseClass.replace(/\s+|$/g,"FixedWidth "),!!this.domNode.style.width)},isLoaded:function(){return this._isLoaded},loadDropDown:function(a){this._loadChildren(!0);this._isLoaded=!0;a()},destroy:function(a){this.dropDown&&!this.dropDown._destroyed&&(this.dropDown.destroyRecursive(a),delete this.dropDown);r.hide(this.domNode);this.inherited(arguments)},_onFocus:function(){this.validate(!0)},_onBlur:function(){r.hide(this.domNode);this.inherited(arguments);this.validate(!1)}});
a("dojo-bidi")&&(b=k("dijit.form.Select",b,{_setDisplay:function(a){this.inherited(arguments);this.applyTextDir(this.containerNode)}}));b._Menu=y;b.prototype._onContainerKeydown=u("_onContainerKeydown");b.prototype._onContainerKeypress=u("_onContainerKeypress");return b})},"dijit/form/_FormSelectWidget":function(){define("dojo/_base/array dojo/_base/Deferred dojo/aspect dojo/data/util/sorter dojo/_base/declare dojo/dom dojo/dom-class dojo/_base/kernel dojo/_base/lang dojo/query dojo/when dojo/store/util/QueryResults ./_FormValueWidget".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p){return b("dijit.form._FormSelectWidget",p,{multiple:!1,options:null,store:null,_setStoreAttr:function(a){this._created&&this._deprecatedSetStore(a)},query:null,_setQueryAttr:function(a){this._created&&this._deprecatedSetStore(this.store,this.selectedValue,{query:a})},queryOptions:null,_setQueryOptionsAttr:function(a){this._created&&this._deprecatedSetStore(this.store,this.selectedValue,{queryOptions:a})},labelAttr:"",onFetch:null,sortByLabel:!0,loadChildrenOnOpen:!1,
onLoadDeferred:null,getOptions:function(a){var b=this.options||[];if(null==a)return b;if(e.isArray(a))return h.map(a,"return this.getOptions(item);",this);e.isString(a)&&(a={value:a});e.isObject(a)&&(h.some(b,function(b,c){for(var e in a)if(!(e in b)||b[e]!=a[e])return!1;a=c;return!0})||(a=-1));return 0<=a&&a<b.length?b[a]:null},addOption:function(a){h.forEach(e.isArray(a)?a:[a],function(a){a&&e.isObject(a)&&this.options.push(a)},this);this._loadChildren()},removeOption:function(a){a=this.getOptions(e.isArray(a)?
a:[a]);h.forEach(a,function(a){a&&(this.options=h.filter(this.options,function(b){return b.value!==a.value||b.label!==a.label}),this._removeOptionItem(a))},this);this._loadChildren()},updateOption:function(a){h.forEach(e.isArray(a)?a:[a],function(a){var b=this.getOptions({value:a.value}),c;if(b)for(c in a)b[c]=a[c]},this);this._loadChildren()},setStore:function(a,b,c){l.deprecated(this.declaredClass+"::setStore(store, selectedValue, fetchArgs) is deprecated. Use set('query', fetchArgs.query), set('queryOptions', fetchArgs.queryOptions), set('store', store), or set('value', selectedValue) instead.",
"","2.0");this._deprecatedSetStore(a,b,c)},_deprecatedSetStore:function(a,b,c){var f=this.store;c=c||{};if(f!==a){for(var l;l=this._notifyConnections.pop();)l.remove();a.get||(e.mixin(a,{_oldAPI:!0,get:function(a){var b=new k;this.fetchItemByIdentity({identity:a,onItem:function(a){b.resolve(a)},onError:function(a){b.reject(a)}});return b.promise},query:function(a,b){var c=new k(function(){f.abort&&f.abort()});c.total=new k;var f=this.fetch(e.mixin({query:a,onBegin:function(a){c.total.resolve(a)},
onComplete:function(a){c.resolve(a)},onError:function(a){c.reject(a)}},b));return new n(c)}}),a.getFeatures()["dojo.data.api.Notification"]&&(this._notifyConnections=[d.after(a,"onNew",e.hitch(this,"_onNewItem"),!0),d.after(a,"onDelete",e.hitch(this,"_onDeleteItem"),!0),d.after(a,"onSet",e.hitch(this,"_onSetItem"),!0)]));this._set("store",a)}this.options&&this.options.length&&this.removeOption(this.options);this._queryRes&&this._queryRes.close&&this._queryRes.close();this._observeHandle&&this._observeHandle.remove&&
(this._observeHandle.remove(),this._observeHandle=null);c.query&&this._set("query",c.query);c.queryOptions&&this._set("queryOptions",c.queryOptions);a&&a.query&&(this._loadingStore=!0,this.onLoadDeferred=new k,this._queryRes=a.query(this.query,this.queryOptions),m(this._queryRes,e.hitch(this,function(f){if(this.sortByLabel&&!c.sort&&f.length)if(a.getValue)f.sort(g.createSortFunction([{attribute:a.getLabelAttributes(f[0])[0]}],a));else{var d=this.labelAttr;f.sort(function(a,b){return a[d]>b[d]?1:b[d]>
a[d]?-1:0})}c.onFetch&&(f=c.onFetch.call(this,f,c));h.forEach(f,function(a){this._addOptionForItem(a)},this);this._queryRes.observe&&(this._observeHandle=this._queryRes.observe(e.hitch(this,function(a,b,c){b==c?this._onSetItem(a):(-1!=b&&this._onDeleteItem(a),-1!=c&&this._onNewItem(a))}),!0));this._loadingStore=!1;this.set("value","_pendingValue"in this?this._pendingValue:b);delete this._pendingValue;this.loadChildrenOnOpen?this._pseudoLoadChildren(f):this._loadChildren();this.onLoadDeferred.resolve(!0);
this.onSetStore()}),function(a){this.onLoadDeferred.reject(a)}));return f},_setValueAttr:function(a,b){this._onChangeActive||(b=null);if(this._loadingStore)this._pendingValue=a;else if(null!=a){a=e.isArray(a)?h.map(a,function(a){return e.isObject(a)?a:{value:a}}):e.isObject(a)?[a]:[{value:a}];a=h.filter(this.getOptions(a),function(a){return a&&a.value});var c=this.getOptions()||[];if(!this.multiple&&(!a[0]||!a[0].value)&&c.length)a[0]=c[0];h.forEach(c,function(b){b.selected=h.some(a,function(a){return a.value===
b.value})});c=h.map(a,function(a){return a.value});if(!("undefined"==typeof c||"undefined"==typeof c[0])){var f=h.map(a,function(a){return a.label});this._setDisplay(this.multiple?f:f[0]);this.inherited(arguments,[this.multiple?c:c[0],b]);this._updateSelection()}}},_getDisplayedValueAttr:function(){var a=h.map([].concat(this.get("selectedOptions")),function(a){return a&&"label"in a?a.label:a?a.value:null},this);return this.multiple?a:a[0]},_setDisplayedValueAttr:function(a){this.set("value",this.getOptions("string"==
typeof a?{label:a}:a))},_loadChildren:function(){this._loadingStore||(h.forEach(this._getChildren(),function(a){a.destroyRecursive()}),h.forEach(this.options,this._addOptionItem,this),this._updateSelection())},_updateSelection:function(){this.focusedChild=null;this._set("value",this._getValueFromOpts());var a=[].concat(this.value);if(a&&(a[0]||""===a[0])){var b=this;h.forEach(this._getChildren(),function(c){var e=h.some(a,function(a){return c.option&&a===c.option.value});e&&!b.multiple&&(b.focusedChild=
c);f.toggle(c.domNode,this.baseClass.replace(/\s+|$/g,"SelectedOption "),e);c.domNode.setAttribute("aria-selected",e?"true":"false")},this)}},_getValueFromOpts:function(){var a=this.getOptions()||[];if(!this.multiple&&a.length){var b=h.filter(a,function(a){return a.selected})[0];if(b&&b.value)return b.value;a[0].selected=!0;return a[0].value}return this.multiple?h.map(h.filter(a,function(a){return a.selected}),function(a){return a.value})||[]:""},_onNewItem:function(a,b){(!b||!b.parent)&&this._addOptionForItem(a)},
_onDeleteItem:function(a){this.removeOption({value:this.store.getIdentity(a)})},_onSetItem:function(a){this.updateOption(this._getOptionObjForItem(a))},_getOptionObjForItem:function(a){var b=this.store,c=this.labelAttr&&this.labelAttr in a?a[this.labelAttr]:b.getLabel(a);return{value:c?b.getIdentity(a):null,label:c,item:a}},_addOptionForItem:function(a){var b=this.store;b.isItemLoaded&&!b.isItemLoaded(a)?b.loadItem({item:a,onItem:function(a){this._addOptionForItem(a)},scope:this}):(a=this._getOptionObjForItem(a),
this.addOption(a))},constructor:function(a){this._oValue=(a||{}).value||null;this._notifyConnections=[]},buildRendering:function(){this.inherited(arguments);c.setSelectable(this.focusNode,!1)},_fillContent:function(){this.options||(this.options=this.srcNodeRef?a("\x3e *",this.srcNodeRef).map(function(a){return"separator"===a.getAttribute("type")?{value:"",label:"",selected:!1,disabled:!1}:{value:a.getAttribute("data-"+l._scopeName+"-value")||a.getAttribute("value"),label:String(a.innerHTML),selected:a.getAttribute("selected")||
!1,disabled:a.getAttribute("disabled")||!1}},this):[]);this.value?this.multiple&&"string"==typeof this.value&&this._set("value",this.value.split(",")):this._set("value",this._getValueFromOpts())},postCreate:function(){this.inherited(arguments);d.after(this,"onChange",e.hitch(this,"_updateSelection"));var a=this.store;if(a&&(a.getIdentity||a.getFeatures()["dojo.data.api.Identity"]))this.store=null,this._deprecatedSetStore(a,this._oValue,{query:this.query,queryOptions:this.queryOptions});this._storeInitialized=
!0},startup:function(){this._loadChildren();this.inherited(arguments)},destroy:function(){for(var a;a=this._notifyConnections.pop();)a.remove();this._queryRes&&this._queryRes.close&&this._queryRes.close();this._observeHandle&&this._observeHandle.remove&&(this._observeHandle.remove(),this._observeHandle=null);this.inherited(arguments)},_addOptionItem:function(){},_removeOptionItem:function(){},_setDisplay:function(){},_getChildren:function(){return[]},_getSelectedOptionsAttr:function(){return this.getOptions({selected:!0})},
_pseudoLoadChildren:function(){},onSetStore:function(){}})})},"dojo/store/util/QueryResults":function(){define(["../../_base/array","../../_base/lang","../../when"],function(h,k,d){var g=function(b){function c(c){b[c]=function(){var e=arguments,a=d(b,function(a){Array.prototype.unshift.call(e,a);return g(h[c].apply(h,e))});if("forEach"!==c||f)return a}}if(!b)return b;var f=!!b.then;f&&(b=k.delegate(b));c("forEach");c("filter");c("map");null==b.total&&(b.total=d(b,function(b){return b.length}));return b};
k.setObject("dojo.store.util.QueryResults",g);return g})},"dijit/form/_FormValueWidget":function(){define(["dojo/_base/declare","dojo/sniff","./_FormWidget","./_FormValueMixin"],function(h,k,d,g){return h("dijit.form._FormValueWidget",[d,g],{_layoutHackIE7:function(){if(7==k("ie"))for(var b=this.domNode,c=b.parentNode,f=b.firstChild||b,d=f.style.filter,e=this;c&&0==c.clientHeight;)(function(){var a=e.connect(c,"onscroll",function(){e.disconnect(a);f.style.filter=(new Date).getMilliseconds();e.defer(function(){f.style.filter=
d})})})(),c=c.parentNode}})})},"dijit/form/_FormValueMixin":function(){define("dojo/_base/declare dojo/dom-attr dojo/keys dojo/_base/lang dojo/on ./_FormWidgetMixin".split(" "),function(h,k,d,g,b,c){return h("dijit.form._FormValueMixin",c,{readOnly:!1,_setReadOnlyAttr:function(b){k.set(this.focusNode,"readOnly",b);this._set("readOnly",b)},postCreate:function(){this.inherited(arguments);void 0===this._resetValue&&(this._lastValueReported=this._resetValue=this.value)},_setValueAttr:function(b,c){this._handleOnChange(b,
c)},_handleOnChange:function(b,c){this._set("value",b);this.inherited(arguments)},undo:function(){this._setValueAttr(this._lastValueReported,!1)},reset:function(){this._hasBeenBlurred=!1;this._setValueAttr(this._resetValue,!0)}})})},"dijit/MenuSeparator":function(){define("dojo/_base/declare dojo/dom ./_WidgetBase ./_TemplatedMixin ./_Contained dojo/text!./templates/MenuSeparator.html".split(" "),function(h,k,d,g,b,c){return h("dijit.MenuSeparator",[d,g,b],{templateString:c,buildRendering:function(){this.inherited(arguments);
k.setSelectable(this.domNode,!1)},isFocusable:function(){return!1}})})},"dijit/form/ComboButton":function(){define("dojo/_base/declare dojo/keys ../focus ./DropDownButton dojo/text!./templates/ComboButton.html ../a11yclick".split(" "),function(h,k,d,g,b){return h("dijit.form.ComboButton",g,{templateString:b,_setIdAttr:"",_setTabIndexAttr:["focusNode","titleNode"],_setTitleAttr:"titleNode",optionsTitle:"",baseClass:"dijitComboButton",cssStateNodes:{buttonNode:"dijitButtonNode",titleNode:"dijitButtonContents",
_popupStateNode:"dijitDownArrowButton"},_focusedNode:null,_onButtonKeyDown:function(b){if(b.keyCode==k[this.isLeftToRight()?"RIGHT_ARROW":"LEFT_ARROW"])d.focus(this._popupStateNode),b.stopPropagation(),b.preventDefault()},_onArrowKeyDown:function(b){if(b.keyCode==k[this.isLeftToRight()?"LEFT_ARROW":"RIGHT_ARROW"])d.focus(this.titleNode),b.stopPropagation(),b.preventDefault()},focus:function(b){this.disabled||d.focus("start"==b?this.titleNode:this._popupStateNode)}})})},"dijit/form/DropDownButton":function(){define("dojo/_base/declare dojo/_base/lang dojo/query ../registry ../popup ./Button ../_Container ../_HasDropDown dojo/text!./templates/DropDownButton.html ../a11yclick".split(" "),
function(h,k,d,g,b,c,f,l,e){return h("dijit.form.DropDownButton",[c,f,l],{baseClass:"dijitDropDownButton",templateString:e,_fillContent:function(){if(this.srcNodeRef){var a=d("*",this.srcNodeRef);this.inherited(arguments,[a[0]]);this.dropDownContainer=this.srcNodeRef}},startup:function(){if(!this._started){if(!this.dropDown&&this.dropDownContainer){var a=d("[widgetId]",this.dropDownContainer)[0];a&&(this.dropDown=g.byNode(a));delete this.dropDownContainer}this.dropDown&&b.hide(this.dropDown);this.inherited(arguments)}},
isLoaded:function(){var a=this.dropDown;return!!a&&(!a.href||a.isLoaded)},loadDropDown:function(a){var b=this.dropDown,c=b.on("load",k.hitch(this,function(){c.remove();a()}));b.refresh()},isFocusable:function(){return this.inherited(arguments)&&!this._mouseDown}})})},"dijit/form/RadioButton":function(){define(["dojo/_base/declare","./CheckBox","./_RadioButtonMixin"],function(h,k,d){return h("dijit.form.RadioButton",[k,d],{baseClass:"dijitRadio"})})},"dijit/form/_RadioButtonMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/_base/lang dojo/query!css2 ../registry".split(" "),
function(h,k,d,g,b,c){return k("dijit.form._RadioButtonMixin",null,{type:"radio",_getRelatedWidgets:function(){var f=[];b("input[type\x3dradio]",this.focusNode.form||this.ownerDocument).forEach(g.hitch(this,function(b){b.name==this.name&&b.form==this.focusNode.form&&(b=c.getEnclosingWidget(b))&&f.push(b)}));return f},_setCheckedAttr:function(b){this.inherited(arguments);this._created&&b&&h.forEach(this._getRelatedWidgets(),g.hitch(this,function(b){b!=this&&b.checked&&b.set("checked",!1)}))},_getSubmitValue:function(b){return null==
b?"on":b},_onClick:function(b){return this.checked||this.disabled?(b.stopPropagation(),b.preventDefault(),!1):this.readOnly?(b.stopPropagation(),b.preventDefault(),h.forEach(this._getRelatedWidgets(),g.hitch(this,function(b){d.set(this.focusNode||this.domNode,"checked",b.checked)})),!1):this.inherited(arguments)}})})},"dijit/form/FilteringSelect":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/when","./MappedTextBox","./ComboBoxMixin"],function(h,k,d,g,b){return h("dijit.form.FilteringSelect",
[g,b],{required:!0,_lastDisplayedValue:"",_isValidSubset:function(){return this._opened},isValid:function(){return!!this.item||!this.required&&""==this.get("displayedValue")},_refreshState:function(){this.searchTimer||this.inherited(arguments)},_callbackSetLabel:function(b,f,d,e){f&&f[this.searchAttr]!==this._lastQuery||!f&&b.length&&this.store.getIdentity(b[0])!=this._lastQuery||(b.length?this.set("item",b[0],e):this.set("value","",e||void 0===e&&!this.focused,this.textbox.value,null))},_openResultList:function(b,
f,d){f[this.searchAttr]===this._lastQuery&&(this.inherited(arguments),void 0===this.item&&this.validate(!0))},_getValueAttr:function(){return this.valueNode.value},_getValueField:function(){return"value"},_setValueAttr:function(b,f,g,e){this._onChangeActive||(f=null);if(void 0===e){if(null===b||""===b)if(b="",!k.isString(g)){this._setDisplayedValueAttr(g||"",f);return}var a=this;this._lastQuery=b;d(this.store.get(b),function(b){a._callbackSetLabel(b?[b]:[],void 0,void 0,f)})}else this.valueNode.value=
b,this.inherited(arguments,[b,f,g,e])},_setItemAttr:function(b,f,d){this.inherited(arguments);this._lastDisplayedValue=this.textbox.value},_getDisplayQueryString:function(b){return b.replace(/([\\\*\?])/g,"\\$1")},_setDisplayedValueAttr:function(b,f){null==b&&(b="");if(!this._created){if(!("displayedValue"in this.params))return;f=!1}if(this.store){this.closeDropDown();var g=k.clone(this.query),e=this._getDisplayQueryString(b),a;this.store._oldAPI?a=e:(a=this._patternToRegExp(e),a.toString=function(){return e});
this._lastQuery=g[this.searchAttr]=a;this._lastDisplayedValue=this.textbox.value=b;this._set("displayedValue",b);var h=this,n={queryOptions:{ignoreCase:this.ignoreCase,deep:!0}};k.mixin(n,this.fetchProperties);this._fetchHandle=this.store.query(g,n);d(this._fetchHandle,function(a){h._fetchHandle=null;h._callbackSetLabel(a||[],g,n,f)},function(a){h._fetchHandle=null})}},undo:function(){this.set("displayedValue",this._lastDisplayedValue)}})})},"dijit/form/MappedTextBox":function(){define(["dojo/_base/declare",
"dojo/sniff","dojo/dom-construct","./ValidationTextBox"],function(h,k,d,g){return h("dijit.form.MappedTextBox",g,{postMixInProperties:function(){this.inherited(arguments);this.nameAttrSetting=""},_setNameAttr:"valueNode",serialize:function(b){return b.toString?b.toString():""},toString:function(){var b=this.filter(this.get("value"));return null!=b?"string"==typeof b?b:this.serialize(b,this.constraints):""},validate:function(){this.valueNode.value=this.toString();return this.inherited(arguments)},
buildRendering:function(){this.inherited(arguments);this.valueNode=d.place("\x3cinput type\x3d'hidden'"+(this.name&&!k("msapp")?' name\x3d"'+this.name.replace(/"/g,"\x26quot;")+'"':"")+"/\x3e",this.textbox,"after")},reset:function(){this.valueNode.value="";this.inherited(arguments)}})})},"dijit/form/ValidationTextBox":function(){define("dojo/_base/declare dojo/_base/kernel dojo/_base/lang dojo/i18n ./TextBox ../Tooltip dojo/text!./templates/ValidationTextBox.html dojo/i18n!./nls/validate".split(" "),
function(h,k,d,g,b,c,f){var l;return l=h("dijit.form.ValidationTextBox",b,{templateString:f,required:!1,promptMessage:"",invalidMessage:"$_unset_$",missingMessage:"$_unset_$",message:"",constraints:{},pattern:".*",regExp:"",regExpGen:function(){},state:"",tooltipPosition:[],_deprecateRegExp:function(b,a){a!=l.prototype[b]&&(k.deprecated("ValidationTextBox id\x3d"+this.id+", set('"+b+"', ...) is deprecated.  Use set('pattern', ...) instead.","","2.0"),this.set("pattern",a))},_setRegExpGenAttr:function(b){this._deprecateRegExp("regExpGen",
b);this._set("regExpGen",this._computeRegexp)},_setRegExpAttr:function(b){this._deprecateRegExp("regExp",b)},_setValueAttr:function(){this.inherited(arguments);this._refreshState()},validator:function(b,a){return RegExp("^(?:"+this._computeRegexp(a)+")"+(this.required?"":"?")+"$").test(b)&&(!this.required||!this._isEmpty(b))&&(this._isEmpty(b)||void 0!==this.parse(b,a))},_isValidSubset:function(){return 0==this.textbox.value.search(this._partialre)},isValid:function(){return this.validator(this.textbox.value,
this.get("constraints"))},_isEmpty:function(b){return(this.trim?/^\s*$/:/^$/).test(b)},getErrorMessage:function(){var b="$_unset_$"==this.invalidMessage?this.messages.invalidMessage:!this.invalidMessage?this.promptMessage:this.invalidMessage,a="$_unset_$"==this.missingMessage?this.messages.missingMessage:!this.missingMessage?b:this.missingMessage;return this.required&&this._isEmpty(this.textbox.value)?a:b},getPromptMessage:function(){return this.promptMessage},_maskValidSubsetError:!0,validate:function(b){var a=
"",c=this.disabled||this.isValid(b);c&&(this._maskValidSubsetError=!0);var f=this._isEmpty(this.textbox.value),d=!c&&b&&this._isValidSubset();this._set("state",c?"":((!this._hasBeenBlurred||b)&&f||d)&&(this._maskValidSubsetError||d&&!this._hasBeenBlurred&&b)?"Incomplete":"Error");this.focusNode.setAttribute("aria-invalid","Error"==this.state?"true":"false");"Error"==this.state?(this._maskValidSubsetError=b&&d,a=this.getErrorMessage(b)):"Incomplete"==this.state?(a=this.getPromptMessage(b),this._maskValidSubsetError=
!this._hasBeenBlurred||b):f&&(a=this.getPromptMessage(b));this.set("message",a);return c},displayMessage:function(b){b&&this.focused?c.show(b,this.domNode,this.tooltipPosition,!this.isLeftToRight()):c.hide(this.domNode)},_refreshState:function(){this._created&&this.validate(this.focused);this.inherited(arguments)},constructor:function(b){this.constraints=d.clone(this.constraints);this.baseClass+=" dijitValidationTextBox"},startup:function(){this.inherited(arguments);this._refreshState()},_setConstraintsAttr:function(b){!b.locale&&
this.lang&&(b.locale=this.lang);this._set("constraints",b);this._refreshState()},_setPatternAttr:function(b){this._set("pattern",b);this._refreshState()},_computeRegexp:function(b){var a=this.pattern;"function"==typeof a&&(a=a.call(this,b));if(a!=this._lastRegExp){var c="";this._lastRegExp=a;".*"!=a&&a.replace(/\\.|\[\]|\[.*?[^\\]{1}\]|\{.*?\}|\(\?[=:!]|./g,function(a){switch(a.charAt(0)){case "{":case "+":case "?":case "*":case "^":case "$":case "|":case "(":c+=a;break;case ")":c+="|$)";break;default:c+=
"(?:"+a+"|$)"}});try{"".search(c)}catch(f){c=this.pattern}this._partialre="^(?:"+c+")$"}return a},postMixInProperties:function(){this.inherited(arguments);this.messages=g.getLocalization("dijit.form","validate",this.lang);this._setConstraintsAttr(this.constraints)},_setDisabledAttr:function(b){this.inherited(arguments);this._refreshState()},_setRequiredAttr:function(b){this._set("required",b);this.focusNode.setAttribute("aria-required",b);this._refreshState()},_setMessageAttr:function(b){this._set("message",
b);this.displayMessage(b)},reset:function(){this._maskValidSubsetError=!0;this.inherited(arguments)},_onBlur:function(){this.displayMessage("");this.inherited(arguments)},destroy:function(){c.hide(this.domNode);this.inherited(arguments)}})})},"dijit/form/TextBox":function(){define("dojo/_base/declare dojo/dom-construct dojo/dom-style dojo/_base/kernel dojo/_base/lang dojo/on dojo/sniff ./_FormValueWidget ./_TextBoxMixin dojo/text!./templates/TextBox.html ../main".split(" "),function(h,k,d,g,b,c,f,
l,e,a,m){l=h("dijit.form.TextBox"+(f("dojo-bidi")?"_NoBidi":""),[l,e],{templateString:a,_singleNodeTemplate:'\x3cinput class\x3d"dijit dijitReset dijitLeft dijitInputField" data-dojo-attach-point\x3d"textbox,focusNode" autocomplete\x3d"off" type\x3d"${type}" ${!nameAttrSetting} /\x3e',_buttonInputDisabled:f("ie")?"disabled":"",baseClass:"dijitTextBox",postMixInProperties:function(){var a=this.type.toLowerCase();if(this.templateString&&"input"==this.templateString.toLowerCase()||("hidden"==a||"file"==
a)&&this.templateString==this.constructor.prototype.templateString)this.templateString=this._singleNodeTemplate;this.inherited(arguments)},postCreate:function(){this.inherited(arguments);9>f("ie")&&this.defer(function(){try{var a=d.getComputedStyle(this.domNode);if(a){var b=a.fontFamily;if(b){var c=this.domNode.getElementsByTagName("INPUT");if(c)for(a=0;a<c.length;a++)c[a].style.fontFamily=b}}}catch(e){}})},_setPlaceHolderAttr:function(a){this._set("placeHolder",a);this._phspan||(this._attachPoints.push("_phspan"),
this._phspan=k.create("span",{className:"dijitPlaceHolder dijitInputField"},this.textbox,"after"),this.own(c(this._phspan,"mousedown",function(a){a.preventDefault()}),c(this._phspan,"touchend, pointerup, MSPointerUp",b.hitch(this,function(){this.focus()}))));this._phspan.innerHTML="";this._phspan.appendChild(this._phspan.ownerDocument.createTextNode(a));this._updatePlaceHolder()},_onInput:function(a){this.inherited(arguments);this._updatePlaceHolder()},_updatePlaceHolder:function(){this._phspan&&
(this._phspan.style.display=this.placeHolder&&!this.textbox.value?"":"none")},_setValueAttr:function(a,b,c){this.inherited(arguments);this._updatePlaceHolder()},getDisplayedValue:function(){g.deprecated(this.declaredClass+"::getDisplayedValue() is deprecated. Use get('displayedValue') instead.","","2.0");return this.get("displayedValue")},setDisplayedValue:function(a){g.deprecated(this.declaredClass+"::setDisplayedValue() is deprecated. Use set('displayedValue', ...) instead.","","2.0");this.set("displayedValue",
a)},_onBlur:function(a){this.disabled||(this.inherited(arguments),this._updatePlaceHolder(),f("mozilla")&&this.selectOnClick&&(this.textbox.selectionStart=this.textbox.selectionEnd=void 0))},_onFocus:function(a){!this.disabled&&!this.readOnly&&(this.inherited(arguments),this._updatePlaceHolder())}});9>f("ie")&&(l.prototype._isTextSelected=function(){var a=this.ownerDocument.selection.createRange();return a.parentElement()==this.textbox&&0<a.text.length},m._setSelectionRange=e._setSelectionRange=function(a,
b,c){a.createTextRange&&(a=a.createTextRange(),a.collapse(!0),a.moveStart("character",-99999),a.moveStart("character",b),a.moveEnd("character",c-b),a.select())});f("dojo-bidi")&&(l=h("dijit.form.TextBox",l,{_setPlaceHolderAttr:function(a){this.inherited(arguments);this.applyTextDir(this._phspan)}}));return l})},"dijit/form/_TextBoxMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom dojo/has dojo/keys dojo/_base/lang dojo/on ../main".split(" "),function(h,k,d,g,b,c,f,l){var e=k("dijit.form._TextBoxMixin"+
(g("dojo-bidi")?"_NoBidi":""),null,{trim:!1,uppercase:!1,lowercase:!1,propercase:!1,maxLength:"",selectOnClick:!1,placeHolder:"",_getValueAttr:function(){return this.parse(this.get("displayedValue"),this.constraints)},_setValueAttr:function(a,b,c){var e;void 0!==a&&(e=this.filter(a),"string"!=typeof c&&(c=null!==e&&("number"!=typeof e||!isNaN(e))?this.filter(this.format(e,this.constraints)):"",0!=this.compare(e,this.filter(this.parse(c,this.constraints)))&&(c=null)));if(null!=c&&("number"!=typeof c||
!isNaN(c))&&this.textbox.value!=c)this.textbox.value=c,this._set("displayedValue",this.get("displayedValue"));this.inherited(arguments,[e,b])},displayedValue:"",_getDisplayedValueAttr:function(){return this.filter(this.textbox.value)},_setDisplayedValueAttr:function(a){null==a?a="":"string"!=typeof a&&(a=String(a));this.textbox.value=a;this._setValueAttr(this.get("value"),void 0);this._set("displayedValue",this.get("displayedValue"))},format:function(a){return null==a?"":a.toString?a.toString():a},
parse:function(a){return a},_refreshState:function(){},onInput:function(){},__skipInputEvent:!1,_onInput:function(a){this._processInput(a);this.intermediateChanges&&this.defer(function(){this._handleOnChange(this.get("value"),!1)})},_processInput:function(a){this._refreshState();this._set("displayedValue",this.get("displayedValue"))},postCreate:function(){this.textbox.setAttribute("value",this.textbox.value);this.inherited(arguments);this.own(f(this.textbox,"keydown, keypress, paste, cut, input, compositionend",
c.hitch(this,function(a){var e;if("keydown"==a.type){e=a.keyCode;switch(e){case b.SHIFT:case b.ALT:case b.CTRL:case b.META:case b.CAPS_LOCK:case b.NUM_LOCK:case b.SCROLL_LOCK:return}if(!a.ctrlKey&&!a.metaKey&&!a.altKey){switch(e){case b.NUMPAD_0:case b.NUMPAD_1:case b.NUMPAD_2:case b.NUMPAD_3:case b.NUMPAD_4:case b.NUMPAD_5:case b.NUMPAD_6:case b.NUMPAD_7:case b.NUMPAD_8:case b.NUMPAD_9:case b.NUMPAD_MULTIPLY:case b.NUMPAD_PLUS:case b.NUMPAD_ENTER:case b.NUMPAD_MINUS:case b.NUMPAD_PERIOD:case b.NUMPAD_DIVIDE:return}if(65<=
e&&90>=e||48<=e&&57>=e||e==b.SPACE)return;e=!1;for(var f in b)if(b[f]===a.keyCode){e=!0;break}if(!e)return}}(e=32<=a.charCode?String.fromCharCode(a.charCode):a.charCode)||(e=65<=a.keyCode&&90>=a.keyCode||48<=a.keyCode&&57>=a.keyCode||a.keyCode==b.SPACE?String.fromCharCode(a.keyCode):a.keyCode);e||(e=229);if("keypress"==a.type){if("string"!=typeof e)return;if("a"<=e&&"z">=e||"A"<=e&&"Z">=e||"0"<=e&&"9">=e||" "===e)if(a.ctrlKey||a.metaKey||a.altKey)return}if("input"==a.type){if(this.__skipInputEvent){this.__skipInputEvent=
!1;return}}else this.__skipInputEvent=!0;var d={faux:!0},g;for(g in a)/^(layer[XY]|returnValue|keyLocation)$/.test(g)||(f=a[g],"function"!=typeof f&&"undefined"!=typeof f&&(d[g]=f));c.mixin(d,{charOrCode:e,_wasConsumed:!1,preventDefault:function(){d._wasConsumed=!0;a.preventDefault()},stopPropagation:function(){a.stopPropagation()}});!1===this.onInput(d)&&(d.preventDefault(),d.stopPropagation());d._wasConsumed||this.defer(function(){this._onInput(d)})})),f(this.domNode,"keypress",function(a){a.stopPropagation()}))},
_blankValue:"",filter:function(a){if(null===a)return this._blankValue;if("string"!=typeof a)return a;this.trim&&(a=c.trim(a));this.uppercase&&(a=a.toUpperCase());this.lowercase&&(a=a.toLowerCase());this.propercase&&(a=a.replace(/[^\s]+/g,function(a){return a.substring(0,1).toUpperCase()+a.substring(1)}));return a},_setBlurValue:function(){this._setValueAttr(this.get("value"),!0)},_onBlur:function(a){this.disabled||(this._setBlurValue(),this.inherited(arguments))},_isTextSelected:function(){return this.textbox.selectionStart!=
this.textbox.selectionEnd},_onFocus:function(a){!this.disabled&&!this.readOnly&&(this.selectOnClick&&"mouse"==a&&(this._selectOnClickHandle=f.once(this.domNode,"mouseup, touchend",c.hitch(this,function(a){this._isTextSelected()||e.selectInputText(this.textbox)})),this.own(this._selectOnClickHandle),this.defer(function(){this._selectOnClickHandle&&(this._selectOnClickHandle.remove(),this._selectOnClickHandle=null)},500)),this.inherited(arguments),this._refreshState())},reset:function(){this.textbox.value=
"";this.inherited(arguments)}});g("dojo-bidi")&&(e=k("dijit.form._TextBoxMixin",e,{_setValueAttr:function(){this.inherited(arguments);this.applyTextDir(this.focusNode)},_setDisplayedValueAttr:function(){this.inherited(arguments);this.applyTextDir(this.focusNode)},_onInput:function(){this.applyTextDir(this.focusNode);this.inherited(arguments)}}));e._setSelectionRange=l._setSelectionRange=function(a,b,c){a.setSelectionRange&&a.setSelectionRange(b,c)};e.selectInputText=l.selectInputText=function(a,b,
c){a=d.byId(a);isNaN(b)&&(b=0);isNaN(c)&&(c=a.value?a.value.length:0);try{a.focus(),e._setSelectionRange(a,b,c)}catch(f){}};return e})},"dijit/form/ComboBoxMixin":function(){define("dojo/_base/declare dojo/Deferred dojo/_base/kernel dojo/_base/lang dojo/store/util/QueryResults ./_AutoCompleterMixin ./_ComboBoxMenu ../_HasDropDown dojo/text!./templates/DropDownBox.html".split(" "),function(h,k,d,g,b,c,f,l,e){return h("dijit.form.ComboBoxMixin",[l,c],{dropDownClass:f,hasDownArrow:!0,templateString:e,
baseClass:"dijitTextBox dijitComboBox",cssStateNodes:{_buttonNode:"dijitDownArrowButton"},_setHasDownArrowAttr:function(a){this._set("hasDownArrow",a);this._buttonNode.style.display=a?"":"none"},_showResultList:function(){this.displayMessage("");this.inherited(arguments)},_setStoreAttr:function(a){a.get||g.mixin(a,{_oldAPI:!0,get:function(a){var b=new k;this.fetchItemByIdentity({identity:a,onItem:function(a){b.resolve(a)},onError:function(a){b.reject(a)}});return b.promise},query:function(a,c){var e=
new k(function(){f.abort&&f.abort()});e.total=new k;var f=this.fetch(g.mixin({query:a,onBegin:function(a){e.total.resolve(a)},onComplete:function(a){e.resolve(a)},onError:function(a){e.reject(a)}},c));return b(e)}});this._set("store",a)},postMixInProperties:function(){var a=this.params.store||this.store;a&&this._setStoreAttr(a);this.inherited(arguments);if(!this.params.store&&this.store&&!this.store._oldAPI){var b=this.declaredClass;g.mixin(this.store,{getValue:function(a,c){d.deprecated(b+".store.getValue(item, attr) is deprecated for builtin store.  Use item.attr directly",
"","2.0");return a[c]},getLabel:function(a){d.deprecated(b+".store.getLabel(item) is deprecated for builtin store.  Use item.label directly","","2.0");return a.name},fetch:function(a){d.deprecated(b+".store.fetch() is deprecated for builtin store.","Use store.query()","2.0");require(["dojo/data/ObjectStore"],g.hitch(this,function(b){(new b({objectStore:this})).fetch(a)}))}})}},buildRendering:function(){this.inherited(arguments);this.focusNode.setAttribute("aria-autocomplete",this.autoComplete?"both":
"list")}})})},"dijit/form/_AutoCompleterMixin":function(){define("dojo/aspect dojo/_base/declare dojo/dom-attr dojo/keys dojo/_base/lang dojo/query dojo/regexp dojo/sniff ./DataList ./_TextBoxMixin ./_SearchMixin".split(" "),function(h,k,d,g,b,c,f,l,e,a,m){k=k("dijit.form._AutoCompleterMixin",m,{item:null,autoComplete:!0,highlightMatch:"first",labelAttr:"",labelType:"text",maxHeight:-1,_stopClickEvents:!1,_getCaretPos:function(a){var b=0;if("number"==typeof a.selectionStart)b=a.selectionStart;else if(l("ie")){var c=
a.ownerDocument.selection.createRange().duplicate();a=a.createTextRange();c.move("character",0);a.move("character",0);try{a.setEndPoint("EndToEnd",c),b=String(a.text).replace(/\r/g,"").length}catch(e){}}return b},_setCaretPos:function(b,c){c=parseInt(c);a.selectInputText(b,c,c)},_setDisabledAttr:function(a){this.inherited(arguments);this.domNode.setAttribute("aria-disabled",a?"true":"false")},_onKey:function(a){if(!(32<=a.charCode)){var b=a.charCode||a.keyCode;if(!(b==g.ALT||b==g.CTRL||b==g.META||
b==g.SHIFT)){var c=this.dropDown,e=null;this._abortQuery();this.inherited(arguments);if(!a.altKey&&!a.ctrlKey&&!a.metaKey)switch(this._opened&&(e=c.getHighlightedOption()),b){case g.PAGE_DOWN:case g.DOWN_ARROW:case g.PAGE_UP:case g.UP_ARROW:this._opened&&this._announceOption(e);a.stopPropagation();a.preventDefault();break;case g.ENTER:if(e){if(e==c.nextButton){this._nextSearch(1);a.stopPropagation();a.preventDefault();break}else if(e==c.previousButton){this._nextSearch(-1);a.stopPropagation();a.preventDefault();
break}a.stopPropagation();a.preventDefault()}else this._setBlurValue(),this._setCaretPos(this.focusNode,this.focusNode.value.length);case g.TAB:b=this.get("displayedValue");if(c&&(b==c._messages.previousMessage||b==c._messages.nextMessage))break;e&&this._selectOption(e);case g.ESCAPE:this._opened&&(this._lastQuery=null,this.closeDropDown())}}}},_autoCompleteText:function(b){var c=this.focusNode;a.selectInputText(c,c.value.length);var e=this.ignoreCase?"toLowerCase":"substr";0==b[e](0).indexOf(this.focusNode.value[e](0))?
(e=this.autoComplete?this._getCaretPos(c):c.value.length,e+1>c.value.length&&(c.value=b,a.selectInputText(c,e))):(c.value=b,a.selectInputText(c))},_openResultList:function(a,c,e){var f=this.dropDown.getHighlightedOption();this.dropDown.clearResultList();!a.length&&0==e.start?this.closeDropDown():(this._nextSearch=this.dropDown.onPage=b.hitch(this,function(b){a.nextPage(-1!==b);this.focus()}),this.dropDown.createOptions(a,e,b.hitch(this,"_getMenuLabelFromItem")),this._showResultList(),"direction"in
e?(e.direction?this.dropDown.highlightFirstOption():e.direction||this.dropDown.highlightLastOption(),f&&this._announceOption(this.dropDown.getHighlightedOption())):this.autoComplete&&(!this._prev_key_backspace&&!/^[*]+$/.test(c[this.searchAttr].toString()))&&this._announceOption(this.dropDown.containerNode.firstChild.nextSibling))},_showResultList:function(){this.closeDropDown(!0);this.openDropDown();this.domNode.setAttribute("aria-expanded","true")},loadDropDown:function(){this._startSearchAll()},
isLoaded:function(){return!1},closeDropDown:function(){this._abortQuery();this._opened&&(this.inherited(arguments),this.domNode.setAttribute("aria-expanded","false"))},_setBlurValue:function(){var a=this.get("displayedValue"),b=this.dropDown;b&&(a==b._messages.previousMessage||a==b._messages.nextMessage)?this._setValueAttr(this._lastValueReported,!0):"undefined"==typeof this.item?(this.item=null,this.set("displayedValue",a)):(this.value!=this._lastValueReported&&this._handleOnChange(this.value,!0),
this._refreshState());this.focusNode.removeAttribute("aria-activedescendant")},_setItemAttr:function(a,b,c){var e="";a&&(c||(c=this.store._oldAPI?this.store.getValue(a,this.searchAttr):a[this.searchAttr]),e=this._getValueField()!=this.searchAttr?this.store.getIdentity(a):c);this.set("value",e,b,c,a)},_announceOption:function(a){if(a){var b;if(a==this.dropDown.nextButton||a==this.dropDown.previousButton)b=a.innerHTML,this.item=void 0,this.value="";else{var c=this.dropDown.items[a.getAttribute("item")];
b=(this.store._oldAPI?this.store.getValue(c,this.searchAttr):c[this.searchAttr]).toString();this.set("item",c,!1,b)}this.focusNode.value=this.focusNode.value.substring(0,this._lastInput.length);this.focusNode.setAttribute("aria-activedescendant",d.get(a,"id"));this._autoCompleteText(b)}},_selectOption:function(a){this.closeDropDown();a&&this._announceOption(a);this._setCaretPos(this.focusNode,this.focusNode.value.length);this._handleOnChange(this.value,!0);this.focusNode.removeAttribute("aria-activedescendant")},
_startSearchAll:function(){this._startSearch("")},_startSearchFromInput:function(){this.item=void 0;this.inherited(arguments)},_startSearch:function(a){if(!this.dropDown){var c=this.id+"_popup";this.dropDown=new (b.isString(this.dropDownClass)?b.getObject(this.dropDownClass,!1):this.dropDownClass)({onChange:b.hitch(this,this._selectOption),id:c,dir:this.dir,textDir:this.textDir})}this._lastInput=a;this.inherited(arguments)},_getValueField:function(){return this.searchAttr},postMixInProperties:function(){this.inherited(arguments);
if(!this.store&&this.srcNodeRef&&(this.store=new e({},this.srcNodeRef),!("value"in this.params))){var a=this.item=this.store.fetchSelectedItem();if(a){var b=this._getValueField();this.value=this.store._oldAPI?this.store.getValue(a,b):a[b]}}},postCreate:function(){var a=c('label[for\x3d"'+this.id+'"]');a.length&&(a[0].id||(a[0].id=this.id+"_label"),this.domNode.setAttribute("aria-labelledby",a[0].id));this.inherited(arguments);h.after(this,"onSearch",b.hitch(this,"_openResultList"),!0)},_getMenuLabelFromItem:function(a){a=
this.labelFunc(a,this.store);var b=this.labelType;"none"!=this.highlightMatch&&("text"==this.labelType&&this._lastInput)&&(a=this.doHighlight(a,this._lastInput),b="html");return{html:"html"==b,label:a}},doHighlight:function(a,b){var c=(this.ignoreCase?"i":"")+("all"==this.highlightMatch?"g":""),e=this.queryExpr.indexOf("${0}");b=f.escapeString(b);return this._escapeHtml(a.replace(RegExp((0==e?"^":"")+"("+b+")"+(e==this.queryExpr.length-4?"$":""),c),"\uffff$1\uffff")).replace(/\uFFFF([^\uFFFF]+)\uFFFF/g,
'\x3cspan class\x3d"dijitComboBoxHighlightMatch"\x3e$1\x3c/span\x3e')},_escapeHtml:function(a){return a=String(a).replace(/&/gm,"\x26amp;").replace(/</gm,"\x26lt;").replace(/>/gm,"\x26gt;").replace(/"/gm,"\x26quot;")},reset:function(){this.item=null;this.inherited(arguments)},labelFunc:function(a,b){return(b._oldAPI?b.getValue(a,this.labelAttr||this.searchAttr):a[this.labelAttr||this.searchAttr]).toString()},_setValueAttr:function(a,b,c,e){this._set("item",e||null);null==a&&(a="");this.inherited(arguments)}});
l("dojo-bidi")&&k.extend({_setTextDirAttr:function(a){this.inherited(arguments);this.dropDown&&this.dropDown._set("textDir",a)}});return k})},"dijit/form/DataList":function(){define("dojo/_base/declare dojo/dom dojo/_base/lang dojo/query dojo/store/Memory ../registry".split(" "),function(h,k,d,g,b,c){function f(b){return{id:b.value,value:b.value,name:d.trim(b.innerText||b.textContent||"")}}return h("dijit.form.DataList",b,{constructor:function(b,e){this.domNode=k.byId(e);d.mixin(this,b);this.id&&
c.add(this);this.domNode.style.display="none";this.inherited(arguments,[{data:g("option",this.domNode).map(f)}])},destroy:function(){c.remove(this.id)},fetchSelectedItem:function(){var b=g("\x3e option[selected]",this.domNode)[0]||g("\x3e option",this.domNode)[0];return b&&f(b)}})})},"dojo/store/Memory":function(){define(["../_base/declare","./util/QueryResults","./util/SimpleQueryEngine"],function(h,k,d){return h("dojo.store.Memory",null,{constructor:function(d){for(var b in d)this[b]=d[b];this.setData(this.data||
[])},data:null,idProperty:"id",index:null,queryEngine:d,get:function(d){return this.data[this.index[d]]},getIdentity:function(d){return d[this.idProperty]},put:function(d,b){var c=this.data,f=this.index,l=this.idProperty,l=d[l]=b&&"id"in b?b.id:l in d?d[l]:Math.random();if(l in f){if(b&&!1===b.overwrite)throw Error("Object already exists");c[f[l]]=d}else f[l]=c.push(d)-1;return l},add:function(d,b){(b=b||{}).overwrite=!1;return this.put(d,b)},remove:function(d){var b=this.index,c=this.data;if(d in
b)return c.splice(b[d],1),this.setData(c),!0},query:function(d,b){return k(this.queryEngine(d,b)(this.data))},setData:function(d){d.items?(this.idProperty=d.identifier||this.idProperty,d=this.data=d.items):this.data=d;this.index={};for(var b=0,c=d.length;b<c;b++)this.index[d[b][this.idProperty]]=b}})})},"dojo/store/util/SimpleQueryEngine":function(){define(["../../_base/array"],function(h){return function(k,d){function g(b){b=h.filter(b,k);var f=d&&d.sort;f&&b.sort("function"==typeof f?f:function(b,
a){for(var c,d=0;c=f[d];d++){var g=b[c.attribute],l=a[c.attribute],g=null!=g?g.valueOf():g,l=null!=l?l.valueOf():l;if(g!=l)return!!c.descending==(null==g||g>l)?-1:1}return 0});if(d&&(d.start||d.count)){var g=b.length;b=b.slice(d.start||0,(d.start||0)+(d.count||Infinity));b.total=g}return b}switch(typeof k){default:throw Error("Can not query with a "+typeof k);case "object":case "undefined":var b=k;k=function(c){for(var d in b){var g=b[d];if(g&&g.test){if(!g.test(c[d],c))return!1}else if(g!=c[d])return!1}return!0};
break;case "string":if(!this[k])throw Error("No filter function "+k+" was found in store");k=this[k];case "function":}g.matches=k;return g}})},"dijit/form/_SearchMixin":function(){define("dojo/_base/declare dojo/keys dojo/_base/lang dojo/query dojo/string dojo/when ../registry".split(" "),function(h,k,d,g,b,c,f){return h("dijit.form._SearchMixin",null,{pageSize:Infinity,store:null,fetchProperties:{},query:{},list:"",_setListAttr:function(b){this._set("list",b)},searchDelay:200,searchAttr:"name",queryExpr:"${0}*",
ignoreCase:!0,_patternToRegExp:function(b){return RegExp("^"+b.replace(/(\\.)|(\*)|(\?)|\W/g,function(b,a,c,d){return c?".*":d?".":a?a:"\\"+b})+"$",this.ignoreCase?"mi":"m")},_abortQuery:function(){this.searchTimer&&(this.searchTimer=this.searchTimer.remove());this._queryDeferHandle&&(this._queryDeferHandle=this._queryDeferHandle.remove());this._fetchHandle&&(this._fetchHandle.abort&&(this._cancelingQuery=!0,this._fetchHandle.abort(),this._cancelingQuery=!1),this._fetchHandle.cancel&&(this._cancelingQuery=
!0,this._fetchHandle.cancel(),this._cancelingQuery=!1),this._fetchHandle=null)},_processInput:function(b){if(!this.disabled&&!this.readOnly){var c=b.charOrCode;if(!("type"in b&&"key"==b.type.substring(0,3)&&(b.altKey||(b.ctrlKey||b.metaKey)&&"x"!=c&&"v"!=c||c==k.SHIFT))){this._prev_key_backspace=b=!1;switch(c){case k.DELETE:case k.BACKSPACE:b=this._maskValidSubsetError=this._prev_key_backspace=!0;break;default:b="string"==typeof c||229==c}if(b)if(this.store)this.searchTimer=this.defer("_startSearchFromInput",
1);else this.onSearch()}}},onSearch:function(){},_startSearchFromInput:function(){this._startSearch(this.focusNode.value)},_startSearch:function(f){this._abortQuery();var e=this,a=d.clone(this.query),g={start:0,count:this.pageSize,queryOptions:{ignoreCase:this.ignoreCase,deep:!0}},h=b.substitute(this.queryExpr,[f.replace(/([\\\*\?])/g,"\\$1")]),k,t=function(){var b=e._fetchHandle=e.store.query(a,g);!e.disabled&&!(e.readOnly||k!==e._lastQuery)&&c(b,function(d){e._fetchHandle=null;!e.disabled&&(!e.readOnly&&
k===e._lastQuery)&&c(b.total,function(b){d.total=b;var c=e.pageSize;if(isNaN(c)||c>d.total)c=d.total;d.nextPage=function(b){g.direction=b=!1!==b;g.count=c;b?(g.start+=d.length,g.start>=d.total&&(g.count=0)):(g.start-=c,0>g.start&&(g.count=Math.max(c+g.start,0),g.start=0));0>=g.count?(d.length=0,e.onSearch(d,a,g)):t()};e.onSearch(d,a,g)})},function(a){e._fetchHandle=null})};d.mixin(g,this.fetchProperties);this.store._oldAPI?k=h:(k=this._patternToRegExp(h),k.toString=function(){return h});this._lastQuery=
a[this.searchAttr]=k;this._queryDeferHandle=this.defer(t,this.searchDelay)},constructor:function(){this.query={};this.fetchProperties={}},postMixInProperties:function(){if(!this.store){var b=this.list;b&&(this.store=f.byId(b))}this.inherited(arguments)}})})},"dijit/form/_ComboBoxMenu":function(){define("dojo/_base/declare dojo/dom-class dojo/dom-style dojo/keys ../_WidgetBase ../_TemplatedMixin ./_ComboBoxMenuMixin ./_ListMouseMixin".split(" "),function(h,k,d,g,b,c,f,l){return h("dijit.form._ComboBoxMenu",
[b,c,l,f],{templateString:"\x3cdiv class\x3d'dijitReset dijitMenu' data-dojo-attach-point\x3d'containerNode' style\x3d'overflow: auto; overflow-x: hidden;' role\x3d'listbox'\x3e\x3cdiv class\x3d'dijitMenuItem dijitMenuPreviousButton' data-dojo-attach-point\x3d'previousButton' role\x3d'option'\x3e\x3c/div\x3e\x3cdiv class\x3d'dijitMenuItem dijitMenuNextButton' data-dojo-attach-point\x3d'nextButton' role\x3d'option'\x3e\x3c/div\x3e\x3c/div\x3e",baseClass:"dijitComboBoxMenu",postCreate:function(){this.inherited(arguments);
this.isLeftToRight()||(k.add(this.previousButton,"dijitMenuItemRtl"),k.add(this.nextButton,"dijitMenuItemRtl"));this.containerNode.setAttribute("role","listbox")},_createMenuItem:function(){var b=this.ownerDocument.createElement("div");b.className="dijitReset dijitMenuItem small-meta fwb cursor-default"+(this.isLeftToRight()?"":" dijitMenuItemRtl");b.setAttribute("role","option");return b},onHover:function(b){k.add(b,"dijitMenuItemHover")},onUnhover:function(b){k.remove(b,"dijitMenuItemHover")},onSelect:function(b){k.add(b,
"dijitMenuItemSelected")},onDeselect:function(b){k.remove(b,"dijitMenuItemSelected")},_page:function(b){var a=0,c=this.domNode.scrollTop,f=d.get(this.domNode,"height");for(this.getHighlightedOption()||this.selectNextNode();a<f;){var g=this.getHighlightedOption();if(b){if(!g.previousSibling||"none"==g.previousSibling.style.display)break;this.selectPreviousNode()}else{if(!g.nextSibling||"none"==g.nextSibling.style.display)break;this.selectNextNode()}g=this.domNode.scrollTop;a+=(g-c)*(b?-1:1);c=g}},
handleKey:function(b){switch(b.keyCode){case g.DOWN_ARROW:return this.selectNextNode(),!1;case g.PAGE_DOWN:return this._page(!1),!1;case g.UP_ARROW:return this.selectPreviousNode(),!1;case g.PAGE_UP:return this._page(!0),!1;default:return!0}}})})},"dijit/form/_ComboBoxMenuMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/has dojo/i18n dojo/i18n!./nls/ComboBox".split(" "),function(h,k,d,g,b){var c=k("dijit.form._ComboBoxMenuMixin"+(g("dojo-bidi")?"_NoBidi":""),null,{_messages:null,
postMixInProperties:function(){this.inherited(arguments);this._messages=b.getLocalization("dijit.form","ComboBox",this.lang)},buildRendering:function(){this.inherited(arguments);this.previousButton.innerHTML=this._messages.previousMessage;this.nextButton.innerHTML=this._messages.nextMessage},_setValueAttr:function(b){this._set("value",b);this.onChange(b)},onClick:function(b){if(b==this.previousButton)this._setSelectedAttr(null),this.onPage(-1);else if(b==this.nextButton)this._setSelectedAttr(null),
this.onPage(1);else this.onChange(b)},onChange:function(){},onPage:function(){},onClose:function(){this._setSelectedAttr(null)},_createOption:function(b,c){var e=this._createMenuItem(),a=c(b);a.html?e.innerHTML=a.label:e.appendChild(e.ownerDocument.createTextNode(a.label));""==e.innerHTML&&(e.innerHTML="\x26#160;");return e},createOptions:function(b,c,e){this.items=b;this.previousButton.style.display=0==c.start?"none":"";d.set(this.previousButton,"id",this.id+"_prev");h.forEach(b,function(a,b){var c=
this._createOption(a,e);c.setAttribute("item",b);d.set(c,"id",this.id+b);this.nextButton.parentNode.insertBefore(c,this.nextButton)},this);var a=!1;b.total&&!b.total.then&&-1!=b.total?c.start+c.count<b.total?a=!0:c.start+c.count>b.total&&c.count==b.length&&(a=!0):c.count==b.length&&(a=!0);this.nextButton.style.display=a?"":"none";d.set(this.nextButton,"id",this.id+"_next")},clearResultList:function(){for(var b=this.containerNode;2<b.childNodes.length;)b.removeChild(b.childNodes[b.childNodes.length-
2]);this._setSelectedAttr(null)},highlightFirstOption:function(){this.selectFirstNode()},highlightLastOption:function(){this.selectLastNode()},selectFirstNode:function(){this.inherited(arguments);this.getHighlightedOption()==this.previousButton&&this.selectNextNode()},selectLastNode:function(){this.inherited(arguments);this.getHighlightedOption()==this.nextButton&&this.selectPreviousNode()},getHighlightedOption:function(){return this.selected}});g("dojo-bidi")&&(c=k("dijit.form._ComboBoxMenuMixin",
c,{_createOption:function(){var b=this.inherited(arguments);this.applyTextDir(b);return b}}));return c})},"dijit/form/_ListMouseMixin":function(){define(["dojo/_base/declare","dojo/on","dojo/touch","./_ListBase"],function(h,k,d,g){return h("dijit.form._ListMouseMixin",g,{postCreate:function(){this.inherited(arguments);this.domNode.dojoClick=!0;this._listConnect("click","_onClick");this._listConnect("mousedown","_onMouseDown");this._listConnect("mouseup","_onMouseUp");this._listConnect("mouseover",
"_onMouseOver");this._listConnect("mouseout","_onMouseOut")},_onClick:function(b,c){this._setSelectedAttr(c,!1);this._deferredClick&&this._deferredClick.remove();this._deferredClick=this.defer(function(){this._deferredClick=null;this.onClick(c)})},_onMouseDown:function(b,c){this._hoveredNode&&(this.onUnhover(this._hoveredNode),this._hoveredNode=null);this._isDragging=!0;this._setSelectedAttr(c,!1)},_onMouseUp:function(b,c){this._isDragging=!1;var d=this.selected,g=this._hoveredNode;d&&c==d?this.defer(function(){this._onClick(b,
d)}):g&&this.defer(function(){this._onClick(b,g)})},_onMouseOut:function(b,c){this._hoveredNode&&(this.onUnhover(this._hoveredNode),this._hoveredNode=null);this._isDragging&&(this._cancelDrag=(new Date).getTime()+1E3)},_onMouseOver:function(b,c){this._cancelDrag&&((new Date).getTime()>this._cancelDrag&&(this._isDragging=!1),this._cancelDrag=null);this._hoveredNode=c;this.onHover(c);this._isDragging&&this._setSelectedAttr(c,!1)}})})},"dijit/form/_ListBase":function(){define(["dojo/_base/declare","dojo/on",
"dojo/window"],function(h,k,d){return h("dijit.form._ListBase",null,{selected:null,_listConnect:function(d,b){var c=this;return c.own(k(c.containerNode,k.selector(function(b,c,e){return b.parentNode==e},d),function(d){c[b](d,this)}))},selectFirstNode:function(){for(var d=this.containerNode.firstChild;d&&"none"==d.style.display;)d=d.nextSibling;this._setSelectedAttr(d,!0)},selectLastNode:function(){for(var d=this.containerNode.lastChild;d&&"none"==d.style.display;)d=d.previousSibling;this._setSelectedAttr(d,
!0)},selectNextNode:function(){var d=this.selected;if(d){for(d=d.nextSibling;d&&"none"==d.style.display;)d=d.nextSibling;d?this._setSelectedAttr(d,!0):this.selectFirstNode()}else this.selectFirstNode()},selectPreviousNode:function(){var d=this.selected;if(d){for(d=d.previousSibling;d&&"none"==d.style.display;)d=d.previousSibling;d?this._setSelectedAttr(d,!0):this.selectLastNode()}else this.selectLastNode()},_setSelectedAttr:function(g,b){if(this.selected!=g){var c=this.selected;if(c)this.onDeselect(c);
g&&(b&&d.scrollIntoView(g),this.onSelect(g));this._set("selected",g)}else if(g)this.onSelect(g)}})})},"dijit/form/NumberTextBox":function(){define("dojo/_base/declare dojo/_base/lang dojo/i18n dojo/string dojo/number ./RangeBoundTextBox".split(" "),function(h,k,d,g,b,c){var f=function(b){b=b||{};var a=d.getLocalization("dojo.cldr","number",d.normalizeLocale(b.locale)),c=b.pattern?b.pattern:a[(b.type||"decimal")+"Format"];b="number"==typeof b.places?b.places:"string"===typeof b.places&&0<b.places.length?
b.places.replace(/.*,/,""):-1!=c.indexOf(".")?c.split(".")[1].replace(/[^#0]/g,"").length:0;return{sep:a.decimal,places:b}},l=h("dijit.form.NumberTextBoxMixin",null,{pattern:function(b){return"("+(this.focused&&this.editOptions?this._regExpGenerator(k.delegate(b,this.editOptions))+"|":"")+this._regExpGenerator(b)+")"},value:NaN,editOptions:{pattern:"#.######"},_formatter:b.format,_regExpGenerator:b.regexp,_decimalInfo:f(),postMixInProperties:function(){this.inherited(arguments);this._set("type","text")},
_setConstraintsAttr:function(b){var a="number"==typeof b.places?b.places:0;a&&a++;"number"!=typeof b.max&&(b.max=9*Math.pow(10,15-a));"number"!=typeof b.min&&(b.min=-9*Math.pow(10,15-a));this.inherited(arguments,[b]);this.focusNode&&(this.focusNode.value&&!isNaN(this.value))&&this.set("value",this.value);this._decimalInfo=f(b)},_onFocus:function(){if(!this.disabled&&!this.readOnly){var b=this.get("value");"number"==typeof b&&!isNaN(b)&&(b=this.format(b,this.constraints),void 0!==b&&(this.textbox.value=
b));this.inherited(arguments)}},format:function(b,a){var c=String(b);if("number"!=typeof b)return c;if(isNaN(b))return"";if(!("rangeCheck"in this&&this.rangeCheck(b,a))&&!1!==a.exponent&&/\de[-+]?\d/i.test(c))return c;this.editOptions&&this.focused&&(a=k.mixin({},a,this.editOptions));return this._formatter(b,a)},_parser:b.parse,parse:function(b,a){var c=this._parser(b,k.mixin({},a,this.editOptions&&this.focused?this.editOptions:{}));this.editOptions&&(this.focused&&isNaN(c))&&(c=this._parser(b,a));
return c},_getDisplayedValueAttr:function(){var b=this.inherited(arguments);return isNaN(b)?this.textbox.value:b},filter:function(c){if(null==c||"string"==typeof c&&""==c)return NaN;"number"==typeof c&&(!isNaN(c)&&0!=c)&&(c=b.round(c,this._decimalInfo.places));return this.inherited(arguments,[c])},serialize:function(b,a){return"number"!=typeof b||isNaN(b)?"":this.inherited(arguments)},_setBlurValue:function(){var b=k.hitch(k.delegate(this,{focused:!0}),"get")("value");this._setValueAttr(b,!0)},_setValueAttr:function(b,
a,c){if(void 0!==b&&void 0===c)if(c=String(b),"number"==typeof b)if(isNaN(b))c="";else{if("rangeCheck"in this&&this.rangeCheck(b,this.constraints)||!1===this.constraints.exponent||!/\de[-+]?\d/i.test(c))c=void 0}else b?b=void 0:(c="",b=NaN);this.inherited(arguments,[b,a,c])},_getValueAttr:function(){var c=this.inherited(arguments);if(isNaN(c)&&""!==this.textbox.value){if(!1!==this.constraints.exponent&&/\de[-+]?\d/i.test(this.textbox.value)&&RegExp("^"+b._realNumberRegexp(k.delegate(this.constraints))+
"$").test(this.textbox.value))return c=Number(this.textbox.value),isNaN(c)?void 0:c}else return c},isValid:function(b){if(!this.focused||this._isEmpty(this.textbox.value))return this.inherited(arguments);var a=this.get("value");return!isNaN(a)&&this.rangeCheck(a,this.constraints)?!1!==this.constraints.exponent&&/\de[-+]?\d/i.test(this.textbox.value)?!0:this.inherited(arguments):!1},_isValidSubset:function(){var b="number"==typeof this.constraints.min,a="number"==typeof this.constraints.max,c=this.get("value");
if(isNaN(c)||!b&&!a)return this.inherited(arguments);var d=c|0,f=0>c,l=-1!=this.textbox.value.indexOf(this._decimalInfo.sep),h=(this.maxLength||20)-this.textbox.value.length,k=l?this.textbox.value.split(this._decimalInfo.sep)[1].replace(/[^0-9]/g,""):"",d=l?d+"."+k:d+"",h=g.rep("9",h),l=c;f?l=Number(d+h):c=Number(d+h);return!(b&&c<this.constraints.min||a&&l>this.constraints.max)}});h=h("dijit.form.NumberTextBox",[c,l],{baseClass:"dijitTextBox dijitNumberTextBox"});h.Mixin=l;return h})},"dijit/form/RangeBoundTextBox":function(){define(["dojo/_base/declare",
"dojo/i18n","./MappedTextBox","dojo/i18n!./nls/validate"],function(h,k,d){return h("dijit.form.RangeBoundTextBox",d,{rangeMessage:"",rangeCheck:function(d,b){return("min"in b?0<=this.compare(d,b.min):!0)&&("max"in b?0>=this.compare(d,b.max):!0)},isInRange:function(){return this.rangeCheck(this.get("value"),this.constraints)},_isDefinitelyOutOfRange:function(){var d=this.get("value");if(null==d)return!1;var b=!1;"min"in this.constraints&&(b=this.constraints.min,b=0>this.compare(d,"number"==typeof b&&
0<=b&&0!=d?0:b));!b&&"max"in this.constraints&&(b=this.constraints.max,b=0<this.compare(d,"number"!=typeof b||0<b?b:0));return b},_isValidSubset:function(){return this.inherited(arguments)&&!this._isDefinitelyOutOfRange()},isValid:function(d){return this.inherited(arguments)&&(this._isEmpty(this.textbox.value)&&!this.required||this.isInRange(d))},getErrorMessage:function(d){var b=this.get("value");return null!=b&&""!==b&&("number"!=typeof b||!isNaN(b))&&!this.isInRange(d)?this.rangeMessage:this.inherited(arguments)},
postMixInProperties:function(){this.inherited(arguments);this.rangeMessage||(this.messages=k.getLocalization("dijit.form","validate",this.lang),this.rangeMessage=this.messages.rangeMessage)}})})},"dijit/TitlePane":function(){define("dojo/_base/array dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-geometry dojo/fx dojo/has dojo/_base/kernel dojo/keys ./_CssStateMixin ./_TemplatedMixin ./layout/ContentPane dojo/text!./templates/TitlePane.html ./_base/manager ./a11yclick".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q){k=k("dijit.TitlePane",[p,n,m],{title:"",_setTitleAttr:{node:"titleNode",type:"innerHTML"},open:!0,toggleable:!0,tabIndex:"0",duration:q.defaultDuration,baseClass:"dijitTitlePane",templateString:t,doLayout:!1,_setTooltipAttr:{node:"focusNode",type:"attribute",attribute:"title"},buildRendering:function(){this.inherited(arguments);d.setSelectable(this.titleNode,!1)},postCreate:function(){this.inherited(arguments);this.toggleable&&this._trackMouseState(this.titleBarNode,
this.baseClass+"Title");var a=this.hideNode,b=this.wipeNode;this._wipeIn=f.wipeIn({node:b,duration:this.duration,beforeBegin:function(){a.style.display=""}});this._wipeOut=f.wipeOut({node:b,duration:this.duration,onEnd:function(){a.style.display="none"}})},_setOpenAttr:function(a,b){h.forEach([this._wipeIn,this._wipeOut],function(a){a&&"playing"==a.status()&&a.stop()});b?this[a?"_wipeIn":"_wipeOut"].play():this.hideNode.style.display=this.wipeNode.style.display=a?"":"none";if(this._started)if(a)this._onShow();
else this.onHide();this.containerNode.setAttribute("aria-hidden",a?"false":"true");this.focusNode.setAttribute("aria-pressed",a?"true":"false");this._set("open",a);this._setCss()},_setToggleableAttr:function(a){this.focusNode.setAttribute("role",a?"button":"heading");a?(this.focusNode.setAttribute("aria-controls",this.id+"_pane"),this.focusNode.setAttribute("tabIndex",this.tabIndex),this.focusNode.setAttribute("aria-pressed",this.open)):(g.remove(this.focusNode,"aria-controls"),g.remove(this.focusNode,
"tabIndex"),g.remove(this.focusNode,"aria-pressed"));this._set("toggleable",a);this._setCss()},_setContentAttr:function(a){!this.open||!this._wipeOut||"playing"==this._wipeOut.status()?this.inherited(arguments):(this._wipeIn&&"playing"==this._wipeIn.status()&&this._wipeIn.stop(),c.setMarginBox(this.wipeNode,{h:c.getMarginBox(this.wipeNode).h}),this.inherited(arguments),this._wipeIn?this._wipeIn.play():this.hideNode.style.display="")},toggle:function(){this._setOpenAttr(!this.open,!0)},_setCss:function(){var a=
this.titleBarNode||this.focusNode,c=this._titleBarClass;this._titleBarClass=this.baseClass+"Title"+(this.toggleable?"":"Fixed")+(this.open?"Open":"Closed");b.replace(a,this._titleBarClass,c||"");b.replace(a,this._titleBarClass.replace("TitlePaneTitle",""),(c||"").replace("TitlePaneTitle",""));this.arrowNodeInner.innerHTML=this.open?"-":"+"},_onTitleKey:function(b){b.keyCode==a.DOWN_ARROW&&this.open&&(this.containerNode.focus(),b.preventDefault())},_onTitleClick:function(){this.toggleable&&this.toggle()},
setTitle:function(a){e.deprecated("dijit.TitlePane.setTitle() is deprecated.  Use set('title', ...) instead.","","2.0");this.set("title",a)}});l("dojo-bidi")&&k.extend({_setTitleAttr:function(a){this._set("title",a);this.titleNode.innerHTML=a;this.applyTextDir(this.titleNode)},_setTooltipAttr:function(a){this._set("tooltip",a);this.textDir&&(a=this.enforceTextDirWithUcc(null,a));g.set(this.focusNode,"title",a)},_setTextDirAttr:function(a){this._created&&this.textDir!=a&&(this._set("textDir",a),this.set("title",
this.title),this.set("tooltip",this.tooltip))}});return k})},"dijit/form/DateTextBox":function(){define(["dojo/_base/declare","../Calendar","./_DateTimeTextBox"],function(h,k,d){return h("dijit.form.DateTextBox",d,{baseClass:"dijitTextBox dijitComboBox dijitDateTextBox",popupClass:k,_selector:"date",maxHeight:Infinity,value:new Date("")})})},"dijit/Calendar":function(){define("dojo/_base/array dojo/date dojo/date/locale dojo/_base/declare dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/_base/kernel dojo/keys dojo/_base/lang dojo/on dojo/sniff ./CalendarLite ./_Widget ./_CssStateMixin ./_TemplatedMixin ./form/DropDownButton".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s){var v=g("dijit.Calendar",[p,t,q],{baseClass:"dijitCalendar",cssStateNodes:{decrementMonth:"dijitCalendarArrow",incrementMonth:"dijitCalendarArrow",previousYearLabelNode:"dijitCalendarPreviousYear",nextYearLabelNode:"dijitCalendarNextYear"},setValue:function(a){l.deprecated("dijit.Calendar:setValue() is deprecated.  Use set('value', ...) instead.","","2.0");this.set("value",a)},_createMonthWidget:function(){return new v._MonthDropDownButton({id:this.id+"_mddb",
tabIndex:-1,onMonthSelect:a.hitch(this,"_onMonthSelect"),lang:this.lang,dateLocaleModule:this.dateLocaleModule},this.monthNode)},postCreate:function(){this.inherited(arguments);this.own(m(this.domNode,"keydown",a.hitch(this,"_onKeyDown")),m(this.dateRowsNode,"mouseover",a.hitch(this,"_onDayMouseOver")),m(this.dateRowsNode,"mouseout",a.hitch(this,"_onDayMouseOut")),m(this.dateRowsNode,"mousedown",a.hitch(this,"_onDayMouseDown")),m(this.dateRowsNode,"mouseup",a.hitch(this,"_onDayMouseUp")))},_onMonthSelect:function(a){var b=
new this.dateClassObj(this.currentFocus);b.setDate(1);b.setMonth(a);a=this.dateModule.getDaysInMonth(b);var c=this.currentFocus.getDate();b.setDate(Math.min(c,a));this._setCurrentFocusAttr(b)},_onDayMouseOver:function(a){if((a=c.contains(a.target,"dijitCalendarDateLabel")?a.target.parentNode:a.target)&&(a.dijitDateValue&&!c.contains(a,"dijitCalendarDisabledDate")||a==this.previousYearLabelNode||a==this.nextYearLabelNode))c.add(a,"dijitCalendarHoveredDate"),this._currentNode=a},_onDayMouseOut:function(a){this._currentNode&&
!(a.relatedTarget&&a.relatedTarget.parentNode==this._currentNode)&&(a="dijitCalendarHoveredDate",c.contains(this._currentNode,"dijitCalendarActiveDate")&&(a+=" dijitCalendarActiveDate"),c.remove(this._currentNode,a),this._currentNode=null)},_onDayMouseDown:function(a){if((a=a.target.parentNode)&&a.dijitDateValue&&!c.contains(a,"dijitCalendarDisabledDate"))c.add(a,"dijitCalendarActiveDate"),this._currentNode=a},_onDayMouseUp:function(a){(a=a.target.parentNode)&&a.dijitDateValue&&c.remove(a,"dijitCalendarActiveDate")},
handleKey:function(a){var b=-1,c,d=this.currentFocus;switch(a.keyCode){case e.RIGHT_ARROW:b=1;case e.LEFT_ARROW:c="day";this.isLeftToRight()||(b*=-1);break;case e.DOWN_ARROW:b=1;case e.UP_ARROW:c="week";break;case e.PAGE_DOWN:b=1;case e.PAGE_UP:c=a.ctrlKey||a.altKey?"year":"month";break;case e.END:d=this.dateModule.add(d,"month",1),c="day";case e.HOME:d=new this.dateClassObj(d);d.setDate(1);break;default:return!0}c&&(d=this.dateModule.add(d,c,b));this._setCurrentFocusAttr(d);return!1},_onKeyDown:function(a){this.handleKey(a)||
(a.stopPropagation(),a.preventDefault())},onValueSelected:function(){},onChange:function(a){this.onValueSelected(a)},getClassForDate:function(){}});v._MonthDropDownButton=g("dijit.Calendar._MonthDropDownButton",s,{onMonthSelect:function(){},postCreate:function(){this.inherited(arguments);this.dropDown=new v._MonthDropDown({id:this.id+"_mdd",onChange:this.onMonthSelect})},_setMonthAttr:function(a){var b=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,a);this.dropDown.set("months",
b);this.containerNode.innerHTML=(6==n("ie")?"":"\x3cdiv class\x3d'dijitSpacer'\x3e"+this.dropDown.domNode.innerHTML+"\x3c/div\x3e")+"\x3cdiv class\x3d'dijitCalendarMonthLabel dijitCalendarCurrentMonthLabel'\x3e"+b[a.getMonth()]+"\x3c/div\x3e"}});v._MonthDropDown=g("dijit.Calendar._MonthDropDown",[t,r,q],{months:[],baseClass:"dijitCalendarMonthMenu dijitMenu",templateString:"\x3cdiv data-dojo-attach-event\x3d'ondijitclick:_onClick'\x3e\x3c/div\x3e",_setMonthsAttr:function(a){this.domNode.innerHTML=
"";h.forEach(a,function(a,b){f.create("div",{className:"dijitCalendarMonthLabel",month:b,innerHTML:a},this.domNode)._cssState="dijitCalendarMonthLabel"},this)},_onClick:function(a){this.onChange(b.get(a.target,"month"))},onChange:function(){}});return v})},"dojo/date":function(){define(["./has","./_base/lang"],function(h,k){var d={getDaysInMonth:function(g){var b=g.getMonth();return 1==b&&d.isLeapYear(g)?29:[31,28,31,30,31,30,31,31,30,31,30,31][b]},isLeapYear:function(d){d=d.getFullYear();return!(d%
400)||!(d%4)&&!!(d%100)},getTimezoneName:function(d){var b=d.toString(),c="",f=b.indexOf("(");if(-1<f)c=b.substring(++f,b.indexOf(")"));else if(f=/([A-Z\/]+) \d{4}$/,b=b.match(f))c=b[1];else if(b=d.toLocaleString(),f=/ ([A-Z\/]+)$/,b=b.match(f))c=b[1];return"AM"==c||"PM"==c?"":c},compare:function(d,b,c){d=new Date(+d);b=new Date(+(b||new Date));"date"==c?(d.setHours(0,0,0,0),b.setHours(0,0,0,0)):"time"==c&&(d.setFullYear(0,0,0),b.setFullYear(0,0,0));return d>b?1:d<b?-1:0},add:function(d,b,c){var f=
new Date(+d),l=!1,e="Date";switch(b){case "day":break;case "weekday":var a;(b=c%5)?a=parseInt(c/5):(b=0<c?5:-5,a=0<c?(c-5)/5:(c+5)/5);var h=d.getDay(),k=0;6==h&&0<c?k=1:0==h&&0>c&&(k=-1);h+=b;if(0==h||6==h)k=0<c?2:-2;c=7*a+b+k;break;case "year":e="FullYear";l=!0;break;case "week":c*=7;break;case "quarter":c*=3;case "month":l=!0;e="Month";break;default:e="UTC"+b.charAt(0).toUpperCase()+b.substring(1)+"s"}if(e)f["set"+e](f["get"+e]()+c);l&&f.getDate()<d.getDate()&&f.setDate(0);return f},difference:function(g,
b,c){b=b||new Date;c=c||"day";var f=b.getFullYear()-g.getFullYear(),l=1;switch(c){case "quarter":g=g.getMonth();b=b.getMonth();g=Math.floor(g/3)+1;b=Math.floor(b/3)+1;l=b+4*f-g;break;case "weekday":f=Math.round(d.difference(g,b,"day"));c=parseInt(d.difference(g,b,"week"));l=f%7;if(0==l)f=5*c;else{var e=0,a=g.getDay();b=b.getDay();c=parseInt(f/7);l=f%7;g=new Date(g);g.setDate(g.getDate()+7*c);g=g.getDay();if(0<f)switch(!0){case 6==a:e=-1;break;case 0==a:e=0;break;case 6==b:e=-1;break;case 0==b:e=-2;
break;case 5<g+l:e=-2}else if(0>f)switch(!0){case 6==a:e=0;break;case 0==a:e=1;break;case 6==b:e=2;break;case 0==b:e=1;break;case 0>g+l:e=2}f=f+e-2*c}l=f;break;case "year":l=f;break;case "month":l=b.getMonth()-g.getMonth()+12*f;break;case "week":l=parseInt(d.difference(g,b,"day")/7);break;case "day":l/=24;case "hour":l/=60;case "minute":l/=60;case "second":l/=1E3;case "millisecond":l*=b.getTime()-g.getTime()}return Math.round(l)}};k.mixin(k.getObject("dojo.date",!0),d);return d})},"dojo/date/locale":function(){define("../_base/lang ../_base/array ../date ../cldr/supplemental ../i18n ../regexp ../string ../i18n!../cldr/nls/gregorian module".split(" "),
function(h,k,d,g,b,c,f,l,e){function a(a,b,c,d){return d.replace(/([a-z])\1*/ig,function(e){var l,h,k=e.charAt(0);e=e.length;var m=["abbr","wide","narrow"];switch(k){case "G":l=b[4>e?"eraAbbr":"eraNames"][0>a.getFullYear()?0:1];break;case "y":l=a.getFullYear();switch(e){case 1:break;case 2:if(!c.fullYear){l=String(l);l=l.substr(l.length-2);break}default:h=!0}break;case "Q":case "q":l=Math.ceil((a.getMonth()+1)/3);h=!0;break;case "M":case "L":l=a.getMonth();3>e?(l+=1,h=!0):(k=["months","L"==k?"standAlone":
"format",m[e-3]].join("-"),l=b[k][l]);break;case "w":l=p._getWeekOfYear(a,0);h=!0;break;case "d":l=a.getDate();h=!0;break;case "D":l=p._getDayOfYear(a);h=!0;break;case "e":case "c":if(l=a.getDay(),2>e){l=(l-g.getFirstDayOfWeek(c.locale)+8)%7;break}case "E":l=a.getDay();3>e?(l+=1,h=!0):(k=["days","c"==k?"standAlone":"format",m[e-3]].join("-"),l=b[k][l]);break;case "a":k=12>a.getHours()?"am":"pm";l=c[k]||b["dayPeriods-format-wide-"+k];break;case "h":case "H":case "K":case "k":h=a.getHours();switch(k){case "h":l=
h%12||12;break;case "H":l=h;break;case "K":l=h%12;break;case "k":l=h||24}h=!0;break;case "m":l=a.getMinutes();h=!0;break;case "s":l=a.getSeconds();h=!0;break;case "S":l=Math.round(a.getMilliseconds()*Math.pow(10,e-3));h=!0;break;case "v":case "z":if(l=p._getZone(a,!0,c))break;e=4;case "Z":k=p._getZone(a,!1,c);k=[0>=k?"+":"-",f.pad(Math.floor(Math.abs(k)/60),2),f.pad(Math.abs(k)%60,2)];4==e&&(k.splice(0,0,"GMT"),k.splice(3,0,":"));l=k.join("");break;default:throw Error("dojo.date.locale.format: invalid pattern char: "+
d);}h&&(l=f.pad(l,e));return l})}function m(a,b,c,e){var d=function(a){return a};b=b||d;c=c||d;e=e||d;var f=a.match(/(''|[^'])+/g),g="'"==a.charAt(0);k.forEach(f,function(a,e){a?(f[e]=(g?c:b)(a.replace(/''/g,"'")),g=!g):f[e]=""});return e(f.join(""))}function n(a,b,e,d){d=c.escapeString(d);e.strict||(d=d.replace(" a"," ?a"));return d.replace(/([a-z])\1*/ig,function(c){var d;d=c.charAt(0);var f=c.length,g="",l="";e.strict?(1<f&&(g="0{"+(f-1)+"}"),2<f&&(l="0{"+(f-2)+"}")):(g="0?",l="0{0,2}");switch(d){case "y":d=
"\\d{2,4}";break;case "M":case "L":d=2<f?"\\S+?":"1[0-2]|"+g+"[1-9]";break;case "D":d="[12][0-9][0-9]|3[0-5][0-9]|36[0-6]|"+g+"[1-9][0-9]|"+l+"[1-9]";break;case "d":d="3[01]|[12]\\d|"+g+"[1-9]";break;case "w":d="[1-4][0-9]|5[0-3]|"+g+"[1-9]";break;case "E":case "e":case "c":d=".+?";break;case "h":d="1[0-2]|"+g+"[1-9]";break;case "k":d="1[01]|"+g+"\\d";break;case "H":d="1\\d|2[0-3]|"+g+"\\d";break;case "K":d="1\\d|2[0-4]|"+g+"[1-9]";break;case "m":case "s":d="[0-5]\\d";break;case "S":d="\\d{"+f+"}";
break;case "a":f=e.am||b["dayPeriods-format-wide-am"];g=e.pm||b["dayPeriods-format-wide-pm"];d=f+"|"+g;e.strict||(f!=f.toLowerCase()&&(d+="|"+f.toLowerCase()),g!=g.toLowerCase()&&(d+="|"+g.toLowerCase()),-1!=d.indexOf(".")&&(d+="|"+d.replace(/\./g,"")));d=d.replace(/\./g,"\\.");break;default:d=".*"}a&&a.push(c);return"("+d+")"}).replace(/[\xa0 ]/g,"[\\s\\xa0]")}var p={};h.setObject(e.id.replace(/\//g,"."),p);p._getZone=function(a,b,c){return b?d.getTimezoneName(a):a.getTimezoneOffset()};p.format=
function(c,d){d=d||{};var e=b.normalizeLocale(d.locale),f=d.formatLength||"short",e=p._getGregorianBundle(e),g=[],l=h.hitch(this,a,c,e,d);if("year"==d.selector)return m(e["dateFormatItem-yyyy"]||"yyyy",l);var k;"date"!=d.selector&&(k=d.timePattern||e["timeFormat-"+f])&&g.push(m(k,l));"time"!=d.selector&&(k=d.datePattern||e["dateFormat-"+f])&&g.push(m(k,l));return 1==g.length?g[0]:e["dateTimeFormat-"+f].replace(/\'/g,"").replace(/\{(\d+)\}/g,function(a,b){return g[b]})};p.regexp=function(a){return p._parseInfo(a).regexp};
p._parseInfo=function(a){a=a||{};var c=b.normalizeLocale(a.locale),c=p._getGregorianBundle(c),d=a.formatLength||"short",e=a.datePattern||c["dateFormat-"+d],f=a.timePattern||c["timeFormat-"+d],d="date"==a.selector?e:"time"==a.selector?f:c["dateTimeFormat-"+d].replace(/\{(\d+)\}/g,function(a,b){return[f,e][b]}),g=[];return{regexp:m(d,h.hitch(this,n,g,c,a)),tokens:g,bundle:c}};p.parse=function(a,b){var c=/[\u200E\u200F\u202A\u202E]/g,e=p._parseInfo(b),f=e.tokens,g=e.bundle,c=RegExp("^"+e.regexp.replace(c,
"")+"$",e.strict?"":"i").exec(a&&a.replace(c,""));if(!c)return null;var l=["abbr","wide","narrow"],h=[1970,0,1,0,0,0,0],m="",c=k.every(c,function(a,c){if(!c)return!0;var d=f[c-1],e=d.length,d=d.charAt(0);switch(d){case "y":if(2!=e&&b.strict)h[0]=a;else if(100>a)a=Number(a),d=""+(new Date).getFullYear(),e=100*d.substring(0,2),d=Math.min(Number(d.substring(2,4))+20,99),h[0]=a<d?e+a:e-100+a;else{if(b.strict)return!1;h[0]=a}break;case "M":case "L":if(2<e){if(e=g["months-"+("L"==d?"standAlone":"format")+
"-"+l[e-3]].concat(),b.strict||(a=a.replace(".","").toLowerCase(),e=k.map(e,function(a){return a.replace(".","").toLowerCase()})),a=k.indexOf(e,a),-1==a)return!1}else a--;h[1]=a;break;case "E":case "e":case "c":e=g["days-"+("c"==d?"standAlone":"format")+"-"+l[e-3]].concat();b.strict||(a=a.toLowerCase(),e=k.map(e,function(a){return a.toLowerCase()}));a=k.indexOf(e,a);if(-1==a)return!1;break;case "D":h[1]=0;case "d":h[2]=a;break;case "a":e=b.am||g["dayPeriods-format-wide-am"];d=b.pm||g["dayPeriods-format-wide-pm"];
if(!b.strict){var n=/\./g;a=a.replace(n,"").toLowerCase();e=e.replace(n,"").toLowerCase();d=d.replace(n,"").toLowerCase()}if(b.strict&&a!=e&&a!=d)return!1;m=a==d?"p":a==e?"a":"";break;case "K":24==a&&(a=0);case "h":case "H":case "k":if(23<a)return!1;h[3]=a;break;case "m":h[4]=a;break;case "s":h[5]=a;break;case "S":h[6]=a}return!0}),e=+h[3];"p"===m&&12>e?h[3]=e+12:"a"===m&&12==e&&(h[3]=0);e=new Date(h[0],h[1],h[2],h[3],h[4],h[5],h[6]);b.strict&&e.setFullYear(h[0]);var n=f.join(""),t=-1!=n.indexOf("d"),
n=-1!=n.indexOf("M");if(!c||n&&e.getMonth()>h[1]||t&&e.getDate()>h[2])return null;if(n&&e.getMonth()<h[1]||t&&e.getDate()<h[2])e=d.add(e,"hour",1);return e};var t=[];p.addCustomFormats=function(a,b){t.push({pkg:a,name:b})};p._getGregorianBundle=function(a){var c={};k.forEach(t,function(d){d=b.getLocalization(d.pkg,d.name,a);c=h.mixin(c,d)},this);return c};p.addCustomFormats(e.id.replace(/\/date\/locale$/,".cldr"),"gregorian");p.getNames=function(a,b,c,d){var e;d=p._getGregorianBundle(d);a=[a,c,b];
"standAlone"==c&&(c=a.join("-"),e=d[c],1==e[0]&&(e=void 0));a[1]="format";return(e||d[a.join("-")]).concat()};p.isWeekend=function(a,b){var c=g.getWeekend(b),d=(a||new Date).getDay();c.end<c.start&&(c.end+=7,d<c.start&&(d+=7));return d>=c.start&&d<=c.end};p._getDayOfYear=function(a){return d.difference(new Date(a.getFullYear(),0,1,a.getHours()),a)+1};p._getWeekOfYear=function(a,b){1==arguments.length&&(b=0);var c=(new Date(a.getFullYear(),0,1)).getDay(),d=Math.floor((p._getDayOfYear(a)+(c-b+7)%7-
1)/7);c==b&&d++;return d};return p})},"dojo/cldr/supplemental":function(){define(["../_base/lang","../i18n"],function(h,k){var d={};h.setObject("dojo.cldr.supplemental",d);d.getFirstDayOfWeek=function(g){g={bd:5,mv:5,ae:6,af:6,bh:6,dj:6,dz:6,eg:6,iq:6,ir:6,jo:6,kw:6,ly:6,ma:6,om:6,qa:6,sa:6,sd:6,sy:6,ye:6,ag:0,ar:0,as:0,au:0,br:0,bs:0,bt:0,bw:0,by:0,bz:0,ca:0,cn:0,co:0,dm:0,"do":0,et:0,gt:0,gu:0,hk:0,hn:0,id:0,ie:0,il:0,"in":0,jm:0,jp:0,ke:0,kh:0,kr:0,la:0,mh:0,mm:0,mo:0,mt:0,mx:0,mz:0,ni:0,np:0,
nz:0,pa:0,pe:0,ph:0,pk:0,pr:0,py:0,sg:0,sv:0,th:0,tn:0,tt:0,tw:0,um:0,us:0,ve:0,vi:0,ws:0,za:0,zw:0}[d._region(g)];return void 0===g?1:g};d._region=function(d){d=k.normalizeLocale(d);d=d.split("-");var b=d[1];b?4==b.length&&(b=d[2]):b={aa:"et",ab:"ge",af:"za",ak:"gh",am:"et",ar:"eg",as:"in",av:"ru",ay:"bo",az:"az",ba:"ru",be:"by",bg:"bg",bi:"vu",bm:"ml",bn:"bd",bo:"cn",br:"fr",bs:"ba",ca:"es",ce:"ru",ch:"gu",co:"fr",cr:"ca",cs:"cz",cv:"ru",cy:"gb",da:"dk",de:"de",dv:"mv",dz:"bt",ee:"gh",el:"gr",en:"us",
es:"es",et:"ee",eu:"es",fa:"ir",ff:"sn",fi:"fi",fj:"fj",fo:"fo",fr:"fr",fy:"nl",ga:"ie",gd:"gb",gl:"es",gn:"py",gu:"in",gv:"gb",ha:"ng",he:"il",hi:"in",ho:"pg",hr:"hr",ht:"ht",hu:"hu",hy:"am",ia:"fr",id:"id",ig:"ng",ii:"cn",ik:"us","in":"id",is:"is",it:"it",iu:"ca",iw:"il",ja:"jp",ji:"ua",jv:"id",jw:"id",ka:"ge",kg:"cd",ki:"ke",kj:"na",kk:"kz",kl:"gl",km:"kh",kn:"in",ko:"kr",ks:"in",ku:"tr",kv:"ru",kw:"gb",ky:"kg",la:"va",lb:"lu",lg:"ug",li:"nl",ln:"cd",lo:"la",lt:"lt",lu:"cd",lv:"lv",mg:"mg",mh:"mh",
mi:"nz",mk:"mk",ml:"in",mn:"mn",mo:"ro",mr:"in",ms:"my",mt:"mt",my:"mm",na:"nr",nb:"no",nd:"zw",ne:"np",ng:"na",nl:"nl",nn:"no",no:"no",nr:"za",nv:"us",ny:"mw",oc:"fr",om:"et",or:"in",os:"ge",pa:"in",pl:"pl",ps:"af",pt:"br",qu:"pe",rm:"ch",rn:"bi",ro:"ro",ru:"ru",rw:"rw",sa:"in",sd:"in",se:"no",sg:"cf",si:"lk",sk:"sk",sl:"si",sm:"ws",sn:"zw",so:"so",sq:"al",sr:"rs",ss:"za",st:"za",su:"id",sv:"se",sw:"tz",ta:"in",te:"in",tg:"tj",th:"th",ti:"et",tk:"tm",tl:"ph",tn:"za",to:"to",tr:"tr",ts:"za",tt:"ru",
ty:"pf",ug:"cn",uk:"ua",ur:"pk",uz:"uz",ve:"za",vi:"vn",wa:"be",wo:"sn",xh:"za",yi:"il",yo:"ng",za:"cn",zh:"cn",zu:"za",ace:"id",ady:"ru",agq:"cm",alt:"ru",amo:"ng",asa:"tz",ast:"es",awa:"in",bal:"pk",ban:"id",bas:"cm",bax:"cm",bbc:"id",bem:"zm",bez:"tz",bfq:"in",bft:"pk",bfy:"in",bhb:"in",bho:"in",bik:"ph",bin:"ng",bjj:"in",bku:"ph",bqv:"ci",bra:"in",brx:"in",bss:"cm",btv:"pk",bua:"ru",buc:"yt",bug:"id",bya:"id",byn:"er",cch:"ng",ccp:"in",ceb:"ph",cgg:"ug",chk:"fm",chm:"ru",chp:"ca",chr:"us",cja:"kh",
cjm:"vn",ckb:"iq",crk:"ca",csb:"pl",dar:"ru",dav:"ke",den:"ca",dgr:"ca",dje:"ne",doi:"in",dsb:"de",dua:"cm",dyo:"sn",dyu:"bf",ebu:"ke",efi:"ng",ewo:"cm",fan:"gq",fil:"ph",fon:"bj",fur:"it",gaa:"gh",gag:"md",gbm:"in",gcr:"gf",gez:"et",gil:"ki",gon:"in",gor:"id",grt:"in",gsw:"ch",guz:"ke",gwi:"ca",haw:"us",hil:"ph",hne:"in",hnn:"ph",hoc:"in",hoj:"in",ibb:"ng",ilo:"ph",inh:"ru",jgo:"cm",jmc:"tz",kaa:"uz",kab:"dz",kaj:"ng",kam:"ke",kbd:"ru",kcg:"ng",kde:"tz",kdt:"th",kea:"cv",ken:"cm",kfo:"ci",kfr:"in",
kha:"in",khb:"cn",khq:"ml",kht:"in",kkj:"cm",kln:"ke",kmb:"ao",koi:"ru",kok:"in",kos:"fm",kpe:"lr",krc:"ru",kri:"sl",krl:"ru",kru:"in",ksb:"tz",ksf:"cm",ksh:"de",kum:"ru",lag:"tz",lah:"pk",lbe:"ru",lcp:"cn",lep:"in",lez:"ru",lif:"np",lis:"cn",lki:"ir",lmn:"in",lol:"cd",lua:"cd",luo:"ke",luy:"ke",lwl:"th",mad:"id",mag:"in",mai:"in",mak:"id",man:"gn",mas:"ke",mdf:"ru",mdh:"ph",mdr:"id",men:"sl",mer:"ke",mfe:"mu",mgh:"mz",mgo:"cm",min:"id",mni:"in",mnk:"gm",mnw:"mm",mos:"bf",mua:"cm",mwr:"in",myv:"ru",
nap:"it",naq:"na",nds:"de","new":"np",niu:"nu",nmg:"cm",nnh:"cm",nod:"th",nso:"za",nus:"sd",nym:"tz",nyn:"ug",pag:"ph",pam:"ph",pap:"bq",pau:"pw",pon:"fm",prd:"ir",raj:"in",rcf:"re",rej:"id",rjs:"np",rkt:"in",rof:"tz",rwk:"tz",saf:"gh",sah:"ru",saq:"ke",sas:"id",sat:"in",saz:"in",sbp:"tz",scn:"it",sco:"gb",sdh:"ir",seh:"mz",ses:"ml",shi:"ma",shn:"mm",sid:"et",sma:"se",smj:"se",smn:"fi",sms:"fi",snk:"ml",srn:"sr",srr:"sn",ssy:"er",suk:"tz",sus:"gn",swb:"yt",swc:"cd",syl:"bd",syr:"sy",tbw:"ph",tcy:"in",
tdd:"cn",tem:"sl",teo:"ug",tet:"tl",tig:"er",tiv:"ng",tkl:"tk",tmh:"ne",tpi:"pg",trv:"tw",tsg:"ph",tts:"th",tum:"mw",tvl:"tv",twq:"ne",tyv:"ru",tzm:"ma",udm:"ru",uli:"fm",umb:"ao",unr:"in",unx:"in",vai:"lr",vun:"tz",wae:"ch",wal:"et",war:"ph",xog:"ug",xsr:"np",yao:"mz",yap:"fm",yav:"cm",zza:"tr"}[d[0]];return b};d.getWeekend=function(g){var b=d._region(g);g={"in":0,af:4,dz:4,ir:4,om:4,sa:4,ye:4,ae:5,bh:5,eg:5,il:5,iq:5,jo:5,kw:5,ly:5,ma:5,qa:5,sd:5,sy:5,tn:5}[b];b={af:5,dz:5,ir:5,om:5,sa:5,ye:5,ae:6,
bh:5,eg:6,il:6,iq:6,jo:6,kw:6,ly:6,ma:6,qa:6,sd:6,sy:6,tn:6}[b];void 0===g&&(g=6);void 0===b&&(b=0);return{start:g,end:b}};return d})},"dijit/CalendarLite":function(){define("dojo/_base/array dojo/_base/declare dojo/cldr/supplemental dojo/date dojo/date/locale dojo/date/stamp dojo/dom dojo/dom-class dojo/_base/lang dojo/on dojo/sniff dojo/string ./_WidgetBase ./_TemplatedMixin dojo/text!./templates/Calendar.html ./a11yclick ./hccss".split(" "),function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q){var r=k("dijit.CalendarLite",
[p,t],{templateString:q,dowTemplateString:'\x3cth class\x3d"dijitReset dijitCalendarDayLabelTemplate" role\x3d"columnheader" scope\x3d"col"\x3e\x3cspan class\x3d"dijitCalendarDayLabel"\x3e${d}\x3c/span\x3e\x3c/th\x3e',dateTemplateString:'\x3ctd class\x3d"dijitReset" role\x3d"gridcell" data-dojo-attach-point\x3d"dateCells"\x3e\x3cspan class\x3d"dijitCalendarDateLabel" data-dojo-attach-point\x3d"dateLabels"\x3e\x3c/span\x3e\x3c/td\x3e',weekTemplateString:'\x3ctr class\x3d"dijitReset dijitCalendarWeekTemplate" role\x3d"row"\x3e${d}${d}${d}${d}${d}${d}${d}\x3c/tr\x3e',
value:new Date(""),datePackage:"",dayWidth:"narrow",tabIndex:"0",currentFocus:new Date,_setSummaryAttr:"gridNode",baseClass:"dijitCalendar dijitCalendarLite",_isValidDate:function(a){return a&&!isNaN(a)&&"object"==typeof a&&a.toString()!=this.constructor.prototype.value.toString()},_getValueAttr:function(){var a=this._get("value");if(a&&!isNaN(a)){var b=new this.dateClassObj(a);b.setHours(0,0,0,0);b.getDate()<a.getDate()&&(b=this.dateModule.add(b,"hour",1));return b}return null},_setValueAttr:function(a,
b){"string"==typeof a&&(a=c.fromISOString(a));a=this._patchDate(a);if(this._isValidDate(a)&&!this.isDisabledDate(a,this.lang)){if(this._set("value",a),this.set("currentFocus",a),this._markSelectedDates([a]),this._created&&(b||"undefined"==typeof b))this.onChange(this.get("value"))}else this._set("value",null),this._markSelectedDates([])},_patchDate:function(a){a&&(a=new this.dateClassObj(a),a.setHours(1,0,0,0));return a},_setText:function(a,b){for(;a.firstChild;)a.removeChild(a.firstChild);a.appendChild(a.ownerDocument.createTextNode(b))},
_populateGrid:function(){var a=new this.dateClassObj(this.currentFocus);a.setDate(1);var a=this._patchDate(a),b=a.getDay(),c=this.dateModule.getDaysInMonth(a),e=this.dateModule.getDaysInMonth(this.dateModule.add(a,"month",-1)),f=new this.dateClassObj,g=d.getFirstDayOfWeek(this.lang);g>b&&(g-=7);if(!this.summary){var l=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,a);this.gridNode.setAttribute("summary",l[a.getMonth()])}this._date2cell={};h.forEach(this.dateCells,function(d,
l){var h=l+g,k=new this.dateClassObj(a),m="dijitCalendar",n=0;h<b?(h=e-b+h+1,n=-1,m+="Previous"):h>=b+c?(h=h-b-c+1,n=1,m+="Next"):(h=h-b+1,m+="Current");n&&(k=this.dateModule.add(k,"month",n));k.setDate(h);this.dateModule.compare(k,f,"date")||(m="dijitCalendarCurrentDate "+m);this.isDisabledDate(k,this.lang)?(m="dijitCalendarDisabledDate "+m,d.setAttribute("aria-disabled","true")):(m="dijitCalendarEnabledDate "+m,d.removeAttribute("aria-disabled"),d.setAttribute("aria-selected","false"));(n=this.getClassForDate(k,
this.lang))&&(m=n+" "+m);d.className=m+"Month dijitCalendarDateTemplate";m=k.valueOf();this._date2cell[m]=d;d.dijitDateValue=m;this._setText(this.dateLabels[l],k.getDateLocalized?k.getDateLocalized(this.lang):k.getDate())},this)},_populateControls:function(){var a=new this.dateClassObj(this.currentFocus);a.setDate(1);this.monthWidget.set("month",a);var b=a.getFullYear()-1,c=new this.dateClassObj;h.forEach(["previous","current","next"],function(a){c.setFullYear(b++);this._setText(this[a+"YearLabelNode"],
this.dateLocaleModule.format(c,{selector:"year",locale:this.lang}))},this)},goToToday:function(){this.set("value",new this.dateClassObj)},constructor:function(a){this.dateModule=a.datePackage?e.getObject(a.datePackage,!1):g;this.dateClassObj=this.dateModule.Date||Date;this.dateLocaleModule=a.datePackage?e.getObject(a.datePackage+".locale",!1):b},_createMonthWidget:function(){return r._MonthWidget({id:this.id+"_mddb",lang:this.lang,dateLocaleModule:this.dateLocaleModule},this.monthNode)},buildRendering:function(){var a=
this.dowTemplateString,b=this.dateLocaleModule.getNames("days",this.dayWidth,"standAlone",this.lang),c=d.getFirstDayOfWeek(this.lang);this.dayCellsHtml=n.substitute([a,a,a,a,a,a,a].join(""),{d:""},function(){return b[c++%7]});a=n.substitute(this.weekTemplateString,{d:this.dateTemplateString});this.dateRowsHtml=[a,a,a,a,a,a].join("");this.dateCells=[];this.dateLabels=[];this.inherited(arguments);f.setSelectable(this.domNode,!1);a=new this.dateClassObj(this.currentFocus);this.monthWidget=this._createMonthWidget();
this.set("currentFocus",a,!1)},postCreate:function(){this.inherited(arguments);this._connectControls()},_connectControls:function(){var b=e.hitch(this,function(b,c,d){this[b].dojoClick=!0;return a(this[b],"click",e.hitch(this,function(){this._setCurrentFocusAttr(this.dateModule.add(this.currentFocus,c,d))}))});this.own(b("incrementMonth","month",1),b("decrementMonth","month",-1),b("nextYearLabelNode","year",1),b("previousYearLabelNode","year",-1))},_setCurrentFocusAttr:function(a,b){var c=this.currentFocus,
d=this._getNodeByDate(c);a=this._patchDate(a);this._set("currentFocus",a);if(!this._date2cell||0!=this.dateModule.difference(c,a,"month"))this._populateGrid(),this._populateControls(),this._markSelectedDates([this.value]);c=this._getNodeByDate(a);c.setAttribute("tabIndex",this.tabIndex);(this.focused||b)&&c.focus();d&&d!=c&&(m("webkit")?d.setAttribute("tabIndex","-1"):d.removeAttribute("tabIndex"))},focus:function(){this._setCurrentFocusAttr(this.currentFocus,!0)},_onDayClick:function(a){a.stopPropagation();
a.preventDefault();for(a=a.target;a&&!a.dijitDateValue;a=a.parentNode);a&&!l.contains(a,"dijitCalendarDisabledDate")&&this.set("value",a.dijitDateValue)},_getNodeByDate:function(a){return(a=this._patchDate(a))&&this._date2cell?this._date2cell[a.valueOf()]:null},_markSelectedDates:function(a){function b(a,c){l.toggle(c,"dijitCalendarSelectedDate",a);c.setAttribute("aria-selected",a?"true":"false")}h.forEach(this._selectedCells||[],e.partial(b,!1));this._selectedCells=h.filter(h.map(a,this._getNodeByDate,
this),function(a){return a});h.forEach(this._selectedCells,e.partial(b,!0))},onChange:function(){},isDisabledDate:function(){},getClassForDate:function(){}});r._MonthWidget=k("dijit.CalendarLite._MonthWidget",p,{_setMonthAttr:function(a){var b=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,a),c=6==m("ie")?"":"\x3cdiv class\x3d'dijitSpacer'\x3e"+h.map(b,function(a){return"\x3cdiv\x3e"+a+"\x3c/div\x3e"}).join("")+"\x3c/div\x3e";this.domNode.innerHTML=c+"\x3cdiv class\x3d'dijitCalendarMonthLabel dijitCalendarCurrentMonthLabel'\x3e"+
b[a.getMonth()]+"\x3c/div\x3e"}});return r})},"dijit/form/_DateTimeTextBox":function(){define("dojo/date dojo/date/locale dojo/date/stamp dojo/_base/declare dojo/_base/lang ./RangeBoundTextBox ../_HasDropDown dojo/text!./templates/DropDownBox.html".split(" "),function(h,k,d,g,b,c,f,l){new Date("X");return g("dijit.form._DateTimeTextBox",[c,f],{templateString:l,hasDownArrow:!0,cssStateNodes:{_buttonNode:"dijitDownArrowButton"},_unboundedConstraints:{},pattern:k.regexp,datePackage:"",postMixInProperties:function(){this.inherited(arguments);
this._set("type","text")},compare:function(b,a){var c=this._isInvalidDate(b),d=this._isInvalidDate(a);if(c||d)return c&&d?0:!c?1:-1;var c=this.format(b,this._unboundedConstraints),d=this.format(a,this._unboundedConstraints),f=this.parse(c,this._unboundedConstraints),g=this.parse(d,this._unboundedConstraints);return c==d?0:h.compare(f,g,this._selector)},autoWidth:!0,format:function(b,a){return!b?"":this.dateLocaleModule.format(b,a)},parse:function(b,a){return this.dateLocaleModule.parse(b,a)||(this._isEmpty(b)?
null:void 0)},serialize:function(b,a){b.toGregorian&&(b=b.toGregorian());return d.toISOString(b,a)},dropDownDefaultValue:new Date,value:new Date(""),_blankValue:null,popupClass:"",_selector:"",constructor:function(c){c=c||{};this.dateModule=c.datePackage?b.getObject(c.datePackage,!1):h;this.dateClassObj=this.dateModule.Date||Date;this.dateClassObj instanceof Date||(this.value=new this.dateClassObj(this.value));this.dateLocaleModule=c.datePackage?b.getObject(c.datePackage+".locale",!1):k;this._set("pattern",
this.dateLocaleModule.regexp);this._invalidDate=this.constructor.prototype.value.toString()},buildRendering:function(){this.inherited(arguments);this.hasDownArrow||(this._buttonNode.style.display="none");this.hasDownArrow||(this._buttonNode=this.domNode,this.baseClass+=" dijitComboBoxOpenOnClick")},_setConstraintsAttr:function(c){c.selector=this._selector;c.fullYear=!0;var a=d.fromISOString;"string"==typeof c.min&&(c.min=a(c.min),this.dateClassObj instanceof Date||(c.min=new this.dateClassObj(c.min)));
"string"==typeof c.max&&(c.max=a(c.max),this.dateClassObj instanceof Date||(c.max=new this.dateClassObj(c.max)));this.inherited(arguments);this._unboundedConstraints=b.mixin({},this.constraints,{min:null,max:null})},_isInvalidDate:function(b){return!b||isNaN(b)||"object"!=typeof b||b.toString()==this._invalidDate},_setValueAttr:function(b,a,c){void 0!==b&&("string"==typeof b&&(b=d.fromISOString(b)),this._isInvalidDate(b)&&(b=null),b instanceof Date&&!(this.dateClassObj instanceof Date)&&(b=new this.dateClassObj(b)));
this.inherited(arguments,[b,a,c]);this.value instanceof Date&&(this.filterString="");this.dropDown&&this.dropDown.set("value",b,!1)},_set:function(b,a){if("value"==b){a instanceof Date&&!(this.dateClassObj instanceof Date)&&(a=new this.dateClassObj(a));var c=this._get("value");if(c instanceof this.dateClassObj&&0==this.compare(a,c))return}this.inherited(arguments)},_setDropDownDefaultValueAttr:function(b){this._isInvalidDate(b)&&(b=new this.dateClassObj);this._set("dropDownDefaultValue",b)},openDropDown:function(c){this.dropDown&&
this.dropDown.destroy();var a=b.isString(this.popupClass)?b.getObject(this.popupClass,!1):this.popupClass,d=this,f=this.get("value");this.dropDown=new a({onChange:function(a){d.set("value",a,!0)},id:this.id+"_popup",dir:d.dir,lang:d.lang,value:f,textDir:d.textDir,currentFocus:!this._isInvalidDate(f)?f:this.dropDownDefaultValue,constraints:d.constraints,filterString:d.filterString,datePackage:d.datePackage,isDisabledDate:function(a){return!d.rangeCheck(a,d.constraints)}});this.inherited(arguments)},
_getDisplayedValueAttr:function(){return this.textbox.value},_setDisplayedValueAttr:function(b,a){this._setValueAttr(this.parse(b,this.constraints),a,b)}})})},"dijit/ProgressBar":function(){define("require dojo/_base/declare dojo/dom-class dojo/_base/lang dojo/number ./_Widget ./_TemplatedMixin dojo/text!./templates/ProgressBar.html".split(" "),function(h,k,d,g,b,c,f,l){return k("dijit.ProgressBar",[c,f],{progress:"0",value:"",maximum:100,places:0,indeterminate:!1,label:"",name:"",templateString:l,
_indeterminateHighContrastImagePath:h.toUrl("./themes/a11y/indeterminate_progress.gif"),postMixInProperties:function(){this.inherited(arguments);this.params&&"value"in this.params||(this.value=this.indeterminate?Infinity:this.progress)},buildRendering:function(){this.inherited(arguments);this.indeterminateHighContrastImage.setAttribute("src",this._indeterminateHighContrastImagePath.toString());this.update()},_setDirAttr:function(b){var a="rtl"==b.toLowerCase();d.toggle(this.domNode,"dijitProgressBarRtl",
a);d.toggle(this.domNode,"dijitProgressBarIndeterminateRtl",this.indeterminate&&a);this.inherited(arguments)},update:function(b){g.mixin(this,b||{});b=this.internalProgress;var a=this.domNode,c=1;this.indeterminate?a.removeAttribute("aria-valuenow"):(-1!=String(this.progress).indexOf("%")?(c=Math.min(parseFloat(this.progress)/100,1),this.progress=c*this.maximum):(this.progress=Math.min(this.progress,this.maximum),c=this.maximum?this.progress/this.maximum:0),a.setAttribute("aria-valuenow",this.progress));
a.setAttribute("aria-labelledby",this.labelNode.id);a.setAttribute("aria-valuemin",0);a.setAttribute("aria-valuemax",this.maximum);this.labelNode.innerHTML=this.report(c);d.toggle(this.domNode,"dijitProgressBarIndeterminate",this.indeterminate);d.toggle(this.domNode,"dijitProgressBarIndeterminateRtl",this.indeterminate&&!this.isLeftToRight());b.style.width=100*c+"%";this.onChange()},_setValueAttr:function(b){this._set("value",b);Infinity==b?this.update({indeterminate:!0}):this.update({indeterminate:!1,
progress:b})},_setLabelAttr:function(b){this._set("label",b);this.update()},_setIndeterminateAttr:function(b){this._set("indeterminate",b);this.update()},report:function(c){return this.label?this.label:this.indeterminate?"\x26#160;":b.format(c,{type:"percent",places:this.places,locale:this.lang})},onChange:function(){}})})},"dijit/TooltipDialog":function(){define("dojo/_base/declare dojo/dom-class dojo/has dojo/keys dojo/_base/lang dojo/on ./focus ./layout/ContentPane ./_DialogMixin ./form/_FormMixin ./_TemplatedMixin dojo/text!./templates/TooltipDialog.html ./main".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p){h=h("dijit.TooltipDialog",[l,m,a,e],{title:"",doLayout:!1,autofocus:!0,baseClass:"dijitTooltipDialog",_firstFocusItem:null,_lastFocusItem:null,templateString:n,_setTitleAttr:"containerNode",postCreate:function(){this.inherited(arguments);this.own(c(this.domNode,"keydown",b.hitch(this,"_onKey")))},orient:function(a,b,c){a={"MR-ML":"dijitTooltipRight","ML-MR":"dijitTooltipLeft","TM-BM":"dijitTooltipAbove","BM-TM":"dijitTooltipBelow","BL-TL":"dijitTooltipBelow dijitTooltipABLeft",
"TL-BL":"dijitTooltipAbove dijitTooltipABLeft","BR-TR":"dijitTooltipBelow dijitTooltipABRight","TR-BR":"dijitTooltipAbove dijitTooltipABRight","BR-BL":"dijitTooltipRight","BL-BR":"dijitTooltipLeft","BR-TL":"dijitTooltipBelow dijitTooltipABLeft","BL-TR":"dijitTooltipBelow dijitTooltipABRight","TL-BR":"dijitTooltipAbove dijitTooltipABRight","TR-BL":"dijitTooltipAbove dijitTooltipABLeft"}[b+"-"+c];k.replace(this.domNode,a,this._currentOrientClass||"");this._currentOrientClass=a},focus:function(){this._getFocusItems();
f.focus(this._firstFocusItem)},onOpen:function(a){this.orient(this.domNode,a.aroundCorner,a.corner);var b=a.aroundNodePos;"M"==a.corner.charAt(0)&&"M"==a.aroundCorner.charAt(0)?(this.connectorNode.style.top=b.y+(b.h-this.connectorNode.offsetHeight>>1)-a.y+"px",this.connectorNode.style.left=""):"M"==a.corner.charAt(1)&&"M"==a.aroundCorner.charAt(1)&&(this.connectorNode.style.left=b.x+(b.w-this.connectorNode.offsetWidth>>1)-a.x+"px");this._onShow()},onClose:function(){this.onHide()},_onKey:function(a){if(a.keyCode==
g.ESCAPE)this.defer("onCancel"),a.stopPropagation(),a.preventDefault();else if(a.keyCode==g.TAB){var b=a.target;this._getFocusItems();this._firstFocusItem==this._lastFocusItem?(a.stopPropagation(),a.preventDefault()):b==this._firstFocusItem&&a.shiftKey?(f.focus(this._lastFocusItem),a.stopPropagation(),a.preventDefault()):b==this._lastFocusItem&&!a.shiftKey?(f.focus(this._firstFocusItem),a.stopPropagation(),a.preventDefault()):a.stopPropagation()}}});d("dojo-bidi")&&h.extend({_setTitleAttr:function(a){this.containerNode.title=
this.textDir&&this.enforceTextDirWithUcc?this.enforceTextDirWithUcc(null,a):a;this._set("title",a)},_setTextDirAttr:function(a){if(!this._created||this.textDir!=a)this._set("textDir",a),this.textDir&&this.title&&(this.containerNode.title=this.enforceTextDirWithUcc(null,this.title))}});return h})},"dijit/PopupMenuItem":function(){define("dojo/_base/declare dojo/dom-style dojo/_base/lang dojo/query ./popup ./registry ./MenuItem ./hccss".split(" "),function(h,k,d,g,b,c,f){return h("dijit.PopupMenuItem",
f,{baseClass:"dijitMenuItem dijitPopupMenuItem",_fillContent:function(){if(this.srcNodeRef){var b=g("*",this.srcNodeRef);this.inherited(arguments,[b[0]]);this.dropDownContainer=this.srcNodeRef}},_openPopup:function(c,e){var a=this.popup;b.open(d.delegate(c,{popup:this.popup,around:this.domNode}));e&&a.focus&&a.focus()},_closePopup:function(){b.close(this.popup);this.popup.parentMenu=null},startup:function(){if(!this._started){this.inherited(arguments);if(!this.popup){var b=g("[widgetId]",this.dropDownContainer)[0];
this.popup=c.byNode(b)}this.ownerDocumentBody.appendChild(this.popup.domNode);this.popup.domNode.setAttribute("aria-labelledby",this.containerNode.id);this.popup.startup();this.popup.domNode.style.display="none";this.arrowWrapper&&k.set(this.arrowWrapper,"visibility","");this.focusNode.setAttribute("aria-haspopup","true")}},destroyDescendants:function(b){this.popup&&(this.popup._destroyed||this.popup.destroyRecursive(b),delete this.popup);this.inherited(arguments)}})})},"dijit/CheckedMenuItem":function(){define(["dojo/_base/declare",
"dojo/dom-class","./MenuItem","dojo/text!./templates/CheckedMenuItem.html","./hccss"],function(h,k,d,g){return h("dijit.CheckedMenuItem",d,{baseClass:"dijitMenuItem dijitCheckedMenuItem",templateString:g,checked:!1,_setCheckedAttr:function(b){this.domNode.setAttribute("aria-checked",b?"true":"false");this._set("checked",b)},iconClass:"",role:"menuitemcheckbox",checkedChar:"\x26#10003;",onChange:function(){},_onClick:function(b){this.disabled||(this.set("checked",!this.checked),this.onChange(this.checked));
this.onClick(b)}})})},"dojox/widget/Loader":function(){define(["dojo","dijit","dojox","dojo/require!dijit/_Widget,dijit/_Templated"],function(h,k,d){h.provide("dojox.widget.Loader");h.deprecated("dojox.widget.Loader","","2.0");h.require("dijit._Widget");h.require("dijit._Templated");h.declare("dojox.widget.Loader",[k._Widget,k._Templated],{loadIcon:h.moduleUrl("dojox.widget.Loader","icons/loading.gif"),loadMessage:"Loading ...",hasVisuals:!0,attachToPointer:!0,duration:125,_offset:16,_pointerConnect:null,
_xhrStart:null,_xhrEnd:null,templateString:'\x3cdiv dojoAttachPoint\x3d"loadNode" class\x3d"dojoxLoader"\x3e\x3cimg src\x3d"${loadIcon}" class\x3d"dojoxLoaderIcon"\x3e \x3cspan dojoAttachPoint\x3d"loadMessageNode" class\x3d"dojoxLoaderMessage"\x3e\x3c/span\x3e\x3c/div\x3e',postCreate:function(){this.hasVisuals?(this.attachToPointer&&(h.removeClass(this.loadNode,"dojoxLoader"),h.addClass(this.loadNode,"dojoxLoaderPointer")),this._hide()):this.loadNode.style.display="none";this._setMessage(this.loadMessage);
this._xhrStart=this.connect(h,"_ioSetArgs","_show");this._xhrEnd=this.connect(h.Deferred.prototype,"_fire","_hide")},_setMessage:function(d){this.loadMessageNode.innerHTML=d},_putLoader:function(d){k.placeOnScreen(this.loadNode,{x:d.clientX+this._offset,y:d.clientY+this._offset},["TL","BR"])},_show:function(){h.publish("Loader",[{message:"started"}]);this.hasVisuals&&(this.attachToPointer&&(this._pointerConnect=this.connect(document,"onmousemove","_putLoader")),h.style(this.loadNode,{opacity:0,display:""}),
h.fadeIn({node:this.loadNode,duration:this.duration}).play())},_hide:function(){h.publish("Loader",[{message:"ended"}]);this.hasVisuals&&(this.attachToPointer&&this.disconnect(this._pointerConnect),h.fadeOut({node:this.loadNode,duration:this.duration,onEnd:h.partial(h.style,this.loadNode,"display","none")}).play())}})})},"dojox/main":function(){define(["dojo/_base/kernel"],function(h){return h.dojox})},"dojo/require":function(){define(["./_base/loader"],function(h){return{dynamic:0,normalize:function(h){return h},
load:h.require}})},"dijit/_Templated":function(){define("./_WidgetBase ./_TemplatedMixin ./_WidgetsInTemplateMixin dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/_base/kernel".split(" "),function(h,k,d,g,b,c,f){c.extend(h,{waiRole:"",waiState:""});return b("dijit._Templated",[k,d],{widgetsInTemplate:!1,constructor:function(){f.deprecated(this.declaredClass+": dijit._Templated deprecated, use dijit._TemplatedMixin and if necessary dijit._WidgetsInTemplateMixin","","2.0")},_processNode:function(b,
c){var a=this.inherited(arguments),d=c(b,"waiRole");d&&b.setAttribute("role",d);(d=c(b,"waiState"))&&g.forEach(d.split(/\s*,\s*/),function(a){-1!=a.indexOf("-")&&(a=a.split("-"),b.setAttribute("aria-"+a[0],a[1]))});return a}})})},"dojox/widget/Toaster":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/connect dojo/_base/fx dojo/dom-style dojo/dom-class dojo/dom-geometry dijit/registry dijit/_WidgetBase dijit/_TemplatedMixin dijit/BackgroundIframe dojo/fx dojo/has dojo/_base/window velocity/velocity dojo/window".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r){k.getObject("dojox.widget",!0);return h("dojox.widget.Toaster",[e,a],{templateString:'\x3cdiv class\x3d"dijitToasterClip" dojoAttachPoint\x3d"clipNode"\x3e\x3cdiv class\x3d"dijitToasterContainer" dojoAttachPoint\x3d"containerNode" dojoAttachEvent\x3d"onclick:onSelect"\x3e\x3cdiv class\x3d"dijitToasterContent" dojoAttachPoint\x3d"contentNode"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e',messageTopic:"",messageTypes:{MESSAGE:"message",WARNING:"warning",ERROR:"error",
FATAL:"fatal"},defaultType:"message",positionDirection:"tr-down",positionDirectionTypes:"br-up br-left bl-up bl-right tr-down tr-left tl-down tl-right".split(" "),duration:2E3,slideDuration:500,separator:"\x3chr\x3e\x3c/hr\x3e",postCreate:function(){this.inherited(arguments);this.hide();t.body().appendChild(this.domNode);this.messageTopic&&d.subscribe(this.messageTopic,this,"_handleMessage")},_handleMessage:function(a){k.isString(a)?this.setContent(a):this.setContent(a.message,a.type,a.duration)},
setContent:function(a,d,e){e=e||this.duration;for(var g in this.messageTypes)c.remove(this.containerNode,"dijitToaster"+(this.messageTypes[g].substring(0,1).toUpperCase()+this.messageTypes[g].substring(1)));b.set(this.containerNode,"opacity",1);this._setContent(a);c.add(this.containerNode,"dijitToaster"+((d||this.defaultType).substring(0,1).toUpperCase()+(d||this.defaultType).substring(1)));this.show();f.getMarginBox(this.containerNode);this._cancelHideTimer();this.isVisible?(this._placeClip(),this._stickyMessage||
this._setHideTimer(e)):(q(this.domNode,"stop"),q(this.domNode,{opacity:[1,[0.7,0,0.175,1],0],bottom:["24px",[0.7,0,0.175,1.1],"10px"],translateZ:[0,[0.7,0,0.175,1],-1]},{duration:225,display:"block",complete:function(){k.hitch(this,function(){this.isVisible=!0})}}),q(this.domNode,{opacity:[0,[0.7,0,0.175,-0.5],1],bottom:["-5px",[0.7,0,0.175,-0.1],"-10px"],translateZ:[-1,[0.7,0,0.175,-0.1],0]},{duration:125,delay:2500,display:"none",complete:function(){k.hitch(this,function(){this.isVisible=!1;this.hide()})}}))},
_setContent:function(a){k.isFunction(a)?a(this):(a&&this.isVisible&&(a=this.contentNode.innerHTML+this.separator+a),this.contentNode.innerHTML=a)},_cancelHideTimer:function(){this._hideTimer&&(clearTimeout(this._hideTimer),this._hideTimer=null)},_setHideTimer:function(a){this._cancelHideTimer();0<a?(this._cancelHideTimer(),this._hideTimer=setTimeout(k.hitch(this,function(a){this.bgIframe&&this.bgIframe.iframe&&(this.bgIframe.iframe.style.display="none");this._hideTimer=null;this._stickyMessage=!1;
this.fadeAnim.play()}),a)):this._stickyMessage=!0},_placeClip:function(){var a=r.getBox(),b=f.getMarginBox(this.containerNode),c=this.clipNode.style;c.height=b.h+"px";c.width=b.w+"px";var d=this.positionDirection;d.match(/^t/)?c.top=a.t+"px":d.match(/^b/)&&(c.top=a.h-b.h-2+a.t+"px");d.match(/^[tb]r-/)?c.left=a.w-b.w-1-a.l+"px":d.match(/^[tb]l-/)?c.left="0px":d.match(/^[tb]c-/)&&(c.left=Math.round((a.w-b.w-1-a.l)/2)+"px");c.clip="rect(0px, "+b.w+"px, "+b.h+"px, 0px)";if(p("ie")&&(this.bgIframe||(this.clipNode.id||
(this.clipNode.id=l.getUniqueId("dojox_widget_Toaster_clipNode")),this.bgIframe=new m(this.clipNode)),a=this.bgIframe.iframe))a.style.display="block"},onSelect:function(a){},show:function(){b.set(this.domNode,"display","block");this._placeClip();this._scrollConnected||(this._scrollConnected=d.connect(r,"onscroll",this,this._placeClip))},hide:function(){b.set(this.domNode,"display","none");this._scrollConnected&&(d.disconnect(this._scrollConnected),this._scrollConnected=!1);b.set(this.containerNode,
"opacity",1)}})})},"velocity/velocity":function(){(function(h){function k(a){var b=a.length,c=d.type(a);return"function"===c||d.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===c||0===b||"number"===typeof b&&0<b&&b-1 in a}if(!h.jQuery){var d=function(a,b){return new d.fn.init(a,b)};d.isWindow=function(a){return null!=a&&a==a.window};d.type=function(a){return null==a?a+"":"object"===typeof a||"function"===typeof a?b[f.call(a)]||"object":typeof a};d.isArray=Array.isArray||function(a){return"array"===d.type(a)};
d.isPlainObject=function(a){var b;if(!a||"object"!==d.type(a)||a.nodeType||d.isWindow(a))return!1;try{if(a.constructor&&!c.call(a,"constructor")&&!c.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}for(b in a);return void 0===b||c.call(a,b)};d.each=function(a,b,c){var d,e=0,f=a.length;d=k(a);if(c)if(d)for(;e<f&&!(d=b.apply(a[e],c),!1===d);e++);else for(e in a){if(d=b.apply(a[e],c),!1===d)break}else if(d)for(;e<f&&!(d=b.call(a[e],e,a[e]),!1===d);e++);else for(e in a)if(d=b.call(a[e],
e,a[e]),!1===d)break;return a};d.data=function(a,b,c){if(void 0===c){c=(a=a[d.expando])&&g[a];if(void 0===b)return c;if(c&&b in c)return c[b]}else if(void 0!==b)return a=a[d.expando]||(a[d.expando]=++d.uuid),g[a]=g[a]||{},g[a][b]=c};d.removeData=function(a,b){var c=a[d.expando],e=c&&g[c];e&&d.each(b,function(a,b){delete e[b]})};d.extend=function(){var a,b,c,e,f,g=arguments[0]||{},l=1,h=arguments.length,k=!1;"boolean"===typeof g&&(k=g,g=arguments[l]||{},l++);"object"!==typeof g&&"function"!==d.type(g)&&
(g={});l===h&&(g=this,l--);for(;l<h;l++)if(null!=(f=arguments[l]))for(e in f)a=g[e],c=f[e],g!==c&&(k&&c&&(d.isPlainObject(c)||(b=d.isArray(c)))?(b?(b=!1,a=a&&d.isArray(a)?a:[]):a=a&&d.isPlainObject(a)?a:{},g[e]=d.extend(k,a,c)):void 0!==c&&(g[e]=c));return g};d.queue=function(a,b,c){function e(a,b){var c=b||[];if(null!=a)if(k(Object(a))){for(var d="string"===typeof a?[a]:a,f=+d.length,g=0,l=c.length;g<f;)c[l++]=d[g++];if(f!==f)for(;void 0!==d[g];)c[l++]=d[g++];c.length=l}else[].push.call(c,a);return c}
if(a){b=(b||"fx")+"queue";var f=d.data(a,b);if(!c)return f||[];!f||d.isArray(c)?f=d.data(a,b,e(c)):f.push(c);return f}};d.dequeue=function(a,b){d.each(a.nodeType?[a]:a,function(a,c){b=b||"fx";var e=d.queue(c,b),f=e.shift();"inprogress"===f&&(f=e.shift());f&&("fx"===b&&e.unshift("inprogress"),f.call(c,function(){d.dequeue(c,b)}))})};d.fn=d.prototype={init:function(a){if(a.nodeType)return this[0]=a,this;throw Error("Not a DOM node.");},offset:function(){var a=this[0].getBoundingClientRect?this[0].getBoundingClientRect():
{top:0,left:0};return{top:a.top+(h.pageYOffset||document.scrollTop||0)-(document.clientTop||0),left:a.left+(h.pageXOffset||document.scrollLeft||0)-(document.clientLeft||0)}},position:function(){function a(){for(var a=this.offsetParent||document;a&&"html"===!a.nodeType.toLowerCase&&"static"===a.style.position;)a=a.offsetParent;return a||document}var b=this[0],a=a.apply(b),c=this.offset(),e=/^(?:body|html)$/i.test(a.nodeName)?{top:0,left:0}:d(a).offset();c.top-=parseFloat(b.style.marginTop)||0;c.left-=
parseFloat(b.style.marginLeft)||0;a.style&&(e.top+=parseFloat(a.style.borderTopWidth)||0,e.left+=parseFloat(a.style.borderLeftWidth)||0);return{top:c.top-e.top,left:c.left-e.left}}};var g={};d.expando="velocity"+(new Date).getTime();d.uuid=0;for(var b={},c=b.hasOwnProperty,f=b.toString,l="Boolean Number String Function Array Date RegExp Object Error".split(" "),e=0;e<l.length;e++)b["[object "+l[e]+"]"]=l[e].toLowerCase();d.fn.init.prototype=d.fn;h.Velocity={Utilities:d}}})(window);(function(h){"object"===
typeof module&&"object"===typeof module.exports?module.exports=h():"function"===typeof define&&define.amd?define(h):h()})(function(){return function(h,k,d,g){function b(a){for(var b=-1,c=a?a.length:0,d=[];++b<c;){var e=a[b];e&&d.push(e)}return d}function c(a){q.isWrapped(a)?a=[].slice.call(a):q.isNode(a)&&(a=[a]);return a}function f(a){a=r.data(a,"velocity");return null===a?g:a}function l(a){return function(b){return Math.round(b*a)*(1/a)}}function e(a,b,c,d){function e(a,b,c){return(((1-3*c+3*b)*
a+(3*c-6*b))*a+3*b)*a}var f="Float32Array"in k;if(4!==arguments.length)return!1;for(var g=0;4>g;++g)if("number"!==typeof arguments[g]||isNaN(arguments[g])||!isFinite(arguments[g]))return!1;a=Math.min(a,1);c=Math.min(c,1);a=Math.max(a,0);c=Math.max(c,0);var l=f?new Float32Array(11):Array(11),h=!1,f=function(f){if(!h&&(h=!0,a!=b||c!=d))for(var g=0;11>g;++g)l[g]=e(0.1*g,a,c);if(a===b&&c===d)return f;if(0===f)return 0;if(1===f)return 1;for(var k=0,g=1;10!=g&&l[g]<=f;++g)k+=0.1;--g;var g=k+0.1*((f-l[g])/
(l[g+1]-l[g])),m=3*(1-3*c+3*a)*g*g+2*(3*c-6*a)*g+3*a;if(0.001<=m){for(k=0;4>k;++k){m=3*(1-3*c+3*a)*g*g+2*(3*c-6*a)*g+3*a;if(0===m)break;var n=e(g,a,c)-f,g=g-n/m}f=g}else if(0==m)f=g;else{var g=k,k=k+0.1,p=0;do n=g+(k-g)/2,m=e(n,a,c)-f,0<m?k=n:g=n;while(1E-7<Math.abs(m)&&10>++p);f=n}return e(f,b,d)};f.getControlPoints=function(){return[{x:a,y:b},{x:c,y:d}]};var m="generateBezier("+[a,b,c,d]+")";f.toString=function(){return m};return f}function a(a,b){var c=a;q.isString(a)?u.Easings[a]||(c=!1):c=q.isArray(a)&&
1===a.length?l.apply(null,a):q.isArray(a)&&2===a.length?y.apply(null,a.concat([b])):q.isArray(a)&&4===a.length?e.apply(null,a):!1;!1===c&&(c=u.Easings[u.defaults.easing]?u.defaults.easing:w);return c}function m(a){if(a){a=(new Date).getTime();for(var b=0,c=u.State.calls.length;b<c;b++)if(u.State.calls[b]){var d=u.State.calls[b],e=d[0],l=d[2],h=d[3],k=!!h;h||(h=u.State.calls[b][3]=a-16);for(var p=Math.min((a-h)/l.duration,1),s=0,t=e.length;s<t;s++){var v=e[s],y=v.element;if(f(y)){var w=!1;l.display!==
g&&(null!==l.display&&"none"!==l.display)&&("flex"===l.display&&r.each(["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex"],function(a,b){x.setPropertyValue(y,"display",b)}),x.setPropertyValue(y,"display",l.display));l.visibility!==g&&"hidden"!==l.visibility&&x.setPropertyValue(y,"visibility",l.visibility);for(var A in v)if("element"!==A){var I=v[A],O;O=q.isString(I.easing)?u.Easings[I.easing]:I.easing;if(1===p)O=I.endValue;else if(O=I.startValue+(I.endValue-I.startValue)*O(p),!k&&O===I.currentValue)continue;
I.currentValue=O;if(x.Hooks.registered[A]){var aa=x.Hooks.getRoot(A),U=f(y).rootPropertyValueCache[aa];U&&(I.rootPropertyValue=U)}I=x.setPropertyValue(y,A,I.currentValue+(0===parseFloat(O)?"":I.unitType),I.rootPropertyValue,I.scrollData);x.Hooks.registered[A]&&(x.Normalizations.registered[aa]?f(y).rootPropertyValueCache[aa]=x.Normalizations.registered[aa]("extract",null,I[1]):f(y).rootPropertyValueCache[aa]=I[1]);"transform"===I[0]&&(w=!0)}l.mobileHA&&f(y).transformCache.translate3d===g&&(f(y).transformCache.translate3d=
"(0px, 0px, 0px)",w=!0);w&&x.flushTransformCache(y)}}l.display!==g&&"none"!==l.display&&(u.State.calls[b][2].display=!1);l.visibility!==g&&"hidden"!==l.visibility&&(u.State.calls[b][2].visibility=!1);l.progress&&l.progress.call(d[1],d[1],p,Math.max(0,h+l.duration-a),h);1===p&&n(b)}}u.State.isTicking&&C(m)}function n(a,b){if(!u.State.calls[a])return!1;for(var c=u.State.calls[a][0],d=u.State.calls[a][1],e=u.State.calls[a][2],l=u.State.calls[a][4],h=!1,k=0,m=c.length;k<m;k++){var n=c[k].element;!b&&
!e.loop&&("none"===e.display&&x.setPropertyValue(n,"display",e.display),"hidden"===e.visibility&&x.setPropertyValue(n,"visibility",e.visibility));if(!0!==e.loop&&(r.queue(n)[1]===g||!/\.velocityQueueEntryFlag/i.test(r.queue(n)[1]))&&f(n)){f(n).isAnimating=!1;f(n).rootPropertyValueCache={};var p=!1;r.each(x.Lists.transforms3D,function(a,b){var c=/^scale/.test(b)?1:0,d=f(n).transformCache[b];f(n).transformCache[b]!==g&&RegExp("^\\("+c+"[^.]").test(d)&&(p=!0,delete f(n).transformCache[b])});e.mobileHA&&
(p=!0,delete f(n).transformCache.translate3d);p&&x.flushTransformCache(n);x.Values.removeClass(n,"velocity-animating")}if(!b&&e.complete&&!e.loop&&k===m-1)try{e.complete.call(d,d)}catch(q){setTimeout(function(){throw q;},1)}l&&!0!==e.loop&&l(d);!0===e.loop&&!b&&(r.each(f(n).tweensContainer,function(a,b){/^rotate/.test(a)&&360===parseFloat(b.endValue)&&(b.endValue=0,b.startValue=360)}),u(n,"reverse",{loop:!0,delay:e.delay}));!1!==e.queue&&r.dequeue(n,e.queue)}u.State.calls[a]=!1;c=0;for(d=u.State.calls.length;c<
d;c++)if(!1!==u.State.calls[c]){h=!0;break}!1===h&&(u.State.isTicking=!1,delete u.State.calls,u.State.calls=[])}var p=function(){if(d.documentMode)return d.documentMode;for(var a=7;4<a;a--){var b=d.createElement("div");b.innerHTML="\x3c!--[if IE "+a+"]\x3e\x3cspan\x3e\x3c/span\x3e\x3c![endif]--\x3e";if(b.getElementsByTagName("span").length)return a}return g}(),t=function(){var a=0;return k.webkitRequestAnimationFrame||k.mozRequestAnimationFrame||function(b){var c=(new Date).getTime(),d;d=Math.max(0,
16-(c-a));a=c+d;return setTimeout(function(){b(c+d)},d)}}(),q={isString:function(a){return"string"===typeof a},isArray:Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},isFunction:function(a){return"[object Function]"===Object.prototype.toString.call(a)},isNode:function(a){return a&&a.nodeType},isNodeList:function(a){return"object"===typeof a&&/^\[object (HTMLCollection|NodeList|Object)\]$/.test(Object.prototype.toString.call(a))&&a.length!==g&&(0===a.length||
"object"===typeof a[0]&&0<a[0].nodeType)},isWrapped:function(a){return a&&(a.jquery||k.Zepto&&k.Zepto.zepto.isZ(a))},isSVG:function(a){return k.SVGElement&&a instanceof k.SVGElement},isEmptyObject:function(a){for(var b in a)return!1;return!0}},r,s=!1;h.fn&&h.fn.jquery?(r=h,s=!0):r=k.Velocity.Utilities;if(8>=p&&!s)throw Error("Velocity: IE8 and below require jQuery to be loaded before Velocity.");if(7>=p)jQuery.fn.velocity=jQuery.fn.animate;else{var v=400,w="swing",u={State:{isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),
isAndroid:/Android/i.test(navigator.userAgent),isGingerbread:/Android 2\.3\.[3-7]/i.test(navigator.userAgent),isChrome:k.chrome,isFirefox:/Firefox/i.test(navigator.userAgent),prefixElement:d.createElement("div"),prefixMatches:{},scrollAnchor:null,scrollPropertyLeft:null,scrollPropertyTop:null,isTicking:!1,calls:[]},CSS:{},Utilities:r,Redirects:{},Easings:{},Promise:k.Promise,defaults:{queue:"",duration:v,easing:w,begin:g,complete:g,progress:g,display:g,visibility:g,loop:!1,delay:!1,mobileHA:!0,_cacheValues:!0},
init:function(a){r.data(a,"velocity",{isSVG:q.isSVG(a),isAnimating:!1,computedStyle:null,tweensContainer:null,rootPropertyValueCache:{},transformCache:{}})},hook:null,mock:!1,version:{major:1,minor:1,patch:0},debug:!1};k.pageYOffset!==g?(u.State.scrollAnchor=k,u.State.scrollPropertyLeft="pageXOffset",u.State.scrollPropertyTop="pageYOffset"):(u.State.scrollAnchor=d.documentElement||d.body.parentNode||d.body,u.State.scrollPropertyLeft="scrollLeft",u.State.scrollPropertyTop="scrollTop");var y=function(){function a(b,
c,d){var e=b.v+d.dv*c;return{dx:e,dv:-b.tension*(b.x+d.dx*c)-b.friction*e}}function b(c,d){var e={dx:c.v,dv:-c.tension*c.x-c.friction*c.v},f=a(c,0.5*d,e),g=a(c,0.5*d,f),l=a(c,d,g),h=1/6*(e.dv+2*(f.dv+g.dv)+l.dv);c.x+=1/6*(e.dx+2*(f.dx+g.dx)+l.dx)*d;c.v+=h*d;return c}return function H(a,c,d){var e={x:-1,v:0,tension:null,friction:null},f=[0],g=0,l,h;a=parseFloat(a)||500;c=parseFloat(c)||20;d=d||null;e.tension=a;e.friction=c;(l=null!==d)?(g=H(a,c),a=0.016*(g/d)):a=0.016;for(;!(h=b(h||e,a),f.push(1+h.x),
g+=16,!(1E-4<Math.abs(h.x)&&1E-4<Math.abs(h.v))););return!l?g:function(a){return f[a*(f.length-1)|0]}}}();u.Easings={linear:function(a){return a},swing:function(a){return 0.5-Math.cos(a*Math.PI)/2},spring:function(a){return 1-Math.cos(4.5*a*Math.PI)*Math.exp(6*-a)}};r.each([["ease",[0.25,0.1,0.25,1]],["ease-in",[0.42,0,1,1]],["ease-out",[0,0,0.58,1]],["ease-in-out",[0.42,0,0.58,1]],["easeInSine",[0.47,0,0.745,0.715]],["easeOutSine",[0.39,0.575,0.565,1]],["easeInOutSine",[0.445,0.05,0.55,0.95]],["easeInQuad",
[0.55,0.085,0.68,0.53]],["easeOutQuad",[0.25,0.46,0.45,0.94]],["easeInOutQuad",[0.455,0.03,0.515,0.955]],["easeInCubic",[0.55,0.055,0.675,0.19]],["easeOutCubic",[0.215,0.61,0.355,1]],["easeInOutCubic",[0.645,0.045,0.355,1]],["easeInQuart",[0.895,0.03,0.685,0.22]],["easeOutQuart",[0.165,0.84,0.44,1]],["easeInOutQuart",[0.77,0,0.175,1]],["easeInQuint",[0.755,0.05,0.855,0.06]],["easeOutQuint",[0.23,1,0.32,1]],["easeInOutQuint",[0.86,0,0.07,1]],["easeInExpo",[0.95,0.05,0.795,0.035]],["easeOutExpo",[0.19,
1,0.22,1]],["easeInOutExpo",[1,0,0,1]],["easeInCirc",[0.6,0.04,0.98,0.335]],["easeOutCirc",[0.075,0.82,0.165,1]],["easeInOutCirc",[0.785,0.135,0.15,0.86]]],function(a,b){u.Easings[b[0]]=e.apply(null,b[1])});var x=u.CSS={RegEx:{isHex:/^#([A-f\d]{3}){1,2}$/i,valueUnwrap:/^[A-z]+\((.*)\)$/i,wrappedValueAlreadyExtracted:/[0-9.]+ [0-9.]+ [0-9.]+( [0-9.]+)?/,valueSplit:/([A-z]+\(.+\))|(([A-z0-9#-.]+?)(?=\s|$))/ig},Lists:{colors:"fill stroke stopColor color backgroundColor borderColor borderTopColor borderRightColor borderBottomColor borderLeftColor outlineColor".split(" "),
transformsBase:"translateX translateY scale scaleX scaleY skewX skewY rotateZ".split(" "),transforms3D:["transformPerspective","translateZ","scaleZ","rotateX","rotateY"]},Hooks:{templates:{textShadow:["Color X Y Blur","black 0px 0px 0px"],boxShadow:["Color X Y Blur Spread","black 0px 0px 0px 0px"],clip:["Top Right Bottom Left","0px 0px 0px 0px"],backgroundPosition:["X Y","0% 0%"],transformOrigin:["X Y Z","50% 50% 0px"],perspectiveOrigin:["X Y","50% 50%"]},registered:{},register:function(){for(var a=
0;a<x.Lists.colors.length;a++)x.Hooks.templates[x.Lists.colors[a]]=["Red Green Blue Alpha","color"===x.Lists.colors[a]?"0 0 0 1":"255 255 255 1"];var b,c,d;if(p)for(b in x.Hooks.templates)c=x.Hooks.templates[b],d=c[0].split(" "),c=c[1].match(x.RegEx.valueSplit),"Color"===d[0]&&(d.push(d.shift()),c.push(c.shift()),x.Hooks.templates[b]=[d.join(" "),c.join(" ")]);for(b in x.Hooks.templates)for(a in c=x.Hooks.templates[b],d=c[0].split(" "),d)x.Hooks.registered[b+d[a]]=[b,a]},getRoot:function(a){var b=
x.Hooks.registered[a];return b?b[0]:a},cleanRootPropertyValue:function(a,b){x.RegEx.valueUnwrap.test(b)&&(b=b.match(x.RegEx.valueUnwrap)[1]);x.Values.isCSSNullValue(b)&&(b=x.Hooks.templates[a][1]);return b},extractValue:function(a,b){var c=x.Hooks.registered[a];if(c){var d=c[1];b=x.Hooks.cleanRootPropertyValue(c[0],b);return b.toString().match(x.RegEx.valueSplit)[d]}return b},injectValue:function(a,b,c){var d=x.Hooks.registered[a];return d?(a=d[1],c=x.Hooks.cleanRootPropertyValue(d[0],c),c=c.toString().match(x.RegEx.valueSplit),
c[a]=b,c.join(" ")):c}},Normalizations:{registered:{clip:function(a,b,c){switch(a){case "name":return"clip";case "extract":return a=x.RegEx.wrappedValueAlreadyExtracted.test(c)?c:(a=c.toString().match(x.RegEx.valueUnwrap))?a[1].replace(/,(\s+)?/g," "):c,a;case "inject":return"rect("+c+")"}},blur:function(a,b,c){switch(a){case "name":return"-webkit-filter";case "extract":return a=parseFloat(c),a||0===a||(a=(c=c.toString().match(/blur\(([0-9]+[A-z]+)\)/i))?c[1]:0),a;case "inject":return parseFloat(c)?
"blur("+c+")":"none"}},opacity:function(a,b,c){if(8>=p)switch(a){case "name":return"filter";case "extract":return c=(a=c.toString().match(/alpha\(opacity=(.*)\)/i))?a[1]/100:1;case "inject":return b.style.zoom=1,1<=parseFloat(c)?"":"alpha(opacity\x3d"+parseInt(100*parseFloat(c),10)+")"}else switch(a){case "name":return"opacity";case "extract":return c;case "inject":return c}}},register:function(){!(9>=p)&&!u.State.isGingerbread&&(x.Lists.transformsBase=x.Lists.transformsBase.concat(x.Lists.transforms3D));
for(var a=0;a<x.Lists.transformsBase.length;a++)(function(){var b=x.Lists.transformsBase[a];x.Normalizations.registered[b]=function(a,c,d){switch(a){case "name":return"transform";case "extract":return f(c)===g||f(c).transformCache[b]===g?/^scale/i.test(b)?1:0:f(c).transformCache[b].replace(/[()]/g,"");case "inject":a=!1;switch(b.substr(0,b.length-1)){case "translate":a=!/(%|px|em|rem|vw|vh|\d)$/i.test(d);break;case "scal":case "scale":u.State.isAndroid&&(f(c).transformCache[b]===g&&1>d)&&(d=1);a=
!/(\d)$/i.test(d);break;case "skew":a=!/(deg|\d)$/i.test(d);break;case "rotate":a=!/(deg|\d)$/i.test(d)}a||(f(c).transformCache[b]="("+d+")");return f(c).transformCache[b]}}})();for(a=0;a<x.Lists.colors.length;a++)(function(){var b=x.Lists.colors[a];x.Normalizations.registered[b]=function(a,c,d){switch(a){case "name":return b;case "extract":if(!x.RegEx.wrappedValueAlreadyExtracted.test(d)){var e;a={black:"rgb(0, 0, 0)",blue:"rgb(0, 0, 255)",gray:"rgb(128, 128, 128)",green:"rgb(0, 128, 0)",red:"rgb(255, 0, 0)",
white:"rgb(255, 255, 255)"};/^[A-z]+$/i.test(d)?e=a[d]!==g?a[d]:a.black:x.RegEx.isHex.test(d)?e="rgb("+x.Values.hexToRgb(d).join(" ")+")":/^rgba?\(/i.test(d)||(e=a.black);d=(e||d).toString().match(x.RegEx.valueUnwrap)[1].replace(/,(\s+)?/g," ")}!(8>=p)&&3===d.split(" ").length&&(d+=" 1");return d;case "inject":return 8>=p?4===d.split(" ").length&&(d=d.split(/\s+/).slice(0,3).join(" ")):3===d.split(" ").length&&(d+=" 1"),(8>=p?"rgb":"rgba")+"("+d.replace(/\s+/g,",").replace(/\.(\d)+(?=,)/g,"")+")"}}})()}},
Names:{camelCase:function(a){return a.replace(/-(\w)/g,function(a,b){return b.toUpperCase()})},SVGAttribute:function(a){var b="width|height|x|y|cx|cy|r|rx|ry|x1|x2|y1|y2";if(p||u.State.isAndroid&&!u.State.isChrome)b+="|transform";return RegExp("^("+b+")$","i").test(a)},prefixCheck:function(a){if(u.State.prefixMatches[a])return[u.State.prefixMatches[a],!0];for(var b=["","Webkit","Moz","ms","O"],c=0,d=b.length;c<d;c++){var e;e=0===c?a:b[c]+a.replace(/^\w/,function(a){return a.toUpperCase()});if(q.isString(u.State.prefixElement.style[e]))return u.State.prefixMatches[a]=
e,[e,!0]}return[a,!1]}},Values:{hexToRgb:function(a){a=a.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(a,b,c,d){return b+b+c+c+d+d});return(a=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a))?[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]:[0,0,0]},isCSSNullValue:function(a){return 0==a||/^(none|auto|transparent|(rgba\(0, ?0, ?0, ?0\)))$/i.test(a)},getUnitType:function(a){return/^(rotate|skew)/i.test(a)?"deg":/(^(scale|scaleX|scaleY|scaleZ|alpha|flexGrow|flexHeight|zIndex|fontWeight)$)|((opacity|red|green|blue|alpha)$)/i.test(a)?
"":"px"},getDisplayType:function(a){a=a&&a.tagName.toString().toLowerCase();return/^(b|big|i|small|tt|abbr|acronym|cite|code|dfn|em|kbd|strong|samp|var|a|bdo|br|img|map|object|q|script|span|sub|sup|button|input|label|select|textarea)$/i.test(a)?"inline":/^(li)$/i.test(a)?"list-item":/^(tr)$/i.test(a)?"table-row":"block"},addClass:function(a,b){a.classList?a.classList.add(b):a.className+=(a.className.length?" ":"")+b},removeClass:function(a,b){a.classList?a.classList.remove(b):a.className=a.className.toString().replace(RegExp("(^|\\s)"+
b.split(" ").join("|")+"(\\s|$)","gi")," ")}},getPropertyValue:function(a,b,c,d){function e(a,b){var c=0;if(8>=p)c=r.css(a,b);else{var l=!1;/^(width|height)$/.test(b)&&0===x.getPropertyValue(a,"display")&&(l=!0,x.setPropertyValue(a,"display",x.Values.getDisplayType(a)));var h=function(){l&&x.setPropertyValue(a,"display","none")};if(!d){if("height"===b&&"border-box"!==x.getPropertyValue(a,"boxSizing").toString().toLowerCase())return c=a.offsetHeight-(parseFloat(x.getPropertyValue(a,"borderTopWidth"))||
0)-(parseFloat(x.getPropertyValue(a,"borderBottomWidth"))||0)-(parseFloat(x.getPropertyValue(a,"paddingTop"))||0)-(parseFloat(x.getPropertyValue(a,"paddingBottom"))||0),h(),c;if("width"===b&&"border-box"!==x.getPropertyValue(a,"boxSizing").toString().toLowerCase())return c=a.offsetWidth-(parseFloat(x.getPropertyValue(a,"borderLeftWidth"))||0)-(parseFloat(x.getPropertyValue(a,"borderRightWidth"))||0)-(parseFloat(x.getPropertyValue(a,"paddingLeft"))||0)-(parseFloat(x.getPropertyValue(a,"paddingRight"))||
0),h(),c}c=f(a)===g?k.getComputedStyle(a,null):f(a).computedStyle?f(a).computedStyle:f(a).computedStyle=k.getComputedStyle(a,null);if((p||u.State.isFirefox)&&"borderColor"===b)b="borderTopColor";c=9===p&&"filter"===b?c.getPropertyValue(b):c[b];if(""===c||null===c)c=a.style[b];h()}if("auto"===c&&/^(top|right|bottom|left)$/i.test(b)&&(h=e(a,"position"),"fixed"===h||"absolute"===h&&/top|left/i.test(b)))c=r(a).position()[b]+"px";return c}var l;if(x.Hooks.registered[b]){var h=x.Hooks.getRoot(b);c===g&&
(c=x.getPropertyValue(a,x.Names.prefixCheck(h)[0]));x.Normalizations.registered[h]&&(c=x.Normalizations.registered[h]("extract",a,c));l=x.Hooks.extractValue(b,c)}else x.Normalizations.registered[b]&&(c=x.Normalizations.registered[b]("name",a),"transform"!==c&&(h=e(a,x.Names.prefixCheck(c)[0]),x.Values.isCSSNullValue(h)&&x.Hooks.templates[b]&&(h=x.Hooks.templates[b][1])),l=x.Normalizations.registered[b]("extract",a,h));/^[\d-]/.test(l)||(l=f(a)&&f(a).isSVG&&x.Names.SVGAttribute(b)?/^(height|width)$/i.test(b)?
a.getBBox()[b]:a.getAttribute(b):e(a,x.Names.prefixCheck(b)[0]));x.Values.isCSSNullValue(l)&&(l=0);return l},setPropertyValue:function(a,b,c,d,e){var g=b;if("scroll"===b)e.container?e.container["scroll"+e.direction]=c:"Left"===e.direction?k.scrollTo(c,e.alternateValue):k.scrollTo(e.alternateValue,c);else if(x.Normalizations.registered[b]&&"transform"===x.Normalizations.registered[b]("name",a))x.Normalizations.registered[b]("inject",a,c),g="transform",c=f(a).transformCache[b];else if(x.Hooks.registered[b]&&
(e=b,b=x.Hooks.getRoot(b),d=d||x.getPropertyValue(a,b),c=x.Hooks.injectValue(e,c,d)),x.Normalizations.registered[b]&&(c=x.Normalizations.registered[b]("inject",a,c),b=x.Normalizations.registered[b]("name",a)),g=x.Names.prefixCheck(b)[0],8>=p)try{a.style[g]=c}catch(l){}else f(a)&&f(a).isSVG&&x.Names.SVGAttribute(b)?a.setAttribute(b,c):a.style[g]=c;return[g,c]},flushTransformCache:function(a){var b="";if((p||u.State.isAndroid&&!u.State.isChrome)&&f(a).isSVG){var c=function(b){return parseFloat(x.getPropertyValue(a,
b))},d={translate:[c("translateX"),c("translateY")],skewX:[c("skewX")],skewY:[c("skewY")],scale:1!==c("scale")?[c("scale"),c("scale")]:[c("scaleX"),c("scaleY")],rotate:[c("rotateZ"),0,0]};r.each(f(a).transformCache,function(a){/^translate/i.test(a)?a="translate":/^scale/i.test(a)?a="scale":/^rotate/i.test(a)&&(a="rotate");d[a]&&(b+=a+"("+d[a].join(" ")+") ",delete d[a])})}else{var e,g;r.each(f(a).transformCache,function(c){e=f(a).transformCache[c];if("transformPerspective"===c)return g=e,!0;9===p&&
"rotateZ"===c&&(c="rotate");b+=c+e+" "});g&&(b="perspective"+g+" "+b)}x.setPropertyValue(a,"transform",b)}};x.Hooks.register();x.Normalizations.register();u.hook=function(a,b,d){var e=g;a=c(a);r.each(a,function(a,c){f(c)===g&&u.init(c);if(d===g)e===g&&(e=u.CSS.getPropertyValue(c,b));else{var l=u.CSS.setPropertyValue(c,b,d);"transform"===l[0]&&u.CSS.flushTransformCache(c);e=l}});return e};var A=function(){function e(){function c(e){if(h.begin&&0===K)try{h.begin.call(t,t)}catch(s){setTimeout(function(){throw s;
},1)}if("scroll"===V){var v=/^x$/i.test(h.axis)?"Left":"Top",A=parseFloat(h.offset)||0,D,G,E;h.container?q.isWrapped(h.container)||q.isNode(h.container)?(h.container=h.container[0]||h.container,D=h.container["scroll"+v],E=D+r(l).position()[v.toLowerCase()]+A):h.container=null:(D=u.State.scrollAnchor[u.State["scrollProperty"+v]],G=u.State.scrollAnchor[u.State["scrollProperty"+("Left"===v?"Top":"Left")]],E=r(l).offset()[v.toLowerCase()]+A);n={scroll:{rootPropertyValue:!1,startValue:D,currentValue:D,
endValue:E,unitType:"",easing:h.easing,scrollData:{container:h.container,direction:v,alternateValue:G}},element:l}}else if("reverse"===V)if(f(l).tweensContainer){"none"===f(l).opts.display&&(f(l).opts.display="auto");"hidden"===f(l).opts.visibility&&(f(l).opts.visibility="visible");f(l).opts.loop=!1;f(l).opts.begin=null;f(l).opts.complete=null;w.easing||delete h.easing;w.duration||delete h.duration;h=r.extend({},f(l).opts,h);var v=r.extend(!0,{},f(l).tweensContainer),H;for(H in v)"element"!==H&&(A=
v[H].startValue,v[H].startValue=v[H].currentValue=v[H].endValue,v[H].endValue=A,q.isEmptyObject(w)||(v[H].easing=h.easing));n=v}else{r.dequeue(l,h.queue);return}else if("start"===V){f(l).tweensContainer&&!0===f(l).isAnimating&&(v=f(l).tweensContainer);var M=function(b,c){var d=g,e=g,f=g;if(q.isArray(b))if(d=b[0],!q.isArray(b[1])&&/^[\d-]/.test(b[1])||q.isFunction(b[1])||x.RegEx.isHex.test(b[1]))f=b[1];else{if(q.isString(b[1])&&!x.RegEx.isHex.test(b[1])||q.isArray(b[1]))e=c?b[1]:a(b[1],h.duration),
b[2]!==g&&(f=b[2])}else d=b;c||(e=e||h.easing);q.isFunction(d)&&(d=d.call(l,K,C));q.isFunction(f)&&(f=f.call(l,K,C));return[d||0,e,f]};r.each(y,function(a,b){if(RegExp("^"+x.Lists.colors.join("$|^")+"$").test(a)){var c=M(b,!0),d=c[0],e=c[1],f=c[2];if(x.RegEx.isHex.test(d)){for(var c=["Red","Green","Blue"],d=x.Values.hexToRgb(d),f=f?x.Values.hexToRgb(f):g,l=0;l<c.length;l++){var h=[d[l]];e&&h.push(e);f!==g&&h.push(f[l]);y[a+c[l]]=h}delete y[a]}}});for(A in y)if(E=M(y[A]),D=E[0],G=E[1],E=E[2],A=x.Names.camelCase(A),
e=x.Hooks.getRoot(A),H=!1,f(l).isSVG||!(!1===x.Names.prefixCheck(e)[1]&&x.Normalizations.registered[e]===g)){if((h.display!==g&&null!==h.display&&"none"!==h.display||h.visibility!==g&&"hidden"!==h.visibility)&&/opacity|filter/.test(A)&&!E&&0!==D)E=0;h._cacheValues&&v&&v[A]?(E===g&&(E=v[A].endValue+v[A].unitType),H=f(l).rootPropertyValueCache[e]):x.Hooks.registered[A]?E===g?(H=x.getPropertyValue(l,e),E=x.getPropertyValue(l,A,H)):H=x.Hooks.templates[e][1]:E===g&&(E=x.getPropertyValue(l,A));var L,N=
!1,I=function(a,b){var c,d;d=(b||"0").toString().toLowerCase().replace(/[%A-z]+$/,function(a){c=a;return""});c||(c=x.Values.getUnitType(a));return[d,c]};L=I(A,E);E=L[0];e=L[1];L=I(A,D);D=L[0].replace(/^([+-\/*])=/,function(a,b){N=b;return""});L=L[1];E=parseFloat(E)||0;D=parseFloat(D)||0;"%"===L&&(/^(fontSize|lineHeight)$/.test(A)?(D/=100,L="em"):/^scale/.test(A)?(D/=100,L=""):/(Red|Green|Blue)$/i.test(A)&&(D=255*(D/100),L=""));I=function(){var a=l.parentNode||d.body,b=x.getPropertyValue(l,"position"),
c=x.getPropertyValue(l,"fontSize"),e=b===O.lastPosition&&a===O.lastParent,g=c===O.lastFontSize;O.lastParent=a;O.lastPosition=b;O.lastFontSize=c;var h={};if(!g||!e){var m=f(l).isSVG?d.createElementNS("http://www.w3.org/2000/svg","rect"):d.createElement("div");u.init(m);a.appendChild(m);r.each(["overflow","overflowX","overflowY"],function(a,b){u.CSS.setPropertyValue(m,b,"hidden")});u.CSS.setPropertyValue(m,"position",b);u.CSS.setPropertyValue(m,"fontSize",c);u.CSS.setPropertyValue(m,"boxSizing","content-box");
r.each("minWidth maxWidth width minHeight maxHeight height".split(" "),function(a,b){u.CSS.setPropertyValue(m,b,"100%")});u.CSS.setPropertyValue(m,"paddingLeft","100em");h.percentToPxWidth=O.lastPercentToPxWidth=(parseFloat(x.getPropertyValue(m,"width",null,!0))||1)/100;h.percentToPxHeight=O.lastPercentToPxHeight=(parseFloat(x.getPropertyValue(m,"height",null,!0))||1)/100;h.emToPx=O.lastEmToPx=(parseFloat(x.getPropertyValue(m,"paddingLeft"))||1)/100;a.removeChild(m)}else h.emToPx=O.lastEmToPx,h.percentToPxWidth=
O.lastPercentToPxWidth,h.percentToPxHeight=O.lastPercentToPxHeight;null===O.remToPx&&(O.remToPx=parseFloat(x.getPropertyValue(d.body,"fontSize"))||16);null===O.vwToPx&&(O.vwToPx=parseFloat(k.innerWidth)/100,O.vhToPx=parseFloat(k.innerHeight)/100);h.remToPx=O.remToPx;h.vwToPx=O.vwToPx;h.vhToPx=O.vhToPx;return h};if(/[\/*]/.test(N))L=e;else if(e!==L&&0!==E)if(0===D)L=e;else{p=p||I();I=/margin|padding|left|right|width|text|word|letter/i.test(A)||/X$/.test(A)||"x"===A?"x":"y";switch(e){case "%":E*="x"===
I?p.percentToPxWidth:p.percentToPxHeight;break;case "px":break;default:E*=p[e+"ToPx"]}switch(L){case "%":E*=1/("x"===I?p.percentToPxWidth:p.percentToPxHeight);break;case "px":break;default:E*=1/p[L+"ToPx"]}}switch(N){case "+":D=E+D;break;case "-":D=E-D;break;case "*":D*=E;break;case "/":D=E/D}n[A]={rootPropertyValue:H,startValue:E,currentValue:E,endValue:D,unitType:L,easing:G}}n.element=l}n.element&&(x.Values.addClass(l,"velocity-animating"),aa.push(n),""===h.queue&&(f(l).tweensContainer=n,f(l).opts=
h),f(l).isAnimating=!0,K===C-1?(1E4<u.State.calls.length&&(u.State.calls=b(u.State.calls)),u.State.calls.push([aa,t,h,null,Q.resolver]),!1===u.State.isTicking&&(u.State.isTicking=!0,m())):K++)}var l=this,h=r.extend({},u.defaults,w),n={},p;f(l)===g&&u.init(l);parseFloat(h.delay)&&!1!==h.queue&&r.queue(l,h.queue,function(a){u.velocityQueueEntryFlag=!0;f(l).delayTimer={setTimeout:setTimeout(a,parseFloat(h.delay)),next:a}});switch(h.duration.toString().toLowerCase()){case "fast":h.duration=200;break;
case "normal":h.duration=v;break;case "slow":h.duration=600;break;default:h.duration=parseFloat(h.duration)||1}!1!==u.mock&&(!0===u.mock?h.duration=h.delay=1:(h.duration*=parseFloat(u.mock)||1,h.delay*=parseFloat(u.mock)||1));h.easing=a(h.easing,h.duration);h.begin&&!q.isFunction(h.begin)&&(h.begin=null);h.progress&&!q.isFunction(h.progress)&&(h.progress=null);h.complete&&!q.isFunction(h.complete)&&(h.complete=null);h.display!==g&&null!==h.display&&(h.display=h.display.toString().toLowerCase(),"auto"===
h.display&&(h.display=u.CSS.Values.getDisplayType(l)));h.visibility!==g&&null!==h.visibility&&(h.visibility=h.visibility.toString().toLowerCase());h.mobileHA=h.mobileHA&&u.State.isMobile&&!u.State.isGingerbread;!1===h.queue?h.delay?setTimeout(c,h.delay):c():r.queue(l,h.queue,function(a,b){if(!0===b)return Q.promise&&Q.resolver(t),!0;u.velocityQueueEntryFlag=!0;c(a)});(""===h.queue||"fx"===h.queue)&&"inprogress"!==r.queue(l)[0]&&r.dequeue(l)}var l=arguments[0]&&(r.isPlainObject(arguments[0].properties)&&
!arguments[0].properties.names||q.isString(arguments[0].properties)),h,p,s,t,y,w;q.isWrapped(this)?(h=!1,s=0,t=this,p=this):(h=!0,s=1,t=l?arguments[0].elements:arguments[0]);if(t=c(t)){l?(y=arguments[0].properties,w=arguments[0].options):(y=arguments[s],w=arguments[s+1]);var C=t.length,K=0;if("stop"!==y&&!r.isPlainObject(w)){w={};for(l=s+1;l<arguments.length;l++)!q.isArray(arguments[l])&&(/^(fast|normal|slow)$/i.test(arguments[l])||/^\d/.test(arguments[l]))?w.duration=arguments[l]:q.isString(arguments[l])||
q.isArray(arguments[l])?w.easing=arguments[l]:q.isFunction(arguments[l])&&(w.complete=arguments[l])}var Q={promise:null,resolver:null,rejecter:null};h&&u.Promise&&(Q.promise=new u.Promise(function(a,b){Q.resolver=a;Q.rejecter=b}));var V;switch(y){case "scroll":V="scroll";break;case "reverse":V="reverse";break;case "stop":r.each(t,function(a,b){f(b)&&f(b).delayTimer&&(clearTimeout(f(b).delayTimer.setTimeout),f(b).delayTimer.next&&f(b).delayTimer.next(),delete f(b).delayTimer)});var ea=[];r.each(u.State.calls,
function(a,b){b&&r.each(b[1],function(c,d){var e=q.isString(w)?w:"";if(w!==g&&b[2].queue!==e)return!0;r.each(t,function(b,c){c===d&&(w!==g&&(r.each(r.queue(c,e),function(a,b){q.isFunction(b)&&b(null,!0)}),r.queue(c,e,[])),f(c)&&""===e&&r.each(f(c).tweensContainer,function(a,b){b.endValue=b.currentValue}),ea.push(a))})})});r.each(ea,function(a,b){n(b,!0)});Q.promise&&Q.resolver(t);return h?Q.promise||null:p;default:if(r.isPlainObject(y)&&!q.isEmptyObject(y))V="start";else{if(q.isString(y)&&u.Redirects[y]){var L=
r.extend({},w),N=L.duration,I=L.delay||0;!0===L.backwards&&(t=r.extend(!0,[],t).reverse());r.each(t,function(a,b){parseFloat(L.stagger)?L.delay=I+parseFloat(L.stagger)*a:q.isFunction(L.stagger)&&(L.delay=I+L.stagger.call(b,a,C));L.drag&&(L.duration=parseFloat(N)||(/^(callout|transition)/.test(y)?1E3:v),L.duration=Math.max(L.duration*(L.backwards?1-a/C:(a+1)/C),0.75*L.duration,200));u.Redirects[y].call(b,b,L||{},a,C,t,Q.promise?Q:g)})}else Q.promise&&Q.rejecter(Error("Velocity: First argument ("+y+
") was not a property map, a known action, or a registered redirect. Aborting."));return h?Q.promise||null:p}}var O={lastParent:null,lastPosition:null,lastFontSize:null,lastPercentToPxWidth:null,lastPercentToPxHeight:null,lastEmToPx:null,remToPx:null,vwToPx:null,vhToPx:null},aa=[];r.each(t,function(a,b){q.isNode(b)&&e.call(b)});L=r.extend({},u.defaults,w);L.loop=parseInt(L.loop);l=2*L.loop-1;if(L.loop)for(s=0;s<l;s++){var U={delay:L.delay,progress:L.progress};s===l-1&&(U.display=L.display,U.visibility=
L.visibility,U.complete=L.complete);A(t,"reverse",U)}return h?Q.promise||null:p}},u=r.extend(A,u);u.animate=A;var C=k.requestAnimationFrame||t;!u.State.isMobile&&d.hidden!==g&&d.addEventListener("visibilitychange",function(){d.hidden?(C=function(a){return setTimeout(function(){a(!0)},16)},m()):C=k.requestAnimationFrame||t});h.Velocity=u;h!==k&&(h.fn.velocity=A,h.fn.velocity.defaults=u.defaults);r.each(["Down","Up"],function(a,b){u.Redirects["slide"+b]=function(a,c,d,e,f,l){c=r.extend({},c);var h=
c.begin,k=c.complete,m={height:"",marginTop:"",marginBottom:"",paddingTop:"",paddingBottom:""},n={};c.display===g&&(c.display="Down"===b?"inline"===u.CSS.Values.getDisplayType(a)?"inline-block":"block":"none");c.begin=function(){h&&h.call(f,f);for(var c in m){n[c]=a.style[c];var d=u.CSS.getPropertyValue(a,c);m[c]="Down"===b?[d,0]:[0,d]}n.overflow=a.style.overflow;a.style.overflow="hidden"};c.complete=function(){for(var b in n)a.style[b]=n[b];k&&k.call(f,f);l&&l.resolver(f)};u(a,m,c)}});r.each(["In",
"Out"],function(a,b){u.Redirects["fade"+b]=function(a,c,d,e,f,l){a=r.extend({},c);c={opacity:"In"===b?1:0};var h=a.complete;a.complete=d!==e-1?a.begin=null:function(){h&&h.call(f,f);l&&l.resolver(f)};a.display===g&&(a.display="In"===b?"auto":"none");u(this,c,a)}});return u}}(window.jQuery||window.Zepto||window,window,document)})},"dojox/fx":function(){define(["./fx/_base"],function(h){return h})},"dojox/fx/_base":function(){define("dojo/_base/array dojo/_base/lang dojo/_base/fx dojo/fx dojo/dom dojo/dom-style dojo/dom-geometry dojo/_base/connect dojo/_base/html".split(" "),
function(h,k,d,g,b,c,f,l,e){h=k.getObject("dojox.fx",!0);k.mixin(h,{anim:d.anim,animateProperty:d.animateProperty,fadeTo:d._fade,fadeIn:d.fadeIn,fadeOut:d.fadeOut,combine:g.combine,chain:g.chain,slideTo:g.slideTo,wipeIn:g.wipeIn,wipeOut:g.wipeOut});h.sizeTo=function(a){var e=a.node=b.byId(a.node),f=a.method||"chain";a.duration||(a.duration=500);"chain"==f&&(a.duration=Math.floor(a.duration/2));var l,h,q,r,s,v=null,w=function(b){return function(){var d=c.getComputedStyle(b),e=d.position,f=d.width,
g=d.height;l="absolute"==e?b.offsetTop:parseInt(d.top)||0;q="absolute"==e?b.offsetLeft:parseInt(d.left)||0;s="auto"==f?0:parseInt(f);v="auto"==g?0:parseInt(g);r=q-Math.floor((a.width-s)/2);h=l-Math.floor((a.height-v)/2);"absolute"!=e&&"relative"!=e&&(d=c.coords(b,!0),l=d.y,q=d.x,b.style.position="absolute",b.style.top=l+"px",b.style.left=q+"px")}}(e),e=d.animateProperty(k.mixin({properties:{height:function(){w();return{end:a.height||0,start:v}},top:function(){return{start:l,end:h}}}},a)),f=d.animateProperty(k.mixin({properties:{width:function(){return{start:s,
end:a.width||0}},left:function(){return{start:q,end:r}}}},a));return g["combine"==a.method?"combine":"chain"]([e,f])};h.slideBy=function(a){var e,g,h=function(a){return function(){var b=c.getComputedStyle(a),d=b.position;e="absolute"==d?a.offsetTop:parseInt(b.top)||0;g="absolute"==d?a.offsetLeft:parseInt(b.left)||0;"absolute"!=d&&"relative"!=d&&(b=f.coords(a,!0),e=b.y,g=b.x,a.style.position="absolute",a.style.top=e+"px",a.style.left=g+"px")}}(a.node=b.byId(a.node));h();a=d.animateProperty(k.mixin({properties:{top:e+
(a.top||0),left:g+(a.left||0)}},a));l.connect(a,"beforeBegin",a,h);return a};h.crossFade=function(a){var c=a.nodes[0]=b.byId(a.nodes[0]),f=e.style(c,"opacity"),l=a.nodes[1]=b.byId(a.nodes[1]);e.style(l,"opacity");return g.combine([d[0==f?"fadeIn":"fadeOut"](k.mixin({node:c},a)),d[0==f?"fadeOut":"fadeIn"](k.mixin({node:l},a))])};h.highlight=function(a){var c=a.node=b.byId(a.node);a.duration=a.duration||400;var f=a.color||"#ffff99",g=e.style(c,"backgroundColor");"rgba(0, 0, 0, 0)"==g&&(g="transparent");
a=d.animateProperty(k.mixin({properties:{backgroundColor:{start:f,end:g}}},a));"transparent"==g&&l.connect(a,"onEnd",a,function(){c.style.backgroundColor=g});return a};h.wipeTo=function(a){a.node=b.byId(a.node);var c=a.node,f=c.style,g=a.width?"width":"height",l={};l[g]={start:function(){f.overflow="hidden";if("hidden"==f.visibility||"none"==f.display)return f[g]="1px",f.display="",f.visibility="",1;var a=e.style(c,g);return Math.max(a,1)},end:a[g]};return d.animateProperty(k.mixin({properties:l},
a))};return h})},"dojox/fx/scroll":function(){define("dojo/_base/kernel dojo/_base/lang dojo/_base/fx dojox/fx/_base dojox/fx/_core dojo/dom-geometry dojo/_base/sniff".split(" "),function(h,k,d,g,b,c,f){h.experimental("dojox.fx.scroll");h=k.getObject("dojox.fx",!0);g.smoothScroll=function(g){g.target||(g.target=c.position(g.node));var e=k[f("ie")?"isObject":"isFunction"](g.win.scrollTo),a=g.target.x,h=g.target.y;if(!e)var n=c.position(g.win),a=a-n.x,h=h-n.y;var p=new d.Animation(k.mixin({beforeBegin:function(){this.curve&&
delete this.curve;var c=e?dojo._docScroll():{x:g.win.scrollLeft,y:g.win.scrollTop};p.curve=new b([c.x,c.y],[c.x+a,c.y+h])},onAnimate:e?function(a){g.win.scrollTo(a[0],a[1])}:function(a){g.win.scrollLeft=a[0];g.win.scrollTop=a[1]}},g));return p};return h.smoothScroll=g.smoothScroll})},"dojox/fx/_core":function(){define(["dojo/_base/lang","dojo/_base/array","./_base"],function(h,k,d){var g=function(b,c){this.start=b;this.end=c;var d=h.isArray(b),g=d?[]:c-b;d?(k.forEach(this.start,function(b,a){g[a]=
this.end[a]-b},this),this.getValue=function(b){var a=[];k.forEach(this.start,function(c,d){a[d]=g[d]*b+c},this);return a}):this.getValue=function(b){return g*b+this.start}};return d._Line=g})},"dojox/fx/easing":function(){define(["dojo/_base/lang","dojo/_base/kernel","dojo/fx/easing"],function(h,k,d){k.deprecated("dojox.fx.easing","Upgraded to Core, use dojo.fx.easing instead","2.0");return h.getObject("dojox.fx",!0).easing=d})},"dojo/fx/easing":function(){define(["../_base/lang"],function(h){var k=
{linear:function(d){return d},quadIn:function(d){return Math.pow(d,2)},quadOut:function(d){return-1*d*(d-2)},quadInOut:function(d){d*=2;return 1>d?Math.pow(d,2)/2:-1*(--d*(d-2)-1)/2},cubicIn:function(d){return Math.pow(d,3)},cubicOut:function(d){return Math.pow(d-1,3)+1},cubicInOut:function(d){d*=2;return 1>d?Math.pow(d,3)/2:(Math.pow(d-2,3)+2)/2},quartIn:function(d){return Math.pow(d,4)},quartOut:function(d){return-1*(Math.pow(d-1,4)-1)},quartInOut:function(d){d*=2;return 1>d?Math.pow(d,4)/2:-0.5*
(Math.pow(d-2,4)-2)},quintIn:function(d){return Math.pow(d,5)},quintOut:function(d){return Math.pow(d-1,5)+1},quintInOut:function(d){d*=2;return 1>d?Math.pow(d,5)/2:(Math.pow(d-2,5)+2)/2},sineIn:function(d){return-1*Math.cos(d*(Math.PI/2))+1},sineOut:function(d){return Math.sin(d*(Math.PI/2))},sineInOut:function(d){return-1*(Math.cos(Math.PI*d)-1)/2},expoIn:function(d){return 0==d?0:Math.pow(2,10*(d-1))},expoOut:function(d){return 1==d?1:-1*Math.pow(2,-10*d)+1},expoInOut:function(d){if(0==d)return 0;
if(1==d)return 1;d*=2;if(1>d)return Math.pow(2,10*(d-1))/2;--d;return(-1*Math.pow(2,-10*d)+2)/2},circIn:function(d){return-1*(Math.sqrt(1-Math.pow(d,2))-1)},circOut:function(d){return Math.sqrt(1-Math.pow(d-1,2))},circInOut:function(d){d*=2;return 1>d?-0.5*(Math.sqrt(1-Math.pow(d,2))-1):0.5*(Math.sqrt(1-Math.pow(d-2,2))+1)},backIn:function(d){return Math.pow(d,2)*(2.70158*d-1.70158)},backOut:function(d){d-=1;return Math.pow(d,2)*(2.70158*d+1.70158)+1},backInOut:function(d){d*=2;if(1>d)return Math.pow(d,
2)*(3.5949095*d-2.5949095)/2;d-=2;return(Math.pow(d,2)*(3.5949095*d+2.5949095)+2)/2},elasticIn:function(d){if(0==d||1==d)return d;d-=1;return-1*Math.pow(2,10*d)*Math.sin((d-0.075)*2*Math.PI/0.3)},elasticOut:function(d){return 0==d||1==d?d:Math.pow(2,-10*d)*Math.sin((d-0.075)*2*Math.PI/0.3)+1},elasticInOut:function(d){if(0==d)return 0;d*=2;if(2==d)return 1;var g=0.3*1.5,b=g/4;if(1>d)return d-=1,-0.5*Math.pow(2,10*d)*Math.sin((d-b)*2*Math.PI/g);d-=1;return 0.5*Math.pow(2,-10*d)*Math.sin((d-b)*2*Math.PI/
g)+1},bounceIn:function(d){return 1-k.bounceOut(1-d)},bounceOut:function(d){d<1/2.75?d=7.5625*Math.pow(d,2):d<2/2.75?d=7.5625*Math.pow(d-1.5/2.75,2)+0.75:d<2.5/2.75?(d-=2.25/2.75,d=7.5625*Math.pow(d,2)+0.9375):(d-=2.625/2.75,d=7.5625*Math.pow(d,2)+0.984375);return d},bounceInOut:function(d){return 0.5>d?k.bounceIn(2*d)/2:k.bounceOut(2*d-1)/2+0.5}};h.setObject("dojo.fx.easing",k);return k})},"dojox/form/Uploader":function(){define("dojo/_base/kernel dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/connect dojo/_base/window dojo/dom-style dojo/dom-class dojo/dom-geometry dojo/dom-attr dojo/dom-construct dojo/dom-form dijit dijit/form/Button ./uploader/_Base ./uploader/_HTML5 ./uploader/_IFrame ./uploader/_Flash dojo/i18n!./nls/Uploader dojo/text!./resources/Uploader.html".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s,v,w,u){return k("dojox.form.Uploader",[q,t,r,s,v],{uploadOnSelect:!1,tabIndex:0,multiple:!1,label:w.label,url:"",name:"uploadedfile",flashFieldName:"",force:"",uploadType:"",showInput:"",focusedClass:"dijitButtonHover",_nameIndex:0,templateString:u,baseClass:"dijitUploader "+t.prototype.baseClass,postMixInProperties:function(){this._inputs=[];this._cons=[];this.force=this.force.toLowerCase();this.supports("multiple")?this.uploadType="form"===this.force?"form":
"html5":this.uploadType="flash"===this.force?"flash":"iframe";this.inherited(arguments)},buildRendering:function(){this.inherited(arguments);f.set(this.domNode,{overflow:"hidden",position:"relative"});this._buildDisplay();a.set(this.titleNode,"tabIndex",-1)},_buildDisplay:function(){this.showInput&&(this.displayInput=m.create("input",{"class":"dijitUploadDisplayInput",tabIndex:-1,autocomplete:"off",role:"presentation"},this.containerNode,this.showInput),this._attachPoints.push("displayInput"),this.connect(this,
"onChange",function(a){for(var b=0,c,d=[];c=a[b++];)c&&c.name&&d.push(c.name);this.displayInput.value=d.join(", ")}),this.connect(this,"reset",function(){this.displayInput.value=""}))},startup:function(){this._buildInitialized||(this._buildInitialized=!0,this._getButtonStyle(this.domNode),this._setButtonStyle(),this.inherited(arguments))},onChange:function(a){},onBegin:function(a){},onProgress:function(a){},onComplete:function(a){this.reset()},onCancel:function(){},onAbort:function(){},onError:function(a){},
upload:function(a){a=a||{};a.uploadType=this.uploadType;this.inherited(arguments)},submit:function(a){a=a?a.tagName?a:this.getForm():this.getForm();a=n.toObject(a);a.uploadType=this.uploadType;this.upload(a)},reset:function(){delete this._files;this._disconnectButton();g.forEach(this._inputs,m.destroy);this._inputs=[];this._nameIndex=0;this._createInput()},getFileList:function(){var a=[];this.supports("multiple")?g.forEach(this._files,function(b,c){a.push({index:c,name:b.name,size:b.size,type:b.type})},
this):g.forEach(this._inputs,function(b,c){b.value&&a.push({index:c,name:b.value.substring(b.value.lastIndexOf("\\")+1),size:0,type:b.value.substring(b.value.lastIndexOf(".")+1)})},this);return a},_getValueAttr:function(){return this.getFileList()},_setValueAttr:function(a){},_setDisabledAttr:function(a){this.disabled!=a&&this.inputNode&&(this.inherited(arguments),f.set(this.inputNode,"display",a?"none":""))},_getButtonStyle:function(a){this.btnSize={w:f.get(a,"width"),h:f.get(a,"height")}},_setButtonStyle:function(){this.inputNodeFontSize=
Math.max(2,Math.max(Math.ceil(this.btnSize.w/60),Math.ceil(this.btnSize.h/15)));this._createInput()},_getFileFieldName:function(){return this.supports("multiple")&&this.multiple?this.name+"s[]":this.name+(this.multiple?this._nameIndex:"")},_createInput:function(){this._inputs.length&&(f.set(this.inputNode,{top:"500px"}),this._disconnectButton(),this._nameIndex++);var b=this._getFileFieldName();this.focusNode=this.inputNode=m.create("input",{type:"file",name:b,"aria-labelledby":this.id+"_label"},this.domNode,
"first");this.supports("multiple")&&this.multiple&&a.set(this.inputNode,"multiple",!0);this._inputs.push(this.inputNode);f.set(this.inputNode,{position:"absolute",fontSize:this.inputNodeFontSize+"em",top:"-3px",right:"-3px",opacity:0});this._connectButton()},_connectButton:function(){this._cons.push(b.connect(this.inputNode,"change",this,function(a){this._files=this.inputNode.files;this.onChange(this.getFileList(a));!this.supports("multiple")&&this.multiple&&this._createInput()}));-1<this.tabIndex&&
(this.inputNode.tabIndex=this.tabIndex,this._cons.push(b.connect(this.inputNode,"focus",this,function(){l.add(this.domNode,this.focusedClass)})),this._cons.push(b.connect(this.inputNode,"blur",this,function(){l.remove(this.domNode,this.focusedClass)})))},_disconnectButton:function(){g.forEach(this._cons,b.disconnect);this._cons.splice(0,this._cons.length)}})})},"dojox/form/uploader/_Base":function(){define("dojo/dom-form dojo/dom-style dojo/dom-construct dojo/dom-attr dojo/has dojo/_base/declare dojo/_base/event dijit/_Widget dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin".split(" "),
function(h,k,d,g,b,c,f,l,e,a){b.add("FormData",function(){return!!window.FormData});b.add("xhr-sendAsBinary",function(){var a=window.XMLHttpRequest&&new window.XMLHttpRequest;return a&&!!a.sendAsBinary});b.add("file-multiple",function(){return!!{"true":1,"false":1}[g.get(document.createElement("input",{type:"file"}),"multiple")]});return c("dojox.form.uploader._Base",[l,e,a],{getForm:function(){if(!this.form)for(var a=this.domNode;a&&a.tagName&&a!==document.body;){if("form"==a.tagName.toLowerCase()){this.form=
a;break}a=a.parentNode}return this.form},getUrl:function(){this.uploadUrl&&(this.url=this.uploadUrl);if(this.url)return this.url;this.getForm()&&(this.url=this.form.action);return this.url},connectForm:function(){this.url=this.getUrl();!this._fcon&&this.getForm()&&(this._fcon=!0,this.connect(this.form,"onsubmit",function(a){f.stop(a);this.submit(this.form)}))},supports:function(a){switch(a){case "multiple":if("flash"==this.force||"iframe"==this.force)break;return b("file-multiple");case "FormData":return b(a);
case "sendAsBinary":return b("xhr-sendAsBinary")}return!1},getMimeType:function(){return"application/octet-stream"},getFileType:function(a){return a.substring(a.lastIndexOf(".")+1).toUpperCase()},convertBytes:function(a){var b=Math.round(1E5*(a/1024))/1E5,c=Math.round(1E5*(a/1048576))/1E5,d=Math.round(1E5*(a/1073741824))/1E5,e=a;1<b&&(e=b.toFixed(1)+" kb");1<c&&(e=c.toFixed(1)+" mb");1<d&&(e=d.toFixed(1)+" gb");return{kb:b,mb:c,gb:d,bytes:a,value:e}}})})},"dojox/form/uploader/_HTML5":function(){define(["dojo/_base/declare",
"dojo/_base/lang","dojo/_base/array","dojo"],function(h,k,d,g){return h("dojox.form.uploader._HTML5",[],{errMsg:"Error uploading files. Try checking permissions",uploadType:"html5",postMixInProperties:function(){this.inherited(arguments)},postCreate:function(){this.connectForm();this.inherited(arguments);this.uploadOnSelect&&this.connect(this,"onChange",function(b){this.upload(b[0])})},_drop:function(b){g.stopEvent(b);this._files=b.dataTransfer.files;this.onChange(this.getFileList())},upload:function(b){this.onBegin(this.getFileList());
this.uploadWithFormData(b)},addDropTarget:function(b,c){c||(this.connect(b,"dragenter",g.stopEvent),this.connect(b,"dragover",g.stopEvent),this.connect(b,"dragleave",g.stopEvent));this.connect(b,"drop","_drop")},uploadWithFormData:function(b){if(this.getUrl()){var c=new FormData,f=this._getFileFieldName();d.forEach(this._files,function(b,a){c.append(f,b)},this);if(b){b.uploadType=this.uploadType;for(var g in b)c.append(g,b[g])}this.createXhr().send(c)}},_xhrProgress:function(b){if(b.lengthComputable){var c=
{bytesLoaded:b.loaded,bytesTotal:b.total,type:b.type,timeStamp:b.timeStamp};"load"==b.type?(c.percent="100%",c.decimal=1):(c.decimal=b.loaded/b.total,c.percent=Math.ceil(100*(b.loaded/b.total))+"%");this.onProgress(c)}},createXhr:function(){var b=new XMLHttpRequest,c;b.upload.addEventListener("progress",k.hitch(this,"_xhrProgress"),!1);b.addEventListener("load",k.hitch(this,"_xhrProgress"),!1);b.addEventListener("error",k.hitch(this,function(b){this.onError(b);clearInterval(c)}),!1);b.addEventListener("abort",
k.hitch(this,function(b){this.onAbort(b);clearInterval(c)}),!1);b.onreadystatechange=k.hitch(this,function(){if(4===b.readyState){clearInterval(c);try{this.onComplete(JSON.parse(b.responseText.replace(/^\{\}&&/,"")))}catch(d){this.onError("Error parsing server result:",d)}}});b.open("POST",this.getUrl());b.setRequestHeader("Accept","application/json");c=setInterval(k.hitch(this,function(){}),250);return b}})})},"dojox/form/uploader/_IFrame":function(){define("dojo/query dojo/dom-construct dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/dom-form dojo/request/iframe".split(" "),
function(h,k,d,g,b,c,f){return d("dojox.form.uploader._IFrame",[],{postMixInProperties:function(){this.inherited(arguments);"iframe"===this.uploadType&&(this.uploadType="iframe",this.upload=this.uploadIFrame)},uploadIFrame:function(c){var d={},a;this.getForm();var g=this.getUrl(),h=this;c=c||{};c.uploadType=this.uploadType;a=k.place('\x3cform enctype\x3d"multipart/form-data" method\x3d"post"\x3e\x3c/form\x3e',this.domNode);b.forEach(this._inputs,function(b,c){""!==b.value&&(a.appendChild(b),d[b.name]=
b.value)},this);if(c)for(nm in c)void 0===d[nm]&&k.create("input",{name:nm,value:c[nm],type:"hidden"},a);f.post(g,{form:a,handleAs:"json",content:c}).then(function(b){k.destroy(a);if(b.ERROR||b.error)h.onError(b);else h.onComplete(b)},function(b){k.destroy(a);h.onError(b)})}})})},"dojox/form/uploader/_Flash":function(){define("dojo/dom-form dojo/dom-style dojo/dom-construct dojo/dom-attr dojo/_base/declare dojo/_base/config dojo/_base/connect dojo/_base/lang dojo/_base/array dojox/embed/Flash".split(" "),
function(h,k,d,g,b,c,f,l,e,a){return b("dojox.form.uploader._Flash",[],{swfPath:c.uploaderPath||require.toUrl("dojox/form/resources/uploader.swf"),preventCache:!0,skipServerCheck:!0,serverTimeout:2E3,isDebug:!1,devMode:!1,deferredUploading:0,postMixInProperties:function(){"flash"===this.uploadType&&(this._files=[],this._fileMap={},this._createInput=this._createFlashUploader,this.getFileList=this.getFlashFileList,this.reset=this.flashReset,this.upload=this.uploadFlash,this.fieldname="flashUploadFiles");
this.inherited(arguments)},onReady:function(a){},onLoad:function(a){},onFileChange:function(a){},onFileProgress:function(a){},getFlashFileList:function(){return this._files},flashReset:function(){this.flashMovie.reset();this._files=[];this._fileMap={}},uploadFlash:function(a){this.onBegin(this.getFileList());a=a||{};a.returnType="F";a.uploadType=this.uploadType;this.flashMovie.doUpload(a)},_change:function(a){this._files=this._files.concat(a);e.forEach(a,function(a){a.bytesLoaded=0;a.bytesTotal=a.size;
this._fileMap[a.name+"_"+a.size]=a},this);this.onChange(this._files);this.onFileChange(a)},_complete:function(a){this._getCustomEvent().type="load";this.onComplete(a)},_progress:function(a){this._fileMap[a.name+"_"+a.bytesTotal].bytesLoaded=a.bytesLoaded;var b=this._getCustomEvent();this.onFileProgress(a);this.onProgress(b)},_error:function(a){this.onError(a)},_onFlashBlur:function(a){},_getCustomEvent:function(){var a={bytesLoaded:0,bytesTotal:0,type:"progress",timeStamp:(new Date).getTime()},b;
for(b in this._fileMap)a.bytesTotal+=this._fileMap[b].bytesTotal,a.bytesLoaded+=this._fileMap[b].bytesLoaded;a.decimal=a.bytesLoaded/a.bytesTotal;a.percent=Math.ceil(100*(a.bytesLoaded/a.bytesTotal))+"%";return a},_connectFlash:function(){this._subs=[];this._cons=[];var a=l.hitch(this,function(a,b){this._subs.push(f.subscribe(this.id+a,this,b))});a("/filesSelected","_change");a("/filesUploaded","_complete");a("/filesProgress","_progress");a("/filesError","_error");a("/filesCanceled","onCancel");a("/stageBlur",
"_onFlashBlur");this.connect(this.domNode,"focus",function(){this.flashMovie.focus();this.flashMovie.doFocus()});0<=this.tabIndex&&g.set(this.domNode,"tabIndex",this.tabIndex)},_createFlashUploader:function(){var b=this.btnSize.w,c=this.btnSize.h;if(b){var e=this.getUrl();if(e&&0>e.toLowerCase().indexOf("http")&&0!=e.indexOf("/")){var f=window.location.href.split("/");f.pop();f=f.join("/")+"/";e=f+e}this.inputNode=d.create("div",{className:"dojoxFlashNode"},this.domNode,"first");k.set(this.inputNode,
{position:"absolute",top:"-2px",width:b+"px",height:c+"px",opacity:0});b={expressInstall:!0,path:(this.swfPath.uri||this.swfPath)+(this.preventCache?"?cb_"+(new Date).getTime():""),width:b,height:c,allowScriptAccess:"always",allowNetworking:"all",vars:{uploadDataFieldName:this.flashFieldName||this.name+"Flash",uploadUrl:e,uploadOnSelect:this.uploadOnSelect,deferredUploading:this.deferredUploading||0,selectMultipleFiles:this.multiple,id:this.id,isDebug:this.isDebug,noReturnCheck:this.skipServerCheck,
serverTimeout:this.serverTimeout},params:{scale:"noscale",wmode:"opaque",allowScriptAccess:"always",allowNetworking:"all"}};this.flashObject=new a(b,this.inputNode);this.flashObject.onError=l.hitch(function(a){});this.flashObject.onReady=l.hitch(this,function(){this.onReady(this)});this.flashObject.onLoad=l.hitch(this,function(a){this.flashMovie=a;this.flashReady=!0;this.onLoad(this)});this._connectFlash()}else setTimeout(dojo.hitch(this,function(){this._getButtonStyle(this.domNode);this._createFlashUploader()}),
200)}})})},"dojox/embed/Flash":function(){define("dojo/_base/lang dojo/_base/unload dojo/_base/array dojo/query dojo/has dojo/dom dojo/on dojo/window dojo/string".split(" "),function(h,k,d,g,b,c,f,l,e){function a(a){a=h.delegate(q,a);if(!("path"in a))return null;"id"in a||(a.id=p+t++);return a}var m,n,p="dojox-embed-flash-",t=0,q={expressInstall:!1,width:320,height:240,swLiveConnect:"true",allowScriptAccess:"sameDomain",allowNetworking:"all",style:null,redirect:null};b("ie")?(m=function(b){b=a(b);
if(!b)return null;var c,d=b.path;if(b.vars){var f=[];for(c in b.vars)f.push(encodeURIComponent(c)+"\x3d"+encodeURIComponent(b.vars[c]));b.params.FlashVars=f.join("\x26");delete b.vars}d='\x3cobject id\x3d"'+e.escape(String(b.id))+'" classid\x3d"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width\x3d"'+e.escape(String(b.width))+'" height\x3d"'+e.escape(String(b.height))+'"'+(b.style?' style\x3d"'+e.escape(String(b.style))+'"':"")+'\x3e\x3cparam name\x3d"movie" value\x3d"'+e.escape(String(d))+'" /\x3e';
if(b.params)for(c in b.params)d+='\x3cparam name\x3d"'+e.escape(c)+'" value\x3d"'+e.escape(String(b.params[c]))+'" /\x3e';return{id:b.id,markup:d+"\x3c/object\x3e"}},n=function(){for(var a=10,b=null;!b&&7<a;)try{b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+a--)}catch(c){}return b?(a=b.GetVariable("$version").split(" ")[1].split(","),{major:null!=a[0]?parseInt(a[0]):0,minor:null!=a[1]?parseInt(a[1]):0,rev:null!=a[2]?parseInt(a[2]):0}):{major:0,minor:0,rev:0}}(),k.addOnWindowUnload(function(){var a=
function(){};g("object").reverse().style("display","none").forEach(function(b){for(var c in b)if("FlashVars"!=c&&"function"==typeof b[c])try{b[c]=a}catch(d){}})})):(m=function(b){b=a(b);if(!b)return null;var c,d=b.path;if(b.vars){var f=[];for(c in b.vars)f.push(encodeURIComponent(c)+"\x3d"+encodeURIComponent(b.vars[c]));b.params.flashVars=f.join("\x26");delete b.vars}d='\x3cembed type\x3d"application/x-shockwave-flash" src\x3d"'+e.escape(String(d))+'" id\x3d"'+e.escape(String(b.id))+'" width\x3d"'+
e.escape(String(b.width))+'" height\x3d"'+e.escape(String(b.height))+'"'+(b.style?' style\x3d"'+e.escape(String(b.style))+'" ':"")+'pluginspage\x3d"'+window.location.protocol+'//www.adobe.com/go/getflashplayer" ';if(b.params)for(c in b.params)d+=" "+e.escape(c)+'\x3d"'+e.escape(String(b.params[c]))+'"';return{id:b.id,markup:d+" /\x3e"}},n=function(){var a=navigator.plugins["Shockwave Flash"];return a&&a.description?(a=a.description.replace(/([a-zA-Z]|\s)+/,"").replace(/(\s+r|\s+b[0-9]+)/,".").split("."),
{major:null!=a[0]?parseInt(a[0]):0,minor:null!=a[1]?parseInt(a[1]):0,rev:null!=a[2]?parseInt(a[2]):0}):{major:0,minor:0,rev:0}}());var r=function(a,b){if(-1<location.href.toLowerCase().indexOf("file://"))throw Error("dojox.embed.Flash can't be run directly from a file. To instatiate the required SWF correctly it must be run from a server, like localHost.");this.available=n.major;this.minimumVersion=a.minimumVersion||9;this.domNode=this.movie=this.id=null;b&&(b=c.byId(b));setTimeout(h.hitch(this,function(){if(a.expressInstall||
this.available&&this.available>=this.minimumVersion)if(a&&b)this.init(a,b);else this.onError("embed.Flash was not provided with the proper arguments.");else if(this.available)this.onError("Flash version detected: "+this.available+" is out of date. Minimum required: "+this.minimumVersion);else this.onError("Flash is not installed.")}),100)};h.extend(r,{onReady:function(a){},onLoad:function(a){},onError:function(a){},_onload:function(){clearInterval(this._poller);delete this._poller;delete this._pollCount;
delete this._pollMax;this.onLoad(this.movie)},init:function(a,b){this.destroy();b=c.byId(b||this.domNode);if(!b)throw Error("dojox.embed.Flash: no domNode reference has been passed.");var d=0;this._poller=null;this._pollCount=0;this._pollMax=15;this.pollTime=100;r.initialized&&(this.id=r.place(a,b),this.domNode=b,setTimeout(h.hitch(this,function(){this.movie=this.byId(this.id,a.doc);this.onReady(this.movie);this._poller=setInterval(h.hitch(this,function(){try{d=this.movie.PercentLoaded()}catch(a){}if(100==
d)this._onload();else if(0==d&&this._pollCount++>this._pollMax)throw clearInterval(this._poller),Error("Building SWF failed.");}),this.pollTime)}),1))},_destroy:function(){try{this.domNode.removeChild(this.movie)}catch(a){}this.id=this.movie=this.domNode=null},destroy:function(){if(this.movie){var a=h.delegate({id:!0,movie:!0,domNode:!0,onReady:!0,onLoad:!0}),b;for(b in this)a[b]||delete this[b];this._poller?f(this,"Load",this,"_destroy"):this._destroy()}},byId:function(a,b){b=b||document;return b.embeds[a]?
b.embeds[a]:b[a]?b[a]:window[a]?window[a]:document[a]?document[a]:null}});h.mixin(r,{minSupported:8,available:n.major,supported:n.major>=n.required,minimumRequired:n.required,version:n,initialized:!1,onInitialize:function(){r.initialized=!0},__ie_markup__:function(a){return m(a)},proxy:function(a,b){d.forEach(b instanceof Array?b:[b],function(a){this[a]=h.hitch(this,function(){return function(){return eval(this.movie.CallFunction('\x3cinvoke name\x3d"'+a+'" returntype\x3d"javascript"\x3e\x3carguments\x3e'+
d.map(arguments,function(a){return __flash__toXML(a)}).join("")+"\x3c/arguments\x3e\x3c/invoke\x3e"))}.apply(this,arguments||[])})},a)}});r.place=function(a,b){var d=m(a);b=c.byId(b);b||(b=l.doc.createElement("div"),b.id=d.id+"-container",l.body().appendChild(b));return d?(b.innerHTML=d.markup,d.id):null};r.onInitialize();h.setObject("dojox.embed.Flash",r);return r})},"dojox/xmpp/util":function(){define(["dojo","dijit","dojox","dojo/require!dojox/string/Builder,dojox/encoding/base64"],function(h,
k,d){h.provide("dojox.xmpp.util");h.require("dojox.string.Builder");h.require("dojox.encoding.base64");d.xmpp.util.xmlEncode=function(d){d&&(d=d.replace("\x26","\x26amp;").replace("\x3e","\x26gt;").replace("\x3c","\x26lt;").replace("'","\x26apos;").replace('"',"\x26quot;"));return d};d.xmpp.util.encodeJid=function(g){for(var b=new d.string.Builder,c=0;c<g.length;c++){var f=g.charAt(c),h=f;switch(f){case " ":h="\\20";break;case '"':h="\\22";break;case "#":h="\\23";break;case "\x26":h="\\26";break;
case "'":h="\\27";break;case "/":h="\\2f";break;case ":":h="\\3a";break;case "\x3c":h="\\3c";break;case "\x3e":h="\\3e"}b.append(h)}return b.toString()};d.xmpp.util.decodeJid=function(d){return d=d.replace(/\\([23][02367acef])/g,function(b){switch(b){case "\\20":return" ";case "\\22":return'"';case "\\23":return"#";case "\\26":return"\x26";case "\\27":return"'";case "\\2f":return"/";case "\\3a":return":";case "\\3c":return"\x3c";case "\\3e":return"\x3e"}return"ARG"})};d.xmpp.util.createElement=function(g,
b,c){var f=new d.string.Builder("\x3c");f.append(g+" ");for(var h in b)f.append(h+'\x3d"'),f.append(b[h]),f.append('" ');c?f.append("/\x3e"):f.append("\x3e");return f.toString()};d.xmpp.util.stripHtml=function(d){for(var b=0;b<arguments.length;b++);return d.replace(/<[^>]*?>/gi,"")};d.xmpp.util.decodeHtmlEntities=function(d){var b=h.doc.createElement("textarea");b.innerHTML=d.replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;");return b.value};d.xmpp.util.htmlToPlain=function(g){g=d.xmpp.util.decodeHtmlEntities(g);
g=g.replace(/<br\s*[i\/]{0,1}>/gi,"\n");return g=d.xmpp.util.stripHtml(g)};d.xmpp.util.Base64={};d.xmpp.util.Base64.encode=function(g){return d.encoding.base64.encode(function(b){for(var c=[],d=0;d<b.length;++d)c.push(b.charCodeAt(d));return c}(g))};d.xmpp.util.Base64.decode=function(g){return function(b){var c=[];h.forEach(b,function(b){c.push(String.fromCharCode(b))});return c.join("")}(d.encoding.base64.decode(g))}})},"dojox/string/Builder":function(){define(["dojo/_base/lang"],function(h){return h.getObject("string",
!0,dojox).Builder=function(h){var d="";this.length=0;this.append=function(g){if(1<arguments.length){var b="";switch(arguments.length){case 9:b=""+arguments[8]+b;case 8:b=""+arguments[7]+b;case 7:b=""+arguments[6]+b;case 6:b=""+arguments[5]+b;case 5:b=""+arguments[4]+b;case 4:b=""+arguments[3]+b;case 3:b=""+arguments[2]+b;case 2:d+=""+arguments[0]+arguments[1]+b;break;default:for(var c=0;c<arguments.length;)b+=arguments[c++];d+=b}}else d+=g;this.length=d.length;return this};this.concat=function(d){return this.append.apply(this,
arguments)};this.appendArray=function(d){return this.append.apply(this,d)};this.clear=function(){d="";this.length=0;return this};this.replace=function(g,b){d=d.replace(g,b);this.length=d.length;return this};this.remove=function(g,b){void 0===b&&(b=d.length);if(0==b)return this;d=d.substr(0,g)+d.substr(g+b);this.length=d.length;return this};this.insert=function(g,b){d=0==g?b+d:d.slice(0,g)+b+d.slice(g);this.length=d.length;return this};this.toString=function(){return d};h&&this.append(h)}})},"dojox/encoding/base64":function(){define(["dojo/_base/lang"],
function(h){h=h.getObject("dojox.encoding.base64",!0);h.encode=function(h){for(var d=[],g=h.length,b=g%3,g=g-b,c=0;c<g;){var f=h[c++]<<16|h[c++]<<8|h[c++];d.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(f>>>18&63));d.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(f>>>12&63));d.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(f>>>6&63));d.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(f&
63))}switch(b){case 2:f=h[c++]<<16|h[c++]<<8;d.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(f>>>18&63));d.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(f>>>12&63));d.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(f>>>6&63));d.push("\x3d");break;case 1:f=h[c++]<<16,d.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(f>>>18&63)),d.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(f>>>
12&63)),d.push("\x3d"),d.push("\x3d")}return d.join("")};h.decode=function(h){h=h.split("");for(var d=[],g=h.length;"\x3d"==h[--g];);for(var b=0;b<g;){var c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(h[b++])<<18;b<=g&&(c|="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(h[b++])<<12);b<=g&&(c|="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(h[b++])<<6);b<=g&&(c|="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(h[b++]));
d.push(c>>>16&255);d.push(c>>>8&255);d.push(c&255)}for(;0==d[d.length-1];)d.pop();return d};return h})},"mojo/utils":function(){define("dojo/_base/lang dojo/query dojo/dom dojo/on dojo/_base/window dojo/_base/html dojo/dom-construct dojo/dom-class dojo/dom-style dojo/dom-attr dojo/request dojo/request/xhr dojo/topic dojo/keys dojo/fx dojo/fx/Toggler dojo/date/locale dojo/_base/array dijit/registry dojo/dom-geometry dojo/ready dojox/xmpp/util velocity/velocity mojo/url dojox/html/entities d3/d3 mojo/user mojo/flags dojo/NodeList-traverse".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s,v,w,u,y,x,A,C,D,E,G,H){var M=null;window.captchaSuccess=function(){k('[data-mc-el\x3d"captchaAutoSubmit"]')[0].submit()};var J={selectAll:function(a){a="string"==typeof a?document.getElementById(a):a;a.focus();a.select()},updateMergeBox:function(a,b){for(var c=dojo.coords(b,!0),d=document.body,f=a.parentNode;f!=d&&!(e.get(f,"position")&&"static"!=e.get(f,"position"));)f=f.parentNode;dojo.isIE||(a.style.bottom=dojo.coords(f).h-c.t+"px")},wipeToggle:function(a,
b){require(["dojo/fx"],function(c){(a.checked?c.wipeIn({node:d.byId(b),duration:500}):c.wipeOut({node:d.byId(b),duration:500})).play()})},toggleAccordion:function(a,b){require(["dojo/fx"],function(c){b="undefined"!==typeof b?b:500;var e=k(".accordion-switch").map(function(d){return d.id==a?c.wipeIn({node:d,duration:b}):c.wipeOut({node:d,duration:b})});if(d.byId("merges-list")){var f=d.byId("merges-list"),g=k(".merge-cheatsheet label")[0];v.forEach(e,function(a){dojo.connect(a,"onEnd",function(){J.updateMergeBox(f,
g)})})}d.byId("accordion-active")&&(d.byId("accordion-active").value=a);c.combine(e).play()})},disclosureElement:function(a,b,c,e,f){a=d.byId(a);var g=/show /gi,h=/hide /gi;"none"==a.style.display?(a.style.display="block","button"!==f&&(l.remove(b,"disclosure-closed"),l.add(b,"disclosure-open")),c&&(b.innerHTML=b.innerHTML.replace(g,"hide ")),"function"==typeof e&&e("open")):(a.style.display="none","button"!==f&&(l.remove(b,"disclosure-open"),l.add(b,"disclosure-closed")),c&&(b.innerHTML=b.innerHTML.replace(h,
"show ")),"function"==typeof e&&e("close"))},showHelpVideo:function(a){require(["mojo/widgets/HelpDialog","dojo/_base/window"],function(b,c){var d=dijit.byId("help-video-modal-"+a);if(!d){d=document.createElement("div");d.id="help-video-modal-"+a;var e=document.createElement("div");e.id="help-video-embed-"+a;e.style.height="427px";e.style.width="640px";d.appendChild(e);e=document.createElement("p");e.style.margin="0 0 0 0";e.style.textAlign="left";e.innerHTML='\x3ca href\x3d"http://mailchimp.com/support/online-training/" target\x3d"_blank" style\x3d"text-align:center;"\x3eWatch other helpful training videos.\x3c/a\x3e';
d.appendChild(e);c.body().appendChild(d);d=new b({title:"MailChimp Help Videos",id:"help-video-modal-"+a},d);pHtml='\x3ciframe width\x3d"640" height\x3d"427" src\x3d"https://fast.wistia.com/embed/medias/'+a+'?controlsVisibleOnLoad\x3dtrue\x26autoPlay\x3dtrue" frameborder\x3d"0"\x3e\x3c/iframe\x3e';document.getElementById("help-video-embed-"+a).innerHTML=pHtml}d.show();dojo.isMozilla&&-1!=navigator.userAgent.toLowerCase().indexOf("mac")&&(d._underlay.domNode.style.display="none")})},loadHelpVideo:function(a){try{isLoaded=
"undefined"==typeof brightcove?!1:!0}catch(b){isLoaded=!1}if(isLoaded){var c={id:"myExperience",bgcolor:"#FFFFFF",width:650,height:550,playerId:730557335001};c["@videoPlayer"]=a;c["@playlistTabs"]="1375780129,1375772162,1375780130,1485827977";c["@playlistTabs.featured"]=null;var d;d='\n\n\x3c!-- Start Brightcove Player --\x3e\n\x3cobject id\x3d"myExperience" class\x3d"BrightcoveExperience"\x3e'+('\n\x3cparam name\x3d"bgcolor" value\x3d"'+c.bgcolor+'" /\x3e');d+='\n\x3cparam name\x3d"width" value\x3d"'+
c.width+'" /\x3e';d+='\n\x3cparam name\x3d"height" value\x3d"'+c.height+'" /\x3e';d+='\n\x3cparam name\x3d"playerID" value\x3d"'+c.playerId+'" /\x3e';null!=c["@videoPlayer"]?d+='\n\x3cparam name\x3d"@videoPlayer" value\x3d"'+c["@videoPlayer"]+'" /\x3e':null!=c["@playlistTabs"]&&(d+='\n\x3cparam name\x3d"@playlistTabs" value\x3d"'+c["@playlistTabs"]+'" /\x3e',null!=c["@playlistTabs.featured"]&&(d+='\n\x3cparam name\x3d"@playlistTabs.featured" value\x3d"'+c["@playlistTabs.featured"]+'" /\x3e'),null!=
c["@videoList.featured"]&&(d+='\n\x3cparam name\x3d"@videoList.featured" value\x3d"'+c["@videoList.featured"]+'" /\x3e'));d+='\n\x3cparam name\x3d"isVid" value\x3d"true" /\x3e';d+='\n\x3cparam name\x3d"isUI" value\x3d"true" /\x3e';d+="\n\x3c/object\x3e";d+="\n\x3c!-- End Brightcove Player --\x3e\n\n";document.getElementById("help-video-embed-"+a).innerHTML=d;for(c=0;void 0==brightcove&&!(c++,1E4<c););brightcove.createExperiences("0","myExperience")}else c=document.getElementsByTagName("head")[0],
d=document.createElement("script"),d.type="text/javascript",d.src="http://admin.brightcove.com/js/BrightcoveExperiences.js",c.appendChild(d),setTimeout(function(){loadHelpVideo(a)},500)},onVisibility:function(a,b){var c=!1,e=window.innerHeight;g(window,"resize",function(){e=window.innerHeight});u.position(a).y<=e?c||(c=!0,"function"===typeof b&&b()):g(d.byId("wrap"),"scroll",function(){u.position(a).y<=e&&!c&&(c=!0,"function"===typeof b&&b())})},creditCardField:function(a,b,c){var e=d.byId(a),f=d.byId(b),
g="";dojo.connect(e,"onkeyup",function(a){4<=e.value.length&&e.value.substr(0,4)!=g&&(g=e.value.substr(0,4),dojo.xhrGet({url:c+"?num\x3d"+e.value.substr(0,4),handleAs:"text",load:function(a){f.innerHTML=a}}))})},countrySelectField:function(b,c,f){var h=d.byId(b);d.byId(c);var k=d.byId("state"),m=d.byId("state-container"),p=d.byId("us-state-container"),q=d.byId("us-state");d.byId(b);var r=d.byId("vat-message"),t=function(){dojo.xhrGet({url:f+"?id\x3d"+h.value,handleAs:"text",load:function(b){"N"===
b?(e.set(m,"display","none"),e.set(p,"display","none"),a.set(q,"name",""),a.set(k,"name","")):"Y"===b&&"164"===h.value?(e.set(p,"display","block"),e.set(m,"display","none"),a.set(q,"name","billing[state]"),a.set(k,"name","")):(e.set(p,"display","none"),e.set(m,"display","block"),a.set(q,"name",""),a.set(k,"name","billing[state]"))}})},s=function(){n(C.toUrl("/account/country-has-vat"),{handleAs:"text",query:{id:h.value}}).then(function(a){"N"===a?l.add(r,"hide"):"Y"===a&&l.remove(r,"hide")})};g(h,
"change",function(a){t();r&&s()});t();r&&s()},zipToStateField:function(a,b,c){var e=d.byId(a);d.byId(b);dojo.connect(e,"onkeyup",function(a){(a=e.value)&&5<=a.length&&dojo.xhrGet({url:c+"?zip\x3d"+e.value,handleAs:"text",load:function(a){a&&(d.byId("us-state").value=a)}})})},zipToCityField:function(a,b,c,e){var f=d.byId(a),g=d.byId(b),h=d.byId(c);dojo.connect(f,"onkeyup",function(a){h&&164==h.value&&(a=f.value)&&5<=a.length&&dojo.xhrGet({url:e+"?zip\x3d"+f.value,handleAs:"text",load:function(a){a&&
(g.value=a)}})})},validationError:function(a,b){J.clearValidation(a);var c=document.createElement("span");l.add(c,"invalid-error");c.appendChild(document.createTextNode(b));a.parentNode.insertBefore(c,a.nextSibling)},clearValidation:function(a){a=a.nextSibling;dojo.hasClass(a,"invalid-error")&&a.parentNode.removeChild(a)},log:function(a){},addOption:function(a,b,c){b=new Option(b,c);a.options[a.length]=b},deleteOption:function(a,b){0<a.length&&(a.options[b]=null)},moveOptions:function(a,b){var c=
[],d=[],e=0,f;for(f=a.length-1;0<=f;f--)a.options[f].selected&&(c[e]=a.options[f].text,d[e]=a.options[f].value,J.deleteOption(a,f),e++);for(f=e-1;0<=f;f--)J.addOption(b,c[f],d[f])},isValidEmailAddress:function(a){return/^[A-Z0-9._-]+@[A-Z0-9.-]+\.[A-Z0-9.-]+$/i.test(a)},moveAllOptions:function(a,b){var c=[],d=[],e=0,f;for(f=a.length-1;0<=f;f--)c[e]=a.options[f].text,d[e]=a.options[f].value,J.deleteOption(a,f),e++;for(f=e-1;0<=f;f--)J.addOption(b,c[f],d[f])},copyAllOptions:function(a,b){J.removeAllOptions(b);
for(var c=0;c<a.length;c++)J.addOption(b,a.options[c].text,a.options[c].value)},removeAllOptions:function(a){for(var b=a.length-1;0<=b;b--)J.deleteOption(a,b)},checkAll:function(b){k('input[type\x3d"checkbox"]',d.byId(b)).forEach(function(b){a.set(b,"checked","checked")})},uncheckAll:function(b){k('input[type\x3d"checkbox"]',d.byId(b)).forEach(function(b){a.remove(b,"checked")})},toggle:function(){v.forEach(arguments,function(a){k(a).forEach(function(a){"none"==e.get(a,"display")?e.set(a,"display",
""):e.set(a,"display","none")})})},checkPopupWin:function(a){!a||a.closed||"undefined"===typeof a.closed?dijit.byId("popup-win-blocked").show():a.focus();return!1},getCookie:function(a){var b=document.cookie.split(";"),c="",d="",e="";for(i=0;i<b.length;i++)if(c=b[i].split("\x3d"),d=c[0].replace(/^\s+|\s+$/g,""),d==a)return 1<c.length&&(e=unescape(c[1].replace(/^\s+|\s+$/g,""))),e;return null},checkInputLength:function(b,c,e){b=b.value.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length;e-=b;c=d.byId(c);
c.innerHTML=e;10>e?a.set(c.parentNode,"class","error-text small-meta char-count float-right"):25>e?a.set(c.parentNode,"class","warning-text small-meta char-count float-right"):a.set(c.parentNode,"class","success-text small-meta char-count float-right")},setCleanFileName:function(a){var b=D.encode(a.value.replace("C:\\fakepath\\",""));a.parentNode.parentNode.children[1].innerHTML=b},formatFileSize:function(a){return a=1073741824<=a?J.numberFormat(a/1073741824,2,".","")+" Gb":1048576<=a?J.numberFormat(a/
1048576,2,".","")+" Mb":1024<=a?J.numberFormat(a/1024,0)+" Kb":J.numberFormat(a,0)+" bytes"},numberFormat:function(a,b,c,d){var e=isNaN(b=Math.abs(b))?2:b;b="undefined"==typeof c?",":c;d="undefined"==typeof d?".":d;c=0>a?"-":"";var f=parseInt(a=Math.abs(+a||0).toFixed(e))+"",g=3<(g=f.length)?g%3:0;return c+(g?f.substr(0,g)+d:"")+f.substr(g).replace(/(\d{3})(?=\d)/g,"$1"+d)+(e?b+Math.abs(a-f).toFixed(e).slice(2):"")},showTemplateActions:function(a,b){v.forEach(b,function(b,c){c===a?l.toggle(b.firstElementChild,
"card-clicked"):l.remove(b.firstElementChild,"card-clicked")})},selectTemplate:function(a,b,c){v.forEach(b,function(b,d){d===a?l.toggle(b,"card-selected"):l.remove(b,"card-selected");l.contains(b,"card-selected")?c[d].innerHTML="Selected":c[d].innerHTML="Select"})},makeHeaderSticky:function(a,b){var d=dojo.byId(a),e=dojo.query("."+b)[0],f=c.coords(d),h;("tablet"===J.getCurrentBreakpoint()||"xltablet"===J.getCurrentBreakpoint())&&g(window,"scroll",function(){h=window.scrollY;h>f.y?(d.style.position=
"fixed",d.style.boxShadow="0 3px 0 0 rgba(0, 0, 0, 0.03)",d.style.top="60px",e.style.position="fixed",e.style.right="30px",e.style.top="66px"):(d.style.position="absolute",d.style.boxShadow="none",d.style.top=0,e.style.position="absolute",e.style.right=0,e.style.top=0)})},show:function(a,b){"none"===e.get(a,"display")&&(A(k("#"+a),"stop"),A(k("#"+a),"fadeIn",{duration:b?+b:225}))},hide:function(a,b){"none"!=e.get(a,"display")&&(A(k("#"+a),"stop"),A(k("#"+a),"fadeOut",{duration:b?+b:225}))},hideByClass:function(a){(a=
k("."+a)[0])&&l.add(a,"hide")},toggleEl:function(a,b,c,d){var f;f="none"===e.get(b,"display")?"slideDown":"slideUp";A(k("#"+b),"stop");A(k("#"+b),f,{duration:225,complete:function(){c&&"slideUp"==f&&(a.innerHTML=c);d&&"slideDown"==f&&(a.innerHTML=d)}})},showHide:function(a){"none"===e.get(a,"display")?e.set(a,"display","block"):"block"===e.get(a,"display")&&e.set(a,"display","none")},moveFlashBlock:function(a){f.place("av-flash-block",a,"first")},toast:function(a,b){b||(b="message");p.publish("show-toast",
{message:a,type:b})},resetForm:function(a){a.reset();k(".invalid",a).forEach(function(a){l.remove(a,"invalid")});v.forEach(w.findWidgets(a),function(a){a.reset()})},showFormErrors:function(a,b){a=k(a)[0];k(".invalid-error",a).remove();k(".invalid",a).removeClass("invalid");for(var c in b)if(b.hasOwnProperty(c)){var d=k("[data-mc-name\x3d"+c+"]",a)[0]?k("[data-mc-name\x3d"+c+"]",a)[0]:k("[name\x3d"+c+"]",a)[0];d&&J.addError(d,b[c])}},addError:function(a,b){J.removeErrors(a);k(a).addClass("invalid");
f.place("\x3cspan class\x3d'invalid-error'\x3e"+b+"\x3c/span\x3e",a,"after")},removeErrors:function(a){k(a).removeClass("invalid");k(a).siblings(".invalid-error").remove();k(a).siblings(".field-help").remove()},getTabletNaviHeight:function(){var a=k(".tablet-nav")[0];return a?u.position(a).h:0},getAppScrollContainer:function(){var c=dojo.body();a.get(c,"id","popup")&&(c=b.body());return c},updateQueryStringParameter:function(a,b,c){var d=RegExp("([?|\x26])"+b+"\x3d.*?(\x26|$)","i"),e=-1!==a.indexOf("?")?
"\x26":"?";return a.match(d)?a.replace(d,"$1"+b+"\x3d"+c+"$2"):a+e+b+"\x3d"+c},prefixAnimationEvents:function(a){var b=["webkit","Moz","MS",""];if(null==M){var c=f.create("p"),d=c.style;M=!1;v.some(b,function(a){return"undefined"!==typeof d[a?a+"Animation":"animation"]?(M=a,!0):!1});f.destroy(c)}return!1!==M?M&&"webkit"==M?M+J.capitalize(a):a.toLowerCase():!1},capitalize:function(a){return a.charAt(0).toUpperCase()+a.slice(1)},uncapitalize:function(a){return a.charAt(0).toLowerCase()+a.slice(1)},
plural:function(a,b){return 1===parseInt(a)?b:b+"s"},getDocScroll:function(){var a=u.docScroll().y;1024>=window.innerWidth&&(a+=J.getTabletNaviHeight());return a},getAvailableBreakpoints:function(){return breakpointsArray=dojo.getStyle(dojo.query("head *")[0],"font-family").split("'").join("").split(",")},getCurrentBreakpoint:function(){return window.getComputedStyle(document.querySelector("body"),":after").getPropertyValue("font-family")},toggleButtonLoadingState:function(b,c,d){c||(c="Please wait...");
d||(d="button-loading");setTimeout(function(){b instanceof Array?b.forEach(function(a){e(a,c)}):e(b,c)},0);var e=function(b,e){if(b)if(l.contains(b,"dijitButtonContents")&&(b=k(b).parents(".dijitButton")[0]),l.contains(b,d))setTimeout(function(){l.remove(b,d);l.remove(b,"loading");switch(b.tagName){case "BUTTON":case "A":f=a.get(b,"data-original-text");b.innerHTML=f;break;case "INPUT":f=a.get(b,"data-original-text");a.set(b,"value",f);break;case "SPAN":f=a.get(b,"data-original-text"),k(".dijitButtonText",
b)[0].innerHTML=f,l.remove(b,"disabled")}},1E3);else{l.add(b,d);var f;switch(b.tagName){case "BUTTON":case "A":f=b.innerHTML;b.innerHTML=c;break;case "INPUT":f=a.get(b,"value");a.set(b,"value",c);break;case "SPAN":var g;l.add(b,"disabled");g=k(".dijitButtonText",b)[0];f=g.innerHTML;g.innerHTML=c}a.set(b,"data-original-text",f)}}},docHeight:function(a){return Math.max(Math.max(a.body.scrollHeight,a.documentElement.scrollHeight),Math.max(a.body.offsetHeight,a.documentElement.offsetHeight),Math.max(a.body.clientHeight,
a.documentElement.clientHeight))},globalPublish:function(a,b){var c=document.location.protocol+"//"+document.location.host;window.self!==window.top&&window.top.mojo&&window.top.mojo.utils?window.top.location.href.slice(0,c.length)==c&&window.top.mojo.utils.globalPublish(a,b):(dojo.publish(a,b),k("iframe").forEach(function(d){d.src.slice(0,c.length)==c&&(d=d.contentWindow)&&d.dojo&&d.dojo.publish(a,b)}))},isVisible:function(a){return 0!=a.offsetHeight},logEvent:function(a,b){require(["mojo/logger"],
function(c){c.pythia.logEvent(a,b)})},parseEmoji:function(a){require(["twemoji/twemoji"],function(b){b.parse(a,{callback:function(a){return J.emojiImgPath(a)}})})},emojiImgHtml:function(a){var b,c=J.emojiImgPath(a);require(["twemoji/twemoji"],function(c){b=c.convert.fromCodePoint(a)});return'\x3cimg class\x3d"emoji" draggable\x3d"false" alt\x3d"'+b+'" src\x3d"'+c+'"\x3e'},emojiImgPath:function(a){return"/images/emoji/36/"+a+".png"},getTimePassed:function(a){a=(new Date-new Date(a))/1E3;var b=0,c=
0,d=0;60<=a&&(b=Math.floor(a/60),a%=60,60<=b&&(c=Math.floor(b/60),b%=60,24<=c&&(d=Math.floor(c/24),c%=24)));return{seconds:a,minutes:b,hours:c,days:d}},formatRelativeDate:function(a){if(null!==a){var b=J.getTimePassed(a);a=s.format(new Date(a),{formatLength:"medium",timePattern:"h:mm a"});var c="";0<b.days&&(c+=b.days+" "+J.plural(b.days,"day")+" ");0<b.hours&&(c+=b.hours+" "+J.plural(b.hours,"hour")+" ");0<b.minutes&&(c+=b.minutes+" "+J.plural(b.minutes,"minute")+" ");c=c.trim();return!c?"less than a minute ago":
7<=b.days?a:c+" ago"}return""},isUniqueArray:function(a){return a.every(function(a,b,c){return c.indexOf(a)==b||0>c.indexOf(a)})},arraysMatch:function(a,b){var c=!1;v.forEach(a,function(a,d){a!==b[d]&&(c=!0)});return c},scrollTo:function(a,b,c){var d=a.scrollTop,e=0<parseInt(d,10)?u.position(b).y+d:u.position(b).y,e=c?e-c:e;E.select(a).transition().duration(1E3).ease("cubic-in-out").tween("scroll",function(){var a=E.interpolateNumber(d,e);return function(b){this.scrollTop=a(b)}})},clickOnEnter:function(a,
b){(a.charCode||a.keyCode)===t.ENTER&&b.click()},checkIfBlocked:function(a){m("/images/ads/placeholder.svg").then(function(){a(!1)},function(){a(!0)})},compileTemplate:function(a,b){return f.toDom(h.replace(h.trim(a.innerHTML||a),b))},entries:function(a){var b=[],c;for(c in a)a.hasOwnProperty(c)&&b.push({key:c,value:a[c]});return b},getDayWithOrdinal:function(a){var b=["th","st","nd","rd"];return String(a)+((11>a||13<a)&&b[a%10]?b[a%10]:b[0])},getThousandsString:function(a){return 1E3<=a?Math.floor(a/
1E3)+"k":String(a)},getCommaListFromArray:function(a){switch(a.length){case 0:return[];case 1:return a[0];case 2:return a.join(" and ");default:return a.slice(0,-2).join(", ")+(a.slice(0,-2).length?", ":"")+a.slice(-2).join(", and ")}}};return J})},"mojo/url":function(){define(["mojo/context","dojo/dom-construct","dojo/_base/array","dojo/hash","dojo/io-query"],function(h,k,d,g,b){return{toUrl:function(c,d){if("undefined"==typeof c||null==c)c="";c&&"/"==c[0]&&(c=c.substr(1));d&&(c+=0>c.indexOf("?")?
"?":"\x26",c+=b.objectToQuery(d));return h.rootUrl+c},inUrl:function(b){return-1<window.location.href.indexOf(b)},removeProxy:function(b){if(0<b.indexOf("_ssl/proxy.php")){var d=0<=b.indexOf("_ssl/proxy.php/https/")?"https":"http",g=("_ssl/proxy.php/"+d+"/").length;b=d+"://"+b.substring(b.indexOf("_ssl/proxy.php/")+g)}return b},addProxy:function(b){var d=k.create("a",{href:b}),g=d.protocol.replace(":","");if("https"==g)return b;if("prod"==h.avestaEnvironment&&d.hostname==h.galleryDomain||d.hostname==
h.cdnImagesDomain)return b.replace(/^http:/i,"https:");b=g+"/"+d.hostname;"/"!=d.pathname[0]&&(b+="/");b+=d.pathname;d.search&&(b+="?"+encodeURIComponent(d.search));return h.proxyBaseUrl+"/"+b},getHashParams:function(){var b=g(),f={};b&&(b=b.split(";"))&&b.length&&d.forEach(b,function(b){b=b.split(":");b[0]&&(f[b[0]]=b[1])});return f},setHashParams:function(b){var d=[],h;for(h in b)d.push(h+":"+b[h]);g(d.join(";"),!0)}}})},"mojo/context":function(){define([],function(){return{rootUrl:"/",proxyBaseUrl:null,
listManageDomain:null,pusherKey:null,cdnImagesDomain:null,galleryDomain:null,avestaEnvironment:null}})},"dojo/hash":function(){define("./_base/kernel require ./_base/config ./aspect ./_base/lang ./topic ./domReady ./sniff".split(" "),function(h,k,d,g,b,c,f,l){function e(a,b){var c=a.indexOf(b);return 0<=c?a.substring(c+1):""}function a(){return e(location.href,"#")}function m(){c.publish("/dojo/hashchange",a())}function n(){a()!==q&&(q=a(),m())}function p(a){if(r)if(r.isTransitioning())setTimeout(b.hitch(null,
p,a),v);else{var c=r.iframe.location.href,d=c.indexOf("?");r.iframe.location.replace(c.substring(0,d)+"?"+a)}else location.replace("#"+a),!s&&n()}function t(){function c(){q=a();l=t?q:e(s.href,"?");n=!1;p=null}var f=document.createElement("iframe"),g=d.dojoBlankHtmlUrl||k.toUrl("./resources/blank.html");f.id="dojo-hash-iframe";f.src=g+"?"+a();f.style.display="none";document.body.appendChild(f);this.iframe=h.global["dojo-hash-iframe"];var l,n,p,r,t,s=this.iframe.location;this.isTransitioning=function(){return n};
this.pollLocation=function(){if(!t)try{var d=e(s.href,"?");document.title!=r&&(r=this.iframe.document.title=document.title)}catch(h){t=!0}var k=a();if(n&&q===k)if(t||d===p)c(),m();else{setTimeout(b.hitch(this,this.pollLocation),0);return}else if(!(q===k&&(t||l===d))){if(q!==k){q=k;n=!0;p=k;f.src=g+"?"+p;t=!1;setTimeout(b.hitch(this,this.pollLocation),0);return}t||(location.href="#"+s.search.substring(1),c(),m())}setTimeout(b.hitch(this,this.pollLocation),v)};c();setTimeout(b.hitch(this,this.pollLocation),
v)}h.hash=function(b,c){if(!arguments.length)return a();"#"==b.charAt(0)&&(b=b.substring(1));c?p(b):location.href="#"+b;return b};var q,r,s,v=d.hashPollFrequency||100;f(function(){"onhashchange"in h.global&&(!l("ie")||8<=l("ie")&&"BackCompat"!=document.compatMode)?s=g.after(h.global,"onhashchange",m,!0):document.addEventListener?(q=a(),setInterval(n,v)):document.attachEvent&&(r=new t)});return h.hash})},"dojox/html/entities":function(){define(["dojo/_base/lang"],function(h){var k=h.getObject("dojox.html.entities",
!0),d=function(b,c){var d,g;if(c._encCache&&c._encCache.regexp&&c._encCache.mapper&&c.length==c._encCache.length)d=c._encCache.mapper,g=c._encCache.regexp;else{d={};g=["["];var e;for(e=0;e<c.length;e++)d[c[e][0]]="\x26"+c[e][1]+";",g.push(c[e][0]);g.push("]");g=RegExp(g.join(""),"g");c._encCache={mapper:d,regexp:g,length:c.length}}return b=b.replace(g,function(a){return d[a]})},g=function(b,c){var d,g;if(c._decCache&&c._decCache.regexp&&c._decCache.mapper&&c.length==c._decCache.length)d=c._decCache.mapper,
g=c._decCache.regexp;else{d={};g=["("];var e;for(e=0;e<c.length;e++){var a="\x26"+c[e][1]+";";e&&g.push("|");d[a]=c[e][0];g.push(a)}g.push(")");g=RegExp(g.join(""),"g");c._decCache={mapper:d,regexp:g,length:c.length}}return b=b.replace(g,function(a){return d[a]})};k.html=[["\x26","amp"],['"',"quot"],["\x3c","lt"],["\x3e","gt"],["\u00a0","nbsp"]];k.latin=[["\u00a1","iexcl"],["\u00a2","cent"],["\u00a3","pound"],["\u20ac","euro"],["\u00a4","curren"],["\u00a5","yen"],["\u00a6","brvbar"],["\u00a7","sect"],
["\u00a8","uml"],["\u00a9","copy"],["\u00aa","ordf"],["\u00ab","laquo"],["\u00ac","not"],["\u00ad","shy"],["\u00ae","reg"],["\u00af","macr"],["\u00b0","deg"],["\u00b1","plusmn"],["\u00b2","sup2"],["\u00b3","sup3"],["\u00b4","acute"],["\u00b5","micro"],["\u00b6","para"],["\u00b7","middot"],["\u00b8","cedil"],["\u00b9","sup1"],["\u00ba","ordm"],["\u00bb","raquo"],["\u00bc","frac14"],["\u00bd","frac12"],["\u00be","frac34"],["\u00bf","iquest"],["\u00c0","Agrave"],["\u00c1","Aacute"],["\u00c2","Acirc"],
["\u00c3","Atilde"],["\u00c4","Auml"],["\u00c5","Aring"],["\u00c6","AElig"],["\u00c7","Ccedil"],["\u00c8","Egrave"],["\u00c9","Eacute"],["\u00ca","Ecirc"],["\u00cb","Euml"],["\u00cc","Igrave"],["\u00cd","Iacute"],["\u00ce","Icirc"],["\u00cf","Iuml"],["\u00d0","ETH"],["\u00d1","Ntilde"],["\u00d2","Ograve"],["\u00d3","Oacute"],["\u00d4","Ocirc"],["\u00d5","Otilde"],["\u00d6","Ouml"],["\u00d7","times"],["\u00d8","Oslash"],["\u00d9","Ugrave"],["\u00da","Uacute"],["\u00db","Ucirc"],["\u00dc","Uuml"],["\u00dd",
"Yacute"],["\u00de","THORN"],["\u00df","szlig"],["\u00e0","agrave"],["\u00e1","aacute"],["\u00e2","acirc"],["\u00e3","atilde"],["\u00e4","auml"],["\u00e5","aring"],["\u00e6","aelig"],["\u00e7","ccedil"],["\u00e8","egrave"],["\u00e9","eacute"],["\u00ea","ecirc"],["\u00eb","euml"],["\u00ec","igrave"],["\u00ed","iacute"],["\u00ee","icirc"],["\u00ef","iuml"],["\u00f0","eth"],["\u00f1","ntilde"],["\u00f2","ograve"],["\u00f3","oacute"],["\u00f4","ocirc"],["\u00f5","otilde"],["\u00f6","ouml"],["\u00f7",
"divide"],["\u00f8","oslash"],["\u00f9","ugrave"],["\u00fa","uacute"],["\u00fb","ucirc"],["\u00fc","uuml"],["\u00fd","yacute"],["\u00fe","thorn"],["\u00ff","yuml"],["\u0192","fnof"],["\u0391","Alpha"],["\u0392","Beta"],["\u0393","Gamma"],["\u0394","Delta"],["\u0395","Epsilon"],["\u0396","Zeta"],["\u0397","Eta"],["\u0398","Theta"],["\u0399","Iota"],["\u039a","Kappa"],["\u039b","Lambda"],["\u039c","Mu"],["\u039d","Nu"],["\u039e","Xi"],["\u039f","Omicron"],["\u03a0","Pi"],["\u03a1","Rho"],["\u03a3",
"Sigma"],["\u03a4","Tau"],["\u03a5","Upsilon"],["\u03a6","Phi"],["\u03a7","Chi"],["\u03a8","Psi"],["\u03a9","Omega"],["\u03b1","alpha"],["\u03b2","beta"],["\u03b3","gamma"],["\u03b4","delta"],["\u03b5","epsilon"],["\u03b6","zeta"],["\u03b7","eta"],["\u03b8","theta"],["\u03b9","iota"],["\u03ba","kappa"],["\u03bb","lambda"],["\u03bc","mu"],["\u03bd","nu"],["\u03be","xi"],["\u03bf","omicron"],["\u03c0","pi"],["\u03c1","rho"],["\u03c2","sigmaf"],["\u03c3","sigma"],["\u03c4","tau"],["\u03c5","upsilon"],
["\u03c6","phi"],["\u03c7","chi"],["\u03c8","psi"],["\u03c9","omega"],["\u03d1","thetasym"],["\u03d2","upsih"],["\u03d6","piv"],["\u2022","bull"],["\u2026","hellip"],["\u2032","prime"],["\u2033","Prime"],["\u203e","oline"],["\u2044","frasl"],["\u2118","weierp"],["\u2111","image"],["\u211c","real"],["\u2122","trade"],["\u2135","alefsym"],["\u2190","larr"],["\u2191","uarr"],["\u2192","rarr"],["\u2193","darr"],["\u2194","harr"],["\u21b5","crarr"],["\u21d0","lArr"],["\u21d1","uArr"],["\u21d2","rArr"],
["\u21d3","dArr"],["\u21d4","hArr"],["\u2200","forall"],["\u2202","part"],["\u2203","exist"],["\u2205","empty"],["\u2207","nabla"],["\u2208","isin"],["\u2209","notin"],["\u220b","ni"],["\u220f","prod"],["\u2211","sum"],["\u2212","minus"],["\u2217","lowast"],["\u221a","radic"],["\u221d","prop"],["\u221e","infin"],["\u2220","ang"],["\u2227","and"],["\u2228","or"],["\u2229","cap"],["\u222a","cup"],["\u222b","int"],["\u2234","there4"],["\u223c","sim"],["\u2245","cong"],["\u2248","asymp"],["\u2260","ne"],
["\u2261","equiv"],["\u2264","le"],["\u2265","ge"],["\u2282","sub"],["\u2283","sup"],["\u2284","nsub"],["\u2286","sube"],["\u2287","supe"],["\u2295","oplus"],["\u2297","otimes"],["\u22a5","perp"],["\u22c5","sdot"],["\u2308","lceil"],["\u2309","rceil"],["\u230a","lfloor"],["\u230b","rfloor"],["\u2329","lang"],["\u232a","rang"],["\u25ca","loz"],["\u2660","spades"],["\u2663","clubs"],["\u2665","hearts"],["\u2666","diams"],["\u0152","OElig"],["\u0153","oelig"],["\u0160","Scaron"],["\u0161","scaron"],
["\u0178","Yuml"],["\u02c6","circ"],["\u02dc","tilde"],["\u2002","ensp"],["\u2003","emsp"],["\u2009","thinsp"],["\u200c","zwnj"],["\u200d","zwj"],["\u200e","lrm"],["\u200f","rlm"],["\u2013","ndash"],["\u2014","mdash"],["\u2018","lsquo"],["\u2019","rsquo"],["\u201a","sbquo"],["\u201c","ldquo"],["\u201d","rdquo"],["\u201e","bdquo"],["\u2020","dagger"],["\u2021","Dagger"],["\u2030","permil"],["\u2039","lsaquo"],["\u203a","rsaquo"]];k.encode=function(b,c){b&&(c?b=d(b,c):(b=d(b,k.html),b=d(b,k.latin)));
return b};k.decode=function(b,c){b&&(c?b=g(b,c):(b=g(b,k.html),b=g(b,k.latin)));return b};return k})},"d3/d3":function(){!function(){function h(a){return a&&(a.ownerDocument&&a.ownerDocument.defaultView||a.document&&a||a.defaultView)}function k(a,b){return a<b?-1:a>b?1:a>=b?0:NaN}function d(a){return null===a?NaN:+a}function g(a){return!isNaN(a)}function b(a){return{left:function(b,c,d,e){3>arguments.length&&(d=0);4>arguments.length&&(e=b.length);for(;d<e;){var f=d+e>>>1;0>a(b[f],c)?d=f+1:e=f}return d},
right:function(b,c,d,e){3>arguments.length&&(d=0);4>arguments.length&&(e=b.length);for(;d<e;){var f=d+e>>>1;0<a(b[f],c)?e=f:d=f+1}return d}}}function c(a){return a.length}function f(a,b){for(var c in b)Object.defineProperty(a.prototype,c,{value:b[c],enumerable:!1})}function l(){this._=Object.create(null)}function e(a){return(a+="")===uc||a[0]===Pe?Pe+a:a}function a(a){return(a+="")[0]===Pe?a.slice(1):a}function m(a){return e(a)in this._}function n(a){return(a=e(a))in this._&&delete this._[a]}function p(){var b=
[],c;for(c in this._)b.push(a(c));return b}function t(){var a=0,b;for(b in this._)++a;return a}function q(){for(var a in this._)return!1;return!0}function r(){this._=Object.create(null)}function s(a){return a}function v(a,b,c){return function(){var d=c.apply(b,arguments);return d===b?a:d}}function w(a,b){if(b in a)return b;b=b.charAt(0).toUpperCase()+b.slice(1);for(var c=0,d=Qe.length;c<d;++c){var e=Qe[c]+b;if(e in a)return e}}function u(){}function y(){}function x(a){function b(){for(var d=c,e=-1,
f=d.length,g;++e<f;)(g=d[e].on)&&g.apply(this,arguments);return a}var c=[],d=new l;b.on=function(b,e){var f=d.get(b),g;if(2>arguments.length)return f&&f.on;f&&(f.on=null,c=c.slice(0,g=c.indexOf(f)).concat(c.slice(g+1)),d.remove(b));e&&c.push(d.set(b,{on:e}));return a};return b}function A(){B.event.preventDefault()}function C(){for(var a=B.event,b;b=a.sourceEvent;)a=b;return a}function D(a){for(var b=new y,c=0,d=arguments.length;++c<d;)b[arguments[c]]=x(b);b.of=function(c,d){return function(e){try{var f=
e.sourceEvent=B.event;e.target=a;B.event=e;b[e.type].apply(c,d)}finally{B.event=f}}};return b}function E(a){sb(a,F);return a}function G(a){return"function"===typeof a?a:function(){return vc(a,this)}}function H(a){return"function"===typeof a?a:function(){return Re(a,this)}}function M(a,b){function c(){this.removeAttribute(a)}function d(){this.removeAttributeNS(a.space,a.local)}function e(){this.setAttribute(a,b)}function f(){this.setAttributeNS(a.space,a.local,b)}function g(){var c=b.apply(this,arguments);
null==c?this.removeAttribute(a):this.setAttribute(a,c)}function h(){var c=b.apply(this,arguments);null==c?this.removeAttributeNS(a.space,a.local):this.setAttributeNS(a.space,a.local,c)}a=B.ns.qualify(a);return null==b?a.local?d:c:"function"===typeof b?a.local?h:g:a.local?f:e}function J(a){return a.trim().replace(/\s+/g," ")}function S(a){return RegExp("(?:^|\\s+)"+B.requote(a)+"(?:\\s+|$)","g")}function W(a,b){function c(){for(var d=-1;++d<e;)a[d](this,b)}function d(){for(var c=-1,f=b.apply(this,
arguments);++c<e;)a[c](this,f)}a=(a+"").trim().split(/^|\s+/).map(X);var e=a.length;return"function"===typeof b?d:c}function X(a){var b=S(a);return function(c,d){if(e=c.classList)return d?e.add(a):e.remove(a);var e=c.getAttribute("class")||"";d?(b.lastIndex=0,b.test(e)||c.setAttribute("class",J(e+" "+a))):c.setAttribute("class",J(e.replace(b," ")))}}function K(a,b,c){function d(){this.style.removeProperty(a)}function e(){this.style.setProperty(a,b,c)}function f(){var d=b.apply(this,arguments);null==
d?this.style.removeProperty(a):this.style.setProperty(a,d,c)}return null==b?d:"function"===typeof b?f:e}function Q(a,b){function c(){delete this[a]}function d(){this[a]=b}function e(){var c=b.apply(this,arguments);null==c?delete this[a]:this[a]=c}return null==b?c:"function"===typeof b?e:d}function V(a){function b(){var c=this.ownerDocument,d=this.namespaceURI;return d?c.createElementNS(d,a):c.createElement(a)}function c(){return this.ownerDocument.createElementNS(a.space,a.local)}return"function"===
typeof a?a:(a=B.ns.qualify(a)).local?c:b}function ea(){var a=this.parentNode;a&&a.removeChild(this)}function L(a){return function(){return z(this,a)}}function N(a){arguments.length||(a=k);return function(b,c){return b&&c?a(b.__data__,c.__data__):!b-!c}}function I(a,b){for(var c=0,d=a.length;c<d;c++)for(var e=a[c],f=0,g=e.length,h;f<g;f++)(h=e[f])&&b(h,f,c);return a}function O(a){sb(a,ua);return a}function aa(a){var b,c;return function(d,e,f){d=a[f].update;var g=d.length;f!=c&&(c=f,b=0);for(e>=b&&
(b=e+1);!(e=d[b])&&++b<g;);return e}}function U(a,b,c){function d(){var b=this[g];b&&(this.removeEventListener(a,b,b.$),delete this[g])}function e(){var f=l(b,tb(arguments));d.call(this);this.addEventListener(a,this[g]=f,f.$=c);f._=b}function f(){var b=RegExp("^__on([^.]+)"+B.requote(a)+"$"),c,d;for(d in this)if(c=d.match(b)){var e=this[d];this.removeEventListener(c[1],e,e.$);delete this[d]}}var g="__on"+a,h=a.indexOf("."),l=T;0<h&&(a=a.slice(0,h));var z=ta.get(a);z&&(a=z,l=Y);return h?b?e:d:b?u:
f}function T(a,b){return function(c){var d=B.event;B.event=c;b[0]=this.__data__;try{a.apply(this,b)}finally{B.event=d}}}function Y(a,b){var c=T(a,b);return function(a){var b=a.relatedTarget;(!b||b!==this&&!(b.compareDocumentPosition(this)&8))&&c.call(this,a)}}function R(a){var b=".dragsuppress-"+ ++Vh,c="click"+b,d=B.select(h(a)).on("touchmove"+b,A).on("dragstart"+b,A).on("selectstart"+b,A);null==rd&&(rd="onselectstart"in a?!1:w(a.style,"userSelect"));if(rd){var e=(a&&(a.ownerDocument||a.document||
a).documentElement).style,f=e[rd];e[rd]="none"}return function(a){d.on(b,null);rd&&(e[rd]=f);if(a){var g=function(){d.on(c,null)};d.on(c,function(){A();g()},!0);setTimeout(g,0)}}}function $(a,b){b.changedTouches&&(b=b.changedTouches[0]);var c=a.ownerSVGElement||a;if(c.createSVGPoint){var d=c.createSVGPoint();if(0>Jg&&(c=h(a),c.scrollX||c.scrollY)){var c=B.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"),e=c[0][0].getScreenCTM();Jg=
!(e.f||e.e);c.remove()}Jg?(d.x=b.pageX,d.y=b.pageY):(d.x=b.clientX,d.y=b.clientY);d=d.matrixTransform(a.getScreenCTM().inverse());return[d.x,d.y]}d=a.getBoundingClientRect();return[b.clientX-d.left-a.clientLeft,b.clientY-d.top-a.clientTop]}function P(){return B.event.changedTouches[0].identifier}function ma(a,b,c){return(b[0]-a[0])*(c[1]-a[1])-(b[1]-a[1])*(c[0]-a[0])}function La(a){return 1<a?Ba:-1>a?-Ba:Math.asin(a)}function tc(a){return((a=Math.exp(a))+1/a)/2}function va(a){return(a=Math.sin(a/
2))*a}function Ra(){}function Sa(a,b,c){return this instanceof Sa?void(this.h=+a,this.s=+b,this.l=+c):2>arguments.length?a instanceof Sa?new Sa(a.h,a.s,a.l):Rc(""+a,Zb,Sa):new Sa(a,b,c)}function Xa(a,b,c){function d(a){360<a?a-=360:0>a&&(a+=360);return 60>a?e+(f-e)*a/60:180>a?f:240>a?e+(f-e)*(240-a)/60:e}var e,f;a=isNaN(a)?0:0>(a%=360)?a+360:a;b=isNaN(b)?0:0>b?0:1<b?1:b;c=0>c?0:1<c?1:c;f=0.5>=c?c*(1+b):c+b-c*b;e=2*c-f;return new Ma(Math.round(255*d(a+120)),Math.round(255*d(a)),Math.round(255*d(a-
120)))}function Ia(a,b,c){return this instanceof Ia?void(this.h=+a,this.c=+b,this.l=+c):2>arguments.length?a instanceof Ia?new Ia(a.h,a.c,a.l):a instanceof Ya?$b(a.l,a.a,a.b):$b((a=fb((a=B.rgb(a)).r,a.g,a.b)).l,a.a,a.b):new Ia(a,b,c)}function Yb(a,b,c){isNaN(a)&&(a=0);isNaN(b)&&(b=0);return new Ya(c,Math.cos(a*=ka)*b,Math.sin(a)*b)}function Ya(a,b,c){return this instanceof Ya?void(this.l=+a,this.a=+b,this.b=+c):2>arguments.length?a instanceof Ya?new Ya(a.l,a.a,a.b):a instanceof Ia?Yb(a.h,a.c,a.l):
fb((a=Ma(a)).r,a.g,a.b):new Ya(a,b,c)}function qd(a,b,c){a=(a+16)/116;c=a-c/200;b=Qc(a+b/500)*ph;a=Qc(a)*qh;c=Qc(c)*rh;return new Ma(Lb(3.2404542*b-1.5371385*a-0.4985314*c),Lb(-0.969266*b+1.8760108*a+0.041556*c),Lb(0.0556434*b-0.2040259*a+1.0572252*c))}function $b(a,b,c){return 0<a?new Ia(Math.atan2(c,b)*za,Math.sqrt(b*b+c*c),a):new Ia(NaN,NaN,a)}function Qc(a){return 0.206893034<a?a*a*a:(a-4/29)/7.787037}function Bb(a){return 0.008856<a?Math.pow(a,1/3):7.787037*a+4/29}function Lb(a){return Math.round(255*
(0.00304>=a?12.92*a:1.055*Math.pow(a,1/2.4)-0.055))}function Ma(a,b,c){return this instanceof Ma?void(this.r=~~a,this.g=~~b,this.b=~~c):2>arguments.length?a instanceof Ma?new Ma(a.r,a.g,a.b):Rc(""+a,Ma,Xa):new Ma(a,b,c)}function Mb(a){return new Ma(a>>16,a>>8&255,a&255)+""}function Na(a){return 16>a?"0"+Math.max(0,a).toString(16):Math.min(255,a).toString(16)}function Rc(a,b,c){a=a.toLowerCase();var d=0,e=0,f=0,g,h;if(g=/([a-z]+)\((.*)\)/.exec(a))switch(h=g[2].split(","),g[1]){case "hsl":return c(parseFloat(h[0]),
parseFloat(h[1])/100,parseFloat(h[2])/100);case "rgb":return b(bc(h[0]),bc(h[1]),bc(h[2]))}if(c=Jf.get(a))return b(c.r,c.g,c.b);if(null!=a&&"#"===a.charAt(0)&&!isNaN(c=parseInt(a.slice(1),16)))4===a.length?(d=(c&3840)>>4,d|=d>>4,e=c&240,e|=e>>4,f=c&15,f|=f<<4):7===a.length&&(d=(c&16711680)>>16,e=(c&65280)>>8,f=c&255);return b(d,e,f)}function Zb(a,b,c){var d=Math.min(a/=255,b/=255,c/=255),e=Math.max(a,b,c),f=e-d,g=(e+d)/2;f?(d=0.5>g?f/(e+d):f/(2-e-d),a=60*(a==e?(b-c)/f+(b<c?6:0):b==e?(c-a)/f+2:(a-
b)/f+4)):(a=NaN,d=0<g&&1>g?0:a);return new Sa(a,d,g)}function fb(a,b,c){a=cc(a);b=cc(b);c=cc(c);var d=Bb((0.4124564*a+0.3575761*b+0.1804375*c)/ph),e=Bb((0.2126729*a+0.7151522*b+0.072175*c)/qh);a=Bb((0.0193339*a+0.119192*b+0.9503041*c)/rh);return Ya(116*e-16,500*(d-e),200*(e-a))}function cc(a){return 0.04045>=(a/=255)?a/12.92:Math.pow((a+0.055)/1.055,2.4)}function bc(a){var b=parseFloat(a);return"%"===a.charAt(a.length-1)?Math.round(2.55*b):b}function sa(a){return"function"===typeof a?a:function(){return a}}
function ub(a){return function(b,c,d){2===arguments.length&&"function"===typeof c&&(d=c,c=null);return dc(b,c,a,d)}}function dc(a,b,c,d){function e(){var a=l.status,b,d;if(d=!a)d=(d=l.responseType)&&"text"!==d?l.response:l.responseText;if(d||200<=a&&300>a||304===a){try{b=c.call(f,l)}catch(h){g.error.call(f,h);return}g.load.call(f,b)}else g.error.call(f,l)}var f={},g=B.dispatch("beforesend","progress","load","error"),h={},l=new XMLHttpRequest,z=null;this.XDomainRequest&&(!("withCredentials"in l)&&
/^(http(s)?:)?\/\//.test(a))&&(l=new XDomainRequest);"onload"in l?l.onload=l.onerror=e:l.onreadystatechange=function(){3<l.readyState&&e()};l.onprogress=function(a){var b=B.event;B.event=a;try{g.progress.call(f,l)}finally{B.event=b}};f.header=function(a,b){a=(a+"").toLowerCase();if(2>arguments.length)return h[a];null==b?delete h[a]:h[a]=b+"";return f};f.mimeType=function(a){if(!arguments.length)return b;b=null==a?null:a+"";return f};f.responseType=function(a){if(!arguments.length)return z;z=a;return f};
f.response=function(a){c=a;return f};["get","post"].forEach(function(a){f[a]=function(){return f.send.apply(f,[a].concat(tb(arguments)))}});f.send=function(c,d,e){2===arguments.length&&"function"===typeof d&&(e=d,d=null);l.open(c,a,!0);null!=b&&!("accept"in h)&&(h.accept=b+",*/*");if(l.setRequestHeader)for(var k in h)l.setRequestHeader(k,h[k]);null!=b&&l.overrideMimeType&&l.overrideMimeType(b);null!=z&&(l.responseType=z);if(null!=e)f.on("error",e).on("load",function(a){e(null,a)});g.beforesend.call(f,
l);l.send(null==d?null:d);return f};f.abort=function(){l.abort();return f};B.rebind(f,g,"on");return null==d?f:f.get(ec(d))}function ec(a){return 1===a.length?function(b,c){a(null==b?c:null)}:a}function vb(){var a=gb(),a=sd()-a;24<a?(isFinite(a)&&(clearTimeout(Kf),Kf=setTimeout(vb,a)),Lf=0):(Lf=1,sh(vb))}function gb(){var a=Date.now();for(wc=Mf;wc;)a>=wc.t&&(wc.f=wc.c(a-wc.t)),wc=wc.n;return a}function sd(){for(var a,b=Mf,c=Infinity;b;)b.f?b=a?a.n=b.n:Mf=b.n:(b.t<c&&(c=b.t),b=(a=b).n);Nf=a;return c}
function da(a,b){return b-(a?Math.ceil(Math.log(a)/Math.LN10):1)}function td(a){var b=a.decimal,c=a.thousands,d=a.grouping,e=a.currency,f=d&&c?function(a,b){for(var e=a.length,f=[],g=0,h=d[0],l=0;0<e&&0<h;){l+h+1>b&&(h=Math.max(1,b-l));f.push(a.substring(e-=h,e+h));if((l+=h+1)>b)break;h=d[g=(g+1)%d.length]}return f.reverse().join(c)}:s;return function(a){a=th.exec(a);var c=a[1]||" ",d=a[2]||"\x3e",g=a[3]||"-",h=a[4]||"",l=a[5],z=+a[6],k=a[7],m=a[8],qa=a[9],n=1,p="",q="",F=!1,r=!0;m&&(m=+m.substring(1));
if(l||"0"===c&&"\x3d"===d)l=c="0",d="\x3d";switch(qa){case "n":k=!0;qa="g";break;case "%":n=100;q="%";qa="f";break;case "p":n=100;q="%";qa="r";break;case "b":case "o":case "x":case "X":"#"===h&&(p="0"+qa.toLowerCase());case "c":r=!1;case "d":F=!0;m=0;break;case "s":n=-1,qa="r"}"$"===h&&(p=e[0],q=e[1]);"r"==qa&&!m&&(qa="g");if(null!=m)if("g"==qa)m=Math.max(1,Math.min(21,m));else if("e"==qa||"f"==qa)m=Math.max(0,Math.min(20,m));var qa=Wh.get(qa)||Kg,t=l&&k;return function(a){var e=q;if(F&&a%1)return"";
var h=0>a||0===a&&0>1/a?(a=-a,"-"):"-"===g?"":g;0>n?(e=B.formatPrefix(a,m),a=e.scale(a),e=e.symbol+q):a*=n;a=qa(a,m);var s=a.lastIndexOf("."),x;0>s?(s=r?a.lastIndexOf("e"):-1,0>s?(x=a,a=""):(x=a.substring(0,s),a=a.substring(s))):(x=a.substring(0,s),a=b+a.substring(s+1));!l&&k&&(x=f(x,Infinity));var s=p.length+x.length+a.length+(t?0:h.length),v=s<z?Array(s=z-s+1).join(c):"";t&&(x=f(v+x,v.length?z-a.length:Infinity));h+=p;a=x+a;return("\x3c"===d?h+a+v:"\x3e"===d?v+h+a:"^"===d?v.substring(0,s>>=1)+h+
a+v.substring(s):h+(t?a:v+a))+e}}}function Kg(a){return a+""}function Ta(){this._=new Date(1<arguments.length?Date.UTC.apply(this,arguments):arguments[0])}function wb(a,b,c){function d(b){var c=a(b),e=f(c,1);return b-c<e-b?c:e}function e(c){b(c=a(new Ua(c-1)),1);return c}function f(a,c){b(a=new Ua(+a),c);return a}function g(a,d,f){a=e(a);var h=[];if(1<f)for(;a<d;)c(a)%f||h.push(new Date(+a)),b(a,1);else for(;a<d;)h.push(new Date(+a)),b(a,1);return h}a.floor=a;a.round=d;a.ceil=e;a.offset=f;a.range=
g;var h=a.utc=Nb(a);h.floor=h;h.round=Nb(d);h.ceil=Nb(e);h.offset=Nb(f);h.range=function(a,b,c){try{Ua=Ta;var d=new Ta;d._=a;return g(d,b,c)}finally{Ua=Date}};return a}function Nb(a){return function(b,c){try{Ua=Ta;var d=new Ta;d._=b;return a(d,c)._}finally{Ua=Date}}}function Sc(a){function b(a){function d(b){for(var c=[],f=-1,g=0,h,l;++f<e;)if(37===a.charCodeAt(f)){c.push(a.slice(g,f));if(null!=(h=uh[g=a.charAt(++f)]))g=a.charAt(++f);if(l=v[g])g=l(b,null==h?"e"===g?" ":"0":h);c.push(g);g=f+1}c.push(a.slice(g,
f));return c.join("")}var e=a.length;d.parse=function(b){var d={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(c(d,a,b,0)!=b.length)return null;"p"in d&&(d.H=d.H%12+12*d.p);b=null!=d.Z&&Ua!==Ta;var e=new (b?Ta:Ua);"j"in d?e.setFullYear(d.y,0,d.j):"w"in d&&("W"in d||"U"in d)?(e.setFullYear(d.y,0,1),e.setFullYear(d.y,0,"W"in d?(d.w+6)%7+7*d.W-(e.getDay()+5)%7:d.w+7*d.U-(e.getDay()+6)%7)):e.setFullYear(d.y,d.m,d.d);e.setHours(d.H+(d.Z/100|0),d.M+d.Z%100,d.S,d.L);return b?e._:e};d.toString=function(){return a};
return d}function c(a,b,d,e){for(var f,g=0,h=b.length,l=d.length;g<h;){if(e>=l)return-1;f=b.charCodeAt(g++);if(37===f){if(f=b.charAt(g++),f=y[f in uh?b.charAt(g++):f],!f||0>(e=f(a,d,e)))return-1}else if(f!=d.charCodeAt(e++))return-1}return e}var d=a.dateTime,e=a.date,f=a.time,g=a.periods,h=a.days,l=a.shortDays,z=a.months,k=a.shortMonths;b.utc=function(a){function c(a){try{Ua=Ta;var b=new Ua;b._=a;return d(b)}finally{Ua=Date}}var d=b(a);c.parse=function(a){try{Ua=Ta;var b=d.parse(a);return b&&b._}finally{Ua=
Date}};c.toString=d.toString;return c};b.multi=b.utc.multi=ge;var m=B.map(),n=Da(h),p=Ea(h),q=Da(l),F=Ea(l),r=Da(z),t=Ea(z),s=Da(k),x=Ea(k);g.forEach(function(a,b){m.set(a.toLowerCase(),b)});var v={a:function(a){return l[a.getDay()]},A:function(a){return h[a.getDay()]},b:function(a){return k[a.getMonth()]},B:function(a){return z[a.getMonth()]},c:b(d),d:function(a,b){return Aa(a.getDate(),b,2)},e:function(a,b){return Aa(a.getDate(),b,2)},H:function(a,b){return Aa(a.getHours(),b,2)},I:function(a,b){return Aa(a.getHours()%
12||12,b,2)},j:function(a,b){return Aa(1+ca.dayOfYear(a),b,3)},L:function(a,b){return Aa(a.getMilliseconds(),b,3)},m:function(a,b){return Aa(a.getMonth()+1,b,2)},M:function(a,b){return Aa(a.getMinutes(),b,2)},p:function(a){return g[+(12<=a.getHours())]},S:function(a,b){return Aa(a.getSeconds(),b,2)},U:function(a,b){return Aa(ca.sundayOfYear(a),b,2)},w:function(a){return a.getDay()},W:function(a,b){return Aa(ca.mondayOfYear(a),b,2)},x:b(e),X:b(f),y:function(a,b){return Aa(a.getFullYear()%100,b,2)},
Y:function(a,b){return Aa(a.getFullYear()%1E4,b,4)},Z:bb,"%":function(){return"%"}},y={a:function(a,b,c){q.lastIndex=0;return(b=q.exec(b.slice(c)))?(a.w=F.get(b[0].toLowerCase()),c+b[0].length):-1},A:function(a,b,c){n.lastIndex=0;return(b=n.exec(b.slice(c)))?(a.w=p.get(b[0].toLowerCase()),c+b[0].length):-1},b:function(a,b,c){s.lastIndex=0;return(b=s.exec(b.slice(c)))?(a.m=x.get(b[0].toLowerCase()),c+b[0].length):-1},B:function(a,b,c){r.lastIndex=0;return(b=r.exec(b.slice(c)))?(a.m=t.get(b[0].toLowerCase()),
c+b[0].length):-1},c:function(a,b,d){return c(a,v.c.toString(),b,d)},d:ud,e:ud,H:vd,I:vd,j:Of,L:Cb,m:wd,M:xd,p:function(a,b,c){b=m.get(b.slice(c,c+=2).toLowerCase());return null==b?-1:(a.p=b,c)},S:Se,U:Pf,w:Va,W:he,x:function(a,b,d){return c(a,v.x.toString(),b,d)},X:function(a,b,d){return c(a,v.X.toString(),b,d)},y:Ob,Y:hb,Z:fc,"%":Te};return b}function Aa(a,b,c){var d=0>a?"-":"";a=(d?-a:a)+"";var e=a.length;return d+(e<c?Array(c-e+1).join(b)+a:a)}function Da(a){return RegExp("^(?:"+a.map(B.requote).join("|")+
")","i")}function Ea(a){for(var b=new l,c=-1,d=a.length;++c<d;)b.set(a[c].toLowerCase(),c);return b}function Va(a,b,c){Ca.lastIndex=0;return(b=Ca.exec(b.slice(c,c+1)))?(a.w=+b[0],c+b[0].length):-1}function Pf(a,b,c){Ca.lastIndex=0;return(b=Ca.exec(b.slice(c)))?(a.U=+b[0],c+b[0].length):-1}function he(a,b,c){Ca.lastIndex=0;return(b=Ca.exec(b.slice(c)))?(a.W=+b[0],c+b[0].length):-1}function hb(a,b,c){Ca.lastIndex=0;return(b=Ca.exec(b.slice(c,c+4)))?(a.y=+b[0],c+b[0].length):-1}function Ob(a,b,c){Ca.lastIndex=
0;return(b=Ca.exec(b.slice(c,c+2)))?(a.y=+b[0]+(68<+b[0]?1900:2E3),c+b[0].length):-1}function fc(a,b,c){return/^[+-]\d{4}$/.test(b=b.slice(c,c+5))?(a.Z=-b,c+5):-1}function wd(a,b,c){Ca.lastIndex=0;return(b=Ca.exec(b.slice(c,c+2)))?(a.m=b[0]-1,c+b[0].length):-1}function ud(a,b,c){Ca.lastIndex=0;return(b=Ca.exec(b.slice(c,c+2)))?(a.d=+b[0],c+b[0].length):-1}function Of(a,b,c){Ca.lastIndex=0;return(b=Ca.exec(b.slice(c,c+3)))?(a.j=+b[0],c+b[0].length):-1}function vd(a,b,c){Ca.lastIndex=0;return(b=Ca.exec(b.slice(c,
c+2)))?(a.H=+b[0],c+b[0].length):-1}function xd(a,b,c){Ca.lastIndex=0;return(b=Ca.exec(b.slice(c,c+2)))?(a.M=+b[0],c+b[0].length):-1}function Se(a,b,c){Ca.lastIndex=0;return(b=Ca.exec(b.slice(c,c+2)))?(a.S=+b[0],c+b[0].length):-1}function Cb(a,b,c){Ca.lastIndex=0;return(b=Ca.exec(b.slice(c,c+3)))?(a.L=+b[0],c+b[0].length):-1}function bb(a){var b=a.getTimezoneOffset();a=0<b?"-":"+";var c=ia(b)/60|0,b=ia(b)%60;return a+Aa(c,"0",2)+Aa(b,"0",2)}function Te(a,b,c){vh.lastIndex=0;return(a=vh.exec(b.slice(c,
c+1)))?c+a[0].length:-1}function ge(a){for(var b=a.length,c=-1;++c<b;)a[c][0]=this(a[c][0]);return function(b){for(var c=0,d=a[c];!d[1](b);)d=a[++c];return d[0](b)}}function Ue(){}function Qf(a,b,c){var d=c.s=a+b,e=d-a;c.t=a-(d-e)+(b-e)}function Db(a,b){if(a&&wh.hasOwnProperty(a.type))wh[a.type](a,b)}function gc(a,b,c){var d=-1;c=a.length-c;var e;for(b.lineStart();++d<c;)e=a[d],b.point(e[0],e[1],e[2]);b.lineEnd()}function Ve(a,b){var c=-1,d=a.length;for(b.polygonStart();++c<d;)gc(a[c],b,1);b.polygonEnd()}
function Lg(){function a(b,c){b*=ka;c=c*ka/2+ja/4;var g=b-d,h=0<=g?1:-1,l=h*g,g=Math.cos(c),z=Math.sin(c),k=f*z,m=e*g+k*Math.cos(l),h=k*h*Math.sin(l);yd.add(Math.atan2(h,m));d=b;e=g;f=z}var b,c,d,e,f;xb.point=function(g,h){xb.point=a;d=(b=g)*ka;e=Math.cos(h=(c=h)*ka/2+ja/4);f=Math.sin(h)};xb.lineEnd=function(){a(b,c)}}function xc(a){var b=a[0];a=a[1];var c=Math.cos(a);return[c*Math.cos(b),c*Math.sin(b),Math.sin(a)]}function ie(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]}function hc(a,b){return[a[1]*
b[2]-a[2]*b[1],a[2]*b[0]-a[0]*b[2],a[0]*b[1]-a[1]*b[0]]}function We(a,b){a[0]+=b[0];a[1]+=b[1];a[2]+=b[2]}function ic(a,b){return[a[0]*b,a[1]*b,a[2]*b]}function Pb(a){var b=Math.sqrt(a[0]*a[0]+a[1]*a[1]+a[2]*a[2]);a[0]/=b;a[1]/=b;a[2]/=b}function zd(a){return[Math.atan2(a[1],a[0]),La(a[2])]}function yc(a,b){return ia(a[0]-b[0])<Z&&ia(a[1]-b[1])<Z}function je(a,b){a*=ka;var c=Math.cos(b*=ka);Tc(c*Math.cos(a),c*Math.sin(a),Math.sin(b))}function Tc(a,b,c){++Xe;zc+=(a-zc)/Xe;Ac+=(b-Ac)/Xe;jc+=(c-jc)/
Xe}function Rf(){function a(e,f){e*=ka;var g=Math.cos(f*=ka),h=g*Math.cos(e),g=g*Math.sin(e),l=Math.sin(f),z=Math.atan2(Math.sqrt((z=c*l-d*g)*z+(z=d*h-b*l)*z+(z=b*g-c*h)*z),b*h+c*g+d*l);ke+=z;Eb+=z*(b+(b=h));Fb+=z*(c+(c=g));ib+=z*(d+(d=l));Tc(b,c,d)}var b,c,d;Qb.point=function(e,f){e*=ka;var g=Math.cos(f*=ka);b=g*Math.cos(e);c=g*Math.sin(e);d=Math.sin(f);Qb.point=a;Tc(b,c,d)}}function Ye(){Qb.point=je}function Mg(){function a(b,c){b*=ka;var g=Math.cos(c*=ka),h=g*Math.cos(b),g=g*Math.sin(b),l=Math.sin(c),
z=e*l-f*g,k=f*h-d*l,m=d*g-e*h,qa=Math.sqrt(z*z+k*k+m*m),n=d*h+e*g+f*l,p=qa&&-(1<n?0:-1>n?ja:Math.acos(n))/qa,qa=Math.atan2(qa,n);Uc+=p*z;Vc+=p*k;kc+=p*m;ke+=qa;Eb+=qa*(d+(d=h));Fb+=qa*(e+(e=g));ib+=qa*(f+(f=l));Tc(d,e,f)}var b,c,d,e,f;Qb.point=function(g,h){b=g;c=h;Qb.point=a;g*=ka;var l=Math.cos(h*=ka);d=l*Math.cos(g);e=l*Math.sin(g);f=Math.sin(h);Tc(d,e,f)};Qb.lineEnd=function(){a(b,c);Qb.lineEnd=Ye;Qb.point=je}}function Ze(a,b){function c(d,e){return d=a(d,e),b(d[0],d[1])}a.invert&&b.invert&&(c.invert=
function(c,d){return c=b.invert(c,d),c&&a.invert(c[0],c[1])});return c}function Bc(){return!0}function le(a,b,c,d,e){var f=[],g=[];a.forEach(function(a){if(!(0>=(b=a.length-1))){var b,c=a[0],d=a[b];if(yc(c,d)){e.lineStart();for(d=0;d<b;++d)e.point((c=a[d])[0],c[1]);e.lineEnd()}else b=new Ad(c,a,null,!0),c=new Ad(c,null,b,!1),b.o=c,f.push(b),g.push(c),b=new Ad(d,a,null,!1),c=new Ad(d,null,b,!0),b.o=c,f.push(b),g.push(c)}});g.sort(b);Bd(f);Bd(g);if(f.length){a=0;b=c;for(c=g.length;a<c;++a)g[a].e=b=
!b;b=f[0];for(var h,l;;){for(var z=b,k=!0;z.v;)if((z=z.n)===b)return;h=z.z;e.lineStart();do{z.v=z.o.v=!0;if(z.e){if(k){a=0;for(c=h.length;a<c;++a)e.point((l=h[a])[0],l[1])}else d(z.x,z.n.x,1,e);z=z.n}else{if(k){h=z.p.z;for(a=h.length-1;0<=a;--a)e.point((l=h[a])[0],l[1])}else d(z.x,z.p.x,-1,e);z=z.p}z=z.o;h=z.z;k=!k}while(!z.v);e.lineEnd()}}}function Bd(a){if(b=a.length){for(var b,c=0,d=a[0],e;++c<b;)d.n=e=a[c],e.p=d,d=e;d.n=e=a[0];e.p=d}}function Ad(a,b,c,d){this.x=a;this.z=b;this.o=c;this.e=d;this.v=
!1;this.n=this.p=null}function $e(a,b,c,d){return function(e,f){function g(b,c){var d=e(b,c);a(b=d[0],c=d[1])&&f.point(b,c)}function h(a,b){var c=e(a,b);p.point(c[0],c[1])}function l(){F.point=h;p.lineStart()}function z(){F.point=g;p.lineEnd()}function k(a,b){y.push([a,b]);var c=e(a,b);s.point(c[0],c[1])}function m(){s.lineStart();y=[]}function n(){k(y[0][0],y[0][1]);s.lineEnd();var a=s.clean(),b=t.buffer(),c=b.length;y.pop();v.push(y);y=null;if(c)if(a&1){var a=b[0],c=a.length-1,b=-1,d;if(0<c){x||
(f.polygonStart(),x=!0);for(f.lineStart();++b<c;)f.point((d=a[b])[0],d[1]);f.lineEnd()}}else 1<c&&a&2&&b.push(b.pop().concat(b.shift())),r.push(b.filter(af))}var p=b(f),q=e.invert(d[0],d[1]),F={point:g,lineStart:l,lineEnd:z,polygonStart:function(){F.point=k;F.lineStart=m;F.lineEnd=n;r=[];v=[]},polygonEnd:function(){F.point=g;F.lineStart=l;F.lineEnd=z;r=B.merge(r);var a,b=q;a=v;var d=b[0],e=b[1],h=[Math.sin(d),-Math.cos(d),0],k=0,m=0;yd.reset();for(var qa=0,n=a.length;qa<n;++qa){var p=a[qa],t=p.length;
if(t)for(var s=p[0],y=s[0],b=s[1]/2+ja/4,u=Math.sin(b),w=Math.cos(b),C=1;;){C===t&&(C=0);var b=p[C],A=b[0],oa=b[1]/2+ja/4,ac=Math.sin(oa),oa=Math.cos(oa),ta=A-y,ua=0<=ta?1:-1,D=ua*ta,Hf=D>ja,u=u*ac;yd.add(Math.atan2(u*ua*Math.sin(D),w*oa+u*Math.cos(D)));k+=Hf?ta+ua*yb:ta;if(Hf^y>=d^A>=d&&(s=hc(xc(s),xc(b)),Pb(s),y=hc(h,s),Pb(y),y=(Hf^0<=ta?-1:1)*La(y[2]),e>y||e===y&&(s[0]||s[1])))m+=Hf^0<=ta?1:-1;if(!C++)break;y=A;u=ac;w=oa;s=b}}a=(k<-Z||k<Z&&0>yd)^m&1;r.length?(x||(f.polygonStart(),x=!0),le(r,Sf,
a,c,f)):a&&(x||(f.polygonStart(),x=!0),f.lineStart(),c(null,null,1,f),f.lineEnd());x&&(f.polygonEnd(),x=!1);r=v=null},sphere:function(){f.polygonStart();f.lineStart();c(null,null,1,f);f.lineEnd();f.polygonEnd()}},r,t=bf(),s=b(t),x=!1,v,y;return F}}function af(a){return 1<a.length}function bf(){var a=[],b;return{lineStart:function(){a.push(b=[])},point:function(a,c){b.push([a,c])},lineEnd:u,buffer:function(){var c=a;a=[];b=null;return c},rejoin:function(){1<a.length&&a.push(a.pop().concat(a.shift()))}}}
function Sf(a,b){return(0>(a=a.x)[0]?a[1]-Ba-Z:Ba-a[1])-(0>(b=b.x)[0]?b[1]-Ba-Z:Ba-b[1])}function Wc(a){function b(a,c){return Math.cos(a)*Math.cos(c)>e}function c(a,b,d){var f=xc(a),g=xc(b),h=[1,0,0],g=hc(f,g),l=ie(g,g),f=g[0],z=l-f*f;if(!z)return!d&&a;l=e*l/z;z=-e*f/z;f=hc(h,g);h=ic(h,l);g=ic(g,z);We(h,g);g=ie(h,f);l=ie(f,f);z=g*g-l*(ie(h,h)-1);if(!(0>z)){var k=Math.sqrt(z),z=ic(f,(-g-k)/l);We(z,h);z=zd(z);if(!d)return z;d=a[0];var m=b[0];a=a[1];b=b[1];var qa;m<d&&(qa=d,d=m,m=qa);var n=m-d,p=ia(n-
ja)<Z,q=p||n<Z;!p&&b<a&&(qa=a,a=b,b=qa);if(q?p?0<a+b^z[1]<(ia(z[0]-d)<Z?a:b):a<=z[1]&&z[1]<=b:n>ja^(d<=z[0]&&z[0]<=m))return b=ic(f,(-g+k)/l),We(b,h),[z,zd(b)]}}function d(b,c){var e=f?a:ja-a,g=0;b<-e?g|=1:b>e&&(g|=2);c<-e?g|=4:c>e&&(g|=8);return g}var e=Math.cos(a),f=0<e,g=ia(e)>Z,h=me(a,6*ka);return $e(b,function(a){var e,h,l,z,k;return{lineStart:function(){z=l=!1;k=1},point:function(m,qa){var n=[m,qa],p,q=b(m,qa),F=f?q?0:d(m,qa):q?d(m+(0>m?ja:-ja),qa):0;!e&&(z=l=q)&&a.lineStart();if(q!==l&&(p=
c(e,n),yc(e,p)||yc(n,p)))n[0]+=Z,n[1]+=Z,q=b(n[0],n[1]);if(q!==l)k=0,q?(a.lineStart(),p=c(n,e),a.point(p[0],p[1])):(p=c(e,n),a.point(p[0],p[1]),a.lineEnd()),e=p;else if(g&&e&&f^q){var r;if(!(F&h)&&(r=c(n,e,!0)))k=0,f?(a.lineStart(),a.point(r[0][0],r[0][1]),a.point(r[1][0],r[1][1]),a.lineEnd()):(a.point(r[1][0],r[1][1]),a.lineEnd(),a.lineStart(),a.point(r[0][0],r[0][1]))}q&&(!e||!yc(e,n))&&a.point(n[0],n[1]);e=n;l=q;h=F},lineEnd:function(){l&&a.lineEnd();e=null},clean:function(){return k|(z&&l)<<1}}},
h,f?[0,-a]:[-ja,a-ja])}function cf(a,b,c,d){return function(e){var f=e.a,g=e.b,h=f.x,f=f.y,l=0,z=1,k=g.x-h,g=g.y-f,m;m=a-h;if(k||!(0<m)){m/=k;if(0>k){if(m<l)return;m<z&&(z=m)}else if(0<k){if(m>z)return;m>l&&(l=m)}m=c-h;if(k||!(0>m)){m/=k;if(0>k){if(m>z)return;m>l&&(l=m)}else if(0<k){if(m<l)return;m<z&&(z=m)}m=b-f;if(g||!(0<m)){m/=g;if(0>g){if(m<l)return;m<z&&(z=m)}else if(0<g){if(m>z)return;m>l&&(l=m)}m=d-f;if(g||!(0>m)){m/=g;if(0>g){if(m>z)return;m>l&&(l=m)}else if(0<g){if(m<l)return;m<z&&(z=m)}0<
l&&(e.a={x:h+l*k,y:f+l*g});1>z&&(e.b={x:h+z*k,y:f+z*g});return e}}}}}}function Cd(a,b,c,d){function e(d,f){return ia(d[0]-a)<Z?0<f?0:3:ia(d[0]-c)<Z?0<f?2:1:ia(d[1]-b)<Z?0<f?1:0:0<f?3:2}function f(a,b){return g(a.x,b.x)}function g(a,b){var c=e(a,1),d=e(b,1);return c!==d?c-d:0===c?b[1]-a[1]:1===c?a[0]-b[0]:2===c?a[1]-b[1]:b[0]-a[0]}return function(h){function l(f,h,z,k){var m=0,n=0;if(null==f||(m=e(f,z))!==(n=e(h,z))||0>g(f,h)^0<z){do k.point(0===m||3===m?a:c,1<m?d:b);while((m=(m+z+4)%4)!==n)}else k.point(h[0],
h[1])}function z(e,f){a<=e&&(e<=c&&b<=f&&f<=d)&&h.point(e,f)}function k(e,f){e=Math.max(-Tf,Math.min(Tf,e));f=Math.max(-Tf,Math.min(Tf,f));var g=a<=e&&e<=c&&b<=f&&f<=d;F&&r.push([e,f]);if(C)s=e,x=f,v=g,C=!1,g&&(h.lineStart(),h.point(e,f));else if(g&&w)h.point(e,f);else{var l={a:{x:y,y:u},b:{x:e,y:f}};p(l)?(w||(h.lineStart(),h.point(l.a.x,l.a.y)),h.point(l.b.x,l.b.y),g||h.lineEnd(),A=!1):g&&(h.lineStart(),h.point(e,f),A=!1)}y=e;u=f;w=g}var m=h,n=bf(),p=cf(a,b,c,d),q,F,r,t={point:z,lineStart:function(){t.point=
k;F&&F.push(r=[]);C=!0;w=!1;y=u=NaN},lineEnd:function(){q&&(k(s,x),v&&w&&n.rejoin(),q.push(n.buffer()));t.point=z;w&&h.lineEnd()},polygonStart:function(){h=n;q=[];F=[];A=!0},polygonEnd:function(){h=m;q=B.merge(q);var b;b=[a,d];for(var c=0,e=F.length,g=b[1],z=0;z<e;++z)for(var k=1,n=F[z],p=n.length,t=n[0],s;k<p;++k)s=n[k],t[1]<=g?s[1]>g&&0<ma(t,s,b)&&++c:s[1]<=g&&0>ma(t,s,b)&&--c,t=s;b=0!==c;c=A&&b;e=q.length;if(c||e)h.polygonStart(),c&&(h.lineStart(),l(null,null,1,h),h.lineEnd()),e&&le(q,f,b,l,h),
h.polygonEnd();q=F=r=null}},s,x,v,y,u,w,C,A;return t}}function ne(a){var b=0,c=ja/3,d=Dd(a);a=d(b,c);a.parallels=function(a){return!arguments.length?[180*(b/ja),180*(c/ja)]:d(b=a[0]*ja/180,c=a[1]*ja/180)};return a}function Xc(a,b){function c(a,b){var d=Math.sqrt(f-2*e*Math.sin(b))/e;return[d*Math.sin(a*=e),g-d*Math.cos(a)]}var d=Math.sin(a),e=(d+Math.sin(b))/2,f=1+d*(2*e-d),g=Math.sqrt(f)/e;c.invert=function(a,b){var c=g-b;return[Math.atan2(a,c)/e,La((f-(a*a+c*c)*e*e)/(2*e))]};return c}function Ng(){function a(b,
c){Uf+=e*b-d*c;d=b;e=c}var b,c,d,e;Yc.point=function(f,g){Yc.point=a;b=d=f;c=e=g};Yc.lineEnd=function(){a(b,c)}}function oe(){function a(b,c){g.push("M",b,",",c,f)}function b(a,d){g.push("M",a,",",d);h.point=c}function c(a,b){g.push("L",a,",",b)}function d(){h.point=a}function e(){g.push("Z")}var f=Ed(4.5),g=[],h={point:a,lineStart:function(){h.point=b},lineEnd:d,polygonStart:function(){h.lineEnd=e},polygonEnd:function(){h.lineEnd=d;h.point=a},pointRadius:function(a){f=Ed(a);return h},result:function(){if(g.length){var a=
g.join("");g=[];return a}}};return h}function Ed(a){return"m0,"+a+"a"+a+","+a+" 0 1,1 0,"+-2*a+"a"+a+","+a+" 0 1,1 0,"+2*a+"z"}function Gb(a,b){zc+=a;Ac+=b;++jc}function Cc(){function a(d,e){var f=d-b,g=e-c,f=Math.sqrt(f*f+g*g);Eb+=f*(b+d)/2;Fb+=f*(c+e)/2;ib+=f;Gb(b=d,c=e)}var b,c;Rb.point=function(d,e){Rb.point=a;Gb(b=d,c=e)}}function Fd(){Rb.point=Gb}function Gd(){function a(b,c){var f=b-d,g=c-e,f=Math.sqrt(f*f+g*g);Eb+=f*(d+b)/2;Fb+=f*(e+c)/2;ib+=f;f=e*b-d*c;Uc+=f*(d+b);Vc+=f*(e+c);kc+=3*f;Gb(d=
b,e=c)}var b,c,d,e;Rb.point=function(f,g){Rb.point=a;Gb(b=d=f,c=e=g)};Rb.lineEnd=function(){a(b,c)}}function pe(a){function b(c,d){a.moveTo(c+g,d);a.arc(c,d,g,0,yb)}function c(b,e){a.moveTo(b,e);h.point=d}function d(b,c){a.lineTo(b,c)}function e(){h.point=b}function f(){a.closePath()}var g=4.5,h={point:b,lineStart:function(){h.point=c},lineEnd:e,polygonStart:function(){h.lineEnd=f},polygonEnd:function(){h.lineEnd=e;h.point=b},pointRadius:function(a){g=a;return h},result:u};return h}function Dc(a){function b(a){return(h?
d:c)(a)}function c(b){return qe(b,function(c,d){c=a(c,d);b.point(c[0],c[1])})}function d(b){function c(d,e){d=a(d,e);b.point(d[0],d[1])}function f(){x=NaN;C.point=g;b.lineStart()}function g(c,d){var f=xc([c,d]),l=a(c,d);e(x,v,s,y,u,w,x=l[0],v=l[1],s=c,y=f[0],u=f[1],w=f[2],h,b);b.point(x,v)}function l(){C.point=c;b.lineEnd()}function z(){f();C.point=k;C.lineEnd=m}function k(a,b){g(n=a,b);p=x;q=v;F=y;r=u;t=w;C.point=g}function m(){e(x,v,s,y,u,w,p,q,n,F,r,t,h,b);C.lineEnd=l;l()}var n,p,q,F,r,t,s,x,v,
y,u,w,C={point:c,lineStart:f,lineEnd:l,polygonStart:function(){b.polygonStart();C.lineStart=z},polygonEnd:function(){b.polygonEnd();C.lineStart=f}};return C}function e(b,c,d,h,l,z,k,m,n,p,q,F,r,t){var s=k-b,x=m-c,v=s*s+x*x;if(v>4*f&&r--){var y=h+p,u=l+q,w=z+F,C=Math.sqrt(y*y+u*u+w*w),A=Math.asin(w/=C),oa=ia(ia(w)-1)<Z||ia(d-n)<Z?(d+n)/2:Math.atan2(u,y),ac=a(oa,A),A=ac[0],ac=ac[1],oh=A-b,ta=ac-c,ua=x*oh-s*ta;if(ua*ua/v>f||0.3<ia((s*oh+x*ta)/v-0.5)||h*p+l*q+z*F<g)e(b,c,d,h,l,z,A,ac,oa,y/=C,u/=C,w,r,
t),t.point(A,ac),e(A,ac,oa,y,u,w,k,m,n,p,q,F,r,t)}}var f=0.5,g=Math.cos(30*ka),h=16;b.precision=function(a){if(!arguments.length)return Math.sqrt(f);h=0<(f=a*a)&&16;return b};return b}function df(a){var b=Dc(function(b,c){return a([b*za,c*za])});return function(a){return Ec(b(a))}}function ef(a){this.stream=a}function qe(a,b){return{point:b,sphere:function(){a.sphere()},lineStart:function(){a.lineStart()},lineEnd:function(){a.lineEnd()},polygonStart:function(){a.polygonStart()},polygonEnd:function(){a.polygonEnd()}}}
function la(a){return Dd(function(){return a})()}function Dd(a){function b(a){a=h(a[0]*ka,a[1]*ka);return[a[0]*z+t,x-a[1]*z]}function c(a){return(a=h.invert((a[0]-t)/z,(x-a[1])/z))&&[a[0]*za,a[1]*za]}function d(){h=Ze(g=ff(q,F,r),f);var a=f(n,p);t=k-a[0]*z;x=m+a[1]*z;return e()}function e(){C&&(C.valid=!1,C=null);return b}var f,g,h,l=Dc(function(a,b){a=f(a,b);return[a[0]*z+t,x-a[1]*z]}),z=150,k=480,m=250,n=0,p=0,q=0,F=0,r=0,t,x,v=xh,y=s,u=null,w=null,C;b.stream=function(a){C&&(C.valid=!1);C=Ec(v(g,
l(y(a))));C.valid=!0;return C};b.clipAngle=function(a){if(!arguments.length)return u;v=null==a?(u=a,xh):Wc((u=+a)*ka);return e()};b.clipExtent=function(a){if(!arguments.length)return w;y=(w=a)?Cd(a[0][0],a[0][1],a[1][0],a[1][1]):s;return e()};b.scale=function(a){if(!arguments.length)return z;z=+a;return d()};b.translate=function(a){if(!arguments.length)return[k,m];k=+a[0];m=+a[1];return d()};b.center=function(a){if(!arguments.length)return[n*za,p*za];n=a[0]%360*ka;p=a[1]%360*ka;return d()};b.rotate=
function(a){if(!arguments.length)return[q*za,F*za,r*za];q=a[0]%360*ka;F=a[1]%360*ka;r=2<a.length?a[2]%360*ka:0;return d()};B.rebind(b,l,"precision");return function(){f=a.apply(this,arguments);b.invert=f.invert&&c;return d()}}function Ec(a){return qe(a,function(b,c){a.point(b*ka,c*ka)})}function Hd(a,b){return[a,b]}function gf(a,b){return[a>ja?a-yb:a<-ja?a+yb:a,b]}function ff(a,b,c){return a?b||c?Ze(Zc(a),re(b,c)):Zc(a):b||c?re(b,c):gf}function Id(a){return function(b,c){return b+=a,[b>ja?b-yb:b<
-ja?b+yb:b,c]}}function Zc(a){var b=Id(a);b.invert=Id(-a);return b}function re(a,b){function c(a,b){var h=Math.cos(b),l=Math.cos(a)*h,h=Math.sin(a)*h,z=Math.sin(b),k=z*d+l*e;return[Math.atan2(h*f-k*g,l*d-z*e),La(k*f+h*g)]}var d=Math.cos(a),e=Math.sin(a),f=Math.cos(b),g=Math.sin(b);c.invert=function(a,b){var c=Math.cos(b),h=Math.cos(a)*c,c=Math.sin(a)*c,l=Math.sin(b),z=l*f-c*g;return[Math.atan2(c*f+l*g,h*d+z*e),La(z*d-h*e)]};return c}function me(a,b){var c=Math.cos(a),d=Math.sin(a);return function(e,
f,g,h){var l=g*b;if(null!=e){if(e=hf(c,e),f=hf(c,f),0<g?e<f:e>f)e+=g*yb}else e=a+g*yb,f=a-0.5*l;for(var z;0<g?e>f:e<f;e-=l)h.point((z=zd([c,-d*Math.cos(e),-d*Math.sin(e)]))[0],z[1])}}function hf(a,b){var c=xc(b);c[0]-=a;Pb(c);var d=1<-c[1]?0:-1>-c[1]?ja:Math.acos(-c[1]);return((0>-c[2]?-d:d)+2*Math.PI-Z)%(2*Math.PI)}function Vf(a,b,c){var d=B.range(a,b-Z,c).concat(b);return function(a){return d.map(function(b){return[a,b]})}}function jf(a,b,c){var d=B.range(a,b-Z,c).concat(b);return function(a){return d.map(function(b){return[b,
a]})}}function se(a){return a.source}function te(a){return a.target}function Fc(a,b,c,d){var e=Math.cos(b),f=Math.sin(b),g=Math.cos(d),h=Math.sin(d),l=e*Math.cos(a),z=e*Math.sin(a),k=g*Math.cos(c),m=g*Math.sin(c),n=2*Math.asin(Math.sqrt(va(d-b)+e*g*va(c-a))),p=1/Math.sin(n);c=n?function(a){var b=Math.sin(a*=n)*p,c=Math.sin(n-a)*p;a=c*l+b*k;var d=c*z+b*m,b=c*f+b*h;return[Math.atan2(d,a)*za,Math.atan2(b,Math.sqrt(a*a+d*d))*za]}:function(){return[a*za,b*za]};c.distance=n;return c}function $c(a,b){function c(b,
d){var e=Math.cos(b),f=Math.cos(d),e=a(e*f);return[e*f*Math.sin(b),e*Math.sin(d)]}c.invert=function(a,c){var d=Math.sqrt(a*a+c*c),e=b(d),f=Math.sin(e),e=Math.cos(e);return[Math.atan2(a*f,d*e),Math.asin(d&&c*f/d)]};return c}function zb(a,b){function c(a,b){0<f?b<-Ba+Z&&(b=-Ba+Z):b>Ba-Z&&(b=Ba-Z);var d=f/Math.pow(Math.tan(ja/4+b/2),e);return[d*Math.sin(e*a),f-d*Math.cos(e*a)]}var d=Math.cos(a),e=a===b?Math.sin(a):Math.log(d/Math.cos(b))/Math.log(Math.tan(ja/4+b/2)/Math.tan(ja/4+a/2)),f=d*Math.pow(Math.tan(ja/
4+a/2),e)/e;if(!e)return Jd;c.invert=function(a,b){var c=f-b,d=(0<e?1:0>e?-1:0)*Math.sqrt(a*a+c*c);return[Math.atan2(a,c)/e,2*Math.atan(Math.pow(f/d,1/e))-Ba]};return c}function ue(a,b){function c(a,b){var d=f-b;return[d*Math.sin(e*a),f-d*Math.cos(e*a)]}var d=Math.cos(a),e=a===b?Math.sin(a):(d-Math.cos(b))/(b-a),f=d/e+a;if(ia(e)<Z)return Hd;c.invert=function(a,b){var c=f-b;return[Math.atan2(a,c)/e,f-(0<e?1:0>e?-1:0)*Math.sqrt(a*a+c*c)]};return c}function Jd(a,b){return[a,Math.log(Math.tan(ja/4+b/
2))]}function lc(a){var b=la(a),c=b.scale,d=b.translate,e=b.clipExtent,f;b.scale=function(){var a=c.apply(b,arguments);return a===b?f?b.clipExtent(null):b:a};b.translate=function(){var a=d.apply(b,arguments);return a===b?f?b.clipExtent(null):b:a};b.clipExtent=function(a){var g=e.apply(b,arguments);if(g===b){if(f=null==a){var h=ja*c(),l=d();e([[l[0]-h,l[1]-h],[l[0]+h,l[1]+h]])}}else f&&(g=null);return g};return b.clipExtent(null)}function Kd(a,b){return[Math.log(Math.tan(ja/4+b/2)),-a]}function Hb(a){return a[0]}
function Ld(a){return a[1]}function kf(a){for(var b=a.length,c=[0,1],d=2,e=2;e<b;e++){for(;1<d&&0>=ma(a[c[d-2]],a[c[d-1]],a[e]);)--d;c[d++]=e}return c.slice(0,d)}function Wf(a,b){return a[0]-b[0]||a[1]-b[1]}function Md(a,b,c){return(c[0]-b[0])*(a[1]-b[1])<(c[1]-b[1])*(a[0]-b[0])}function ve(a,b,c,d){var e=a[0],f=c[0],g=b[0]-e,h=d[0]-f;a=a[1];c=c[1];b=b[1]-a;d=d[1]-c;f=(h*(a-c)-d*(e-f))/(d*g-h*b);return[e+f*g,a+f*b]}function lf(a){var b=a[0];a=a[a.length-1];return!(b[0]-a[0]||b[1]-a[1])}function Xf(){ad(this);
this.edge=this.site=this.circle=null}function we(a){var b=yh.pop()||new Xf;b.site=a;return b}function xe(a){Gc(a);ye.remove(a);yh.push(a);ad(a)}function mf(a,b){var c=a.site,d=c.x,e=c.y,f=e-b;if(!f)return d;var g=a.P;if(!g)return-Infinity;var c=g.site,g=c.x,c=c.y,h=c-b;if(!h)return g;var l=g-d,z=1/f-1/h,k=l/h;return z?(-k+Math.sqrt(k*k-2*z*(l*l/(-2*h)-c+h/2+e-f/2)))/z+d:(d+g)/2}function Yf(a){this.site=a;this.edges=[]}function Zf(a,b){return b.angle-a.angle}function Og(){ad(this);this.x=this.y=this.arc=
this.site=this.cy=null}function Hc(a){var b=a.P,c=a.N;if(b&&c){var d=b.site,b=a.site,e=c.site;if(d!==e){var c=b.x,f=b.y,g=d.x-c,h=d.y-f,d=e.x-c,e=e.y-f,l=2*(g*e-h*d);if(!(l>=-Pg)){var z=g*g+h*h,k=d*d+e*e,h=(e*z-h*k)/l,g=(g*k-d*z)/l,e=g+f,f=zh.pop()||new Og;f.arc=a;f.site=b;f.x=h+c;f.y=e+Math.sqrt(h*h+g*g);f.cy=e;a.circle=f;a=null;for(b=nf._;b;)if(f.y<b.y||f.y===b.y&&f.x<=b.x)if(b.L)b=b.L;else{a=b.P;break}else if(b.R)b=b.R;else{a=b;break}nf.insert(a,f);a||(Qg=f)}}}}function Gc(a){var b=a.circle;b&&
(b.P||(Qg=b.N),nf.remove(b),zh.push(b),ad(b),a.circle=null)}function of(a,b){var c=a.b;if(c)return!0;var d=a.a,c=b[0][0],e=b[1][0],f=b[0][1],g=b[1][1],h=a.l,l=a.r,z=h.x,h=h.y,k=l.x,l=l.y,m=(z+k)/2,n;if(l===h){if(m<c||m>=e)return;if(z>k){if(d){if(d.y>=g)return}else d={x:m,y:f};c={x:m,y:g}}else{if(d){if(d.y<f)return}else d={x:m,y:g};c={x:m,y:f}}}else if(n=(z-k)/(l-h),m=(h+l)/2-n*m,-1>n||1<n)if(z>k){if(d){if(d.y>=g)return}else d={x:(f-m)/n,y:f};c={x:(g-m)/n,y:g}}else{if(d){if(d.y<f)return}else d={x:(g-
m)/n,y:g};c={x:(f-m)/n,y:f}}else if(h<l){if(d){if(d.x>=e)return}else d={x:c,y:n*c+m};c={x:e,y:n*e+m}}else{if(d){if(d.x<c)return}else d={x:e,y:n*e+m};c={x:c,y:n*c+m}}a.a=d;a.b=c;return!0}function bd(a,b){this.l=a;this.r=b;this.a=this.b=null}function Sb(a,b,c,d){var e=new bd(a,b);ze.push(e);c&&Nd(e,a,b,c);d&&Nd(e,b,a,d);Od[a.i].edges.push(new ha(e,a,b));Od[b.i].edges.push(new ha(e,b,a));return e}function Ic(a,b,c){a=new bd(a,null);a.a=b;a.b=c;ze.push(a);return a}function Nd(a,b,c,d){!a.a&&!a.b?(a.a=
d,a.l=b,a.r=c):a.l===c?a.b=d:a.a=d}function ha(a,b,c){var d=a.a,e=a.b;this.edge=a;this.site=b;this.angle=c?Math.atan2(c.y-b.y,c.x-b.x):a.l===b?Math.atan2(e.x-d.x,d.y-e.y):Math.atan2(d.x-e.x,e.y-d.y)}function Jc(){this._=null}function ad(a){a.U=a.C=a.L=a.R=a.P=a.N=null}function Za(a,b){var c=b.R,d=b.U;d?d.L===b?d.L=c:d.R=c:a._=c;c.U=d;b.U=c;b.R=c.L;b.R&&(b.R.U=b);c.L=b}function xa(a,b){var c=b.L,d=b.U;d?d.L===b?d.L=c:d.R=c:a._=c;c.U=d;b.U=c;b.L=c.R;b.L&&(b.L.U=b);c.R=b}function mc(a){for(;a.L;)a=a.L;
return a}function jb(a,b){var c=a.sort(Ib).pop(),d,e,f;ze=[];Od=Array(a.length);ye=new Jc;for(nf=new Jc;;)if(f=Qg,c&&(!f||c.y<f.y||c.y===f.y&&c.x<f.x)){if(c.x!==d||c.y!==e){Od[c.i]=new Yf(c);d=c;for(var g=d.x,h=d.y,l=f=e=void 0,z=void 0,k=ye._;k;)if(l=mf(k,h)-g,l>Z)k=k.L;else{var z=g,m;var n=k;m=h;var p=n.N;p?m=mf(p,m):(n=n.site,m=n.y===m?n.x:Infinity);z-=m;if(z>Z){if(!k.R){e=k;break}k=k.R}else{l>-Z?(e=k.P,f=k):z>-Z?(e=k,f=k.N):e=f=k;break}}g=we(d);ye.insert(e,g);if(e||f)if(e===f)Gc(e),f=we(e.site),
ye.insert(g,f),g.edge=f.edge=Sb(e.site,g.site),Hc(e),Hc(f);else if(f){Gc(e);Gc(f);h=e.site;k=h.x;z=h.y;m=d.x-k;var n=d.y-z,l=f.site,p=l.x-k,q=l.y-z,F=2*(m*q-n*p),r=m*m+n*n,t=p*p+q*q,k={x:(q*r-n*t)/F+k,y:(m*t-p*r)/F+z};Nd(f.edge,h,l,k);g.edge=Sb(h,d,null,k);f.edge=Sb(d,l,null,k);Hc(e);Hc(f)}else g.edge=Sb(e.site,g.site);d=c.x;e=c.y}c=a.pop()}else if(f){l=f.arc;f=l.circle;h=f.x;k=f.cy;f={x:h,y:k};m=l.P;z=l.N;g=[l];xe(l);for(l=m;l.circle&&ia(h-l.circle.x)<Z&&ia(k-l.circle.cy)<Z;)m=l.P,g.unshift(l),xe(l),
l=m;g.unshift(l);Gc(l);for(m=z;m.circle&&ia(h-m.circle.x)<Z&&ia(k-m.circle.cy)<Z;)z=m.N,g.push(m),xe(m),m=z;g.push(m);Gc(m);h=g.length;k=void 0;for(k=1;k<h;++k)m=g[k],l=g[k-1],Nd(m.edge,l.site,m.site,f);l=g[0];m=g[h-1];m.edge=Sb(l.site,m.site,null,f);Hc(l);Hc(m)}else break;if(b){c=ze;d=cf(b[0][0],b[0][1],b[1][0],b[1][1]);for(e=c.length;e--;)if(f=c[e],!of(f,b)||!d(f)||ia(f.a.x-f.b.x)<Z&&ia(f.a.y-f.b.y)<Z)f.a=f.b=null,c.splice(e,1);c=b[0][0];d=b[1][0];e=b[0][1];f=b[1][1];k=Od;for(z=k.length;z--;)if((m=
k[z])&&m.prepare()){p=m.edges;q=p.length;for(n=0;n<q;)if(F=p[n].end(),h=F.x,l=F.y,r=p[++n%q].start(),g=r.x,r=r.y,ia(h-g)>Z||ia(l-r)>Z)p.splice(n,0,new ha(Ic(m.site,F,ia(h-c)<Z&&f-l>Z?{x:c,y:ia(g-c)<Z?r:f}:ia(l-f)<Z&&d-h>Z?{x:ia(r-f)<Z?g:d,y:f}:ia(h-d)<Z&&l-e>Z?{x:d,y:ia(g-d)<Z?r:e}:ia(l-e)<Z&&h-c>Z?{x:ia(r-e)<Z?g:c,y:e}:null),m.site,null)),++q}}c={cells:Od,edges:ze};ye=nf=ze=Od=null;return c}function Ib(a,b){return b.y-a.y||b.x-a.x}function Ae(a){return a.x}function pf(a){return a.y}function qf(){return{leaf:!0,
nodes:[],point:null,x:null,y:null}}function cd(a,b,c,d,e,f){if(!a(b,c,d,e,f)){var g=0.5*(c+e),h=0.5*(d+f);b=b.nodes;b[0]&&cd(a,b[0],c,d,g,h);b[1]&&cd(a,b[1],g,d,e,h);b[2]&&cd(a,b[2],c,h,g,f);b[3]&&cd(a,b[3],g,h,e,f)}}function Be(a,b,c,d,e,f,g){var h=Infinity,l;(function If(a,z,k,m,n){if(!(z>f||k>g||m<d||n<e)){if(p=a.point){var p,q=b-a.x,F=c-a.y,q=q*q+F*F;q<h&&(q=Math.sqrt(h=q),d=b-q,e=c-q,f=b+q,g=c+q,l=p)}p=a.nodes;for(var q=0.5*(z+m),F=0.5*(k+n),r=(c>=F)<<1|b>=q,qa=r+4;r<qa;++r)if(a=p[r&3])switch(r&
3){case 0:If(a,z,k,q,F);break;case 1:If(a,q,k,m,F);break;case 2:If(a,z,F,q,n);break;case 3:If(a,q,F,m,n)}}})(a,d,e,f,g);return l}function Ce(a,b){a=B.rgb(a);b=B.rgb(b);var c=a.r,d=a.g,e=a.b,f=b.r-c,g=b.g-d,h=b.b-e;return function(a){return"#"+Na(Math.round(c+f*a))+Na(Math.round(d+g*a))+Na(Math.round(e+h*a))}}function $f(a,b){var c={},d={},e;for(e in a)e in b?c[e]=nc(a[e],b[e]):d[e]=a[e];for(e in b)e in a||(d[e]=b[e]);return function(a){for(e in c)d[e]=c[e](a);return d}}function $a(a,b){a=+a;b=+b;
return function(c){return a*(1-c)+b*c}}function rf(a,b){var c=Rg.lastIndex=Sg.lastIndex=0,d,e,f,g=-1,h=[],l=[];a+="";for(b+="";(d=Rg.exec(a))&&(e=Sg.exec(b));){if((f=e.index)>c)f=b.slice(c,f),h[g]?h[g]+=f:h[++g]=f;(d=d[0])===(e=e[0])?h[g]?h[g]+=e:h[++g]=e:(h[++g]=null,l.push({i:g,x:$a(d,e)}));c=Sg.lastIndex}c<b.length&&(f=b.slice(c),h[g]?h[g]+=f:h[++g]=f);return 2>h.length?l[0]?(b=l[0].x,function(a){return b(a)+""}):function(){return b}:(b=l.length,function(a){for(var c=0,d;c<b;++c)h[(d=l[c]).i]=
d.x(a);return h.join("")})}function nc(a,b){for(var c=B.interpolators.length,d;0<=--c&&!(d=B.interpolators[c](a,b)););return d}function Pd(a,b){var c=[],d=[],e=a.length,f=b.length,g=Math.min(a.length,b.length),h;for(h=0;h<g;++h)c.push(nc(a[h],b[h]));for(;h<e;++h)d[h]=a[h];for(;h<f;++h)d[h]=b[h];return function(a){for(h=0;h<g;++h)d[h]=c[h](a);return d}}function sf(a){return function(b){return 0>=b?0:1<=b?1:a(b)}}function tf(a){return function(b){return 1-a(1-b)}}function Ga(a){return function(b){return 0.5*
(0.5>b?a(2*b):2-a(2-2*b))}}function Tg(a){return a*a}function Jb(a){return a*a*a}function ag(a){if(0>=a)return 0;if(1<=a)return 1;var b=a*a,c=b*a;return 4*(0.5>a?c:3*(a-b)+c-0.75)}function Ab(a){return 1-Math.cos(a*Ba)}function dd(a){return Math.pow(2,10*(a-1))}function uf(a){return 1-Math.sqrt(1-a*a)}function bg(a){return a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+0.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+0.9375:7.5625*(a-=2.625/2.75)*a+0.984375}function vf(a,b){b-=a;return function(c){return Math.round(a+
b*c)}}function wa(a){var b=[a.a,a.b],c=[a.c,a.d],d=Ja(b),e=b[0]*c[0]+b[1]*c[1],f=-e;c[0]+=f*b[0];c[1]+=f*b[1];f=Ja(c)||0;b[0]*c[1]<c[0]*b[1]&&(b[0]*=-1,b[1]*=-1,d*=-1,e*=-1);this.rotate=(d?Math.atan2(b[1],b[0]):Math.atan2(-c[0],c[1]))*za;this.translate=[a.e,a.f];this.scale=[d,f];this.skew=f?Math.atan2(e,f)*za:0}function Ja(a){var b=Math.sqrt(a[0]*a[0]+a[1]*a[1]);b&&(a[0]/=b,a[1]/=b);return b}function ed(a,b){var c=[],d=[],e,f=B.transform(a),g=B.transform(b),h=f.translate,l=g.translate,z=f.rotate,
k=g.rotate,m=f.skew,n=g.skew,f=f.scale,g=g.scale;h[0]!=l[0]||h[1]!=l[1]?(c.push("translate(",null,",",null,")"),d.push({i:1,x:$a(h[0],l[0])},{i:3,x:$a(h[1],l[1])})):l[0]||l[1]?c.push("translate("+l+")"):c.push("");z!=k?(180<z-k?k+=360:180<k-z&&(z+=360),d.push({i:c.push(c.pop()+"rotate(",null,")")-2,x:$a(z,k)})):k&&c.push(c.pop()+"rotate("+k+")");m!=n?d.push({i:c.push(c.pop()+"skewX(",null,")")-2,x:$a(m,n)}):n&&c.push(c.pop()+"skewX("+n+")");f[0]!=g[0]||f[1]!=g[1]?(e=c.push(c.pop()+"scale(",null,",",
null,")"),d.push({i:e-4,x:$a(f[0],g[0])},{i:e-2,x:$a(f[1],g[1])})):(1!=g[0]||1!=g[1])&&c.push(c.pop()+"scale("+g+")");e=d.length;return function(a){for(var b=-1,f;++b<e;)c[(f=d[b]).i]=f.x(a);return c.join("")}}function cg(a,b){b=(b-=a=+a)||1/b;return function(c){return(c-a)/b}}function Qd(a,b){b=(b-=a=+a)||1/b;return function(c){return Math.max(0,Math.min(1,(c-a)/b))}}function Kb(a){var b=a.source;a=a.target;var c;var d=a;if(b===d)c=b;else{c=Rd(b);for(var d=Rd(d),e=c.pop(),f=d.pop(),g=null;e===f;)g=
e,e=c.pop(),f=d.pop();c=g}for(d=[b];b!==c;)b=b.parent,d.push(b);for(b=d.length;a!==c;)d.splice(b,0,a),a=a.parent;return d}function Rd(a){for(var b=[],c=a.parent;null!=c;)b.push(a),a=c,c=c.parent;b.push(a);return b}function dg(a){a.fixed|=2}function Sd(a){a.fixed&=-7}function fa(a){a.fixed|=4;a.px=a.x;a.py=a.y}function Kc(a){a.fixed&=-5}function kb(a,b,c){var d=0,e=0;a.charge=0;if(!a.leaf)for(var f=a.nodes,g=f.length,h=-1,l;++h<g;)l=f[h],null!=l&&(kb(l,b,c),a.charge+=l.charge,d+=l.charge*l.cx,e+=l.charge*
l.cy);a.point&&(a.leaf||(a.point.x+=Math.random()-0.5,a.point.y+=Math.random()-0.5),b*=c[a.point.index],a.charge+=a.pointCharge=b,d+=b*a.point.x,e+=b*a.point.y);a.cx=d/a.charge;a.cy=e/a.charge}function lb(a,b){B.rebind(a,b,"sort","children","value");a.nodes=a;a.links=Ug;return a}function Lc(a,b){for(var c=[a];null!=(a=c.pop());)if(b(a),(e=a.children)&&(d=e.length))for(var d,e;0<=--d;)c.push(e[d])}function cb(a,b){for(var c=[a],d=[];null!=(a=c.pop());)if(d.push(a),(g=a.children)&&(f=g.length))for(var e=
-1,f,g;++e<f;)c.push(g[e]);for(;null!=(a=d.pop());)b(a)}function De(a){return a.children}function wf(a){return a.value}function eg(a,b){return b.value-a.value}function Ug(a){return B.merge(a.map(function(a){return(a.children||[]).map(function(b){return{source:a,target:b}})}))}function Vg(a){return a.x}function Wg(a){return a.y}function Xg(a,b,c){a.y0=b;a.y=c}function Td(a){return B.range(a.length)}function fd(a){var b=-1;a=a[0].length;for(var c=[];++b<a;)c[b]=0;return c}function Ee(a){for(var b=1,
c=0,d=a[0][1],e,f=a.length;b<f;++b)if((e=a[b][1])>d)c=b,d=e;return c}function fg(a){return a.reduce(gg,0)}function gg(a,b){return a+b[1]}function xf(a,b){return Fe(a,Math.ceil(Math.log(b.length)/Math.LN2+1))}function Fe(a,b){for(var c=-1,d=+a[0],e=(a[1]-d)/b,f=[];++c<=b;)f[c]=e*c+d;return f}function yf(a){return[B.min(a),B.max(a)]}function hg(a,b){return a.value-b.value}function Mc(a,b){var c=a._pack_next;a._pack_next=b;b._pack_prev=a;b._pack_next=c;c._pack_prev=b}function zf(a,b){a._pack_next=b;
b._pack_prev=a}function Af(a,b){var c=b.x-a.x,d=b.y-a.y,e=a.r+b.r;return 0.999*e*e>c*c+d*d}function ra(a){function b(a){d=Math.min(a.x-a.r,d);e=Math.max(a.x+a.r,e);f=Math.min(a.y-a.r,f);g=Math.max(a.y+a.r,g)}if((c=a.children)&&(p=c.length)){var c,d=Infinity,e=-Infinity,f=Infinity,g=-Infinity,h,l,z,k,m,n,p;c.forEach(ya);h=c[0];h.x=-h.r;h.y=0;b(h);if(1<p&&(l=c[1],l.x=l.r,l.y=0,b(l),2<p)){z=c[2];ig(h,l,z);b(z);Mc(h,z);h._pack_prev=z;Mc(z,l);l=h._pack_next;for(k=3;k<p;k++){ig(h,l,z=c[k]);var q=0,F=1,
r=1;for(m=l._pack_next;m!==l;m=m._pack_next,F++)if(Af(m,z)){q=1;break}if(1==q)for(n=h._pack_prev;n!==m._pack_prev&&!Af(n,z);n=n._pack_prev,r++);q?(F<r||F==r&&l.r<h.r?zf(h,l=m):zf(h=n,l),k--):(Mc(h,z),l=z,b(z))}}h=(d+e)/2;l=(f+g)/2;for(k=m=0;k<p;k++)z=c[k],z.x-=h,z.y-=l,m=Math.max(m,z.r+Math.sqrt(z.x*z.x+z.y*z.y));a.r=m;c.forEach(Oa)}}function ya(a){a._pack_next=a._pack_prev=a}function Oa(a){delete a._pack_next;delete a._pack_prev}function jg(a,b,c,d){var e=a.children;a.x=b+=d*a.x;a.y=c+=d*a.y;a.r*=
d;if(e){a=-1;for(var f=e.length;++a<f;)jg(e[a],b,c,d)}}function ig(a,b,c){var d=a.r+c.r,e=b.x-a.x,f=b.y-a.y;if(d&&(e||f)){var g=b.r+c.r,h=e*e+f*f,g=g*g,d=d*d;b=0.5+(d-g)/(2*h);g=Math.sqrt(Math.max(0,2*g*(d+h)-(d-=h)*d-g*g))/(2*h);c.x=a.x+b*e+g*f;c.y=a.y+b*f-g*e}else c.x=a.x+d,c.y=a.y}function mb(a,b){return a.parent==b.parent?1:2}function Ge(a){var b=a.children;return b.length?b[0]:a.t}function Ud(a){var b=a.children,c;return(c=b.length)?b[c-1]:a.t}function Yg(a){return 1+B.max(a,function(a){return a.y})}
function Zg(a){return a.reduce(function(a,b){return a+b.x},0)/a.length}function gd(a){var b=a.children;return b&&b.length?gd(b[0]):a}function He(a){var b=a.children,c;return b&&(c=b.length)?He(b[c-1]):a}function db(a){return{x:a.x,y:a.y,dx:a.dx,dy:a.dy}}function kg(a,b){var c=a.x+b[3],d=a.y+b[0],e=a.dx-b[1]-b[3],f=a.dy-b[0]-b[2];0>e&&(c+=e/2,e=0);0>f&&(d+=f/2,f=0);return{x:c,y:d,dx:e,dy:f}}function nb(a){var b=a[0];a=a[a.length-1];return b<a?[b,a]:[a,b]}function Vd(a){return a.rangeExtent?a.rangeExtent():
nb(a.range())}function Bf(a,b,c,d){var e=c(a[0],a[1]),f=d(b[0],b[1]);return function(a){return f(e(a))}}function Wd(a,b){var c=0,d=a.length-1,e=a[c],f=a[d],g;f<e&&(g=c,c=d,d=g,g=e,e=f,f=g);a[c]=b.floor(e);a[d]=b.ceil(f);return a}function Tb(a){return a?{floor:function(b){return Math.floor(b/a)*a},ceil:function(b){return Math.ceil(b/a)*a}}:Xh}function ba(a,b,c,d){var e=[],f=[],g=0,h=Math.min(a.length,b.length)-1;a[h]<a[0]&&(a=a.slice().reverse(),b=b.slice().reverse());for(;++g<=h;)e.push(c(a[g-1],
a[g])),f.push(d(b[g-1],b[g]));return function(b){var c=B.bisect(a,b,1,h)-1;return f[c](e[c](b))}}function pa(a,b,c,d){function e(){var l=2<Math.min(a.length,b.length)?ba:Bf,z=d?Qd:cg;g=l(a,b,z,c);h=l(b,a,z,nc);return f}function f(a){return g(a)}var g,h;f.invert=function(a){return h(a)};f.domain=function(b){if(!arguments.length)return a;a=b.map(Number);return e()};f.range=function(a){if(!arguments.length)return b;b=a;return e()};f.rangeRound=function(a){return f.range(a).interpolate(vf)};f.clamp=function(a){if(!arguments.length)return d;
d=a;return e()};f.interpolate=function(a){if(!arguments.length)return c;c=a;return e()};f.ticks=function(b){return B.range.apply(B,ab(a,b))};f.tickFormat=function(b,c){return oc(a,b,c)};f.nice=function(b){Wd(a,Tb(ab(a,b)[2]));return e()};f.copy=function(){return pa(a,b,c,d)};return e()}function Xd(a,b){return B.rebind(a,b,"range","rangeRound","interpolate","clamp")}function ab(a,b){null==b&&(b=10);var c=nb(a),d=c[1]-c[0],e=Math.pow(10,Math.floor(Math.log(d/b)/Math.LN10)),d=b/d*e;0.15>=d?e*=10:0.35>=
d?e*=5:0.75>=d&&(e*=2);c[0]=Math.ceil(c[0]/e)*e;c[1]=Math.floor(c[1]/e)*e+0.5*e;c[2]=e;return c}function oc(a,b,c){a=ab(a,b);if(c){b=th.exec(c);b.shift();if("s"===b[8]){var d=B.formatPrefix(Math.max(ia(a[0]),ia(a[1])));b[7]||(b[7]="."+Ie(d.scale(a[2])));b[8]="f";c=B.format(b.join(""));return function(a){return c(d.scale(a))+d.symbol}}b[7]||(b[7]="."+Nc(b[8],a));c=b.join("")}else c=",."+Ie(a[2])+"f";return B.format(c)}function Ie(a){return-Math.floor(Math.log(a)/Math.LN10+0.01)}function Nc(a,b){var c=
Ie(b[2]);return a in Yh?Math.abs(c-Ie(Math.max(ia(b[0]),ia(b[1]))))+ +("e"!==a):c-2*("%"===a)}function Yd(a,b,c,d){function e(a){return(c?Math.log(0>a?0:a):-Math.log(0<a?0:-a))/Math.log(b)}function f(a){return c?Math.pow(b,a):-Math.pow(b,-a)}function g(b){return a(e(b))}g.invert=function(b){return f(a.invert(b))};g.domain=function(b){if(!arguments.length)return d;c=0<=b[0];a.domain((d=b.map(Number)).map(e));return g};g.base=function(c){if(!arguments.length)return b;b=+c;a.domain(d.map(e));return g};
g.nice=function(){var b=Wd(d.map(e),c?Math:Zh);a.domain(b);d=b.map(f);return g};g.ticks=function(){var a=nb(d),g=[],h=a[0],a=a[1],l=Math.floor(e(h)),z=Math.ceil(e(a)),k=b%1?2:b;if(isFinite(z-l)){if(c){for(;l<z;l++)for(var m=1;m<k;m++)g.push(f(l)*m);g.push(f(l))}else for(g.push(f(l));l++<z;)for(m=k-1;0<m;m--)g.push(f(l)*m);for(l=0;g[l]<h;l++);for(z=g.length;g[z-1]>a;z--);g=g.slice(l,z)}return g};g.tickFormat=function(a,b){if(!arguments.length)return Ah;2>arguments.length?b=Ah:"function"!==typeof b&&
(b=B.format(b));var d=Math.max(0.1,a/g.ticks().length),h=c?(l=1E-12,Math.ceil):(l=-1E-12,Math.floor),l;return function(a){return a/f(h(e(a)+l))<=d?b(a):""}};g.copy=function(){return Yd(a.copy(),b,c,d)};return Xd(g,a)}function Zd(a,b,c){function d(b){return a(e(b))}var e=$d(b),f=$d(1/b);d.invert=function(b){return f(a.invert(b))};d.domain=function(b){if(!arguments.length)return c;a.domain((c=b.map(Number)).map(e));return d};d.ticks=function(a){return B.range.apply(B,ab(c,a))};d.tickFormat=function(a,
b){return oc(c,a,b)};d.nice=function(a){return d.domain(Wd(c,Tb(ab(c,a)[2])))};d.exponent=function(g){if(!arguments.length)return b;e=$d(b=g);f=$d(1/b);a.domain(c.map(e));return d};d.copy=function(){return Zd(a.copy(),b,c)};return Xd(d,a)}function $d(a){return function(b){return 0>b?-Math.pow(-b,a):Math.pow(b,a)}}function ae(a,b){function c(d){return f[((e.get(d)||("range"===b.t?e.set(d,a.push(d)):NaN))-1)%f.length]}function d(b,c){return B.range(a.length).map(function(a){return b+c*a})}var e,f,g;
c.domain=function(d){if(!arguments.length)return a;a=[];e=new l;for(var f=-1,g=d.length,h;++f<g;)e.has(h=d[f])||e.set(h,a.push(h));return c[b.t].apply(c,b.a)};c.range=function(a){if(!arguments.length)return f;f=a;g=0;b={t:"range",a:arguments};return c};c.rangePoints=function(e,h){2>arguments.length&&(h=0);var l=e[0],z=e[1],z=2>a.length?(l=(l+z)/2,0):(z-l)/(a.length-1+h);f=d(l+z*h/2,z);g=0;b={t:"rangePoints",a:arguments};return c};c.rangeRoundPoints=function(e,h){2>arguments.length&&(h=0);var l=e[0],
z=e[1],k=2>a.length?(l=z=Math.round((l+z)/2),0):(z-l)/(a.length-1+h)|0;f=d(l+Math.round(k*h/2+(z-l-(a.length-1+h)*k)/2),k);g=0;b={t:"rangeRoundPoints",a:arguments};return c};c.rangeBands=function(e,h,l){2>arguments.length&&(h=0);3>arguments.length&&(l=h);var z=e[1]<e[0],k=e[z-0],m=(e[1-z]-k)/(a.length-h+2*l);f=d(k+m*l,m);z&&f.reverse();g=m*(1-h);b={t:"rangeBands",a:arguments};return c};c.rangeRoundBands=function(e,h,l){2>arguments.length&&(h=0);3>arguments.length&&(l=h);var z=e[1]<e[0],k=e[z-0],m=
e[1-z],n=Math.floor((m-k)/(a.length-h+2*l));f=d(k+Math.round((m-k-(a.length-h)*n)/2),n);z&&f.reverse();g=Math.round(n*(1-h));b={t:"rangeRoundBands",a:arguments};return c};c.rangeBand=function(){return g};c.rangeExtent=function(){return nb(b.a[0])};c.copy=function(){return ae(a,b)};return c.domain(a)}function ob(a,b){function c(){var d=0,g=b.length;for(f=[];++d<g;)f[d-1]=B.quantile(a,d/g);return e}function e(a){if(!isNaN(a=+a))return b[B.bisect(f,a)]}var f;e.domain=function(b){if(!arguments.length)return a;
a=b.map(d).filter(g).sort(k);return c()};e.range=function(a){if(!arguments.length)return b;b=a;return c()};e.quantiles=function(){return f};e.invertExtent=function(c){c=b.indexOf(c);return 0>c?[NaN,NaN]:[0<c?f[c-1]:a[0],c<f.length?f[c]:a[a.length-1]]};e.copy=function(){return ob(a,b)};return c()}function Cf(a,b,c){function d(b){return c[Math.max(0,Math.min(g,Math.floor(f*(b-a))))]}function e(){f=c.length/(b-a);g=c.length-1;return d}var f,g;d.domain=function(c){if(!arguments.length)return[a,b];a=+c[0];
b=+c[c.length-1];return e()};d.range=function(a){if(!arguments.length)return c;c=a;return e()};d.invertExtent=function(b){b=c.indexOf(b);b=0>b?NaN:b/f+a;return[b,b+1/f]};d.copy=function(){return Cf(a,b,c)};return e()}function Je(a,b){function c(d){if(d<=d)return b[B.bisect(a,d)]}c.domain=function(b){if(!arguments.length)return a;a=b;return c};c.range=function(a){if(!arguments.length)return b;b=a;return c};c.invertExtent=function(c){c=b.indexOf(c);return[a[c-1],a[c]]};c.copy=function(){return Je(a,
b)};return c}function Ub(a){function b(a){return+a}b.invert=b;b.domain=b.range=function(c){if(!arguments.length)return a;a=c.map(b);return b};b.ticks=function(b){return B.range.apply(B,ab(a,b))};b.tickFormat=function(b,c){return oc(a,b,c)};b.copy=function(){return Ub(a)};return b}function $g(){return 0}function hd(a){return a.innerRadius}function lg(a){return a.outerRadius}function Df(a){return a.startAngle}function jd(a){return a.endAngle}function be(a){return a&&a.padAngle}function kd(a,b,c,d,e){var f=
a[0]-b[0],g=a[1]-b[1];e=(e?d:-d)/Math.sqrt(f*f+g*g);var g=e*g,f=-e*f,h=a[0]+g,l=a[1]+f,z=b[0]+g,k=b[1]+f;a=(h+z)/2;b=(l+k)/2;e=z-h;var m=k-l,n=e*e+m*m;d=c-d;var k=h*k-z*l,p=(0>m?-1:1)*Math.sqrt(d*d*n-k*k),h=(k*m-e*p)/n,l=(-k*e-m*p)/n,z=(k*m+e*p)/n;e=(-k*e+m*p)/n;m=h-a;n=l-b;a=z-a;b=e-b;m*m+n*n>a*a+b*b&&(h=z,l=e);return[[h-g,l-f],[h*c/d,l*c/d]]}function pc(a){function b(g){function l(){z.push("M",f(a(k),h))}for(var z=[],k=[],m=-1,n=g.length,p,q=sa(c),F=sa(d);++m<n;)e.call(this,p=g[m],m)?k.push([+q.call(this,
p,m),+F.call(this,p,m)]):k.length&&(l(),k=[]);k.length&&l();return z.length?z.join(""):null}var c=Hb,d=Ld,e=Bc,f=Pa,g=f.key,h=0.7;b.x=function(a){if(!arguments.length)return c;c=a;return b};b.y=function(a){if(!arguments.length)return d;d=a;return b};b.defined=function(a){if(!arguments.length)return e;e=a;return b};b.interpolate=function(a){if(!arguments.length)return g;g="function"===typeof a?f=a:(f=ah.get(a)||Pa).key;return b};b.tension=function(a){if(!arguments.length)return h;h=a;return b};return b}
function Pa(a){return a.join("L")}function Ef(a){for(var b=0,c=a.length,d=a[0],e=[d[0],",",d[1]];++b<c;)e.push("V",(d=a[b])[1],"H",d[0]);return e.join("")}function ld(a){for(var b=0,c=a.length,d=a[0],e=[d[0],",",d[1]];++b<c;)e.push("H",(d=a[b])[0],"V",d[1]);return e.join("")}function pb(a,b){if(1>b.length||a.length!=b.length&&a.length!=b.length+2)return Pa(a);var c=a.length!=b.length,d="",e=a[0],f=a[1],g=b[0],h=g,l=1;c&&(d+="Q"+(f[0]-2*g[0]/3)+","+(f[1]-2*g[1]/3)+","+f[0]+","+f[1],e=a[1],l=2);if(1<
b.length){h=b[1];f=a[l];l++;d+="C"+(e[0]+g[0])+","+(e[1]+g[1])+","+(f[0]-h[0])+","+(f[1]-h[1])+","+f[0]+","+f[1];for(e=2;e<b.length;e++,l++)f=a[l],h=b[e],d+="S"+(f[0]-h[0])+","+(f[1]-h[1])+","+f[0]+","+f[1]}c&&(c=a[l],d+="Q"+(f[0]+2*h[0]/3)+","+(f[1]+2*h[1]/3)+","+c[0]+","+c[1]);return d}function md(a,b){for(var c=[],d=(1-b)/2,e,f=a[0],g=a[1],h=1,l=a.length;++h<l;)e=f,f=g,g=a[h],c.push([d*(g[0]-e[0]),d*(g[1]-e[1])]);return c}function mg(a){if(3>a.length)return Pa(a);var b=1,c=a.length,d=a[0],e=d[0],
f=d[1],g=[e,e,e,(d=a[1])[0]],h=[f,f,f,d[1]],e=[e,",",f,"L",qb(nd,g),",",qb(nd,h)];for(a.push(a[c-1]);++b<=c;)d=a[b],g.shift(),g.push(d[0]),h.shift(),h.push(d[1]),od(e,g,h);a.pop();e.push("L",d);return e.join("")}function qb(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3]}function od(a,b,c){a.push("C",qb(Bh,b),",",qb(Bh,c),",",qb(Ch,b),",",qb(Ch,c),",",qb(nd,b),",",qb(nd,c))}function Vb(a,b){return(b[1]-a[1])/(b[0]-a[0])}function ng(a){for(var b,c=-1,d=a.length,e,f;++c<d;)b=a[c],e=b[0],f=b[1]-
Ba,b[0]=e*Math.cos(f),b[1]=e*Math.sin(f);return a}function ce(a){function b(l){function n(){p.push("M",h(a(F),m),k,z(a(q.reverse()),m),"Z")}for(var p=[],q=[],F=[],r=-1,t=l.length,s,x=sa(c),v=sa(e),y=c===d?function(){return w}:sa(d),u=e===f?function(){return C}:sa(f),w,C;++r<t;)g.call(this,s=l[r],r)?(q.push([w=+x.call(this,s,r),C=+v.call(this,s,r)]),F.push([+y.call(this,s,r),+u.call(this,s,r)])):q.length&&(n(),q=[],F=[]);q.length&&n();return p.length?p.join(""):null}var c=Hb,d=Hb,e=0,f=Ld,g=Bc,h=Pa,
l=h.key,z=h,k="L",m=0.7;b.x=function(a){if(!arguments.length)return d;c=d=a;return b};b.x0=function(a){if(!arguments.length)return c;c=a;return b};b.x1=function(a){if(!arguments.length)return d;d=a;return b};b.y=function(a){if(!arguments.length)return f;e=f=a;return b};b.y0=function(a){if(!arguments.length)return e;e=a;return b};b.y1=function(a){if(!arguments.length)return f;f=a;return b};b.defined=function(a){if(!arguments.length)return g;g=a;return b};b.interpolate=function(a){if(!arguments.length)return l;
l="function"===typeof a?h=a:(h=ah.get(a)||Pa).key;z=h.reverse||h;k=h.closed?"M":"L";return b};b.tension=function(a){if(!arguments.length)return m;m=a;return b};return b}function Ke(a){return a.radius}function qc(a){return[a.x,a.y]}function bh(a){return function(){var b=a.apply(this,arguments),c=b[0],b=b[1]-Ba;return[c*Math.cos(b),c*Math.sin(b)]}}function ch(){return 64}function dh(){return"circle"}function Wa(a){a=Math.sqrt(a/ja);return"M0,"+a+"A"+a+","+a+" 0 1,1 0,"+-a+"A"+a+","+a+" 0 1,1 0,"+a+
"Z"}function og(a){return function(){var b,c;if((b=this[a])&&(c=b[b.active]))--b.count?delete b[b.active]:delete this[a],b.active+=0.5,c.event&&c.event.interrupt.call(this,this.__data__,c.index)}}function Wb(a,b,c){sb(a,Ha);a.namespace=b;a.id=c;return a}function Qa(a,b,c,d){var e=a.id,f=a.namespace;return I(a,"function"===typeof c?function(a,g,h){a[f][e].tween.set(b,d(c.call(a,a.__data__,g,h)))}:(c=d(c),function(a){a[f][e].tween.set(b,c)}))}function eh(a){null==a&&(a="");return function(){this.textContent=
a}}function de(a){return null==a?"__transition__":"__transition_"+a+"__"}function na(a,b,c,d,e){var f=a[c]||(a[c]={active:0,count:0}),g=f[d];if(!g){var h=e.time,g=f[d]={tween:new l,time:h,delay:e.delay,duration:e.duration,ease:e.ease,index:b};e=null;++f.count;B.timer(function(e){function l(c){if(f.active>d)return k();var e=f[f.active];e&&(--f.count,delete f[f.active],e.event&&e.event.interrupt.call(a,a.__data__,e.index));f.active=d;g.event&&g.event.start.call(a,a.__data__,b);g.tween.forEach(function(c,
d){(d=d.call(a,a.__data__,b))&&F.push(d)});p=g.ease;n=g.duration;B.timer(function(){q.c=z(c||1)?Bc:z;return 1},0,h)}function z(c){if(f.active!==d)return 1;c/=n;for(var e=p(c),h=F.length;0<h;)F[--h].call(a,e);if(1<=c)return g.event&&g.event.end.call(a,a.__data__,b),k()}function k(){--f.count?delete f[d]:delete a[c];return 1}var m=g.delay,n,p,q=wc,F=[];q.t=m+h;if(m<=e)return l(e-m);q.c=l},0,h)}}function Xb(a,b,c){a.attr("transform",function(a){var d=b(a);return"translate("+(isFinite(d)?d:c(a))+",0)"})}
function Ka(a,b,c){a.attr("transform",function(a){var d=b(a);return"translate(0,"+(isFinite(d)?d:c(a))+")"})}function Oc(a){return a.toISOString()}function eb(a,b,c){function d(b){return a(b)}function e(a,c){var d=(a[1]-a[0])/c,f=B.bisect(pg,d);return f==pg.length?[b.year,ab(a.map(function(a){return a/31536E6}),c)[2]]:!f?[$h,ab(a,c)[2]]:b[d/pg[f-1]<pg[f]/d?f-1:f]}d.invert=function(b){return rc(a.invert(b))};d.domain=function(b){if(!arguments.length)return a.domain().map(rc);a.domain(b);return d};
d.nice=function(a,b){function c(d){return!isNaN(d)&&!a.range(d,rc(+d+1),b).length}var f=d.domain(),g=nb(f);if(g=null==a?e(g,10):"number"===typeof a&&e(g,a))a=g[0],b=g[1];return d.domain(Wd(f,1<b?{floor:function(b){for(;c(b=a.floor(b));)b=rc(b-1);return b},ceil:function(b){for(;c(b=a.ceil(b));)b=rc(+b+1);return b}}:a))};d.ticks=function(a,b){var c=nb(d.domain()),f=null==a?e(c,10):"number"===typeof a?e(c,a):!a.range&&[{range:a},b];f&&(a=f[0],b=f[1]);return a.range(c[0],rc(+c[1]+1),1>b?1:b)};d.tickFormat=
function(){return c};d.copy=function(){return eb(a.copy(),b,c)};return Xd(d,a)}function rc(a){return new Date(a)}function sc(a){return JSON.parse(a.responseText)}function Ff(a){var b=Fa.createRange();b.selectNode(Fa.body);return b.createContextualFragment(a.responseText)}var B={version:"3.5.6"},rb=[].slice,tb=function(a){return rb.call(a)},Fa=this.document;if(Fa)try{tb(Fa.documentElement.childNodes)[0].nodeType}catch(Dh){tb=function(a){for(var b=a.length,c=Array(b);b--;)c[b]=a[b];return c}}Date.now||
(Date.now=function(){return+new Date});if(Fa)try{Fa.createElement("DIV").style.setProperty("opacity",0,"")}catch(fh){var Le=this.Element.prototype,pd=Le.setAttribute,qg=Le.setAttributeNS,rg=this.CSSStyleDeclaration.prototype,ee=rg.setProperty;Le.setAttribute=function(a,b){pd.call(this,a,b+"")};Le.setAttributeNS=function(a,b,c){qg.call(this,a,b,c+"")};rg.setProperty=function(a,b,c){ee.call(this,a,b+"",c)}}B.ascending=k;B.descending=function(a,b){return b<a?-1:b>a?1:b>=a?0:NaN};B.min=function(a,b){var c=
-1,d=a.length,e,f;if(1===arguments.length){for(;++c<d;)if(null!=(f=a[c])&&f>=f){e=f;break}for(;++c<d;)if(null!=(f=a[c])&&e>f)e=f}else{for(;++c<d;)if(null!=(f=b.call(a,a[c],c))&&f>=f){e=f;break}for(;++c<d;)if(null!=(f=b.call(a,a[c],c))&&e>f)e=f}return e};B.max=function(a,b){var c=-1,d=a.length,e,f;if(1===arguments.length){for(;++c<d;)if(null!=(f=a[c])&&f>=f){e=f;break}for(;++c<d;)if(null!=(f=a[c])&&f>e)e=f}else{for(;++c<d;)if(null!=(f=b.call(a,a[c],c))&&f>=f){e=f;break}for(;++c<d;)if(null!=(f=b.call(a,
a[c],c))&&f>e)e=f}return e};B.extent=function(a,b){var c=-1,d=a.length,e,f,g;if(1===arguments.length){for(;++c<d;)if(null!=(f=a[c])&&f>=f){e=g=f;break}for(;++c<d;)if(null!=(f=a[c]))e>f&&(e=f),g<f&&(g=f)}else{for(;++c<d;)if(null!=(f=b.call(a,a[c],c))&&f>=f){e=g=f;break}for(;++c<d;)if(null!=(f=b.call(a,a[c],c)))e>f&&(e=f),g<f&&(g=f)}return[e,g]};B.sum=function(a,b){var c=0,d=a.length,e,f=-1;if(1===arguments.length)for(;++f<d;){if(g(e=+a[f]))c+=e}else for(;++f<d;)if(g(e=+b.call(a,a[f],f)))c+=e;return c};
B.mean=function(a,b){var c=0,e=a.length,f,h=-1,l=e;if(1===arguments.length)for(;++h<e;)g(f=d(a[h]))?c+=f:--l;else for(;++h<e;)g(f=d(b.call(a,a[h],h)))?c+=f:--l;if(l)return c/l};B.quantile=function(a,b){var c=(a.length-1)*b+1,d=Math.floor(c),e=+a[d-1];return(c-=d)?e+c*(a[d]-e):e};B.median=function(a,b){var c=[],e=a.length,f,h=-1;if(1===arguments.length)for(;++h<e;)g(f=d(a[h]))&&c.push(f);else for(;++h<e;)g(f=d(b.call(a,a[h],h)))&&c.push(f);if(c.length)return B.quantile(c.sort(k),0.5)};B.variance=function(a,
b){var c=a.length,e=0,f,h,l=0,z=-1,k=0;if(1===arguments.length)for(;++z<c;){if(g(f=d(a[z])))h=f-e,e+=h/++k,l+=h*(f-e)}else for(;++z<c;)if(g(f=d(b.call(a,a[z],z))))h=f-e,e+=h/++k,l+=h*(f-e);if(1<k)return l/(k-1)};B.deviation=function(){var a=B.variance.apply(this,arguments);return a?Math.sqrt(a):a};var Me=b(k);B.bisectLeft=Me.left;B.bisect=B.bisectRight=Me.right;B.bisector=function(a){return b(1===a.length?function(b,c){return k(a(b),c)}:a)};B.shuffle=function(a,b,c){if(3>(d=arguments.length))c=a.length,
2>d&&(b=0);for(var d=c-b,e,f;d;)f=Math.random()*d--|0,e=a[d+b],a[d+b]=a[f+b],a[f+b]=e;return a};B.permute=function(a,b){for(var c=b.length,d=Array(c);c--;)d[c]=a[b[c]];return d};B.pairs=function(a){for(var b=0,c=a.length-1,d=a[0],e=Array(0>c?0:c);b<c;)e[b]=[d,d=a[++b]];return e};B.zip=function(){if(!(f=arguments.length))return[];for(var a=-1,b=B.min(arguments,c),d=Array(b);++a<b;)for(var e=-1,f,g=d[a]=Array(f);++e<f;)g[e]=arguments[e][a];return d};B.transpose=function(a){return B.zip.apply(B,a)};
B.keys=function(a){var b=[],c;for(c in a)b.push(c);return b};B.values=function(a){var b=[],c;for(c in a)b.push(a[c]);return b};B.entries=function(a){var b=[],c;for(c in a)b.push({key:c,value:a[c]});return b};B.merge=function(a){var b=a.length,c;c=-1;for(var d=0,e,f;++c<b;)d+=a[c].length;for(e=Array(d);0<=--b;){f=a[b];for(c=f.length;0<=--c;)e[--d]=f[c]}return e};var ia=Math.abs;B.range=function(a,b,c){3>arguments.length&&(c=1,2>arguments.length&&(b=a,a=0));if(Infinity===(b-a)/c)throw Error("infinite range");
var d=[],e;e=ia(c);for(var f=1;e*f%1;)f*=10;e=f;var f=-1,g;a*=e;b*=e;c*=e;if(0>c)for(;(g=a+c*++f)>b;)d.push(g/e);else for(;(g=a+c*++f)<b;)d.push(g/e);return d};B.map=function(a,b){var c=new l;if(a instanceof l)a.forEach(function(a,b){c.set(a,b)});else if(Array.isArray(a)){var d=-1,e=a.length,f;if(1===arguments.length)for(;++d<e;)c.set(d,a[d]);else for(;++d<e;)c.set(b.call(a,f=a[d],d),f)}else for(d in a)c.set(d,a[d]);return c};var uc="__proto__",Pe="\x00";f(l,{has:m,get:function(a){return this._[e(a)]},
set:function(a,b){return this._[e(a)]=b},remove:n,keys:p,values:function(){var a=[],b;for(b in this._)a.push(this._[b]);return a},entries:function(){var b=[],c;for(c in this._)b.push({key:a(c),value:this._[c]});return b},size:t,empty:q,forEach:function(b){for(var c in this._)b.call(this,a(c),this._[c])}});B.nest=function(){function a(b,e,h){if(h>=d.length)return g?g.call(c,e):f?e.sort(f):e;for(var z=-1,k=e.length,m=d[h++],n,p,q=new l,F;++z<k;)(F=q.get(n=m(p=e[z])))?F.push(p):q.set(n,[p]);b?(p=b(),
e=function(c,d){p.set(c,a(b,d,h))}):(p={},e=function(c,d){p[c]=a(b,d,h)});q.forEach(e);return p}function b(a,c){if(c>=d.length)return a;var f=[],g=e[c++];a.forEach(function(a,d){f.push({key:a,values:b(d,c)})});return g?f.sort(function(a,b){return g(a.key,b.key)}):f}var c={},d=[],e=[],f,g;c.map=function(b,c){return a(c,b,0)};c.entries=function(c){return b(a(B.map,c,0),0)};c.key=function(a){d.push(a);return c};c.sortKeys=function(a){e[d.length-1]=a;return c};c.sortValues=function(a){f=a;return c};c.rollup=
function(a){g=a;return c};return c};B.set=function(a){var b=new r;if(a)for(var c=0,d=a.length;c<d;++c)b.add(a[c]);return b};f(r,{has:m,add:function(a){this._[e(a+="")]=!0;return a},remove:n,values:p,size:t,empty:q,forEach:function(b){for(var c in this._)b.call(this,a(c))}});B.behavior={};B.rebind=function(a,b){for(var c=1,d=arguments.length,e;++c<d;)a[e=arguments[c]]=v(a,b,b[e]);return a};var Qe="webkit ms moz Moz o O".split(" ");B.dispatch=function(){for(var a=new y,b=-1,c=arguments.length;++b<c;)a[arguments[b]]=
x(a);return a};y.prototype.on=function(a,b){var c=a.indexOf("."),d="";0<=c&&(d=a.slice(c+1),a=a.slice(0,c));if(a)return 2>arguments.length?this[a].on(d):this[a].on(d,b);if(2===arguments.length){if(null==b)for(a in this)if(this.hasOwnProperty(a))this[a].on(d,null);return this}};B.event=null;B.requote=function(a){return a.replace(Gf,"\\$\x26")};var Gf=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,sb={}.__proto__?function(a,b){a.__proto__=b}:function(a,b){for(var c in b)a[c]=b[c]},vc=function(a,b){return b.querySelector(a)},
Re=function(a,b){return b.querySelectorAll(a)},z=function(a,b){var c=a.matches||a[w(a,"matchesSelector")];z=function(a,b){return c.call(a,b)};return z(a,b)};"function"===typeof Sizzle&&(vc=function(a,b){return Sizzle(a,b)[0]||null},Re=Sizzle,z=Sizzle.matchesSelector);B.selection=function(){return B.select(Fa.documentElement)};var F=B.selection.prototype=[];F.select=function(a){var b=[],c,d,e,f;a=G(a);for(var g=-1,h=this.length;++g<h;){b.push(c=[]);c.parentNode=(e=this[g]).parentNode;for(var l=-1,
z=e.length;++l<z;)(f=e[l])?(c.push(d=a.call(f,f.__data__,l,g)),d&&"__data__"in f&&(d.__data__=f.__data__)):c.push(null)}return E(b)};F.selectAll=function(a){var b=[],c,d;a=H(a);for(var e=-1,f=this.length;++e<f;)for(var g=this[e],h=-1,l=g.length;++h<l;)if(d=g[h])b.push(c=tb(a.call(d,d.__data__,h,e))),c.parentNode=d;return E(b)};var oa={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};
B.ns={prefix:oa,qualify:function(a){var b=a.indexOf(":"),c=a;0<=b&&(c=a.slice(0,b),a=a.slice(b+1));return oa.hasOwnProperty(c)?{space:oa[c],local:a}:a}};F.attr=function(a,b){if(2>arguments.length){if("string"===typeof a){var c=this.node();a=B.ns.qualify(a);return a.local?c.getAttributeNS(a.space,a.local):c.getAttribute(a)}for(b in a)this.each(M(b,a[b]));return this}return this.each(M(a,b))};F.classed=function(a,b){if(2>arguments.length){if("string"===typeof a){var c=this.node(),d=(a=(a+"").trim().split(/^|\s+/)).length,
e=-1;if(b=c.classList)for(;++e<d;){if(!b.contains(a[e]))return!1}else for(b=c.getAttribute("class");++e<d;)if(!S(a[e]).test(b))return!1;return!0}for(b in a)this.each(W(b,a[b]));return this}return this.each(W(a,b))};F.style=function(a,b,c){var d=arguments.length;if(3>d){if("string"!==typeof a){2>d&&(b="");for(c in a)this.each(K(c,a[c],b));return this}if(2>d)return d=this.node(),h(d).getComputedStyle(d,null).getPropertyValue(a);c=""}return this.each(K(a,b,c))};F.property=function(a,b){if(2>arguments.length){if("string"===
typeof a)return this.node()[a];for(b in a)this.each(Q(b,a[b]));return this}return this.each(Q(a,b))};F.text=function(a){return arguments.length?this.each("function"===typeof a?function(){var b=a.apply(this,arguments);this.textContent=null==b?"":b}:null==a?function(){this.textContent=""}:function(){this.textContent=a}):this.node().textContent};F.html=function(a){return arguments.length?this.each("function"===typeof a?function(){var b=a.apply(this,arguments);this.innerHTML=null==b?"":b}:null==a?function(){this.innerHTML=
""}:function(){this.innerHTML=a}):this.node().innerHTML};F.append=function(a){a=V(a);return this.select(function(){return this.appendChild(a.apply(this,arguments))})};F.insert=function(a,b){a=V(a);b=G(b);return this.select(function(){return this.insertBefore(a.apply(this,arguments),b.apply(this,arguments)||null)})};F.remove=function(){return this.each(ea)};F.data=function(a,b){function c(a,d){var e,f=a.length,g=d.length,m=Math.min(f,g),n=Array(g),p=Array(g),q=Array(f),F,r;if(b){var m=new l,t=Array(f),
s;for(e=-1;++e<f;)m.has(s=b.call(F=a[e],F.__data__,e))?q[e]=F:m.set(s,F),t[e]=s;for(e=-1;++e<g;)(F=m.get(s=b.call(d,r=d[e],e)))?!0!==F&&(n[e]=F,F.__data__=r):p[e]={__data__:r},m.set(s,!0);for(e=-1;++e<f;)!0!==m.get(t[e])&&(q[e]=a[e])}else{for(e=-1;++e<m;)F=a[e],r=d[e],F?(F.__data__=r,n[e]=F):p[e]={__data__:r};for(;e<g;++e)p[e]={__data__:d[e]};for(;e<f;++e)q[e]=a[e]}p.update=n;p.parentNode=n.parentNode=q.parentNode=a.parentNode;h.push(p);z.push(n);k.push(q)}var d=-1,e=this.length,f,g;if(!arguments.length){for(a=
Array(e=(f=this[0]).length);++d<e;)if(g=f[d])a[d]=g.__data__;return a}var h=O([]),z=E([]),k=E([]);if("function"===typeof a)for(;++d<e;)c(f=this[d],a.call(f,f.parentNode.__data__,d));else for(;++d<e;)c(f=this[d],a);z.enter=function(){return h};z.exit=function(){return k};return z};F.datum=function(a){return arguments.length?this.property("__data__",a):this.property("__data__")};F.filter=function(a){var b=[],c,d,e;"function"!==typeof a&&(a=L(a));for(var f=0,g=this.length;f<g;f++){b.push(c=[]);c.parentNode=
(d=this[f]).parentNode;for(var h=0,l=d.length;h<l;h++)(e=d[h])&&a.call(e,e.__data__,h,f)&&c.push(e)}return E(b)};F.order=function(){for(var a=-1,b=this.length;++a<b;)for(var c=this[a],d=c.length-1,e=c[d],f;0<=--d;)if(f=c[d])e&&e!==f.nextSibling&&e.parentNode.insertBefore(f,e),e=f;return this};F.sort=function(a){a=N.apply(this,arguments);for(var b=-1,c=this.length;++b<c;)this[b].sort(a);return this.order()};F.each=function(a){return I(this,function(b,c,d){a.call(b,b.__data__,c,d)})};F.call=function(a){var b=
tb(arguments);a.apply(b[0]=this,b);return this};F.empty=function(){return!this.node()};F.node=function(){for(var a=0,b=this.length;a<b;a++)for(var c=this[a],d=0,e=c.length;d<e;d++){var f=c[d];if(f)return f}return null};F.size=function(){var a=0;I(this,function(){++a});return a};var ua=[];B.selection.enter=O;B.selection.enter.prototype=ua;ua.append=F.append;ua.empty=F.empty;ua.node=F.node;ua.call=F.call;ua.size=F.size;ua.select=function(a){for(var b=[],c,d,e,f,g,h=-1,l=this.length;++h<l;){e=(f=this[h]).update;
b.push(c=[]);c.parentNode=f.parentNode;for(var z=-1,k=f.length;++z<k;)(g=f[z])?(c.push(e[z]=d=a.call(f.parentNode,g.__data__,z,h)),d.__data__=g.__data__):c.push(null)}return E(b)};ua.insert=function(a,b){2>arguments.length&&(b=aa(this));return F.insert.call(this,a,b)};B.select=function(a){var b;"string"===typeof a?(b=[vc(a,Fa)],b.parentNode=Fa.documentElement):(b=[a],b.parentNode=a&&(a.ownerDocument||a.document||a).documentElement);return E([b])};B.selectAll=function(a){"string"===typeof a?(a=tb(Re(a,
Fa)),a.parentNode=Fa.documentElement):a.parentNode=null;return E([a])};F.on=function(a,b,c){var d=arguments.length;if(3>d){if("string"!==typeof a){2>d&&(b=!1);for(c in a)this.each(U(c,a[c],b));return this}if(2>d)return(d=this.node()["__on"+a])&&d._;c=!1}return this.each(U(a,b,c))};var ta=B.map({mouseenter:"mouseover",mouseleave:"mouseout"});Fa&&ta.forEach(function(a){"on"+a in Fa&&ta.remove(a)});var rd,Vh=0;B.mouse=function(a){return $(a,C())};var Jg=this.navigator&&/WebKit/.test(this.navigator.userAgent)?
-1:0;B.touch=function(a,b,c){3>arguments.length&&(c=b,b=C().changedTouches);if(b)for(var d=0,e=b.length,f;d<e;++d)if((f=b[d]).identifier===c)return $(a,f)};B.behavior.drag=function(){function a(){this.on("mousedown.drag",e).on("touchstart.drag",f)}function b(a,e,f,g,h){return function(){var b=B.event.target,l=this.parentNode,z=c.of(this,arguments),k=0,m=a(),n=".drag"+(null==m?"":"-"+m),p,q=B.select(f(b)).on(g+n,function(){var a=e(l,m),b,c;a&&(b=a[0]-r[0],c=a[1]-r[1],k|=b|c,r=a,z({type:"drag",x:a[0]+
p[0],y:a[1]+p[1],dx:b,dy:c}))}).on(h+n,function(){e(l,m)&&(q.on(g+n,null).on(h+n,null),F(k&&B.event.target===b),z({type:"dragend"}))}),F=R(b),r=e(l,m);d?(p=d.apply(this,arguments),p=[p.x-r[0],p.y-r[1]]):p=[0,0];z({type:"dragstart"})}}var c=D(a,"drag","dragstart","dragend"),d=null,e=b(u,B.mouse,h,"mousemove","mouseup"),f=b(P,B.touch,s,"touchmove","touchend");a.origin=function(b){if(!arguments.length)return d;d=b;return a};return B.rebind(a,c,"on")};B.touches=function(a,b){2>arguments.length&&(b=C().touches);
return b?tb(b).map(function(b){var c=$(a,b);c.identifier=b.identifier;return c}):[]};var Z=1E-6,Pg=Z*Z,ja=Math.PI,yb=2*ja,ai=yb-Z,Ba=ja/2,ka=ja/180,za=180/ja,sg=Math.SQRT2,gh=2;B.interpolateZoom=function(a,b){function c(a){var b=a*q;if(p){a=tc(n);var g=f/(gh*k),z,m=sg*b+n;z=((m=Math.exp(2*m))-1)/(m+1);z*=a;var F=n,m=((F=Math.exp(F))-1/F)/2,g=g*(z-m);return[d+g*h,e+g*l,f*a/tc(sg*b+n)]}return[d+a*h,e+a*l,f*Math.exp(sg*b)]}var d=a[0],e=a[1],f=a[2],g=b[2],h=b[0]-d,l=b[1]-e,z=h*h+l*l,k=Math.sqrt(z),m=
(g*g-f*f+4*z)/(2*f*gh*k),z=(g*g-f*f-4*z)/(2*g*gh*k),n=Math.log(Math.sqrt(m*m+1)-m),p=Math.log(Math.sqrt(z*z+1)-z)-n,q=(p||Math.log(g/f))/sg;c.duration=1E3*q;return c};B.behavior.zoom=function(){function a(b){b.on(u,k).on(hh+".zoom",n).on("dblclick.zoom",p).on(ta,m)}function b(a){return[(a[0]-q.x)/q.k,(a[1]-q.y)/q.k]}function c(a){q.k=Math.max(x[0],Math.min(x[1],a))}function d(a,b){b=[b[0]*q.k+q.x,b[1]*q.k+q.y];q.x+=a[0]-b[0];q.y+=a[1]-b[1]}function e(b,f,g,h){b.__chart__={x:q.x,y:q.y,k:q.k};c(Math.pow(2,
h));d(r=f,g);b=B.select(b);0<v&&(b=b.transition().duration(v));b.call(a.event)}function f(){H&&H.domain(E.range().map(function(a){return(a-q.x)/q.k}).map(E.invert));S&&S.domain(J.range().map(function(a){return(a-q.y)/q.k}).map(J.invert))}function g(a){y++||a({type:"zoomstart"})}function l(a){f();a({type:"zoom",scale:q.k,translate:[q.x,q.y]})}function z(a){--y||(a({type:"zoomend"}),r=null)}function k(){var a=this,c=B.event.target,e=G.of(a,arguments),f=0,m=B.select(h(a)).on(w,function(){f=1;d(B.mouse(a),
n);l(e)}).on(C,function(){m.on(w,null).on(C,null);p(f&&B.event.target===c);z(e)}),n=b(B.mouse(a)),p=R(a);tg.call(a);g(e)}function m(){function a(){var c=B.touches(p);s=q.k;c.forEach(function(a){a.identifier in r&&(r[a.identifier]=b(a))});return c}function f(){var b=B.event.target;B.select(b).on(v,h).on(y,n);w.push(b);for(var b=B.event.changedTouches,c=0,d=b.length;c<d;++c)r[b[c].identifier]=null;c=a();d=Date.now();1===c.length?(500>d-ua&&(b=c[0],e(p,b,r[b.identifier],Math.floor(Math.log(q.k)/Math.LN2)+
1),A()),ua=d):1<c.length&&(b=c[0],d=c[1],c=b[0]-d[0],b=b[1]-d[1],t=c*c+b*b)}function h(){var a=B.touches(p),b,e,f,g;tg.call(p);for(var z=0,k=a.length;z<k;++z,g=null)if(f=a[z],g=r[f.identifier]){if(e)break;b=f;e=g}if(g){var m=(m=f[0]-b[0])*m+(m=f[1]-b[1])*m,a=t&&Math.sqrt(m/t);b=[(b[0]+f[0])/2,(b[1]+f[1])/2];e=[(e[0]+g[0])/2,(e[1]+g[1])/2];c(a*s)}ua=null;d(b,e);l(F)}function n(){if(B.event.touches.length){for(var b=B.event.changedTouches,c=0,d=b.length;c<d;++c)delete r[b[c].identifier];for(var e in r)return void a()}B.selectAll(w).on(x,
null);C.on(u,k).on(ta,m);oa();z(F)}var p=this,F=G.of(p,arguments),r={},t=0,s,x=".zoom-"+B.event.changedTouches[0].identifier,v="touchmove"+x,y="touchend"+x,w=[],C=B.select(p),oa=R(p);f();g(F);C.on(u,null).on(ta,f)}function n(){var a=G.of(this,arguments);oa?clearTimeout(oa):(tg.call(this),F=b(r=t||B.mouse(this)),g(a));oa=setTimeout(function(){oa=null;z(a)},50);A();c(Math.pow(2,0.002*ug())*q.k);d(r,F);l(a)}function p(){var a=B.mouse(this),c=Math.log(q.k)/Math.LN2;e(this,a,b(a),B.event.shiftKey?Math.ceil(c)-
1:Math.floor(c)+1)}var q={x:0,y:0,k:1},F,r,t,s=[960,500],x=Eh,v=250,y=0,u="mousedown.zoom",w="mousemove.zoom",C="mouseup.zoom",oa,ta="touchstart.zoom",ua,G=D(a,"zoomstart","zoom","zoomend"),E,H,J,S;hh||(hh="onwheel"in Fa?(ug=function(){return-B.event.deltaY*(B.event.deltaMode?120:1)},"wheel"):"onmousewheel"in Fa?(ug=function(){return B.event.wheelDelta},"mousewheel"):(ug=function(){return-B.event.detail},"MozMousePixelScroll"));a.event=function(a){a.each(function(){var a=G.of(this,arguments),b=q;
fe?B.select(this).transition().each("start.zoom",function(){q=this.__chart__||{x:0,y:0,k:1};g(a)}).tween("zoom:zoom",function(){var c=s[0],d=s[1],e=r?r[0]:c/2,f=r?r[1]:d/2,g=B.interpolateZoom([(e-q.x)/q.k,(f-q.y)/q.k,c/q.k],[(e-b.x)/b.k,(f-b.y)/b.k,c/b.k]);return function(b){b=g(b);var d=c/b[2];this.__chart__=q={x:e-b[0]*d,y:f-b[1]*d,k:d};l(a)}}).each("interrupt.zoom",function(){z(a)}).each("end.zoom",function(){z(a)}):(this.__chart__=q,g(a),l(a),z(a))})};a.translate=function(b){if(!arguments.length)return[q.x,
q.y];q={x:+b[0],y:+b[1],k:q.k};f();return a};a.scale=function(b){if(!arguments.length)return q.k;q={x:q.x,y:q.y,k:+b};f();return a};a.scaleExtent=function(b){if(!arguments.length)return x;x=null==b?Eh:[+b[0],+b[1]];return a};a.center=function(b){if(!arguments.length)return t;t=b&&[+b[0],+b[1]];return a};a.size=function(b){if(!arguments.length)return s;s=b&&[+b[0],+b[1]];return a};a.duration=function(b){if(!arguments.length)return v;v=+b;return a};a.x=function(b){if(!arguments.length)return H;H=b;
E=b.copy();q={x:0,y:0,k:1};return a};a.y=function(b){if(!arguments.length)return S;S=b;J=b.copy();q={x:0,y:0,k:1};return a};return B.rebind(a,G,"on")};var Eh=[0,Infinity],ug,hh;B.color=Ra;Ra.prototype.toString=function(){return this.rgb()+""};B.hsl=Sa;var ih=Sa.prototype=new Ra;ih.brighter=function(a){a=Math.pow(0.7,arguments.length?a:1);return new Sa(this.h,this.s,this.l/a)};ih.darker=function(a){a=Math.pow(0.7,arguments.length?a:1);return new Sa(this.h,this.s,a*this.l)};ih.rgb=function(){return Xa(this.h,
this.s,this.l)};B.hcl=Ia;var jh=Ia.prototype=new Ra;jh.brighter=function(a){return new Ia(this.h,this.c,Math.min(100,this.l+vg*(arguments.length?a:1)))};jh.darker=function(a){return new Ia(this.h,this.c,Math.max(0,this.l-vg*(arguments.length?a:1)))};jh.rgb=function(){return Yb(this.h,this.c,this.l).rgb()};B.lab=Ya;var vg=18,ph=0.95047,qh=1,rh=1.08883,kh=Ya.prototype=new Ra;kh.brighter=function(a){return new Ya(Math.min(100,this.l+vg*(arguments.length?a:1)),this.a,this.b)};kh.darker=function(a){return new Ya(Math.max(0,
this.l-vg*(arguments.length?a:1)),this.a,this.b)};kh.rgb=function(){return qd(this.l,this.a,this.b)};B.rgb=Ma;var wg=Ma.prototype=new Ra;wg.brighter=function(a){a=Math.pow(0.7,arguments.length?a:1);var b=this.r,c=this.g,d=this.b;if(!b&&!c&&!d)return new Ma(30,30,30);b&&30>b&&(b=30);c&&30>c&&(c=30);d&&30>d&&(d=30);return new Ma(Math.min(255,b/a),Math.min(255,c/a),Math.min(255,d/a))};wg.darker=function(a){a=Math.pow(0.7,arguments.length?a:1);return new Ma(a*this.r,a*this.g,a*this.b)};wg.hsl=function(){return Zb(this.r,
this.g,this.b)};wg.toString=function(){return"#"+Na(this.r)+Na(this.g)+Na(this.b)};var Jf=B.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,
darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,
gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,
lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,
orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,
slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});Jf.forEach(function(a,b){Jf.set(a,new Ma(b>>16,b>>8&255,b&255))});B.functor=sa;B.xhr=ub(s);B.dsv=function(a,b){function c(a,f,g){3>arguments.length&&(g=f,f=null);var h=dc(a,b,null==f?d:e(f),g);h.row=function(a){return arguments.length?h.response(null==(f=
a)?d:e(a)):f};return h}function d(a){return c.parse(a.responseText)}function e(a){return function(b){return c.parse(b.responseText,a)}}function f(b){return b.map(g).join(a)}function g(a){return h.test(a)?'"'+a.replace(/\"/g,'""')+'"':a}var h=RegExp('["'+a+"\n]"),l=a.charCodeAt(0);c.parse=function(a,b){var d;return c.parseRows(a,function(a,c){if(d)return d(a,c-1);var e=new Function("d","return {"+a.map(function(a,b){return JSON.stringify(a)+": d["+b+"]"}).join(",")+"}");d=b?function(a,c){return b(e(a),
c)}:e})};c.parseRows=function(a,b){function c(){if(h>=g)return e;if(m)return m=!1,d;var b=h;if(34===a.charCodeAt(b)){for(var f=b;f++<g;)if(34===a.charCodeAt(f)){if(34!==a.charCodeAt(f+1))break;++f}h=f+2;var z=a.charCodeAt(f+1);13===z?(m=!0,10===a.charCodeAt(f+2)&&++h):10===z&&(m=!0);return a.slice(b+1,f).replace(/""/g,'"')}for(;h<g;){z=a.charCodeAt(h++);f=1;if(10===z)m=!0;else if(13===z)m=!0,10===a.charCodeAt(h)&&(++h,++f);else if(z!==l)continue;return a.slice(b,h-f)}return a.slice(b)}for(var d={},
e={},f=[],g=a.length,h=0,z=0,k,m;(k=c())!==e;){for(var n=[];k!==d&&k!==e;)n.push(k),k=c();b&&null==(n=b(n,z++))||f.push(n)}return f};c.format=function(b){if(Array.isArray(b[0]))return c.formatRows(b);var d=new r,e=[];b.forEach(function(a){for(var b in a)d.has(b)||e.push(d.add(b))});return[e.map(g).join(a)].concat(b.map(function(b){return e.map(function(a){return g(b[a])}).join(a)})).join("\n")};c.formatRows=function(a){return a.map(f).join("\n")};return c};B.csv=B.dsv(",","text/csv");B.tsv=B.dsv("\t",
"text/tab-separated-values");var Mf,Nf,Lf,Kf,wc,sh=this[w(this,"requestAnimationFrame")]||function(a){setTimeout(a,17)};B.timer=function(a,b,c){var d=arguments.length;2>d&&(b=0);3>d&&(c=Date.now());d={c:a,t:c+b,f:!1,n:null};Nf?Nf.n=d:Mf=d;Nf=d;Lf||(Kf=clearTimeout(Kf),Lf=1,sh(vb))};B.timer.flush=function(){gb();sd()};B.round=function(a,b){return b?Math.round(a*(b=Math.pow(10,b)))/b:Math.round(a)};var bi="y z a f p n \u00b5 m  k M G T P E Z Y".split(" ").map(function(a,b){var c=Math.pow(10,3*ia(8-
b));return{scale:8<b?function(a){return a/c}:function(a){return a*c},symbol:a}});B.formatPrefix=function(a,b){var c=0;a&&(0>a&&(a*=-1),b&&(a=B.round(a,da(a,b))),c=1+Math.floor(1E-12+Math.log(a)/Math.LN10),c=Math.max(-24,Math.min(24,3*Math.floor((c-1)/3))));return bi[8+c/3]};var th=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,Wh=B.map({b:function(a){return a.toString(2)},c:function(a){return String.fromCharCode(a)},o:function(a){return a.toString(8)},x:function(a){return a.toString(16)},
X:function(a){return a.toString(16).toUpperCase()},g:function(a,b){return a.toPrecision(b)},e:function(a,b){return a.toExponential(b)},f:function(a,b){return a.toFixed(b)},r:function(a,b){return(a=B.round(a,da(a,b))).toFixed(Math.max(0,Math.min(20,da(a*(1+1E-15),b))))}}),ca=B.time={},Ua=Date;Ta.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},
getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){Pc.setUTCDate.apply(this._,arguments)},setDay:function(){Pc.setUTCDay.apply(this._,arguments)},setFullYear:function(){Pc.setUTCFullYear.apply(this._,
arguments)},setHours:function(){Pc.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){Pc.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){Pc.setUTCMinutes.apply(this._,arguments)},setMonth:function(){Pc.setUTCMonth.apply(this._,arguments)},setSeconds:function(){Pc.setUTCSeconds.apply(this._,arguments)},setTime:function(){Pc.setTime.apply(this._,arguments)}};var Pc=Date.prototype;ca.year=wb(function(a){a=ca.day(a);a.setMonth(0,1);return a},function(a,b){a.setFullYear(a.getFullYear()+
b)},function(a){return a.getFullYear()});ca.years=ca.year.range;ca.years.utc=ca.year.utc.range;ca.day=wb(function(a){var b=new Ua(2E3,0);b.setFullYear(a.getFullYear(),a.getMonth(),a.getDate());return b},function(a,b){a.setDate(a.getDate()+b)},function(a){return a.getDate()-1});ca.days=ca.day.range;ca.days.utc=ca.day.utc.range;ca.dayOfYear=function(a){var b=ca.year(a);return Math.floor((a-b-6E4*(a.getTimezoneOffset()-b.getTimezoneOffset()))/864E5)};"sunday monday tuesday wednesday thursday friday saturday".split(" ").forEach(function(a,
b){b=7-b;var c=ca[a]=wb(function(a){(a=ca.day(a)).setDate(a.getDate()-(a.getDay()+b)%7);return a},function(a,b){a.setDate(a.getDate()+7*Math.floor(b))},function(a){var c=ca.year(a).getDay();return Math.floor((ca.dayOfYear(a)+(c+b)%7)/7)-(c!==b)});ca[a+"s"]=c.range;ca[a+"s"].utc=c.utc.range;ca[a+"OfYear"]=function(a){var c=ca.year(a).getDay();return Math.floor((ca.dayOfYear(a)+(c+b)%7)/7)}});ca.week=ca.sunday;ca.weeks=ca.sunday.range;ca.weeks.utc=ca.sunday.utc.range;ca.weekOfYear=ca.sundayOfYear;var uh=
{"-":"",_:" ","0":"0"},Ca=/^\s*\d+/,vh=/^%/;B.locale=function(a){return{numberFormat:td(a),timeFormat:Sc(a)}};var Fh=B.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")});
B.format=Fh.numberFormat;B.geo={};Ue.prototype={s:0,t:0,add:function(a){Qf(a,this.t,xg);Qf(xg.s,this.s,this);this.s?this.t+=xg.t:this.s=xg.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var xg=new Ue;B.geo.stream=function(a,b){if(a&&Gh.hasOwnProperty(a.type))Gh[a.type](a,b);else Db(a,b)};var Gh={Feature:function(a,b){Db(a.geometry,b)},FeatureCollection:function(a,b){for(var c=a.features,d=-1,e=c.length;++d<e;)Db(c[d].geometry,b)}},wh={Sphere:function(a,b){b.sphere()},Point:function(a,
b){a=a.coordinates;b.point(a[0],a[1],a[2])},MultiPoint:function(a,b){for(var c=a.coordinates,d=-1,e=c.length;++d<e;)a=c[d],b.point(a[0],a[1],a[2])},LineString:function(a,b){gc(a.coordinates,b,0)},MultiLineString:function(a,b){for(var c=a.coordinates,d=-1,e=c.length;++d<e;)gc(c[d],b,0)},Polygon:function(a,b){Ve(a.coordinates,b)},MultiPolygon:function(a,b){for(var c=a.coordinates,d=-1,e=c.length;++d<e;)Ve(c[d],b)},GeometryCollection:function(a,b){for(var c=a.geometries,d=-1,e=c.length;++d<e;)Db(c[d],
b)}};B.geo.area=function(a){Ne=0;B.geo.stream(a,xb);return Ne};var Ne,yd=new Ue,xb={sphere:function(){Ne+=4*ja},point:u,lineStart:u,lineEnd:u,polygonStart:function(){yd.reset();xb.lineStart=Lg},polygonEnd:function(){var a=2*yd;Ne+=0>a?4*ja+a:a;xb.lineStart=xb.lineEnd=xb.point=u}};B.geo.bounds=function(){function a(b,c){x.push(v=[k=b,n=b]);c<m&&(m=c);c>p&&(p=c)}function b(c,d){var e=xc([c*ka,d*ka]);if(t){var f=hc(t,e),f=hc([f[1],-f[0],0],f);Pb(f);var f=zd(f),g=c-q,l=0<g?1:-1,z=f[0]*za*l,g=180<ia(g);
g^(l*q<z&&z<l*c)?(f=f[1]*za,f>p&&(p=f)):(z=(z+360)%360-180,g^(l*q<z&&z<l*c))?(f=-f[1]*za,f<m&&(m=f)):(d<m&&(m=d),d>p&&(p=d));g?c<q?h(k,c)>h(k,n)&&(n=c):h(c,n)>h(k,n)&&(k=c):n>=k?(c<k&&(k=c),c>n&&(n=c)):c>q?h(k,c)>h(k,n)&&(n=c):h(c,n)>h(k,n)&&(k=c)}else a(c,d);t=e;q=c}function c(){y.point=b}function d(){v[0]=k;v[1]=n;y.point=a;t=null}function e(a,c){if(t){var d=a-q;s+=180<ia(d)?d+(0<d?360:-360):d}else F=a,r=c;xb.point(a,c);b(a,c)}function f(){xb.lineStart()}function g(){e(F,r);xb.lineEnd();ia(s)>Z&&
(k=-(n=180));v[0]=k;v[1]=n;t=null}function h(a,b){return 0>(b-=a)?b+360:b}function l(a,b){return a[0]-b[0]}function z(a,b){return b[0]<=b[1]?b[0]<=a&&a<=b[1]:a<b[0]||b[1]<a}var k,m,n,p,q,F,r,t,s,x,v,y={point:a,lineStart:c,lineEnd:d,polygonStart:function(){y.point=e;y.lineStart=f;y.lineEnd=g;s=0;xb.polygonStart()},polygonEnd:function(){xb.polygonEnd();y.point=a;y.lineStart=c;y.lineEnd=d;0>yd?(k=-(n=180),m=-(p=90)):s>Z?p=90:s<-Z&&(m=-90);v[0]=k;v[1]=n}};return function(a){p=n=-(k=m=Infinity);x=[];B.geo.stream(a,
y);if(a=x.length){x.sort(l);for(var b=1,c=x[0],d,e=[c];b<a;++b)d=x[b],z(d[0],c)||z(d[1],c)?(h(c[0],d[1])>h(c[0],c[1])&&(c[1]=d[1]),h(d[0],c[1])>h(c[0],c[1])&&(c[0]=d[0])):e.push(c=d);var f=-Infinity,g;a=e.length-1;b=0;for(c=e[a];b<=a;c=d,++b)if(d=e[b],(g=h(c[1],d[0]))>f)f=g,k=d[0],n=c[1]}x=v=null;return Infinity===k||Infinity===m?[[NaN,NaN],[NaN,NaN]]:[[k,m],[n,p]]}}();B.geo.centroid=function(a){Xe=ke=zc=Ac=jc=Eb=Fb=ib=Uc=Vc=kc=0;B.geo.stream(a,Qb);a=Uc;var b=Vc,c=kc,d=a*a+b*b+c*c;return d<Pg&&(a=
Eb,b=Fb,c=ib,ke<Z&&(a=zc,b=Ac,c=jc),d=a*a+b*b+c*c,d<Pg)?[NaN,NaN]:[Math.atan2(b,a)*za,La(c/Math.sqrt(d))*za]};var Xe,ke,zc,Ac,jc,Eb,Fb,ib,Uc,Vc,kc,Qb={sphere:u,point:je,lineStart:Rf,lineEnd:Ye,polygonStart:function(){Qb.lineStart=Mg},polygonEnd:function(){Qb.lineStart=Rf}},xh=$e(Bc,function(a){var b=NaN,c=NaN,d=NaN,e;return{lineStart:function(){a.lineStart();e=1},point:function(f,g){var h=0<f?ja:-ja,l=ia(f-b);if(ia(l-ja)<Z)a.point(b,c=0<(c+g)/2?Ba:-Ba),a.point(d,c),a.lineEnd(),a.lineStart(),a.point(h,
c),a.point(f,c),e=0;else if(d!==h&&l>=ja){ia(b-d)<Z&&(b-=d*Z);ia(f-h)<Z&&(f-=h*Z);var l=b,z=c,k=f,m,n,p=Math.sin(l-k);c=ia(p)>Z?Math.atan((Math.sin(z)*(n=Math.cos(g))*Math.sin(k)-Math.sin(g)*(m=Math.cos(z))*Math.sin(l))/(m*n*p)):(z+g)/2;a.point(d,c);a.lineEnd();a.lineStart();a.point(h,c);e=0}a.point(b=f,c=g);d=h},lineEnd:function(){a.lineEnd();b=c=NaN},clean:function(){return 2-e}}},function(a,b,c,d){null==a?(c*=Ba,d.point(-ja,c),d.point(0,c),d.point(ja,c),d.point(ja,0),d.point(ja,-c),d.point(0,-c),
d.point(-ja,-c),d.point(-ja,0),d.point(-ja,c)):ia(a[0]-b[0])>Z?(a=a[0]<b[0]?ja:-ja,c=c*a/2,d.point(-a,c),d.point(0,c),d.point(a,c)):d.point(b[0],b[1])},[-ja,-ja/2]),Tf=1E9;B.geo.clipExtent=function(){var a,b,c,d,e,f,g={stream:function(a){e&&(e.valid=!1);e=f(a);e.valid=!0;return e},extent:function(h){if(!arguments.length)return[[a,b],[c,d]];f=Cd(a=+h[0][0],b=+h[0][1],c=+h[1][0],d=+h[1][1]);e&&(e.valid=!1,e=null);return g}};return g.extent([[0,0],[960,500]])};(B.geo.conicEqualArea=function(){return ne(Xc)}).raw=
Xc;B.geo.albers=function(){return B.geo.conicEqualArea().rotate([96,0]).center([-0.6,38.7]).parallels([29.5,45.5]).scale(1070)};B.geo.albersUsa=function(){function a(b){var c=b[0];b=b[1];e=null;(g(c,b),e)||(h(c,b),e)||l(c,b);return e}var b=B.geo.albers(),c=B.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),d=B.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),e,f={point:function(a,b){e=[a,b]}},g,h,l;a.invert=function(a){var e=b.scale(),f=b.translate(),
g=(a[0]-f[0])/e,e=(a[1]-f[1])/e;return(0.12<=e&&0.234>e&&-0.425<=g&&-0.214>g?c:0.166<=e&&0.234>e&&-0.214<=g&&-0.115>g?d:b).invert(a)};a.stream=function(a){var e=b.stream(a),f=c.stream(a),g=d.stream(a);return{point:function(a,b){e.point(a,b);f.point(a,b);g.point(a,b)},sphere:function(){e.sphere();f.sphere();g.sphere()},lineStart:function(){e.lineStart();f.lineStart();g.lineStart()},lineEnd:function(){e.lineEnd();f.lineEnd();g.lineEnd()},polygonStart:function(){e.polygonStart();f.polygonStart();g.polygonStart()},
polygonEnd:function(){e.polygonEnd();f.polygonEnd();g.polygonEnd()}}};a.precision=function(e){if(!arguments.length)return b.precision();b.precision(e);c.precision(e);d.precision(e);return a};a.scale=function(e){if(!arguments.length)return b.scale();b.scale(e);c.scale(0.35*e);d.scale(e);return a.translate(b.translate())};a.translate=function(e){if(!arguments.length)return b.translate();var z=b.scale(),k=+e[0],m=+e[1];g=b.translate(e).clipExtent([[k-0.455*z,m-0.238*z],[k+0.455*z,m+0.238*z]]).stream(f).point;
h=c.translate([k-0.307*z,m+0.201*z]).clipExtent([[k-0.425*z+Z,m+0.12*z+Z],[k-0.214*z-Z,m+0.234*z-Z]]).stream(f).point;l=d.translate([k-0.205*z,m+0.212*z]).clipExtent([[k-0.214*z+Z,m+0.166*z+Z],[k-0.115*z-Z,m+0.234*z-Z]]).stream(f).point;return a};return a.scale(1070)};var yg,Uf,Yc={point:u,lineStart:u,lineEnd:u,polygonStart:function(){Uf=0;Yc.lineStart=Ng},polygonEnd:function(){Yc.lineStart=Yc.lineEnd=Yc.point=u;yg+=ia(Uf/2)}},zg,Ag,Bg,Cg,ci={point:function(a,b){a<zg&&(zg=a);a>Bg&&(Bg=a);b<Ag&&(Ag=
b);b>Cg&&(Cg=b)},lineStart:u,lineEnd:u,polygonStart:u,polygonEnd:u},Rb={point:Gb,lineStart:Cc,lineEnd:Fd,polygonStart:function(){Rb.lineStart=Gd},polygonEnd:function(){Rb.point=Gb;Rb.lineStart=Cc;Rb.lineEnd=Fd}};B.geo.path=function(){function a(b){if(b){"function"===typeof c&&g.pointRadius(+c.apply(this,arguments));if(!h||!h.valid)h=f(g);B.geo.stream(b,h)}return g.result()}function b(){h=null;return a}var c=4.5,d,e,f,g,h;a.area=function(a){yg=0;B.geo.stream(a,f(Yc));return yg};a.centroid=function(a){zc=
Ac=jc=Eb=Fb=ib=Uc=Vc=kc=0;B.geo.stream(a,f(Rb));return kc?[Uc/kc,Vc/kc]:ib?[Eb/ib,Fb/ib]:jc?[zc/jc,Ac/jc]:[NaN,NaN]};a.bounds=function(a){Bg=Cg=-(zg=Ag=Infinity);B.geo.stream(a,f(ci));return[[zg,Ag],[Bg,Cg]]};a.projection=function(a){if(!arguments.length)return d;f=(d=a)?a.stream||df(a):s;return b()};a.context=function(a){if(!arguments.length)return e;g=null==(e=a)?new oe:new pe(a);"function"!==typeof c&&g.pointRadius(c);return b()};a.pointRadius=function(b){if(!arguments.length)return c;c="function"===
typeof b?b:(g.pointRadius(+b),+b);return a};return a.projection(B.geo.albersUsa()).context(null)};B.geo.transform=function(a){return{stream:function(b){b=new ef(b);for(var c in a)b[c]=a[c];return b}}};ef.prototype={point:function(a,b){this.stream.point(a,b)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};B.geo.projection=
la;B.geo.projectionMutator=Dd;(B.geo.equirectangular=function(){return la(Hd)}).raw=Hd.invert=Hd;B.geo.rotation=function(a){function b(c){c=a(c[0]*ka,c[1]*ka);return c[0]*=za,c[1]*=za,c}a=ff(a[0]%360*ka,a[1]*ka,2<a.length?a[2]*ka:0);b.invert=function(b){b=a.invert(b[0]*ka,b[1]*ka);return b[0]*=za,b[1]*=za,b};return b};gf.invert=Hd;B.geo.circle=function(){function a(){var c="function"===typeof b?b.apply(this,arguments):b,d=ff(-c[0]*ka,-c[1]*ka,0).invert,f=[];e(null,null,1,{point:function(a,b){f.push(a=
d(a,b));a[0]*=za;a[1]*=za}});return{type:"Polygon",coordinates:[f]}}var b=[0,0],c,d=6,e;a.origin=function(c){if(!arguments.length)return b;b=c;return a};a.angle=function(b){if(!arguments.length)return c;e=me((c=+b)*ka,d*ka);return a};a.precision=function(b){if(!arguments.length)return d;e=me(c*ka,(d=+b)*ka);return a};return a.angle(90)};B.geo.distance=function(a,b){var c=(b[0]-a[0])*ka,d=a[1]*ka,e=b[1]*ka,f=Math.sin(c),c=Math.cos(c),g=Math.sin(d),d=Math.cos(d),h=Math.sin(e),e=Math.cos(e),l;return Math.atan2(Math.sqrt((l=
e*f)*l+(l=d*h-g*e*c)*l),g*h+d*e*c)};B.geo.graticule=function(){function a(){return{type:"MultiLineString",coordinates:b()}}function b(){return B.range(Math.ceil(f/n)*n,e,n).map(r).concat(B.range(Math.ceil(z/p)*p,l,p).map(t)).concat(B.range(Math.ceil(d/k)*k,c,k).filter(function(a){return ia(a%n)>Z}).map(q)).concat(B.range(Math.ceil(h/m)*m,g,m).filter(function(a){return ia(a%p)>Z}).map(F))}var c,d,e,f,g,h,l,z,k=10,m=k,n=90,p=360,q,F,r,t,s=2.5;a.lines=function(){return b().map(function(a){return{type:"LineString",
coordinates:a}})};a.outline=function(){return{type:"Polygon",coordinates:[r(f).concat(t(l).slice(1),r(e).reverse().slice(1),t(z).reverse().slice(1))]}};a.extent=function(b){return!arguments.length?a.minorExtent():a.majorExtent(b).minorExtent(b)};a.majorExtent=function(b){if(!arguments.length)return[[f,z],[e,l]];f=+b[0][0];e=+b[1][0];z=+b[0][1];l=+b[1][1];f>e&&(b=f,f=e,e=b);z>l&&(b=z,z=l,l=b);return a.precision(s)};a.minorExtent=function(b){if(!arguments.length)return[[d,h],[c,g]];d=+b[0][0];c=+b[1][0];
h=+b[0][1];g=+b[1][1];d>c&&(b=d,d=c,c=b);h>g&&(b=h,h=g,g=b);return a.precision(s)};a.step=function(b){return!arguments.length?a.minorStep():a.majorStep(b).minorStep(b)};a.majorStep=function(b){if(!arguments.length)return[n,p];n=+b[0];p=+b[1];return a};a.minorStep=function(b){if(!arguments.length)return[k,m];k=+b[0];m=+b[1];return a};a.precision=function(b){if(!arguments.length)return s;s=+b;q=Vf(h,g,90);F=jf(d,c,s);r=Vf(z,l,90);t=jf(f,e,s);return a};return a.majorExtent([[-180,-90+Z],[180,90-Z]]).minorExtent([[-180,
-80-Z],[180,80+Z]])};B.geo.greatArc=function(){function a(){return{type:"LineString",coordinates:[c||b.apply(this,arguments),e||d.apply(this,arguments)]}}var b=se,c,d=te,e;a.distance=function(){return B.geo.distance(c||b.apply(this,arguments),e||d.apply(this,arguments))};a.source=function(d){if(!arguments.length)return b;b=d;c="function"===typeof d?null:d;return a};a.target=function(b){if(!arguments.length)return d;d=b;e="function"===typeof b?null:b;return a};a.precision=function(){return arguments.length?
a:0};return a};B.geo.interpolate=function(a,b){return Fc(a[0]*ka,a[1]*ka,b[0]*ka,b[1]*ka)};B.geo.length=function(a){Dg=0;B.geo.stream(a,Oe);return Dg};var Dg,Oe={sphere:u,point:u,lineStart:function(){function a(e,f){var g=Math.sin(f*=ka),h=Math.cos(f),l=ia((e*=ka)-b),z=Math.cos(l);Dg+=Math.atan2(Math.sqrt((l=h*Math.sin(l))*l+(l=d*g-c*h*z)*l),c*g+d*h*z);b=e;c=g;d=h}var b,c,d;Oe.point=function(e,f){b=e*ka;c=Math.sin(f*=ka);d=Math.cos(f);Oe.point=a};Oe.lineEnd=function(){Oe.point=Oe.lineEnd=u}},lineEnd:u,
polygonStart:u,polygonEnd:u},Hh=$c(function(a){return Math.sqrt(2/(1+a))},function(a){return 2*Math.asin(a/2)});(B.geo.azimuthalEqualArea=function(){return la(Hh)}).raw=Hh;var Ih=$c(function(a){return(a=Math.acos(a))&&a/Math.sin(a)},s);(B.geo.azimuthalEquidistant=function(){return la(Ih)}).raw=Ih;(B.geo.conicConformal=function(){return ne(zb)}).raw=zb;(B.geo.conicEquidistant=function(){return ne(ue)}).raw=ue;var Jh=$c(function(a){return 1/a},Math.atan);(B.geo.gnomonic=function(){return la(Jh)}).raw=
Jh;Jd.invert=function(a,b){return[a,2*Math.atan(Math.exp(b))-Ba]};(B.geo.mercator=function(){return lc(Jd)}).raw=Jd;var Kh=$c(function(){return 1},Math.asin);(B.geo.orthographic=function(){return la(Kh)}).raw=Kh;var Lh=$c(function(a){return 1/(1+a)},function(a){return 2*Math.atan(a)});(B.geo.stereographic=function(){return la(Lh)}).raw=Lh;Kd.invert=function(a,b){return[-b,2*Math.atan(Math.exp(a))-Ba]};(B.geo.transverseMercator=function(){var a=lc(Kd),b=a.center,c=a.rotate;a.center=function(a){return a?
b([-a[1],a[0]]):(a=b(),[a[1],-a[0]])};a.rotate=function(a){return a?c([a[0],a[1],2<a.length?a[2]+90:90]):(a=c(),[a[0],a[1],a[2]-90])};return c([0,0,90])}).raw=Kd;B.geom={};B.geom.hull=function(a){function b(a){if(3>a.length)return[];var e=sa(c),f=sa(d),g,h=a.length,l=[],z=[];for(g=0;g<h;g++)l.push([+e.call(this,a[g],g),+f.call(this,a[g],g),g]);l.sort(Wf);for(g=0;g<h;g++)z.push([l[g][0],-l[g][1]]);var e=kf(l),z=kf(z),f=z[0]===e[0],h=z[z.length-1]===e[e.length-1],k=[];for(g=e.length-1;0<=g;--g)k.push(a[l[e[g]][2]]);
for(g=+f;g<z.length-h;++g)k.push(a[l[z[g]][2]]);return k}var c=Hb,d=Ld;if(arguments.length)return b(a);b.x=function(a){return arguments.length?(c=a,b):c};b.y=function(a){return arguments.length?(d=a,b):d};return b};B.geom.polygon=function(a){sb(a,Eg);return a};var Eg=B.geom.polygon.prototype=[];Eg.area=function(){for(var a=-1,b=this.length,c,d=this[b-1],e=0;++a<b;)c=d,d=this[a],e+=c[1]*d[0]-c[0]*d[1];return 0.5*e};Eg.centroid=function(a){var b=-1,c=this.length,d=0,e=0,f,g=this[c-1],h;for(arguments.length||
(a=-1/(6*this.area()));++b<c;)f=g,g=this[b],h=f[0]*g[1]-g[0]*f[1],d+=(f[0]+g[0])*h,e+=(f[1]+g[1])*h;return[d*a,e*a]};Eg.clip=function(a){for(var b,c=lf(a),d=-1,e=this.length-lf(this),f,g,h=this[e-1],l,z,k;++d<e;){b=a.slice();a.length=0;l=this[d];z=b[(g=b.length-c)-1];for(f=-1;++f<g;)k=b[f],Md(k,h,l)?(Md(z,h,l)||a.push(ve(z,k,h,l)),a.push(k)):Md(z,h,l)&&a.push(ve(z,k,h,l)),z=k;c&&a.push(a[0]);h=l}return a};var ze,Od,ye,yh=[],Qg,nf,zh=[];Yf.prototype.prepare=function(){for(var a=this.edges,b=a.length,
c;b--;)c=a[b].edge,(!c.b||!c.a)&&a.splice(b,1);a.sort(Zf);return a.length};ha.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};Jc.prototype={insert:function(a,b){var c,d,e;if(a){b.P=a;if(b.N=a.N)a.N.P=b;a.N=b;if(a.R){for(a=a.R;a.L;)a=a.L;a.L=b}else a.R=b;c=a}else this._?(a=mc(this._),b.P=null,b.N=a,a.P=a.L=b,c=a):(b.P=b.N=null,this._=b,c=null);b.L=b.R=null;b.U=c;b.C=!0;for(a=b;c&&c.C;)d=c.U,
c===d.L?(e=d.R)&&e.C?(c.C=e.C=!1,d.C=!0,a=d):(a===c.R&&(Za(this,c),a=c,c=a.U),c.C=!1,d.C=!0,xa(this,d)):(e=d.L)&&e.C?(c.C=e.C=!1,d.C=!0,a=d):(a===c.L&&(xa(this,c),a=c,c=a.U),c.C=!1,d.C=!0,Za(this,d)),c=a.U;this._.C=!1},remove:function(a){a.N&&(a.N.P=a.P);a.P&&(a.P.N=a.N);a.N=a.P=null;var b=a.U,c=a.L,d=a.R,e,f;e=c?d?mc(d):c:d;b?b.L===a?b.L=e:b.R=e:this._=e;c&&d?(f=e.C,e.C=a.C,e.L=c,c.U=e,e!==d?(b=e.U,e.U=a.U,a=e.R,b.L=a,e.R=d,d.U=e):(e.U=b,b=e,a=e.R)):(f=a.C,a=e);a&&(a.U=b);if(!f)if(a&&a.C)a.C=!1;
else{do{if(a===this._)break;if(a===b.L){if(a=b.R,a.C&&(a.C=!1,b.C=!0,Za(this,b),a=b.R),a.L&&a.L.C||a.R&&a.R.C){if(!a.R||!a.R.C)a.L.C=!1,a.C=!0,xa(this,a),a=b.R;a.C=b.C;b.C=a.R.C=!1;Za(this,b);a=this._;break}}else if(a=b.L,a.C&&(a.C=!1,b.C=!0,xa(this,b),a=b.L),a.L&&a.L.C||a.R&&a.R.C){if(!a.L||!a.L.C)a.R.C=!1,a.C=!0,Za(this,a),a=b.L;a.C=b.C;b.C=a.L.C=!1;xa(this,b);a=this._;break}a.C=!0;a=b;b=b.U}while(!a.C);a&&(a.C=!1)}}};B.geom.voronoi=function(a){function b(a){var d=Array(a.length),e=h[0][0],f=h[0][1],
g=h[1][0],l=h[1][1];jb(c(a),h).cells.forEach(function(b,c){var h=b.edges,z=b.site;(d[c]=h.length?h.map(function(a){a=a.start();return[a.x,a.y]}):z.x>=e&&z.x<=g&&z.y>=f&&z.y<=l?[[e,l],[g,l],[g,f],[e,f]]:[]).point=a[c]});return d}function c(a){return a.map(function(a,b){return{x:Math.round(f(a,b)/Z)*Z,y:Math.round(g(a,b)/Z)*Z,i:b}})}var d=Hb,e=Ld,f=d,g=e,h=Fg;if(a)return b(a);b.links=function(a){return jb(c(a)).edges.filter(function(a){return a.l&&a.r}).map(function(b){return{source:a[b.l.i],target:a[b.r.i]}})};
b.triangles=function(a){var b=[];jb(c(a)).cells.forEach(function(c,d){for(var e=c.site,f=c.edges.sort(Zf),g=-1,h=f.length,l,z=f[h-1].edge,z=z.l===e?z.r:z.l;++g<h;)l=z,z=f[g].edge,z=z.l===e?z.r:z.l,d<l.i&&(d<z.i&&0>(e.x-z.x)*(l.y-e.y)-(e.x-l.x)*(z.y-e.y))&&b.push([a[d],a[l.i],a[z.i]])});return b};b.x=function(a){return arguments.length?(f=sa(d=a),b):d};b.y=function(a){return arguments.length?(g=sa(e=a),b):e};b.clipExtent=function(a){if(!arguments.length)return h===Fg?null:h;h=null==a?Fg:a;return b};
b.size=function(a){return!arguments.length?h===Fg?null:h&&h[1]:b.clipExtent(a&&[[0,0],a])};return b};var Fg=[[-1E6,-1E6],[1E6,1E6]];B.geom.delaunay=function(a){return B.geom.voronoi().triangles(a)};B.geom.quadtree=function(a,b,c,d,e){function f(a){function z(a,b,c,d,e,f,g,h){if(!isNaN(c)&&!isNaN(d))if(a.leaf){var l=a.x,m=a.y;if(null!=l){if(!(0.01>ia(l-c)+ia(m-d))){var n=a.point;a.x=a.y=a.point=null;k(a,n,l,m,e,f,g,h)}k(a,b,c,d,e,f,g,h)}else a.x=c,a.y=d,a.point=b}else k(a,b,c,d,e,f,g,h)}function k(a,
b,c,d,e,f,g,h){var l=0.5*(e+g),m=0.5*(f+h),n=c>=l,p=d>=m,q=p<<1|n;a.leaf=!1;a=a.nodes[q]||(a.nodes[q]=qf());n?e=l:g=l;p?f=m:h=m;z(a,b,c,d,e,f,g,h)}var m,n=sa(g),p=sa(h),q,F,r,t,s,x,v,y;if(null!=b)s=b,x=c,v=d,y=e;else if(v=y=-(s=x=Infinity),q=[],F=[],t=a.length,l)for(r=0;r<t;++r)m=a[r],m.x<s&&(s=m.x),m.y<x&&(x=m.y),m.x>v&&(v=m.x),m.y>y&&(y=m.y),q.push(m.x),F.push(m.y);else for(r=0;r<t;++r){var u=+n(m=a[r],r);m=+p(m,r);u<s&&(s=u);m<x&&(x=m);u>v&&(v=u);m>y&&(y=m);q.push(u);F.push(m)}u=v-s;m=y-x;u>m?
y=x+u:v=s+m;var w=qf();w.add=function(a){z(w,a,+n(a,++r),+p(a,r),s,x,v,y)};w.visit=function(a){cd(a,w,s,x,v,y)};w.find=function(a){return Be(w,a[0],a[1],s,x,v,y)};r=-1;if(null==b){for(;++r<t;)z(w,a[r],q[r],F[r],s,x,v,y);--r}else a.forEach(w.add);q=F=a=m=null;return w}var g=Hb,h=Ld,l;if(l=arguments.length)return g=Ae,h=pf,3===l&&(e=c,d=b,c=b=0),f(a);f.x=function(a){return arguments.length?(g=a,f):g};f.y=function(a){return arguments.length?(h=a,f):h};f.extent=function(a){if(!arguments.length)return null==
b?null:[[b,c],[d,e]];null==a?b=c=d=e=null:(b=+a[0][0],c=+a[0][1],d=+a[1][0],e=+a[1][1]);return f};f.size=function(a){if(!arguments.length)return null==b?null:[d-b,e-c];null==a?b=c=d=e=null:(b=c=0,d=+a[0],e=+a[1]);return f};return f};B.interpolateRgb=Ce;B.interpolateObject=$f;B.interpolateNumber=$a;B.interpolateString=rf;var Rg=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Sg=RegExp(Rg.source,"g");B.interpolate=nc;B.interpolators=[function(a,b){var c=typeof b;return("string"===c?Jf.has(b.toLowerCase())||
/^(#|rgb\(|hsl\()/i.test(b)?Ce:rf:b instanceof Ra?Ce:Array.isArray(b)?Pd:"object"===c&&isNaN(b)?$f:$a)(a,b)}];B.interpolateArray=Pd;var Mh=function(){return s},di=B.map({linear:Mh,poly:function(a){return function(b){return Math.pow(b,a)}},quad:function(){return Tg},cubic:function(){return Jb},sin:function(){return Ab},exp:function(){return dd},circle:function(){return uf},elastic:function(a,b){var c;2>arguments.length&&(b=0.45);arguments.length?c=b/yb*Math.asin(1/a):(a=1,c=b/4);return function(d){return 1+
a*Math.pow(2,-10*d)*Math.sin((d-c)*yb/b)}},back:function(a){a||(a=1.70158);return function(b){return b*b*((a+1)*b-a)}},bounce:function(){return bg}}),ei=B.map({"in":s,out:tf,"in-out":Ga,"out-in":function(a){return Ga(tf(a))}});B.ease=function(a){var b=a.indexOf("-"),c=0<=b?a.slice(0,b):a,b=0<=b?a.slice(b+1):"in",c=di.get(c)||Mh,b=ei.get(b)||s;return sf(b(c.apply(null,rb.call(arguments,1))))};B.interpolateHcl=function(a,b){a=B.hcl(a);b=B.hcl(b);var c=a.h,d=a.c,e=a.l,f=b.h-c,g=b.c-d,h=b.l-e;isNaN(g)&&
(g=0,d=isNaN(d)?b.c:d);isNaN(f)?(f=0,c=isNaN(c)?b.h:c):180<f?f-=360:-180>f&&(f+=360);return function(a){return Yb(c+f*a,d+g*a,e+h*a)+""}};B.interpolateHsl=function(a,b){a=B.hsl(a);b=B.hsl(b);var c=a.h,d=a.s,e=a.l,f=b.h-c,g=b.s-d,h=b.l-e;isNaN(g)&&(g=0,d=isNaN(d)?b.s:d);isNaN(f)?(f=0,c=isNaN(c)?b.h:c):180<f?f-=360:-180>f&&(f+=360);return function(a){return Xa(c+f*a,d+g*a,e+h*a)+""}};B.interpolateLab=function(a,b){a=B.lab(a);b=B.lab(b);var c=a.l,d=a.a,e=a.b,f=b.l-c,g=b.a-d,h=b.b-e;return function(a){return qd(c+
f*a,d+g*a,e+h*a)+""}};B.interpolateRound=vf;B.transform=function(a){var b=Fa.createElementNS(B.ns.prefix.svg,"g");return(B.transform=function(a){if(null!=a){b.setAttribute("transform",a);var c=b.transform.baseVal.consolidate()}return new wa(c?c.matrix:fi)})(a)};wa.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var fi={a:1,b:0,c:0,d:1,e:0,f:0};B.interpolateTransform=ed;B.layout={};B.layout.bundle=function(){return function(a){for(var b=
[],c=-1,d=a.length;++c<d;)b.push(Kb(a[c]));return b}};B.layout.chord=function(){function a(){var c={},m=[],n=B.range(g),p=[],q,F,r,t,s;d=[];e=[];q=0;for(t=-1;++t<g;){F=0;for(s=-1;++s<g;)F+=f[t][s];m.push(F);p.push(B.range(g));q+=F}l&&n.sort(function(a,b){return l(m[a],m[b])});z&&p.forEach(function(a,b){a.sort(function(a,c){return z(f[b][a],f[b][c])})});q=(yb-h*g)/q;F=0;for(t=-1;++t<g;){r=F;for(s=-1;++s<g;){var x=n[t],v=p[x][s],y=f[x][v],u=F,w=F+=y*q;c[x+"-"+v]={index:x,subindex:v,startAngle:u,endAngle:w,
value:y}}e[x]={index:x,startAngle:r,endAngle:F,value:(F-r)/q};F+=h}for(t=-1;++t<g;)for(s=t-1;++s<g;)if(n=c[t+"-"+s],p=c[s+"-"+t],n.value||p.value)d.push(n.value<p.value?{source:p,target:n}:{source:n,target:p});k&&b()}function b(){d.sort(function(a,b){return k((a.source.value+a.target.value)/2,(b.source.value+b.target.value)/2)})}var c={},d,e,f,g,h=0,l,z,k;c.matrix=function(a){if(!arguments.length)return f;g=(f=a)&&f.length;d=e=null;return c};c.padding=function(a){if(!arguments.length)return h;h=a;
d=e=null;return c};c.sortGroups=function(a){if(!arguments.length)return l;l=a;d=e=null;return c};c.sortSubgroups=function(a){if(!arguments.length)return z;z=a;d=null;return c};c.sortChords=function(a){if(!arguments.length)return k;k=a;d&&b();return c};c.chords=function(){d||a();return d};c.groups=function(){e||a();return e};return c};B.layout.force=function(){function a(b){return function(a,c,d,e){if(a.point!==b){d=a.cx-b.x;var f=a.cy-b.y;c=e-c;e=d*d+f*f;if(c*c/p<e)return e<m&&(c=a.charge/e,b.px-=
d*c,b.py-=f*c),!0;a.point&&(e&&e<m)&&(c=a.pointCharge/e,b.px-=d*c,b.py-=f*c)}return!a.charge}}function b(a){a.px=B.event.x;a.py=B.event.y;c.resume()}var c={},d=B.dispatch("start","tick","end"),e=[1,1],f,g,h=0.9,l=gi,z=hi,k=-30,m=ii,n=0.1,p=0.64,q=[],F=[],r,t,x;c.tick=function(){if(0.005>(g*=0.99))return d.end({type:"end",alpha:g=0}),!0;var b=q.length,c=F.length,f,l,z,m,p,s,v;for(f=0;f<c;++f)if(l=F[f],z=l.source,m=l.target,s=m.x-z.x,v=m.y-z.y,p=s*s+v*v)p=g*t[f]*((p=Math.sqrt(p))-r[f])/p,s*=p,v*=p,
m.x-=s*(p=z.weight/(m.weight+z.weight)),m.y-=v*p,z.x+=s*(p=1-p),z.y+=v*p;if(p=g*n)if(s=e[0]/2,v=e[1]/2,f=-1,p)for(;++f<b;)l=q[f],l.x+=(s-l.x)*p,l.y+=(v-l.y)*p;if(k){kb(c=B.geom.quadtree(q),g,x);for(f=-1;++f<b;)(l=q[f]).fixed||c.visit(a(l))}for(f=-1;++f<b;)l=q[f],l.fixed?(l.x=l.px,l.y=l.py):(l.x-=(l.px-(l.px=l.x))*h,l.y-=(l.py-(l.py=l.y))*h);d.tick({type:"tick",alpha:g})};c.nodes=function(a){if(!arguments.length)return q;q=a;return c};c.links=function(a){if(!arguments.length)return F;F=a;return c};
c.size=function(a){if(!arguments.length)return e;e=a;return c};c.linkDistance=function(a){if(!arguments.length)return l;l="function"===typeof a?a:+a;return c};c.distance=c.linkDistance;c.linkStrength=function(a){if(!arguments.length)return z;z="function"===typeof a?a:+a;return c};c.friction=function(a){if(!arguments.length)return h;h=+a;return c};c.charge=function(a){if(!arguments.length)return k;k="function"===typeof a?a:+a;return c};c.chargeDistance=function(a){if(!arguments.length)return Math.sqrt(m);
m=a*a;return c};c.gravity=function(a){if(!arguments.length)return n;n=+a;return c};c.theta=function(a){if(!arguments.length)return Math.sqrt(p);p=a*a;return c};c.alpha=function(a){if(!arguments.length)return g;a=+a;g?g=0<a?a:0:0<a&&(d.start({type:"start",alpha:g=a}),B.timer(c.tick));return c};c.start=function(){function a(c,e){if(!m){m=Array(d);for(h=0;h<d;++h)m[h]=[];for(h=0;h<f;++h){var g=F[h];m[g.source.index].push(g.target);m[g.target.index].push(g.source)}}for(var g=m[b],h=-1,l=g.length,z;++h<
l;)if(!isNaN(z=g[h][c]))return z;return Math.random()*e}var b,d=q.length,f=F.length,g=e[0],h=e[1],m,n;for(b=0;b<d;++b)(n=q[b]).index=b,n.weight=0;for(b=0;b<f;++b)n=F[b],"number"==typeof n.source&&(n.source=q[n.source]),"number"==typeof n.target&&(n.target=q[n.target]),++n.source.weight,++n.target.weight;for(b=0;b<d;++b)n=q[b],isNaN(n.x)&&(n.x=a("x",g)),isNaN(n.y)&&(n.y=a("y",h)),isNaN(n.px)&&(n.px=n.x),isNaN(n.py)&&(n.py=n.y);r=[];if("function"===typeof l)for(b=0;b<f;++b)r[b]=+l.call(this,F[b],b);
else for(b=0;b<f;++b)r[b]=l;t=[];if("function"===typeof z)for(b=0;b<f;++b)t[b]=+z.call(this,F[b],b);else for(b=0;b<f;++b)t[b]=z;x=[];if("function"===typeof k)for(b=0;b<d;++b)x[b]=+k.call(this,q[b],b);else for(b=0;b<d;++b)x[b]=k;return c.resume()};c.resume=function(){return c.alpha(0.1)};c.stop=function(){return c.alpha(0)};c.drag=function(){f||(f=B.behavior.drag().origin(s).on("dragstart.force",dg).on("drag.force",b).on("dragend.force",Sd));if(!arguments.length)return f;this.on("mouseover.force",
fa).on("mouseout.force",Kc).call(f)};return B.rebind(c,d,"on")};var gi=20,hi=1,ii=Infinity;B.layout.hierarchy=function(){function a(e){var f=[e],g=[],h;for(e.depth=0;null!=(h=f.pop());)if(g.push(h),(z=c.call(a,h,h.depth))&&(l=z.length)){for(var l,z,k;0<=--l;)f.push(k=z[l]),k.parent=h,k.depth=h.depth+1;d&&(h.value=0);h.children=z}else d&&(h.value=+d.call(a,h,h.depth)||0),delete h.children;cb(e,function(a){var c,e;b&&(c=a.children)&&c.sort(b);if(d&&(e=a.parent))e.value+=a.value});return g}var b=eg,
c=De,d=wf;a.sort=function(c){if(!arguments.length)return b;b=c;return a};a.children=function(b){if(!arguments.length)return c;c=b;return a};a.value=function(b){if(!arguments.length)return d;d=b;return a};a.revalue=function(b){d&&(Lc(b,function(a){a.children&&(a.value=0)}),cb(b,function(b){var c;b.children||(b.value=+d.call(a,b,b.depth)||0);if(c=b.parent)c.value+=b.value}));return b};return a};B.layout.partition=function(){function a(b,c,d,e){var f=b.children;b.x=c;b.y=b.depth*e;b.dx=d;b.dy=e;if(f&&
(h=f.length)){var g=-1,h,l;for(d=b.value?d/b.value:0;++g<h;)a(l=f[g],c,b=l.value*d,e),c+=b}}function b(a){a=a.children;var c=0;if(a&&(e=a.length))for(var d=-1,e;++d<e;)c=Math.max(c,b(a[d]));return 1+c}function c(f,g){var h=d.call(this,f,g);a(h[0],0,e[0],e[1]/b(h[0]));return h}var d=B.layout.hierarchy(),e=[1,1];c.size=function(a){if(!arguments.length)return e;e=a;return c};return lb(c,d)};B.layout.pie=function(){function a(g){var h=g.length,l=g.map(function(c,d){return+b.call(a,c,d)}),z=+("function"===
typeof d?d.apply(this,arguments):d),k=("function"===typeof e?e.apply(this,arguments):e)-z,m=Math.min(Math.abs(k)/h,+("function"===typeof f?f.apply(this,arguments):f)),n=m*(0>k?-1:1),p=(k-h*n)/B.sum(l),h=B.range(h),q=[],F;null!=c&&h.sort(c===Nh?function(a,b){return l[b]-l[a]}:function(a,b){return c(g[a],g[b])});h.forEach(function(a){q[a]={data:g[a],value:F=l[a],startAngle:z,endAngle:z+=F*p+n,padAngle:m}});return q}var b=Number,c=Nh,d=0,e=yb,f=0;a.value=function(c){if(!arguments.length)return b;b=c;
return a};a.sort=function(b){if(!arguments.length)return c;c=b;return a};a.startAngle=function(b){if(!arguments.length)return d;d=b;return a};a.endAngle=function(b){if(!arguments.length)return e;e=b;return a};a.padAngle=function(b){if(!arguments.length)return f;f=b;return a};return a};var Nh={};B.layout.stack=function(){function a(h,l){if(!(p=h.length))return h;var z=h.map(function(c,d){return b.call(a,c,d)}),k=z.map(function(b){return b.map(function(b,c){return[f.call(a,b,c),g.call(a,b,c)]})}),m=
c.call(a,k,l),z=B.permute(z,m),k=B.permute(k,m),m=d.call(a,k,l),n=z[0].length,p,q,F,r;for(F=0;F<n;++F){e.call(a,z[0][F],r=m[F],k[0][F][1]);for(q=1;q<p;++q)e.call(a,z[q][F],r+=k[q-1][F][1],k[q][F][1])}return h}var b=s,c=Td,d=fd,e=Xg,f=Vg,g=Wg;a.values=function(c){if(!arguments.length)return b;b=c;return a};a.order=function(b){if(!arguments.length)return c;c="function"===typeof b?b:ji.get(b)||Td;return a};a.offset=function(b){if(!arguments.length)return d;d="function"===typeof b?b:ki.get(b)||fd;return a};
a.x=function(b){if(!arguments.length)return f;f=b;return a};a.y=function(b){if(!arguments.length)return g;g=b;return a};a.out=function(b){if(!arguments.length)return e;e=b;return a};return a};var ji=B.map({"inside-out":function(a){var b=a.length,c,d=a.map(Ee),e=a.map(fg),f=B.range(b).sort(function(a,b){return d[a]-d[b]}),g=0,h=0,l=[],z=[];for(a=0;a<b;++a)c=f[a],g<h?(g+=e[c],l.push(c)):(h+=e[c],z.push(c));return z.reverse().concat(l)},reverse:function(a){return B.range(a.length).reverse()},"default":Td}),
ki=B.map({silhouette:function(a){var b=a.length,c=a[0].length,d=[],e=0,f,g,h,l=[];for(g=0;g<c;++g){for(h=f=0;f<b;f++)h+=a[f][g][1];h>e&&(e=h);d.push(h)}for(g=0;g<c;++g)l[g]=(e-d[g])/2;return l},wiggle:function(a){var b=a.length,c=a[0],d=c.length,e,f,g,h,l,z,k,m,n,p=[];p[0]=m=n=0;for(f=1;f<d;++f){for(h=e=0;e<b;++e)h+=a[e][f][1];l=e=0;for(k=c[f][0]-c[f-1][0];e<b;++e){g=0;for(z=(a[e][f][1]-a[e][f-1][1])/(2*k);g<e;++g)z+=(a[g][f][1]-a[g][f-1][1])/k;l+=z*a[e][f][1]}p[f]=m-=h?l/h*k:0;m<n&&(n=m)}for(f=0;f<
d;++f)p[f]-=n;return p},expand:function(a){var b=a.length,c=a[0].length,d=1/b,e,f,g,h=[];for(f=0;f<c;++f){for(g=e=0;e<b;e++)g+=a[e][f][1];if(g)for(e=0;e<b;e++)a[e][f][1]/=g;else for(e=0;e<b;e++)a[e][f][1]=d}for(f=0;f<c;++f)h[f]=0;return h},zero:fd});B.layout.histogram=function(){function a(f,g){var h=[],l=f.map(c,this),z=d.call(this,l,g),k=e.call(this,z,l,g),m;g=-1;for(var n=l.length,p=k.length-1,q=b?1:1/n;++g<p;)m=h[g]=[],m.dx=k[g+1]-(m.x=k[g]),m.y=0;if(0<p)for(g=-1;++g<n;)m=l[g],m>=z[0]&&m<=z[1]&&
(m=h[B.bisect(k,m,1,p)-1],m.y+=q,m.push(f[g]));return h}var b=!0,c=Number,d=yf,e=xf;a.value=function(b){if(!arguments.length)return c;c=b;return a};a.range=function(b){if(!arguments.length)return d;d=sa(b);return a};a.bins=function(b){if(!arguments.length)return e;e="number"===typeof b?function(a){return Fe(a,b)}:sa(b);return a};a.frequency=function(c){if(!arguments.length)return b;b=!!c;return a};return a};B.layout.pack=function(){function a(f,g){var h=b.call(this,f,g),l=h[0],z=d[0],k=d[1],m=null==
e?Math.sqrt:"function"===typeof e?e:function(){return e};l.x=l.y=0;cb(l,function(a){a.r=+m(a.value)});cb(l,ra);if(c){var n=c*(e?1:Math.max(2*l.r/z,2*l.r/k))/2;cb(l,function(a){a.r+=n});cb(l,ra);cb(l,function(a){a.r-=n})}jg(l,z/2,k/2,e?1:1/Math.max(2*l.r/z,2*l.r/k));return h}var b=B.layout.hierarchy().sort(hg),c=0,d=[1,1],e;a.size=function(b){if(!arguments.length)return d;d=b;return a};a.radius=function(b){if(!arguments.length)return e;e=null==b||"function"===typeof b?b:+b;return a};a.padding=function(b){if(!arguments.length)return c;
c=+b;return a};return lb(a,b)};B.layout.tree=function(){function a(z,k){var m=f.call(this,z,k),n=m[0],p=b(n);cb(p,c);p.parent.m=-p.z;Lc(p,d);if(l)Lc(n,e);else{var q=n,F=n,r=n;Lc(n,function(a){a.x<q.x&&(q=a);a.x>F.x&&(F=a);a.depth>r.depth&&(r=a)});var t=g(q,F)/2-q.x,s=h[0]/(F.x+g(F,q)/2+t),x=h[1]/(r.depth||1);Lc(n,function(a){a.x=(a.x+t)*s;a.y=a.depth*x})}return m}function b(a){a={A:null,children:[a]};for(var c=[a],d;null!=(d=c.pop());)for(var e=d.children,f,g=0,h=e.length;g<h;++g)c.push((e[g]=f={_:e[g],
parent:d,children:(f=e[g].children)&&f.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:g}).a=f);return a.children[0]}function c(a){var b=a.children,d=a.parent.children,e=a.i?d[a.i-1]:null;if(b.length){for(var f=0,h=0,l=a.children,z=l.length,k;0<=--z;)k=l[z],k.z+=f,k.m+=f,f+=k.s+(h+=k.c);b=(b[0].z+b[b.length-1].z)/2;e?(a.z=e.z+g(a._,e._),a.m=a.z-b):a.z=b}else e&&(a.z=e.z+g(a._,e._));b=a.parent;d=a.parent.A||d[0];if(e){h=f=a;l=f.parent.children[0];z=f.m;k=h.m;for(var m=e.m,n=l.m,p;e=Ud(e),f=Ge(f),
e&&f;){l=Ge(l);h=Ud(h);h.a=a;p=e.z+m-f.z-z+g(e._,f._);if(0<p){var q=e.a.parent===a.parent?e.a:d,F=a,r=p,t=r/(F.i-q.i);F.c-=t;F.s+=r;q.c+=t;F.z+=r;F.m+=r;z+=p;k+=p}m+=e.m;z+=f.m;n+=l.m;k+=h.m}e&&!Ud(h)&&(h.t=e,h.m+=m-k);f&&!Ge(l)&&(l.t=f,l.m+=z-n,d=a)}b.A=d}function d(a){a._.x=a.z+a.parent.m;a.m+=a.parent.m}function e(a){a.x*=h[0];a.y=a.depth*h[1]}var f=B.layout.hierarchy().sort(null).value(null),g=mb,h=[1,1],l=null;a.separation=function(b){if(!arguments.length)return g;g=b;return a};a.size=function(b){if(!arguments.length)return l?
null:h;l=null==(h=b)?e:null;return a};a.nodeSize=function(b){if(!arguments.length)return l?h:null;l=null==(h=b)?null:e;return a};return lb(a,f)};B.layout.cluster=function(){function a(f,g){var h=b.call(this,f,g),l=h[0],z,k=0;cb(l,function(a){var b=a.children;b&&b.length?(a.x=Zg(b),a.y=Yg(b)):(a.x=z?k+=c(a,z):0,a.y=0,z=a)});var m=gd(l),n=He(l),p=m.x-c(m,n)/2,q=n.x+c(n,m)/2;cb(l,e?function(a){a.x=(a.x-l.x)*d[0];a.y=(l.y-a.y)*d[1]}:function(a){a.x=(a.x-p)/(q-p)*d[0];a.y=(1-(l.y?a.y/l.y:1))*d[1]});return h}
var b=B.layout.hierarchy().sort(null).value(null),c=mb,d=[1,1],e=!1;a.separation=function(b){if(!arguments.length)return c;c=b;return a};a.size=function(b){if(!arguments.length)return e?null:d;e=null==(d=b);return a};a.nodeSize=function(b){if(!arguments.length)return e?d:null;e=null!=(d=b);return a};return lb(a,b)};B.layout.treemap=function(){function a(b,c){for(var d=-1,e=b.length,f,g;++d<e;)g=(f=b[d]).value*(0>c?0:c),f.area=isNaN(g)||0>=g?0:g}function b(c){var e=c.children;if(e&&e.length){var f=
z(c),g=[],h=e.slice(),l=Infinity,k,m="slice"===n?f.dx:"dice"===n?f.dy:"slice-dice"===n?c.depth&1?f.dy:f.dx:Math.min(f.dx,f.dy);a(h,f.dx*f.dy/c.value);for(g.area=0;0<(c=h.length);){g.push(c=h[c-1]);g.area+=c.area;if(!(c="squarify"!==n)){k=m;c=g.area;for(var q=void 0,F=0,r=Infinity,t=-1,s=g.length;++t<s;)if(q=g[t].area)q<r&&(r=q),q>F&&(F=q);c*=c;k*=k;c=(k=c?Math.max(k*F*p/c,c/(k*r*p)):Infinity)<=l}c?(h.pop(),l=k):(g.area-=g.pop().area,d(g,m,f,!1),m=Math.min(f.dx,f.dy),g.length=g.area=0,l=Infinity)}g.length&&
(d(g,m,f,!0),g.length=g.area=0);e.forEach(b)}}function c(b){var e=b.children;if(e&&e.length){var f=z(b),g=e.slice(),h=[];a(g,f.dx*f.dy/b.value);for(h.area=0;b=g.pop();)h.push(b),h.area+=b.area,null!=b.z&&(d(h,b.z?f.dx:f.dy,f,!g.length),h.length=h.area=0);e.forEach(c)}}function d(a,b,c,e){var f=-1,h=a.length,l=c.x,z=c.y,k=b?g(a.area/b):0,m;if(b==c.dx){if(e||k>c.dy)k=c.dy;for(;++f<h;)m=a[f],m.x=l,m.y=z,m.dy=k,l+=m.dx=Math.min(c.x+c.dx-l,k?g(m.area/k):0);m.z=!0;m.dx+=c.x+c.dx-l;c.y+=k;c.dy-=k}else{if(e||
k>c.dx)k=c.dx;for(;++f<h;)m=a[f],m.x=l,m.y=z,m.dx=k,z+=m.dy=Math.min(c.y+c.dy-z,k?g(m.area/k):0);m.z=!1;m.dy+=c.y+c.dy-z;c.x+=k;c.dx-=k}}function e(d){d=m||f(d);var g=d[0];g.x=0;g.y=0;g.dx=h[0];g.dy=h[1];m&&f.revalue(g);a([g],g.dx*g.dy/g.value);(m?c:b)(g);k&&(m=d);return d}var f=B.layout.hierarchy(),g=Math.round,h=[1,1],l=null,z=db,k=!1,m,n="squarify",p=0.5*(1+Math.sqrt(5));e.size=function(a){if(!arguments.length)return h;h=a;return e};e.padding=function(a){function b(c){var d=a.call(e,c,c.depth);
return null==d?db(c):kg(c,"number"===typeof d?[d,d,d,d]:d)}function c(b){return kg(b,a)}if(!arguments.length)return l;var d;z=null==(l=a)?db:"function"===(d=typeof a)?b:"number"===d?(a=[a,a,a,a],c):c;return e};e.round=function(a){if(!arguments.length)return g!=Number;g=a?Math.round:Number;return e};e.sticky=function(a){if(!arguments.length)return k;k=a;m=null;return e};e.ratio=function(a){if(!arguments.length)return p;p=a;return e};e.mode=function(a){if(!arguments.length)return n;n=a+"";return e};
return lb(e,f)};B.random={normal:function(a,b){var c=arguments.length;2>c&&(b=1);1>c&&(a=0);return function(){var c,d;do c=2*Math.random()-1,d=2*Math.random()-1,d=c*c+d*d;while(!d||1<d);return a+b*c*Math.sqrt(-2*Math.log(d)/d)}},logNormal:function(){var a=B.random.normal.apply(B,arguments);return function(){return Math.exp(a())}},bates:function(a){var b=B.random.irwinHall(a);return function(){return b()/a}},irwinHall:function(a){return function(){for(var b=0,c=0;c<a;c++)b+=Math.random();return b}}};
B.scale={};var Xh={floor:s,ceil:s};B.scale.linear=function(){return pa([0,1],[0,1],nc,!1)};var Yh={s:1,g:1,p:1,r:1,e:1};B.scale.log=function(){return Yd(B.scale.linear().domain([0,1]),10,!0,[1,10])};var Ah=B.format(".0e"),Zh={floor:function(a){return-Math.ceil(-a)},ceil:function(a){return-Math.floor(-a)}};B.scale.pow=function(){return Zd(B.scale.linear(),1,[0,1])};B.scale.sqrt=function(){return B.scale.pow().exponent(0.5)};B.scale.ordinal=function(){return ae([],{t:"range",a:[[]]})};B.scale.category10=
function(){return B.scale.ordinal().range(li)};B.scale.category20=function(){return B.scale.ordinal().range(mi)};B.scale.category20b=function(){return B.scale.ordinal().range(ni)};B.scale.category20c=function(){return B.scale.ordinal().range(oi)};var li=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(Mb),mi=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,
1556175,10410725].map(Mb),ni=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(Mb),oi=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(Mb);B.scale.quantile=function(){return ob([],[])};B.scale.quantize=function(){return Cf(0,1,[0,1])};B.scale.threshold=
function(){return Je([0.5],[0,1])};B.scale.identity=function(){return Ub([0,1])};B.svg={};B.svg.arc=function(){function a(){var z=Math.max(0,+c.apply(this,arguments)),k=Math.max(0,+d.apply(this,arguments)),m=g.apply(this,arguments)-Ba,n=h.apply(this,arguments)-Ba,p=Math.abs(n-m),q=m>n?0:1;k<z&&(F=k,k=z,z=F);if(p>=ai)return b(k,q)+(z?b(z,1-q):"")+"Z";var F,r,t,s,x=F=0,v,y,u,w,C,p=[];if(s=(+l.apply(this,arguments)||0)/2)t=f===Gg?Math.sqrt(z*z+k*k):+f.apply(this,arguments),q||(x*=-1),k&&(x=La(t/k*Math.sin(s))),
z&&(F=La(t/z*Math.sin(s)));if(k){if(t=k*Math.cos(m+x),s=k*Math.sin(m+x),v=k*Math.cos(n-x),y=k*Math.sin(n-x),r=Math.abs(n-m-2*x)<=ja?0:1,x&&(0<(t-v)*s-(s-y)*t?0:1)===q^r)v=(m+n)/2,t=k*Math.cos(v),s=k*Math.sin(v),v=y=null}else t=s=0;if(z){x=z*Math.cos(n-F);u=z*Math.sin(n-F);w=z*Math.cos(m+F);C=z*Math.sin(m+F);var A=Math.abs(m-n+2*F)<=ja?0:1;if(F&&(0<(x-w)*u-(u-C)*x?0:1)===1-q^A)w=(m+n)/2,x=z*Math.cos(w),u=z*Math.sin(w),w=C=null}else x=u=0;if(0.001<(F=Math.min(Math.abs(k-z)/2,+e.apply(this,arguments)))){r=
z<k^q?0:1;var A=null==w?[x,u]:null==v?[t,s]:ve([t,s],[w,C],[v,y],[x,u]),m=t-A[0],n=s-A[1],oa=v-A[0],ta=y-A[1],m=1/Math.sin(Math.acos((m*oa+n*ta)/(Math.sqrt(m*m+n*n)*Math.sqrt(oa*oa+ta*ta)))/2),A=Math.sqrt(A[0]*A[0]+A[1]*A[1]);null!=v?(n=Math.min(F,(k-A)/(m+1)),oa=kd(null==w?[x,u]:[w,C],[t,s],k,n,q),ta=kd([v,y],[x,u],k,n,q),F===n?p.push("M",oa[0],"A",n,",",n," 0 0,",r," ",oa[1],"A",k,",",k," 0 ",1-q^(0<(oa[1][0]-ta[1][0])*oa[1][1]-(oa[1][1]-ta[1][1])*oa[1][0]?0:1),",",q," ",ta[1],"A",n,",",n," 0 0,",
r," ",ta[0]):p.push("M",oa[0],"A",n,",",n," 0 1,",r," ",ta[0])):p.push("M",t,",",s);null!=w?(k=Math.min(F,(z-A)/(m-1)),w=kd([t,s],[w,C],z,-k,q),v=kd([x,u],null==v?[t,s]:[v,y],z,-k,q),F===k?p.push("L",v[0],"A",k,",",k," 0 0,",r," ",v[1],"A",z,",",z," 0 ",q^(0<(v[1][0]-w[1][0])*v[1][1]-(v[1][1]-w[1][1])*v[1][0]?0:1),",",1-q," ",w[1],"A",k,",",k," 0 0,",r," ",w[0]):p.push("L",v[0],"A",k,",",k," 0 0,",r," ",w[0])):p.push("L",x,",",u)}else p.push("M",t,",",s),null!=v&&p.push("A",k,",",k," 0 ",r,",",q,
" ",v,",",y),p.push("L",x,",",u),null!=w&&p.push("A",z,",",z," 0 ",A,",",1-q," ",w,",",C);p.push("Z");return p.join("")}function b(a,c){return"M0,"+a+"A"+a+","+a+" 0 1,"+c+" 0,"+-a+"A"+a+","+a+" 0 1,"+c+" 0,"+a}var c=hd,d=lg,e=$g,f=Gg,g=Df,h=jd,l=be;a.innerRadius=function(b){if(!arguments.length)return c;c=sa(b);return a};a.outerRadius=function(b){if(!arguments.length)return d;d=sa(b);return a};a.cornerRadius=function(b){if(!arguments.length)return e;e=sa(b);return a};a.padRadius=function(b){if(!arguments.length)return f;
f=b==Gg?Gg:sa(b);return a};a.startAngle=function(b){if(!arguments.length)return g;g=sa(b);return a};a.endAngle=function(b){if(!arguments.length)return h;h=sa(b);return a};a.padAngle=function(b){if(!arguments.length)return l;l=sa(b);return a};a.centroid=function(){var a=(+c.apply(this,arguments)+ +d.apply(this,arguments))/2,b=(+g.apply(this,arguments)+ +h.apply(this,arguments))/2-Ba;return[Math.cos(b)*a,Math.sin(b)*a]};return a};var Gg="auto";B.svg.line=function(){return pc(s)};var ah=B.map({linear:Pa,
"linear-closed":function(a){return Pa(a)+"Z"},step:function(a){for(var b=0,c=a.length,d=a[0],e=[d[0],",",d[1]];++b<c;)e.push("H",(d[0]+(d=a[b])[0])/2,"V",d[1]);1<c&&e.push("H",d[0]);return e.join("")},"step-before":Ef,"step-after":ld,basis:mg,"basis-open":function(a){if(4>a.length)return Pa(a);for(var b=[],c=-1,d=a.length,e,f=[0],g=[0];3>++c;)e=a[c],f.push(e[0]),g.push(e[1]);b.push(qb(nd,f)+","+qb(nd,g));for(--c;++c<d;)e=a[c],f.shift(),f.push(e[0]),g.shift(),g.push(e[1]),od(b,f,g);return b.join("")},
"basis-closed":function(a){for(var b,c=-1,d=a.length,e=d+4,f,g=[],h=[];4>++c;)f=a[c%d],g.push(f[0]),h.push(f[1]);b=[qb(nd,g),",",qb(nd,h)];for(--c;++c<e;)f=a[c%d],g.shift(),g.push(f[0]),h.shift(),h.push(f[1]),od(b,g,h);return b.join("")},bundle:function(a,b){var c=a.length-1;if(c)for(var d=a[0][0],e=a[0][1],f=a[c][0]-d,g=a[c][1]-e,h=-1,l,z;++h<=c;)l=a[h],z=h/c,l[0]=b*l[0]+(1-b)*(d+z*f),l[1]=b*l[1]+(1-b)*(e+z*g);return mg(a)},cardinal:function(a,b){return 3>a.length?Pa(a):a[0]+pb(a,md(a,b))},"cardinal-open":function(a,
b){return 4>a.length?Pa(a):a[1]+pb(a.slice(1,-1),md(a,b))},"cardinal-closed":function(a,b){return 3>a.length?Pa(a):a[0]+pb((a.push(a[0]),a),md([a[a.length-2]].concat(a,[a[1]]),b))},monotone:function(a){if(3>a.length)a=Pa(a);else{var b=a[0],c=[],d,e,f,g;d=0;e=a.length-1;var h=[];f=a[1];for(g=h[0]=Vb(a[0],f);++d<e;)h[d]=(g+(g=Vb(f,f=a[d+1])))/2;h[d]=g;for(var l=-1,z=a.length-1;++l<z;)d=Vb(a[l],a[l+1]),ia(d)<Z?h[l]=h[l+1]=0:(e=h[l]/d,f=h[l+1]/d,g=e*e+f*f,9<g&&(g=3*d/Math.sqrt(g),h[l]=g*e,h[l+1]=g*f));
for(l=-1;++l<=z;)g=(a[Math.min(z,l+1)][0]-a[Math.max(0,l-1)][0])/(6*(1+h[l]*h[l])),c.push([g||0,h[l]*g||0]);a=b+pb(a,c)}return a}});ah.forEach(function(a,b){b.key=a;b.closed=/-closed$/.test(a)});var Bh=[0,2/3,1/3,0],Ch=[0,1/3,2/3,0],nd=[0,1/6,2/3,1/6];B.svg.line.radial=function(){var a=pc(ng);a.radius=a.x;delete a.x;a.angle=a.y;delete a.y;return a};Ef.reverse=ld;ld.reverse=Ef;B.svg.area=function(){return ce(s)};B.svg.area.radial=function(){var a=ce(ng);a.radius=a.x;delete a.x;a.innerRadius=a.x0;delete a.x0;
a.outerRadius=a.x1;delete a.x1;a.angle=a.y;delete a.y;a.startAngle=a.y0;delete a.y0;a.endAngle=a.y1;delete a.y1;return a};B.svg.chord=function(){function a(e,f){var g=b(this,c,e,f),h=b(this,d,e,f);return"M"+g.p0+("A"+g.r+","+g.r+" 0 "+ +(g.a1-g.a0>ja)+",1 "+g.p1)+(g.a0==h.a0&&g.a1==h.a1?"Q 0,0 "+g.p0:"Q 0,0 "+h.p0+("A"+h.r+","+h.r+" 0 "+ +(h.a1-h.a0>ja)+",1 "+h.p1)+("Q 0,0 "+g.p0))+"Z"}function b(a,c,d,h){var l=c.call(a,d,h);c=e.call(a,l,h);d=f.call(a,l,h)-Ba;a=g.call(a,l,h)-Ba;return{r:c,a0:d,a1:a,
p0:[c*Math.cos(d),c*Math.sin(d)],p1:[c*Math.cos(a),c*Math.sin(a)]}}var c=se,d=te,e=Ke,f=Df,g=jd;a.radius=function(b){if(!arguments.length)return e;e=sa(b);return a};a.source=function(b){if(!arguments.length)return c;c=sa(b);return a};a.target=function(b){if(!arguments.length)return d;d=sa(b);return a};a.startAngle=function(b){if(!arguments.length)return f;f=sa(b);return a};a.endAngle=function(b){if(!arguments.length)return g;g=sa(b);return a};return a};B.svg.diagonal=function(){function a(e,f){var g=
b.call(this,e,f),h=c.call(this,e,f),l=(g.y+h.y)/2,g=[g,{x:g.x,y:l},{x:h.x,y:l},h],g=g.map(d);return"M"+g[0]+"C"+g[1]+" "+g[2]+" "+g[3]}var b=se,c=te,d=qc;a.source=function(c){if(!arguments.length)return b;b=sa(c);return a};a.target=function(b){if(!arguments.length)return c;c=sa(b);return a};a.projection=function(b){if(!arguments.length)return d;d=b;return a};return a};B.svg.diagonal.radial=function(){var a=B.svg.diagonal(),b=qc,c=a.projection;a.projection=function(a){return arguments.length?c(bh(b=
a)):b};return a};B.svg.symbol=function(){function a(d,e){return(Oh.get(b.call(this,d,e))||Wa)(c.call(this,d,e))}var b=dh,c=ch;a.type=function(c){if(!arguments.length)return b;b=sa(c);return a};a.size=function(b){if(!arguments.length)return c;c=sa(b);return a};return a};var Oh=B.map({circle:Wa,cross:function(a){a=Math.sqrt(a/5)/2;return"M"+-3*a+","+-a+"H"+-a+"V"+-3*a+"H"+a+"V"+-a+"H"+3*a+"V"+a+"H"+a+"V"+3*a+"H"+-a+"V"+a+"H"+-3*a+"Z"},diamond:function(a){a=Math.sqrt(a/(2*Ph));var b=a*Ph;return"M0,"+
-a+"L"+b+",0 0,"+a+" "+-b+",0Z"},square:function(a){a=Math.sqrt(a)/2;return"M"+-a+","+-a+"L"+a+","+-a+" "+a+","+a+" "+-a+","+a+"Z"},"triangle-down":function(a){a=Math.sqrt(a/Hg);var b=a*Hg/2;return"M0,"+b+"L"+a+","+-b+" "+-a+","+-b+"Z"},"triangle-up":function(a){a=Math.sqrt(a/Hg);var b=a*Hg/2;return"M0,"+-b+"L"+a+","+b+" "+-a+","+b+"Z"}});B.svg.symbolTypes=Oh.keys();var Hg=Math.sqrt(3),Ph=Math.tan(30*ka);F.transition=function(a){var b=fe||++Qh;a=de(a);for(var c=[],d,e,f=Ig||{time:Date.now(),ease:ag,
delay:0,duration:250},g=-1,h=this.length;++g<h;){c.push(d=[]);for(var l=this[g],z=-1,k=l.length;++z<k;)(e=l[z])&&na(e,z,a,b,f),d.push(e)}return Wb(c,a,b)};F.interrupt=function(a){return this.each(null==a?tg:og(de(a)))};var tg=og(de()),Ha=[],Qh=0,fe,Ig;Ha.call=F.call;Ha.empty=F.empty;Ha.node=F.node;Ha.size=F.size;B.transition=function(a,b){return a&&a.transition?fe?a.transition(b):a:B.selection().transition(a)};B.transition.prototype=Ha;Ha.select=function(a){var b=this.id,c=this.namespace,d=[],e,f,
g;a=G(a);for(var h=-1,l=this.length;++h<l;){d.push(e=[]);for(var z=this[h],k=-1,m=z.length;++k<m;)(g=z[k])&&(f=a.call(g,g.__data__,k,h))?("__data__"in g&&(f.__data__=g.__data__),na(f,k,c,b,g[c][b]),e.push(f)):e.push(null)}return Wb(d,c,b)};Ha.selectAll=function(a){var b=this.id,c=this.namespace,d=[],e,f,g,h;a=H(a);for(var l=-1,z=this.length;++l<z;)for(var k=this[l],m=-1,n=k.length;++m<n;)if(e=k[m]){h=e[c][b];f=a.call(e,e.__data__,m,l);d.push(e=[]);for(var p=-1,q=f.length;++p<q;)(g=f[p])&&na(g,p,c,
b,h),e.push(g)}return Wb(d,c,b)};Ha.filter=function(a){var b=[],c,d,e;"function"!==typeof a&&(a=L(a));for(var f=0,g=this.length;f<g;f++){b.push(c=[]);d=this[f];for(var h=0,l=d.length;h<l;h++)(e=d[h])&&a.call(e,e.__data__,h,f)&&c.push(e)}return Wb(b,this.namespace,this.id)};Ha.tween=function(a,b){var c=this.id,d=this.namespace;return 2>arguments.length?this.node()[d][c].tween.get(a):I(this,null==b?function(b){b[d][c].tween.remove(a)}:function(e){e[d][c].tween.set(a,b)})};Ha.attr=function(a,b){function c(){this.removeAttribute(h)}
function d(){this.removeAttributeNS(h.space,h.local)}function e(a){return null==a?c:(a+="",function(){var b=this.getAttribute(h),c;return b!==a&&(c=g(b,a),function(a){this.setAttribute(h,c(a))})})}function f(a){return null==a?d:(a+="",function(){var b=this.getAttributeNS(h.space,h.local),c;return b!==a&&(c=g(b,a),function(a){this.setAttributeNS(h.space,h.local,c(a))})})}if(2>arguments.length){for(b in a)this.attr(b,a[b]);return this}var g="transform"==a?ed:nc,h=B.ns.qualify(a);return Qa(this,"attr."+
a,b,h.local?f:e)};Ha.attrTween=function(a,b){function c(a,d){var f=b.call(this,a,d,this.getAttribute(e));return f&&function(a){this.setAttribute(e,f(a))}}function d(a,c){var f=b.call(this,a,c,this.getAttributeNS(e.space,e.local));return f&&function(a){this.setAttributeNS(e.space,e.local,f(a))}}var e=B.ns.qualify(a);return this.tween("attr."+a,e.local?d:c)};Ha.style=function(a,b,c){function d(){this.style.removeProperty(a)}var e=arguments.length;if(3>e){if("string"!==typeof a){2>e&&(b="");for(c in a)this.style(c,
a[c],b);return this}c=""}return Qa(this,"style."+a,b,function(b){return null==b?d:(b+="",function(){var d=h(this).getComputedStyle(this,null).getPropertyValue(a),e;return d!==b&&(e=nc(d,b),function(b){this.style.setProperty(a,e(b),c)})})})};Ha.styleTween=function(a,b,c){3>arguments.length&&(c="");return this.tween("style."+a,function(d,e){var f=b.call(this,d,e,h(this).getComputedStyle(this,null).getPropertyValue(a));return f&&function(b){this.style.setProperty(a,f(b),c)}})};Ha.text=function(a){return Qa(this,
"text",a,eh)};Ha.remove=function(){var a=this.namespace;return this.each("end.transition",function(){var b;2>this[a].count&&(b=this.parentNode)&&b.removeChild(this)})};Ha.ease=function(a){var b=this.id,c=this.namespace;if(1>arguments.length)return this.node()[c][b].ease;"function"!==typeof a&&(a=B.ease.apply(B,arguments));return I(this,function(d){d[c][b].ease=a})};Ha.delay=function(a){var b=this.id,c=this.namespace;return 1>arguments.length?this.node()[c][b].delay:I(this,"function"===typeof a?function(d,
e,f){d[c][b].delay=+a.call(d,d.__data__,e,f)}:(a=+a,function(d){d[c][b].delay=a}))};Ha.duration=function(a){var b=this.id,c=this.namespace;return 1>arguments.length?this.node()[c][b].duration:I(this,"function"===typeof a?function(d,e,f){d[c][b].duration=Math.max(1,a.call(d,d.__data__,e,f))}:(a=Math.max(1,a),function(d){d[c][b].duration=a}))};Ha.each=function(a,b){var c=this.id,d=this.namespace;if(2>arguments.length){var e=Ig,f=fe;try{fe=c,I(this,function(b,e,f){Ig=b[d][c];a.call(b,b.__data__,e,f)})}finally{Ig=
e,fe=f}}else I(this,function(e){e=e[d][c];(e.event||(e.event=B.dispatch("start","end","interrupt"))).on(a,b)});return this};Ha.transition=function(){for(var a=this.id,b=++Qh,c=this.namespace,d=[],e,f,g,h,l=0,z=this.length;l<z;l++){d.push(e=[]);f=this[l];for(var k=0,m=f.length;k<m;k++){if(g=f[k])h=g[c][a],na(g,k,c,b,{time:h.time,ease:h.ease,delay:h.delay+h.duration,duration:h.duration});e.push(g)}}return Wb(d,c,b)};B.svg.axis=function(){function a(z){z.each(function(){var a=B.select(this),z=this.__chart__||
b,k=this.__chart__=b.copy(),m=null==h?k.ticks?k.ticks.apply(k,g):k.domain():h,n=null==l?k.tickFormat?k.tickFormat.apply(k,g):s:l,p=a.selectAll(".tick").data(m,k),m=p.enter().insert("g",".domain").attr("class","tick").style("opacity",Z),q=B.transition(p.exit()).style("opacity",Z).remove(),F=B.transition(p.order()).style("opacity",1),r=Math.max(d,0)+f,t=Vd(k),a=a.selectAll(".domain").data([0]),a=(a.enter().append("path").attr("class","domain"),B.transition(a));m.append("line");m.append("text");var x=
m.select("line"),v=F.select("line"),p=p.select("text").text(n),y=m.select("text"),w=F.select("text"),u="top"===c||"left"===c?-1:1,C,A,oa,ta;"bottom"===c||"top"===c?(n=Xb,C="x",oa="y",A="x2",ta="y2",p.attr("dy",0>u?"0em":".71em").style("text-anchor","middle"),a.attr("d","M"+t[0]+","+u*e+"V0H"+t[1]+"V"+u*e)):(n=Ka,C="y",oa="x",A="y2",ta="x2",p.attr("dy",".32em").style("text-anchor",0>u?"end":"start"),a.attr("d","M"+u*e+","+t[0]+"H0V"+t[1]+"H"+u*e));x.attr(ta,u*d);y.attr(oa,u*r);v.attr(A,0).attr(ta,
u*d);w.attr(C,0).attr(oa,u*r);if(k.rangeBand)var ua=k,D=ua.rangeBand()/2,z=k=function(a){return ua(a)+D};else z.rangeBand?z=k:q.call(n,k,z);m.call(n,z,k);F.call(n,k,k)})}var b=B.scale.linear(),c=Rh,d=6,e=6,f=3,g=[10],h=null,l;a.scale=function(c){if(!arguments.length)return b;b=c;return a};a.orient=function(b){if(!arguments.length)return c;c=b in pi?b+"":Rh;return a};a.ticks=function(){if(!arguments.length)return g;g=arguments;return a};a.tickValues=function(b){if(!arguments.length)return h;h=b;return a};
a.tickFormat=function(b){if(!arguments.length)return l;l=b;return a};a.tickSize=function(b){var c=arguments.length;if(!c)return d;d=+b;e=+arguments[c-1];return a};a.innerTickSize=function(b){if(!arguments.length)return d;d=+b;return a};a.outerTickSize=function(b){if(!arguments.length)return e;e=+b;return a};a.tickPadding=function(b){if(!arguments.length)return f;f=+b;return a};a.tickSubdivide=function(){return arguments.length&&a};return a};var Rh="bottom",pi={top:1,right:1,bottom:1,left:1};B.svg.brush=
function(){function a(f){f.each(function(){var f=B.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",e).on("touchstart.brush",e),h=f.selectAll(".background").data([0]);h.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair");f.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var z=f.selectAll(".resize").data(F,s);z.exit().remove();
z.enter().append("g").attr("class",function(a){return"resize "+a}).style("cursor",function(a){return qi[a]}).append("rect").attr("x",function(a){return/[ew]$/.test(a)?-3:null}).attr("y",function(a){return/^[ns]/.test(a)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden");z.style("display",a.empty()?"none":null);f=B.transition(f);h=B.transition(h);g&&(z=Vd(g),h.attr("x",z[0]).attr("width",z[1]-z[0]),c(f));l&&(z=Vd(l),h.attr("y",z[0]).attr("height",z[1]-z[0]),d(f));b(f)})}function b(a){a.selectAll(".resize").attr("transform",
function(a){return"translate("+z[+/e$/.test(a)]+","+k[+/^s/.test(a)]+")"})}function c(a){a.select(".extent").attr("x",z[0]);a.selectAll(".extent,.n\x3erect,.s\x3erect").attr("width",z[1]-z[0])}function d(a){a.select(".extent").attr("y",k[0]);a.selectAll(".extent,.e\x3erect,.w\x3erect").attr("height",k[1]-k[0])}function e(){function F(){var a=B.mouse(s),e=!1;G&&(a[0]+=G[0],a[1]+=G[1]);oa||(B.event.altKey?(ua||(ua=[(z[0]+z[1])/2,(k[0]+k[1])/2]),D[0]=z[+(a[0]<ua[0])],D[1]=k[+(a[1]<ua[1])]):ua=null);
w&&r(a,g,0)&&(c(y),e=!0);C&&r(a,l,1)&&(d(y),e=!0);e&&(b(y),v({type:"brush",mode:oa?"move":"resize"}))}function r(a,b,c){var d=Vd(b);b=d[0];var e=d[1],d=D[c],f=c?k:z,g=f[1]-f[0];oa&&(b-=d,e-=g+d);a=(c?q:p)?Math.max(b,Math.min(e,a[c])):a[c];oa?b=(a+=d)+g:(ua&&(d=Math.max(b,Math.min(e,2*ua[c]-a))),d<a?(b=a,a=d):b=d);if(f[0]!=a||f[1]!=b)return c?n=null:m=null,f[0]=a,f[1]=b,!0}function t(){F();y.style("pointer-events","all").selectAll(".resize").style("display",a.empty()?"none":null);B.select("body").style("cursor",
null);E.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null);ta();v({type:"brushend"})}var s=this,x=B.select(B.event.target),v=f.of(s,arguments),y=B.select(s),u=x.datum(),w=!/^(n|s)$/.test(u)&&g,C=!/^(e|w)$/.test(u)&&l,oa=x.classed("extent"),ta=R(s),ua,D=B.mouse(s),G,E=B.select(h(s)).on("keydown.brush",function(){32==B.event.keyCode&&(oa||(ua=null,D[0]-=z[1],D[1]-=k[1],oa=2),A())}).on("keyup.brush",
function(){32==B.event.keyCode&&2==oa&&(D[0]+=z[1],D[1]+=k[1],oa=0,A())});if(B.event.changedTouches)E.on("touchmove.brush",F).on("touchend.brush",t);else E.on("mousemove.brush",F).on("mouseup.brush",t);y.interrupt().selectAll("*").interrupt();if(oa)D[0]=z[0]-D[0],D[1]=k[0]-D[1];else if(u){var H=+/w$/.test(u),u=+/^n/.test(u);G=[z[1-H]-D[0],k[1-u]-D[1]];D[0]=z[H];D[1]=k[u]}else B.event.altKey&&(ua=D.slice());y.style("pointer-events","none").selectAll(".resize").style("display",null);B.select("body").style("cursor",
x.style("cursor"));v({type:"brushstart"});F()}var f=D(a,"brushstart","brush","brushend"),g=null,l=null,z=[0,0],k=[0,0],m,n,p=!0,q=!0,F=lh[0];a.event=function(a){a.each(function(){var a=f.of(this,arguments),b={x:z,y:k,i:m,j:n},c=this.__chart__||b;this.__chart__=b;fe?B.select(this).transition().each("start.brush",function(){m=c.i;n=c.j;z=c.x;k=c.y;a({type:"brushstart"})}).tween("brush:brush",function(){var c=Pd(z,b.x),d=Pd(k,b.y);m=n=null;return function(e){z=b.x=c(e);k=b.y=d(e);a({type:"brush",mode:"resize"})}}).each("end.brush",
function(){m=b.i;n=b.j;a({type:"brush",mode:"resize"});a({type:"brushend"})}):(a({type:"brushstart"}),a({type:"brush",mode:"resize"}),a({type:"brushend"}))})};a.x=function(b){if(!arguments.length)return g;g=b;F=lh[!g<<1|!l];return a};a.y=function(b){if(!arguments.length)return l;l=b;F=lh[!g<<1|!l];return a};a.clamp=function(b){if(!arguments.length)return g&&l?[p,q]:g?p:l?q:null;g&&l?(p=!!b[0],q=!!b[1]):g?p=!!b:l&&(q=!!b);return a};a.extent=function(b){var c,d,e,f,h;if(!arguments.length)return g&&
(m?(c=m[0],d=m[1]):(c=z[0],d=z[1],g.invert&&(c=g.invert(c),d=g.invert(d)),d<c&&(h=c,c=d,d=h))),l&&(n?(e=n[0],f=n[1]):(e=k[0],f=k[1],l.invert&&(e=l.invert(e),f=l.invert(f)),f<e&&(h=e,e=f,f=h))),g&&l?[[c,e],[d,f]]:g?[c,d]:l&&[e,f];if(g&&(c=b[0],d=b[1],l&&(c=c[0],d=d[0]),m=[c,d],g.invert&&(c=g(c),d=g(d)),d<c&&(h=c,c=d,d=h),c!=z[0]||d!=z[1]))z=[c,d];if(l&&(e=b[0],f=b[1],g&&(e=e[1],f=f[1]),n=[e,f],l.invert&&(e=l(e),f=l(f)),f<e&&(h=e,e=f,f=h),e!=k[0]||f!=k[1]))k=[e,f];return a};a.clear=function(){a.empty()||
(z=[0,0],k=[0,0],m=n=null);return a};a.empty=function(){return!!g&&z[0]==z[1]||!!l&&k[0]==k[1]};return B.rebind(a,f,"on")};var qi={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},lh=["n e s w nw ne se sw".split(" "),["e","w"],["n","s"],[]],mh=ca.format=Fh.timeFormat,Sh=mh.utc,Th=Sh("%Y-%m-%dT%H:%M:%S.%LZ");mh.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Oc:Th;Oc.parse=function(a){a=new Date(a);return isNaN(a)?
null:a};Oc.toString=Th.toString;ca.second=wb(function(a){return new Ua(1E3*Math.floor(a/1E3))},function(a,b){a.setTime(a.getTime()+1E3*Math.floor(b))},function(a){return a.getSeconds()});ca.seconds=ca.second.range;ca.seconds.utc=ca.second.utc.range;ca.minute=wb(function(a){return new Ua(6E4*Math.floor(a/6E4))},function(a,b){a.setTime(a.getTime()+6E4*Math.floor(b))},function(a){return a.getMinutes()});ca.minutes=ca.minute.range;ca.minutes.utc=ca.minute.utc.range;ca.hour=wb(function(a){var b=a.getTimezoneOffset()/
60;return new Ua(36E5*(Math.floor(a/36E5-b)+b))},function(a,b){a.setTime(a.getTime()+36E5*Math.floor(b))},function(a){return a.getHours()});ca.hours=ca.hour.range;ca.hours.utc=ca.hour.utc.range;ca.month=wb(function(a){a=ca.day(a);a.setDate(1);return a},function(a,b){a.setMonth(a.getMonth()+b)},function(a){return a.getMonth()});ca.months=ca.month.range;ca.months.utc=ca.month.utc.range;var pg=[1E3,5E3,15E3,3E4,6E4,3E5,9E5,18E5,36E5,108E5,216E5,432E5,864E5,1728E5,6048E5,2592E6,7776E6,31536E6],nh=[[ca.second,
1],[ca.second,5],[ca.second,15],[ca.second,30],[ca.minute,1],[ca.minute,5],[ca.minute,15],[ca.minute,30],[ca.hour,1],[ca.hour,3],[ca.hour,6],[ca.hour,12],[ca.day,1],[ca.day,2],[ca.week,1],[ca.month,1],[ca.month,3],[ca.year,1]],ri=mh.multi([[".%L",function(a){return a.getMilliseconds()}],[":%S",function(a){return a.getSeconds()}],["%I:%M",function(a){return a.getMinutes()}],["%I %p",function(a){return a.getHours()}],["%a %d",function(a){return a.getDay()&&1!=a.getDate()}],["%b %d",function(a){return 1!=
a.getDate()}],["%B",function(a){return a.getMonth()}],["%Y",Bc]]),$h={range:function(a,b,c){return B.range(Math.ceil(a/c)*c,+b,c).map(rc)},floor:s,ceil:s};nh.year=ca.year;ca.scale=function(){return eb(B.scale.linear(),nh,ri)};var Uh=nh.map(function(a){return[a[0].utc,a[1]]}),si=Sh.multi([[".%L",function(a){return a.getUTCMilliseconds()}],[":%S",function(a){return a.getUTCSeconds()}],["%I:%M",function(a){return a.getUTCMinutes()}],["%I %p",function(a){return a.getUTCHours()}],["%a %d",function(a){return a.getUTCDay()&&
1!=a.getUTCDate()}],["%b %d",function(a){return 1!=a.getUTCDate()}],["%B",function(a){return a.getUTCMonth()}],["%Y",Bc]]);Uh.year=ca.year.utc;ca.scale.utc=function(){return eb(B.scale.linear(),Uh,si)};B.text=ub(function(a){return a.responseText});B.json=function(a,b){return dc(a,"application/json",sc,b)};B.html=function(a,b){return dc(a,"text/html",Ff,b)};B.xml=ub(function(a){return a.responseXML});"function"===typeof define&&define.amd?define(B):"object"===typeof module&&module.exports&&(module.exports=
B);this.d3=B}()},"mojo/user":function(){define(["dojo/_base/xhr","dojo/_base/array","mojo/url","dojo/query","dojo/NodeList-manipulate"],function(h,k,d,g){var b={__csrfToken:null,role:null,roles:[],features:[],settings:{pageSize:25,fileManagerShowGrid:!1},avatarUrl:null,coachmarks:{},showCoachmarks:!1,pro:!1,userId:null,userLevel:null,hasPaid:!1,currencySymbol:"$",currencyExchangeRate:1,saveSetting:function(b,f){this.userId&&h.post({url:d.toUrl("/index/save-user-setting"),content:{key:b,value:f}})},
saveSessionSetting:function(b,f){h.post({url:d.toUrl("/index/save-session-setting"),content:{key:b,value:f}})},hasRole:function(c){return k.indexOf(b.roles,c)>=k.indexOf(b.roles,b.role)},markCoachmark:function(c,f){f||(f=1);h.post({url:d.toUrl("/index/mark-coachmark"),content:{coachmark:c,step:f}}).then(function(){b.coachmarks[c]=f})},updateCSRF:function(c){g("[name\x3d__csrf_token][value\x3d"+b.__csrfToken+"]").val(c);b.__csrfToken=c},flagIsOn:function(c){return-1!=k.indexOf(b.flags,c)},hasFeature:function(c){return-1!=
k.indexOf(b.features,c)},exchangeCurrencyFromUSD:function(b){return b*this.currencyExchangeRate},exchangeCurrencyToUSD:function(b){return b/this.currencyExchangeRate}};return b})},"dojo/NodeList-manipulate":function(){define("./query ./_base/lang ./_base/array ./dom-construct ./dom-attr ./NodeList-dom".split(" "),function(h,k,d,g,b){function c(b){for(;b.childNodes[0]&&1==b.childNodes[0].nodeType;)b=b.childNodes[0];return b}function f(b,a){"string"==typeof b?(b=g.toDom(b,a&&a.ownerDocument),11==b.nodeType&&
(b=b.childNodes[0])):1==b.nodeType&&b.parentNode&&(b=b.cloneNode(!1));return b}var l=h.NodeList;k.extend(l,{_placeMultiple:function(b,a){for(var c="string"==typeof b||b.nodeType?h(b):b,d=[],f=0;f<c.length;f++)for(var l=c[f],k=this.length,r=k-1,s;s=this[r];r--)0<f&&(s=this._cloneNode(s),d.unshift(s)),r==k-1?g.place(s,l,a):l.parentNode.insertBefore(s,l),l=s;d.length&&(d.unshift(0),d.unshift(this.length-1),Array.prototype.splice.apply(this,d));return this},innerHTML:function(b){return arguments.length?
this.addContent(b,"only"):this[0].innerHTML},text:function(c){if(arguments.length){for(var a=0,d;d=this[a];a++)1==d.nodeType&&b.set(d,"textContent",c);return this}for(var f="",a=0;d=this[a];a++)f+=b.get(d,"textContent");return f},val:function(b){if(arguments.length){for(var a=k.isArray(b),c=0,f;f=this[c];c++){var g=f.nodeName.toUpperCase(),h=f.type,l=a?b[c]:b;if("SELECT"==g){g=f.options;for(h=0;h<g.length;h++){var r=g[h];r.selected=f.multiple?-1!=d.indexOf(b,r.value):r.value==l}}else"checkbox"==h||
"radio"==h?f.checked=f.value==l:f.value=l}return this}if((f=this[0])&&1==f.nodeType){b=f.value||"";if("SELECT"==f.nodeName.toUpperCase()&&f.multiple){b=[];g=f.options;for(h=0;h<g.length;h++)r=g[h],r.selected&&b.push(r.value);b.length||(b=null)}return b}},append:function(b){return this.addContent(b,"last")},appendTo:function(b){return this._placeMultiple(b,"last")},prepend:function(b){return this.addContent(b,"first")},prependTo:function(b){return this._placeMultiple(b,"first")},after:function(b){return this.addContent(b,
"after")},insertAfter:function(b){return this._placeMultiple(b,"after")},before:function(b){return this.addContent(b,"before")},insertBefore:function(b){return this._placeMultiple(b,"before")},remove:l.prototype.orphan,wrap:function(b){if(this[0]){b=f(b,this[0]);for(var a=0,d;d=this[a];a++){var g=this._cloneNode(b);d.parentNode&&d.parentNode.replaceChild(g,d);c(g).appendChild(d)}}return this},wrapAll:function(b){if(this[0]){b=f(b,this[0]);this[0].parentNode.replaceChild(b,this[0]);b=c(b);for(var a=
0,d;d=this[a];a++)b.appendChild(d)}return this},wrapInner:function(b){if(this[0]){b=f(b,this[0]);for(var a=0;a<this.length;a++){var c=this._cloneNode(b);this._wrap(k._toArray(this[a].childNodes),null,this._NodeListCtor).wrapAll(c)}}return this},replaceWith:function(b){b=this._normalize(b,this[0]);for(var a=0,c;c=this[a];a++)this._place(b,c,"before",0<a),c.parentNode.removeChild(c);return this},replaceAll:function(b){b=h(b);for(var a=this._normalize(this,this[0]),c=0,d;d=b[c];c++)this._place(a,d,"before",
0<c),d.parentNode.removeChild(d);return this},clone:function(){for(var b=[],a=0;a<this.length;a++)b.push(this._cloneNode(this[a]));return this._wrap(b,this,this._NodeListCtor)}});l.prototype.html||(l.prototype.html=l.prototype.innerHTML);return l})},"mojo/flags":function(){define([],function(){return{UNSTARTED_AUTOMATION_MODAL:"unstarted_automation_modal",CONTACT_STATUS_V2:"contact_status_v2",EMPTY_STATES:"empty_states",GOOGLE_ADS_ESSENTIALS:"google_ads.essentials",GOOGLE_ADS_CONTENT_CREATOR:"google_ads.content_creator",
CONNECT_YOUR_SITE:"connect_your_site",MULTICHANNEL_FRONT_DOOR:"multichannel.front_door",MULTICHANNEL_CLIENT_RENDERED_CAMPAIGNS:"multichannel.client_rendered_campaigns",AD_PLACEMENTS:"ad_placements",FIX_IMPORT_DROPDOWN_BEHAVIOR:"fix_import_dropdown_behavior",ECOMMERCE_PROMOS:"ecommerce_promo_codes"}})},"dojo/NodeList-traverse":function(){define(["./query","./_base/lang","./_base/array"],function(h,k,d){var g=h.NodeList;k.extend(g,{_buildArrayFromCallback:function(b){for(var c=[],d=0;d<this.length;d++){var g=
b.call(this[d],this[d],c);g&&(c=c.concat(g))}return c},_getUniqueAsNodeList:function(b){for(var c=[],f=0,g;g=b[f];f++)1==g.nodeType&&-1==d.indexOf(c,g)&&c.push(g);return this._wrap(c,null,this._NodeListCtor)},_getUniqueNodeListWithParent:function(b,c){var d=this._getUniqueAsNodeList(b),d=c?h._filterResult(d,c):d;return d._stash(this)},_getRelatedUniqueNodes:function(b,c){return this._getUniqueNodeListWithParent(this._buildArrayFromCallback(c),b)},children:function(b){return this._getRelatedUniqueNodes(b,
function(b,d){return k._toArray(b.childNodes)})},closest:function(b,c){return this._getRelatedUniqueNodes(null,function(d,g){do if(h._filterResult([d],b,c).length)return d;while(d!=c&&(d=d.parentNode)&&1==d.nodeType);return null})},parent:function(b){return this._getRelatedUniqueNodes(b,function(b,d){return b.parentNode})},parents:function(b){return this._getRelatedUniqueNodes(b,function(b,d){for(var g=[];b.parentNode;)b=b.parentNode,g.push(b);return g})},siblings:function(b){return this._getRelatedUniqueNodes(b,
function(b,d){for(var g=[],e=b.parentNode&&b.parentNode.childNodes,a=0;a<e.length;a++)e[a]!=b&&g.push(e[a]);return g})},next:function(b){return this._getRelatedUniqueNodes(b,function(b,d){for(var g=b.nextSibling;g&&1!=g.nodeType;)g=g.nextSibling;return g})},nextAll:function(b){return this._getRelatedUniqueNodes(b,function(b,d){for(var g=[],e=b;e=e.nextSibling;)1==e.nodeType&&g.push(e);return g})},prev:function(b){return this._getRelatedUniqueNodes(b,function(b,d){for(var g=b.previousSibling;g&&1!=
g.nodeType;)g=g.previousSibling;return g})},prevAll:function(b){return this._getRelatedUniqueNodes(b,function(b,d){for(var g=[],e=b;e=e.previousSibling;)1==e.nodeType&&g.push(e);return g})},andSelf:function(){return this.concat(this._parent)},first:function(){return this._wrap(this[0]&&[this[0]]||[],this)},last:function(){return this._wrap(this.length?[this[this.length-1]]:[],this)},even:function(){return this.filter(function(b,c){return 0!=c%2})},odd:function(){return this.filter(function(b,c){return 0==
c%2})}});return g})},"mojo/campaigns":function(){define(["dojo","dijit","dojox"],function(h,k,d){h.provide("mojo.campaigns");mojo.campaigns.confirmDeleteSelected=function(d,b){var c=k.byId("campaign-delete-dialog"),f=mojo.campaigns.getGridCampaignIdSelection();b&&0>h.indexOf(f,b)&&(mojo.campaigns.single_id=b,f[f.length]=b);if(!f.length)return!1;mojo.campaigns.setGridCampaignIdSelection(f);c.setHref(d+"?"+h.objectToQuery({"id[]":f}));c.show();return!1};mojo.campaigns.deleteConfirmed=function(d){var b=
h.byId("confirm-text").value,c=h.byId("confirm-key").value,f=h.byId("confirm-delete-error");if(0!=c.localeCompare(b))h.style(f,"display","block"),f.innerHTML="Please enter the text exactly as it is displayed to confirm deletion.";else{f.innerHTML="";h.style(f,"display","none");k.byId("campaign-delete-dialog").hide();b=mojo.campaigns.getGridCampaignIdSelection();mojo.campaigns.single_id&&0>h.indexOf(b,mojo.campaigns.single_id)&&(b[b.length]=mojo.campaigns.single_id,delete mojo.campaigns.single_id);
var l=b.length;h.xhrPost({url:d,content:{"id[]":b},load:function(){var b="campaign";"undefined"===typeof grid?(loadList("refresh",""),b="autoresponder"):grid.refresh();h.publish("show-toast",[{message:l+" "+b+(1!=l?"s":"")+" successfully deleted",type:"message"}])}})}};mojo.campaigns.setGridCampaignIdSelection=function(d){for(var b=0;b<d.length;b++){var c=h.byId("del-campaign-"+d[b]);c||(c=h.byId("del-autoresponder-"+d[b]));c&&!c.checked&&(c.checked=!0)}};mojo.campaigns.getGridCampaignIdSelection=
function(){var d=[];h.query('.campaign-grid input[type\x3d"checkbox"]').forEach(function(b){b.checked&&(b=b.id.split("-"),"del"==b[0]&&d.push(b[2]))});return d};mojo.campaigns.goToNextStep=function(d){h.attr(d,"value","please wait...");setTimeout(function(){d.disabled=!0},0);h.byId("wizard-form").submit()}})},"mojo/google/Grid":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/on dojo/query dojo/dom dojo/dom-style dojo/dom-attr dojo/dom-class dojo/dom-construct mojo/google/Query dojo/NodeList-manipulate".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m){var n={allowHtml:!0,page:"event",sort:"event",pageSize:10};return h([],{constructor:function(a,b,e,f){this.url=a;this.query=b;this.el=e;this.count_timeout=null;f=k.mixin({},n,f);"event"==f.page&&"enable"==f.sort&&(f.sort="event");"event"==f.page&&(f.pagingButtonsConfiguration="both");f.responsive&&(this.responsive=!0,delete f.responsive);this.options=f;this.page=1;a=this.loadPaging();a.p&&(this.page=a.p,this.skipFilterPageReset=!0,a.p&&(this.options.pageSize=a.s),a.sc&&
(b=d.map(b.select.split(","),function(a){return k.trim(a)}),0<=d.indexOf(b,a.sn)&&(this.sorted={column:a.sc,ascending:"true"==a.sa,sortIndexes:a.si?a.si:null},this.query.orderby=a.sn,this.sorted.ascending||(this.query.orderby+=" desc"))));this.no_data_msg=f.no_data_msg||'\x3cdiv class\x3d"no-data alignc"\x3e\x3cimg class\x3d"icon" src\x3d"/css/icons/no-data/goose-egg.svg" role\x3d"presentation"\x3e\x3cp class\x3d"empty-tagline"\x3eGoose egg. There\'s no information available.\x3c/p\x3e\x3c/div\x3e';
c.byId("no-data-message-tpl")&&(this.no_data_msg_first=c.byId("no-data-message-tpl").innerHTML);f.wait||this.refresh(!0)},refresh:function(a){this.query.select_count&&"event"==this.options.page&&this.getPageTotal();var b=new m(this.url);b.setQuery(this.buildQuery(this.query));this.table||(this.table=new google.visualization.Table(this.el),"event"==this.options.page&&google.visualization.events.addListener(this.table,"page",k.hitch(this,"changePage")),google.visualization.events.addListener(this.table,
"sort",k.hitch(this,"sort")));var c=this;this.skipFilterPageReset=!1;b.send(k.hitch(this,function(b){if(!b.isError()){b=b.getDataTable();if(c.options.formatters)for(var d in c.options.formatters)c.options.formatters[d].formatter.format(b,c.options.formatters[d].col);b.getNumberOfRows()?(d=k.clone(c.options),this.responsive&&(d.cssClassNames={headerRow:"table-header-tr",tableRow:"table-body-tr",oddTableRow:"table-body-tr odd",selectedTableRow:"table-td-selected",hoverTableRow:"table-td-hover",tableCell:"table-td",
headerCell:"table-th",rowNumberCell:"table-td-number"}),c.table.draw(b,d),c.data=b,c.postProcess(c.table),c._renameTableClass()):c.el.innerHTML='\x3cdiv class\x3d"google-grid-nodata"\x3e'+(a&&c.no_data_msg_first?c.no_data_msg_first:c.no_data_msg)+"\x3c/div\x3e"}}))},postProcessRetry:function(a){clearTimeout(this.count_timeout);this.count_timeout=null;this.postProcess(a)},postProcess:function(c){if(isNaN(this.total_pages)){if(null==this.count_timeout){var d=this;this.count_timeout=setTimeout(function(){d.postProcessRetry(c)},
250)}}else{if("event"==this.options.page){b(".google-visualization-table-table").style("width","");var g=b(".google-visualization-table-div-page",this.el)[0];if(g&&1!=this.total_pages){f.set(g,"float","right");f.set(g,"display","");var h=parseInt(this.options.pageSize),k=(parseInt(this.page)-1)*h+1,m=parseInt(k)+h-1;m>this.row_count&&(m=this.row_count);h=a.create("span",{"class":"pager-rowinfo relative"});b(h).innerHTML('\x3cspan class\x3d"float-left"\x3e\x3cstrong\x3eView\x3c/strong\x3e \x3cspan class\x3d"row-option-select"\x3e\x3c/span\x3e\x3c/span\x3e\x3cstrong\x3e'+
k+" - "+m+"\x3c/strong\x3e of \x3cstrong\x3e"+parseInt(this.row_count)+"\x3c/strong\x3e");b(".row-option-select",h)[0].appendChild(this.getRowSelect());m=b('img[alt\x3d"previous"]',g)[0];k=b('img[alt\x3d"next"]',g)[0];m.src="/images/arrow_left.gif";k.src="/images/arrow_right.gif";l.set(m,"style","width: 8px; height: 12px; position: relative; padding: 0px 3px; top: 3px;");l.set(k,"style","width: 8px; height: 12px; position: relative; padding: 0px 3px; top: 3px;");m=m.parentNode;k=k.parentNode;m&&(g.insertBefore(h,
m.parentNode.parentNode),1==this.page?(f.set(m,"display","none"),l.set(k,"style","border-left:1px solid #aaa;")):(f.set(m,"display",""),l.set(k,"style","border-left:none;")),this.page==this.total_pages?f.set(k,"display","none"):f.set(k,"display",""))}else g&&f.set(g,"display","none")}this.sorted&&(g=b(this.responsive?"td.table-th":"td.google-visualization-table-th",this.el)[this.sorted.column],e.add(g,"google-visualization-table-sorthdr"),g.innerHTML+='\x3cspan class\x3d"google-visualization-table-sortind"\x3e'+
(this.sorted.ascending?"\u25b2":"\u25bc")+"\x3c/span\x3e");if(this.onRender)this.onRender(this.el)}},getRowSelect:function(){for(var a=document.createElement("select"),b=[10,25,50,100],c=0;c<b.length;c++){var d=document.createElement("option");d.setAttribute("value",b[c]);d.innerHTML=b[c]+" Rows";a.appendChild(d)}a.value=this.options.pageSize;g(a,"change",k.hitch(this,"changePageSize"));return a},changePageSize:function(a){this.options.pageSize=parseInt(a.target.value);this.page=1;this.storePaging(parseInt(this.page),
parseInt(this.options.pageSize));this.total_pages=Math.ceil(parseInt(this.row_count)/this.options.pageSize);this.refresh()},changePage:function(a){0>=a.page&&(a.page=-1);this.page=parseInt(this.page)+parseInt(a.page);this.storePaging(parseInt(this.page),parseInt(this.options.pageSize));0>=this.page&&(this.page=1);this.total_pages&&this.page>this.total_pages&&(this.page=this.total_pages);this.refresh()},storePaging:function(a,b){var c="#p:"+a+"-s:"+b;this.sorted&&(c+="-sc:"+this.sorted.column+"-sn:"+
this.data.getColumnId(this.sorted.column),this.sorted.ascending&&(c+="-sa:"+this.sorted.ascending),this.sorted.sortedIndexes&&(c+="-si:"+this.sorted.sortedIndexes));window.location.hash=c},loadPaging:function(){var a=window.location.hash;if(!a)return"undefined"!==typeof vis_grid_page_size&&"NaN"!=vis_grid_page_size?{s:vis_grid_page_size,p:"1"}:{};var a=a.substring(1).split("-"),b={},c;for(c in a){var d=a[c].split(":");2==d.length&&(isNaN(d[1])?b[d[0]]=d[1]:b[d[0]]=parseInt(d[1],10))}isNaN(b.p)||isNaN(b.s)?
b={}:100<b.s&&(b.s=10);return b},getPageTotal:function(){var a=new m(this.url),b="select "+this.query.select_count;this.query.from&&(b+=" from "+this.query.from);this.query.where?(b+=" where ("+this.query.where+")",this.query.filter&&(b+=" and ("+this.query.filter+")")):this.query.filter&&(b+=" where "+this.query.filter);this.query.groupby&&(b+=" group by "+this.query.groupby);this.query.pivot&&(b+=" pivot "+this.query.pivot);a.setQuery(b);var c=this;a.send(function(a){a.isError()||(a=parseInt(a.getDataTable().getValue(0,
0)),c.row_count=a,c.total_pages=Math.ceil(parseInt(a)/parseInt(c.options.pageSize)))})},buildQuery:function(a){var b="";a.select&&(b+="select "+a.select);a.from&&(b+=" from "+a.from);a.where?(b+=" where ("+a.where+")",a.filter&&(b+=" and ("+a.filter+")")):a.filter&&(b+=" where "+a.filter);a.groupby&&(b+=" group by "+a.groupby);a.pivot&&(b+=" pivot "+a.pivot);a.orderby?(b+=" order by ",a.filter_orderby&&(b+=a.filter_orderby+", "),b+=a.orderby):a.filter_orderby&&(b+="order by "+a.filter_orderby);if("event"==
this.options.page)var c=this.options.pageSize,b=b+(" limit "+c+" offset "+(this.page-1)*c);a.label&&(b+=" label "+a.label);a.format&&(b+=" format "+a.format);return b},setFilter:function(a,b){this.skipFilterPageReset||(this.page=1);this.query.filter=a;this.query.filter_orderby=b;"event"==this.options.page&&this.getPageTotal()},sort:function(a){if("event"==this.options.sort){this.sorted&&a.column==this.sorted.column&&(a.ascending=!this.sorted.ascending);var b=this.data.getColumnId(a.column),c=!0;if(this.options.sortable)for(var c=
!1,d=0;d<this.options.sortable.length;++d)if(b==this.options.sortable[d]){c=!0;break}if(c&&this.options.not_sortable)for(d=0;d<this.options.not_sortable.length;++d)if(b==this.options.not_sortable[d]){c=!1;break}if(!c)return!1;this.query.orderby=b;a.ascending||(this.query.orderby+=" desc");this.page=1;this.sorted=a;this.storePaging(this.page,this.options.pageSize);this.refresh()}else this._renameTableClass();return!0},_renameTableClass:function(){this.responsive&&b(".google-visualization-table-table",
this.el).removeClass("google-visualization-table-table").addClass("responsive-table-google")}})})},"mojo/google/Query":function(){define(["dojo/_base/declare"],function(h){var k=h([],{constructor:function(d){if("success"==d.status){for(var g=new google.visualization.DataTable,b=d.meta,c,f=0;c=b[f];++f)g.addColumn(c.type,c.label,c.id);delete b;delete c;d=d.data;g.addRows(d.length);for(f=0;b=d[f];++f)for(var h=0;c=b[h];++h)g.setCell(f,h,c.v,c.f);this.table=g;this.error=!1}else this.table=null,this.error=
d.code,this.error_msg=d.msg,this.error_detail=d.detail},getDataTable:function(){return this.table},getDetailedMessage:function(){return this.error_detail},getMessage:function(){return this.error_msg},getReasons:function(){return[this.error]},hasWarning:function(){return!1},isError:function(){return this.error?!0:!1}});return h([],{constructor:function(d,g){this.url=d;this.query=g},setQuery:function(d){this.query=d},send:function(d){var g={};this.query&&(g.q=this.query);dojo.xhrPost({url:this.url,
content:g,handleAs:"json",load:function(b){b=new k(b);d(b)},error:function(b){b=new k({status:"error",code:"server_error",msg:"Server Error",detail:b});d(b)}})}})})},"mojo/lists":function(){define(["dojo","dijit","dojox"],function(h,k,d){h.provide("mojo.lists");mojo.lists.growthChart=function(d,b,c){var f=new SWFObject("/charts/amcolumn/amcolumn.swf","amcolumn","100%","200","8","#FFFFFF");f.addVariable("path","/charts/amcolumn/");f.addVariable("settings_file",escape("/charts/amcolumn/amcolumn_settings.xml"));
f.addVariable("data_file",escape(b+"?id\x3d"+d+"\x26limit\x3d"+c));f.addVariable("preloader_color","#999999");f.addParam("wmode","transparent");f.useExpressInstall("/js/mailchimp/expressinstall.swf");f.setAttribute("version",{major:7,minor:0,rev:0});f.write("list-growth-chart")};mojo.lists.renameInterest=function(d,b,c){h.xhrPost({url:c,content:{bit:d,name:b}})};mojo.lists.deleteInterest=function(d,b,c){h.xhrPost({url:b,content:{bit:d},handleAs:"json",sync:!0,load:function(b,d){h.byId("interest-groups").innerHTML=
"";h.forEach(b.groups,function(b){k.byId("interest-"+b.bit)&&k.byId("interest-"+b.bit).destroyRecursive();var a=document.createElement("li");h.addClass(a,"dojoDndItem");a.id="interestrow-"+b.bit;var d;d='\x3cspan class\x3d"sort-handle"\x3e\x26nbsp;\x3c/span\x3e '+(' \x3ca href\x3d"#" onclick\x3d"confirmDelete('+b.bit+');" class\x3d"delete"\x3e\x26nbsp;\x3c/a\x3e ');d+=' \x3cspan id\x3d"interest-'+b.bit+'" class\x3d"interest-edit"\x3e'+b.name+"\x3c/span\x3e";a.innerHTML=d;h.byId("interest-groups").appendChild(a);
new k.InlineEditBox({id:"interest-"+b.bit,title:"click to rename this interest group",value:b.name,onChange:function(a){mojo.lists.renameInterest(b.bit,a,c)}},h.byId("interest-"+b.bit))});h.byId("add-interest").style.display="";setTimeout(function(){interest_group_list.clearItems();interest_group_list.startup()},200)}})};mojo.lists.reorderInterests=function(d,b){h.xhrPost({url:b,content:{"bit_order[]":d}})};mojo.lists.memberGridFields=function(d,b,c,f){h.xhrPost({url:b,sync:!0,handleAs:"json",content:{id:d},
load:function(b){fields=b.fields}});var l=[];l.push({name:"view",field:"list_email_id",get:h.partial(mojo.lists.memberViewLink,c)});h.forEach(fields,function(b){l.push({name:b.name,field:b["var"],classes:"column-merge",width:"180px"})});l.push({name:"delete",field:"list_email_id",get:h.partial(mojo.lists.memberDeleteLink,f)});return l};mojo.lists.memberViewLink=function(d,b){var c=this.grid.model.getRow(b);return!c?"...":'\x3ca href\x3d"'+d+"?id\x3d"+c.list_email_id+'" class\x3d"view-member button-small"\x3eview\x3c/a\x3e'};
mojo.lists.memberDeleteLink=function(d,b){var c=this.grid.model.getRow(b);return!c?"...":'\x3ca href\x3d"'+d+"?id\x3d"+c.list_email_id+'" class\x3d"delete-member button-small p0"\x3edelete\x3c/a\x3e'}})},"mojo/chatter":function(){define(["dojo/dom","dojo/query","dojo/request/xhr","dojo/NodeList-dom"],function(h,k,d){var g={_page:1,_type:"all",validatePrefs:function(b,c){var d=b.getValues(),g=0,e;for(e in d)d[e].length&&g++;1>g?k("#no-prefs-error").removeClass("hide"):(mojo.chatter.updatePrefs(d,c),
dijit.byId("chatter-prefs").hide())},updatePrefs:function(b,c){var f={},g;for(g in b)b[g].length&&(f[g]=1);d.post(c,{data:f,handleAs:"text"}).then(function(b){h.byId("chatter-block").innerHTML=b})},navigate:function(b){h.byId("chatter-container").innerHTML="loading...";k("#chatter-nav .current").removeClass("current");k("#chatter-nav .chatter-"+b).addClass("current");k("#chatter-feed-url").attr("href",web_root+"chatter/feed-"+b+"?u\x3d"+user_private_id);d.get(web_root+"chatter/",{query:{type:b},handleAs:"text"}).then(function(c){h.byId("chatter-list").innerHTML=
c;g._page=1;g._type=b;/nothing to chatter/.test(c)?h.byId("chatter-more-button").style.display="none":h.byId("chatter-more-button").style.display=""})},showMore:function(){d.get(web_root+"chatter/",{query:{type:g._type,page:++g._page},handleAs:"text"}).then(function(b){/nothing to chatter/.test(b)?h.byId("chatter-more-button").style.display="none":h.byId("chatter-list").innerHTML+=b})},clearImage:function(b){b.onerror=function(){};for(b=b.parentNode;b&&"li"!=b.nodeName.toLowerCase();)b=b.parentNode;
b&&b.parentNode.removeChild(b)}};return g})},"mojo/hoverlist":function(){define("dojo/_base/declare dojo/on dojo/query dojo/_base/array dojo/dom-style dojo/_base/event dojo/ready dojo/NodeList-traverse".split(" "),function(h,k,d,g,b,c,f){var l=[],e=function(){d(".hover-list.click-to-open \x3e li \x3e ul").style("display","none");a()},a=function(){g.forEach(l,function(a){a.remove()});l=[]},m=function(f){d("\x3e li \x3e ul",f).forEach(function(f,g){var h=d(f).siblings("a,button")[0];h&&k(h,"click",
function(g){e();c.stop(g);if("block"==b.get(f,"display"))d(f).style("display","none");else{l.length&&a();l.push(k(window.document,"click",function(a){1>dojo.query(a.target).parents(".click-outside-to-close").length&&e()}));var h=document.location.protocol+"//"+document.location.host;d("iframe").forEach(function(a){a.src.slice(0,h.length)==h&&l.push(k.once(a.contentWindow.document,"click",e))});d(f).style("display","block")}})})};f(function(){d(".hover-list.click-to-open").forEach(m)});return{convert:m}})},
"mojo/placesautocomplete":function(){define(["dojo/_base/declare","dojo/_base/array"],function(h,k){function d(){google.maps.event.addListener(l,"place_changed",b);m||e.streetEl.addEventListener("blur",function(b){a&&setTimeout(function(){b.target.value=a.name},50)});e.streetEl.addEventListener("keydown",function(a){13==a.keyCode&&(a.preventDefault?a.preventDefault():(a.cancelBubble=!0,a.returnValue=!1))})}function g(){for(var a in e)"streetEl"!==a&&(e[a].value="")}function b(){g();a=l.getPlace();
if(a.address_components){var b=a.address_components;m||(e.streetEl.value=a.name);k.forEach(b,function(a,b){k.forEach(a.types,function(b,d){"locality"===b&&e.localityEl&&(e.localityEl.value=a.long_name);"administrative_area_level_1"===b&&e.provinceEl&&(e.provinceEl.value=a.short_name);"country"===b&&e.countryEl&&("SELECT"===e.countryEl.tagName?c(e.countryEl.options,a):e.countryEl.value=a.long_name);"postal_code"===b&&e.postalCodeEl&&(e.postalCodeEl.value=a.long_name)})})}}function c(a,b){dojo.forEach(a,
function(a,c,d){switch(b.long_name){case "United States":"USA"===a.text&&(a.selected=!0);break;default:b.long_name===a.text&&(a.selected=!0)}})}var f={types:["geocode"]},l=null,e=null,a=null,m=null;return h("mojo.PlacesAutocomplete",null,{_formElementsId:null,_formElements:null,_showFullStreetAddress:null,constructor:function(a,b){this._formElementsId=a;var c={};a.streetId&&(c.streetEl=dojo.byId(a.streetId));a.localityId&&(c.localityEl=dojo.byId(a.localityId));a.countyId&&(c.countyEl=dojo.byId(a.countyId));
a.provinceId&&(c.provinceEl=dojo.byId(a.provinceId));a.postalCodeId&&(c.postalCodeEl=dojo.byId(a.postalCodeId));a.countryId&&(c.countryEl=dojo.byId(a.countryId));this._formElements=c;this._showFullStreetAddress=m=b;e=this._formElements;l=new google.maps.places.Autocomplete(this._formElements.streetEl,f);d()},getPlace:function(){return a}})})},"mojo/ReauthDialog":function(){define("dojo/dom-construct dojo/dom-attr dojo/_base/lang dojo/_base/connect dojo/dom-class dijit/Dialog dojo/topic mojo/user".split(" "),
function(h,k,d,g,b,c,f,l){if(!window.reauth.url)throw Error("Attempted to use ReauthDialog without setting a url");var e=h.create("iframe",{width:480,height:280,frameBorder:0,src:"#"}),a=null,m=null;h={show:function(){g.publish("mojo/reauth/required");window.reauth.rememberMe&&(m=setTimeout(function(){a.show();m=null},3E3));k.set(e,"src",window.reauth.url);a||(a=new c({title:"Your Session Expired",content:e,"class":"c-reauthDialog"}));window.reauth.rememberMe||a.show();b.add(document.body,"overflow-hidden")},
hide:function(c){m&&(clearTimeout(m),m=null);a&&a.hide();f.publish("mojo/reauthdialog",{state:"hidden"});b.remove(document.body,"overflow-hidden");c&&l.updateCSRF(c)}};g.subscribe("mojo/reauth/complete",h.hide);return h})},"mojo/notifications":function(){define("dojo/_base/declare dojo/on dojo/dom dojo/query dojo/_base/event dojo/ready dojo/string dojo/_base/xhr mojo/url".split(" "),function(h,k,d,g,b,c,f,l,e){c(function(){setInterval(function(){l.post({url:e.toUrl("account/callback/get-notifications"),
handleAs:"json",load:function(a){d.byId("notification-count")&&(d.byId("notification-count").innerHTML=a.notification_count,0<a.notification_count?a.notification_content&&(d.byId("notifications").innerHTML=a.notification_content):d.byId("notifications").innerHTML='\x3cli\x3e\x3cdiv class\x3d"no-notifications alignc"\x3e\x3cimg class\x3d"icon" src\x3d"/css/icons/no-data/no-comment.svg" role\x3d"presentation"\x3e\x3cp class\x3d"fwb"\x3eNo notifications\x3c/p\x3e\x3c/div\x3e\x3c/li\x3e')}})},3E5)});
return{removeNotification:function(a){var b=d.byId("notification-"+a);b.parentNode.removeChild(b);var b=Math.max(parseInt(d.byId("notification-count").innerHTML,10)-1,0),c=Math.max(parseInt(d.byId("notification-count-mobile").innerHTML,10)-1,0);d.byId("notification-count").innerHTML=b;d.byId("notification-count-mobile").innerHTML=c;0===b&&(d.byId("notifications").innerHTML='\x3cli\x3e\x3cdiv class\x3d"no-notifications alignc"\x3e\x3cimg class\x3d"icon" src\x3d"/css/icons/no-data/no-comment.svg" role\x3d"presentation"\x3e\x3cp class\x3d"fwb"\x3eNo notifications\x3c/p\x3e\x3c/div\x3e\x3c/li\x3e');
l.post({url:e.toUrl("account/callback/delete-notification"),content:{id:a},preventCache:!0,handleAs:"text",load:function(b){dojo.byId("notification-warning-"+a)&&dojo.byId("notification-warning-"+a).remove()}})}}})},"mojo/touch/no-delay":function(){define("dojo/query dojo/touch dojo/on dojo/_base/window dojo/has dojo/ready".split(" "),function(h,k,d,g,b,c){b("touch")&&c(function(){d(g.body(),".no-delay:touchstart",function(b){b.stopPropagation();b.preventDefault();d.emit(this,"click",{bubbles:!0,
cancelable:!0})})})})},"vendor/bugsnag/bugsnag":function(){(function(h,k){function d(a){try{if("function"!==typeof a)return a;if(!a.bugsnag){var c=b();a.bugsnag=function(){y=c;if(A)try{return a.apply(this,arguments)}catch(b){throw t("autoNotify",!0)&&(u.notifyException(b,null,null,"error"),v()),b;}finally{y=null}else{var d=a.apply(this,arguments);y=null;return d}};a.bugsnag.bugsnag=a.bugsnag}return a.bugsnag}catch(d){return a}}function g(){M=!1}function b(){var a=document.currentScript||y;!a&&M&&
(a=document.scripts||document.getElementsByTagName("script"),a=a[a.length-1]);return a}function c(a){var c=b();c&&(a.script={src:c.src,content:t("inlineScript",!0)?c.innerHTML:""})}function f(a,b,c){var d=a[b];a[b]=function(){c.apply(this,arguments);"function"===typeof d&&d.apply(this,arguments)}}function l(a){t("disableLog")}function e(a){var b=[a.tagName];a.id&&b.push("#"+a.id);if(a.className&&a.className.length){var c="."+a.className.split(" ").join(".");b.push(c)}b=b.join("");if(!document.querySelectorAll||
!Array.prototype.indexOf)return b;try{if(1===document.querySelectorAll(b).length)return b}catch(d){return b}1<a.parentNode.childNodes.length&&(c=Array.prototype.indexOf.call(a.parentNode.childNodes,a)+1,b=b+":nth-child("+c+")");return 1===document.querySelectorAll(b).length?b:a.parentNode?e(a.parentNode)+" \x3e "+b:b}function a(a,b){return a&&a.length>b?a.slice(0,b-5)+"(...)":a}function m(b,c,d){var e=(d||0)+1,f=t("maxDepth",G);if(d>f)return"[RECURSIVE]";if("string"===typeof b)return a(b,c);if("[object Array]"===
Object.prototype.toString.call(b)){var g=[];for(d=0;d<b.length;d++)g[d]=m(b[d],c,e);return g}if("object"===typeof b&&null!=b){d={};for(g in b)b.hasOwnProperty(g)&&(d[g]=m(b[g],c,e));return d}return b}function n(a,b,c){var d=t("maxDepth",G);if(c>=d)return encodeURIComponent(b)+"\x3d[RECURSIVE]";c=c+1||1;try{if(h.Node&&a instanceof h.Node){var e=encodeURIComponent(b)+"\x3d";c=encodeURIComponent;var f;if(a){var g=a.attributes;if(g){var l="\x3c"+a.nodeName.toLowerCase();for(a=0;a<g.length;a++)g[a].value&&
"null"!==g[a].value.toString()&&(l+=" "+g[a].name+'\x3d"'+g[a].value+'"');f=l+"\x3e"}else f=a.nodeName}else f=void 0;return e+c(f)}var e=[],k;for(k in a)if(a.hasOwnProperty(k)&&null!=k&&null!=a[k]){f=b?b+"["+k+"]":k;var m=a[k];e.push("object"===typeof m?n(m,f,c):encodeURIComponent(f)+"\x3d"+encodeURIComponent(m))}return e.sort().join("\x26")}catch(p){return encodeURIComponent(b)+"\x3d"+encodeURIComponent(""+p)}}function p(a,b,c){if(null==b)return a;if(c>=t("maxDepth",G))return"[RECURSIVE]";a=a||{};
for(var d in b)if(b.hasOwnProperty(d))try{a[d]=b[d].constructor===Object?p(a[d],b[d],c+1||1):b[d]}catch(e){a[d]=b[d]}return a}function t(a,b){var c;if(!(c=V)){c={};var d=/^data\-([\w\-]+)$/;if(Q)for(var e=Q.attributes,f=0;f<e.length;f++){var g=e[f];if(d.test(g.nodeName)){var h=g.nodeName.match(d)[1];c[h]=g.value||g.nodeValue}}}V=c;c=void 0!==u[a]?u[a]:V[a.toLowerCase()];"false"===c&&(c=!1);return void 0!==c?c:b}function q(a){var b=t("autoBreadcrumbs",!0);return t(a,b)}function r(a,b){var c=t("apiKey"),
d;!c||!c.match(J)?(l("Invalid API key '"+c+"'"),d=!1):d=!0;if(d&&E){E-=1;d=t("releaseStage","production");var e=t("notifyReleaseStages");if(e){for(var f=!1,g=0;g<e.length;g++)if(d===e[g]){f=!0;break}if(!f)return}e=[a.name,a.message,a.stacktrace].join("|");if(e!==x&&(x=e,e={device:{time:(new Date).getTime()}},c={notifierVersion:X,apiKey:c,projectRoot:t("projectRoot")||h.location.protocol+"//"+h.location.host,context:t("context")||h.location.pathname,user:t("user"),metaData:p(p(e,t("metaData")),b),
releaseStage:d,appVersion:t("appVersion"),url:h.location.href,userAgent:navigator.userAgent,language:navigator.language||navigator.userLanguage,severity:a.severity,name:a.name,message:a.message,stacktrace:a.stacktrace,file:a.file,lineNumber:a.lineNumber,columnNumber:a.columnNumber,breadcrumbs:D,payloadVersion:"3"},d=u.beforeNotify,!("function"===typeof d&&!1===d(c,c.metaData)))){if(0===c.lineNumber&&/Script error\.?/.test(c.message))return l("Ignoring cross-domain or eval script error. See https://docs.bugsnag.com/platforms/browsers/faq/#3-cross-origin-script-errors");
d=t("endpoint")||W;d+="?"+n(c)+"\x26ct\x3dimg\x26cb\x3d"+(new Date).getTime();"undefined"!==typeof BUGSNAG_TESTING&&u.testRequest?u.testRequest(d,c):"xhr"===t("notifyHandler")?(c=new XMLHttpRequest,c.open("GET",d,!0),c.send()):(new Image).src=d}}}function s(){var a,b;try{throw Error("");}catch(c){a="\x3cgenerated\x3e\n",b=c.stack||c.backtrace||c.stacktrace}if(!b){a="\x3cgenerated-ie\x3e\n";b=[];try{for(var d=arguments.callee.caller.caller;d&&10>b.length;){var e=S.test(d.toString())?RegExp.$1||"[anonymous]":
"[anonymous]";b.push(e);d=d.caller}}catch(f){l(f)}b=b.join("\n")}return a+b}function v(){C+=1;h.setTimeout(function(){C-=1})}function w(a,b,c){var d=a[b];c=c(d);a[b]=c;"undefined"!==typeof BUGSNAG_TESTING&&h.undo&&h.undo.push(function(){a[b]=d})}var u={},y,x,A=!0,C=0,D=[],E=10,G=5;u.breadcrumbLimit=20;u.noConflict=function(){h.Bugsnag=k;"undefined"===typeof k&&delete h.Bugsnag;return u};u.refresh=function(){E=10};u.notifyException=function(a,b,d,e){a?"string"===typeof a?(l("Bugsnag.notifyException() was called with a string. Expected instance of Error. To send a custom message instantiate a new Error or use Bugsnag.notify('\x3cstring\x3e'). see https://docs.bugsnag.com/platforms/browsers/#reporting-handled-exceptions"),
u.notify.apply(null,arguments)):(b&&"string"!==typeof b&&(d=b,b=void 0),d||(d={}),c(d),r({name:b||a.name,message:a.message||a.description,stacktrace:a.stack||(a.backtrace||a.stacktrace)||s(),file:a.fileName||a.sourceURL,lineNumber:a.lineNumber||a.line,columnNumber:a.columnNumber?a.columnNumber+1:void 0,severity:e||"warning"},d)):(l("Bugsnag.notifyException() was called with no arguments"),u.notify("BugsnagNotify","Bugsnag.notifyException() was called with no arguments"))};u.notify=function(a,b,c,
d){a||(a="BugsnagNotify",b="Bugsnag.notify() was called with no arguments",l(b));r({name:a,message:b,stacktrace:s(),file:h.location.toString(),lineNumber:1,severity:d||"warning"},c)};u.leaveBreadcrumb=function(b,c){var d={type:"manual",name:"Manual",timestamp:(new Date).getTime()};switch(typeof b){case "object":d=p(d,b);break;case "string":c&&"object"===typeof c?d=p(d,{name:b,metaData:c}):d.metaData={message:b};break;default:l("expecting 1st argument to leaveBreadcrumb to be a 'string' or 'object', got "+
typeof b);return}for(var e="manual error log navigation process request state user".split(" "),f=!1,g=0;g<e.length;g++)if(e[g]===d.type){f=!0;break}f||(l("Converted invalid breadcrumb type '"+d.type+"' to 'manual'"),d.type="manual");e=D.slice(-1)[0];d&&e&&d.type===e.type&&d.name===e.name&&n(d.metaData)===n(e.metaData)?(e.count=e.count||1,e.count++):(e=Math.min(u.breadcrumbLimit,40),d.name=a(d.name,32),D.push(m(d,140)),D.length>e&&(D=D.slice(-e)))};var H="undefined"!==typeof h.addEventListener;u.enableAutoBreadcrumbsConsole=
function(){};u.disableAutoBreadcrumbsConsole=function(){};u.enableAutoBreadcrumbsNavigation=function(){};u.disableAutoBreadcrumbsNavigation=function(){};u.enableAutoBreadcrumbsErrors=function(){u.autoBreadcrumbsErrors=!0};u.disableAutoBreadcrumbsErrors=function(){u.autoBreadcrumbsErrors=!1};u.enableAutoBreadcrumbsClicks=function(){u.autoBreadcrumbsClicks=!0};u.disableAutoBreadcrumbsClicks=function(){u.autoBreadcrumbsClicks=!1};u.enableAutoBreadcrumbs=function(){u.enableAutoBreadcrumbsClicks();u.enableAutoBreadcrumbsConsole();
u.enableAutoBreadcrumbsErrors();u.enableAutoBreadcrumbsNavigation()};u.disableAutoBreadcrumbs=function(){u.disableAutoBreadcrumbsClicks();u.disableAutoBreadcrumbsConsole();u.disableAutoBreadcrumbsErrors();u.disableAutoBreadcrumbsNavigation()};u.enableNotifyUnhandledRejections=function(){u.notifyUnhandledRejections=!0};u.disableNotifyUnhandledRejections=function(){u.notifyUnhandledRejections=!1};var M="complete"!==document.readyState;document.addEventListener?(document.addEventListener("DOMContentLoaded",
g,!0),h.addEventListener("load",g,!0)):h.attachEvent("onload",g);var J=/^[0-9a-f]{32}$/i,S=/function\s*([\w\-$]+)?\s*\(/i,W="https://notify.bugsnag.com/js",X="3.1.0",K=document.getElementsByTagName("script"),Q=K[K.length-1],V;if(h.atob){if(h.ErrorEvent)try{0===(new h.ErrorEvent("test")).colno&&(A=!1)}catch(ea){}}else A=!1;t("autoNotify",!0)&&(w(h,"onerror",function(a){"undefined"!==typeof BUGSNAG_TESTING&&(u._onerror=a);return function(b,d,e,f,g){var l=t("autoNotify",!0),k={};!f&&h.event&&(f=h.event.errorCharacter);
c(k);y=null;l&&!C&&(l=g&&g.name||"window.onerror",r({name:l,message:b,file:d,lineNumber:e,columnNumber:f,stacktrace:g&&(g.stack||g.backtrace||g.stacktrace)||s(),severity:"error"},k),q("autoBreadcrumbsErrors")&&u.leaveBreadcrumb({type:"error",name:l,metaData:{severity:"error",file:d,message:b,line:e}}));"undefined"!==typeof BUGSNAG_TESTING&&(a=u._onerror);a&&a(b,d,e,f,g)}}),K=function(a){return function(b,c){if("function"===typeof b){b=d(b);var e=Array.prototype.slice.call(arguments,2);return a(function(){b.apply(this,
e)},c)}return a(b,c)}},w(h,"setTimeout",K),w(h,"setInterval",K),h.requestAnimationFrame&&w(h,"requestAnimationFrame",function(a){return function(b){return a(d(b))}}),h.setImmediate&&w(h,"setImmediate",function(a){return function(){var b=Array.prototype.slice.call(arguments);b[0]=d(b[0]);return a.apply(this,b)}}),"onunhandledrejection"in h&&h.addEventListener("unhandledrejection",function(a){t("notifyUnhandledRejections",!1)&&((a=a.reason)&&(a instanceof Error||a.message)?u.notifyException(a):u.notify("UnhandledRejection",
a))}),"EventTarget Window Node ApplicationCache AudioTrackList ChannelMergerNode CryptoOperation EventSource FileReader HTMLUnknownElement IDBDatabase IDBRequest IDBTransaction KeyOperation MediaController MessagePort ModalWindow Notification SVGElementInstance Screen TextTrack TextTrackCue TextTrackList WebSocket WebSocketWorker Worker XMLHttpRequest XMLHttpRequestEventTarget XMLHttpRequestUpload".replace(/\w+/g,function(a){if((a=h[a]&&h[a].prototype)&&a.hasOwnProperty&&a.hasOwnProperty("addEventListener"))w(a,
"addEventListener",function(a){return function(b,c,e,f){try{c&&c.handleEvent&&(c.handleEvent=d(c.handleEvent))}catch(g){l(g)}return a.call(this,b,d(c),e,f)}}),w(a,"removeEventListener",function(a){return function(b,c,e,f){a.call(this,b,c,e,f);return a.call(this,b,d(c),e,f)}})}));(function(){H&&h.addEventListener("click",function(b){if(q("autoBreadcrumbsClicks")){var c,d;try{var f=b.target,g=f.textContent||f.innerText||"";if("submit"===f.type||"button"===f.type)g=f.value;g=g.replace(/^\s+|\s+$/g,"");
c=a(g,140);d=e(b.target)}catch(h){d=c="[hidden]",l("Cross domain error when tracking click event. See https://docs.bugsnag.com/platforms/browsers/faq/#3-cross-origin-script-errors")}u.leaveBreadcrumb({type:"user",name:"UI click",metaData:{targetText:c,targetSelector:d}})}},!0)})();(function(){function a(b,c){q("autoBreadcrumbsConsole")&&u.leaveBreadcrumb({type:"log",name:"Console output",metaData:{severity:b,message:Array.prototype.slice.call(c).join(", ")}})}if("undefined"!==typeof h.console){var b=
console.log,c=console.warn,d=console.error;u.enableAutoBreadcrumbsConsole=function(){u.autoBreadcrumbsConsole=!0;f(console,"log",function(){a("log",arguments)});f(console,"warn",function(){a("warn",arguments)});f(console,"error",function(){a("error",arguments)})};u.disableAutoBreadcrumbsConsole=function(){u.autoBreadcrumbsConsole=!1;console.log=b;console.warn=c;console.error=d};q("autoBreadcrumbsConsole")&&u.enableAutoBreadcrumbsConsole()}})();(function(){function a(b){var c=b.oldURL;b=b.newURL;var d=
{};c&&b?(d.from=c.split("#")[1]||"",d.to=b.split("#")[1]||""):d.to=location.hash;return{type:"navigation",name:"Hash changed",metaData:d}}function b(){return{type:"navigation",name:"Navigated back"}}function c(){return{type:"navigation",name:"Page hidden"}}function d(){return{type:"navigation",name:"Page shown"}}function e(){return{type:"navigation",name:"Page loaded"}}function g(){return{type:"navigation",name:"DOMContentLoaded"}}function l(a,b,c,d){c=location.pathname+location.search+location.hash;
return{type:"navigation",name:"History "+a,metaData:{from:c,to:d||c,prevState:history.state,nextState:b}}}function k(a,b,c){return l("pushState",a,b,c)}function m(a,b,c){return l("replaceState",a,b,c)}function n(a){return function(){q("autoBreadcrumbsNavigation")&&u.leaveBreadcrumb(a.apply(null,arguments))}}if(H&&h.history&&h.history.state&&h.history.pushState&&h.history.pushState.bind){var p=history.pushState,r=history.replaceState;u.enableAutoBreadcrumbsNavigation=function(){u.autoBreadcrumbsNavigation=
!0;f(history,"pushState",n(k));f(history,"replaceState",n(m))};u.disableAutoBreadcrumbsNavigation=function(){u.autoBreadcrumbsNavigation=!1;history.pushState=p;history.replaceState=r};h.addEventListener("hashchange",n(a),!0);h.addEventListener("popstate",n(b),!0);h.addEventListener("pagehide",n(c),!0);h.addEventListener("pageshow",n(d),!0);h.addEventListener("load",n(e),!0);h.addEventListener("DOMContentLoaded",n(g),!0);q("autoBreadcrumbsNavigation")&&u.enableAutoBreadcrumbsNavigation()}})();t("autoBreadcrumbs",
!0)&&u.leaveBreadcrumb({type:"navigation",name:"Bugsnag Loaded"});h.Bugsnag=u;"function"===typeof define&&define.amd?define([],function(){return u}):"object"===typeof module&&"object"===typeof module.exports&&(module.exports=u)})(window,window.Bugsnag)},"mojo/widgets/AccessibleMenu":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_FocusMixin dojo/on dojo/parser dojo/_base/lang dojo/_base/array dojo/dom dojo/dom-class dojo/dom-attr dojo/query dojo/keys dojo/NodeList-traverse".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n){return h([k,d],{menuItems:[],currentItemIndex:null,bindEvents:function(){var a=this;this.keyEvents=g(this.domNode,"keydown",function(b){b.preventDefault();b.stopPropagation();a.currentItemIndex=a.menuItems.indexOf(b.target);return a._handleKeyDown(this,b)})},unbindEvents:function(){this.keyEvents.remove()},_handleKeyDown:function(b,c){switch(c.charCode||c.keyCode){case n.ENTER:case n.SPACE:window.location=a.get(m(c.target).children("a")[0],"href");break;case n.UP_ARROW:var d=
this.currentItemIndex-1,d=0>d?this.menuItems[this.menuItems.length-1]:this.menuItems[d];d.focus();break;case n.DOWN_ARROW:d=this.currentItemIndex+1;d=d>this.menuItems.length-1?this.menuItems[0]:this.menuItems[d];d.focus();break;case n.ESCAPE:case n.LEFT_ARROW:case n.RIGHT_ARROW:break;case n.TAB:case n.META:case n.CTRL:case n.SHIFT:case n.ALT:return!0;case n.TAB:case n.META:case n.CTRL:case n.SHIFT:case n.ALT:return!0;default:var d=String.fromCharCode(c.which),e=this.currentItemIndex+1;for(e===this.menuItems.length&&
(e=0);e!==this.currentItemIndex;){if(m(this.menuItems[e]).children("a")[0].innerHTML.charAt(0)===d){this.charMatch=!0;break}e+=1;e===this.menuItems.length&&(e=0)}this.charMatch?this.menuItems[e].focus():this.menuItems[this.currentItemIndex].focus()}},setRoles:function(){this.menuItems.map(function(b){a.set(b,"role","menuitem");a.set(b,"tabindex","-1")})},postCreate:function(){this.menuItems=m(this.domNode).children();this.setRoles()},_onFocus:function(){this.bindEvents();a.has(this.domNode,"data-mode")||
(m(this.menuItems)[0].focus(),this.currentItemIndex=0)},_onBlur:function(){a.set(this.domNode,"aria-expanded","false");this.unbindEvents();a.has(this.domNode,"data-mode")&&a.remove(this.domNode,"data-mode")}})})},"mojo/widgets/AccessibleMenuBar":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_FocusMixin dojo/on dojo/parser dojo/_base/lang dojo/_base/array dojo/dom dojo/dom-class dojo/dom-attr dojo/query dojo/keys mojo/widgets/GlobalSearch dojo/NodeList-traverse".split(" "),function(h,
k,d,g,b,c,f,l,e,a,m,n,p){return h([k,d],{menuParents:[],menuDropdowns:[],currentMenuIndex:null,bindEvents:function(){var a=this;this.keyUpEvents=g(this.menuParents,"keyup",function(b){if((b.charCode||b.keyCode)!==n.TAB)b.preventDefault(),b.stopPropagation();a.menuParents.some(function(a){return a===b.target})?a.currentMenuIndex=a.menuParents.indexOf(b.target):a.currentMenuIndex=a.menuParents.indexOf(m(b.target).parents("[data-submenu]")[0]);return a._handleKeyUp(this,b)});this.keyDownEvents=g(this.menuParents,
"keydown",function(b){if((b.charCode||b.keyCode)!==n.TAB)b.preventDefault(),b.stopPropagation();return a._handleKeyDown(this,b)});this.clickEvents=g(this.menuParents,"click",function(b){a.currentMenuIndex=a.menuParents.indexOf(b.target);return a._handleClick(this,b)})},unbindEvents:function(){this.keyUpEvents.remove();this.keyDownEvents.remove();this.clickEvents.remove()},_handleKeyUp:function(a,b){switch(b.charCode||b.keyCode){case n.ESCAPE:case n.TAB:this._hideAllMenus();this._setFocus();break;
case n.ENTER:case n.SPACE:this._toggleMenu(b.target,b);this._openUrl(b.target,b);break;case n.UP_ARROW:case n.DOWN_ARROW:this._toggleMenu(b.target,b);break;case n.LEFT_ARROW:var c;(c=this.menuParents.some(function(a){return a===b.target}))?(c=this.currentMenuIndex-1,c=0>=c?this.menuParents[0]:this.menuParents[c]):c=a;this._hideAllMenus();c.focus();break;case n.RIGHT_ARROW:(c=this.menuParents.some(function(a){return a===b.target}))?(c=this.currentMenuIndex+1,c=c>=this.menuParents.length-1?this.menuParents[this.menuParents.length-
1]:this.menuParents[c]):c=a;this._hideAllMenus();c.focus();break;default:if(!this.menuActive){c=String.fromCharCode(b.which);var d=this.currentMenuIndex+1;for(d===this.menuParents.length&&(d=0);d!==this.currentMenuIndex;){if(m(this.menuParents[d]).children()[0].innerHTML.charAt(0)===c){this.charMatch=!0;break}d+=1;d===this.menuParents.length&&(d=0)}this.charMatch&&this.menuParents[d].focus();return!1}}},_handleKeyDown:function(a,b){switch(b.charCode||b.keyCode){case n.TAB:return!0}},_handleClick:function(a,
b){this._toggleMenu(a,b,"click")},_toggleMenu:function(b,c,d){"true"===a.get(b,"aria-haspopup")&&(c=m(b).children("ul")[0],e.contains(c,"v-menuChild--active")?(e.remove(b,"v-menuParent--active"),e.remove(c,"v-menuChild--active"),a.set(c,"aria-expanded","false"),c.blur(),b.focus()):(this._hideAllMenus(),e.add(b,"v-menuParent--active"),e.add(c,"v-menuChild--active"),a.set(c,"aria-expanded","true"),"click"===d&&a.set(c,"data-mode",d),c.focus(),this.menuActive=!0))},_openUrl:function(b,c){var d=m(b).children("a")[0];
"false"===a.get(b,"aria-haspopup")&&("searchLink"===a.get(d,"data-menubar-item")?p.main().show("global-search"):window.location=a.get(d,"href"))},_hideAllMenus:function(){this.menuDropdowns.map(function(b){e.contains(b,"v-menuChild--active")&&(e.remove(b,"v-menuChild--active"),a.set(b,"aria-expanded","false"))});this.menuParents.map(function(a){e.contains(a,"v-menuParent--active")&&e.remove(a,"v-menuParent--active")});this.menuActive=!1},_setFocus:function(){this.currentMenuIndex&&0<this.currentMenuIndex&&
this.menuParents[this.currentMenuIndex].focus()},setRoles:function(){a.set(m(this.domNode).parents("nav")[0],"tabindex","-1");a.set(this.domNode,"role","menubar");this.menuParents.map(function(b){a.set(b,"tabindex","0");a.set(b,"role","menuitem");m(b).children("ul")[0]?(a.set(b,"aria-haspopup","true"),a.set(b,"data-submenu","true"),e.add(b,"cursor-pointer")):(a.set(b,"aria-haspopup","false"),a.set(m(b).children("a")[0],"tabindex","-1"))});this.menuDropdowns.map(function(b){a.set(b,"tabindex","-1");
a.set(b,"role","menu");a.set(b,"aria-expanded","false")})},postCreate:function(){this.menuParents=m(this.domNode).children("li");this.menuDropdowns=m(this.menuParents).children("ul");this.setRoles()},_onBlur:function(){this._hideAllMenus();this.unbindEvents()},_onFocus:function(){this.bindEvents()}})})},"mojo/widgets/GlobalSearch":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_AttachMixin mojo/widgets/_Overlay dojo/on dojo/query dojo/_base/array dojo/parser dojo/_base/lang dojo/dom dojo/dom-attr dojo/dom-class dijit/registry dojo/request/xhr velocity/velocity mojo/utils mojo/KeyShortcuts dojo/keys dojo/ready".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s,v,w){var u=h([k,d,g],{overlayClass:"search-overlay",postMixInProperties:function(){u._main||(u._main=this)},postCreate:function(){var c=this;b(this.globalSearchForm,"submit",function(a){a.preventDefault();c.doSearch()});b(this.globalSearchField,"keyup",function(a){a=a.charCode||a.keyCode;if(0===this.value.length||a===v.ESCAPE)this.value="",c.toggleSearchIcon(!1),c.toggleSearchLoader(!1),c.resetSearch()});w(function(){c.searchFilter=p.byId("search-filter");
b(c.searchFilter,"change",function(a){a=c.searchFilter.getOptions(a).label;c.globalSearchField.placeholder="Search "+a.toLowerCase();c.doSearch()})});b(this.searchResults,"[data-search-offset]:click",function(a){a.preventDefault();a.stopPropagation();(a=m.get(a.target,"data-search-offset"))&&"undefined"!==typeof a&&c.doSearch(a)});b(this.clearIcon,"click",function(a){c.globalSearchField.value="";c.searchResults.innerHTML="";n.add(c.searchCount,"hide");n.add(c.clearIcon,"hide");n.remove(c.searchIcon,
"hide")});b(this.keywords,"a:click",function(b){b.preventDefault();b=this.innerHTML;var d=c.globalSearchField.value;c.globalSearchField.value="";c.globalSearchField.value=b.concat(" ",d);r.toggleEl(a.byId("search-tips"),"hotkey-help-search-pane","Advanced search keywords","Close advanced search keywords");c.globalSearchField.focus()});b(this.closeButton,"click",e.hitch(this,"hide"))},doSearch:function(a){var b=this;n.add(this.searchError,"hide");var c="all";this.searchFilter&&(c=this.searchFilter.value);
"undefined"===typeof a&&(a=0);0<this.globalSearchField.value.length&&(b.toggleSearchLoader(!0),t.post(m.get(this.globalSearchForm,"url"),{handleAs:"json",query:{query:this.globalSearchField.value,offset:a,entities:c}}).then(function(a){b.toggleSearchLoader(!1);b.toggleSearchIcon(!0);0<a.total?n.remove(b.searchCount,"hide"):n.add(b.searchCount,"hide");100<a.total&&(n.remove(b.searchPagination,"hide"),b.startCount.innerHTML=a.start,b.endCount.innerHTML=a.end);b.totalCount.innerHTML=a.total+" results";
b.searchResults.innerHTML=a.html;l.parse(b.searchResults);if(b.noResultsMessage){String.prototype.escape=function(){var a={"\x26":"\x26amp;","\x3c":"\x26lt;","\x3e":"\x26gt;"};return this.replace(/[&<>]/g,function(b){return a[b]||b})};a=xmpputil.stripHtml(b.globalSearchField.value.escape());var d="";switch(c.split("-")[0]){case "campaigns":d='Sorry, we couldn\x26rsquo;t find any campaigns that match "\x3cstrong id\x3d"search-query"\x3e'+a+'\x3c/strong\x3e".';break;case "listmembers":d='Sorry, we couldn\x26rsquo;t find any subscribers that match "\x3cstrong id\x3d"search-query"\x3e'+
a+'\x3c/strong\x3e".';c[1]&&(d+=' Would you like to \x3ca href\x3d"/lists/members/add?id\x3d'+c[1]+'"\x3eadd a subscriber\x3c/a\x3e?');break;default:d='Sorry, we couldn\x26rsquo;t find a match with "\x3cstrong id\x3d"search-query"\x3e'+a+'\x3c/strong\x3e".'}b.noResultsMessage.innerHTML=d}},function(a){n.add(b.loadIcon,"hide");n.add(b.searchIcon,"hide");n.remove(b.clearIcon,"hide");b.searchResults.innerHTML="";n.remove(b.searchError,"hide")}))},resetSearch:function(){this.searchResults.innerHTML="";
n.add(this.searchError,"hide")},toggleSearchIcon:function(a){n.toggle(this.clearIcon,"hide",!a);n.toggle(this.searchIcon,"hide",a)},toggleSearchLoader:function(a){n.toggle(this.loadIcon,"hide",!a)}});u.main=function(){return u._main?u._main:null};return u})},"mojo/widgets/_Overlay":function(){define("dojo/_base/declare dojo/dom-class dojo/dom-style dojo/Deferred dojo/dom dojo/_base/lang velocity/velocity dojo/dom-attr".split(" "),function(h,k,d,g,b,c,f,l){return h([],{overlayClass:"",isVisible:function(){return"visible"==
d.get(this.domNode,"visibility")&&1==d.get(this.domNode,"opacity")},show:function(e){var a=new g;this.isVisible()?a.resolve():(this.onShow(),f(this.domNode,"stop"),d.set(this.domNode,"zIndex",940),k.add(document.documentElement,this.overlayClass+" overflow-hidden"),f(this.domNode,{opacity:[1,"easeOutCubic",0.2],translateY:["0%","easeOutQuint","-100%"]},{visibility:"visible",duration:475,complete:c.hitch(this,function(){b.byId(e)&&b.byId(e).focus();l.set(this.domNode,"aria-hidden","false");a.resolve()})}));
return a.promise},hide:function(b){var a=new g;b=b||{};this.isVisible()?(this.onHide(),b=!1===b.animate?0:375,f(this.domNode,"stop"),f(this.domNode,{translateY:["-100%","easeOutQuint","0%"]},{duration:b,visibility:"hidden",opacity:0.2,complete:c.hitch(this,function(){d.set(this.domNode,"zIndex",-5);k.replace(document.documentElement,"",this.overlayClass+" overflow-hidden");l.set(this.domNode,"aria-hidden","true");a.resolve()})})):a.resolve();return a.promise},onHide:function(){},onShow:function(){}})})},
"mojo/KeyShortcuts":function(){define("dojo/on dojo/_base/array dojo/ready dojo/query dojo/keys dijit/focus".split(" "),function(h,k,d,g,b,c){var f={},l={},e=function(a){return a.target&&-1!=k.indexOf(["INPUT","TEXTAREA","SELECT"],a.target.tagName.toUpperCase())};d(function(){h(window.document,"keyup",m);h(window.document,"keypress",n);g("iframe").forEach(function(b){a(b);h(b,"load",function(){a(this)})})});var a=function(a){var b=document.location.protocol+"//"+document.location.host;a.src.slice(0,
b.length)==b&&(h(a.contentWindow.document,"keyup",function(a){m(a)}),h(a.contentWindow.document,"keypress",function(a){n(a)}))},m=function(a){if(!a.ctrlKey&&!a.metaKey&&!a.altKey&&!a.shiftKey){var d=a.data?a.data.keyCode:a.keyCode,f;for(f in b)if(b.hasOwnProperty(f)&&b[f]===d){!e(a)&&(l[d]&&l[d].length)&&(k.forEach(l[d],function(b){b(a)}),c.curNode&&c.curNode.blur());break}}},n=function(a){if(!a.ctrlKey&&!a.metaKey&&!a.altKey&&!a.shiftKey){var b=a.data?a.data.charCode:a.charCode;!e(a)&&"undefined"==
typeof a.sender&&(f[b]&&f[b].length)&&(k.forEach(f[b],function(b){b(a)}),a.preventDefault(),a.stopPropagation())}},p={onKey:function(a,b){var c=a.charCodeAt(0);f[c]||(f[c]=[]);f[c].push(b);return{remove:function(){var a=k.indexOf(f[c],b);0<=a&&f[c].splice(a,1)}}},onSpecialKey:function(a,c){var d=b[a];l[d]||(l[d]=[]);l[d].push(c);return{remove:function(){var a=k.indexOf(l[d],c);0<=a&&l[d].splice(a,1)}}},onEsc:function(a){return p.onSpecialKey("ESCAPE",a)},onEnter:function(a,c){return h(a,"keyup",function(a){if(!a.ctrlKey&&
!a.metaKey&&!a.altKey&&!a.shiftKey){var d=a.data?a.data.keyCode:a.keyCode;e(a)&&("undefined"==typeof a.sender&&d===b.ENTER)&&c(a)}})}};return p})},"mojo/widgets/AccountMenu":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_AttachMixin mojo/widgets/_MenuActions mojo/widgets/_SlideCard dojo/on dojo/query dojo/_base/array dojo/parser dojo/_base/lang dojo/dom dojo/dom-style dojo/dom-attr dojo/dom-class dijit/registry velocity/velocity".split(" "),function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r){var s=
h([k,d,g,b],{overlayClass:"",postMixInProperties:function(){s._main||(s._main=this)},postCreate:function(){c(this.slideNotifications,"click",a.hitch(this,"slideCard",this.notificationsCard,null));this.slideAccount&&c(this.slideAccount,"click",a.hitch(this,"slideCard",this.accountCard,this.accountSearchField));c(this.slideBackNotifications,"click",a.hitch(this,"closeCard",this.notificationsCard));c(this.slideBackAccount,"click",a.hitch(this,"closeCard",this.accountCard));this.accountSearchField&&c(this.accountSearchField,
"keyup",function(a){var b=this.value.toLowerCase();f(".account-list .acl-account").forEach(function(a){var c=p.get(a,"data-account-name").toLowerCase();a.style.display=0>c.indexOf(b)?"none":""})})}});s.main=function(){return s._main?s._main:null};return s})},"mojo/widgets/_MenuActions":function(){define("dojo/_base/declare dojo/dom-class dojo/dom dojo/_base/lang velocity/velocity dojo/dom-attr".split(" "),function(h,k,d,g,b,c){return h([],{overlayClass:"",toggle:function(b){k.toggle(this.domNode,
b);"true"===c.get(this.domNode,"aria-hidden")?c.set(this.domNode,"aria-hidden","false"):c.set(this.domNode,"aria-hidden","true")},hide:function(b){k.replace(this.domNode,"",b);c.set(this.domNode,"aria-hidden","true")}})})},"mojo/widgets/_SlideCard":function(){define(["dojo/_base/declare","dojo/dom-class","dojo/dom","dojo/_base/lang","velocity/velocity"],function(h,k,d,g,b){return h([],{slideCard:function(c,d){b(c,"stop");b(c,{left:[0,[0.7,0,0.175,1.06],"100%"]},{duration:250,complete:function(){d&&
d.focus()}})},closeCard:function(c){b(c,"stop");b(c,{left:["100%",[0.7,0,0.175,-0.2],0]},{duration:250})}})})},"mojo/widgets/ActionButtonPane":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-construct dojo/query dojo/on dojo/dom-class dijit/form/Select dijit/_WidgetBase dijit/_TemplatedMixin dojo/text!./templates/ActionButtonPane.html".split(" "),function(h,k,d,g,b,c,f,l,e,a){return h([l,e],{templateString:a,buttonTemplate:'\x3cdiv class\x3d"flex-auto text-align--{buttonAlign} padding-top--lv2 padding-bottom--lv2"\x3e\x3cbutton class\x3d"button {cssOptions}"\x3e{buttonText}\x3c/button\x3e\x3c/div\x3e',
selectTemplate:'\x3cdiv class\x3d"flex-auto text-align--{selectAlign} padding-top--lv2 padding-bottom--lv2"\x3e\x3c/div\x3e',postCreate:function(){this.params.button&&this._setupButton(this.params.button);this.params.select&&this._setupSelect(this.params.select)},_setupButton:function(a){var c=d.place(k.replace(this.buttonTemplate,{buttonAlign:a.align,buttonText:a.buttonText,cssOptions:a.colorStyles+" margin-right--lv0"}),this.actionpFlexPaneEl);b(c,"click",function(b){a.action()})},_setupSelect:function(a){this.sectionToggle=
new f({"class":a.classNames,options:a.options});var b=d.place(k.replace(this.selectTemplate,{selectAlign:a.align}),this.actionpFlexPaneEl,a.order);d.place(this.sectionToggle.domNode,b,"first");this.connect(this.sectionToggle,"onChange",a.onChange);c.add(this.sectionToggle.domNode,"!width--auto")}})})},"mojo/widgets/AddSegmentPane":function(){define(["dojo/_base/declare","mojo/widgets/TopSliderPane","dojo/text!./templates/AddSegmentPane.html","dojo/_base/lang"],function(h,k,d,g){return h([k],{reportId:null,
titleText:"MailChimp Comparative Reports",badgeText:"Add Segment",paneClasses:"add-segment-container",content:d,constructor:function(b){g.mixin(this,b);if(!this.reportId)throw Error("Can't create segment without a report Id.");},postCreate:function(){this.inherited(arguments)},show:function(){return this.inherited(arguments)}})})},"mojo/widgets/TopSliderPane":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_Templated dijit/_FocusMixin dojo/on dojo/dom dijit/registry dojo/dom-attr dojo/html dojo/fx velocity/velocity dojo/has dojo/_base/lang dojo/_base/array dojo/Deferred dojo/dom-construct dojo/dom-class dojo/dom-style dojo/dom-geometry dojo/query dojo/parser mojo/KeyShortcuts dojo/ready dojo/text!./templates/sliderPaneWrapper.html".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s,v,w,u,y,x,A,C){var D=[];x.onEsc(function(){var a=D.length?D.slice(-1)[0]:null;if(a)a.onEsc()});return h([k,d,g],{widgetsInTemplate:!0,titleText:"Preview",badgeText:"Badge Text",emailText:null,paneClasses:"topsliderpane-base",displayActive:!1,templateString:C,zIndex:null,postMixInProperties:function(){this.templateString=p.replace(this.templateString,{_content:this.content})},postCreate:function(){A(p.hitch(this,function(){r.place(this.domNode,u("body")[0]);
this.zIndex&&v.set(this.domNode,"zIndex",""+this.zIndex)}));this.closeLink&&b(this.closeLink,"click",p.hitch(this,function(a){a.preventDefault();this.hide()}));this.closeAllLink&&b(this.closeAllLink,"click",p.hitch(this,function(a){a.preventDefault();this.onCloseAll()}));var a=u(".mobile-top-nav",this.domNode)[0];a&&(b(a,"click",function(){s.toggle(this,"active")}),u(".exitnav a",this.domNode).forEach(function(c){b(c,"click",function(){s.remove(a,"active")})}));this.title&&this.titleText&&e.set(this.title,
this.titleText);this.badge&&this.badgeText?e.set(this.badge,this.badgeText):r.destroy(this.badge);this.emailTitle&&this.emailText?e.set(this.emailTitle,this.emailText):r.destroy(this.emailTitle);s.add(this.domNode,this.paneClasses)},show:function(a){this.promise=new q;var b=this,c=function(){D.push(b);r.place(b.domNode,u("body")[0],"last");b.displayActive||(b.title&&b.titleText&&e.set(b.title,b.titleText),m(b.domNode,"stop"),b.content&&(v.set(b.content,"opacity",0),m(b.content,{opacity:[1,"easeIn",
0]},{delay:255,duration:225})),m(b.domNode,{opacity:[1,"easeIn",0.4]},{duration:225,display:"block",begin:p.hitch(b,function(){v.set(b.domNode,{"z-index":"95"})}),complete:p.hitch(b,function(){b.scrollTopCache=w.docScroll().y;s.add(u("html")[0],["overflow-hidden"]);s.add(u("body")[0],["overflow-hidden","absolute","full-height"]);b.closeLink&&(b.closeLink.focus(),b.closeLink.blur());b._onShowCallback()})}),b.displayActive=!0);a&&a.zIndex&&v.set(b.domNode,"zIndex",""+a.zIndex)},d=D.length?D.slice(-1)[0]:
null;(!a||!a.forceOnTop)&&d?d!=b&&d.hide().then(c):c();return this.promise},hide:function(){var a=new q;s.remove(u("html")[0],["overflow-hidden"]);s.remove(u("body")[0],["overflow-hidden","absolute","full-height"]);m(this.domNode,"stop");m(this.content,{opacity:[0,"easeOut",1]},{duration:225});m(this.domNode,{opacity:[0.4,"easeOut",1],zIndex:[-1,"easeOut",95]},{duration:225,display:"none",complete:p.hitch(this,function(){u("body")[0].scrollTop=this.scrollTopCache;document.documentElement.scrollTop=
this.scrollTopCache;var b=D.indexOf(this);-1<b&&D.splice(b,1);this._onHideCallback();a.resolve()})});this.displayActive=!1;return a},onEsc:function(){this.focused&&this.hide()},onCloseAll:function(){D.reverse().map(function(a){a.hide()})},_onShowCallback:function(){},_onHideCallback:function(){}})})},"mojo/widgets/Autocomplete":function(){define("dojo/_base/declare mojo/utils dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/Stateful dojo/_base/lang dojo/dom-construct dojo/dom-class dojox/html/entities dojo/keys dojo/text!./templates/Autocomplete.html".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n){return h([d,g,b,c],{templateString:n,constructor:function(a){this.suggestionsMap=a.suggestions.reduce(f.hitch(function(a,b){a[b.value]=b;return a}),{search:{value:"search",label:'Search for "{search}"',icon:"light-bulb"}});this.suggestionOrder=a.suggestions.map(function(a){return a.value})},wait:250,searchTopic:null,visibleSuggestions:[],_setVisibleSuggestionsAttr:function(b){this.visibleSuggestions=b;var c=document.createDocumentFragment();this.visibleSuggestions.forEach(f.hitch(this,
function(b,d){var e=this.suggestionsMap[b];e.domNode=k.compileTemplate(this.template_result,f.mixin(f.clone(e),{label:f.replace(e.label,{search:a.encode(this.searchText)}),icon:e.icon||"hide"}));e.domNode.addEventListener("mousedown",this._selectSuggestion.bind(this,b));0===d&&!this.isSearch(b)&&c.appendChild(k.compileTemplate(this.template_divider,{}));c.appendChild(e.domNode)}));l.place(c,this.node_autoCompleteResults,"only");this.set("highlightedSuggestionKey","")},searchText:null,_setSearchTextAttr:function(a){a!==
this.searchText&&(this.searchText=decodeURIComponent(a||""),this.SearchBox.setValue(this.searchText),this.set("visibleSuggestions",(this.searchText?["search"]:[]).concat(this.suggestionOrder).filter(f.hitch(this,function(a){var b=this.suggestionsMap[a];return!this.searchText||this.isSearch(a)||-1<b.label.toLowerCase().indexOf(this.searchText.toLowerCase())}))),this.set("shouldShowSuggestions",this.isFocused&&(!this.shouldOnlySuggestOnFocus||!this.searchText)))},highlightedSuggestionKey:"",_setHighlightedSuggestionKeyAttr:function(a){this.highlightedSuggestionKey=
a;this.visibleSuggestions.forEach(f.hitch(this,function(a,b){e.toggle(this.suggestionsMap[a].domNode,"c-autocomplete_suggestion--highlighted",a===this.highlightedSuggestionKey)}))},selectedSuggestion:"",_setSelectedSuggestionAttr:function(a){this.selectedSuggestion=a;this.suggestionsMap[a]&&this.set("searchText",this.suggestionsMap[a].label)},shouldShowSuggestions:!1,_setShouldShowSuggestionsAttr:function(a){this.shouldShowSuggestions=a;e.toggle(this.node_autoCompleteResults,"hide",!a)},_selectSuggestion:function(a,
b){b.preventDefault();this.SearchBox.filteredInput.blur();this.set("shouldShowSuggestions",!1);var c=a||this.highlightedSuggestionKey;if(!c||this.isSearch(c))this.onTextSearch(this.searchText);else this.onSuggestionSelected(this.suggestionsMap[c])},_onKeyDown:function(a){var b=a.charCode||a.keyCode;b===m.DOWN_ARROW||b===m.UP_ARROW?(a.preventDefault(),a=b===m.DOWN_ARROW?1:-1,this.set("highlightedSuggestionKey",this.visibleSuggestions[this.visibleSuggestions.indexOf(this.highlightedSuggestionKey)+a]||
this.highlightedSuggestionKey)):this.highlightedSuggestionKey&&b!==m.ENTER&&this.set("highlightedSuggestionKey","")},isSearch:function(a){return"search"===a},clear:function(){this.SearchBox._clearSearch()},onClear:function(){},onSuggestionSelected:function(){},onTextSearch:function(){},postCreate:function(){this.inherited(arguments);this.set("searchText","");this.SearchBox.onChange=this.set.bind(this,"searchText");this.SearchBox.onClear=f.hitch(this,function(){this.set("searchText","");this.onClear()});
this.SearchBox.onBlur=f.hitch(this,function(){this.set("isFocused",!1);this.set("shouldShowSuggestions",!1)});this.SearchBox.onFocus=f.hitch(this,function(){this.set("isFocused",!0);this.set("shouldShowSuggestions",0<this.visibleSuggestions.length&&(!this.shouldOnlySuggestOnFocus||!this.searchText))});this.SearchBox.onKeyDown=this._onKeyDown.bind(this);this.domNode.addEventListener("submit",this._selectSuggestion.bind(this,null))}})})},"mojo/widgets/AutomationOverlay":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_AttachMixin mojo/widgets/_Overlay dojo/on dojo/query dojo/_base/array dojo/request dojo/parser dojo/_base/lang dojo/dom dojo/dom-style dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/html dojo/fx dojo/_base/fx dojo/fx/easing dojo/keys dijit/registry mojo/widgets/automation/TriggerContent mojo/widgets/automation/ScheduleContent mojo/widgets/automation/SegmentContent mojo/widgets/automation/PostSendContent mojo/widgets/automation/QueueAddContent mojo/widgets/automation/QueueRemoveContent mojo/url mojo/logger mojo/utils mojo/KeyShortcuts velocity/velocity velocity/velocity.ui".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s,v,w,u,y,x,A,C,D,E,G,H,M,J,S,W){var X=h([k,d,g],{overlayClass:"automation-overlay",s_panelTitle:"Title",s_submitBtn:"Save",s_panelText:"",currentOverlay:null,currentEmailDom:null,currentViewId:null,postMixInProperties:function(){X._main||(X._main=this)},postCreate:function(){this.inherited(arguments);var a=this;b(this.cancel,"click",function(){a.closeView()});b(this.submit,"click",function(){a.submit.disabled=!0;if(a.currentView._validate()){var b=a.currentOverlay._save(),
d=c("[data-view-id\x3d'feedback']",a.currentEmailDom)[0],f=c("[data-view-id\x3d'status']",a.currentEmailDom)[0];if("trigger"===a.currentViewId){var g=c("[data-action\x3d'trigger']",a.currentEmailDom)[0];widgets=y.findWidgets(g);widgets.forEach(function(a){a.destroyRecursive()});g.innerHTML=b.trigger_text;e.parse(g);a.updateNotification("Trigger",d,f);b.order&&_mc.reorderEmails(b.order);_mc.toggleAddWorkflowButton(b.workflow_add_allowed)}"schedule"===a.currentViewId&&(c("[data-action\x3d'schedule']",
a.currentEmailDom)[0].innerHTML=b,a.updateNotification("Schedule",d,f));"postsend"===a.currentViewId&&(c("[data-action\x3d'postsend']",a.currentEmailDom)[0].innerHTML=b?b:"None",a.updateNotification("Actions",d,f));"segment"===a.currentViewId&&(g=c("[data-action\x3d'segment']",a.currentEmailDom)[0],widgets=y.findWidgets(g),widgets.forEach(function(a){a.destroyRecursive()}),g.innerHTML=b?b:"None",e.parse(g),a.updateNotification("Segment",d,f));("queueAdd"===a.currentViewId||"queueRemove"===a.currentViewId)&&
J.toast(b,"success");a.closeView()}a.submit.disabled=!1});S.onEsc(function(){a.isVisible()&&a.closeView()})},openView:function(a,b,c,d){var e=this;this.currentEmailDom=d;this.currentViewId=b;this.viewContainer.innerHTML="";"trigger"===b&&(this.currentOverlay=c=new x({emailId:a}),r.set(e.panelTitle,"Edit Trigger"),r.set(e.submit,"Update Trigger"),e.currentView=c,q.place(c.domNode,e.viewContainer),c.on("load",function(){}),c.on("delayChange",function(){}));"schedule"===b&&(this.currentOverlay=c=new A({emailId:a}),
r.set(e.panelTitle,"Schedule Email"),r.set(e.submit,"Save Schedule"),e.currentView=c,q.place(c.domNode,e.viewContainer));"segment"===b&&(this.currentOverlay=c=new C({emailId:a}),r.set(e.panelTitle,"Segment Email"),r.set(e.submit,"Save Segment"),e.currentView=c,q.place(c.domNode,e.viewContainer));"postsend"===b&&(this.currentOverlay=c=new D({emailId:a}),r.set(e.panelTitle,"Edit Action"),r.set(e.submit,"Update Action"),e.currentView=c,q.place(c.domNode,e.viewContainer));"queueAdd"===b&&(this.currentOverlay=
c=new E({emailId:a}),r.set(e.panelTitle,"Workflow Queue Management"),r.set(e.submit,"Add Subscribers to Workflow"),e.currentView=c,q.place(c.domNode,e.viewContainer));"queueRemove"===b&&(this.currentOverlay=c=new G({emailId:a}),r.set(e.panelTitle,"Workflow Queue Management"),r.set(e.submit,"Remove Subscribers from Workflow"),e.currentView=c,q.place(c.domNode,e.viewContainer));this.show().then(function(){W(e.viewContainer,{opacity:1},{duration:333})})},closeView:function(){var a=this;W(this.viewContainer,
{opacity:0},{duration:333,complete:function(){a.hide();r.set(a.panelTitle,a.s_panelTitle);r.set(a.submit,a.s_submitBtn);r.set(a.panelText,a.s_panelText);a.currentView&&a.currentView.destroy()}})},updateNotification:function(a,b,c){n.set(c,"opacity",0);b.innerHTML=a+" Updated";n.set(b,"opacity",1);s.chain([v.fadeOut({node:b,duration:3E3,easing:w.expoIn}),v.fadeIn({node:c,duration:500})]).play()}});X.main=function(){return X._main?X._main:null};return X})},"mojo/widgets/automation/TriggerContent":function(){define("dojo/_base/declare dojo/query dojo/on dojo/html dijit/registry dojo/dom-construct dojo/request/xhr mojo/url dojo/dom dojo/dom-class dojo/dom-attr dojo/dom-style dojo/parser dojo/_base/lang dojo/_base/array mojo/utils mojo/widgets/input/TagList ./_OverlayContentMixin velocity/velocity velocity/velocity.ui".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s,v,w){return h(v,{path:"/automations/email-trigger",selectTriggerPanelShow:!1,triggerSettingsPanel:"",triggerSelectPanel:"",currentTrigger:null,triggers:null,currentTriggerName:null,currentTriggerDescription:null,currentTriggerSettings:null,onLoad:function(){var b=this;this.changeTriggerPanel=k("[data-action\x3d'change-trigger']",this.domNode)[0];this.triggerSettingsPanel=k("[data-el\x3d'trigger-settings']",this.domNode)[0];this.triggerSelectPanel=k("[data-el\x3d'select-trigger-panel']",
this.domNode)[0];this.currentTriggerName=k("[data-workflow\x3d'current_trigger_name']",this.domNode)[0];this.currentTriggerDescription=k("[data-workflow\x3d'current_trigger_description']",this.domNode)[0];this.currentTriggerSettings=k("[data-workflow\x3d'current_trigger_settings']",this.domNode)[0];this.currentTriggerDelayUnits=k("[data-workflow\x3d'current_trigger_delay_units']",this.domNode)[0];this.currentTriggerDelayUnit=k("[data-workflow\x3d'delay_unit']",this.domNode)[0];this.delayOffsetBlock=
k("[data-workflow\x3d'delay_offset_block']",this.domNode)[0];this.triggerDelayDirection=k("[data-workflow\x3d'delay_direction']",this.domNode)[0];var c=this._getTriggers(this.emailId);this.currentTrigger=c.current_trigger;this.triggers=c.triggers;this.isMergeBased=c.is_merge_based;this.setDelaySettings(this.currentTrigger);this.onDelayUnitChange();a.add(e.byId("delay_offset_error"),"hide");this.swapTriggerAction(this.currentTrigger);this.currentTrigger.show_delay_direction||a.add(this.triggerDelayDirection,
"hide");this.own(d(this.domNode,"[name\x3ddelay-unit]:change",t.hitch(this,"onDelayUnitChange")),d(this.domNode,'[data-action\x3d"change-trigger"]:click',t.hitch(this,"changeTriggerAction")),d(this.domNode,'[data-action\x3d"select-new-trigger"]:click',t.hitch(this,"selectNewTriggerAction")),d(this.domNode,'[data-action\x3d"add-goal-url"]:click',t.hitch(this,"addGoalUrl")),d(this.domNode,'[data-action\x3d"delete-goal-url"]:click',function(c){c=k(this).parent(".goal-url-container")[0];var d=k("input",
c)[0];m.set(d,"value","");a.remove(c,"show");a.add(c,"hide");b.toggleGoalControls()}));a.add(this.triggerSelectPanel,"hide")},destroy:function(){widgets=b.findWidgets(this.domNode);widgets.forEach(function(a){a.destroyRecursive()});c.destroy(this.domNode)},_getTriggers:function(a){var b;f.post(l.toUrl("/automations/triggers"),{data:{emailId:a},sync:!0,handleAs:"json"}).then(function(a){b=a});return b},changeTriggerAction:function(b){a.toggle(this.triggerSettingsPanel,"hide");a.toggle(this.triggerSelectPanel,
"hide");this.selectTriggerPanelShow?(this.changeTriggerPanel.innerHTML="Change trigger",this.selectTriggerPanelShow=!1):(this.changeTriggerPanel.innerHTML="Cancel new trigger",this.selectTriggerPanelShow=!0)},selectNewTriggerAction:function(a){a=m.get(a.target,"data-workflow-key");a=this.findTriggerWithKey(a);this.swapTriggerAction(a);this.changeTriggerAction();a=e.byId("event_data0");this._clearEventDataValue(a);a=e.byId("event_data1");this._clearEventDataValue(a);a=e.byId("event_data2");this._clearEventDataValue(a);
a=e.byId("event_data3");this._clearEventDataValue(a)},getDelayUnit:function(){return this.currentTriggerDelayUnit.value},getDelayOffset:function(){return this.delayOffsetBlock.value},getDelayDirection:function(){return this.triggerDelayDirection.value},setDelaySettings:function(a){m.set(this.currentTriggerDelayUnit,"value",a.delay_unit);m.set(this.delayOffsetBlock,"value",a.delay_offset);m.set(this.triggerDelayDirection,"value",a.delay_direction)},swapTriggerAction:function(c){c.delay_unit=this.getDelayUnit();
c.delay_offset=this.getDelayOffset();c.delay_direction=this.getDelayDirection();this.currentTrigger=c;this.currentTriggerName.innerHTML=c.name;this.currentTriggerDescription.innerHTML=c.description;widgets=b.findWidgets(this.currentTriggerSettings);widgets.forEach(function(a){a.destroyRecursive()});this.currentTriggerSettings.innerHTML=c.settingsHTML;p.parse(this.currentTriggerSettings);widgets=b.findWidgets(this.currentTriggerDelayUnits);widgets.forEach(function(a){a.destroyRecursive()});this.currentTriggerDelayUnits.innerHTML=
c.delayUnitHTML;p.parse(this.currentTriggerDelayUnits);this.currentTriggerDelayUnit=k("[data-workflow\x3d'delay_unit']",this.domNode)[0];this.own(d(this.domNode,"[name\x3ddelay-unit]:change",t.hitch(this,"onDelayUnitChange")));this.setDelaySettings(c);this.onDelayUnitChange();e.byId("settings_error")&&a.add(e.byId("settings_error"),"hide");"goal"===this.currentTrigger.key&&(k(".goal-url-container",this.domNode).forEach(function(a){var b=""!==k("input",a)[0].value?"show":"hide";k(a).removeClass("hide show").addClass(b)}),
this.toggleGoalControls());if("mdSent"===this.currentTrigger.key||"mdOpen"===this.currentTrigger.key||"mdClick"===this.currentTrigger.key||"mdAny"===this.currentTrigger.key){c=[];try{c=JSON.parse(this.currentTrigger.event_data0);if(null===c||c&&c.constructor!==Array)c=[];c.constructor===Array&&0<=c.indexOf("*|any|*")&&(c=[])}catch(f){}var g=k("[data-mc-taglist]")[0];this.tagList=(new s({values:c,operatorOptions:[{label:"Any",value:"any"}]})).placeAt(g)}},findTriggerWithKey:function(a){var b;this.triggers.forEach(function(c){c.key===
a&&(b=c)});return b},addGoalUrl:function(){var b=k(".goal-url-container",this.domNode),d=k(".goal-events-container",this.domNode)[0];q.some(b,function(b){if(!r.isVisible(b))return k("input",b)[0].value="",a.add(b,"show"),a.remove(b,"hide"),c.place(b,k(".goal-url-inputs-container",d)[0],"last"),!0});this.toggleGoalControls()},toggleGoalControls:function(){var b=k('[data-action\x3d"add-goal-url"]')[0],c=k(".goal-events-container",this.domNode)[0],d=k(".goal-url-container.show",this.domNode).length;
1===d&&(a.remove(b,"hide"),a.remove(c,"multiple-on"));1<d&&3>=d&&(a.remove(b,"hide"),a.add(c,"multiple-on"));4===d&&(a.add(b,"hide"),a.add(c,"multiple-on"))},_validate:function(){if(!this._validateDelay())return a.add(e.byId("delay_offset"),"invalid"),a.remove(e.byId("delay_offset_error"),"hide"),!1;if(this.isMergeBased&&!this._validateMergeDelay())return a.add(e.byId("delay_offset"),"invalid"),a.remove(e.byId("delay_duplicate_error"),"hide"),!1;var b=e.byId("event_data0"),c=e.byId("event_data1"),
d=e.byId("event_data2"),f=e.byId("event_data3");if(!this._validateEventData(b)||!this._validateEventData(c)||!this._validateEventData(d)||!this._validateEventData(f))return a.remove(e.byId("settings_error"),"hide"),!1;if("goal"===this.currentTrigger.key&&r.isVisible(b)&&!b.value&&r.isVisible(c)&&!c.value&&r.isVisible(d)&&!d.value&&r.isVisible(f)&&!f.value)return settings_error=e.byId("settings_error"),a.remove(settings_error,"hide"),!1;a.remove(e.byId("delay_offset"),"invalid");a.add(e.byId("delay_offset_error"),
"hide");return!0},_validateDelay:function(){var a=e.byId("delay_offset").value,b=e.byId("delay_unit").value,c=e.byId("delay_direction").value;if("now"==b)return!0;if(!a.match(/^[0-9]+$/))return!1;a=parseInt(a,10);return isNaN(a)||0>=a||999<a||"+"!=c&&"-"!=c?!1:!0},_validateEventData:function(b){if(!b||!r.isVisible(b))return!0;input_type=m.get(b,"type");return"checkbox"==input_type?!0:!b.value?(a.add(b,"invalid"),!1):!0},_validateMergeDelay:function(){var a=!1;f.post(l.toUrl("/automations/validate-merge-delay"),
{data:this._getTriggerSettings(),sync:!0,handleAs:"json"}).then(function(b){a=b.valid});return a},_save:function(){var a={};f.post(l.toUrl("/automations/email-trigger-post"),{data:this._getTriggerSettings(),sync:!0,handleAs:"json"}).then(function(b){a=b});return a},_getTriggerSettings:function(){params={};params.emailId=this.emailId;params.event=this.currentTrigger.key;var a=e.byId("event_data0");params.event_data0=this._getEventDataValue(a);a=e.byId("event_data1");params.event_data1=this._getEventDataValue(a);
a=e.byId("event_data2");params.event_data2=this._getEventDataValue(a);a=e.byId("event_data3");params.event_data3=this._getEventDataValue(a);if(this.tagList&&("mdSent"===params.event||"mdOpen"===params.event||"mdClick"===params.event||"mdAny"===params.event))params.md_tags=JSON.stringify(this.tagList.getValues());a=e.byId("delay_direction");params.delay_direction=a.value;var b=e.byId("delay_unit");params.delay_unit=b.value;var c=e.byId("delay_offset");params.delay_offset=c.value;params.delay="now"==
b.value?"now":a.value+c.value+" "+b.value;return params},_getEventDataValue:function(a){if(!a)return null;input_type=m.get(a,"type");return"checkbox"==input_type&&a.checked||"checkbox"!=input_type?a.value:null},_clearEventDataValue:function(a){if(!a)return null;input_type=m.get(a,"type");"text"==input_type&&(a.value="")},onDelayUnitChange:function(b){b=this.currentTriggerDelayUnit.value;var c=e.byId("delay_direction");"now"==b?(a.add(this.delayOffsetBlock,"hide"),a.add(c,"hide")):(a.remove(this.delayOffsetBlock,
"hide"),this.isMergeBased&&a.remove(c,"hide"));this.getDelayUnit()||m.set(this.currentTriggerDelayUnit,"value","day")}})})},"mojo/widgets/input/TagList":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/on dojo/keys dojo/dom-construct dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/dom-attr dijit/focus dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/_FocusMixin dijit/form/Select dojo/text!./templates/tag.html dojo/text!./templates/tagList.html dojox/html/entities mojo/widgets/input/_TagBase".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s,v,w,u){q=h([u,p,q],{templateString:s,value:"",dataListId:null,postCreate:function(){this.dataListId&&a.set(this.textInput,"list",this.dataListId);this.own(g(this.removeBtn,"click",d.hitch(this,function(a){a.stopPropagation();a.preventDefault();this.destroy()})),g(this.textInput,"keyup",d.hitch(this,function(){this.setValue(this.textInput.value)})));this.on("dblclick",d.hitch(this,"_onDblClick"));this.setValue(this.value);this.viewMode();this.domNode.setAttribute("tabIndex",
"-1")},setValue:function(a){this.inherited(arguments);this.tagLabel.innerHTML=w.encode(a);this._adjustTextInput()},viewMode:function(){f.add(this.domNode,"view-mode");f.remove(this.domNode,"edit-mode");this.focused&&f.add(this.domNode,"active");this._updateValue();this.textInput.blur();this.inherited(arguments)},editMode:function(){f.remove(this.domNode,"view-mode");f.add(this.domNode,"edit-mode");this._adjustTextInput();m.focus(this.textInput);f.remove(this.domNode,"active");this.inherited(arguments)},
_updateValue:function(){this.tagLabel.innerHTML=w.encode(this.getValue());this._adjustTextInput()},_adjustTextInput:function(){var a=l.position(this.tagLabel).w+50;e.set(this.textInput,"width",a+"px")},_onFocus:function(){f.toggle(this.domNode,"active",this.inViewMode());this.inherited(arguments)},_onBlur:function(){f.remove(this.domNode,"active");this.viewMode();this.inherited(arguments)},_onDblClick:function(){this.inViewMode()&&(this.editMode(),this.textInput.select())}});return h([n,p,t],{templateString:v,
TagModel:q,values:[],operator:null,tags:null,focusedTag:null,operatorOptions:null,validValues:null,constructor:function(){this.tags=[]},_addDataList:function(){this.dataListDom||(this.dataListDom=c.create("datalist",{id:this._getDataListId()}),c.place(this.dataListDom,document.body),k.forEach(this.validValues,d.hitch(this,function(a){a=c.create("option",{value:a});c.place(a,this.dataListDom)})))},hasDataList:function(){return this.dataListDom?!0:!1},postCreate:function(){this.validValues&&this._addDataList();
k.forEach(this.values,d.hitch(this,function(a){d.isString(a)?this._addTag(a):this._addTag(a.value,a.label)}));this.operatorOptions?(f.add(this.domNode,"c-tagInput--dropdown"),this.opSelect=new r({"class":"!margin--lv0",value:this.operator,options:this.operatorOptions}),this.opSelect.startup(),this.opSelect.placeAt(this.operatorDom),this.own(g(this.opSelect,"change",d.hitch(this,function(){this.operator=this.opSelect.value}))),this.operator=this.opSelect.value):f.add(this.operatorDom,"hide");this.own(m.watch("curNode",
d.hitch(this,function(a,b,c){(c===this.domNode||c===this.tagInputDom)&&this._addTag().editMode()})),g(this.domNode,"keydown",d.hitch(this,function(a){switch(a.charCode||a.keyCode){case b.ENTER:this._onEnterKey(a);break;case b.TAB:this._onTabKey(a);break;case b.BACKSPACE:this._onBackspace(a);break;case b.DELETE:this._onDeleteKey(a);break;case b.LEFT_ARROW:this._onLeftArrow(a);break;case b.RIGHT_ARROW:this._onRightArrow(a)}})));this.domNode.setAttribute("tabIndex","0")},_onEnterKey:function(a){(!this.focusedTag||
!this.focusedTag.onEnter())&&this.moveToNewTag();a.preventDefault()},moveToNewTag:function(){this.focusedTag&&this.focusedTag.inEditMode()&&(this.focusedTag.viewMode(),null===this._getNextTag()&&this._addTag().editMode())},_onTabKey:function(a){if(this.focusedTag)if(a.shiftKey){var b=this._getPrevTag();b&&(a.stopPropagation(),a.preventDefault(),b.focus())}else if(this.focusedTag===this._lastTag())this.focusedTag.isBlank()||(a.stopPropagation(),a.preventDefault(),this._addTag().editMode());else if(b=
this._getNextTag())a.stopPropagation(),a.preventDefault(),b.focus()},_onBackspace:function(a){if(this.focusedTag)if(this.focusedTag.inViewMode())a.stopPropagation(),a.preventDefault(),this.focusedTag.clear(),this.focusedTag.editMode();else if(this.focusedTag.isBlank()&&(a.stopPropagation(),a.preventDefault(),a=this._getPrevTag()))this.focusedTag.destroy(),a.focus()},_onDeleteKey:function(a){if(this.focusedTag)if(this.focusedTag.inViewMode())a.stopPropagation(),a.preventDefault(),this.focusedTag.clear(),
this.focusedTag.editMode();else if(this.focusedTag.isBlank()&&(a.stopPropagation(),a.preventDefault(),a=this._getNextTag()))this.focusedTag.destroy(),a.focus()},_onLeftArrow:function(a){if(this.focusedTag&&(this.focusedTag.inViewMode()||this.focusedTag.inEditMode()&&this.focusedTag.isBlank())){var b=this._getPrevTag();b&&(a.stopPropagation(),a.preventDefault(),b.focus())}},_onRightArrow:function(a){if(this.focusedTag&&this.focusedTag.inViewMode()){var b=this._getNextTag();b?(a.stopPropagation(),a.preventDefault(),
b.focus()):this._addTag().editMode()}},getValues:function(){return k.map(this.tags,function(a){return a.getValue()})},_getDataListId:function(){return this.id+"-data-list"},_addTag:function(a,b){a||(a="");var e={value:a,label:b,tagList:this};this.hasDataList()&&(e.dataListId=this._getDataListId());var f=new this.TagModel(e);f.startup();this.tags.push(f);c.place(f.domNode,this.containerNode);f.on("destroy",d.hitch(this,function(){this._removeTag(f)}));f.watch("mode",d.hitch(this,function(){f.inViewMode()&&
f.isBlank()&&f.destroy()}));f.on("focus",d.hitch(this,function(){this.focusedTag=f}));f.on("blur",d.hitch(this,function(){this.focusedTag=null}));return f},_getTags:function(){return this.tags},_removeTag:function(a){a=this.tags.indexOf(a);0<=a&&this.tags.splice(a,1)},_getNextTag:function(){if(this.focusedTag){var a=this.tags.indexOf(this.focusedTag)+1;return a<this.tags.length&&this.tags[a]?this.tags[a]:null}return null},_getPrevTag:function(){if(this.focusedTag){var a=this.tags.indexOf(this.focusedTag),
a=a-1;return 0<=a&&this.tags[a]?this.tags[a]:null}return null},_lastTag:function(){return this.tags.length?this.tags[this.tags.length-1]:null}})})},"mojo/widgets/input/_TagBase":function(){define(["dojo/_base/declare","dijit/_WidgetBase","dijit/_TemplatedMixin"],function(h,k){return h([k],{value:"",label:null,mode:"view",setValue:function(d){this.value=d},setLabel:function(d){this.label=d},getLabel:function(){return this.label},getValue:function(){return this.value},clear:function(){this.setValue("");
this.setLabel("")},viewMode:function(){this.set("mode","view")},editMode:function(){this.set("mode","edit")},inEditMode:function(){return"edit"===this.mode},inViewMode:function(){return"view"===this.mode},isBlank:function(){return""===this.getValue()},destroy:function(){this.inherited(arguments);this.onDestroy()},focus:function(){this.domNode.focus()},onEnter:function(){return!1},onDestroy:function(){}})})},"mojo/widgets/automation/_OverlayContentMixin":function(){define("dojo/_base/declare dijit/_WidgetBase dojo/_base/lang dojo/dom-construct dojo/parser dojo/request dijit/registry mojo/url".split(" "),
function(h,k,d,g,b,c,f,l){return h([k],{path:null,emailId:null,postCreate:function(){this.inherited(arguments);this.getView().then(d.hitch(this,function(c){g.place(c,this.domNode);b.parse(this.domNode);this.onLoad()}))},onLoad:function(){},destroy:function(){widgets=f.findWidgets(this.domNode);widgets.forEach(function(b){b.destroyRecursive()});this.inherited(arguments)},getView:function(){return c.get(l.toUrl(this.path),{handleAs:"text",query:{emailId:this.emailId}})}})})},"velocity/velocity.ui":function(){(function(h){"function"===
typeof require&&"object"===typeof exports?module.exports=h():"function"===typeof define&&define.amd?define(["velocity/velocity"],h):h()})(function(){return function(h,k,d,g){function b(b,a){var c=[];if(!b||!a)return!1;f.each([b,a],function(a,b){var d=[];f.each(b,function(a,b){for(;5>b.toString().length;)b="0"+b;d.push(b)});c.push(d.join(""))});return parseFloat(c[0])>parseFloat(c[1])}if(h.Velocity&&h.Velocity.Utilities){var c=h.Velocity,f=c.Utilities;if(b({major:1,minor:1,patch:0},c.version))throw alert("Velocity UI Pack: You need to update Velocity (jquery.velocity.js) to a newer version. Visit http://github.com/julianshapiro/velocity."),
Error("Velocity UI Pack: You need to update Velocity (jquery.velocity.js) to a newer version. Visit http://github.com/julianshapiro/velocity.");c.RegisterEffect=c.RegisterUI=function(b,a){function d(a,b,e,g){var h=0,l;f.each(a.nodeType?[a]:a,function(a,b){g&&(e+=a*g);l=b.parentNode;f.each(["height","paddingTop","paddingBottom","marginTop","marginBottom"],function(a,d){h+=parseFloat(c.CSS.getPropertyValue(b,d))})});c.animate(l,{height:("In"===b?"+":"-")+"\x3d"+h},{queue:!1,easing:"ease-in-out",duration:e*
("In"===b?0.6:1)})}c.Redirects[b]=function(h,l,k,q,r,s){var v=k===q-1;a.defaultDuration="function"===typeof a.defaultDuration?a.defaultDuration.call(r,r):parseFloat(a.defaultDuration);for(q=0;q<a.calls.length;q++){var w=a.calls[q],u=w[0],y=l.duration||a.defaultDuration||1E3,x=w[2]||{},A={};A.duration=y*(w[1]||1);A.queue=l.queue||"";A.easing=x.easing||"ease";A.delay=parseFloat(x.delay)||0;A._cacheValues=x._cacheValues||!0;0===q&&(A.delay+=parseFloat(l.delay)||0,0===k&&(A.begin=function(){l.begin&&
l.begin.call(r,r);var a=b.match(/(In|Out)$/);a&&"In"===a[0]&&u.opacity!==g&&f.each(r.nodeType?[r]:r,function(a,b){c.CSS.setPropertyValue(b,"opacity",0)});l.animateParentHeight&&a&&d(r,a[0],y+A.delay,l.stagger)}),null!==l.display&&(l.display!==g&&"none"!==l.display?A.display=l.display:/In$/.test(b)&&(w=c.CSS.Values.getDisplayType(h),A.display="inline"===w?"inline-block":w)),l.visibility&&"hidden"!==l.visibility&&(A.visibility=l.visibility));if(q===a.calls.length-1){var C=function(){if((l.display===
g||"none"===l.display)&&/Out$/.test(b))f.each(r.nodeType?[r]:r,function(a,b){c.CSS.setPropertyValue(b,"display","none")});l.complete&&l.complete.call(r,r);s&&s.resolver(r||h)};A.complete=function(){if(a.reset){for(var b in a.reset){var d=a.reset[b];if(c.CSS.Hooks.registered[b]===g&&("string"===typeof d||"number"===typeof d))a.reset[b]=[a.reset[b],a.reset[b]]}b={duration:0,queue:!1};v&&(b.complete=C);c.animate(h,a.reset,b)}else v&&C()};"hidden"===l.visibility&&(A.visibility=l.visibility)}c.animate(h,
u,A)}};return c};c.RegisterEffect.packagedEffects={"callout.bounce":{defaultDuration:550,calls:[[{translateY:-30},0.25],[{translateY:0},0.125],[{translateY:-15},0.125],[{translateY:0},0.25]]},"callout.shake":{defaultDuration:800,calls:[[{translateX:-11},0.125],[{translateX:11},0.125],[{translateX:-11},0.125],[{translateX:11},0.125],[{translateX:-11},0.125],[{translateX:11},0.125],[{translateX:-11},0.125],[{translateX:0},0.125]]},"callout.flash":{defaultDuration:1100,calls:[[{opacity:[0,"easeInOutQuad",
1]},0.25],[{opacity:[1,"easeInOutQuad"]},0.25],[{opacity:[0,"easeInOutQuad"]},0.25],[{opacity:[1,"easeInOutQuad"]},0.25]]},"callout.pulse":{defaultDuration:825,calls:[[{scaleX:1.1,scaleY:1.1},0.5,{easing:"easeInExpo"}],[{scaleX:1,scaleY:1},0.5]]},"callout.swing":{defaultDuration:950,calls:[[{rotateZ:15},0.2],[{rotateZ:-10},0.2],[{rotateZ:5},0.2],[{rotateZ:-5},0.2],[{rotateZ:0},0.2]]},"callout.tada":{defaultDuration:1E3,calls:[[{scaleX:0.9,scaleY:0.9,rotateZ:-3},0.1],[{scaleX:1.1,scaleY:1.1,rotateZ:3},
0.1],[{scaleX:1.1,scaleY:1.1,rotateZ:-3},0.1],["reverse",0.125],["reverse",0.125],["reverse",0.125],["reverse",0.125],["reverse",0.125],[{scaleX:1,scaleY:1,rotateZ:0},0.2]]},"transition.fadeIn":{defaultDuration:500,calls:[[{opacity:[1,0]}]]},"transition.fadeOut":{defaultDuration:500,calls:[[{opacity:[0,1]}]]},"transition.flipXIn":{defaultDuration:700,calls:[[{opacity:[1,0],transformPerspective:[800,800],rotateY:[0,-55]}]],reset:{transformPerspective:0}},"transition.flipXOut":{defaultDuration:700,
calls:[[{opacity:[0,1],transformPerspective:[800,800],rotateY:55}]],reset:{transformPerspective:0,rotateY:0}},"transition.flipYIn":{defaultDuration:800,calls:[[{opacity:[1,0],transformPerspective:[800,800],rotateX:[0,-45]}]],reset:{transformPerspective:0}},"transition.flipYOut":{defaultDuration:800,calls:[[{opacity:[0,1],transformPerspective:[800,800],rotateX:25}]],reset:{transformPerspective:0,rotateX:0}},"transition.flipBounceXIn":{defaultDuration:900,calls:[[{opacity:[0.725,0],transformPerspective:[400,
400],rotateY:[-10,90]},0.5],[{opacity:0.8,rotateY:10},0.25],[{opacity:1,rotateY:0},0.25]],reset:{transformPerspective:0}},"transition.flipBounceXOut":{defaultDuration:800,calls:[[{opacity:[0.9,1],transformPerspective:[400,400],rotateY:-10},0.5],[{opacity:0,rotateY:90},0.5]],reset:{transformPerspective:0,rotateY:0}},"transition.flipBounceYIn":{defaultDuration:850,calls:[[{opacity:[0.725,0],transformPerspective:[400,400],rotateX:[-10,90]},0.5],[{opacity:0.8,rotateX:10},0.25],[{opacity:1,rotateX:0},
0.25]],reset:{transformPerspective:0}},"transition.flipBounceYOut":{defaultDuration:800,calls:[[{opacity:[0.9,1],transformPerspective:[400,400],rotateX:-15},0.5],[{opacity:0,rotateX:90},0.5]],reset:{transformPerspective:0,rotateX:0}},"transition.swoopIn":{defaultDuration:850,calls:[[{opacity:[1,0],transformOriginX:["100%","50%"],transformOriginY:["100%","100%"],scaleX:[1,0],scaleY:[1,0],translateX:[0,-700],translateZ:0}]],reset:{transformOriginX:"50%",transformOriginY:"50%"}},"transition.swoopOut":{defaultDuration:850,
calls:[[{opacity:[0,1],transformOriginX:["50%","100%"],transformOriginY:["100%","100%"],scaleX:0,scaleY:0,translateX:-700,translateZ:0}]],reset:{transformOriginX:"50%",transformOriginY:"50%",scaleX:1,scaleY:1,translateX:0}},"transition.whirlIn":{defaultDuration:850,calls:[[{opacity:[1,0],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:[1,0],scaleY:[1,0],rotateY:[0,160]},1,{easing:"easeInOutSine"}]]},"transition.whirlOut":{defaultDuration:750,calls:[[{opacity:[0,"easeInOutQuint",
1],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:0,scaleY:0,rotateY:160},1,{easing:"swing"}]],reset:{scaleX:1,scaleY:1,rotateY:0}},"transition.shrinkIn":{defaultDuration:750,calls:[[{opacity:[1,0],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:[1,1.5],scaleY:[1,1.5],translateZ:0}]]},"transition.shrinkOut":{defaultDuration:600,calls:[[{opacity:[0,1],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:1.3,scaleY:1.3,translateZ:0}]],reset:{scaleX:1,
scaleY:1}},"transition.expandIn":{defaultDuration:700,calls:[[{opacity:[1,0],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:[1,0.625],scaleY:[1,0.625],translateZ:0}]]},"transition.expandOut":{defaultDuration:700,calls:[[{opacity:[0,1],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:0.5,scaleY:0.5,translateZ:0}]],reset:{scaleX:1,scaleY:1}},"transition.bounceIn":{defaultDuration:800,calls:[[{opacity:[1,0],scaleX:[1.05,0.3],scaleY:[1.05,0.3]},0.4],[{scaleX:0.9,
scaleY:0.9,translateZ:0},0.2],[{scaleX:1,scaleY:1},0.5]]},"transition.bounceOut":{defaultDuration:800,calls:[[{scaleX:0.95,scaleY:0.95},0.35],[{scaleX:1.1,scaleY:1.1,translateZ:0},0.35],[{opacity:[0,1],scaleX:0.3,scaleY:0.3},0.3]],reset:{scaleX:1,scaleY:1}},"transition.bounceUpIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateY:[-30,1E3]},0.6,{easing:"easeOutCirc"}],[{translateY:10},0.2],[{translateY:0},0.2]]},"transition.bounceUpOut":{defaultDuration:1E3,calls:[[{translateY:20},0.2],[{opacity:[0,
"easeInCirc",1],translateY:-1E3},0.8]],reset:{translateY:0}},"transition.bounceDownIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateY:[30,-1E3]},0.6,{easing:"easeOutCirc"}],[{translateY:-10},0.2],[{translateY:0},0.2]]},"transition.bounceDownOut":{defaultDuration:1E3,calls:[[{translateY:-20},0.2],[{opacity:[0,"easeInCirc",1],translateY:1E3},0.8]],reset:{translateY:0}},"transition.bounceLeftIn":{defaultDuration:750,calls:[[{opacity:[1,0],translateX:[30,-1250]},0.6,{easing:"easeOutCirc"}],[{translateX:-10},
0.2],[{translateX:0},0.2]]},"transition.bounceLeftOut":{defaultDuration:750,calls:[[{translateX:30},0.2],[{opacity:[0,"easeInCirc",1],translateX:-1250},0.8]],reset:{translateX:0}},"transition.bounceRightIn":{defaultDuration:750,calls:[[{opacity:[1,0],translateX:[-30,1250]},0.6,{easing:"easeOutCirc"}],[{translateX:10},0.2],[{translateX:0},0.2]]},"transition.bounceRightOut":{defaultDuration:750,calls:[[{translateX:-30},0.2],[{opacity:[0,"easeInCirc",1],translateX:1250},0.8]],reset:{translateX:0}},"transition.slideUpIn":{defaultDuration:900,
calls:[[{opacity:[1,0],translateY:[0,20],translateZ:0}]]},"transition.slideUpOut":{defaultDuration:900,calls:[[{opacity:[0,1],translateY:-20,translateZ:0}]],reset:{translateY:0}},"transition.slideDownIn":{defaultDuration:900,calls:[[{opacity:[1,0],translateY:[0,-20],translateZ:0}]]},"transition.slideDownOut":{defaultDuration:900,calls:[[{opacity:[0,1],translateY:20,translateZ:0}]],reset:{translateY:0}},"transition.slideLeftIn":{defaultDuration:1E3,calls:[[{opacity:[1,0],translateX:[0,-20],translateZ:0}]]},
"transition.slideLeftOut":{defaultDuration:1050,calls:[[{opacity:[0,1],translateX:-20,translateZ:0}]],reset:{translateX:0}},"transition.slideRightIn":{defaultDuration:1E3,calls:[[{opacity:[1,0],translateX:[0,20],translateZ:0}]]},"transition.slideRightOut":{defaultDuration:1050,calls:[[{opacity:[0,1],translateX:20,translateZ:0}]],reset:{translateX:0}},"transition.slideUpBigIn":{defaultDuration:850,calls:[[{opacity:[1,0],translateY:[0,75],translateZ:0}]]},"transition.slideUpBigOut":{defaultDuration:800,
calls:[[{opacity:[0,1],translateY:-75,translateZ:0}]],reset:{translateY:0}},"transition.slideDownBigIn":{defaultDuration:850,calls:[[{opacity:[1,0],translateY:[0,-75],translateZ:0}]]},"transition.slideDownBigOut":{defaultDuration:800,calls:[[{opacity:[0,1],translateY:75,translateZ:0}]],reset:{translateY:0}},"transition.slideLeftBigIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateX:[0,-75],translateZ:0}]]},"transition.slideLeftBigOut":{defaultDuration:750,calls:[[{opacity:[0,1],translateX:-75,
translateZ:0}]],reset:{translateX:0}},"transition.slideRightBigIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateX:[0,75],translateZ:0}]]},"transition.slideRightBigOut":{defaultDuration:750,calls:[[{opacity:[0,1],translateX:75,translateZ:0}]],reset:{translateX:0}},"transition.perspectiveUpIn":{defaultDuration:800,calls:[[{opacity:[1,0],transformPerspective:[800,800],transformOriginX:[0,0],transformOriginY:["100%","100%"],rotateX:[0,-180]}]],reset:{transformPerspective:0,transformOriginX:"50%",
transformOriginY:"50%"}},"transition.perspectiveUpOut":{defaultDuration:850,calls:[[{opacity:[0,1],transformPerspective:[800,800],transformOriginX:[0,0],transformOriginY:["100%","100%"],rotateX:-180}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateX:0}},"transition.perspectiveDownIn":{defaultDuration:800,calls:[[{opacity:[1,0],transformPerspective:[800,800],transformOriginX:[0,0],transformOriginY:[0,0],rotateX:[0,180]}]],reset:{transformPerspective:0,transformOriginX:"50%",
transformOriginY:"50%"}},"transition.perspectiveDownOut":{defaultDuration:850,calls:[[{opacity:[0,1],transformPerspective:[800,800],transformOriginX:[0,0],transformOriginY:[0,0],rotateX:180}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateX:0}},"transition.perspectiveLeftIn":{defaultDuration:950,calls:[[{opacity:[1,0],transformPerspective:[2E3,2E3],transformOriginX:[0,0],transformOriginY:[0,0],rotateY:[0,-180]}]],reset:{transformPerspective:0,transformOriginX:"50%",
transformOriginY:"50%"}},"transition.perspectiveLeftOut":{defaultDuration:950,calls:[[{opacity:[0,1],transformPerspective:[2E3,2E3],transformOriginX:[0,0],transformOriginY:[0,0],rotateY:-180}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateY:0}},"transition.perspectiveRightIn":{defaultDuration:950,calls:[[{opacity:[1,0],transformPerspective:[2E3,2E3],transformOriginX:["100%","100%"],transformOriginY:[0,0],rotateY:[0,180]}]],reset:{transformPerspective:0,transformOriginX:"50%",
transformOriginY:"50%"}},"transition.perspectiveRightOut":{defaultDuration:950,calls:[[{opacity:[0,1],transformPerspective:[2E3,2E3],transformOriginX:["100%","100%"],transformOriginY:[0,0],rotateY:180}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateY:0}}};for(var l in c.RegisterEffect.packagedEffects)c.RegisterEffect(l,c.RegisterEffect.packagedEffects[l]);c.RunSequence=function(b){var a=f.extend(!0,[],b);1<a.length&&(f.each(a.reverse(),function(b,d){var e=a[b+
1];if(e){var g=d.o||d.options,h=e.o||e.options,g=g&&!1===g.sequenceQueue?"begin":"complete",l=h&&h[g],k={};k[g]=function(){var a=e.e||e.elements,a=a.nodeType?[a]:a;l&&l.call(a,a);c(d)};e.o?e.o=f.extend({},h,k):e.options=f.extend({},h,k)}}),a.reverse());c(a[0])}}}(window.jQuery||window.Zepto||window,window,document)})},"mojo/widgets/automation/ScheduleContent":function(){define("dojo/_base/declare dojo/query dojo/on dojo/html dojo/json dojo/dom-construct dojo/dom-class dojo/dom-attr dojo/dom-style dojo/parser dojo/request dojo/_base/array dojo/_base/lang dijit/registry mojo/url ./_OverlayContentMixin velocity/velocity velocity/velocity.ui".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s){return h(r,{path:"/automations/email-schedule",daysSentWidget:null,timewarpWidget:null,onLoad:function(){this.daysSentWidget=t.byId("days-sent");this.timewarpWidget=t.byId("use-timewarp");this.toggleSelectedDaysWarning();this.toggleSendTimeOptions();this.setSelectedDays();this.own(d(this.daysSentWidget,"change",p.hitch(this,"toggleSelectedDaysWarning")),d(this.domNode,"[data-workflow-container\x3ddelay-time] select:change",p.hitch(this,"_evaluateValidTimes")),
d(this.domNode,"select[name\x3dgate-selection]:change",p.hitch(this,"toggleSendTimeOptions")))},destroy:function(){c.destroy(this.domNode);this.daysSentWidget.destroyRecursive();this.timewarpWidget&&this.timewarpWidget.destroyRecursive()},_save:function(){var a="",c=p.mixin({emailId:this.emailId,days:b.stringify(this.getSelectedDays())},this._getSchedulingValues());m.post(q.toUrl("automations/email-schedule-post"),{data:c,sync:!0,handleAs:"text"}).then(function(b){a=b});return a},_validate:function(){return!0},
_getSchedulingValues:function(){var a={};k("input,select",this.domNode).forEach(function(b){"checkbox"==b.type&&!b.checked&&(b.value=null);a[b.name]||(a[b.name]=b.value)});return a},getSelectedDays:function(){var a={},b=t.byId("days-sent"),b=n.filter(b.options,function(a){return a.selected});n.forEach(b,function(b){a[b.dayOfWeek]=b.value});return a},toggleSelectedDaysWarning:function(){days=this.getSelectedDays();var a=k(".days-warning-message")[0];7>Object.keys(days).length?a.style.display="block":
a.style.display="none"},setSelectedDays:function(){var a=t.byId("days-sent"),b=this._getSavedSelectedDays(),c=[],d;for(d in b)c.push(b[d]);a.options.forEach(function(a){0<=c.indexOf(a.value)?a.selected=!0:a.selected=!1},this);a.onChange();this.toggleSelectedDaysWarning()},_getSavedSelectedDays:function(){var a;m.post(q.toUrl("automations/email-schedule-days"),{data:{emailId:this.emailId},sync:!0,handleAs:"json"}).then(function(b){a=b});return a},toggleSendTimeOptions:function(){var a=k("select[name\x3dgate-selection]",
this.domNode)[0],b=k(".runtime-start",this.domNode)[0],c=k(".runtime-end",this.domNode)[0],d=k(".range-text",this.domNode)[0],e=k(".timezone-label")[0],f=k(".anytime-label")[0];switch(a.value){case "range":b.style.display="block";c.style.display="block";d.style.display="block";e.style.display="block";f.style.display="none";break;case "time_of_event":b.style.display="none";c.style.display="none";d.style.display="none";e.style.display="none";f.style.display="block";break;case "specific_time":b.style.display=
"block",c.style.display="none",d.style.display="none",e.style.display="block",f.style.display="none"}},_evaluateValidTimes:function(){var a=k("[name\x3dstart-delay-hour]",this.domNode)[0],b=k("[name\x3dstart-delay-minute]",this.domNode)[0],c=k("[name\x3dstart-delay-period]",this.domNode)[0],d=k("[name\x3dend-delay-hour]",this.domNode)[0],e=k("[name\x3dend-delay-minute]",this.domNode)[0],f=k("[name\x3dend-delay-period]",this.domNode)[0],g=parseInt(a.value),h=parseInt(b.value),l=c.value,m=parseInt(d.value),
a=parseInt(e.value),b=f.value;n.forEach(f.options,function(a){a.disabled="pm"==l&&"pm"!=a.value?"disabled":null});12==g&&(g=0);"pm"==l&&(g+=12,b="pm",f.value=b);var p=null,q="pm"==b?12:0;n.forEach(d.options,function(a){var b=parseInt(a.value);if(g>b+q)a.disabled="disabled";else{if(null===p||p>b)p=b;a.disabled=null}});null!==p&&m<p&&(m=p,d.value=m);"pm"==b&&(m+=12);var r=null;n.forEach(e.options,function(a){var b=parseInt(a.value);if(g==m&&h>b)a.disabled="disabled";else{if(null===r||r>b)r=b;a.disabled=
null}});null!==r&&a<r&&(e.value=r)}})})},"mojo/widgets/automation/SegmentContent":function(){define("dojo/_base/declare dojo/query dojo/on dojo/html dijit/registry dojo/dom-construct dojo/request/xhr mojo/url mojo/Pusher dojo/dom dojo/_base/array dijit/registry mojo/app/campaigns/recipients mojo/utils dojo/dom-class dojo/dom-attr dojo/dom-style dojo/parser dojo/_base/lang ./_OverlayContentMixin velocity/velocity velocity/velocity.ui".split(" "),function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s,v,w,u,y){return h(u,
{path:"/automations/email-segment",selectTriggerPanelShow:!1,triggerSettingsPanel:"",triggerSelectPanel:"",campaignId:null,listId:null,pusherChannel:null,lastJobHash:null,onLoad:function(){var b=this,c=this._getData(this.emailId);this.campaignId=c.campaign_id;this.listId=c.list_id;var e=c.campaign_id,g=c.list_id;formContainer=a.byId("workflow-setup");channelName=this.getPusherChannelName(e);this.pusherChannel=this.initializePusherChannel(channelName);this.pusherChannel.bind("queue_count",function(a){var b=
a.count;!0===this.isMostRecentJob(a.job_hash)&&this.updateQueueCountText(b+" "+(1===b?"subscriber":"subscribers"))},this);this.lastJobHash=this.processInitialQueueCount(e);d(formContainer,"[name\x3dsegment-type]:click",function(){k("[data-mc-segment-options]").style("display","none");k("[data-mc-segment-options\x3d"+this.value+"]").style("display","block");var a;switch(this.value){case "new":a=n.byId("segmentpane-"+g);break;case "saved":a=n.byId("savedsegmentpane");break;default:throw Error("New segment option does not have a handler");
}a.refresh()});var h="segmentpane-"+this.listId;n.byId(h).on("load",function(){p.reloadSegmentCallbacks(h)});d(formContainer,"[name\x3duse-segment]:click",function(){k(".segment-options-container").style("display",this.checked?"":"none");b.updateQueueCountText("Calculating subscribers");b.lastJobHash=b.processCustomSegmentationQueueCount(e,formContainer)});d(formContainer,"[data-workflow-calculate-count]:click",function(a){a.preventDefault();a.stopPropagation();b.updateQueueCountText("Calculating subscribers");
b.lastJobHash=b.processCustomSegmentationQueueCount(e,formContainer)});d(formContainer,"[data-workflow-segment-members]:click",function(a){a.preventDefault();a.stopPropagation();a=w.mixin({id:e,"queue-action":"segmentation",__csrf_token:k("[name\x3d__csrf_token]")[0].value},b._getWorkflowValues(formContainer));f.post(l.toUrl("campaigns/wizard/automation/queue-members"),{data:a,sync:!0});a=l.toUrl("campaigns/segments/popup?id\x3d"+e+"\x26lid\x3d"+g);a=window.open(a,"_blank","toolbar\x3d0,scrollbars\x3d1,location\x3d0,status\x3d1,menubar\x3d0,resizable\x3d1,width\x3d600,height\x3d400");
t.checkPopupWin(a)})},destroy:function(){this.pusherChannel&&this.terminatePusherChannel(this.pusherChannel.name);this.inherited(arguments)},_getData:function(a){var b;f.post(l.toUrl("/automations/segment"),{data:{emailId:a},sync:!0,handleAs:"json"}).then(function(a){b=a});return b},_validate:function(){return!0},_save:function(){var b,c=a.byId("workflow-setup"),c=w.mixin({emailId:this.emailId},this._getWorkflowValues(c));f.post(l.toUrl("/automations/email-segment-post"),{data:c,sync:!0,handleAs:"text"}).then(function(a){b=
a});return b},getPusherChannelName:function(a){var b="";f.get(l.toUrl("automations/get-segmentation-channel-name"),{query:{campaign_id:a},sync:!0,handleAs:"json"}).then(function(a){b=a.channel_name});return b},initializePusherChannel:function(a){var b;e.load().then(function(c){b=c.subscribe(a)});return b},terminatePusherChannel:function(a){e.load().then(function(b){b.unsubscribe(a)})},processInitialQueueCount:function(a){var b="";f.post(l.toUrl("/automations/process-segmentation-queue-count"),{data:{campaign_id:a},
sync:!0,handleAs:"json"}).then(function(a){b=a.job_hash});return b},processCustomSegmentationQueueCount:function(a,b){var c=w.mixin({campaign_id:a},this._getWorkflowValues(b)),d="";f.post(l.toUrl("/automations/process-custom-segmentation-queue-count"),{data:c,sync:!0,handleAs:"json"}).then(function(a){d=a.job_hash});return d},isMostRecentJob:function(a){return null!==this.lastJobHash&&this.lastJobHash===a},updateQueueCountText:function(a){k("[data-workflow-segment-members]")[0].innerHTML=a},_updateSegmentCount:function(a,
b){var c=k("[data-workflow-segment-count]");if(c.length){this._clearDelayTimer();c.html("\x3cp\x3e\x26nbsp;\x3c/p\x3e");this.delayTimer=setTimeout(w.hitch(this,function(){c.html("\x3cp\x3eCalculating recipient count...\x3c/p\x3e");this.delayTimer=null}),100);var d=w.hitch(this,function(a){this._clearDelayTimer();a=a.count;c.html("\x3cp\x3e"+('\x3ca href\x3d"#" data-workflow-segment-members\x3e'+a+" subscriber"+(1!=a?"s":"")+"\x3c/a\x3e currently in queue. ")+' \x3ca href\x3d"#" data-workflow-calculate-count\x3eRefresh count\x3c/a\x3e\x3c/p\x3e')}),
e=w.hitch(this,function(){this._clearDelayTimer();c.html('Failed to get queue count. \x3ca href\x3d"#" data-workflow-calculate-count\x3eTry again.\x3c/a\x3e')});this._getSegmentCount(a,b).then(d,e)}},_clearDelayTimer:function(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)},_getSegmentCount:function(a,b){var c=w.mixin({id:a,"queue-action":"segmentation"},this._getWorkflowValues(b));return f.post(l.toUrl("campaigns/wizard/automation/queue-management-count"),{data:c,handleAs:"json"})},
_getWorkflowValues:function(a){var b={};k("input,select",a).forEach(function(a){var c=a.type||"",d=a.value,e=a.name;"select-multiple"==c&&m.forEach(a.options,function(a){b[e]||(b[e]=[]);a.selected&&b[e].push(a.value)});if("radio"==c||"checkbox"==c)a.checked||(d=null);"tags"==e&&d&&(b[e]||(b.tags=[]),b.tags.push(d));b[e]||(b[e]=d)});return b}})})},"mojo/Pusher":function(){define(["dojo/_base/declare","dojo/request/script","dojo/Deferred","mojo/context","mojo/url"],function(h,k,d,g,b){var c,f;return{load:function(){if(!c||
f&&f.connection&&"disconnected"==f.connection.state){c=new d;var h=function(){window.Pusher.channel_auth_endpoint=b.toUrl("/pusher/auth");f=new window.Pusher(g.pusherKey);c.resolve(f)},e=function(){c.reject({error:"timeout"})};window.Pusher?h():k.get("https://js.pusher.com/2.2/pusher.min.js").then(h,e)}return c.promise},disconnect:function(){f&&f.disconnect()},getSocketId:function(){var b;f&&f.connection&&(b=f.connection.socket_id);return b}}})},"dojo/request/script":function(){define("module ./watch ./util ../_base/kernel ../_base/array ../_base/lang ../on ../dom ../dom-construct ../has ../_base/window".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m){function n(a,b){a.canDelete&&s._remove(a.id,b.options.frameDoc,!0)}function p(a){A&&A.length&&(b.forEach(A,function(a){s._remove(a.id,a.frameDoc);a.frameDoc=null}),A=[]);return a.options.jsonp?!a.data:!0}function t(a){return!!this.scriptLoaded}function q(a){return(a=a.options.checkString)&&eval("typeof("+a+') !\x3d\x3d "undefined"')}function r(a,b){if(this.canDelete){var c=this.response.options;A.push({id:this.id,frameDoc:c.ioArgs?c.ioArgs.frameDoc:c.frameDoc});c.ioArgs&&
(c.ioArgs.frameDoc=null);c.frameDoc=null}b?this.reject(b):this.resolve(a)}function s(a,b,e){var g=d.parseArgs(a,d.deepCopy({},b));a=g.url;b=g.options;var h=d.deferred(g,n,p,b.jsonp?null:b.checkString?q:t,r);c.mixin(h,{id:v+w++,canDelete:!1});b.jsonp&&(RegExp("[?\x26]"+b.jsonp+"\x3d").test(a)||(a+=(~a.indexOf("?")?"\x26":"?")+b.jsonp+"\x3d"+(b.frameDoc?"parent.":"")+v+"_callbacks."+h.id),h.canDelete=!0,x[h.id]=function(a){g.data=a;h.handleResponse(g)});d.notify&&d.notify.emit("send",g,h.promise.cancel);
if(!b.canAttach||b.canAttach(h)){var l=s._attach(h.id,a,b.frameDoc);if(!b.jsonp&&!b.checkString)var m=f(l,u,function(a){if("load"===a.type||y.test(l.readyState))m.remove(),h.scriptLoaded=a})}k(h);return e?h:h.promise}a.add("script-readystatechange",function(a,b){return"undefined"!==typeof b.createElement("script").onreadystatechange&&("undefined"===typeof a.opera||"[object Opera]"!==a.opera.toString())});var v=h.id.replace(/[\/\.\-]/g,"_"),w=0,u=a("script-readystatechange")?"readystatechange":"load",
y=/complete|loaded/,x=g.global[v+"_callbacks"]={},A=[];s.get=s;s._attach=function(a,b,c){c=c||m.doc;var d=c.createElement("script");d.type="text/javascript";d.src=b;d.id=a;d.async=!0;d.charset="utf-8";return c.getElementsByTagName("head")[0].appendChild(d)};s._remove=function(a,b,c){e.destroy(l.byId(a,b));x[a]&&(c?x[a]=function(){delete x[a]}:delete x[a])};s._callbacksProperty=v+"_callbacks";return s})},"mojo/app/campaigns/recipients":function(){define("dojo/query dojo/dom dojo/_base/lang dojo/dom-style dojo/dom-class dojo/dom-construct dojo/dom-attr dojo/parser dojo/_base/array dojo/request/xhr dojo/dom-form dojo/promise/all dojo/Deferred mojo/utils mojo/url dojo/html dijit/registry codemirror4/lib/codemirror codemirror4/mode/htmlmixed/htmlmixed codemirror4/addon/display/placeholder".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s,v){var w={},u=q.toUrl("campaigns/segments/add-condition"),y=q.toUrl("campaigns/segments/op"),x=q.toUrl("campaigns/segments/value"),A=q.toUrl("campaigns/segments/extra"),C=q.toUrl("campaigns/segments/count"),D=q.toUrl("campaigns/segments/build-pasted"),E=q.toUrl("campaigns/segments/edit-pasted"),G={reloadSegmentCallbacks:function(a){h("#"+a+" .segment-field select").forEach(function(a){a.onchange=null;dojo.connect(a,"onchange",G.segmentFieldChanged)});h("#"+
a+" .segment-op select").forEach(function(a){a.onchange=null;dojo.connect(a,"onchange",G.segmentOpChanged)});h("#"+a+" .segment-value select, #"+a+" .segment-value input").forEach(function(a){a.onchange=null;dojo.connect(a,"onchange",G.segmentValueChanged);0==h(".segment-extra input, .segment-extra select",a.parentNode.parentNode).length&&d.hitch(a,G.segmentValueChanged)()});h(".goToNextStepContainer").removeClass("disabled")},segmentFieldChanged:function(){var b=this.id.split("-"),c=b[2],d=b[1],
b={field:this.value,id:c,lid:d},f=[];f.push(a.post(y,{data:b,handleAs:"text"}).then(function(a){h("#segmentcondition-"+d+"-"+c+" .segment-op")[0].innerHTML=a}));f.push(a.post(x,{data:b,handleAs:"text"}).then(function(a){var b=h("#segmentcondition-"+d+"-"+c+" .segment-value")[0];b.innerHTML=a;e.forEach(b.getElementsByTagName("*"),function(a){a.id&&(a=s.byId(a.id))&&a.destroyRecursive()});l.parse(b)}));var g=s.byId("segment-"+d+"-"+c+"-extra");g&&g.destroyRecursive();h("#segmentcondition-"+d+"-"+c+
" .segment-extra")[0].innerHTML="";("ipgeo"==this.value||"source"==this.value)&&f.push(a.post(A,{data:b,handleAs:"text"}).then(function(a){var b=h("#segmentcondition-"+d+"-"+c+" .segment-extra")[0];b.innerHTML=a;e.forEach(b.getElementsByTagName("*"),function(a){a.id&&(a=s.byId(a.id))&&a.destroyRecursive()});l.parse(b)}));n(f).then(function(){G.reloadSegmentCallbacks("segmentpane-"+d)})},segmentOpChanged:function(b){if(this.id){var c="geoin ipgeoin sent notmember within date_within".split(" ");b=e.some(this.options,
function(a){return 0<=e.indexOf(c,a.value)});b||((b=0<=e.indexOf(["blank","blank_not"],this.value))?f.set(this,"data-force-refresh",!0):(b=f.get(this,"data-force-refresh"),f.set(this,"data-force-refresh",!1)));if(b){b=this.id.split("-");var d=b[2],g=b[1];b={field:k.byId("segment-"+g+"-"+d+"-field").value,id:d,lid:g,op:this.value};var m=[];m.push(a.post(x,{data:b,handleAs:"text"}).then(function(a){var b=h("#segmentcondition-"+g+"-"+d+" .segment-value")[0];b.innerHTML=a;e.forEach(b.getElementsByTagName("*"),
function(a){a.id&&(a=s.byId(a.id))&&a.destroyRecursive()});l.parse(b)}));var p=s.byId("segment-"+g+"-"+d+"-extra");p&&p.destroyRecursive();h("#segmentcondition-"+g+"-"+d+" .segment-extra")[0].innerHTML="";("geoin"==this.value||"ipgeoin"==this.value||"ipgeonotin"==this.value||"ipgeoinzip"==this.value)&&m.push(a.post(A,{data:b,handleAs:"text"}).then(function(a){h("#segmentcondition-"+g+"-"+d+" .segment-extra")[0].innerHTML=a}));("ipgeoin"==this.value||"ipgeonotin"==this.value)&&m.push(a.post(A,{data:b,
handleAs:"text"}).then(function(a){var b=h("#segmentcondition-"+g+"-"+d+" .segment-extra")[0];b.innerHTML=a;e.forEach(b.getElementsByTagName("*"),function(a){a.id&&(a=s.byId(a.id))&&a.destroyRecursive()});l.parse(b)}));n(m).then(function(){G.reloadSegmentCallbacks("segmentpane-"+g)})}}},segmentValueChanged:function(b){if(this.id){b=this.id.split("-");var c=b[2],d=b[1];b=k.byId("segment-"+d+"-"+c+"-field").value;"timestamp_opt"!=b&&"info_changed"!=b&&"ecomm_date"!=b&&"source"!=b&&"goal_last_visited"!=
b&&"poll"!=b||a.post(A,{data:{field:b,id:c,value:this.value,lid:d},handleAs:"text"}).then(function(a){var b=h("#segmentcondition-"+d+"-"+c+" .segment-extra")[0],e=s.byId("segment-"+d+"-"+c+"-extra");e&&e.destroyRecursive();b.innerHTML=a;l.parse(b)})}},addSegmentCondition:function(c,d){a.post(u,{data:{lid:c},handleAs:"text",sync:!0}).then(function(a){var d=0,e=0;h("#segmentpane-"+c+" li.segment-condition").forEach(function(a){a=a.id.split("-")[2];a>d&&(d=a);++e});if(!(5<=e)){d++;a=a.replace(/\*\|CONDITION_ID\|\*/g,
d);var f=document.createElement("li");f.id="segmentcondition-"+c+"-"+d;b.add(f,"segment-condition selfclear");f.innerHTML=a;f=h("#segmentpane-"+c+" ul.segment-conditions")[0].appendChild(f);G.reloadSegmentCallbacks("segmentpane-"+c);l.parse(f);G.setupSegmentButton(c)}})},deleteSegmentCondition:function(a,b){var c=k.byId("segmentcondition-"+a+"-"+b);if(c){var d=s.byId("segment-"+a+"-"+b+"-extra");d&&d.destroyRecursive();c.parentNode.removeChild(c);G.setupSegmentButton(a)}},setupSegmentButton:function(a){var b=
h("#segmentpane-"+a+" li.segment-condition"),c=b.length,d=0;b.forEach(function(a){a=h(".delete",a)[0];var b=h(".add-button")[0];0==d&&1==c?(b.style.display="",a.style.display="none"):(b.style.display=0==d?"none":4==d?"none":d==c-1?"":"none",a.style.display="");d++});(a=s.byId("segmentation-ad-"+a))&&3<=d&&a.show()},refreshSegmentCount:function(b,c){var d=b+"-"+c,e=w[d];if(e&&!e.isFulfilled())return e;var e=new p,f=this.getSegmentData(b),g=1E3;(function Q(){a.post(C+"?id\x3d"+c+"\x26lid\x3d"+b,{data:f,
handleAs:"json"}).then(function(a){"waiting"==a.status?(g=Math.ceil(1.15*g),5E3<g&&(g=5E3),setTimeout(Q,g)):e.resolve(a)})})();w[d]=e.promise;return e},openPopup:function(a,b){var c=q.toUrl("/campaigns/segments/popup",{id:b,lid:a}),c=window.open(c,"_blank","toolbar\x3d0,scrollbars\x3d1,location\x3d0,status\x3d1,menubar\x3d0,resizable\x3d1,width\x3d600,height\x3d400");t.checkPopupWin(c)},getSegmentData:function(a){var b;b=k.byId("wizard-form")?k.byId("wizard-form"):k.byId("segment-form-"+a);b=m.toObject(b);
b["segment-type"]=b["send-to-segment-radio-"+a];return b},buildSegment:function(b,c){var d=k.byId("build-segment-"+b),e=k.byId("emails_"+b);if(4E4<e.value.split("\n").length)return G.showPastedError(b,"lines"),!1;if(""===e.value.trim())return G.showPastedError(b,"empty"),!1;d&&(f.set(d,"disabled","disabled"),d.innerHTML="Building...");e=k.byId("pasted-form-"+b);a.post(D+"?id\x3d"+c+"\x26lid\x3d"+b,{data:m.toObject(e),handleAs:"html",sync:!1}).then(function(a){f.remove(d,"disabled");d.innerHTML="Build Segment";
a||G.showPastedError(b,"include");a&&G.refreshPastedSegment(b);return!1});return!1},editSegment:function(b,c,d){var e=k.byId("edit-segment-"+b);e&&t.toggleButtonLoadingState(e,"editing...");a.post(E+"?id\x3d"+c,{handleAs:"html",sync:!1}).then(function(a){d&&G.refreshPastedSegment(b);return!1});return!1},showPastedError:function(a,b){var c=k.byId("pasted-error-emails-include-"+a);c.style.display="none";c=k.byId("pasted-error-emails-exclude-"+a);c.style.display="none";c=k.byId("pasted-error-lines-"+
a);c.style.display="none";c=k.byId("pasted-error-empty-"+a);c.style.display="none";"include"==b?(c=m.toObject(k.byId("pasted-form-"+a)),c=k.byId("pasted-error-emails-"+c.pasted_segment_options+"-"+a)):c="lines"==b?k.byId("pasted-error-lines-"+a):k.byId("pasted-error-empty-"+a);c.style.display="block";return!1},refreshPastedSegment:function(a){var b=s.byId("pastedsegmentpane-"+a);b.domNode.style.display="block";b.setHref(b.href).then(function(){k.byId("emails_"+a)&&G.bindCodeMirror(k.byId("emails_"+
a))});return!1},updateEcommSegment:function(a,b){var c=s.byId("ecomm-"+a+"-"+b);c.value&&(k.byId("segment-"+a+"-"+b+"-value").value=c.value,c.set("value","",!1))},bindCodeMirror:function(a){var b=v.fromTextArea(a,{mode:"text",autofocus:!0,tabMode:"indent",indentUnit:2,smartIndent:!1,theme:"default",autoClearEmptyLines:!0,lineWrapping:!1,lineNumbers:!0});b.on("change",function(){b.save()})}};return G})},"codemirror4/lib/codemirror":function(){(function(h){if("object"==typeof exports&&"object"==typeof module)module.exports=
h();else{if("function"==typeof define&&define.amd)return define([],h);this.CodeMirror=h()}})(function(){function h(b,c){if(!(this instanceof h))return new h(b,c);this.options=c=c||{};Qd($g,c,!1);t(c);var d=c.value;"string"==typeof d&&(d=new Wa(d,c.mode));this.doc=d;var e=this.display=new k(b,d);e.wrapper.CodeMirror=this;a(this);l(this);c.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap");c.autofocus&&!He&&bb(this);this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,focused:!1,
suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,draggingText:!1,highlight:new uf};ra&&11>ya&&setTimeout(Kb(Cb,this,!0),20);Ue(this);qg||(Ug(),qg=!0);var f=this;Aa(this,function(){f.curOp.forceUpdate=!0;Nd(f,d);c.autofocus&&!He||lb()==e.input?setTimeout(Kb(le,f),20):Bd(f);for(var a in hd)if(hd.hasOwnProperty(a))hd[a](f,c[a],lg);w(f);for(a=0;a<kd.length;++a)kd[a](f)})}function k(a,b){var c=this.input=fa("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none");
Oa?c.style.width="1000px":c.setAttribute("wrap","off");gd&&(c.style.border="1px solid black");c.setAttribute("autocorrect","off");c.setAttribute("autocapitalize","off");c.setAttribute("spellcheck","false");this.inputDiv=fa("div",[c],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");this.scrollbarH=fa("div",[fa("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");this.scrollbarV=fa("div",[fa("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar");this.scrollbarFiller=
fa("div",null,"CodeMirror-scrollbar-filler");this.gutterFiller=fa("div",null,"CodeMirror-gutter-filler");this.lineDiv=fa("div",null,"CodeMirror-code");this.selectionDiv=fa("div",null,null,"position: relative; z-index: 1");this.cursorDiv=fa("div",null,"CodeMirror-cursors");this.measure=fa("div",null,"CodeMirror-measure");this.lineMeasure=fa("div",null,"CodeMirror-measure");this.lineSpace=fa("div",[this.measure,this.lineMeasure,this.selectionDiv,this.cursorDiv,this.lineDiv],null,"position: relative; outline: none");
this.mover=fa("div",[fa("div",[this.lineSpace],"CodeMirror-lines")],null,"position: relative");this.sizer=fa("div",[this.mover],"CodeMirror-sizer");this.heightForcer=fa("div",null,null,"position: absolute; height: "+eb+"px; width: 1px;");this.gutters=fa("div",null,"CodeMirror-gutters");this.lineGutter=null;this.scroller=fa("div",[this.sizer,this.heightForcer,this.gutters],"CodeMirror-scroll");this.scroller.setAttribute("tabIndex","-1");this.wrapper=fa("div",[this.inputDiv,this.scrollbarH,this.scrollbarV,
this.scrollbarFiller,this.gutterFiller,this.scroller],"CodeMirror");ra&&8>ya&&(this.gutters.style.zIndex=-1,this.scroller.style.paddingRight=0);gd&&(c.style.width="0px");Oa||(this.scroller.draggable=!0);Ud&&(this.inputDiv.style.height="1px",this.inputDiv.style.position="absolute");ra&&8>ya&&(this.scrollbarH.style.minHeight=this.scrollbarV.style.minWidth="18px");a.appendChild?a.appendChild(this.wrapper):a(this.wrapper);this.viewFrom=this.viewTo=b.first;this.view=[];this.externalMeasured=null;this.lastSizeC=
this.viewOffset=0;this.lineNumWidth=this.lineNumInnerWidth=this.lineNumChars=this.updateLineNumbers=null;this.prevInput="";this.pollingFast=this.alignWidgets=!1;this.poll=new uf;this.cachedCharWidth=this.cachedTextHeight=this.cachedPaddingH=null;this.inaccurateSelection=!1;this.maxLine=null;this.maxLineLength=0;this.maxLineChanged=!1;this.wheelDX=this.wheelDY=this.wheelStartX=this.wheelStartY=null;this.shift=!1;this.selForContextMenu=null}function d(a){a.doc.mode=h.getMode(a.options,a.doc.modeOption);
g(a)}function g(a){a.doc.iter(function(a){a.stateAfter&&(a.stateAfter=null);a.styles&&(a.styles=null)});a.doc.frontier=a.doc.first;Lb(a,100);a.state.modeGen++;a.curOp&&hb(a)}function b(a){var b=Ta(a.display),c=a.options.lineWrapping,d=c&&Math.max(5,a.display.scroller.clientWidth/wb(a.display)-3);return function(e){if(lc(a.doc,e))return 0;var f=0;if(e.widgets)for(var g=0;g<e.widgets.length;g++)e.widgets[g].height&&(f+=e.widgets[g].height);return c?f+(Math.ceil(e.text.length/d)||1)*b:f+b}}function c(a){var c=
a.doc,d=b(a);c.iter(function(a){var b=d(a);b!=a.height&&Za(a,b)})}function f(a){var b=pb[a.options.keyMap].style;a.display.wrapper.className=a.display.wrapper.className.replace(/\s*cm-keymap-\S+/g,"")+(b?" cm-keymap-"+b:"")}function l(a){a.display.wrapper.className=a.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+a.options.theme.replace(/(^|\s)\s*/g," cm-s-");ub(a)}function e(b){a(b);hb(b);setTimeout(function(){v(b)},20)}function a(a){var b=a.display.gutters,c=a.options.gutters;Kc(b);for(var d=
0;d<c.length;++d){var e=c[d],f=b.appendChild(fa("div",null,"CodeMirror-gutter "+e));"CodeMirror-linenumbers"==e&&(a.display.lineGutter=f,f.style.width=(a.display.lineNumWidth||1)+"px")}b.style.display=d?"":"none";m(a)}function m(a){var b=a.display.gutters.offsetWidth;a.display.sizer.style.marginLeft=b+"px";a.display.scrollbarH.style.left=a.options.fixedGutter?b+"px":0}function n(a){if(0==a.height)return 0;for(var b=a.text.length,c,d=a;c=Fc(d,!0);)c=c.find(0,!0),d=c.from.line,b+=c.from.ch-c.to.ch;
for(d=a;c=Fc(d,!1);)c=c.find(0,!0),b-=d.text.length-c.from.ch,d=c.to.line,b+=d.text.length-c.to.ch;return b}function p(a){var b=a.display;a=a.doc;b.maxLine=ha(a,a.first);b.maxLineLength=n(b.maxLine);b.maxLineChanged=!0;a.iter(function(a){var c=n(a);c>b.maxLineLength&&(b.maxLineLength=c,b.maxLine=a)})}function t(a){var b=Ja(a.gutters,"CodeMirror-linenumbers");-1==b&&a.lineNumbers?a.gutters=a.gutters.concat(["CodeMirror-linenumbers"]):-1<b&&!a.lineNumbers&&(a.gutters=a.gutters.slice(0),a.gutters.splice(b,
1))}function q(a){var b=a.display.scroller;return{clientHeight:b.clientHeight,barHeight:a.display.scrollbarV.clientHeight,scrollWidth:b.scrollWidth,clientWidth:b.clientWidth,hScrollbarTakesSpace:a.display.scroller.clientHeight-a.display.wrapper.clientHeight<eb-3,barWidth:a.display.scrollbarH.clientWidth,docHeight:Math.round(a.doc.height+(a.display.mover.offsetHeight-a.display.lineSpace.offsetHeight))}}function r(a,b){b||(b=q(a));var c=a.display,d=Vg(c.measure),e=b.docHeight+eb,f=b.scrollWidth>b.clientWidth;
f&&(b.scrollWidth<=b.clientWidth+1&&0<d&&!b.hScrollbarTakesSpace)&&(f=!1);var g=e>b.clientHeight;g?(c.scrollbarV.style.display="block",c.scrollbarV.style.bottom=f?d+"px":"0",c.scrollbarV.firstChild.style.height=Math.max(0,e-b.clientHeight+(b.barHeight||c.scrollbarV.clientHeight))+"px"):(c.scrollbarV.style.display="",c.scrollbarV.firstChild.style.height="0");f?(c.scrollbarH.style.display="block",c.scrollbarH.style.right=g?d+"px":"0",c.scrollbarH.firstChild.style.width=b.scrollWidth-b.clientWidth+(b.barWidth||
c.scrollbarH.clientWidth)+"px"):(c.scrollbarH.style.display="",c.scrollbarH.firstChild.style.width="0");f&&g?(c.scrollbarFiller.style.display="block",c.scrollbarFiller.style.height=c.scrollbarFiller.style.width=d+"px"):c.scrollbarFiller.style.display="";f&&a.options.coverGutterNextToScrollbar&&a.options.fixedGutter?(c.gutterFiller.style.display="block",c.gutterFiller.style.height=d+"px",c.gutterFiller.style.width=c.gutters.offsetWidth+"px"):c.gutterFiller.style.display="";!a.state.checkedOverlayScrollbar&&
0<b.clientHeight&&(0===d&&(c.scrollbarV.style.minWidth=c.scrollbarH.style.minHeight=db&&!Yg?"12px":"18px",d=function(b){(b.target||b.srcElement)!=c.scrollbarV&&(b.target||b.srcElement)!=c.scrollbarH&&Da(a,Ve)(b)},na(c.scrollbarV,"mousedown",d),na(c.scrollbarH,"mousedown",d)),a.state.checkedOverlayScrollbar=!0)}function s(a,b,c){var d=c&&null!=c.top?Math.max(0,c.top):a.scroller.scrollTop,d=Math.floor(d-a.lineSpace.offsetTop),e=c&&null!=c.bottom?c.bottom:d+a.wrapper.clientHeight,d=mc(b,d),e=mc(b,e);
if(c&&c.ensure){var f=c.ensure.from.line;c=c.ensure.to.line;if(f<d)return{from:f,to:mc(b,jb(ha(b,f))+a.wrapper.clientHeight)};if(Math.min(c,b.lastLine())>=e)return{from:mc(b,jb(ha(b,c))-a.wrapper.clientHeight),to:c}}return{from:d,to:Math.max(e,d+1)}}function v(a){var b=a.display,c=b.view;if(b.alignWidgets||b.gutters.firstChild&&a.options.fixedGutter){for(var d=u(b)-b.scroller.scrollLeft+a.doc.scrollLeft,e=b.gutters.offsetWidth,f=d+"px",g=0;g<c.length;g++)if(!c[g].hidden){a.options.fixedGutter&&c[g].gutter&&
(c[g].gutter.style.left=f);var h=c[g].alignable;if(h)for(var l=0;l<h.length;l++)h[l].style.left=f}a.options.fixedGutter&&(b.gutters.style.left=d+e+"px")}}function w(a){if(!a.options.lineNumbers)return!1;var b=a.doc,b=String(a.options.lineNumberFormatter(b.first+b.size-1+a.options.firstLineNumber)),c=a.display;if(b.length!=c.lineNumChars){var d=c.measure.appendChild(fa("div",[fa("div",b)],"CodeMirror-linenumber CodeMirror-gutter-elt")),e=d.firstChild.offsetWidth,d=d.offsetWidth-e;c.lineGutter.style.width=
"";c.lineNumInnerWidth=Math.max(e,c.lineGutter.offsetWidth-d);c.lineNumWidth=c.lineNumInnerWidth+d;c.lineNumChars=c.lineNumInnerWidth?b.length:-1;c.lineGutter.style.width=c.lineNumWidth+"px";m(a);return!0}return!1}function u(a){return a.scroller.getBoundingClientRect().left-a.sizer.getBoundingClientRect().left}function y(a,b,c){var d=a.display;this.viewport=b;this.visible=s(d,a.doc,b);this.editorIsHidden=!d.wrapper.offsetWidth;this.wrapperHeight=d.wrapper.clientHeight;this.oldViewFrom=d.viewFrom;
this.oldViewTo=d.viewTo;this.oldScrollerWidth=d.scroller.clientWidth;this.force=c;this.dims=H(a)}function x(a,b){var c=a.display,d=a.doc;if(b.editorIsHidden)return fc(a),!1;if(!b.force&&b.visible.from>=c.viewFrom&&b.visible.to<=c.viewTo&&(null==c.updateLineNumbers||c.updateLineNumbers>=c.viewTo)&&0==Of(a))return!1;w(a)&&(fc(a),b.dims=H(a));var e=d.first+d.size,f=Math.max(b.visible.from-a.options.viewportMargin,d.first),g=Math.min(e,b.visible.to+a.options.viewportMargin);c.viewFrom<f&&20>f-c.viewFrom&&
(f=Math.max(d.first,c.viewFrom));c.viewTo>g&&20>c.viewTo-g&&(g=Math.min(e,c.viewTo));Tb&&(f=ue(a.doc,f),g=Jd(a.doc,g));d=f!=c.viewFrom||g!=c.viewTo||c.lastSizeC!=b.wrapperHeight;e=a.display;0==e.view.length||f>=e.viewTo||g<=e.viewFrom?(e.view=he(a,f,g),e.viewFrom=f):(e.viewFrom>f?e.view=he(a,f,e.viewFrom).concat(e.view):e.viewFrom<f&&(e.view=e.view.slice(wd(a,f))),e.viewFrom=f,e.viewTo<g?e.view=e.view.concat(he(a,e.viewTo,g)):e.viewTo>g&&(e.view=e.view.slice(0,wd(a,g))));e.viewTo=g;c.viewOffset=jb(ha(a.doc,
c.viewFrom));a.display.mover.style.top=c.viewOffset+"px";g=Of(a);if(!d&&0==g&&!b.force&&(null==c.updateLineNumbers||c.updateLineNumbers>=c.viewTo))return!1;f=lb();4<g&&(c.lineDiv.style.display="none");M(a,c.updateLineNumbers,b.dims);4<g&&(c.lineDiv.style.display="");f&&(lb()!=f&&f.offsetHeight)&&f.focus();Kc(c.cursorDiv);Kc(c.selectionDiv);d&&(c.lastSizeC=b.wrapperHeight,Lb(a,400));c.updateLineNumbers=null;return!0}function A(a,b){for(var c=b.viewport,d=!0;;d=!1){if(!d||!(a.options.lineWrapping&&
b.oldScrollerWidth!=a.display.scroller.clientWidth))if(c&&null!=c.top&&(c={top:Math.min(a.doc.height+(a.display.mover.offsetHeight-a.display.lineSpace.offsetHeight)-eb-a.display.scroller.clientHeight,c.top)}),b.visible=s(a.display,a.doc,c),b.visible.from>=a.display.viewFrom&&b.visible.to<=a.display.viewTo)break;if(!x(a,b))break;E(a);d=q(a);$b(a);D(a,d);r(a,d)}Ga(a,"update",a);(a.display.viewFrom!=b.oldViewFrom||a.display.viewTo!=b.oldViewTo)&&Ga(a,"viewportChange",a,a.display.viewFrom,a.display.viewTo)}
function C(a,b){var c=new y(a,b);x(a,c)&&(E(a),A(a,c),c=q(a),$b(a),D(a,c),r(a,c))}function D(a,b){a.display.sizer.style.minHeight=a.display.heightForcer.style.top=b.docHeight+"px";a.display.gutters.style.height=Math.max(b.docHeight,b.clientHeight-eb)+"px"}function E(a){a=a.display;for(var b=a.lineDiv.offsetTop,c=0;c<a.view.length;c++){var d=a.view[c],e;if(!d.hidden){if(ra&&8>ya){var f=d.node.offsetTop+d.node.offsetHeight;e=f-b;b=f}else e=d.node.getBoundingClientRect(),e=e.bottom-e.top;f=d.line.height-
e;2>e&&(e=Ta(a));if(0.001<f||-0.001>f)if(Za(d.line,e),G(d.line),d.rest)for(e=0;e<d.rest.length;e++)G(d.rest[e])}}}function G(a){if(a.widgets)for(var b=0;b<a.widgets.length;++b)a.widgets[b].height=a.widgets[b].node.offsetHeight}function H(a){for(var b=a.display,c={},d={},e=b.gutters.firstChild,f=0;e;e=e.nextSibling,++f)c[a.options.gutters[f]]=e.offsetLeft,d[a.options.gutters[f]]=e.offsetWidth;return{fixedPos:u(b),gutterTotalWidth:b.gutters.offsetWidth,gutterLeft:c,gutterWidth:d,wrapperWidth:b.wrapper.clientWidth}}
function M(a,b,c){function d(b){var c=b.nextSibling;Oa&&db&&a.display.currentWheelTarget==b?b.style.display="none":b.parentNode.removeChild(b);return c}for(var e=a.display,f=a.options.lineNumbers,g=e.lineDiv,h=g.firstChild,l=e.view,e=e.viewFrom,k=0;k<l.length;k++){var m=l[k];if(!m.hidden)if(m.node){for(;h!=m.node;)h=d(h);h=f&&null!=b&&b<=e&&m.lineNumber;m.changes&&(-1<Ja(m.changes,"gutter")&&(h=!1),J(a,m,e,c));h&&(Kc(m.lineNumber),m.lineNumber.appendChild(document.createTextNode(String(a.options.lineNumberFormatter(e+
a.options.firstLineNumber)))));h=m.node.nextSibling}else{var n=Q(a,m,e,c);g.insertBefore(n,h)}e+=m.size}for(;h;)h=d(h)}function J(a,b,c,d){for(var e=0;e<b.changes.length;e++){var f=b.changes[e];if("text"==f){var f=b,g=f.text.className,h=W(a,f);f.text==f.node&&(f.node=h.pre);f.text.parentNode.replaceChild(h.pre,f.text);f.text=h.pre;h.bgClass!=f.bgClass||h.textClass!=f.textClass?(f.bgClass=h.bgClass,f.textClass=h.textClass,X(f)):g&&(f.text.className=g)}else if("gutter"==f)K(a,b,c,d);else if("class"==
f)X(b);else if("widget"==f){f=b;g=d;f.alignable&&(f.alignable=null);for(var h=f.node.firstChild,l=void 0;h;h=l)l=h.nextSibling,"CodeMirror-linewidget"==h.className&&f.node.removeChild(h);V(f,g)}}b.changes=null}function S(a){a.node==a.text&&(a.node=fa("div",null,null,"position: relative"),a.text.parentNode&&a.text.parentNode.replaceChild(a.node,a.text),a.node.appendChild(a.text),ra&&8>ya&&(a.node.style.zIndex=2));return a.node}function W(a,b){var c=a.display.externalMeasured;return c&&c.line==b.line?
(a.display.externalMeasured=null,b.measure=c.measure,c.built):mf(a,b)}function X(a){var b=a.bgClass?a.bgClass+" "+(a.line.bgClass||""):a.line.bgClass;b&&(b+=" CodeMirror-linebackground");if(a.background)b?a.background.className=b:(a.background.parentNode.removeChild(a.background),a.background=null);else if(b){var c=S(a);a.background=c.insertBefore(fa("div",null,b),c.firstChild)}a.line.wrapClass?S(a).className=a.line.wrapClass:a.node!=a.text&&(a.node.className="");a.text.className=(a.textClass?a.textClass+
" "+(a.line.textClass||""):a.line.textClass)||""}function K(a,b,c,d){b.gutter&&(b.node.removeChild(b.gutter),b.gutter=null);var e=b.line.gutterMarkers;if(a.options.lineNumbers||e){var f=S(b),f=b.gutter=f.insertBefore(fa("div",null,"CodeMirror-gutter-wrapper","position: absolute; left: "+(a.options.fixedGutter?d.fixedPos:-d.gutterTotalWidth)+"px"),b.text);if(a.options.lineNumbers&&(!e||!e["CodeMirror-linenumbers"]))b.lineNumber=f.appendChild(fa("div",String(a.options.lineNumberFormatter(c+a.options.firstLineNumber)),
"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+d.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+a.display.lineNumInnerWidth+"px"));if(e)for(b=0;b<a.options.gutters.length;++b){c=a.options.gutters[b];var g=e.hasOwnProperty(c)&&e[c];g&&f.appendChild(fa("div",[g],"CodeMirror-gutter-elt","left: "+d.gutterLeft[c]+"px; width: "+d.gutterWidth[c]+"px"))}}}function Q(a,b,c,d){var e=W(a,b);b.text=b.node=e.pre;e.bgClass&&(b.bgClass=e.bgClass);e.textClass&&(b.textClass=e.textClass);X(b);K(a,b,c,d);
V(b,d);return b.node}function V(a,b){ea(a.line,a,b,!0);if(a.rest)for(var c=0;c<a.rest.length;c++)ea(a.rest[c],a,b,!1)}function ea(a,b,c,d){if(a.widgets){var e=S(b),f=0;for(a=a.widgets;f<a.length;++f){var g=a[f],h=fa("div",[g.node],"CodeMirror-linewidget");g.handleMouseEvents||(h.ignoreEvents=!0);var l=g,k=h,m=c;if(l.noHScroll){(b.alignable||(b.alignable=[])).push(k);var n=m.wrapperWidth;k.style.left=m.fixedPos+"px";l.coverGutter||(n-=m.gutterTotalWidth,k.style.paddingLeft=m.gutterTotalWidth+"px");
k.style.width=n+"px"}l.coverGutter&&(k.style.zIndex=5,k.style.position="relative",l.noHScroll||(k.style.marginLeft=-m.gutterTotalWidth+"px"));d&&g.above?e.insertBefore(h,b.gutter||b.text):e.appendChild(h);Ga(g,"redraw")}}}function L(a,b){return 0>pa(a,b)?b:a}function N(a,b){return 0>pa(a,b)?a:b}function I(a,b){this.ranges=a;this.primIndex=b}function O(a,b){this.anchor=a;this.head=b}function aa(a,b){var c=a[b];a.sort(function(a,b){return pa(a.from(),b.from())});b=Ja(a,c);for(c=1;c<a.length;c++){var d=
a[c],e=a[c-1];if(0<=pa(e.to(),d.from())){var f=N(e.from(),d.from()),g=L(e.to(),d.to()),d=e.empty()?d.from()==d.head:e.from()==e.head;c<=b&&--b;a.splice(--c,2,new O(d?g:f,d?f:g))}}return new I(a,b)}function U(a,b){return new I([new O(a,b||a)],0)}function T(a,b){if(b.line<a.first)return ba(a.first,0);var c=a.first+a.size-1;if(b.line>c)return ba(c,ha(a,c).text.length);var c=ha(a,b.line).text.length,d=b.ch,c=null==d||d>c?ba(b.line,c):0>d?ba(b.line,0):b;return c}function Y(a,b){return b>=a.first&&b<a.first+
a.size}function R(a,b,c,d){return a.cm&&a.cm.display.shift||a.extend?(a=b.anchor,d&&(b=0>pa(c,a),b!=0>pa(d,a)?(a=c,c=d):b!=0>pa(c,d)&&(c=d)),new O(a,c)):new O(d||c,c)}function $(a,b,c,d){va(a,new I([R(a,a.sel.primary(),b,c)],0),d)}function P(a,b,c){for(var d=[],e=0;e<a.sel.ranges.length;e++)d[e]=R(a,a.sel.ranges[e],b[e],null);b=aa(d,a.sel.primIndex);va(a,b,c)}function ma(a,b,c,d){var e=a.sel.ranges.slice(0);e[b]=c;va(a,aa(e,a.sel.primIndex),d)}function La(a,b){var c={ranges:b.ranges,update:function(b){this.ranges=
[];for(var c=0;c<b.length;c++)this.ranges[c]=new O(T(a,b[c].anchor),T(a,b[c].head))}};Ka(a,"beforeSelectionChange",a,c);a.cm&&Ka(a.cm,"beforeSelectionChange",a.cm,c);return c.ranges!=b.ranges?aa(c.ranges,c.ranges.length-1):b}function tc(a,b,c){var d=a.history.done,e=wa(d);e&&e.ranges?(d[d.length-1]=b,Ra(a,b,c)):va(a,b,c)}function va(a,b,c){Ra(a,b,c);b=a.sel;var d=a.cm?a.cm.curOp.id:NaN,e=a.history,f=c&&c.origin,g;if(!(g=d==e.lastSelOp))if(g=f)if(g=e.lastSelOrigin==f)if(!(g=e.lastModTime==e.lastSelTime&&
e.lastOrigin==f)){g=wa(e.done);var h=f.charAt(0);g="*"==h||"+"==h&&g.ranges.length==b.ranges.length&&g.somethingSelected()==b.somethingSelected()&&new Date-a.history.lastSelTime<=(a.cm?a.cm.options.historyEventDelay:500)}g?e.done[e.done.length-1]=b:Be(b,e.done);e.lastSelTime=+new Date;e.lastSelOrigin=f;e.lastSelOp=d;c&&!1!==c.clearRedo&&qf(e.undone)}function Ra(a,b,c){if(Ab(a,"beforeSelectionChange")||a.cm&&Ab(a.cm,"beforeSelectionChange"))b=La(a,b);var d=c&&c.bias||(0>pa(b.primary().head,a.sel.primary().head)?
-1:1);Sa(a,Ia(a,b,d,!0));!(c&&!1===c.scroll)&&a.cm&&Cc(a.cm)}function Sa(a,b){b.equals(a.sel)||(a.sel=b,a.cm&&(a.cm.curOp.updateInput=a.cm.curOp.selectionChanged=!0,ag(a.cm)),Ga(a,"cursorActivity",a))}function Xa(a){Sa(a,Ia(a,a.sel,null,!1),sc)}function Ia(a,b,c,d){for(var e,f=0;f<b.ranges.length;f++){var g=b.ranges[f],h=Yb(a,g.anchor,c,d),l=Yb(a,g.head,c,d);if(e||h!=g.anchor||l!=g.head)e||(e=b.ranges.slice(0,f)),e[f]=new O(h,l)}return e?aa(e,b.primIndex):b}function Yb(a,b,c,d){var e=!1,f=b,g=c||
1;a.cantEdit=!1;a:for(;;){var h=ha(a,f.line);if(h.markedSpans)for(var l=0;l<h.markedSpans.length;++l){var k=h.markedSpans[l],m=k.marker;if((null==k.from||(m.inclusiveLeft?k.from<=f.ch:k.from<f.ch))&&(null==k.to||(m.inclusiveRight?k.to>=f.ch:k.to>f.ch))){if(d&&(Ka(m,"beforeCursorEnter"),m.explicitlyCleared))if(h.markedSpans){--l;continue}else break;if(m.atomic){l=m.find(0>g?-1:1);if(0==pa(l,f)&&(l.ch+=g,0>l.ch?l=l.line>a.first?T(a,ba(l.line-1)):null:l.ch>h.text.length&&(l=l.line<a.first+a.size-1?ba(l.line+
1,0):null),!l)){if(e){if(!d)return Yb(a,b,c,!0);a.cantEdit=!0;return ba(a.first,0)}e=!0;l=b;g=-g}f=l;continue a}}}return f}}function Ya(a){for(var b=a.display,c=a.doc,d={},e=d.cursors=document.createDocumentFragment(),f=d.selection=document.createDocumentFragment(),g=0;g<c.sel.ranges.length;g++){var h=c.sel.ranges[g],l=h.empty();if(l||a.options.showCursorWhenSelecting){var k=a,m=e,n=gb(k,h.head,"div",null,null,!k.options.singleCursorHeightPerLine),p=m.appendChild(fa("div","\u00a0","CodeMirror-cursor"));
p.style.left=n.left+"px";p.style.top=n.top+"px";p.style.height=Math.max(0,n.bottom-n.top)*k.options.cursorHeight+"px";n.other&&(k=m.appendChild(fa("div","\u00a0","CodeMirror-cursor CodeMirror-secondarycursor")),k.style.display="",k.style.left=n.other.left+"px",k.style.top=n.other.top+"px",k.style.height=0.85*(n.other.bottom-n.other.top)+"px")}l||Qc(a,h,f)}a.options.moveInputWithCursor&&(a=gb(a,c.sel.primary().head,"div"),c=b.wrapper.getBoundingClientRect(),e=b.lineDiv.getBoundingClientRect(),d.teTop=
Math.max(0,Math.min(b.wrapper.clientHeight-10,a.top+e.top-c.top)),d.teLeft=Math.max(0,Math.min(b.wrapper.clientWidth-10,a.left+e.left-c.left)));return d}function qd(a,b){kb(a.display.cursorDiv,b.cursors);kb(a.display.selectionDiv,b.selection);null!=b.teTop&&(a.display.inputDiv.style.top=b.teTop+"px",a.display.inputDiv.style.left=b.teLeft+"px")}function $b(a){qd(a,Ya(a))}function Qc(a,b,c){function d(a,b,c,e){0>b&&(b=0);b=Math.round(b);e=Math.round(e);h.appendChild(fa("div",null,"CodeMirror-selected",
"position: absolute; left: "+a+"px; top: "+b+"px; width: "+(null==c?m-a:c)+"px; height: "+(e-b)+"px"))}function e(b,c,f){var h=ha(g,b),l=h.text.length,n,p;Xg(Ib(h),c||0,null==f?l:f,function(e,g,q){var r=vb(a,ba(b,e),"div",h,"left"),s,F;e==g?(s=r,q=F=r.left):(s=vb(a,ba(b,g-1),"div",h,"right"),"rtl"==q&&(q=r,r=s,s=q),q=r.left,F=s.right);null==c&&0==e&&(q=k);3<s.top-r.top&&(d(q,r.top,null,r.bottom),q=k,r.bottom<s.top&&d(q,r.bottom,null,s.top));null==f&&g==l&&(F=m);if(!n||r.top<n.top||r.top==n.top&&r.left<
n.left)n=r;if(!p||s.bottom>p.bottom||s.bottom==p.bottom&&s.right>p.right)p=s;q<k+1&&(q=k);d(q,s.top,F-q,s.bottom)});return{start:n,end:p}}var f=a.display,g=a.doc,h=document.createDocumentFragment(),l=Rc(a.display),k=l.left,m=f.lineSpace.offsetWidth-l.right,f=b.from();b=b.to();if(f.line==b.line)e(f.line,f.ch,b.ch);else{var n=ha(g,f.line),l=ha(g,b.line),l=zb(n)==zb(l),f=e(f.line,f.ch,l?n.text.length+1:null).end;b=e(b.line,l?0:null,b.ch).start;l&&(f.top<b.top-2?(d(f.right,f.top,null,f.bottom),d(k,b.top,
b.left,b.bottom)):d(f.right,f.top,b.left-f.right,f.bottom));f.bottom<b.top&&d(k,f.bottom,null,b.top)}c.appendChild(h)}function Bb(a){if(a.state.focused){var b=a.display;clearInterval(b.blinker);var c=!0;b.cursorDiv.style.visibility="";0<a.options.cursorBlinkRate?b.blinker=setInterval(function(){b.cursorDiv.style.visibility=(c=!c)?"":"hidden"},a.options.cursorBlinkRate):0>a.options.cursorBlinkRate&&(b.cursorDiv.style.visibility="hidden")}}function Lb(a,b){a.doc.mode.startState&&a.doc.frontier<a.display.viewTo&&
a.state.highlight.set(b,Kb(Ma,a))}function Ma(a){var b=a.doc;b.frontier<b.first&&(b.frontier=b.first);if(!(b.frontier>=a.display.viewTo)){var c=+new Date+a.options.workTime,d=Pa(b.mode,Na(a,b.frontier)),e=[];b.iter(b.frontier,Math.min(b.first+b.size,a.display.viewTo+500),function(f){if(b.frontier>=a.display.viewFrom){var g=f.styles,h=lf(a,f,d,!0);f.styles=h.styles;var l=f.styleClasses;(h=h.classes)?f.styleClasses=h:l&&(f.styleClasses=null);l=!g||g.length!=f.styles.length||l!=h&&(!l||!h||l.bgClass!=
h.bgClass||l.textClass!=h.textClass);for(h=0;!l&&h<g.length;++h)l=g[h]!=f.styles[h];l&&e.push(b.frontier);f.stateAfter=Pa(b.mode,d)}else we(a,f.text,d),f.stateAfter=0==b.frontier%5?Pa(b.mode,d):null;++b.frontier;if(+new Date>c)return Lb(a,a.options.workDelay),!0});e.length&&Aa(a,function(){for(var b=0;b<e.length;b++)Ob(a,e[b],"text")})}}function Mb(a,b,c){for(var d,e,f=a.doc,g=c?-1:b-(a.doc.mode.innerMode?1E3:100);b>g;--b){if(b<=f.first)return f.first;var h=ha(f,b-1);if(h.stateAfter&&(!c||b<=f.frontier))return b;
h=rb(h.text,null,a.options.tabSize);if(null==e||d>h)e=b-1,d=h}return e}function Na(a,b,c){var d=a.doc,e=a.display;if(!d.mode.startState)return!0;var f=Mb(a,b,c),g=f>d.first&&ha(d,f-1).stateAfter,g=g?Pa(d.mode,g):Ef(d.mode);d.iter(f,b,function(c){we(a,c.text,g);c.stateAfter=f==b-1||0==f%5||f>=e.viewFrom&&f<e.viewTo?Pa(d.mode,g):null;++f});c&&(d.frontier=f);return g}function Rc(a){if(a.cachedPaddingH)return a.cachedPaddingH;var b=kb(a.measure,fa("pre","x")),b=window.getComputedStyle?window.getComputedStyle(b):
b.currentStyle,b={left:parseInt(b.paddingLeft),right:parseInt(b.paddingRight)};!isNaN(b.left)&&!isNaN(b.right)&&(a.cachedPaddingH=b);return b}function Zb(a,b){if(b>=a.display.viewFrom&&b<a.display.viewTo)return a.display.view[wd(a,b)];var c=a.display.externalMeasured;if(c&&b>=c.lineN&&b<c.lineN+c.size)return c}function fb(a,b){var c=xa(b),d=Zb(a,c);d&&!d.text?d=null:d&&d.changes&&J(a,d,c,H(a));if(!d){var e;e=zb(b);d=xa(e);e=a.display.externalMeasured=new Pf(a.doc,e,d);e.lineN=d;d=e.built=mf(a,e);
e.text=d.pre;kb(a.display.lineMeasure,d.pre);d=e}a:if(e=d,e.line==b)c={map:e.measure.map,cache:e.measure.cache};else{for(var f=0;f<e.rest.length;f++)if(e.rest[f]==b){c={map:e.measure.maps[f],cache:e.measure.caches[f]};break a}for(f=0;f<e.rest.length;f++)if(xa(e.rest[f])>c){c={map:e.measure.maps[f],cache:e.measure.caches[f],before:!0};break a}c=void 0}return{line:b,view:d,rect:null,map:c.map,cache:c.cache,before:c.before,hasHeights:!1}}function cc(a,b,c,d,e){b.before&&(c=-1);var f=c+(d||"");if(b.cache.hasOwnProperty(f))a=
b.cache[f];else{b.rect||(b.rect=b.view.text.getBoundingClientRect());if(!b.hasHeights){var g=b.view,h=b.rect,l=a.options.lineWrapping,k=l&&a.display.scroller.clientWidth;if(!g.measure.heights||l&&g.measure.width!=k){var m=g.measure.heights=[];if(l){g.measure.width=k;g=g.text.firstChild.getClientRects();for(l=0;l<g.length-1;l++){var k=g[l],n=g[l+1];2<Math.abs(k.bottom-n.bottom)&&m.push((k.bottom+n.top)/2-h.top)}}m.push(h.bottom-h.top)}b.hasHeights=!0}var h=d,m=b.map,p,q,r,s;for(d=0;d<m.length;d+=3){var v=
m[d],t=m[d+1];if(c<v)q=0,r=1,s="left";else if(c<t)q=c-v,r=q+1;else if(d==m.length-3||c==t&&m[d+3]>c)r=t-v,q=r-1,c>=t&&(s="right");if(null!=q){p=m[d+2];if(v==t&&h==(p.insertLeft?"left":"right"))s=h;if("left"==h&&0==q)for(;d&&m[d-2]==m[d-3]&&m[d-1].insertLeft;)p=m[(d-=3)+2],s="left";if("right"==h&&q==t-v)for(;d<m.length-3&&m[d+3]==m[d+4]&&!m[d+5].insertLeft;)p=m[(d+=3)+2],s="right";break}}var x;if(3==p.nodeType)for(;;){for(;q&&Sd(b.line.text.charAt(v+q));)--q;for(;v+r<t&&Sd(b.line.text.charAt(v+r));)++r;
if(ra&&9>ya&&0==q&&r==t-v)x=p.parentNode.getBoundingClientRect();else if(ra&&a.options.lineWrapping){var y=pd(p,q,r).getClientRects();x=y.length?y["right"==h?y.length-1:0]:Xd}else x=pd(p,q,r).getBoundingClientRect()||Xd;if(x.left||x.right||0==q)break;r=q;q-=1;s="right"}else 0<q&&(s=h="right"),x=a.options.lineWrapping&&1<(y=p.getClientRects()).length?y["right"==h?y.length-1:0]:p.getBoundingClientRect();if(ra&&9>ya&&!q&&(!x||!x.left&&!x.right))x=(x=p.parentNode.getClientRects()[0])?{left:x.left,right:x.left+
wb(a.display),top:x.top,bottom:x.bottom}:Xd;if(ra&&11>ya){if(!(c=!window.screen))if(!(c=null==screen.logicalXDPI))if(!(c=screen.logicalXDPI==screen.deviceXDPI))null!=Gf?c=Gf:(p=kb(a.display.measure,fa("span","x")),c=p.getBoundingClientRect(),p=pd(p,0,1).getBoundingClientRect(),c=Gf=1<Math.abs(c.left-p.left)),c=!c;c||(c=screen.logicalXDPI/screen.deviceXDPI,p=screen.logicalYDPI/screen.deviceYDPI,x={left:x.left*c,right:x.right*c,top:x.top*p,bottom:x.bottom*p})}c=x.top-b.rect.top;p=x.bottom-b.rect.top;
q=(c+p)/2;r=b.view.measure.heights;for(d=0;d<r.length-1&&!(q<r[d]);d++);s={left:("right"==s?x.right:x.left)-b.rect.left,right:("left"==s?x.left:x.right)-b.rect.left,top:d?r[d-1]:0,bottom:r[d]};!x.left&&!x.right&&(s.bogus=!0);a.options.singleCursorHeightPerLine||(s.rtop=c,s.rbottom=p);a=s;a.bogus||(b.cache[f]=a)}return{left:a.left,right:a.right,top:e?a.rtop:a.top,bottom:e?a.rbottom:a.bottom}}function bc(a){if(a.measure&&(a.measure.cache={},a.measure.heights=null,a.rest))for(var b=0;b<a.rest.length;b++)a.measure.caches[b]=
{}}function sa(a){a.display.externalMeasure=null;Kc(a.display.lineMeasure);for(var b=0;b<a.display.view.length;b++)bc(a.display.view[b])}function ub(a){sa(a);a.display.cachedCharWidth=a.display.cachedTextHeight=a.display.cachedPaddingH=null;a.options.lineWrapping||(a.display.maxLineChanged=!0);a.display.lineNumChars=null}function dc(a,b,c,d){if(b.widgets)for(var e=0;e<b.widgets.length;++e)if(b.widgets[e].above){var f=Hb(b.widgets[e]);c.top+=f;c.bottom+=f}if("line"==d)return c;d||(d="local");b=jb(b);
b="local"==d?b+a.display.lineSpace.offsetTop:b-a.display.viewOffset;if("page"==d||"window"==d)a=a.display.lineSpace.getBoundingClientRect(),b+=a.top+("window"==d?0:window.pageYOffset||(document.documentElement||document.body).scrollTop),d=a.left+("window"==d?0:window.pageXOffset||(document.documentElement||document.body).scrollLeft),c.left+=d,c.right+=d;c.top+=b;c.bottom+=b;return c}function ec(a,b,c){if("div"==c)return b;var d=b.left;b=b.top;if("page"==c)d-=window.pageXOffset||(document.documentElement||
document.body).scrollLeft,b-=window.pageYOffset||(document.documentElement||document.body).scrollTop;else if("local"==c||!c)c=a.display.sizer.getBoundingClientRect(),d+=c.left,b+=c.top;a=a.display.lineSpace.getBoundingClientRect();return{left:d-a.left,top:b-a.top}}function vb(a,b,c,d,e){d||(d=ha(a.doc,b.line));return dc(a,d,cc(a,fb(a,d),b.ch,e),c)}function gb(a,b,c,d,e,f){function g(b,h){var l=cc(a,e,b,h?"right":"left",f);h?l.left=l.right:l.right=l.left;return dc(a,d,l,c)}function h(a,b){var c=l[b],
d=c.level%2;a==(c.level%2?c.to:c.from)&&b&&c.level<l[b-1].level?(c=l[--b],a=Td(c)-(c.level%2?0:1),d=!0):a==Td(c)&&(b<l.length-1&&c.level<l[b+1].level)&&(c=l[++b],a=(c.level%2?c.to:c.from)-c.level%2,d=!1);return d&&a==c.to&&a>c.from?g(a-1):g(a,d)}d=d||ha(a.doc,b.line);e||(e=fb(a,d));var l=Ib(d);b=b.ch;if(!l)return g(b);var k=xf(l,b),k=h(b,k);null!=vc&&(k.other=h(b,vc));return k}function sd(a,b){var c=0;b=T(a.doc,b);a.options.lineWrapping||(c=wb(a.display)*b.ch);var d=ha(a.doc,b.line),e=jb(d)+a.display.lineSpace.offsetTop;
return{left:c,right:c,top:e,bottom:e+d.height}}function da(a,b,c,d){a=ba(a,b);a.xRel=d;c&&(a.outside=!0);return a}function td(a,b,c){var d=a.doc;c+=a.display.viewOffset;if(0>c)return da(d.first,0,!0,-1);var e=mc(d,c),f=d.first+d.size-1;if(e>f)return da(d.first+d.size-1,ha(d,f).text.length,!0,1);0>b&&(b=0);for(d=ha(d,e);;)if(e=Kg(a,d,e,b,c),f=(d=Fc(d,!1))&&d.find(0,!0),d&&(e.ch>f.from.ch||e.ch==f.from.ch&&0<e.xRel))e=xa(d=f.to.line);else return e}function Kg(a,b,c,d,e){function f(d){d=gb(a,ba(c,d),
"line",b,k);h=!0;if(g>d.bottom)return d.left-l;if(g<d.top)return d.left+l;h=!1;return d.left}var g=e-jb(b),h=!1,l=2*a.display.wrapper.clientWidth,k=fb(a,b),m=Ib(b),n=b.text.length;e=fd(b);var p=Ee(b),q=f(e),r=h,s=f(p),v=h;if(d>s)return da(c,p,v,1);for(;;){if(m?p==e||p==yf(b,e,1):1>=p-e){m=d<q||d-q<=s-d?e:p;for(d-=m==e?q:s;Sd(b.text.charAt(m));)++m;return da(c,m,m==e?r:v,-1>d?-1:1<d?1:0)}var x=Math.ceil(n/2),t=e+x;if(m)for(var t=e,y=0;y<x;++y)t=yf(b,t,1);y=f(t);if(y>d){p=t;s=y;if(v=h)s+=1E3;n=x}else e=
t,q=y,r=h,n-=x}}function Ta(a){if(null!=a.cachedTextHeight)return a.cachedTextHeight;if(null==ab){ab=fa("pre");for(var b=0;49>b;++b)ab.appendChild(document.createTextNode("x")),ab.appendChild(fa("br"));ab.appendChild(document.createTextNode("x"))}kb(a.measure,ab);b=ab.offsetHeight/50;3<b&&(a.cachedTextHeight=b);Kc(a.measure);return b||1}function wb(a){if(null!=a.cachedCharWidth)return a.cachedCharWidth;var b=fa("span","xxxxxxxxxx"),c=fa("pre",[b]);kb(a.measure,c);b=b.getBoundingClientRect();b=(b.right-
b.left)/10;2<b&&(a.cachedCharWidth=b);return b||10}function Nb(a){a.curOp={cm:a,viewChanged:!1,startHeight:a.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,id:++Ie};oc?oc.ops.push(a.curOp):a.curOp.ownsGroup=oc={ops:[a.curOp],delayedCallbacks:[]}}function Sc(a){if(a=a.curOp.ownsGroup)try{var b=a.delayedCallbacks,c=0;do{for(;c<b.length;c++)b[c]();
for(var d=0;d<a.ops.length;d++){var e=a.ops[d];if(e.cursorActivityHandlers)for(;e.cursorActivityCalled<e.cursorActivityHandlers.length;)e.cursorActivityHandlers[e.cursorActivityCalled++](e.cm)}}while(c<b.length)}finally{oc=null;for(b=0;b<a.ops.length;b++)a.ops[b].cm.curOp=null;a=a.ops;for(b=0;b<a.length;b++)e=a[b],c=e.cm,d=c.display,e.updateMaxLine&&p(c),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<d.viewFrom||e.scrollToPos.to.line>=d.viewTo)||
d.maxLineChanged&&c.options.lineWrapping,e.update=e.mustUpdate&&new y(c,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate);for(b=0;b<a.length;b++)e=a[b],e.updatedDisplay=e.mustUpdate&&x(e.cm,e.update);for(b=0;b<a.length;b++)if(e=a[b],c=e.cm,d=c.display,e.updatedDisplay&&E(c),e.barMeasure=q(c),d.maxLineChanged&&!c.options.lineWrapping&&(e.adjustWidthTo=cc(c,fb(c,d.maxLine),d.maxLine.text.length,void 0).left+3,e.maxScrollLeft=Math.max(0,d.sizer.offsetLeft+e.adjustWidthTo+eb-d.scroller.clientWidth)),
e.updatedDisplay||e.selectionChanged)e.newSelectionNodes=Ya(c);for(b=0;b<a.length;b++)e=a[b],c=e.cm,null!=e.adjustWidthTo&&(c.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<c.doc.scrollLeft&&Pb(c,Math.min(c.display.scroller.scrollLeft,e.maxScrollLeft),!0),c.display.maxLineChanged=!1),e.newSelectionNodes&&qd(c,e.newSelectionNodes),e.updatedDisplay&&D(c,e.barMeasure),(e.updatedDisplay||e.startHeight!=c.doc.height)&&r(c,e.barMeasure),e.selectionChanged&&Bb(c),c.state.focused&&e.updateInput&&
Cb(c,e.typing);for(b=0;b<a.length;b++){var e=a[b],c=e.cm,d=c.display,f=c.doc;null!=e.adjustWidthTo&&1<Math.abs(e.barMeasure.scrollWidth-c.display.scroller.scrollWidth)&&r(c);e.updatedDisplay&&A(c,e.update);if(null!=d.wheelStartX&&(null!=e.scrollTop||null!=e.scrollLeft||e.scrollToPos))d.wheelStartX=d.wheelStartY=null;if(null!=e.scrollTop&&d.scroller.scrollTop!=e.scrollTop){var g=Math.max(0,Math.min(d.scroller.scrollHeight-d.scroller.clientHeight,e.scrollTop));d.scroller.scrollTop=d.scrollbarV.scrollTop=
f.scrollTop=g}null!=e.scrollLeft&&d.scroller.scrollLeft!=e.scrollLeft&&(g=Math.max(0,Math.min(d.scroller.scrollWidth-d.scroller.clientWidth,e.scrollLeft)),d.scroller.scrollLeft=d.scrollbarH.scrollLeft=f.scrollLeft=g,v(c));if(e.scrollToPos){g=void 0;a:{var g=T(f,e.scrollToPos.from),h=T(f,e.scrollToPos.to),l=e.scrollToPos.margin;for(null==l&&(l=0);;){var k=!1,m=gb(c,g),n=!h||h==g?m:gb(c,h),n=Ed(c,Math.min(m.left,n.left),Math.min(m.top,n.top)-l,Math.max(m.left,n.left),Math.max(m.bottom,n.bottom)+l),
s=c.doc.scrollTop,t=c.doc.scrollLeft;null!=n.scrollTop&&(ic(c,n.scrollTop),1<Math.abs(c.doc.scrollTop-s)&&(k=!0));null!=n.scrollLeft&&(Pb(c,n.scrollLeft),1<Math.abs(c.doc.scrollLeft-t)&&(k=!0));if(!k){g=m;break a}}g=void 0}if(e.scrollToPos.isCursor&&c.state.focused){h=g;l=c.display;k=l.sizer.getBoundingClientRect();g=null;if(0>h.top+k.top)g=!0;else if(h.bottom+k.top>(window.innerHeight||document.documentElement.clientHeight))g=!1;null!=g&&!Zg&&(h=fa("div","\u200b",null,"position: absolute; top: "+
(h.top-l.viewOffset-c.display.lineSpace.offsetTop)+"px; height: "+(h.bottom-h.top+eb)+"px; left: "+h.left+"px; width: 2px;"),c.display.lineSpace.appendChild(h),h.scrollIntoView(g),c.display.lineSpace.removeChild(h))}}g=e.maybeHiddenMarkers;h=e.maybeUnhiddenMarkers;if(g)for(l=0;l<g.length;++l)g[l].lines.length||Ka(g[l],"hide");if(h)for(l=0;l<h.length;++l)h[l].lines.length&&Ka(h[l],"unhide");d.wrapper.offsetHeight&&(f.scrollTop=c.display.scroller.scrollTop);e.updatedDisplay&&Oa&&(c.options.lineWrapping&&
(d=e.barMeasure,c.display.sizer.offsetWidth+c.display.gutters.offsetWidth<c.display.scroller.clientWidth-1&&(c.display.sizer.style.minHeight=c.display.heightForcer.style.top="0px",c.display.gutters.style.height=d.docHeight+"px")),e.barMeasure.scrollWidth>e.barMeasure.clientWidth&&(e.barMeasure.scrollWidth<e.barMeasure.clientWidth+1&&!(c.display.scroller.clientHeight-c.display.wrapper.clientHeight<eb-3))&&r(c));e.changeObjs&&Ka(c,"changes",c,e.changeObjs)}}}function Aa(a,b){if(a.curOp)return b();Nb(a);
try{return b()}finally{Sc(a)}}function Da(a,b){return function(){if(a.curOp)return b.apply(a,arguments);Nb(a);try{return b.apply(a,arguments)}finally{Sc(a)}}}function Ea(a){return function(){if(this.curOp)return a.apply(this,arguments);Nb(this);try{return a.apply(this,arguments)}finally{Sc(this)}}}function Va(a){return function(){var b=this.cm;if(!b||b.curOp)return a.apply(this,arguments);Nb(b);try{return a.apply(this,arguments)}finally{Sc(b)}}}function Pf(a,b,c){for(var d=this.line=b,e;d=Fc(d,!1);)d=
d.find(1,!0).line,(e||(e=[])).push(d);this.size=(this.rest=e)?xa(wa(this.rest))-c+1:1;this.node=this.text=null;this.hidden=lc(a,b)}function he(a,b,c){var d=[],e;for(e=b;e<c;)b=new Pf(a.doc,ha(a.doc,e),e),e+=b.size,d.push(b);return d}function hb(a,b,c,d){null==b&&(b=a.doc.first);null==c&&(c=a.doc.first+a.doc.size);d||(d=0);var e=a.display;if(d&&c<e.viewTo&&(null==e.updateLineNumbers||e.updateLineNumbers>b))e.updateLineNumbers=b;a.curOp.viewChanged=!0;if(b>=e.viewTo)Tb&&ue(a.doc,b)<e.viewTo&&fc(a);
else if(c<=e.viewFrom)Tb&&Jd(a.doc,c+d)>e.viewFrom?fc(a):(e.viewFrom+=d,e.viewTo+=d);else if(b<=e.viewFrom&&c>=e.viewTo)fc(a);else if(b<=e.viewFrom){var f=ud(a,c,c+d,1);f?(e.view=e.view.slice(f.index),e.viewFrom=f.lineN,e.viewTo+=d):fc(a)}else if(c>=e.viewTo)(f=ud(a,b,b,-1))?(e.view=e.view.slice(0,f.index),e.viewTo=f.lineN):fc(a);else{var f=ud(a,b,b,-1),g=ud(a,c,c+d,1);f&&g?(e.view=e.view.slice(0,f.index).concat(he(a,f.lineN,g.lineN)).concat(e.view.slice(g.index)),e.viewTo+=d):fc(a)}if(a=e.externalMeasured)c<
a.lineN?a.lineN+=d:b<a.lineN+a.size&&(e.externalMeasured=null)}function Ob(a,b,c){a.curOp.viewChanged=!0;var d=a.display,e=a.display.externalMeasured;e&&(b>=e.lineN&&b<e.lineN+e.size)&&(d.externalMeasured=null);b<d.viewFrom||b>=d.viewTo||(a=d.view[wd(a,b)],null!=a.node&&(a=a.changes||(a.changes=[]),-1==Ja(a,c)&&a.push(c)))}function fc(a){a.display.viewFrom=a.display.viewTo=a.doc.first;a.display.view=[];a.display.viewOffset=0}function wd(a,b){if(b>=a.display.viewTo)return null;b-=a.display.viewFrom;
if(0>b)return null;for(var c=a.display.view,d=0;d<c.length;d++)if(b-=c[d].size,0>b)return d}function ud(a,b,c,d){var e=wd(a,b),f=a.display.view;if(!Tb||c==a.doc.first+a.doc.size)return{index:e,lineN:c};for(var g=0,h=a.display.viewFrom;g<e;g++)h+=f[g].size;if(h!=b){if(0<d){if(e==f.length-1)return null;b=h+f[e].size-b;e++}else b=h-b;c+=b}for(;ue(a.doc,c)!=c;){if(e==(0>d?0:f.length-1))return null;c+=d*f[e-(0>d?1:0)].size;e+=d}return{index:e,lineN:c}}function Of(a){a=a.display.view;for(var b=0,c=0;c<
a.length;c++){var d=a[c];!d.hidden&&(!d.node||d.changes)&&++b}return b}function vd(a){a.display.pollingFast||a.display.poll.set(a.options.pollInterval,function(){Se(a);a.state.focused&&vd(a)})}function xd(a){function b(){!Se(a)&&!c?(c=!0,a.display.poll.set(60,b)):(a.display.pollingFast=!1,vd(a))}var c=!1;a.display.pollingFast=!0;a.display.poll.set(20,b)}function Se(a){var b=a.display.input,c=a.display.prevInput,d=a.doc;if(!a.state.focused||Pe(b)&&!c||ge(a)||a.options.disableInput)return!1;a.state.pasteIncoming&&
a.state.fakedLastChar&&(b.value=b.value.substring(0,b.value.length-1),a.state.fakedLastChar=!1);var e=b.value;if(e==c&&!a.somethingSelected())return!1;if(ra&&9<=ya&&a.display.inputHasSelection===e||db&&/[\uf700-\uf7ff]/.test(e))return Cb(a),!1;var f=!a.curOp;f&&Nb(a);a.display.shift=!1;8203==e.charCodeAt(0)&&(d.sel==a.display.selForContextMenu&&!c)&&(c="\u200b");for(var g=0,h=Math.min(c.length,e.length);g<h&&c.charCodeAt(g)==e.charCodeAt(g);)++g;var h=e.slice(g),l=uc(h),k=null;a.state.pasteIncoming&&
1<d.sel.ranges.length&&(Nc&&Nc.join("\n")==h?k=0==d.sel.ranges.length%Nc.length&&ed(Nc,uc):l.length==d.sel.ranges.length&&(k=ed(l,function(a){return[a]})));for(var m=d.sel.ranges.length-1;0<=m;m--){var n=d.sel.ranges[m],p=n.from(),q=n.to();g<c.length?p=ba(p.line,p.ch-(c.length-g)):a.state.overwrite&&(n.empty()&&!a.state.pasteIncoming)&&(q=ba(q.line,Math.min(ha(d,q.line).text.length,q.ch+wa(l).length)));var r=a.curOp.updateInput,q={from:p,to:q,text:k?k[m%k.length]:l,origin:a.state.pasteIncoming?"paste":
a.state.cutIncoming?"cut":"+input"};Wc(a.doc,q);Ga(a,"inputRead",a,q);if(h&&!a.state.pasteIncoming&&a.options.electricChars&&a.options.smartIndent&&100>n.head.ch&&(!m||d.sel.ranges[m-1].head.line!=n.head.line))if(p=a.getModeAt(n.head),p.electricChars)for(q=0;q<p.electricChars.length;q++){if(-1<h.indexOf(p.electricChars.charAt(q))){Gd(a,n.head.line,"smart");break}}else p.electricInput&&(q=Ub(q),p.electricInput.test(ha(d,q.line).text.slice(0,q.ch))&&Gd(a,n.head.line,"smart"))}Cc(a);a.curOp.updateInput=
r;a.curOp.typing=!0;1E3<e.length||-1<e.indexOf("\n")?b.value=a.display.prevInput="":a.display.prevInput=e;f&&Sc(a);a.state.pasteIncoming=a.state.cutIncoming=!1;return!0}function Cb(a,b){var c,d,e=a.doc;a.somethingSelected()?(a.display.prevInput="",c=e.sel.primary(),d=(c=Qe&&(100<c.to().line-c.from().line||1E3<(d=a.getSelection()).length))?"-":d||a.getSelection(),a.display.input.value=d,a.state.focused&&Fa(a.display.input),ra&&9<=ya&&(a.display.inputHasSelection=d)):b||(a.display.prevInput=a.display.input.value=
"",ra&&9<=ya&&(a.display.inputHasSelection=null));a.display.inaccurateSelection=c}function bb(a){"nocursor"!=a.options.readOnly&&(!He||lb()!=a.display.input)&&a.display.input.focus()}function Te(a){a.state.focused||(bb(a),le(a))}function ge(a){return a.options.readOnly||a.doc.cantEdit}function Ue(a){function b(){a.state.focused&&setTimeout(Kb(bb,a),0)}function c(b){Jb(a,b)||de(b)}function d(b){if(a.somethingSelected())Nc=a.getSelections(),e.inaccurateSelection&&(e.prevInput="",e.inaccurateSelection=
!1,e.input.value=Nc.join("\n"),Fa(e.input));else{for(var c=[],f=[],g=0;g<a.doc.sel.ranges.length;g++){var h=a.doc.sel.ranges[g].head.line,h={anchor:ba(h,0),head:ba(h+1,0)};f.push(h);c.push(a.getRange(h.anchor,h.head))}"cut"==b.type?a.setSelections(f,null,sc):(e.prevInput="",e.input.value=c.join("\n"),Fa(e.input));Nc=c}"cut"==b.type&&(a.state.cutIncoming=!0)}var e=a.display;na(e.scroller,"mousedown",Da(a,Ve));ra&&11>ya?na(e.scroller,"dblclick",Da(a,function(b){if(!Jb(a,b)){var c=gc(a,b);c&&(!hc(a,
b,"gutterClick",!0,Ga)&&!Db(a.display,b))&&(Qa(b),b=qe(a,c),$(a.doc,b.anchor,b.head))}})):na(e.scroller,"dblclick",function(b){Jb(a,b)||Qa(b)});na(e.lineSpace,"selectstart",function(a){Db(e,a)||Qa(a)});Bf||na(e.scroller,"contextmenu",function(b){Ad(a,b)});na(e.scroller,"scroll",function(){e.scroller.clientHeight&&(ic(a,e.scroller.scrollTop),Pb(a,e.scroller.scrollLeft,!0),Ka(a,"scroll",a))});na(e.scrollbarV,"scroll",function(){e.scroller.clientHeight&&ic(a,e.scrollbarV.scrollTop)});na(e.scrollbarH,
"scroll",function(){e.scroller.clientHeight&&Pb(a,e.scrollbarH.scrollLeft)});na(e.scroller,"mousewheel",function(b){zd(a,b)});na(e.scroller,"DOMMouseScroll",function(b){zd(a,b)});na(e.scrollbarH,"mousedown",b);na(e.scrollbarV,"mousedown",b);na(e.wrapper,"scroll",function(){e.wrapper.scrollTop=e.wrapper.scrollLeft=0});na(e.input,"keyup",function(b){Ze.call(a,b)});na(e.input,"input",function(){ra&&(9<=ya&&a.display.inputHasSelection)&&(a.display.inputHasSelection=null);xd(a)});na(e.input,"keydown",
Da(a,Ye));na(e.input,"keypress",Da(a,Bc));na(e.input,"focus",Kb(le,a));na(e.input,"blur",Kb(Bd,a));a.options.dragDrop&&(na(e.scroller,"dragstart",function(b){var c=a;if(ra&&(!c.state.draggingText||100>+new Date-$d))de(b);else if(!Jb(c,b)&&!Db(c.display,b)&&(b.dataTransfer.setData("Text",c.getSelection()),b.dataTransfer.setDragImage&&!Ge)){var d=fa("img",null,null,"position: fixed; left: 0; top: 0;");d.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw\x3d\x3d";mb&&(d.width=
d.height=1,c.display.wrapper.appendChild(d),d._top=d.offsetTop);b.dataTransfer.setDragImage(d,0,0);mb&&d.parentNode.removeChild(d)}}),na(e.scroller,"dragenter",c),na(e.scroller,"dragover",c),na(e.scroller,"drop",Da(a,We)));na(e.scroller,"paste",function(b){Db(e,b)||(a.state.pasteIncoming=!0,bb(a),xd(a))});na(e.input,"paste",function(){if(Oa&&!a.state.fakedLastChar&&!(200>new Date-a.state.lastMiddleDown)){var b=e.input.selectionStart,c=e.input.selectionEnd;e.input.value+="$";e.input.selectionEnd=c;
e.input.selectionStart=b;a.state.fakedLastChar=!0}a.state.pasteIncoming=!0;xd(a)});na(e.input,"cut",d);na(e.input,"copy",d);Ud&&na(e.sizer,"mouseup",function(){lb()==e.input&&e.input.blur();bb(a)})}function Qf(a){var b=a.display;b.cachedCharWidth=b.cachedTextHeight=b.cachedPaddingH=null;a.setSize()}function Db(a,b){for(var c=b.target||b.srcElement;c!=a.wrapper;c=c.parentNode)if(!c||c.ignoreEvents||c.parentNode==a.sizer&&c!=a.mover)return!0}function gc(a,b,c,d){var e=a.display;if(!c&&(c=b.target||
b.srcElement,c==e.scrollbarH||c==e.scrollbarV||c==e.scrollbarFiller||c==e.gutterFiller))return null;var f,g,e=e.lineSpace.getBoundingClientRect();try{f=b.clientX-e.left,g=b.clientY-e.top}catch(h){return null}b=td(a,f,g);var l;if(d&&1==b.xRel&&(l=ha(a.doc,b.line).text).length==b.ch)d=rb(l,l.length,a.options.tabSize)-l.length,b=ba(b.line,Math.max(0,Math.round((f-Rc(a.display).left)/wb(a.display))-d));return b}function Ve(a){if(!Jb(this,a)){var b=this.display;b.shift=a.shiftKey;if(Db(b,a))Oa||(b.scroller.draggable=
!1,setTimeout(function(){b.scroller.draggable=!0},100));else if(!hc(this,a,"gutterClick",!0,Ga)){var c=gc(this,a);window.focus();switch(tf(a)){case 1:c?Lg(this,a,c):(a.target||a.srcElement)==b.scroller&&Qa(a);break;case 2:Oa&&(this.state.lastMiddleDown=+new Date);c&&$(this.doc,c);setTimeout(Kb(bb,this),20);Qa(a);break;case 3:Bf&&Ad(this,a)}}}}function Lg(a,b,c){setTimeout(Kb(Te,a),0);var d=+new Date,e;Zd&&Zd.time>d-400&&0==pa(Zd.pos,c)?e="triple":Yd&&Yd.time>d-400&&0==pa(Yd.pos,c)?(e="double",Zd=
{time:d,pos:c}):(e="single",Yd={time:d,pos:c});var d=a.doc.sel,f=db?b.metaKey:b.ctrlKey;a.options.dragDrop&&rg&&!ge(a)&&"single"==e&&-1<d.contains(c)&&d.somethingSelected()?xc(a,b,c,f):ie(a,b,c,e,f)}function xc(a,b,c,d){var e=a.display,f=Da(a,function(g){Oa&&(e.scroller.draggable=!1);a.state.draggingText=!1;Xb(document,"mouseup",f);Xb(e.scroller,"drop",f);10>Math.abs(b.clientX-g.clientX)+Math.abs(b.clientY-g.clientY)&&(Qa(g),d||$(a.doc,c),bb(a),ra&&9==ya&&setTimeout(function(){document.body.focus();
bb(a)},20))});Oa&&(e.scroller.draggable=!0);a.state.draggingText=f;e.scroller.dragDrop&&e.scroller.dragDrop();na(document,"mouseup",f);na(e.scroller,"drop",f)}function ie(a,b,c,d,e){function f(b){if(0!=pa(q,b))if(q=b,"rect"==d){for(var e=[],g=a.options.tabSize,h=rb(ha(k,c.line).text,c.ch,g),l=rb(ha(k,b.line).text,b.ch,g),r=Math.min(h,l),h=Math.max(h,l),l=Math.min(c.line,b.line),s=Math.min(a.lastLine(),Math.max(c.line,b.line));l<=s;l++){var v=ha(k,l).text,x=bg(v,r,g);r==h?e.push(new O(ba(l,x),ba(l,
x))):v.length>x&&e.push(new O(ba(l,x),ba(l,bg(v,h,g))))}e.length||e.push(new O(c,c));va(k,aa(p.ranges.slice(0,n).concat(e),n),{origin:"*mouse",scroll:!1});a.scrollIntoView(b)}else e=m,g=e.anchor,r=b,"single"!=d&&(b="double"==d?qe(a,b):new O(ba(b.line,0),T(k,ba(b.line+1,0))),0<pa(b.anchor,g)?(r=b.head,g=N(e.from(),b.anchor)):(r=b.anchor,g=L(e.to(),b.head))),e=p.ranges.slice(0),e[n]=new O(T(k,g),r),va(k,aa(e,n),Ff)}function g(b){var c=++v,e=gc(a,b,!0,"rect"==d);if(e)if(0!=pa(e,q)){Te(a);f(e);var h=
s(l,k);(e.line>=h.to||e.line<h.from)&&setTimeout(Da(a,function(){v==c&&g(b)}),150)}else{var m=b.clientY<r.top?-20:b.clientY>r.bottom?20:0;m&&setTimeout(Da(a,function(){v==c&&(l.scroller.scrollTop+=m,g(b))}),50)}}function h(b){v=Infinity;Qa(b);bb(a);Xb(document,"mousemove",x);Xb(document,"mouseup",t);k.history.lastSelOrigin=null}var l=a.display,k=a.doc;Qa(b);var m,n,p=k.sel;e&&!b.shiftKey?(n=k.sel.contains(c),m=-1<n?k.sel.ranges[n]:new O(c,c)):m=k.sel.primary();b.altKey?(d="rect",e||(m=new O(c,c)),
c=gc(a,b,!0,!0),n=-1):"double"==d?(b=qe(a,c),m=a.display.shift||k.extend?R(k,m,b.anchor,b.head):b):"triple"==d?(b=new O(ba(c.line,0),T(k,ba(c.line+1,0))),m=a.display.shift||k.extend?R(k,m,b.anchor,b.head):b):m=R(k,m,c);e?-1<n?ma(k,n,m,Ff):(n=k.sel.ranges.length,va(k,aa(k.sel.ranges.concat([m]),n),{scroll:!1,origin:"*mouse"})):(n=0,va(k,new I([m],0),Ff),p=k.sel);var q=c,r=l.wrapper.getBoundingClientRect(),v=0,x=Da(a,function(a){tf(a)?g(a):h(a)}),t=Da(a,h);na(document,"mousemove",x);na(document,"mouseup",
t)}function hc(a,b,c,d,e){try{var f=b.clientX,g=b.clientY}catch(h){return!1}if(f>=Math.floor(a.display.gutters.getBoundingClientRect().right))return!1;d&&Qa(b);d=a.display;var l=d.lineDiv.getBoundingClientRect();if(g>l.bottom||!Ab(a,c))return sf(b);g-=l.top-d.viewOffset;for(l=0;l<a.options.gutters.length;++l){var k=d.gutters.childNodes[l];if(k&&k.getBoundingClientRect().right>=f)return f=mc(a.doc,g),e(a,c,a,f,a.options.gutters[l],b),sf(b)}}function We(a){var b=this;if(!Jb(b,a)&&!Db(b.display,a)){Qa(a);
ra&&($d=+new Date);var c=gc(b,a,!0),d=a.dataTransfer.files;if(c&&!ge(b))if(d&&d.length&&window.FileReader&&window.File){var e=d.length,f=Array(e),g=0;a=function(a,d){var h=new FileReader;h.onload=Da(b,function(){f[d]=h.result;if(++g==e){c=T(b.doc,c);var a={from:c,to:c,text:uc(f.join("\n")),origin:"paste"};Wc(b.doc,a);tc(b.doc,U(c,Ub(a)))}});h.readAsText(a)};for(var h=0;h<e;++h)a(d[h],h)}else if(b.state.draggingText&&-1<b.doc.sel.contains(c))b.state.draggingText(a),setTimeout(Kb(bb,b),20);else try{if(f=
a.dataTransfer.getData("Text")){if(b.state.draggingText&&!(db?a.metaKey:a.ctrlKey))var l=b.listSelections();Ra(b.doc,U(c,c));if(l)for(h=0;h<l.length;++h)oe(b.doc,"",l[h].anchor,l[h].head,"drag");b.replaceSelection(f,"around","paste");bb(b)}}catch(k){}}}function ic(a,b){2>Math.abs(a.doc.scrollTop-b)||(a.doc.scrollTop=b,Mc||C(a,{top:b}),a.display.scroller.scrollTop!=b&&(a.display.scroller.scrollTop=b),a.display.scrollbarV.scrollTop!=b&&(a.display.scrollbarV.scrollTop=b),Mc&&C(a),Lb(a,100))}function Pb(a,
b,c){if(!(c?b==a.doc.scrollLeft:2>Math.abs(a.doc.scrollLeft-b)))b=Math.min(b,a.display.scroller.scrollWidth-a.display.scroller.clientWidth),a.doc.scrollLeft=b,v(a),a.display.scroller.scrollLeft!=b&&(a.display.scroller.scrollLeft=b),a.display.scrollbarH.scrollLeft!=b&&(a.display.scrollbarH.scrollLeft=b)}function zd(a,b){var c=b.wheelDeltaX,d=b.wheelDeltaY;null==c&&(b.detail&&b.axis==b.HORIZONTAL_AXIS)&&(c=b.detail);null==d&&b.detail&&b.axis==b.VERTICAL_AXIS?d=b.detail:null==d&&(d=b.wheelDelta);var e=
a.display,f=e.scroller;if(c&&f.scrollWidth>f.clientWidth||d&&f.scrollHeight>f.clientHeight){if(d&&db&&Oa){var g=b.target,h=e.view;a:for(;g!=f;g=g.parentNode)for(var l=0;l<h.length;l++)if(h[l].node==g){a.display.currentWheelTarget=g;break a}}c&&!Mc&&!mb&&null!=ob?(d&&ic(a,Math.max(0,Math.min(f.scrollTop+d*ob,f.scrollHeight-f.clientHeight))),Pb(a,Math.max(0,Math.min(f.scrollLeft+c*ob,f.scrollWidth-f.clientWidth))),Qa(b),e.wheelStartX=null):(d&&null!=ob&&(g=d*ob,h=a.doc.scrollTop,l=h+e.wrapper.clientHeight,
0>g?h=Math.max(0,h+g-50):l=Math.min(a.doc.height,l+g+50),C(a,{top:h,bottom:l})),20>ae&&(null==e.wheelStartX?(e.wheelStartX=f.scrollLeft,e.wheelStartY=f.scrollTop,e.wheelDX=c,e.wheelDY=d,setTimeout(function(){if(null!=e.wheelStartX){var a=f.scrollLeft-e.wheelStartX,b=f.scrollTop-e.wheelStartY,a=b&&e.wheelDY&&b/e.wheelDY||a&&e.wheelDX&&a/e.wheelDX;e.wheelStartX=e.wheelStartY=null;a&&(ob=(ob*ae+a)/(ae+1),++ae)}},200)):(e.wheelDX+=c,e.wheelDY+=d)))}}function yc(a,b,c){if("string"==typeof b&&(b=ld[b],
!b))return!1;a.display.pollingFast&&Se(a)&&(a.display.pollingFast=!1);var d=a.display.shift,e=!1;try{ge(a)&&(a.state.suppressEdits=!0),c&&(a.display.shift=!1),e=b(a)!=rc}finally{a.display.shift=d,a.state.suppressEdits=!1}return e}function je(a){var b=a.state.keyMaps.slice(0);a.options.extraKeys&&b.push(a.options.extraKeys);b.push(a.options.keyMap);return b}function Tc(a,b){var c=Dd(a.options.keyMap),d=c.auto;clearTimeout(Cf);d&&!mg(b)&&(Cf=setTimeout(function(){Dd(a.options.keyMap)==c&&(a.options.keyMap=
d.call?d.call(null,a):d,f(a))},50));var e=qb(b,!0),g=!1;if(!e)return!1;g=je(a);if(g=b.shiftKey?md("Shift-"+e,g,function(b){return yc(a,b,!0)})||md(e,g,function(b){if("string"==typeof b?/^go[A-Z]/.test(b):b.motion)return yc(a,b)}):md(e,g,function(b){return yc(a,b)}))Qa(b),Bb(a),Ga(a,"keyHandled",a,e,b);return g}function Rf(a,b,c){var d=md("'"+c+"'",je(a),function(b){return yc(a,b,!0)});d&&(Qa(b),Bb(a),Ga(a,"keyHandled",a,"'"+c+"'",b));return d}function Ye(a){Te(this);if(!Jb(this,a)){ra&&(11>ya&&27==
a.keyCode)&&(a.returnValue=!1);var b=a.keyCode;this.display.shift=16==b||a.shiftKey;var c=Tc(this,a);mb&&(Je=c?b:null,!c&&(88==b&&!Qe&&(db?a.metaKey:a.ctrlKey))&&this.replaceSelection("",null,"cut"));18==b&&!/\bCodeMirror-crosshair\b/.test(this.display.lineDiv.className)&&Mg(this)}}function Mg(a){function b(a){if(18==a.keyCode||!a.altKey)cb(c,"CodeMirror-crosshair"),Xb(document,"keyup",b),Xb(document,"mouseover",b)}var c=a.display.lineDiv;De(c,"CodeMirror-crosshair");na(document,"keyup",b);na(document,
"mouseover",b)}function Ze(a){16==a.keyCode&&(this.doc.sel.shift=!1);Jb(this,a)}function Bc(a){if(!Jb(this,a)&&!(a.ctrlKey&&!a.altKey||db&&a.metaKey)){var b=a.keyCode,c=a.charCode;if(mb&&b==Je)Je=null,Qa(a);else if(!(mb&&(!a.which||10>a.which)||Ud)||!Tc(this,a))b=String.fromCharCode(null==c?b:c),Rf(this,a,b)||(ra&&9<=ya&&(this.display.inputHasSelection=null),xd(this))}}function le(a){"nocursor"!=a.options.readOnly&&(a.state.focused||(Ka(a,"focus",a),a.state.focused=!0,De(a.display.wrapper,"CodeMirror-focused"),
!a.curOp&&a.display.selForContextMenu!=a.doc.sel&&(Cb(a),Oa&&setTimeout(Kb(Cb,a,!0),0))),vd(a),Bb(a))}function Bd(a){a.state.focused&&(Ka(a,"blur",a),a.state.focused=!1,cb(a.display.wrapper,"CodeMirror-focused"));clearInterval(a.display.blinker);setTimeout(function(){a.state.focused||(a.display.shift=!1)},150)}function Ad(a,b){function c(){if(null!=e.input.selectionStart){var b=a.somethingSelected(),d=e.input.value="\u200b"+(b?e.input.value:"");e.prevInput=b?"":"\u200b";e.input.selectionStart=1;e.input.selectionEnd=
d.length;e.selForContextMenu=a.doc.sel}}function d(){e.inputDiv.style.position="relative";e.input.style.cssText=h;ra&&9>ya&&(e.scrollbarV.scrollTop=e.scroller.scrollTop=g);vd(a);if(null!=e.input.selectionStart){(!ra||ra&&9>ya)&&c();var b=0,f=function(){e.selForContextMenu==a.doc.sel&&0==e.input.selectionStart?Da(a,ld.selectAll)(a):10>b++?e.detectingSelectAll=setTimeout(f,500):Cb(a)};e.detectingSelectAll=setTimeout(f,200)}}if(!Jb(a,b,"contextmenu")){var e=a.display;if(!Db(e,b)&&!(!Ab(a,"gutterContextMenu")?
0:hc(a,b,"gutterContextMenu",!1,Ka))){var f=gc(a,b),g=e.scroller.scrollTop;if(f&&!mb){a.options.resetSelectionOnContextMenu&&-1==a.doc.sel.contains(f)&&Da(a,va)(a.doc,U(f),sc);var h=e.input.style.cssText;e.inputDiv.style.position="absolute";e.input.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(b.clientY-5)+"px; left: "+(b.clientX-5)+"px; z-index: 1000; background: "+(ra?"rgba(255, 255, 255, .05)":"transparent")+"; outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity\x3d5);";
if(Oa)var l=window.scrollY;bb(a);Oa&&window.scrollTo(null,l);Cb(a);a.somethingSelected()||(e.input.value=e.prevInput=" ");e.selForContextMenu=a.doc.sel;clearTimeout(e.detectingSelectAll);ra&&9<=ya&&c();if(Bf){de(b);var k=function(){Xb(window,"mouseup",k);setTimeout(d,20)};na(window,"mouseup",k)}else setTimeout(d,50)}}}}function $e(a,b){if(0>pa(a,b.from))return a;if(0>=pa(a,b.to))return Ub(b);var c=a.line+b.text.length-(b.to.line-b.from.line)-1,d=a.ch;a.line==b.to.line&&(d+=Ub(b).ch-b.to.ch);return ba(c,
d)}function af(a,b){for(var c=[],d=0;d<a.sel.ranges.length;d++){var e=a.sel.ranges[d];c.push(new O($e(e.anchor,b),$e(e.head,b)))}return aa(c,a.sel.primIndex)}function bf(a,b,c){return a.line==b.line?ba(c.line,a.ch-b.ch+c.ch):ba(c.line+(a.line-b.line),a.ch)}function Sf(a,b,c){b={canceled:!1,from:b.from,to:b.to,text:b.text,origin:b.origin,cancel:function(){this.canceled=!0}};c&&(b.update=function(b,c,d,e){b&&(this.from=T(a,b));c&&(this.to=T(a,c));d&&(this.text=d);void 0!==e&&(this.origin=e)});Ka(a,
"beforeChange",a,b);a.cm&&Ka(a.cm,"beforeChange",a.cm,b);return b.canceled?null:{from:b.from,to:b.to,text:b.text,origin:b.origin}}function Wc(a,b,c){if(a.cm){if(!a.cm.curOp)return Da(a.cm,Wc)(a,b,c);if(a.cm.state.suppressEdits)return}if(Ab(a,"beforeChange")||a.cm&&Ab(a.cm,"beforeChange"))if(b=Sf(a,b,!0),!b)return;if(c=Wd&&!c&&Vf(a,b.from,b.to))for(var d=c.length-1;0<=d;--d)cf(a,{from:c[d].from,to:c[d].to,text:d?[""]:b.text});else cf(a,b)}function cf(a,b){if(!(1==b.text.length&&""==b.text[0]&&0==pa(b.from,
b.to))){var c=af(a,b);cd(a,b,c,a.cm?a.cm.curOp.id:NaN);Xc(a,b,c,re(a,b));var d=[];Ic(a,function(a,c){!c&&-1==Ja(d,a.history)&&(Pd(a.history,b),d.push(a.history));Xc(a,b,null,re(a,b))})}}function Cd(a,b,c){if(!a.cm||!a.cm.state.suppressEdits){for(var d=a.history,e,f=a.sel,g="undo"==b?d.done:d.undone,h="undo"==b?d.undone:d.done,l=0;l<g.length&&!(e=g[l],c?e.ranges&&!e.equals(a.sel):!e.ranges);l++);if(l!=g.length){for(d.lastOrigin=d.lastSelOrigin=null;;)if(e=g.pop(),e.ranges){Be(e,h);if(c&&!e.equals(a.sel)){va(a,
e,{clearRedo:!1});return}f=e}else break;c=[];Be(f,h);h.push({changes:c,generation:d.generation});d.generation=e.generation||++d.maxGeneration;d=Ab(a,"beforeChange")||a.cm&&Ab(a.cm,"beforeChange");for(l=e.changes.length-1;0<=l;--l){var k=e.changes[l];k.origin=b;if(d&&!Sf(a,k,!1)){g.length=0;break}c.push(pf(a,k));f=l?af(a,k):wa(g);Xc(a,k,f,hf(a,k));!l&&a.cm&&a.cm.scrollIntoView({from:k.from,to:Ub(k)});var m=[];Ic(a,function(a,b){!b&&-1==Ja(m,a.history)&&(Pd(a.history,k),m.push(a.history));Xc(a,k,null,
hf(a,k))})}}}}function ne(a,b){if(0!=b&&(a.first+=b,a.sel=new I(ed(a.sel.ranges,function(a){return new O(ba(a.anchor.line+b,a.anchor.ch),ba(a.head.line+b,a.head.ch))}),a.sel.primIndex),a.cm)){hb(a.cm,a.first,a.first-b,b);for(var c=a.cm.display,d=c.viewFrom;d<c.viewTo;d++)Ob(a.cm,d,"gutter")}}function Xc(a,b,c,d){if(a.cm&&!a.cm.curOp)return Da(a.cm,Xc)(a,b,c,d);if(b.to.line<a.first)ne(a,b.text.length-1-(b.to.line-b.from.line));else if(!(b.from.line>a.lastLine())){if(b.from.line<a.first){var e=b.text.length-
1-(a.first-b.from.line);ne(a,e);b={from:ba(a.first,0),to:ba(b.to.line+e,b.to.ch),text:[wa(b.text)],origin:b.origin}}e=a.lastLine();b.to.line>e&&(b={from:b.from,to:ba(e,ha(a,e).text.length),text:[b.text[0]],origin:b.origin});b.removed=Jc(a,b.from,b.to);c||(c=af(a,b));a.cm?Ng(a.cm,b,d):of(a,b,d);Ra(a,c,sc)}}function Ng(a,c,d){var e=a.doc,f=a.display,g=c.from,h=c.to,l=!1,k=g.line;a.options.lineWrapping||(k=xa(zb(ha(e,g.line))),e.iter(k,h.line+1,function(a){if(a==f.maxLine)return l=!0}));-1<e.sel.contains(c.from,
c.to)&&ag(a);of(e,c,d,b(a));a.options.lineWrapping||(e.iter(k,g.line+c.text.length,function(a){var b=n(a);b>f.maxLineLength&&(f.maxLine=a,f.maxLineLength=b,f.maxLineChanged=!0,l=!1)}),l&&(a.curOp.updateMaxLine=!0));e.frontier=Math.min(e.frontier,g.line);Lb(a,400);d=c.text.length-(h.line-g.line)-1;g.line==h.line&&1==c.text.length&&!Gc(a.doc,c)?Ob(a,g.line,"text"):hb(a,g.line,h.line+1,d);d=Ab(a,"changes");if((e=Ab(a,"change"))||d)c={from:g,to:h,text:c.text,removed:c.removed,origin:c.origin},e&&Ga(a,
"change",a,c),d&&(a.curOp.changeObjs||(a.curOp.changeObjs=[])).push(c);a.display.selForContextMenu=null}function oe(a,b,c,d,e){d||(d=c);if(0>pa(d,c)){var f=d;d=c;c=f}"string"==typeof b&&(b=uc(b));Wc(a,{from:c,to:d,text:b,origin:e})}function Ed(a,b,c,d,e){var f=a.display,g=Ta(a.display);0>c&&(c=0);var h=a.curOp&&null!=a.curOp.scrollTop?a.curOp.scrollTop:f.scroller.scrollTop,l=f.scroller.clientHeight-eb,k={};e-c>l&&(e=c+l);var m=a.doc.height+(f.mover.offsetHeight-f.lineSpace.offsetHeight),n=c<g,g=e>
m-g;c<h?k.scrollTop=n?0:c:e>h+l&&(e=Math.min(c,(g?m:e)-l),e!=h&&(k.scrollTop=e));a=a.curOp&&null!=a.curOp.scrollLeft?a.curOp.scrollLeft:f.scroller.scrollLeft;f=f.scroller.clientWidth-eb-f.gutters.offsetWidth;(h=d-b>f)&&(d=c+l);10>b?k.scrollLeft=0:b<a?k.scrollLeft=Math.max(0,b-(h?0:10)):d>f+a-3&&(k.scrollLeft=d+(h?0:10)-f);return k}function Gb(a,b,c){(null!=b||null!=c)&&Fd(a);null!=b&&(a.curOp.scrollLeft=(null==a.curOp.scrollLeft?a.doc.scrollLeft:a.curOp.scrollLeft)+b);null!=c&&(a.curOp.scrollTop=
(null==a.curOp.scrollTop?a.doc.scrollTop:a.curOp.scrollTop)+c)}function Cc(a){Fd(a);var b=a.getCursor(),c=b,d=b;a.options.lineWrapping||(c=b.ch?ba(b.line,b.ch-1):b,d=ba(b.line,b.ch+1));a.curOp.scrollToPos={from:c,to:d,margin:a.options.cursorScrollMargin,isCursor:!0}}function Fd(a){var b=a.curOp.scrollToPos;if(b){a.curOp.scrollToPos=null;var c=sd(a,b.from),d=sd(a,b.to),b=Ed(a,Math.min(c.left,d.left),Math.min(c.top,d.top)-b.margin,Math.max(c.right,d.right),Math.max(c.bottom,d.bottom)+b.margin);a.scrollTo(b.scrollLeft,
b.scrollTop)}}function Gd(a,b,c,d){var e=a.doc,f;null==c&&(c="add");"smart"==c&&(e.mode.indent?f=Na(a,b):c="prev");var g=a.options.tabSize,h=ha(e,b),l=rb(h.text,null,g);h.stateAfter&&(h.stateAfter=null);var k=h.text.match(/^\s*/)[0],m;if(!d&&!/\S/.test(h.text))m=0,c="not";else if("smart"==c&&(m=e.mode.indent(f,h.text.slice(k.length),h.text),m==rc||150<m)){if(!d)return;c="prev"}"prev"==c?m=b>e.first?rb(ha(e,b-1).text,null,g):0:"add"==c?m=l+a.options.indentUnit:"subtract"==c?m=l-a.options.indentUnit:
"number"==typeof c&&(m=l+c);m=Math.max(0,m);c="";d=0;if(a.options.indentWithTabs)for(a=Math.floor(m/g);a;--a)d+=g,c+="\t";d<m&&(c+=vf(m-d));if(c!=k)oe(e,c,ba(b,0),ba(b,k.length),"+input");else for(a=0;a<e.sel.ranges.length;a++)if(g=e.sel.ranges[a],g.head.line==b&&g.head.ch<k.length){d=ba(b,k.length);ma(e,a,new O(d,d));break}h.stateAfter=null}function pe(a,b,c,d){var e=b,f=b;"number"==typeof b?f=ha(a,Math.max(a.first,Math.min(b,a.first+a.size-1))):e=xa(b);if(null==e)return null;d(f,e)&&a.cm&&Ob(a.cm,
e,c);return f}function Dc(a,b){for(var c=a.doc.sel.ranges,d=[],e=0;e<c.length;e++){for(var f=b(c[e]);d.length&&0>=pa(f.from,wa(d).to);){var g=d.pop();if(0>pa(g.from,f.from)){f.from=g.from;break}}d.push(f)}Aa(a,function(){for(var b=d.length-1;0<=b;b--)oe(a.doc,"",d[b].from,d[b].to,"+delete");Cc(a)})}function df(a,b,c,d,e){function f(b){var d=(e?yf:hg)(k,h,c,!0);if(null==d){if(b=!b)b=g+c,b<a.first||b>=a.first+a.size?b=m=!1:(g=b,b=k=ha(a,b));if(b)h=e?(0>c?Ee:fd)(k):0>c?k.text.length:0;else return m=
!1}else h=d;return!0}var g=b.line,h=b.ch,l=c,k=ha(a,g),m=!0;if("char"==d)f();else if("column"==d)f(!0);else if("word"==d||"group"==d){var n=null;d="group"==d;b=a.cm&&a.cm.getHelper(b,"wordChars");for(var p=!0;!(0>c)||f(!p);p=!1){var q=k.text.charAt(h)||"\n",q=Rd(q,b)?"w":d&&"\n"==q?"n":!d||/\s/.test(q)?null:"p";d&&(!p&&!q)&&(q="s");if(n&&n!=q){0>c&&(c=1,f());break}q&&(n=q);if(0<c&&!f(!p))break}}l=Yb(a,ba(g,h),l,!0);m||(l.hitSide=!0);return l}function ef(a,b,c,d){var e=a.doc,f=b.left,g;"page"==d?(d=
Math.min(a.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),g=b.top+c*(d-(0>c?1.5:0.5)*Ta(a.display))):"line"==d&&(g=0<c?b.bottom+3:b.top-3);for(;;){var h=td(a,f,g);if(!h.outside)break;if(0>c?0>=g:g>=e.height){h.hitSide=!0;break}g+=5*c}return h}function qe(a,b){var c=ha(a.doc,b.line).text,d=b.ch,e=b.ch;if(c){var f=a.getHelper(b,"wordChars");(0>b.xRel||e==c.length)&&d?--d:++e;for(var g=c.charAt(d),g=Rd(g,f)?function(a){return Rd(a,f)}:/\s/.test(g)?function(a){return/\s/.test(a)}:
function(a){return!/\s/.test(a)&&!Rd(a)};0<d&&g(c.charAt(d-1));)--d;for(;e<c.length&&g(c.charAt(e));)++e}return new O(ba(b.line,d),ba(b.line,e))}function la(a,b,c,d){h.defaults[a]=b;c&&(hd[a]=d?function(a,b,d){d!=lg&&c(a,b,d)}:c)}function Dd(a){return"string"==typeof a?pb[a]:a}function Ec(a,b,c,d,e){if(d&&d.shared)return Hd(a,b,c,d,e);if(a.cm&&!a.cm.curOp)return Da(a.cm,Ec)(a,b,c,d,e);var f=new Vb(a,e);e=pa(b,c);d&&Qd(d,f,!1);if(0<e||0==e&&!1!==f.clearWhenEmpty)return f;f.replacedWith&&(f.collapsed=
!0,f.widgetNode=fa("span",[f.replacedWith],"CodeMirror-widget"),d.handleMouseEvents||(f.widgetNode.ignoreEvents=!0),d.insertLeft&&(f.widgetNode.insertLeft=!0));if(f.collapsed){if($c(a,b.line,b,c,f)||b.line!=c.line&&$c(a,c.line,b,c,f))throw Error("Inserting collapsed marker partially overlapping an existing one");Tb=!0}f.addToHistory&&cd(a,{from:b,to:c,origin:"markText"},a.sel,NaN);var g=b.line,h=a.cm,l;a.iter(g,c.line+1,function(a){h&&(f.collapsed&&!h.options.lineWrapping&&zb(a)==h.display.maxLine)&&
(l=!0);f.collapsed&&g!=b.line&&Za(a,0);var d=new Id(f,g==b.line?b.ch:null,g==c.line?c.ch:null);a.markedSpans=a.markedSpans?a.markedSpans.concat([d]):[d];d.marker.attachLine(a);++g});f.collapsed&&a.iter(b.line,c.line+1,function(b){lc(a,b)&&Za(b,0)});f.clearOnEnter&&na(f,"beforeCursorEnter",function(){f.clear()});f.readOnly&&(Wd=!0,(a.history.done.length||a.history.undone.length)&&a.clearHistory());f.collapsed&&(f.id=++ng,f.atomic=!0);if(h){l&&(h.curOp.updateMaxLine=!0);if(f.collapsed)hb(h,b.line,c.line+
1);else if(f.className||f.title||f.startStyle||f.endStyle)for(d=b.line;d<=c.line;d++)Ob(h,d,"text");f.atomic&&Xa(h.doc);Ga(h,"markerAdded",h,f)}return f}function Hd(a,b,c,d,e){d=Qd(d);d.shared=!1;var f=[Ec(a,b,c,d,e)],g=f[0],h=d.widgetNode;Ic(a,function(a){h&&(d.widgetNode=h.cloneNode(!0));f.push(Ec(a,T(a,b),T(a,c),d,e));for(var l=0;l<a.linked.length;++l)if(a.linked[l].isParent)return;g=wa(f)});return new ce(f,g)}function gf(a){return a.findMarks(ba(a.first,0),a.clipPos(ba(a.lastLine())),function(a){return a.parent})}
function ff(a){for(var b=0;b<a.length;b++){var c=a[b],d=[c.primary.doc];Ic(c.primary.doc,function(a){d.push(a)});for(var e=0;e<c.markers.length;e++){var f=c.markers[e];-1==Ja(d,f.doc)&&(f.parent=null,c.markers.splice(e--,1))}}}function Id(a,b,c){this.marker=a;this.from=b;this.to=c}function Zc(a,b){if(a)for(var c=0;c<a.length;++c){var d=a[c];if(d.marker==b)return d}}function re(a,b){var c=Y(a,b.from.line)&&ha(a,b.from.line).markedSpans,d=Y(a,b.to.line)&&ha(a,b.to.line).markedSpans;if(!c&&!d)return null;
var e=b.from.ch,f=b.to.ch,g=0==pa(b.from,b.to);if(c)for(var h=0,l;h<c.length;++h){var k=c[h],m=k.marker;if(null==k.from||(m.inclusiveLeft?k.from<=e:k.from<e)||k.from==e&&"bookmark"==m.type&&(!g||!k.marker.insertLeft)){var n=null==k.to||(m.inclusiveRight?k.to>=e:k.to>e);(l||(l=[])).push(new Id(m,k.from,n?null:k.to))}}c=l;if(d)for(var h=0,p;h<d.length;++h)if(l=d[h],k=l.marker,null==l.to||(k.inclusiveRight?l.to>=f:l.to>f)||l.from==f&&"bookmark"==k.type&&(!g||l.marker.insertLeft))m=null==l.from||(k.inclusiveLeft?
l.from<=f:l.from<f),(p||(p=[])).push(new Id(k,m?null:l.from-f,null==l.to?null:l.to-f));d=p;g=1==b.text.length;p=wa(b.text).length+(g?e:0);if(c)for(f=0;f<c.length;++f)h=c[f],null==h.to&&((l=Zc(d,h.marker))?g&&(h.to=null==l.to?null:l.to+p):h.to=e);if(d)for(f=0;f<d.length;++f)h=d[f],null!=h.to&&(h.to+=p),null==h.from?(l=Zc(c,h.marker),l||(h.from=p,g&&(c||(c=[])).push(h))):(h.from+=p,g&&(c||(c=[])).push(h));c&&(c=me(c));d&&d!=c&&(d=me(d));e=[c];if(!g){var g=b.text.length-2,q;if(0<g&&c)for(f=0;f<c.length;++f)null==
c[f].to&&(q||(q=[])).push(new Id(c[f].marker,null,null));for(f=0;f<g;++f)e.push(q);e.push(d)}return e}function me(a){for(var b=0;b<a.length;++b){var c=a[b];null!=c.from&&(c.from==c.to&&!1!==c.marker.clearWhenEmpty)&&a.splice(b--,1)}return!a.length?null:a}function hf(a,b){var c;if(c=b["spans_"+a.id]){for(var d=0,e=[];d<b.text.length;++d)e.push($f(c[d]));c=e}else c=null;d=re(a,b);if(!c)return d;if(!d)return c;for(e=0;e<c.length;++e){var f=c[e],g=d[e];if(f&&g){var h=0;a:for(;h<g.length;++h){for(var l=
g[h],k=0;k<f.length;++k)if(f[k].marker==l.marker)continue a;f.push(l)}}else g&&(c[e]=g)}return c}function Vf(a,b,c){var d=null;a.iter(b.line,c.line+1,function(a){if(a.markedSpans)for(var b=0;b<a.markedSpans.length;++b){var c=a.markedSpans[b].marker;if(c.readOnly&&(!d||-1==Ja(d,c)))(d||(d=[])).push(c)}});if(!d)return null;a=[{from:b,to:c}];for(b=0;b<d.length;++b){c=d[b];for(var e=c.find(0),f=0;f<a.length;++f){var g=a[f];if(!(0>pa(g.to,e.from)||0<pa(g.from,e.to))){var h=[f,1],l=pa(g.from,e.from),k=
pa(g.to,e.to);(0>l||!c.inclusiveLeft&&!l)&&h.push({from:g.from,to:e.from});(0<k||!c.inclusiveRight&&!k)&&h.push({from:e.to,to:g.to});a.splice.apply(a,h);f+=h.length-1}}}return a}function jf(a){var b=a.markedSpans;if(b){for(var c=0;c<b.length;++c)b[c].marker.detachLine(a);a.markedSpans=null}}function se(a,b){if(b){for(var c=0;c<b.length;++c)b[c].marker.attachLine(a);a.markedSpans=b}}function te(a,b){var c=a.lines.length-b.lines.length;if(0!=c)return c;var c=a.find(),d=b.find(),e=pa(c.from,d.from)||
(a.inclusiveLeft?-1:0)-(b.inclusiveLeft?-1:0);return e?-e:(c=pa(c.to,d.to)||(a.inclusiveRight?1:0)-(b.inclusiveRight?1:0))?c:b.id-a.id}function Fc(a,b){var c=Tb&&a.markedSpans,d;if(c)for(var e,f=0;f<c.length;++f)if(e=c[f],e.marker.collapsed&&null==(b?e.from:e.to)&&(!d||0>te(d,e.marker)))d=e.marker;return d}function $c(a,b,c,d,e){a=ha(a,b);if(a=Tb&&a.markedSpans)for(b=0;b<a.length;++b){var f=a[b];if(f.marker.collapsed){var g=f.marker.find(0),h=pa(g.from,c)||(f.marker.inclusiveLeft?-1:0)-(e.inclusiveLeft?
-1:0),l=pa(g.to,d)||(f.marker.inclusiveRight?1:0)-(e.inclusiveRight?1:0);if(!(0<=h&&0>=l||0>=h&&0<=l))if(0>=h&&(0<pa(g.to,c)||f.marker.inclusiveRight&&e.inclusiveLeft)||0<=h&&(0>pa(g.from,d)||f.marker.inclusiveLeft&&e.inclusiveRight))return!0}}}function zb(a){for(var b;b=Fc(a,!0);)a=b.find(-1,!0).line;return a}function ue(a,b){var c=ha(a,b),d=zb(c);return c==d?b:xa(d)}function Jd(a,b){if(b>a.lastLine())return b;var c=ha(a,b),d;if(!lc(a,c))return b;for(;d=Fc(c,!1);)c=d.find(1,!0).line;return xa(c)+
1}function lc(a,b){var c=Tb&&b.markedSpans;if(c)for(var d,e=0;e<c.length;++e)if(d=c[e],d.marker.collapsed&&(null==d.from||!d.marker.widgetNode&&0==d.from&&d.marker.inclusiveLeft&&Kd(a,b,d)))return!0}function Kd(a,b,c){if(null==c.to)return b=c.marker.find(1,!0),Kd(a,b.line,Zc(b.line.markedSpans,c.marker));if(c.marker.inclusiveRight&&c.to==b.text.length)return!0;for(var d,e=0;e<b.markedSpans.length;++e)if(d=b.markedSpans[e],d.marker.collapsed&&!d.marker.widgetNode&&d.from==c.to&&(null==d.to||d.to!=
c.from)&&(d.marker.inclusiveLeft||c.marker.inclusiveRight)&&Kd(a,b,d))return!0}function Hb(a){if(null!=a.height)return a.height;var b;a:{b=document.body;var c=a.node;if(b.contains)b=b.contains(c);else{for(;c=c.parentNode;)if(c==b){b=!0;break a}b=void 0}}b||(b="position: relative;",a.coverGutter&&(b+="margin-left: -"+a.cm.getGutterElement().offsetWidth+"px;"),kb(a.cm.display.measure,fa("div",[a.node],null,b)));return a.height=a.node.offsetHeight}function Ld(a,b,c,d){var e=new Ke(a,c,d);e.noHScroll&&
(a.display.alignWidgets=!0);pe(a.doc,b,"widget",function(b){var c=b.widgets||(b.widgets=[]);null==e.insertAt?c.push(e):c.splice(Math.min(c.length-1,Math.max(0,e.insertAt)),0,e);e.line=b;lc(a.doc,b)||(c=jb(b)<a.doc.scrollTop,Za(b,b.height+Hb(e)),c&&Gb(a,null,e.height),a.curOp.forceUpdate=!0);return!0});return e}function kf(a,b){if(a)for(;;){var c=a.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!c)break;a=a.slice(0,c.index)+a.slice(c.index+c[0].length);var d=c[1]?"bgClass":"textClass";null==b[d]?b[d]=
c[2]:RegExp("(?:^|s)"+c[2]+"(?:$|s)").test(b[d])||(b[d]+=" "+c[2])}return a}function Wf(a,b){if(a.blankLine)return a.blankLine(b);if(a.innerMode){var c=h.innerMode(a,b);if(c.mode.blankLine)return c.mode.blankLine(c.state)}}function Md(a,b,c){for(var d=0;10>d;d++){var e=a.token(b,c);if(b.pos>b.start)return e}throw Error("Mode "+a.name+" failed to advance stream.");}function ve(a,b,c,d,e,f,g){var l=c.flattenSpans;null==l&&(l=a.options.flattenSpans);var k=0,m=null,n=new od(b,a.options.tabSize),p;for(""==
b&&kf(Wf(c,d),f);!n.eol();){n.pos>a.options.maxHighlightLength?(l=!1,g&&we(a,b,d,n.pos),n.pos=b.length,p=null):p=kf(Md(c,n,d),f);if(a.options.addModeClass){var q=h.innerMode(c,d).mode.name;q&&(p="m-"+(p?q+" "+p:q))}if(!l||m!=p)k<n.start&&e(n.start,m),k=n.start,m=p;n.start=n.pos}for(;k<n.pos;)a=Math.min(n.pos,k+5E4),e(a,m),k=a}function lf(a,b,c,d){var e=[a.state.modeGen],f={};ve(a,b.text,a.doc.mode,c,function(a,b){e.push(a,b)},f,d);for(c=0;c<a.state.overlays.length;++c){var g=a.state.overlays[c],h=
1,l=0;ve(a,b.text,g.mode,!0,function(a,b){for(var c=h;l<a;){var d=e[h];d>a&&e.splice(h,1,a,e[h+1],d);h+=2;l=Math.min(a,d)}if(b)if(g.opaque)e.splice(c,h-c,a,"cm-overlay "+b),h=c+2;else for(;c<h;c+=2)d=e[c+1],e[c+1]=(d?d+" ":"")+"cm-overlay "+b},f)}return{styles:e,classes:f.bgClass||f.textClass?f:null}}function Xf(a,b){if(!b.styles||b.styles[0]!=a.state.modeGen){var c=lf(a,b,b.stateAfter=Na(a,xa(b)));b.styles=c.styles;c.classes?b.styleClasses=c.classes:b.styleClasses&&(b.styleClasses=null)}return b.styles}
function we(a,b,c,d){var e=a.doc.mode,f=new od(b,a.options.tabSize);f.start=f.pos=d||0;for(""==b&&Wf(e,c);!f.eol()&&f.pos<=a.options.maxHighlightLength;)Md(e,f,c),f.start=f.pos}function xe(a,b){if(!a||/^\s*$/.test(a))return null;var c=b.addModeClass?ch:bh;return c[a]||(c[a]=a.replace(/\S+/g,"cm-$\x26"))}function mf(a,b){var c=fa("span",null,null,Oa?"padding-right: .1px":null),c={pre:fa("pre",[c]),content:c,col:0,pos:0,cm:a};b.measure={};for(var d=0;d<=(b.rest?b.rest.length:0);d++){var e=d?b.rest[d-
1]:b.line,f;c.pos=0;c.addToken=Yf;if((ra||Oa)&&a.getOption("lineWrapping"))c.addToken=Zf(c.addToken);var g;if(null!=ia)g=ia;else{g=kb(a.display.measure,document.createTextNode("A\u062eA"));var h=pd(g,0,1).getBoundingClientRect();g=h.left==h.right?!1:ia=3>pd(g,1,2).getBoundingClientRect().right-h.right}if(g&&(f=Ib(e)))c.addToken=Og(c.addToken,f);c.map=[];a:{g=c;var h=Xf(a,e),l=e.markedSpans,k=e.text,m=0;if(l)for(var n=k.length,p=0,q=1,r="",s=void 0,v=0,x=void 0,t=void 0,y=void 0,w=void 0,u=void 0;;){if(v==
p){for(var x=t=y=w="",u=null,v=Infinity,C=[],A=0;A<l.length;++A){var D=l[A],E=D.marker;if(D.from<=p&&(null==D.to||D.to>p)){if(null!=D.to&&v>D.to&&(v=D.to,t=""),E.className&&(x+=" "+E.className),E.startStyle&&D.from==p&&(y+=" "+E.startStyle),E.endStyle&&D.to==v&&(t+=" "+E.endStyle),E.title&&!w&&(w=E.title),E.collapsed&&(!u||0>te(u.marker,E)))u=D}else D.from>p&&v>D.from&&(v=D.from);"bookmark"==E.type&&(D.from==p&&E.widgetNode)&&C.push(E)}if(u&&(u.from||0)==p)if(Hc(g,(null==u.to?n+1:u.to)-p,u.marker,
null==u.from),null==u.to)break a;if(!u&&C.length)for(A=0;A<C.length;++A)Hc(g,0,C[A])}if(p>=n)break;for(C=Math.min(n,v);;){if(r){A=p+r.length;u||(D=A>C?r.slice(0,C-p):r,g.addToken(g,D,s?s+x:x,y,p+D.length==v?t:"",w));if(A>=C){r=r.slice(C-p);p=C;break}p=A;y=""}r=k.slice(m,m=h[q++]);s=xe(h[q++],g.cm.options)}}else for(var q=1;q<h.length;q+=2)g.addToken(g,k.slice(m,m=h[q]),xe(h[q+1],g.cm.options))}e.styleClasses&&(e.styleClasses.bgClass&&(c.bgClass=wf(e.styleClasses.bgClass,c.bgClass||"")),e.styleClasses.textClass&&
(c.textClass=wf(e.styleClasses.textClass,c.textClass||"")));0==c.map.length&&c.map.push(0,0,c.content.appendChild(Wg(a.display.measure)));0==d?(b.measure.map=c.map,b.measure.cache={}):((b.measure.maps||(b.measure.maps=[])).push(c.map),(b.measure.caches||(b.measure.caches=[])).push({}))}Ka(a,"renderLine",a,b.line,c.pre);c.pre.className&&(c.textClass=wf(c.pre.className,c.textClass||""));return c}function Yf(a,b,c,d,e,f){if(b){var g=a.cm.options.specialChars,h=!1;if(g.test(b))for(var l=document.createDocumentFragment(),
k=0;;){g.lastIndex=k;var m=g.exec(b),n=m?m.index-k:b.length-k;if(n){var p=document.createTextNode(b.slice(k,k+n));ra&&9>ya?l.appendChild(fa("span",[p])):l.appendChild(p);a.map.push(a.pos,a.pos+n,p);a.col+=n;a.pos+=n}if(!m)break;k+=n+1;"\t"==m[0]?(p=a.cm.options.tabSize,m=p-a.col%p,p=l.appendChild(fa("span",vf(m),"cm-tab")),a.col+=m):(p=a.cm.options.specialCharPlaceholder(m[0]),ra&&9>ya?l.appendChild(fa("span",[p])):l.appendChild(p),a.col+=1);a.map.push(a.pos,a.pos+1,p);a.pos++}else{a.col+=b.length;
var l=document.createTextNode(b);a.map.push(a.pos,a.pos+b.length,l);ra&&9>ya&&(h=!0);a.pos+=b.length}if(c||d||e||h)return b=c||"",d&&(b+=d),e&&(b+=e),d=fa("span",[l],b),f&&(d.title=f),a.content.appendChild(d);a.content.appendChild(l)}}function Zf(a){function b(a){for(var c=" ",d=0;d<a.length-2;++d)c+=d%2?" ":"\u00a0";return c+" "}return function(c,d,e,f,g,h){a(c,d.replace(/ {3,}/g,b),e,f,g,h)}}function Og(a,b){return function(c,d,e,f,g,h){e=e?e+" cm-force-border":"cm-force-border";for(var l=c.pos,
k=l+d.length;;){for(var m=0;m<b.length;m++){var n=b[m];if(n.to>l&&n.from<=l)break}if(n.to>=k)return a(c,d,e,f,g,h);a(c,d.slice(0,n.to-l),e,f,null,h);f=null;d=d.slice(n.to-l);l=n.to}}}function Hc(a,b,c,d){if(c=!d&&c.widgetNode)a.map.push(a.pos,a.pos+b,c),a.content.appendChild(c);a.pos+=b}function Gc(a,b){return 0==b.from.ch&&0==b.to.ch&&""==wa(b.text)&&(!a.cm||a.cm.options.wholeLineUpdateBefore)}function of(a,b,c,d){function e(a,c,f){var g=d;a.text=c;a.stateAfter&&(a.stateAfter=null);a.styles&&(a.styles=
null);null!=a.order&&(a.order=null);jf(a);se(a,f);c=g?g(a):1;c!=a.height&&Za(a,c);Ga(a,"change",a,b)}var f=b.from,g=b.to,h=b.text,l=ha(a,f.line),k=ha(a,g.line),m=wa(h),n=c?c[h.length-1]:null,p=g.line-f.line;if(Gc(a,b)){for(var q=0,r=[];q<h.length-1;++q)r.push(new qc(h[q],c?c[q]:null,d));e(k,k.text,n);p&&a.remove(f.line,p);r.length&&a.insert(f.line,r)}else if(l==k)if(1==h.length)e(l,l.text.slice(0,f.ch)+m+l.text.slice(g.ch),n);else{r=[];for(q=1;q<h.length-1;++q)r.push(new qc(h[q],c?c[q]:null,d));r.push(new qc(m+
l.text.slice(g.ch),n,d));e(l,l.text.slice(0,f.ch)+h[0],c?c[0]:null);a.insert(f.line+1,r)}else if(1==h.length)e(l,l.text.slice(0,f.ch)+h[0]+k.text.slice(g.ch),c?c[0]:null),a.remove(f.line+1,p);else{e(l,l.text.slice(0,f.ch)+h[0],c?c[0]:null);e(k,m+k.text.slice(g.ch),n);q=1;for(r=[];q<h.length-1;++q)r.push(new qc(h[q],c?c[q]:null,d));1<p&&a.remove(f.line+1,p-1);a.insert(f.line+1,r)}Ga(a,"change",a,b)}function bd(a){this.lines=a;this.parent=null;for(var b=0,c=0;b<a.length;++b)a[b].parent=this,c+=a[b].height;
this.height=c}function Sb(a){this.children=a;for(var b=0,c=0,d=0;d<a.length;++d){var e=a[d],b=b+e.chunkSize(),c=c+e.height;e.parent=this}this.size=b;this.height=c;this.parent=null}function Ic(a,b,c){function d(a,e,f){if(a.linked)for(var g=0;g<a.linked.length;++g){var h=a.linked[g];if(h.doc!=e){var l=f&&h.sharedHist;if(!c||l)b(h.doc,l),d(h.doc,a,l)}}}d(a,null,!0)}function Nd(a,b){if(b.cm)throw Error("This document is already in use.");a.doc=b;b.cm=a;c(a);d(a);a.options.lineWrapping||p(a);a.options.mode=
b.modeOption;hb(a)}function ha(a,b){b-=a.first;if(0>b||b>=a.size)throw Error("There is no line "+(b+a.first)+" in the document.");for(var c=a;!c.lines;)for(var d=0;;++d){var e=c.children[d],f=e.chunkSize();if(b<f){c=e;break}b-=f}return c.lines[b]}function Jc(a,b,c){var d=[],e=b.line;a.iter(b.line,c.line+1,function(a){a=a.text;e==c.line&&(a=a.slice(0,c.ch));e==b.line&&(a=a.slice(b.ch));d.push(a);++e});return d}function ad(a,b,c){var d=[];a.iter(b,c,function(a){d.push(a.text)});return d}function Za(a,
b){var c=b-a.height;if(c)for(var d=a;d;d=d.parent)d.height+=c}function xa(a){if(null==a.parent)return null;var b=a.parent;a=Ja(b.lines,a);for(var c=b.parent;c;b=c,c=c.parent)for(var d=0;c.children[d]!=b;++d)a+=c.children[d].chunkSize();return a+b.first}function mc(a,b){var c=a.first;a:do{for(var d=0;d<a.children.length;++d){var e=a.children[d],f=e.height;if(b<f){a=e;continue a}b-=f;c+=e.chunkSize()}return c}while(!a.lines);for(d=0;d<a.lines.length;++d){e=a.lines[d].height;if(b<e)break;b-=e}return c+
d}function jb(a){a=zb(a);for(var b=0,c=a.parent,d=0;d<c.lines.length;++d){var e=c.lines[d];if(e==a)break;else b+=e.height}for(a=c.parent;a;c=a,a=c.parent)for(d=0;d<a.children.length&&!(e=a.children[d],e==c);++d)b+=e.height;return b}function Ib(a){var b=a.order;null==b&&(b=a.order=Re(a.text));return b}function Ae(a){this.done=[];this.undone=[];this.undoDepth=Infinity;this.lastModTime=this.lastSelTime=0;this.lastOrigin=this.lastSelOrigin=this.lastOp=this.lastSelOp=null;this.generation=this.maxGeneration=
a||1}function pf(a,b){var c={from:ba(b.from.line,b.from.ch),to:Ub(b),text:Jc(a,b.from,b.to)};Ce(a,c,b.from.line,b.to.line+1);Ic(a,function(a){Ce(a,c,b.from.line,b.to.line+1)},!0);return c}function qf(a){for(;a.length;)if(wa(a).ranges)a.pop();else break}function cd(a,b,c,d){var e=a.history;e.undone.length=0;var f=+new Date,g,h;if(h=e.lastOp==d||e.lastOrigin==b.origin&&b.origin&&("+"==b.origin.charAt(0)&&a.cm&&e.lastModTime>f-a.cm.options.historyEventDelay||"*"==b.origin.charAt(0)))e.lastOp==d?(qf(e.done),
g=wa(e.done)):e.done.length&&!wa(e.done).ranges?g=wa(e.done):1<e.done.length&&!e.done[e.done.length-2].ranges?(e.done.pop(),g=wa(e.done)):g=void 0,h=g;if(h){var l=wa(g.changes);0==pa(b.from,b.to)&&0==pa(b.from,l.to)?l.to=Ub(b):g.changes.push(pf(a,b))}else{g=wa(e.done);(!g||!g.ranges)&&Be(a.sel,e.done);g={changes:[pf(a,b)],generation:e.generation};for(e.done.push(g);e.done.length>e.undoDepth;)e.done.shift(),e.done[0].ranges||e.done.shift()}e.done.push(c);e.generation=++e.maxGeneration;e.lastModTime=
e.lastSelTime=f;e.lastOp=e.lastSelOp=d;e.lastOrigin=e.lastSelOrigin=b.origin;l||Ka(a,"historyAdded")}function Be(a,b){var c=wa(b);(!c||!c.ranges||!c.equals(a))&&b.push(a)}function Ce(a,b,c,d){var e=b["spans_"+a.id],f=0;a.iter(Math.max(a.first,c),Math.min(a.first+a.size,d),function(c){c.markedSpans&&((e||(e=b["spans_"+a.id]={}))[f]=c.markedSpans);++f})}function $f(a){if(!a)return null;for(var b=0,c;b<a.length;++b)a[b].marker.explicitlyCleared?c||(c=a.slice(0,b)):c&&c.push(a[b]);return!c?a:c.length?
c:null}function $a(a,b,c){for(var d=0,e=[];d<a.length;++d){var f=a[d];if(f.ranges)e.push(c?I.prototype.deepCopy.call(f):f);else{var f=f.changes,g=[];e.push({changes:g});for(var h=0;h<f.length;++h){var l=f[h],k;g.push({from:l.from,to:l.to,text:l.text});if(b)for(var m in l)if((k=m.match(/^spans_(\d+)$/))&&-1<Ja(b,Number(k[1])))wa(g)[m]=l[m],delete l[m]}}}return e}function rf(a,b,c,d){c<a.line?a.line+=d:b<a.line&&(a.line=b,a.ch=0)}function nc(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e],g=!0;if(f.ranges){f.copied||
(f=a[e]=f.deepCopy(),f.copied=!0);for(var h=0;h<f.ranges.length;h++)rf(f.ranges[h].anchor,b,c,d),rf(f.ranges[h].head,b,c,d)}else{for(h=0;h<f.changes.length;++h){var l=f.changes[h];if(c<l.from.line)l.from=ba(l.from.line+d,l.from.ch),l.to=ba(l.to.line+d,l.to.ch);else if(b<=l.to.line){g=!1;break}}g||(a.splice(0,e+1),e=0)}}}function Pd(a,b){var c=b.from.line,d=b.to.line,e=b.text.length-(d-c)-1;nc(a.done,c,d,e);nc(a.undone,c,d,e)}function sf(a){return null!=a.defaultPrevented?a.defaultPrevented:!1==a.returnValue}
function tf(a){var b=a.which;null==b&&(a.button&1?b=1:a.button&2?b=3:a.button&4&&(b=2));db&&(a.ctrlKey&&1==b)&&(b=3);return b}function Ga(a,b){function c(a){return function(){a.apply(null,e)}}var d=a._handlers&&a._handlers[b];if(d){var e=Array.prototype.slice.call(arguments,2),f;oc?f=oc.delayedCallbacks:Oc?f=Oc:(f=Oc=[],setTimeout(Tg,0));for(var g=0;g<d.length;++g)f.push(c(d[g]))}}function Tg(){var a=Oc;Oc=null;for(var b=0;b<a.length;++b)a[b]()}function Jb(a,b,c){Ka(a,c||b.type,a,b);return sf(b)||
b.codemirrorIgnore}function ag(a){var b=a._handlers&&a._handlers.cursorActivity;if(b){a=a.curOp.cursorActivityHandlers||(a.curOp.cursorActivityHandlers=[]);for(var c=0;c<b.length;++c)-1==Ja(a,b[c])&&a.push(b[c])}}function Ab(a,b){var c=a._handlers&&a._handlers[b];return c&&0<c.length}function dd(a){a.prototype.on=function(a,b){na(this,a,b)};a.prototype.off=function(a,b){Xb(this,a,b)}}function uf(){this.id=null}function bg(a,b,c){for(var d=0,e=0;;){var f=a.indexOf("\t",d);-1==f&&(f=a.length);var g=
f-d;if(f==a.length||e+g>=b)return d+Math.min(g,b-e);e+=f-d;e+=c-e%c;d=f+1;if(e>=b)return d}}function vf(a){for(;tb.length<=a;)tb.push(wa(tb)+" ");return tb[a]}function wa(a){return a[a.length-1]}function Ja(a,b){for(var c=0;c<a.length;++c)if(a[c]==b)return c;return-1}function ed(a,b){for(var c=[],d=0;d<a.length;d++)c[d]=b(a[d],d);return c}function cg(a,b){var c;Object.create?c=Object.create(a):(c=function(){},c.prototype=a,c=new c);b&&Qd(b,c);return c}function Qd(a,b,c){b||(b={});for(var d in a)if(a.hasOwnProperty(d)&&
(!1!==c||!b.hasOwnProperty(d)))b[d]=a[d];return b}function Kb(a){var b=Array.prototype.slice.call(arguments,1);return function(){return a.apply(null,b)}}function Rd(a,b){return!b?fh(a):-1<b.source.indexOf("\\w")&&fh(a)?!0:b.test(a)}function dg(a){for(var b in a)if(a.hasOwnProperty(b)&&a[b])return!1;return!0}function Sd(a){return 768<=a.charCodeAt(0)&&Le.test(a)}function fa(a,b,c,d){a=document.createElement(a);c&&(a.className=c);d&&(a.style.cssText=d);if("string"==typeof b)a.appendChild(document.createTextNode(b));
else if(b)for(c=0;c<b.length;++c)a.appendChild(b[c]);return a}function Kc(a){for(var b=a.childNodes.length;0<b;--b)a.removeChild(a.firstChild);return a}function kb(a,b){return Kc(a).appendChild(b)}function lb(){return document.activeElement}function Lc(a){return RegExp("\\b"+a+"\\b\\s*")}function cb(a,b){var c=Lc(b);c.test(a.className)&&(a.className=a.className.replace(c,""))}function De(a,b){Lc(b).test(a.className)||(a.className+=" "+b)}function wf(a,b){for(var c=a.split(" "),d=0;d<c.length;d++)c[d]&&
!Lc(c[d]).test(b)&&(b+=" "+c[d]);return b}function eg(a){if(document.body.getElementsByClassName)for(var b=document.body.getElementsByClassName("CodeMirror"),c=0;c<b.length;c++){var d=b[c].CodeMirror;d&&a(d)}}function Ug(){var a;na(window,"resize",function(){null==a&&(a=setTimeout(function(){ee=a=null;eg(Qf)},100))});na(window,"blur",function(){eg(Bd)})}function Vg(a){if(null!=ee)return ee;var b=fa("div",null,null,"width: 50px; height: 50px; overflow-x: scroll");kb(a,b);b.offsetWidth&&(ee=b.offsetHeight-
b.clientHeight);return ee||0}function Wg(a){if(null==Me){var b=fa("span","\u200b");kb(a,fa("span",[b,document.createTextNode("x")]));0!=a.firstChild.offsetHeight&&(Me=1>=b.offsetWidth&&2<b.offsetHeight&&!(ra&&8>ya))}return Me?fa("span","\u200b"):fa("span","\u00a0",null,"display: inline-block; width: 1px; margin-right: -1px")}function Xg(a,b,c,d){if(!a)return d(b,c,"ltr");for(var e=!1,f=0;f<a.length;++f){var g=a[f];if(g.from<c&&g.to>b||b==c&&g.to==b)d(Math.max(g.from,b),Math.min(g.to,c),1==g.level?
"rtl":"ltr"),e=!0}e||d(b,c,"ltr")}function Td(a){return a.level%2?a.from:a.to}function fd(a){return(a=Ib(a))?a[0].level%2?a[0].to:a[0].from:0}function Ee(a){var b=Ib(a);return!b?a.text.length:Td(wa(b))}function fg(a,b){var c=ha(a.doc,b),d=zb(c);d!=c&&(b=xa(d));c=Ib(d);d=!c?0:c[0].level%2?Ee(d):fd(d);return ba(b,d)}function gg(a,b){var c=fg(a,b.line),d=ha(a.doc,c.line),e=Ib(d);return!e||0==e[0].level?(d=Math.max(0,d.text.search(/\S/)),ba(c.line,b.line==c.line&&b.ch<=d&&b.ch?0:d)):c}function xf(a,b){vc=
null;for(var c=0,d;c<a.length;++c){var e=a[c];if(e.from<b&&e.to>b)return c;if(e.from==b||e.to==b)if(null==d)d=c;else{var f;f=e.level;var g=a[d].level,h=a[0].level;f=f==h?!0:g==h?!1:f<g;if(f)return e.from!=e.to&&(vc=d),c;e.from!=e.to&&(vc=c);break}}return d}function Fe(a,b,c,d){if(!d)return b+c;do b+=c;while(0<b&&Sd(a.text.charAt(b)));return b}function yf(a,b,c,d){var e=Ib(a);if(!e)return hg(a,b,c,d);var f=xf(e,b),g=e[f];for(b=Fe(a,b,g.level%2?-c:c,d);;){if(b>g.from&&b<g.to)return b;if(b==g.from||
b==g.to){if(xf(e,b)==f)return b;g=e[f+c];return 0<c==g.level%2?g.to:g.from}g=e[f+=c];if(!g)return null;b=0<c==g.level%2?Fe(a,g.to,-1,d):Fe(a,g.from,1,d)}}function hg(a,b,c,d){b+=c;if(d)for(;0<b&&Sd(a.text.charAt(b));)b+=c;return 0>b||b>a.text.length?null:b}var Mc=/gecko\/\d/i.test(navigator.userAgent),zf=/MSIE \d/.test(navigator.userAgent),Af=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),ra=zf||Af,ya=ra&&(zf?document.documentMode||6:Af[1]),Oa=/WebKit\//.test(navigator.userAgent),
jg=Oa&&/Qt\/\d+\.\d+/.test(navigator.userAgent),ig=/Chrome\//.test(navigator.userAgent),mb=/Opera\//.test(navigator.userAgent),Ge=/Apple Computer/.test(navigator.vendor),Ud=/KHTML\//.test(navigator.userAgent),Yg=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(navigator.userAgent),Zg=/PhantomJS/.test(navigator.userAgent),gd=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),He=gd||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(navigator.userAgent),db=gd||/Mac/.test(navigator.platform),
kg=/win/i.test(navigator.platform),nb=mb&&navigator.userAgent.match(/Version\/(\d*\.\d*)/);nb&&(nb=Number(nb[1]));nb&&15<=nb&&(mb=!1,Oa=!0);var Vd=db&&(jg||mb&&(null==nb||12.11>nb)),Bf=Mc||ra&&9<=ya,Wd=!1,Tb=!1,ba=h.Pos=function(a,b){if(!(this instanceof ba))return new ba(a,b);this.line=a;this.ch=b},pa=h.cmpPos=function(a,b){return a.line-b.line||a.ch-b.ch};I.prototype={primary:function(){return this.ranges[this.primIndex]},equals:function(a){if(a==this)return!0;if(a.primIndex!=this.primIndex||a.ranges.length!=
this.ranges.length)return!1;for(var b=0;b<this.ranges.length;b++){var c=this.ranges[b],d=a.ranges[b];if(0!=pa(c.anchor,d.anchor)||0!=pa(c.head,d.head))return!1}return!0},deepCopy:function(){for(var a=[],b=0;b<this.ranges.length;b++)a[b]=new O(ba(this.ranges[b].anchor.line,this.ranges[b].anchor.ch),ba(this.ranges[b].head.line,this.ranges[b].head.ch));return new I(a,this.primIndex)},somethingSelected:function(){for(var a=0;a<this.ranges.length;a++)if(!this.ranges[a].empty())return!0;return!1},contains:function(a,
b){b||(b=a);for(var c=0;c<this.ranges.length;c++){var d=this.ranges[c];if(0<=pa(b,d.from())&&0>=pa(a,d.to()))return c}return-1}};O.prototype={from:function(){return N(this.anchor,this.head)},to:function(){return L(this.anchor,this.head)},empty:function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch}};var Xd={left:0,right:0,top:0,bottom:0},ab,oc=null,Ie=0,Nc=null,Yd,Zd,$d=0,ae=0,ob=null;ra?ob=-0.53:Mc?ob=15:ig?ob=-0.7:Ge&&(ob=-1/3);var Cf,Je=null,Ub=h.changeEnd=function(a){return!a.text?
a.to:ba(a.from.line+a.text.length-1,wa(a.text).length+(1==a.text.length?a.from.ch:0))};h.prototype={constructor:h,focus:function(){window.focus();bb(this);xd(this)},setOption:function(a,b){var c=this.options,d=c[a];c[a]==b&&"mode"!=a||(c[a]=b,hd.hasOwnProperty(a)&&Da(this,hd[a])(this,b,d))},getOption:function(a){return this.options[a]},getDoc:function(){return this.doc},addKeyMap:function(a,b){this.state.keyMaps[b?"push":"unshift"](a)},removeKeyMap:function(a){for(var b=this.state.keyMaps,c=0;c<b.length;++c)if(b[c]==
a||"string"!=typeof b[c]&&b[c].name==a)return b.splice(c,1),!0},addOverlay:Ea(function(a,b){var c=a.token?a:h.getMode(this.options,a);if(c.startState)throw Error("Overlays may not be stateful.");this.state.overlays.push({mode:c,modeSpec:a,opaque:b&&b.opaque});this.state.modeGen++;hb(this)}),removeOverlay:Ea(function(a){for(var b=this.state.overlays,c=0;c<b.length;++c){var d=b[c].modeSpec;if(d==a||"string"==typeof a&&d.name==a){b.splice(c,1);this.state.modeGen++;hb(this);break}}}),indentLine:Ea(function(a,
b,c){"string"!=typeof b&&"number"!=typeof b&&(b=null==b?this.options.smartIndent?"smart":"prev":b?"add":"subtract");Y(this.doc,a)&&Gd(this,a,b,c)}),indentSelection:Ea(function(a){for(var b=this.doc.sel.ranges,c=-1,d=0;d<b.length;d++){var e=b[d];if(e.empty())e.head.line>c&&(Gd(this,e.head.line,a,!0),c=e.head.line,d==this.doc.sel.primIndex&&Cc(this));else{for(var f=e.from(),e=e.to(),g=Math.max(c,f.line),c=Math.min(this.lastLine(),e.line-(e.ch?0:1))+1,e=g;e<c;++e)Gd(this,e,a);e=this.doc.sel.ranges;0==
f.ch&&(b.length==e.length&&0<e[d].from().ch)&&ma(this.doc,d,new O(f,e[d].to()),sc)}}}),getTokenAt:function(a,b){var c=this.doc;a=T(c,a);for(var d=Na(this,a.line,b),e=this.doc.mode,c=ha(c,a.line),c=new od(c.text,this.options.tabSize);c.pos<a.ch&&!c.eol();){c.start=c.pos;var f=Md(e,c,d)}return{start:c.start,end:c.pos,string:c.current(),type:f||null,state:d}},getTokenTypeAt:function(a){a=T(this.doc,a);var b=Xf(this,ha(this.doc,a.line)),c=0,d=(b.length-1)/2;a=a.ch;var e;if(0==a)e=b[2];else for(;;){var f=
c+d>>1;if((f?b[2*f-1]:0)>=a)d=f;else if(b[2*f+1]<a)c=f+1;else{e=b[2*f+2];break}}b=e?e.indexOf("cm-overlay "):-1;return 0>b?e:0==b?null:e.slice(0,b-1)},getModeAt:function(a){var b=this.doc.mode;return!b.innerMode?b:h.innerMode(b,this.getTokenAt(a).state).mode},getHelper:function(a,b){return this.getHelpers(a,b)[0]},getHelpers:function(a,b){var c=[];if(!pc.hasOwnProperty(b))return pc;var d=pc[b],e=this.getModeAt(a);if("string"==typeof e[b])d[e[b]]&&c.push(d[e[b]]);else if(e[b])for(var f=0;f<e[b].length;f++){var g=
d[e[b][f]];g&&c.push(g)}else e.helperType&&d[e.helperType]?c.push(d[e.helperType]):d[e.name]&&c.push(d[e.name]);for(f=0;f<d._global.length;f++)g=d._global[f],g.pred(e,this)&&-1==Ja(c,g.val)&&c.push(g.val);return c},getStateAfter:function(a,b){var c=this.doc;a=Math.max(c.first,Math.min(null==a?c.first+c.size-1:a,c.first+c.size-1));return Na(this,a+1,b)},cursorCoords:function(a,b){var c;c=this.doc.sel.primary();c=null==a?c.head:"object"==typeof a?T(this.doc,a):a?c.from():c.to();return gb(this,c,b||
"page")},charCoords:function(a,b){return vb(this,T(this.doc,a),b||"page")},coordsChar:function(a,b){a=ec(this,a,b||"page");return td(this,a.left,a.top)},lineAtHeight:function(a,b){a=ec(this,{top:a,left:0},b||"page").top;return mc(this.doc,a+this.display.viewOffset)},heightAtLine:function(a,b){var c=!1,d=this.doc.first+this.doc.size-1;a<this.doc.first?a=this.doc.first:a>d&&(a=d,c=!0);d=ha(this.doc,a);return dc(this,d,{top:0,left:0},b||"page").top+(c?this.doc.height-jb(d):0)},defaultTextHeight:function(){return Ta(this.display)},
defaultCharWidth:function(){return wb(this.display)},setGutterMarker:Ea(function(a,b,c){return pe(this.doc,a,"gutter",function(a){var d=a.gutterMarkers||(a.gutterMarkers={});d[b]=c;!c&&dg(d)&&(a.gutterMarkers=null);return!0})}),clearGutter:Ea(function(a){var b=this,c=b.doc,d=c.first;c.iter(function(c){c.gutterMarkers&&c.gutterMarkers[a]&&(c.gutterMarkers[a]=null,Ob(b,d,"gutter"),dg(c.gutterMarkers)&&(c.gutterMarkers=null));++d})}),addLineWidget:Ea(function(a,b,c){return Ld(this,a,b,c)}),removeLineWidget:function(a){a.clear()},
lineInfo:function(a){if("number"==typeof a){if(!Y(this.doc,a))return null;var b=a;a=ha(this.doc,a);if(!a)return null}else if(b=xa(a),null==b)return null;return{line:b,handle:a,text:a.text,gutterMarkers:a.gutterMarkers,textClass:a.textClass,bgClass:a.bgClass,wrapClass:a.wrapClass,widgets:a.widgets}},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(a,b,c,d,e){var f=this.display;a=gb(this,T(this.doc,a));var g=a.bottom,h=a.left;b.style.position="absolute";
f.sizer.appendChild(b);if("over"==d)g=a.top;else if("above"==d||"near"==d){var l=Math.max(f.wrapper.clientHeight,this.doc.height),k=Math.max(f.sizer.clientWidth,f.lineSpace.clientWidth);("above"==d||a.bottom+b.offsetHeight>l)&&a.top>b.offsetHeight?g=a.top-b.offsetHeight:a.bottom+b.offsetHeight<=l&&(g=a.bottom);h+b.offsetWidth>k&&(h=k-b.offsetWidth)}b.style.top=g+"px";b.style.left=b.style.right="";"right"==e?(h=f.sizer.clientWidth-b.offsetWidth,b.style.right="0px"):("left"==e?h=0:"middle"==e&&(h=(f.sizer.clientWidth-
b.offsetWidth)/2),b.style.left=h+"px");c&&(a=Ed(this,h,g,h+b.offsetWidth,g+b.offsetHeight),null!=a.scrollTop&&ic(this,a.scrollTop),null!=a.scrollLeft&&Pb(this,a.scrollLeft))},triggerOnKeyDown:Ea(Ye),triggerOnKeyPress:Ea(Bc),triggerOnKeyUp:Ze,execCommand:function(a){if(ld.hasOwnProperty(a))return ld[a](this)},findPosH:function(a,b,c,d){var e=1;0>b&&(e=-1,b=-b);var f=0;for(a=T(this.doc,a);f<b&&!(a=df(this.doc,a,e,c,d),a.hitSide);++f);return a},moveH:Ea(function(a,b){var c=this;c.extendSelectionsBy(function(d){return c.display.shift||
c.doc.extend||d.empty()?df(c.doc,d.head,a,b,c.options.rtlMoveVisually):0>a?d.from():d.to()},B)}),deleteH:Ea(function(a,b){var c=this.doc;this.doc.sel.somethingSelected()?c.replaceSelection("",null,"+delete"):Dc(this,function(d){var e=df(c,d.head,a,b,!1);return 0>a?{from:e,to:d.head}:{from:d.head,to:e}})}),findPosV:function(a,b,c,d){var e=1;0>b&&(e=-1,b=-b);var f=0;for(a=T(this.doc,a);f<b&&!(a=gb(this,a,"div"),null==d?d=a.left:a.left=d,a=ef(this,a,e,c),a.hitSide);++f);return a},moveV:Ea(function(a,
b){var c=this,d=this.doc,e=[],f=!c.display.shift&&!d.extend&&d.sel.somethingSelected();d.extendSelectionsBy(function(g){if(f)return 0>a?g.from():g.to();var h=gb(c,g.head,"div");null!=g.goalColumn&&(h.left=g.goalColumn);e.push(h.left);var l=ef(c,h,a,b);"page"==b&&g==d.sel.primary()&&Gb(c,null,vb(c,l,"div").top-h.top);return l},B);if(e.length)for(var g=0;g<d.sel.ranges.length;g++)d.sel.ranges[g].goalColumn=e[g]}),toggleOverwrite:function(a){null!=a&&a==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?
De(this.display.cursorDiv,"CodeMirror-overwrite"):cb(this.display.cursorDiv,"CodeMirror-overwrite"),Ka(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return lb()==this.display.input},scrollTo:Ea(function(a,b){(null!=a||null!=b)&&Fd(this);null!=a&&(this.curOp.scrollLeft=a);null!=b&&(this.curOp.scrollTop=b)}),getScrollInfo:function(){var a=this.display.scroller,b=eb;return{left:a.scrollLeft,top:a.scrollTop,height:a.scrollHeight-b,width:a.scrollWidth-b,clientHeight:a.clientHeight-
b,clientWidth:a.clientWidth-b}},scrollIntoView:Ea(function(a,b){null==a?(a={from:this.doc.sel.primary().head,to:null},null==b&&(b=this.options.cursorScrollMargin)):"number"==typeof a?a={from:ba(a,0),to:null}:null==a.from&&(a={from:a,to:null});a.to||(a.to=a.from);a.margin=b||0;if(null!=a.from.line)Fd(this),this.curOp.scrollToPos=a;else{var c=Ed(this,Math.min(a.from.left,a.to.left),Math.min(a.from.top,a.to.top)-a.margin,Math.max(a.from.right,a.to.right),Math.max(a.from.bottom,a.to.bottom)+a.margin);
this.scrollTo(c.scrollLeft,c.scrollTop)}}),setSize:Ea(function(a,b){function c(a){return"number"==typeof a||/^\d+$/.test(String(a))?a+"px":a}var d=this;null!=a&&(d.display.wrapper.style.width=c(a));null!=b&&(d.display.wrapper.style.height=c(b));d.options.lineWrapping&&sa(this);var e=d.display.viewFrom;d.doc.iter(e,d.display.viewTo,function(a){if(a.widgets)for(var b=0;b<a.widgets.length;b++)if(a.widgets[b].noHScroll){Ob(d,e,"widget");break}++e});d.curOp.forceUpdate=!0;Ka(d,"refresh",this)}),operation:function(a){return Aa(this,
a)},refresh:Ea(function(){var a=this.display.cachedTextHeight;hb(this);this.curOp.forceUpdate=!0;ub(this);this.scrollTo(this.doc.scrollLeft,this.doc.scrollTop);m(this);(null==a||0.5<Math.abs(a-Ta(this.display)))&&c(this);Ka(this,"refresh",this)}),swapDoc:Ea(function(a){var b=this.doc;b.cm=null;Nd(this,a);ub(this);Cb(this);this.scrollTo(a.scrollLeft,a.scrollTop);Ga(this,"swapDoc",this,b);return b}),getInputField:function(){return this.display.input},getWrapperElement:function(){return this.display.wrapper},
getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}};dd(h);var $g=h.defaults={},hd=h.optionHandlers={},lg=h.Init={toString:function(){return"CodeMirror.Init"}};la("value","",function(a,b){a.setValue(b)},!0);la("mode",null,function(a,b){a.doc.modeOption=b;d(a)},!0);la("indentUnit",2,d,!0);la("indentWithTabs",!1);la("smartIndent",!0);la("tabSize",4,function(a){g(a);ub(a);hb(a)},!0);la("specialChars",/[\t\u0000-\u0019\u00ad\u200b-\u200f\u2028\u2029\ufeff]/g,
function(a,b){a.options.specialChars=RegExp(b.source+(b.test("\t")?"":"|\t"),"g");a.refresh()},!0);la("specialCharPlaceholder",function(a){var b=fa("span","\u2022","cm-invalidchar");b.title="\\u"+a.charCodeAt(0).toString(16);return b},function(a){a.refresh()},!0);la("electricChars",!0);la("rtlMoveVisually",!kg);la("wholeLineUpdateBefore",!0);la("theme","default",function(a){l(a);e(a)},!0);la("keyMap","default",f);la("extraKeys",null);la("lineWrapping",!1,function(a){a.options.lineWrapping?(De(a.display.wrapper,
"CodeMirror-wrap"),a.display.sizer.style.minWidth=""):(cb(a.display.wrapper,"CodeMirror-wrap"),p(a));c(a);hb(a);ub(a);setTimeout(function(){r(a)},100)},!0);la("gutters",[],function(a){t(a.options);e(a)},!0);la("fixedGutter",!0,function(a,b){a.display.gutters.style.left=b?u(a.display)+"px":"0";a.refresh()},!0);la("coverGutterNextToScrollbar",!1,r,!0);la("lineNumbers",!1,function(a){t(a.options);e(a)},!0);la("firstLineNumber",1,e,!0);la("lineNumberFormatter",function(a){return a},e,!0);la("showCursorWhenSelecting",
!1,$b,!0);la("resetSelectionOnContextMenu",!0);la("readOnly",!1,function(a,b){"nocursor"==b?(Bd(a),a.display.input.blur(),a.display.disabled=!0):(a.display.disabled=!1,b||Cb(a))});la("disableInput",!1,function(a,b){b||Cb(a)},!0);la("dragDrop",!0);la("cursorBlinkRate",530);la("cursorScrollMargin",0);la("cursorHeight",1,$b,!0);la("singleCursorHeightPerLine",!0,$b,!0);la("workTime",100);la("workDelay",100);la("flattenSpans",!0,g,!0);la("addModeClass",!1,g,!0);la("pollInterval",100);la("undoDepth",200,
function(a,b){a.doc.history.undoDepth=b});la("historyEventDelay",1250);la("viewportMargin",10,function(a){a.refresh()},!0);la("maxHighlightLength",1E4,g,!0);la("moveInputWithCursor",!0,function(a,b){b||(a.display.inputDiv.style.top=a.display.inputDiv.style.left=0)});la("tabindex",null,function(a,b){a.display.input.tabIndex=b||""});la("autofocus",null);var Df=h.modes={},jd=h.mimeModes={};h.defineMode=function(a,b){!h.defaults.mode&&"null"!=a&&(h.defaults.mode=a);if(2<arguments.length){b.dependencies=
[];for(var c=2;c<arguments.length;++c)b.dependencies.push(arguments[c])}Df[a]=b};h.defineMIME=function(a,b){jd[a]=b};h.resolveMode=function(a){if("string"==typeof a&&jd.hasOwnProperty(a))a=jd[a];else if(a&&"string"==typeof a.name&&jd.hasOwnProperty(a.name)){var b=jd[a.name];"string"==typeof b&&(b={name:b});a=cg(b,a);a.name=b.name}else if("string"==typeof a&&/^[\w\-]+\/[\w\-]+\+xml$/.test(a))return h.resolveMode("application/xml");return"string"==typeof a?{name:a}:a||{name:"null"}};h.getMode=function(a,
b){b=h.resolveMode(b);var c=Df[b.name];if(!c)return h.getMode(a,"text/plain");c=c(a,b);if(be.hasOwnProperty(b.name)){var d=be[b.name],e;for(e in d)d.hasOwnProperty(e)&&(c.hasOwnProperty(e)&&(c["_"+e]=c[e]),c[e]=d[e])}c.name=b.name;b.helperType&&(c.helperType=b.helperType);if(b.modeProps)for(e in b.modeProps)c[e]=b.modeProps[e];return c};h.defineMode("null",function(){return{token:function(a){a.skipToEnd()}}});h.defineMIME("text/plain","null");var be=h.modeExtensions={};h.extendMode=function(a,b){var c=
be.hasOwnProperty(a)?be[a]:be[a]={};Qd(b,c)};h.defineExtension=function(a,b){h.prototype[a]=b};h.defineDocExtension=function(a,b){Wa.prototype[a]=b};h.defineOption=la;var kd=[];h.defineInitHook=function(a){kd.push(a)};var pc=h.helpers={};h.registerHelper=function(a,b,c){pc.hasOwnProperty(a)||(pc[a]=h[a]={_global:[]});pc[a][b]=c};h.registerGlobalHelper=function(a,b,c,d){h.registerHelper(a,b,d);pc[a]._global.push({pred:c,val:d})};var Pa=h.copyState=function(a,b){if(!0===b)return b;if(a.copyState)return a.copyState(b);
var c={},d;for(d in b){var e=b[d];e instanceof Array&&(e=e.concat([]));c[d]=e}return c},Ef=h.startState=function(a,b,c){return a.startState?a.startState(b,c):!0};h.innerMode=function(a,b){for(;a.innerMode;){var c=a.innerMode(b);if(!c||c.mode==a)break;b=c.state;a=c.mode}return c||{mode:a,state:b}};var ld=h.commands={selectAll:function(a){a.setSelection(ba(a.firstLine(),0),ba(a.lastLine()),sc)},singleSelection:function(a){a.setSelection(a.getCursor("anchor"),a.getCursor("head"),sc)},killLine:function(a){Dc(a,
function(b){if(b.empty()){var c=ha(a.doc,b.head.line).text.length;return b.head.ch==c&&b.head.line<a.lastLine()?{from:b.head,to:ba(b.head.line+1,0)}:{from:b.head,to:ba(b.head.line,c)}}return{from:b.from(),to:b.to()}})},deleteLine:function(a){Dc(a,function(b){return{from:ba(b.from().line,0),to:T(a.doc,ba(b.to().line+1,0))}})},delLineLeft:function(a){Dc(a,function(a){return{from:ba(a.from().line,0),to:a.from()}})},delWrappedLineLeft:function(a){Dc(a,function(b){var c=a.charCoords(b.head,"div").top+
5;return{from:a.coordsChar({left:0,top:c},"div"),to:b.from()}})},delWrappedLineRight:function(a){Dc(a,function(b){var c=a.charCoords(b.head,"div").top+5,c=a.coordsChar({left:a.display.lineDiv.offsetWidth+100,top:c},"div");return{from:b.from(),to:c}})},undo:function(a){a.undo()},redo:function(a){a.redo()},undoSelection:function(a){a.undoSelection()},redoSelection:function(a){a.redoSelection()},goDocStart:function(a){a.extendSelection(ba(a.firstLine(),0))},goDocEnd:function(a){a.extendSelection(ba(a.lastLine()))},
goLineStart:function(a){a.extendSelectionsBy(function(b){return fg(a,b.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(a){a.extendSelectionsBy(function(b){return gg(a,b.head)},{origin:"+move",bias:1})},goLineEnd:function(a){a.extendSelectionsBy(function(b){b=b.head.line;for(var c,d=ha(a.doc,b);c=Fc(d,!1);)d=c.find(1,!0).line,b=null;c=Ib(d);c=!c?d.text.length:c[0].level%2?fd(d):Ee(d);return ba(null==b?xa(d):b,c)},{origin:"+move",bias:-1})},goLineRight:function(a){a.extendSelectionsBy(function(b){b=
a.charCoords(b.head,"div").top+5;return a.coordsChar({left:a.display.lineDiv.offsetWidth+100,top:b},"div")},B)},goLineLeft:function(a){a.extendSelectionsBy(function(b){b=a.charCoords(b.head,"div").top+5;return a.coordsChar({left:0,top:b},"div")},B)},goLineLeftSmart:function(a){a.extendSelectionsBy(function(b){var c=a.charCoords(b.head,"div").top+5,c=a.coordsChar({left:0,top:c},"div");return c.ch<a.getLine(c.line).search(/\S/)?gg(a,b.head):c},B)},goLineUp:function(a){a.moveV(-1,"line")},goLineDown:function(a){a.moveV(1,
"line")},goPageUp:function(a){a.moveV(-1,"page")},goPageDown:function(a){a.moveV(1,"page")},goCharLeft:function(a){a.moveH(-1,"char")},goCharRight:function(a){a.moveH(1,"char")},goColumnLeft:function(a){a.moveH(-1,"column")},goColumnRight:function(a){a.moveH(1,"column")},goWordLeft:function(a){a.moveH(-1,"word")},goGroupRight:function(a){a.moveH(1,"group")},goGroupLeft:function(a){a.moveH(-1,"group")},goWordRight:function(a){a.moveH(1,"word")},delCharBefore:function(a){a.deleteH(-1,"char")},delCharAfter:function(a){a.deleteH(1,
"char")},delWordBefore:function(a){a.deleteH(-1,"word")},delWordAfter:function(a){a.deleteH(1,"word")},delGroupBefore:function(a){a.deleteH(-1,"group")},delGroupAfter:function(a){a.deleteH(1,"group")},indentAuto:function(a){a.indentSelection("smart")},indentMore:function(a){a.indentSelection("add")},indentLess:function(a){a.indentSelection("subtract")},insertTab:function(a){a.replaceSelection("\t")},insertSoftTab:function(a){for(var b=[],c=a.listSelections(),d=a.options.tabSize,e=0;e<c.length;e++){var f=
c[e].from(),f=rb(a.getLine(f.line),f.ch,d);b.push(Array(d-f%d+1).join(" "))}a.replaceSelections(b)},defaultTab:function(a){a.somethingSelected()?a.indentSelection("add"):a.execCommand("insertTab")},transposeChars:function(a){Aa(a,function(){for(var b=a.listSelections(),c=[],d=0;d<b.length;d++){var e=b[d].head,f=ha(a.doc,e.line).text;if(f)if(e.ch==f.length&&(e=new ba(e.line,e.ch-1)),0<e.ch)e=new ba(e.line,e.ch+1),a.replaceRange(f.charAt(e.ch-1)+f.charAt(e.ch-2),ba(e.line,e.ch-2),e,"+transpose");else if(e.line>
a.doc.first){var g=ha(a.doc,e.line-1).text;g&&a.replaceRange(f.charAt(0)+"\n"+g.charAt(g.length-1),ba(e.line-1,g.length-1),ba(e.line,1),"+transpose")}c.push(new O(e,e))}a.setSelections(c)})},newlineAndIndent:function(a){Aa(a,function(){for(var b=a.listSelections().length,c=0;c<b;c++){var d=a.listSelections()[c];a.replaceRange("\n",d.anchor,d.head,"+input");a.indentLine(d.from().line+1,null,!0);Cc(a)}})},toggleOverwrite:function(a){a.toggleOverwrite()}},pb=h.keyMap={};pb.basic={Left:"goCharLeft",Right:"goCharRight",
Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"};pb.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-Up":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Down":"goDocEnd",
"Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"};pb.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo",
"Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft",
"Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection",fallthrough:["basic","emacsy"]};pb.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars"};
pb["default"]=db?pb.macDefault:pb.pcDefault;var md=h.lookupKey=function(a,b,c){function d(b){b=Dd(b);var e=b[a];if(!1===e)return"stop";if(null!=e&&c(e))return!0;if(b.nofallthrough)return"stop";b=b.fallthrough;if(null==b)return!1;if("[object Array]"!=Object.prototype.toString.call(b))return d(b);for(e=0;e<b.length;++e){var f=d(b[e]);if(f)return f}return!1}for(var e=0;e<b.length;++e){var f=d(b[e]);if(f)return"stop"!=f}},mg=h.isModifierKey=function(a){a=sb[a.keyCode];return"Ctrl"==a||"Alt"==a||"Shift"==
a||"Mod"==a},qb=h.keyName=function(a,b){if(mb&&34==a.keyCode&&a["char"])return!1;var c=sb[a.keyCode];if(null==c||a.altGraphKey)return!1;a.altKey&&(c="Alt-"+c);if(Vd?a.metaKey:a.ctrlKey)c="Ctrl-"+c;if(Vd?a.ctrlKey:a.metaKey)c="Cmd-"+c;!b&&a.shiftKey&&(c="Shift-"+c);return c};h.fromTextArea=function(a,b){function c(){a.value=k.getValue()}b||(b={});b.value=a.value;!b.tabindex&&a.tabindex&&(b.tabindex=a.tabindex);!b.placeholder&&a.placeholder&&(b.placeholder=a.placeholder);if(null==b.autofocus){var d=
lb();b.autofocus=d==a||null!=a.getAttribute("autofocus")&&d==document.body}if(a.form&&(na(a.form,"submit",c),!b.leaveSubmitMethodAlone)){var e=a.form,f=e.submit;try{var g=e.submit=function(){c();e.submit=f;e.submit();e.submit=g}}catch(l){}}a.style.display="none";var k=h(function(b){a.parentNode.insertBefore(b,a.nextSibling)},b);k.save=c;k.getTextArea=function(){return a};k.toTextArea=function(){c();a.parentNode.removeChild(k.getWrapperElement());a.style.display="";a.form&&(Xb(a.form,"submit",c),"function"==
typeof a.form.submit&&(a.form.submit=f))};return k};var od=h.StringStream=function(a,b){this.pos=this.start=0;this.string=a;this.tabSize=b||8;this.lineStart=this.lastColumnPos=this.lastColumnValue=0};od.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==this.lineStart},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},eat:function(a){var b=this.string.charAt(this.pos);
if("string"==typeof a?b==a:b&&(a.test?a.test(b):a(b)))return++this.pos,b},eatWhile:function(a){for(var b=this.pos;this.eat(a););return this.pos>b},eatSpace:function(){for(var a=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>a},skipToEnd:function(){this.pos=this.string.length},skipTo:function(a){a=this.string.indexOf(a,this.pos);if(-1<a)return this.pos=a,!0},backUp:function(a){this.pos-=a},column:function(){this.lastColumnPos<this.start&&(this.lastColumnValue=
rb(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start);return this.lastColumnValue-(this.lineStart?rb(this.string,this.lineStart,this.tabSize):0)},indentation:function(){return rb(this.string,null,this.tabSize)-(this.lineStart?rb(this.string,this.lineStart,this.tabSize):0)},match:function(a,b,c){if("string"==typeof a){var d=this.string.substr(this.pos,a.length);if((c?d.toLowerCase():d)==(c?a.toLowerCase():a))return!1!==b&&(this.pos+=a.length),
!0}else{if((a=this.string.slice(this.pos).match(a))&&0<a.index)return null;a&&!1!==b&&(this.pos+=a[0].length);return a}},current:function(){return this.string.slice(this.start,this.pos)},hideFirstChars:function(a,b){this.lineStart+=a;try{return b()}finally{this.lineStart-=a}}};var Vb=h.TextMarker=function(a,b){this.lines=[];this.type=b;this.doc=a};dd(Vb);Vb.prototype.clear=function(){if(!this.explicitlyCleared){var a=this.doc.cm,b=a&&!a.curOp;b&&Nb(a);if(Ab(this,"clear")){var c=this.find();c&&Ga(this,
"clear",c.from,c.to)}for(var d=c=null,e=0;e<this.lines.length;++e){var f=this.lines[e],g=Zc(f.markedSpans,this);a&&!this.collapsed?Ob(a,xa(f),"text"):a&&(null!=g.to&&(d=xa(f)),null!=g.from&&(c=xa(f)));for(var h=f,l=f.markedSpans,k=g,m=void 0,p=0;p<l.length;++p)l[p]!=k&&(m||(m=[])).push(l[p]);h.markedSpans=m;null==g.from&&(this.collapsed&&!lc(this.doc,f)&&a)&&Za(f,Ta(a.display))}if(a&&this.collapsed&&!a.options.lineWrapping)for(e=0;e<this.lines.length;++e)f=zb(this.lines[e]),g=n(f),g>a.display.maxLineLength&&
(a.display.maxLine=f,a.display.maxLineLength=g,a.display.maxLineChanged=!0);null!=c&&(a&&this.collapsed)&&hb(a,c,d+1);this.lines.length=0;this.explicitlyCleared=!0;this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,a&&Xa(a.doc));a&&Ga(a,"markerCleared",a,this);b&&Sc(a);this.parent&&this.parent.clear()}};Vb.prototype.find=function(a,b){null==a&&"bookmark"==this.type&&(a=1);for(var c,d,e=0;e<this.lines.length;++e){var f=this.lines[e],g=Zc(f.markedSpans,this);if(null!=g.from&&(c=ba(b?f:xa(f),g.from),
-1==a))return c;if(null!=g.to&&(d=ba(b?f:xa(f),g.to),1==a))return d}return c&&{from:c,to:d}};Vb.prototype.changed=function(){var a=this.find(-1,!0),b=this,c=this.doc.cm;a&&c&&Aa(c,function(){var d=a.line,e=xa(a.line);if(e=Zb(c,e))bc(e),c.curOp.selectionChanged=c.curOp.forceUpdate=!0;c.curOp.updateMaxLine=!0;!lc(b.doc,d)&&null!=b.height&&(e=b.height,b.height=null,(e=Hb(b)-e)&&Za(d,d.height+e))})};Vb.prototype.attachLine=function(a){if(!this.lines.length&&this.doc.cm){var b=this.doc.cm.curOp;if(!b.maybeHiddenMarkers||
-1==Ja(b.maybeHiddenMarkers,this))(b.maybeUnhiddenMarkers||(b.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(a)};Vb.prototype.detachLine=function(a){this.lines.splice(Ja(this.lines,a),1);!this.lines.length&&this.doc.cm&&(a=this.doc.cm.curOp,(a.maybeHiddenMarkers||(a.maybeHiddenMarkers=[])).push(this))};var ng=0,ce=h.SharedTextMarker=function(a,b){this.markers=a;this.primary=b;for(var c=0;c<a.length;++c)a[c].parent=this};dd(ce);ce.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=
!0;for(var a=0;a<this.markers.length;++a)this.markers[a].clear();Ga(this,"clear")}};ce.prototype.find=function(a,b){return this.primary.find(a,b)};var Ke=h.LineWidget=function(a,b,c){if(c)for(var d in c)c.hasOwnProperty(d)&&(this[d]=c[d]);this.cm=a;this.node=b};dd(Ke);Ke.prototype.clear=function(){var a=this.cm,b=this.line.widgets,c=this.line,d=xa(c);if(null!=d&&b){for(var e=0;e<b.length;++e)b[e]==this&&b.splice(e--,1);b.length||(c.widgets=null);var f=Hb(this);Aa(a,function(){var b=-f;jb(c)<(a.curOp&&
a.curOp.scrollTop||a.doc.scrollTop)&&Gb(a,null,b);Ob(a,d,"widget");Za(c,Math.max(0,c.height-f))})}};Ke.prototype.changed=function(){var a=this.height,b=this.cm,c=this.line;this.height=null;var d=Hb(this)-a;d&&Aa(b,function(){b.curOp.forceUpdate=!0;jb(c)<(b.curOp&&b.curOp.scrollTop||b.doc.scrollTop)&&Gb(b,null,d);Za(c,c.height+d)})};var qc=h.Line=function(a,b,c){this.text=a;se(this,b);this.height=c?c(this):1};dd(qc);qc.prototype.lineNo=function(){return xa(this)};var bh={},ch={};bd.prototype={chunkSize:function(){return this.lines.length},
removeInner:function(a,b){for(var c=a,d=a+b;c<d;++c){var e=this.lines[c];this.height-=e.height;var f=e;f.parent=null;jf(f);Ga(e,"delete")}this.lines.splice(a,b)},collapse:function(a){a.push.apply(a,this.lines)},insertInner:function(a,b,c){this.height+=c;this.lines=this.lines.slice(0,a).concat(b).concat(this.lines.slice(a));for(a=0;a<b.length;++a)b[a].parent=this},iterN:function(a,b,c){for(b=a+b;a<b;++a)if(c(this.lines[a]))return!0}};Sb.prototype={chunkSize:function(){return this.size},removeInner:function(a,
b){this.size-=b;for(var c=0;c<this.children.length;++c){var d=this.children[c],e=d.chunkSize();if(a<e){var f=Math.min(b,e-a),g=d.height;d.removeInner(a,f);this.height-=g-d.height;e==f&&(this.children.splice(c--,1),d.parent=null);if(0==(b-=f))break;a=0}else a-=e}if(25>this.size-b&&(1<this.children.length||!(this.children[0]instanceof bd)))c=[],this.collapse(c),this.children=[new bd(c)],this.children[0].parent=this},collapse:function(a){for(var b=0;b<this.children.length;++b)this.children[b].collapse(a)},
insertInner:function(a,b,c){this.size+=b.length;this.height+=c;for(var d=0;d<this.children.length;++d){var e=this.children[d],f=e.chunkSize();if(a<=f){e.insertInner(a,b,c);if(e.lines&&50<e.lines.length){for(;50<e.lines.length;)a=e.lines.splice(e.lines.length-25,25),a=new bd(a),e.height-=a.height,this.children.splice(d+1,0,a),a.parent=this;this.maybeSpill()}break}a-=f}},maybeSpill:function(){if(!(10>=this.children.length)){var a=this;do{var b=a.children.splice(a.children.length-5,5),b=new Sb(b);if(a.parent){a.size-=
b.size;a.height-=b.height;var c=Ja(a.parent.children,a);a.parent.children.splice(c+1,0,b)}else c=new Sb(a.children),c.parent=a,a.children=[c,b],a=c;b.parent=a.parent}while(10<a.children.length);a.parent.maybeSpill()}},iterN:function(a,b,c){for(var d=0;d<this.children.length;++d){var e=this.children[d],f=e.chunkSize();if(a<f){f=Math.min(b,f-a);if(e.iterN(a,f,c))return!0;if(0==(b-=f))break;a=0}else a-=f}}};var dh=0,Wa=h.Doc=function(a,b,c){if(!(this instanceof Wa))return new Wa(a,b,c);null==c&&(c=0);
Sb.call(this,[new bd([new qc("",null)])]);this.first=c;this.scrollTop=this.scrollLeft=0;this.cantEdit=!1;this.cleanGeneration=1;this.frontier=c;c=ba(c,0);this.sel=U(c);this.history=new Ae(null);this.id=++dh;this.modeOption=b;"string"==typeof a&&(a=uc(a));of(this,{from:c,to:c,text:a});va(this,U(c),sc)};Wa.prototype=cg(Sb.prototype,{constructor:Wa,iter:function(a,b,c){c?this.iterN(a-this.first,b-a,c):this.iterN(this.first,this.first+this.size,a)},insert:function(a,b){for(var c=0,d=0;d<b.length;++d)c+=
b[d].height;this.insertInner(a-this.first,b,c)},remove:function(a,b){this.removeInner(a-this.first,b)},getValue:function(a){var b=ad(this,this.first,this.first+this.size);return!1===a?b:b.join(a||"\n")},setValue:Va(function(a){var b=ba(this.first,0),c=this.first+this.size-1;Wc(this,{from:b,to:ba(c,ha(this,c).text.length),text:uc(a),origin:"setValue"},!0);va(this,U(b))}),replaceRange:function(a,b,c,d){b=T(this,b);c=c?T(this,c):b;oe(this,a,b,c,d)},getRange:function(a,b,c){a=Jc(this,T(this,a),T(this,
b));return!1===c?a:a.join(c||"\n")},getLine:function(a){return(a=this.getLineHandle(a))&&a.text},getLineHandle:function(a){if(Y(this,a))return ha(this,a)},getLineNumber:function(a){return xa(a)},getLineHandleVisualStart:function(a){"number"==typeof a&&(a=ha(this,a));return zb(a)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(a){return T(this,a)},getCursor:function(a){var b=this.sel.primary();return null==
a||"head"==a?b.head:"anchor"==a?b.anchor:"end"==a||"to"==a||!1===a?b.to():b.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Va(function(a,b,c){a=T(this,"number"==typeof a?ba(a,b||0):a);va(this,U(a,null),c)}),setSelection:Va(function(a,b,c){var d=T(this,a);a=T(this,b||a);va(this,U(d,a),c)}),extendSelection:Va(function(a,b,c){$(this,T(this,a),b&&T(this,b),c)}),extendSelections:Va(function(a,b){for(var c=[],d=0;d<a.length;d++)c[d]=
T(this,a[d]);P(this,c)}),extendSelectionsBy:Va(function(a,b){P(this,ed(this.sel.ranges,a),b)}),setSelections:Va(function(a,b,c){if(a.length){for(var d=0,e=[];d<a.length;d++)e[d]=new O(T(this,a[d].anchor),T(this,a[d].head));null==b&&(b=Math.min(a.length-1,this.sel.primIndex));va(this,aa(e,b),c)}}),addSelection:Va(function(a,b,c){var d=this.sel.ranges.slice(0);d.push(new O(T(this,a),T(this,b||a)));va(this,aa(d,d.length-1),c)}),getSelection:function(a){for(var b=this.sel.ranges,c,d=0;d<b.length;d++){var e=
Jc(this,b[d].from(),b[d].to());c=c?c.concat(e):e}return!1===a?c:c.join(a||"\n")},getSelections:function(a){for(var b=[],c=this.sel.ranges,d=0;d<c.length;d++){var e=Jc(this,c[d].from(),c[d].to());!1!==a&&(e=e.join(a||"\n"));b[d]=e}return b},replaceSelection:function(a,b,c){for(var d=[],e=0;e<this.sel.ranges.length;e++)d[e]=a;this.replaceSelections(d,b,c||"+input")},replaceSelections:Va(function(a,b,c){for(var d=[],e=this.sel,f=0;f<e.ranges.length;f++){var g=e.ranges[f];d[f]={from:g.from(),to:g.to(),
text:uc(a[f]),origin:c}}if(f=b)if(f="end"!=b){f=[];c=a=ba(this.first,0);for(e=0;e<d.length;e++){var h=d[e],g=bf(h.from,a,c),l=bf(Ub(h),a,c);a=h.to;c=l;"around"==b?(h=this.sel.ranges[e],h=0>pa(h.head,h.anchor),f[e]=new O(h?l:g,h?g:l)):f[e]=new O(g,g)}f=new I(f,this.sel.primIndex)}b=f;for(f=d.length-1;0<=f;f--)Wc(this,d[f]);b?tc(this,b):this.cm&&Cc(this.cm)}),undo:Va(function(){Cd(this,"undo")}),redo:Va(function(){Cd(this,"redo")}),undoSelection:Va(function(){Cd(this,"undo",!0)}),redoSelection:Va(function(){Cd(this,
"redo",!0)}),setExtending:function(a){this.extend=a},getExtending:function(){return this.extend},historySize:function(){for(var a=this.history,b=0,c=0,d=0;d<a.done.length;d++)a.done[d].ranges||++b;for(d=0;d<a.undone.length;d++)a.undone[d].ranges||++c;return{undo:b,redo:c}},clearHistory:function(){this.history=new Ae(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(a){a&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=
null);return this.history.generation},isClean:function(a){return this.history.generation==(a||this.cleanGeneration)},getHistory:function(){return{done:$a(this.history.done),undone:$a(this.history.undone)}},setHistory:function(a){var b=this.history=new Ae(this.history.maxGeneration);b.done=$a(a.done.slice(0),null,!0);b.undone=$a(a.undone.slice(0),null,!0)},addLineClass:Va(function(a,b,c){return pe(this,a,"class",function(a){var d="text"==b?"textClass":"background"==b?"bgClass":"wrapClass";if(a[d]){if(RegExp("(?:^|\\s)"+
c+"(?:$|\\s)").test(a[d]))return!1;a[d]+=" "+c}else a[d]=c;return!0})}),removeLineClass:Va(function(a,b,c){return pe(this,a,"class",function(a){var d="text"==b?"textClass":"background"==b?"bgClass":"wrapClass",e=a[d];if(e)if(null==c)a[d]=null;else{var f=e.match(RegExp("(?:^|\\s+)"+c+"(?:$|\\s+)"));if(!f)return!1;var g=f.index+f[0].length;a[d]=e.slice(0,f.index)+(!f.index||g==e.length?"":" ")+e.slice(g)||null}else return!1;return!0})}),markText:function(a,b,c){return Ec(this,T(this,a),T(this,b),c,
"range")},setBookmark:function(a,b){var c={replacedWith:b&&(null==b.nodeType?b.widget:b),insertLeft:b&&b.insertLeft,clearWhenEmpty:!1,shared:b&&b.shared};a=T(this,a);return Ec(this,a,a,c,"bookmark")},findMarksAt:function(a){a=T(this,a);var b=[],c=ha(this,a.line).markedSpans;if(c)for(var d=0;d<c.length;++d){var e=c[d];if((null==e.from||e.from<=a.ch)&&(null==e.to||e.to>=a.ch))b.push(e.marker.parent||e.marker)}return b},findMarks:function(a,b,c){a=T(this,a);b=T(this,b);var d=[],e=a.line;this.iter(a.line,
b.line+1,function(f){if(f=f.markedSpans)for(var g=0;g<f.length;g++){var h=f[g];if(!(e==a.line&&a.ch>h.to||null==h.from&&e!=a.line||e==b.line&&h.from>b.ch)&&(!c||c(h.marker)))d.push(h.marker.parent||h.marker)}++e});return d},getAllMarks:function(){var a=[];this.iter(function(b){if(b=b.markedSpans)for(var c=0;c<b.length;++c)null!=b[c].from&&a.push(b[c].marker)});return a},posFromIndex:function(a){var b,c=this.first;this.iter(function(d){d=d.text.length+1;if(d>a)return b=a,!0;a-=d;++c});return T(this,
ba(c,b))},indexFromPos:function(a){a=T(this,a);var b=a.ch;if(a.line<this.first||0>a.ch)return 0;this.iter(this.first,a.line,function(a){b+=a.text.length+1});return b},copy:function(a){var b=new Wa(ad(this,this.first,this.first+this.size),this.modeOption,this.first);b.scrollTop=this.scrollTop;b.scrollLeft=this.scrollLeft;b.sel=this.sel;b.extend=!1;a&&(b.history.undoDepth=this.history.undoDepth,b.setHistory(this.getHistory()));return b},linkedDoc:function(a){a||(a={});var b=this.first,c=this.first+
this.size;null!=a.from&&a.from>b&&(b=a.from);null!=a.to&&a.to<c&&(c=a.to);b=new Wa(ad(this,b,c),a.mode||this.modeOption,b);a.sharedHist&&(b.history=this.history);(this.linked||(this.linked=[])).push({doc:b,sharedHist:a.sharedHist});b.linked=[{doc:this,isParent:!0,sharedHist:a.sharedHist}];a=gf(this);for(c=0;c<a.length;c++){var d=a[c],e=d.find(),f=b.clipPos(e.from),e=b.clipPos(e.to);pa(f,e)&&(f=Ec(b,f,e,d.primary,d.primary.type),d.markers.push(f),f.parent=d)}return b},unlinkDoc:function(a){a instanceof
h&&(a=a.doc);if(this.linked)for(var b=0;b<this.linked.length;++b)if(this.linked[b].doc==a){this.linked.splice(b,1);a.unlinkDoc(this);ff(gf(this));break}if(a.history==this.history){var c=[a.id];Ic(a,function(a){c.push(a.id)},!0);a.history=new Ae(null);a.history.done=$a(this.history.done,c);a.history.undone=$a(this.history.undone,c)}},iterLinkedDocs:function(a){Ic(this,a)},getMode:function(){return this.mode},getEditor:function(){return this.cm}});Wa.prototype.eachLine=Wa.prototype.iter;var og=["iter",
"insert","remove","copy","getEditor"],Wb;for(Wb in Wa.prototype)Wa.prototype.hasOwnProperty(Wb)&&0>Ja(og,Wb)&&(h.prototype[Wb]=function(a){return function(){return a.apply(this.doc,arguments)}}(Wa.prototype[Wb]));dd(Wa);var Qa=h.e_preventDefault=function(a){a.preventDefault?a.preventDefault():a.returnValue=!1},eh=h.e_stopPropagation=function(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0},de=h.e_stop=function(a){Qa(a);eh(a)},na=h.on=function(a,b,c){a.addEventListener?a.addEventListener(b,
c,!1):a.attachEvent?a.attachEvent("on"+b,c):(a=a._handlers||(a._handlers={}),(a[b]||(a[b]=[])).push(c))},Xb=h.off=function(a,b,c){if(a.removeEventListener)a.removeEventListener(b,c,!1);else if(a.detachEvent)a.detachEvent("on"+b,c);else if(a=a._handlers&&a._handlers[b])for(b=0;b<a.length;++b)if(a[b]==c){a.splice(b,1);break}},Ka=h.signal=function(a,b){var c=a._handlers&&a._handlers[b];if(c)for(var d=Array.prototype.slice.call(arguments,2),e=0;e<c.length;++e)c[e].apply(null,d)},Oc=null,eb=30,rc=h.Pass=
{toString:function(){return"CodeMirror.Pass"}},sc={scroll:!1},Ff={origin:"*mouse"},B={origin:"+move"};uf.prototype.set=function(a,b){clearTimeout(this.id);this.id=setTimeout(b,a)};var rb=h.countColumn=function(a,b,c,d,e){null==b&&(b=a.search(/[^\s\u00a0]/),-1==b&&(b=a.length));d=d||0;for(e=e||0;;){var f=a.indexOf("\t",d);if(0>f||f>=b)return e+(b-d);e+=f-d;e+=c-e%c;d=f+1}},tb=[""],Fa=function(a){a.select()};gd?Fa=function(a){a.selectionStart=0;a.selectionEnd=a.value.length}:ra&&(Fa=function(a){try{a.select()}catch(b){}});
[].indexOf&&(Ja=function(a,b){return a.indexOf(b)});[].map&&(ed=function(a,b){return a.map(b)});var Dh=/[\u00df\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,fh=h.isWordChar=function(a){return/\w/.test(a)||"\u0080"<a&&(a.toUpperCase()!=a.toLowerCase()||Dh.test(a))},Le=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/,
pd;pd=document.createRange?function(a,b,c){var d=document.createRange();d.setEnd(a,c);d.setStart(a,b);return d}:function(a,b,c){var d=document.body.createTextRange();d.moveToElementText(a.parentNode);d.collapse(!0);d.moveEnd("character",c);d.moveStart("character",b);return d};ra&&11>ya&&(lb=function(){try{return document.activeElement}catch(a){return document.body}});var qg=!1,rg=function(){if(ra&&9>ya)return!1;var a=fa("div");return"draggable"in a||"dragDrop"in a}(),ee,Me,ia,uc=h.splitLines=3!="\n\nb".split(/\n/).length?
function(a){for(var b=0,c=[],d=a.length;b<=d;){var e=a.indexOf("\n",b);-1==e&&(e=a.length);var f=a.slice(b,"\r"==a.charAt(e-1)?e-1:e),g=f.indexOf("\r");-1!=g?(c.push(f.slice(0,g)),b+=g+1):(c.push(f),b=e+1)}return c}:function(a){return a.split(/\r\n?|\n/)},Pe=window.getSelection?function(a){try{return a.selectionStart!=a.selectionEnd}catch(b){return!1}}:function(a){try{var b=a.ownerDocument.selection.createRange()}catch(c){}return!b||b.parentElement()!=a?!1:0!=b.compareEndPoints("StartToEnd",b)},Qe=
function(){var a=fa("div");if("oncopy"in a)return!0;a.setAttribute("oncopy","return;");return"function"==typeof a.oncopy}(),Gf=null,sb={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"\x3d",91:"Mod",92:"Mod",93:"Mod",107:"\x3d",109:"-",127:"Delete",173:"-",186:";",187:"\x3d",188:",",189:"-",190:".",
191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"};h.keyNames=sb;(function(){for(var a=0;10>a;a++)sb[a+48]=sb[a+96]=String(a);for(a=65;90>=a;a++)sb[a]=String.fromCharCode(a);for(a=1;12>=a;a++)sb[a+111]=sb[a+63235]="F"+a})();var vc,Re=function(){function a(b){return 247>=b?c.charAt(b):1424<=b&&1524>=b?"R":1536<=b&&1773>=b?d.charAt(b-1536):1774<=b&&2220>=b?"r":8192<=
b&&8203>=b?"w":8204==b?"b":"L"}function b(a,c,d){this.level=a;this.from=c;this.to=d}var c="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",d="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm",
e=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,f=/[stwN]/,g=/[LRr]/,h=/[Lb1n]/,l=/[1n]/;return function(c){if(!e.test(c))return!1;for(var d=c.length,k=[],m=0,n;m<d;++m)k.push(a(c.charCodeAt(m)));for(var m=0,p="L";m<d;++m)n=k[m],"m"==n?k[m]=p:p=n;m=0;for(p="L";m<d;++m)n=k[m],"1"==n&&"r"==p?k[m]="n":g.test(n)&&(p=n,"r"==n&&(k[m]="R"));m=1;for(p=k[0];m<d-1;++m){n=k[m];if("+"==n&&"1"==p&&"1"==k[m+1])k[m]="1";else if(","==n&&p==k[m+1]&&("1"==p||"n"==p))k[m]=p;p=n}for(m=0;m<d;++m)if(n=k[m],","==n)k[m]="N";
else if("%"==n){for(p=m+1;p<d&&"%"==k[p];++p);var q=m&&"!"==k[m-1]||p<d&&"1"==k[p]?"1":"N";for(n=m;n<p;++n)k[n]=q;m=p-1}m=0;for(p="L";m<d;++m)n=k[m],"L"==p&&"1"==n?k[m]="L":g.test(n)&&(p=n);for(m=0;m<d;++m)if(f.test(k[m])){for(p=m+1;p<d&&f.test(k[p]);++p);n="L"==(p<d?k[p]:"L");q="L"==(m?k[m-1]:"L")||n?"L":"R";for(n=m;n<p;++n)k[n]=q;m=p-1}for(var p=[],r,m=0;m<d;)if(h.test(k[m])){n=m;for(++m;m<d&&h.test(k[m]);++m);p.push(new b(0,n,m))}else{var s=m,q=p.length;for(++m;m<d&&"L"!=k[m];++m);for(n=s;n<m;)if(l.test(k[n])){s<
n&&p.splice(q,0,new b(1,s,n));s=n;for(++n;n<m&&l.test(k[n]);++n);p.splice(q,0,new b(2,s,n));s=n}else++n;s<m&&p.splice(q,0,new b(1,s,m))}if(1==p[0].level&&(r=c.match(/^\s+/)))p[0].from=r[0].length,p.unshift(new b(0,0,r[0].length));if(1==wa(p).level&&(r=c.match(/\s+$/)))wa(p).to-=r[0].length,p.push(new b(0,d-r[0].length,d));p[0].level!=wa(p).level&&p.push(new b(p[0].level,d,d));return p}}();h.version="4.5.0";return h})},"codemirror4/mode/htmlmixed/htmlmixed":function(){(function(h){"object"==typeof exports&&
"object"==typeof module?h(require("../../lib/codemirror"),require("../xml/xml"),require("../javascript/javascript"),require("../css/css")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../xml/xml","../javascript/javascript","../css/css"],h):h(CodeMirror)})(function(h){h.defineMode("htmlmixed",function(k,d){function g(b,d){var g=d.htmlState.tagName,h=l.token(b,d.htmlState);if("script"==g&&/\btag\b/.test(h)&&"\x3e"==b.current()){(g=(g=b.string.slice(Math.max(0,b.pos-100),b.pos).match(/\btype\s*=\s*("[^"]+"|'[^']+'|\S+)[^<]*$/i))?
g[1]:"")&&/[\"\']/.test(g.charAt(0))&&(g=g.slice(1,g.length-1));for(var k=0;k<a.length;++k){var m=a[k];if("string"==typeof m.matches?g==m.matches:m.matches.test(g)){m.mode&&(d.token=c,d.localMode=m.mode,d.localState=m.mode.startState&&m.mode.startState(l.indent(d.htmlState,"")));break}}}else"style"==g&&(/\btag\b/.test(h)&&"\x3e"==b.current())&&(d.token=f,d.localMode=e,d.localState=e.startState(l.indent(d.htmlState,"")));return h}function b(a,b,c){var d=a.current(),e=d.search(b);-1<e?a.backUp(d.length-
e):d.match(/<\/?$/)&&(a.backUp(d.length),a.match(b,!1)||a.match(d));return c}function c(a,c){return a.match(/^<\/\s*script\s*>/i,!1)?(c.token=g,c.localState=c.localMode=null,g(a,c)):b(a,/<\/\s*script\s*>/,c.localMode.token(a,c.localState))}function f(a,c){return a.match(/^<\/\s*style\s*>/i,!1)?(c.token=g,c.localState=c.localMode=null,g(a,c)):b(a,/<\/\s*style\s*>/,e.token(a,c.localState))}var l=h.getMode(k,{name:"xml",htmlMode:!0,multilineTagIndentFactor:d.multilineTagIndentFactor,multilineTagIndentPastTag:d.multilineTagIndentPastTag}),
e=h.getMode(k,"css"),a=[],m=d&&d.scriptTypes;a.push({matches:/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^$/i,mode:h.getMode(k,"javascript")});if(m)for(var n=0;n<m.length;++n){var p=m[n];a.push({matches:p.matches,mode:p.mode&&h.getMode(k,p.mode)})}a.push({matches:/./,mode:h.getMode(k,"text/plain")});return{startState:function(){var a=l.startState();return{token:g,localMode:null,localState:null,htmlState:a}},copyState:function(a){if(a.localState)var b=h.copyState(a.localMode,a.localState);
return{token:a.token,localMode:a.localMode,localState:b,htmlState:h.copyState(l,a.htmlState)}},token:function(a,b){return b.token(a,b)},indent:function(a,b){return!a.localMode||/^\s*<\//.test(b)?l.indent(a.htmlState,b):a.localMode.indent?a.localMode.indent(a.localState,b):h.Pass},innerMode:function(a){return{state:a.localState||a.htmlState,mode:a.localMode||l}}}},"xml","javascript","css");h.defineMIME("text/html","htmlmixed")})},"codemirror4/mode/xml/xml":function(){(function(h){"object"==typeof exports&&
"object"==typeof module?h(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],h):h(CodeMirror)})(function(h){h.defineMode("xml",function(k,d){function g(a,c){function d(b){c.tokenize=b;return b(a,c)}var e=a.next();if("\x3c"==e){if(a.eat("!"))return a.eat("[")?a.match("CDATA[")?d(f("atom","]]\x3e")):null:a.match("--")?d(f("comment","--\x3e")):a.match("DOCTYPE",!0,!0)?(a.eatWhile(/[\w\._\-]/),d(l(1))):null;if(a.eat("?"))return a.eatWhile(/[\w\._\-]/),
c.tokenize=f("meta","?\x3e"),"meta";E=a.eat("/")?"closeTag":"openTag";c.tokenize=b;return"tag bracket"}if("\x26"==e)return(a.eat("#")?a.eat("x")?a.eatWhile(/[a-fA-F\d]/)&&a.eat(";"):a.eatWhile(/[\d]/)&&a.eat(";"):a.eatWhile(/[\w\.\-:]/)&&a.eat(";"))?"atom":"error";a.eatWhile(/[^&<]/);return null}function b(a,b){var d=a.next();if("\x3e"==d||"/"==d&&a.eat("\x3e"))return b.tokenize=g,E="\x3e"==d?"endTag":"selfcloseTag","tag bracket";if("\x3d"==d)return E="equals",null;if("\x3c"==d)return b.tokenize=
g,b.state=n,b.tagName=b.tagStart=null,(d=b.tokenize(a,b))?d+" tag error":"tag error";if(/[\'\"]/.test(d))return b.tokenize=c(d),b.stringStartCol=a.column(),b.tokenize(a,b);a.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/);return"word"}function c(a){var c=function(c,d){for(;!c.eol();)if(c.next()==a){d.tokenize=b;break}return"string"};c.isInAttribute=!0;return c}function f(a,b){return function(c,d){for(;!c.eol();){if(c.match(b)){d.tokenize=g;break}c.next()}return a}}function l(a){return function(b,
c){for(var d;null!=(d=b.next());){if("\x3c"==d)return c.tokenize=l(a+1),c.tokenize(b,c);if("\x3e"==d)if(1==a){c.tokenize=g;break}else return c.tokenize=l(a-1),c.tokenize(b,c)}return"meta"}}function e(a,b,c){this.prev=a.context;this.tagName=b;this.indent=a.indented;this.startOfLine=c;if(C.doNotIndent.hasOwnProperty(b)||a.context&&a.context.noIndent)this.noIndent=!0}function a(a){a.context&&(a.context=a.context.prev)}function m(b,c){for(var d;b.context;){d=b.context.tagName;if(!C.contextGrabbers.hasOwnProperty(d)||
!C.contextGrabbers[d].hasOwnProperty(c))break;a(b)}}function n(a,b,c){return"openTag"==a?(c.tagStart=b.column(),p):"closeTag"==a?t:n}function p(a,b,c){if("word"==a)return c.tagName=b.current(),G="tag",s;G="error";return p}function t(b,c,d){if("word"==b){b=c.current();d.context&&(d.context.tagName!=b&&C.implicitlyClosed.hasOwnProperty(d.context.tagName))&&a(d);if(d.context&&d.context.tagName==b)return G="tag",q;G="tag error";return r}G="error";return r}function q(b,c,d){if("endTag"!=b)return G="error",
q;a(d);return n}function r(a,b,c){G="error";return q(a,b,c)}function s(a,b,c){if("word"==a)return G="attribute",v;if("endTag"==a||"selfcloseTag"==a){b=c.tagName;var d=c.tagStart;c.tagName=c.tagStart=null;"selfcloseTag"==a||C.autoSelfClosers.hasOwnProperty(b)?m(c,b):(m(c,b),c.context=new e(c,b,d==c.indented));return n}G="error";return s}function v(a,b,c){if("equals"==a)return w;C.allowMissing||(G="error");return s(a,b,c)}function w(a,b,c){if("string"==a)return u;if("word"==a&&C.allowUnquoted)return G=
"string",s;G="error";return s(a,b,c)}function u(a,b,c){return"string"==a?u:s(a,b,c)}var y=k.indentUnit,x=d.multilineTagIndentFactor||1,A=d.multilineTagIndentPastTag;null==A&&(A=!0);var C=d.htmlMode?{autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,
dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0}:
{autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,caseFold:!1},D=d.alignCDATA,E,G;return{startState:function(){return{tokenize:g,state:n,indented:0,tagName:null,tagStart:null,context:null}},token:function(a,b){!b.tagName&&a.sol()&&(b.indented=a.indentation());if(a.eatSpace())return null;E=null;var c=b.tokenize(a,b);if((c||E)&&"comment"!=c)G=null,b.state=b.state(E||c,a,b),G&&(c="error"==G?c+" error":G);return c},indent:function(a,c,d){var e=
a.context;if(a.tokenize.isInAttribute)return a.tagStart==a.indented?a.stringStartCol+1:a.indented+y;if(e&&e.noIndent)return h.Pass;if(a.tokenize!=b&&a.tokenize!=g)return d?d.match(/^(\s*)/)[0].length:0;if(a.tagName)return A?a.tagStart+a.tagName.length+2:a.tagStart+y*x;if(D&&/<!\[CDATA\[/.test(c))return 0;if((a=c&&/^<(\/)?([\w_:\.-]*)/.exec(c))&&a[1])for(;e;)if(e.tagName==a[2]){e=e.prev;break}else if(C.implicitlyClosed.hasOwnProperty(e.tagName))e=e.prev;else break;else if(a)for(;e;)if((c=C.contextGrabbers[e.tagName])&&
c.hasOwnProperty(a[2]))e=e.prev;else break;for(;e&&!e.startOfLine;)e=e.prev;return e?e.indent+y:0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",configuration:d.htmlMode?"html":"xml",helperType:d.htmlMode?"html":"xml"}});h.defineMIME("text/xml","xml");h.defineMIME("application/xml","xml");h.mimeModes.hasOwnProperty("text/html")||h.defineMIME("text/html",{name:"xml",htmlMode:!0})})},"codemirror4/mode/javascript/javascript":function(){(function(h){"object"==typeof exports&&
"object"==typeof module?h(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],h):h(CodeMirror)})(function(h){h.defineMode("javascript",function(k,d){function g(a,b,c){ec=a;vb=c;return b}function b(a,b){var d=a.next();if('"'==d||"'"==d)return b.tokenize=c(d),b.tokenize(a,b);if("."==d&&a.match(/^\d+(?:[eE][+\-]?\d+)?/))return g("number","number");if("."==d&&a.match(".."))return g("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(d))return g(d);if("\x3d"==
d&&a.eat("\x3e"))return g("\x3d\x3e","operator");if("0"==d&&a.eat(/x/i))return a.eatWhile(/[\da-f]/i),g("number","number");if(/\d/.test(d))return a.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),g("number","number");if("/"==d){if(a.eat("*"))return b.tokenize=f,f(a,b);if(a.eat("/"))return a.skipToEnd(),g("comment","comment");if("operator"==b.lastType||"keyword c"==b.lastType||"sof"==b.lastType||/^[\[{}\(,;:]$/.test(b.lastType)){a:for(var d=!1,e,h=!1;null!=(e=a.next());){if(!d){if("/"==e&&!h)break a;"["==
e?h=!0:h&&"]"==e&&(h=!1)}d=!d&&"\\"==e}a.eatWhile(/[gimy]/);return g("regexp","string-2")}a.eatWhile(ub);return g("operator","operator",a.current())}if("`"==d)return b.tokenize=l,l(a,b);if("#"==d)return a.skipToEnd(),g("error","error");if(ub.test(d))return a.eatWhile(ub),g("operator","operator",a.current());if(bc.test(d))return a.eatWhile(bc),d=a.current(),(e=sa.propertyIsEnumerable(d)&&sa[d])&&"."!=b.lastType?g(e.type,e.style,d):g("variable","variable",d)}function c(a){return function(c,d){var e=
!1,f;if(Zb&&"@"==c.peek()&&c.match(dc))return d.tokenize=b,g("jsonld-keyword","meta");for(;null!=(f=c.next())&&(f!=a||e);)e=!e&&"\\"==f;e||(d.tokenize=b);return g("string","string")}}function f(a,c){for(var d=!1,e;e=a.next();){if("/"==e&&d){c.tokenize=b;break}d="*"==e}return g("comment","comment")}function l(a,c){for(var d=!1,e;null!=(e=a.next());){if(!d&&("`"==e||"$"==e&&a.eat("{"))){c.tokenize=b;break}d=!d&&"\\"==e}return g("quasi","string-2",a.current())}function e(a,b){b.fatArrowAt&&(b.fatArrowAt=
null);var c=a.string.indexOf("\x3d\x3e",a.start);if(!(0>c)){for(var d=0,e=!1,c=c-1;0<=c;--c){var f=a.string.charAt(c),g=gb.indexOf(f);if(0<=g&&3>g){if(!d){++c;break}if(0==--d)break}else if(3<=g&&6>g)++d;else if(bc.test(f))e=!0;else if(e&&!d){++c;break}}e&&!d&&(b.fatArrowAt=c)}}function a(a,b,c,d,e,f){this.indented=a;this.column=b;this.type=c;this.prev=e;this.info=f;null!=d&&(this.align=d)}function m(){for(var a=arguments.length-1;0<=a;a--)da.cc.push(arguments[a])}function n(){m.apply(null,arguments);
return!0}function p(a){function b(c){for(;c;c=c.next)if(c.name==a)return!0;return!1}var c=da.state;c.context?(da.marked="def",b(c.localVars)||(c.localVars={name:a,next:c.localVars})):!b(c.globalVars)&&d.globalVars&&(c.globalVars={name:a,next:c.globalVars})}function t(){da.state.context={prev:da.state.context,vars:da.state.localVars};da.state.localVars=td}function q(){da.state.localVars=da.state.context.vars;da.state.context=da.state.context.prev}function r(b,c){var d=function(){var d=da.state,e=d.indented;
if("stat"==d.lexical.type)e=d.lexical.indented;else for(var f=d.lexical;f&&")"==f.type&&f.align;f=f.prev)e=f.indented;d.lexical=new a(e,da.stream.column(),b,null,d.lexical,c)};d.lex=!0;return d}function s(){var a=da.state;a.lexical.prev&&(")"==a.lexical.type&&(a.indented=a.lexical.indented),a.lexical=a.lexical.prev)}function v(a){function b(c){return c==a?n():";"==a?m():n(b)}return b}function w(a,b){return"var"==a?n(r("vardef",b.length),O,v(";"),s):"keyword a"==a?n(r("form"),u,w,s):"keyword b"==a?
n(r("form"),w,s):"{"==a?n(r("}"),L,s):";"==a?n():"if"==a?("else"==da.state.lexical.info&&da.state.cc[da.state.cc.length-1]==s&&da.state.cc.pop()(),n(r("form"),u,w,s,R)):"function"==a?n(va):"for"==a?n(r("form"),$,w,s):"variable"==a?n(r("stat"),S):"switch"==a?n(r("form"),u,r("}","switch"),v("{"),L,s,s):"case"==a?n(u,v(":")):"default"==a?n(v(":")):"catch"==a?n(r("form"),t,v("("),Ra,v(")"),w,s,q):"module"==a?n(r("form"),t,Ya,q,s):"class"==a?n(r("form"),Sa,s):"export"==a?n(r("form"),qd,s):"import"==a?
n(r("form"),$b,s):m(r("stat"),u,v(";"),s)}function u(a){return x(a,!1)}function y(a){return x(a,!0)}function x(a,b){if(da.state.fatArrowAt==da.stream.start){var c=b?J:M;if("("==a)return n(t,r(")"),V(aa,")"),s,v("\x3d\x3e"),c,q);if("variable"==a)return m(t,aa,v("\x3d\x3e"),c,q)}c=b?E:D;return sd.hasOwnProperty(a)?n(c):"function"==a?n(va,c):"keyword c"==a?n(b?C:A):"("==a?n(r(")"),A,Mb,v(")"),s,c):"operator"==a||"spread"==a?n(b?y:u):"["==a?n(r("]"),Lb,s,c):"{"==a?ea(X,"}",null,c):"quasi"==a?m(G,c):n()}
function A(a){return a.match(/[;\}\)\],]/)?m():m(u)}function C(a){return a.match(/[;\}\)\],]/)?m():m(y)}function D(a,b){return","==a?n(u):E(a,b,!1)}function E(a,b,c){var d=!1==c?D:E,e=!1==c?u:y;if("\x3d\x3e"==b)return n(t,c?J:M,q);if("operator"==a)return/\+\+|--/.test(b)?n(d):"?"==b?n(u,v(":"),e):n(e);if("quasi"==a)return m(G,d);if(";"!=a){if("("==a)return ea(y,")","call",d);if("."==a)return n(W,d);if("["==a)return n(r("]"),A,v("]"),s,d)}}function G(a,b){return"quasi"!=a?m():"${"!=b.slice(b.length-
2)?n(G):n(u,H)}function H(a){if("}"==a)return da.marked="string-2",da.state.tokenize=l,n(G)}function M(a){e(da.stream,da.state);return"{"==a?m(w):m(u)}function J(a){e(da.stream,da.state);return"{"==a?m(w):m(y)}function S(a){return":"==a?n(s,w):m(D,v(";"),s)}function W(a){if("variable"==a)return da.marked="property",n()}function X(a,b){if("variable"==a||"keyword"==da.style)return da.marked="property","get"==b||"set"==b?n(K):n(Q);if("number"==a||"string"==a)return da.marked=Zb?"property":da.style+" property",
n(Q);if("jsonld-keyword"==a)return n(Q);if("["==a)return n(u,v("]"),Q)}function K(a){if("variable"!=a)return m(Q);da.marked="property";return n(va)}function Q(a){if(":"==a)return n(y);if("("==a)return m(va)}function V(a,b){function c(d){return","==d?(d=da.state.lexical,"call"==d.info&&(d.pos=(d.pos||0)+1),n(a,c)):d==b?n():n(v(b))}return function(d){return d==b?n():m(a,c)}}function ea(a,b,c){for(var d=3;d<arguments.length;d++)da.cc.push(arguments[d]);return n(r(b,c),V(a,b),s)}function L(a){return"}"==
a?n():m(w,L)}function N(a){if(cc&&":"==a)return n(I)}function I(a){if("variable"==a)return da.marked="variable-3",n()}function O(){return m(aa,N,T,Y)}function aa(a,b){if("variable"==a)return p(b),n();if("["==a)return ea(aa,"]");if("{"==a)return ea(U,"}")}function U(a,b){if("variable"==a&&!da.stream.match(/^\s*:/,!1))return p(b),n(T);"variable"==a&&(da.marked="property");return n(v(":"),aa,T)}function T(a,b){if("\x3d"==b)return n(y)}function Y(a){if(","==a)return n(O)}function R(a,b){if("keyword b"==
a&&"else"==b)return n(r("form","else"),w,s)}function $(a){if("("==a)return n(r(")"),P,v(")"),s)}function P(a){return"var"==a?n(O,v(";"),La):";"==a?n(La):"variable"==a?n(ma):m(u,v(";"),La)}function ma(a,b){return"in"==b||"of"==b?(da.marked="keyword",n(u)):n(D,La)}function La(a,b){return";"==a?n(tc):"in"==b||"of"==b?(da.marked="keyword",n(u)):m(u,v(";"),tc)}function tc(a){")"!=a&&n(u)}function va(a,b){if("*"==b)return da.marked="keyword",n(va);if("variable"==a)return p(b),n(va);if("("==a)return n(t,
r(")"),V(Ra,")"),s,w,q)}function Ra(a){return"spread"==a?n(Ra):m(aa,N)}function Sa(a,b){if("variable"==a)return p(b),n(Xa)}function Xa(a,b){if("extends"==b)return n(u,Xa);if("{"==a)return n(r("}"),Ia,s)}function Ia(a,b){if("variable"==a||"keyword"==da.style)return da.marked="property","get"==b||"set"==b?n(Yb,va,Ia):n(va,Ia);if("*"==b)return da.marked="keyword",n(Ia);if(";"==a)return n(Ia);if("}"==a)return n()}function Yb(a){if("variable"!=a)return m();da.marked="property";return n()}function Ya(a,
b){if("string"==a)return n(w);if("variable"==a)return p(b),n(Bb)}function qd(a,b){return"*"==b?(da.marked="keyword",n(Bb,v(";"))):"default"==b?(da.marked="keyword",n(u,v(";"))):m(w)}function $b(a){return"string"==a?n():m(Qc,Bb)}function Qc(a,b){if("{"==a)return ea(Qc,"}");"variable"==a&&p(b);return n()}function Bb(a,b){if("from"==b)return da.marked="keyword",n(u)}function Lb(a){return"]"==a?n():m(y,Ma)}function Ma(a){return"for"==a?m(Mb,v("]")):","==a?n(V(y,"]")):m(V(y,"]"))}function Mb(a){if("for"==
a)return n($,Mb);if("if"==a)return n(u,Mb)}var Na=k.indentUnit,Rc=d.statementIndent,Zb=d.jsonld,fb=d.json||Zb,cc=d.typescript,bc=d.wordCharacters||/[\w$]/,sa=function(){function a(b){return{type:b,style:"keyword"}}var b=a("keyword a"),c=a("keyword b"),d=a("keyword c"),e=a("operator"),f={type:"atom",style:"atom"},b={"if":a("if"),"while":b,"with":b,"else":c,"do":c,"try":c,"finally":c,"return":d,"break":d,"continue":d,"new":d,"delete":d,"throw":d,"debugger":d,"var":a("var"),"const":a("var"),let:a("var"),
"function":a("function"),"catch":a("catch"),"for":a("for"),"switch":a("switch"),"case":a("case"),"default":a("default"),"in":e,"typeof":e,"instanceof":e,"true":f,"false":f,"null":f,undefined:f,NaN:f,Infinity:f,"this":a("this"),module:a("module"),"class":a("class"),"super":a("atom"),yield:d,"export":a("export"),"import":a("import"),"extends":d};if(cc){var c={type:"variable",style:"variable-3"},c={"interface":a("interface"),"extends":a("extends"),constructor:a("constructor"),"public":a("public"),"private":a("private"),
"protected":a("protected"),"static":a("static"),string:c,number:c,bool:c,any:c},g;for(g in c)b[g]=c[g]}return b}(),ub=/[+\-*&%=<>!?|~^]/,dc=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/,ec,vb,gb="([{}])",sd={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,"this":!0,"jsonld-keyword":!0},da={state:null,column:null,marked:null,cc:null},td={name:"this",next:{name:"arguments"}};s.lex=!0;return{startState:function(c){c={tokenize:b,lastType:"sof",cc:[],lexical:new a((c||
0)-Na,0,"block",!1),localVars:d.localVars,context:d.localVars&&{vars:d.localVars},indented:0};d.globalVars&&"object"==typeof d.globalVars&&(c.globalVars=d.globalVars);return c},token:function(a,b){a.sol()&&(b.lexical.hasOwnProperty("align")||(b.lexical.align=!1),b.indented=a.indentation(),e(a,b));if(b.tokenize!=f&&a.eatSpace())return null;var c=b.tokenize(a,b);if("comment"==ec)return c;b.lastType="operator"==ec&&("++"==vb||"--"==vb)?"incdec":ec;a:{var d=ec,g=vb,h=b.cc;da.state=b;da.stream=a;da.marked=
null;da.cc=h;da.style=c;b.lexical.hasOwnProperty("align")||(b.lexical.align=!0);for(;;)if((h.length?h.pop():fb?u:w)(d,g)){for(;h.length&&h[h.length-1].lex;)h.pop()();if(da.marked){c=da.marked;break a}if(d="variable"==d)b:{for(d=b.localVars;d;d=d.next)if(d.name==g){d=!0;break b}for(h=b.context;h;h=h.prev)for(d=h.vars;d;d=d.next)if(d.name==g){d=!0;break b}d=void 0}if(d){c="variable-2";break a}break a}c=void 0}return c},indent:function(a,c){if(a.tokenize==f)return h.Pass;if(a.tokenize!=b)return 0;var e=
c&&c.charAt(0),g=a.lexical;if(!/^\s*else\b/.test(c))for(var l=a.cc.length-1;0<=l;--l){var k=a.cc[l];if(k==s)g=g.prev;else if(k!=R)break}"stat"==g.type&&"}"==e&&(g=g.prev);Rc&&(")"==g.type&&"stat"==g.prev.type)&&(g=g.prev);l=g.type;k=e==l;return"vardef"==l?g.indented+("operator"==a.lastType||","==a.lastType?g.info+1:0):"form"==l&&"{"==e?g.indented:"form"==l?g.indented+Na:"stat"==l?g.indented+("operator"==a.lastType||","==a.lastType?Rc||Na:0):"switch"==g.info&&!k&&!1!=d.doubleIndentSwitch?g.indented+
(/^(?:case|default)\b/.test(c)?Na:2*Na):g.align?g.column+(k?0:1):g.indented+(k?0:Na)},electricChars:":{}",blockCommentStart:fb?null:"/*",blockCommentEnd:fb?null:"*/",lineComment:fb?null:"//",fold:"brace",helperType:fb?"json":"javascript",jsonldMode:Zb,jsonMode:fb}});h.registerHelper("wordChars","javascript",/[\w$]/);h.defineMIME("text/javascript","javascript");h.defineMIME("text/ecmascript","javascript");h.defineMIME("application/javascript","javascript");h.defineMIME("application/x-javascript","javascript");
h.defineMIME("application/ecmascript","javascript");h.defineMIME("application/json",{name:"javascript",json:!0});h.defineMIME("application/x-json",{name:"javascript",json:!0});h.defineMIME("application/ld+json",{name:"javascript",jsonld:!0});h.defineMIME("text/typescript",{name:"javascript",typescript:!0});h.defineMIME("application/typescript",{name:"javascript",typescript:!0})})},"codemirror4/mode/css/css":function(){(function(h){"object"==typeof exports&&"object"==typeof module?h(require("../../lib/codemirror")):
"function"==typeof define&&define.amd?define(["../../lib/codemirror"],h):h(CodeMirror)})(function(h){function k(a){for(var b={},c=0;c<a.length;++c)b[a[c]]=!0;return b}function d(a,b){for(var c=!1,d;null!=(d=a.next());){if(c&&"/"==d){b.tokenize=null;break}c="*"==d}return["comment","comment"]}function g(a,b){a.skipTo("--\x3e")?(a.match("--\x3e"),b.tokenize=null):a.skipToEnd();return["comment","comment"]}h.defineMode("css",function(a,b){function c(a,b){N=b;return a}function d(a,b){var g=a.next();if(q[g]){var h=
q[g](a,b);if(!1!==h)return h}if("@"==g)return a.eatWhile(/[\w\\\-]/),c("def",a.current());if("\x3d"==g||("~"==g||"|"==g)&&a.eat("\x3d"))return c(null,"compare");if('"'==g||"'"==g)return b.tokenize=e(g),b.tokenize(a,b);if("#"==g)return a.eatWhile(/[\w\\\-]/),c("atom","hash");if("!"==g)return a.match(/^\s*\w*/),c("keyword","important");if(/\d/.test(g)||"."==g&&a.eat(/\d/))return a.eatWhile(/[\w.%]/),c("number","unit");if("-"===g){if(/[\d.]/.test(a.peek()))return a.eatWhile(/[\w.%]/),c("number","unit");
if(a.match(/^\w+-/))return c("meta","meta")}else return/[,+>*\/]/.test(g)?c(null,"select-op"):"."==g&&a.match(/^-?[_a-z][_a-z0-9-]*/i)?c("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(g)?c(null,g):"u"==g&&a.match("rl(")?(a.backUp(1),b.tokenize=f,c("property","word")):/[\w\\\-]/.test(g)?(a.eatWhile(/[\w\\\-]/),c("property","word")):c(null,null)}function e(a){return function(b,d){for(var e=!1,f;null!=(f=b.next());){if(f==a&&!e){")"==a&&b.backUp(1);break}e=!e&&"\\"==f}if(f==a||!e&&")"!=a)d.tokenize=
null;return c("string","string")}}function f(a,b){a.next();a.match(/\s*[\"\')]/,!1)?b.tokenize=null:b.tokenize=e(")");return c(null,"(")}function g(a,b,c){this.type=a;this.indent=b;this.prev=c}function l(a,b,c){a.context=new g(c,b.indentation()+p,a.context);return c}function k(a){a.context=a.context.prev;return a.context.type}function m(a,b,c,d){for(d=d||1;0<d;d--)c.context=c.context.prev;return O[c.context.type](a,b,c)}function n(a){a=a.current().toLowerCase();I=V.hasOwnProperty(a)?"atom":Q.hasOwnProperty(a)?
"keyword":"variable"}b.propertyKeywords||(b=h.resolveMode("text/css"));var p=a.indentUnit,q=b.tokenHooks,r=b.mediaTypes||{},s=b.mediaFeatures||{},t=b.propertyKeywords||{},K=b.nonStandardPropertyKeywords||{},Q=b.colorKeywords||{},V=b.valueKeywords||{},ea=b.fontProperties||{},L=b.allowNested,N,I,O={top:function(a,b,c){if("{"==a)return l(c,b,"block");if("}"==a&&c.context.prev)return k(c);if("@media"==a)return l(c,b,"media");if("@font-face"==a)return"font_face_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/.test(a))return"keyframes";
if(a&&"@"==a.charAt(0))return l(c,b,"at");if("hash"==a)I="builtin";else if("word"==a)I="tag";else{if("variable-definition"==a)return"maybeprop";if("interpolation"==a)return l(c,b,"interpolation");if(":"==a)return"pseudo";if(L&&"("==a)return l(c,b,"parens")}return c.context.type},block:function(a,b,c){if("word"==a){a=b.current().toLowerCase();if(t.hasOwnProperty(a))return I="property","maybeprop";if(K.hasOwnProperty(a))return I="string-2","maybeprop";if(L)return I=b.match(/^\s*:/,!1)?"property":"tag",
"block";I+=" error";return"maybeprop"}return"meta"==a?"block":!L&&("hash"==a||"qualifier"==a)?(I="error","block"):O.top(a,b,c)},maybeprop:function(a,b,c){return":"==a?l(c,b,"prop"):O[c.context.type](a,b,c)},prop:function(a,b,c){if(";"==a)return k(c);if("{"==a&&L)return l(c,b,"propBlock");if("}"==a||"{"==a)return m(a,b,c);if("("==a)return l(c,b,"parens");if("hash"==a&&!/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(b.current()))I+=" error";else if("word"==a)n(b);else if("interpolation"==a)return l(c,b,
"interpolation");return"prop"},propBlock:function(a,b,c){return"}"==a?k(c):"word"==a?(I="property","maybeprop"):c.context.type},parens:function(a,b,c){if("{"==a||"}"==a)return m(a,b,c);if(")"==a)return k(c);if("("==a)return l(c,b,"parens");"word"==a&&n(b);return"parens"},pseudo:function(a,b,c){return"word"==a?(I="variable-3",c.context.type):O[c.context.type](a,b,c)},media:function(a,b,c){if("("==a)return l(c,b,"media_parens");if("}"==a)return m(a,b,c);if("{"==a)return k(c)&&l(c,b,L?"block":"top");
"word"==a&&(a=b.current().toLowerCase(),I="only"==a||"not"==a||"and"==a?"keyword":r.hasOwnProperty(a)?"attribute":s.hasOwnProperty(a)?"property":"error");return c.context.type},media_parens:function(a,b,c){return")"==a?k(c):"{"==a||"}"==a?m(a,b,c,2):O.media(a,b,c)},font_face_before:function(a,b,c){return"{"==a?l(c,b,"font_face"):O[c.context.type](a,b,c)},font_face:function(a,b,c){return"}"==a?k(c):"word"==a?(I=ea.hasOwnProperty(b.current().toLowerCase())?"property":"error","maybeprop"):"font_face"},
keyframes:function(a,b,c){return"word"==a?(I="variable","keyframes"):"{"==a?l(c,b,"top"):O[c.context.type](a,b,c)},at:function(a,b,c){if(";"==a)return k(c);if("{"==a||"}"==a)return m(a,b,c);"word"==a?I="tag":"hash"==a&&(I="builtin");return"at"},interpolation:function(a,b,c){if("}"==a)return k(c);if("{"==a||";"==a)return m(a,b,c);"variable"!=a&&(I="error");return"interpolation"}};return{startState:function(a){return{tokenize:null,state:"top",context:new g("top",a||0,null)}},token:function(a,b){if(!b.tokenize&&
a.eatSpace())return null;var c=(b.tokenize||d)(a,b);c&&"object"==typeof c&&(N=c[1],c=c[0]);I=c;b.state=O[b.state](N,a,b);return I},indent:function(a,b){var c=a.context,d=b&&b.charAt(0),e=c.indent;if("prop"==c.type&&("}"==d||")"==d))c=c.prev;if(c.prev&&("}"==d&&("block"==c.type||"top"==c.type||"interpolation"==c.type||"font_face"==c.type)||")"==d&&("parens"==c.type||"media_parens"==c.type)||"{"==d&&("at"==c.type||"media"==c.type)))e=c.indent-p;return e},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",
fold:"brace"}});var b="all aural braille handheld print projection screen tty tv embossed".split(" "),c=k(b),f="width min-width max-width height min-height max-height device-width min-device-width max-device-width device-height min-device-height max-device-height aspect-ratio min-aspect-ratio max-aspect-ratio device-aspect-ratio min-device-aspect-ratio max-device-aspect-ratio color min-color max-color color-index min-color-index max-color-index monochrome min-monochrome max-monochrome resolution min-resolution max-resolution scan grid".split(" "),
l=k(f),e="align-content align-items align-self alignment-adjust alignment-baseline anchor-point animation animation-delay animation-direction animation-duration animation-fill-mode animation-iteration-count animation-name animation-play-state animation-timing-function appearance azimuth backface-visibility background background-attachment background-clip background-color background-image background-origin background-position background-repeat background-size baseline-shift binding bleed bookmark-label bookmark-level bookmark-state bookmark-target border border-bottom border-bottom-color border-bottom-left-radius border-bottom-right-radius border-bottom-style border-bottom-width border-collapse border-color border-image border-image-outset border-image-repeat border-image-slice border-image-source border-image-width border-left border-left-color border-left-style border-left-width border-radius border-right border-right-color border-right-style border-right-width border-spacing border-style border-top border-top-color border-top-left-radius border-top-right-radius border-top-style border-top-width border-width bottom box-decoration-break box-shadow box-sizing break-after break-before break-inside caption-side clear clip color color-profile column-count column-fill column-gap column-rule column-rule-color column-rule-style column-rule-width column-span column-width columns content counter-increment counter-reset crop cue cue-after cue-before cursor direction display dominant-baseline drop-initial-after-adjust drop-initial-after-align drop-initial-before-adjust drop-initial-before-align drop-initial-size drop-initial-value elevation empty-cells fit fit-position flex flex-basis flex-direction flex-flow flex-grow flex-shrink flex-wrap float float-offset flow-from flow-into font font-feature-settings font-family font-kerning font-language-override font-size font-size-adjust font-stretch font-style font-synthesis font-variant font-variant-alternates font-variant-caps font-variant-east-asian font-variant-ligatures font-variant-numeric font-variant-position font-weight grid grid-area grid-auto-columns grid-auto-flow grid-auto-position grid-auto-rows grid-column grid-column-end grid-column-start grid-row grid-row-end grid-row-start grid-template grid-template-areas grid-template-columns grid-template-rows hanging-punctuation height hyphens icon image-orientation image-rendering image-resolution inline-box-align justify-content left letter-spacing line-break line-height line-stacking line-stacking-ruby line-stacking-shift line-stacking-strategy list-style list-style-image list-style-position list-style-type margin margin-bottom margin-left margin-right margin-top marker-offset marks marquee-direction marquee-loop marquee-play-count marquee-speed marquee-style max-height max-width min-height min-width move-to nav-down nav-index nav-left nav-right nav-up object-fit object-position opacity order orphans outline outline-color outline-offset outline-style outline-width overflow overflow-style overflow-wrap overflow-x overflow-y padding padding-bottom padding-left padding-right padding-top page page-break-after page-break-before page-break-inside page-policy pause pause-after pause-before perspective perspective-origin pitch pitch-range play-during position presentation-level punctuation-trim quotes region-break-after region-break-before region-break-inside region-fragment rendering-intent resize rest rest-after rest-before richness right rotation rotation-point ruby-align ruby-overhang ruby-position ruby-span shape-image-threshold shape-inside shape-margin shape-outside size speak speak-as speak-header speak-numeral speak-punctuation speech-rate stress string-set tab-size table-layout target target-name target-new target-position text-align text-align-last text-decoration text-decoration-color text-decoration-line text-decoration-skip text-decoration-style text-emphasis text-emphasis-color text-emphasis-position text-emphasis-style text-height text-indent text-justify text-outline text-overflow text-shadow text-size-adjust text-space-collapse text-transform text-underline-position text-wrap top transform transform-origin transform-style transition transition-delay transition-duration transition-property transition-timing-function unicode-bidi vertical-align visibility voice-balance voice-duration voice-family voice-pitch voice-range voice-rate voice-stress voice-volume volume white-space widows width word-break word-spacing word-wrap z-index clip-path clip-rule mask enable-background filter flood-color flood-opacity lighting-color stop-color stop-opacity pointer-events color-interpolation color-interpolation-filters color-rendering fill fill-opacity fill-rule image-rendering marker marker-end marker-mid marker-start shape-rendering stroke stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-rendering baseline-shift dominant-baseline glyph-orientation-horizontal glyph-orientation-vertical text-anchor writing-mode".split(" "),
a=k(e),m="scrollbar-arrow-color scrollbar-base-color scrollbar-dark-shadow-color scrollbar-face-color scrollbar-highlight-color scrollbar-shadow-color scrollbar-3d-light-color scrollbar-track-color shape-inside searchfield-cancel-button searchfield-decoration searchfield-results-button searchfield-results-decoration zoom".split(" "),n=k(m),p="aliceblue antiquewhite aqua aquamarine azure beige bisque black blanchedalmond blue blueviolet brown burlywood cadetblue chartreuse chocolate coral cornflowerblue cornsilk crimson cyan darkblue darkcyan darkgoldenrod darkgray darkgreen darkkhaki darkmagenta darkolivegreen darkorange darkorchid darkred darksalmon darkseagreen darkslateblue darkslategray darkturquoise darkviolet deeppink deepskyblue dimgray dodgerblue firebrick floralwhite forestgreen fuchsia gainsboro ghostwhite gold goldenrod gray grey green greenyellow honeydew hotpink indianred indigo ivory khaki lavender lavenderblush lawngreen lemonchiffon lightblue lightcoral lightcyan lightgoldenrodyellow lightgray lightgreen lightpink lightsalmon lightseagreen lightskyblue lightslategray lightsteelblue lightyellow lime limegreen linen magenta maroon mediumaquamarine mediumblue mediumorchid mediumpurple mediumseagreen mediumslateblue mediumspringgreen mediumturquoise mediumvioletred midnightblue mintcream mistyrose moccasin navajowhite navy oldlace olive olivedrab orange orangered orchid palegoldenrod palegreen paleturquoise palevioletred papayawhip peachpuff peru pink plum powderblue purple rebeccapurple red rosybrown royalblue saddlebrown salmon sandybrown seagreen seashell sienna silver skyblue slateblue slategray snow springgreen steelblue tan teal thistle tomato turquoise violet wheat white whitesmoke yellow yellowgreen".split(" "),
t=k(p),q="above absolute activeborder activecaption afar after-white-space ahead alias all all-scroll alternate always amharic amharic-abegede antialiased appworkspace arabic-indic armenian asterisks auto avoid avoid-column avoid-page avoid-region background backwards baseline below bidi-override binary bengali blink block block-axis bold bolder border border-box both bottom break break-all break-word button button-bevel buttonface buttonhighlight buttonshadow buttontext cambodian capitalize caps-lock-indicator caption captiontext caret cell center checkbox circle cjk-earthly-branch cjk-heavenly-stem cjk-ideographic clear clip close-quote col-resize collapse column compact condensed contain content content-box context-menu continuous copy cover crop cross crosshair currentcolor cursive dashed decimal decimal-leading-zero default default-button destination-atop destination-in destination-out destination-over devanagari disc discard document dot-dash dot-dot-dash dotted double down e-resize ease ease-in ease-in-out ease-out element ellipse ellipsis embed end ethiopic ethiopic-abegede ethiopic-abegede-am-et ethiopic-abegede-gez ethiopic-abegede-ti-er ethiopic-abegede-ti-et ethiopic-halehame-aa-er ethiopic-halehame-aa-et ethiopic-halehame-am-et ethiopic-halehame-gez ethiopic-halehame-om-et ethiopic-halehame-sid-et ethiopic-halehame-so-et ethiopic-halehame-ti-er ethiopic-halehame-ti-et ethiopic-halehame-tig ew-resize expanded extra-condensed extra-expanded fantasy fast fill fixed flat footnotes forwards from geometricPrecision georgian graytext groove gujarati gurmukhi hand hangul hangul-consonant hebrew help hidden hide higher highlight highlighttext hiragana hiragana-iroha horizontal hsl hsla icon ignore inactiveborder inactivecaption inactivecaptiontext infinite infobackground infotext inherit initial inline inline-axis inline-block inline-table inset inside intrinsic invert italic justify kannada katakana katakana-iroha keep-all khmer landscape lao large larger left level lighter line-through linear lines list-item listbox listitem local logical loud lower lower-alpha lower-armenian lower-greek lower-hexadecimal lower-latin lower-norwegian lower-roman lowercase ltr malayalam match media-controls-background media-current-time-display media-fullscreen-button media-mute-button media-play-button media-return-to-realtime-button media-rewind-button media-seek-back-button media-seek-forward-button media-slider media-sliderthumb media-time-remaining-display media-volume-slider media-volume-slider-container media-volume-sliderthumb medium menu menulist menulist-button menulist-text menulist-textfield menutext message-box middle min-intrinsic mix mongolian monospace move multiple myanmar n-resize narrower ne-resize nesw-resize no-close-quote no-drop no-open-quote no-repeat none normal not-allowed nowrap ns-resize nw-resize nwse-resize oblique octal open-quote optimizeLegibility optimizeSpeed oriya oromo outset outside outside-shape overlay overline padding padding-box painted page paused persian plus-darker plus-lighter pointer polygon portrait pre pre-line pre-wrap preserve-3d progress push-button radio read-only read-write read-write-plaintext-only rectangle region relative repeat repeat-x repeat-y reset reverse rgb rgba ridge right round row-resize rtl run-in running s-resize sans-serif scroll scrollbar se-resize searchfield searchfield-cancel-button searchfield-decoration searchfield-results-button searchfield-results-decoration semi-condensed semi-expanded separate serif show sidama single skip-white-space slide slider-horizontal slider-vertical sliderthumb-horizontal sliderthumb-vertical slow small small-caps small-caption smaller solid somali source-atop source-in source-out source-over space square square-button start static status-bar stretch stroke sub subpixel-antialiased super sw-resize table table-caption table-cell table-column table-column-group table-footer-group table-header-group table-row table-row-group telugu text text-bottom text-top textarea textfield thai thick thin threeddarkshadow threedface threedhighlight threedlightshadow threedshadow tibetan tigre tigrinya-er tigrinya-er-abegede tigrinya-et tigrinya-et-abegede to top transparent ultra-condensed ultra-expanded underline up upper-alpha upper-armenian upper-greek upper-hexadecimal upper-latin upper-norwegian upper-roman uppercase urdu url vertical vertical-text visible visibleFill visiblePainted visibleStroke visual w-resize wait wave wider window windowframe windowtext x-large x-small xor xx-large xx-small".split(" "),
r=k(q),s=k("font-family src unicode-range font-variant font-feature-settings font-stretch font-weight font-style".split(" ")),b=b.concat(f).concat(e).concat(m).concat(p).concat(q);h.registerHelper("hintWords","css",b);h.defineMIME("text/css",{mediaTypes:c,mediaFeatures:l,propertyKeywords:a,nonStandardPropertyKeywords:n,colorKeywords:t,valueKeywords:r,fontProperties:s,tokenHooks:{"\x3c":function(a,b){if(!a.match("!--"))return!1;b.tokenize=g;return g(a,b)},"/":function(a,b){if(!a.eat("*"))return!1;
b.tokenize=d;return d(a,b)}},name:"css"});h.defineMIME("text/x-scss",{mediaTypes:c,mediaFeatures:l,propertyKeywords:a,nonStandardPropertyKeywords:n,colorKeywords:t,valueKeywords:r,fontProperties:s,allowNested:!0,tokenHooks:{"/":function(a,b){return a.eat("/")?(a.skipToEnd(),["comment","comment"]):a.eat("*")?(b.tokenize=d,d(a,b)):["operator","operator"]},":":function(a){return a.match(/\s*\{/)?[null,"{"]:!1},$:function(a){a.match(/^[\w-]+/);return a.match(/^\s*:/,!1)?["variable-2","variable-definition"]:
["variable-2","variable"]},"#":function(a){return!a.eat("{")?!1:[null,"interpolation"]}},name:"css",helperType:"scss"});h.defineMIME("text/x-less",{mediaTypes:c,mediaFeatures:l,propertyKeywords:a,nonStandardPropertyKeywords:n,colorKeywords:t,valueKeywords:r,fontProperties:s,allowNested:!0,tokenHooks:{"/":function(a,b){return a.eat("/")?(a.skipToEnd(),["comment","comment"]):a.eat("*")?(b.tokenize=d,d(a,b)):["operator","operator"]},"@":function(a){if(a.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/,
!1))return!1;a.eatWhile(/[\w\\\-]/);return a.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"\x26":function(){return["atom","atom"]}},name:"css",helperType:"less"})})},"codemirror4/addon/display/placeholder":function(){(function(h){"object"==typeof exports&&"object"==typeof module?h(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],h):h(CodeMirror)})(function(h){function k(b){b.state.placeholder&&(b.state.placeholder.parentNode.removeChild(b.state.placeholder),
b.state.placeholder=null)}function d(b){k(b);var d=b.state.placeholder=document.createElement("pre");d.style.cssText="height: 0; overflow: visible";d.className="CodeMirror-placeholder";d.appendChild(document.createTextNode(b.getOption("placeholder")));b.display.lineSpace.insertBefore(d,b.display.lineSpace.firstChild)}function g(b){1===b.lineCount()&&""===b.getLine(0)&&d(b)}function b(b){var f=b.getWrapperElement(),g=1===b.lineCount()&&""===b.getLine(0);f.className=f.className.replace(" CodeMirror-empty",
"")+(g?" CodeMirror-empty":"");g?d(b):k(b)}h.defineOption("placeholder","",function(c,d,l){l=l&&l!=h.Init;d&&!l?(c.on("blur",g),c.on("change",b),b(c)):!d&&l&&(c.off("blur",g),c.off("change",b),k(c),l=c.getWrapperElement(),l.className=l.className.replace(" CodeMirror-empty",""));d&&!c.hasFocus()&&g(c)})})},"mojo/widgets/automation/PostSendContent":function(){define("dojo/_base/declare dojo/query dojo/on dojo/html dojo/json dojo/dom dojo/dom-construct dojo/dom-class dojo/dom-attr dojo/dom-style dojo/parser dojo/request dojo/_base/array dojo/_base/lang dijit/registry mojo/url ./_OverlayContentMixin velocity/velocity velocity/velocity.ui".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s,v){return h(s,{path:"/automations/email-postsend",onLoad:function(){m.parse(this.domNode);this.refreshUpdateMergeFields();this.refreshActionOptions();this.own(d(this.domNode,"[name\x3duse-actions]:click",function(){k("[data-container\x3dactions]").style("display",this.checked?"":"none")}),d(this.domNode,"[name\x3daction]:change",t.hitch(this,"refreshActionOptions")),d(this.domNode,"[data-container\x3daction-merge]:change",t.hitch(this,"refreshUpdateMergeFields")))},
destroy:function(){widgets=q.findWidgets(this.domNode);widgets.forEach(function(a){a.destroyRecursive()});f.destroy(this.domNode)},_save:function(){var a="",b=t.mixin({emailId:this.emailId},this._getPostSendValues());n.post(r.toUrl("/automations/email-postsend-post"),{data:b,sync:!0,handleAs:"text"}).then(function(b){a=b});return a},_validate:function(){return!0},_getPostSendValues:function(){var a={};k("input,select",this.domNode).forEach(function(b){"checkbox"==b.type&&!b.checked&&(b.value=null);
a[b.name]||(a[b.name]=b.value)});return a},refreshUpdateMergeFields:function(){var a=c.byId("merge_id").value;k(".merge-field",this.domNode).forEach(function(b){b.style.display=b.id=="merge-field-"+a?"":"none"})},refreshActionOptions:function(){actions=k("[name\x3daction]",this.domNode)[0];merge=k("[data-container\x3daction-merge]",this.domNode);merge_value=k("[data-container\x3daction-merge-value]",this.domNode);segment=k("[data-container\x3daction-segment]",this.domNode);grouping=k("[data-container\x3daction-grouping]",
this.domNode);merge.style("display","none");merge_value.style("display","none");segment.style("display","none");grouping.style("display","none");"update_merge"==actions.value?(merge.style("display",""),merge_value.style("display","")):"join_interest"==actions.value||"leave_interest"==actions.value?grouping.style("display",""):("add_segment"==actions.value||"remove_segment"==actions.value)&&segment.style("display","");c.byId("join-group-warning").style.display="join_interest"==actions.value?"block":
"none"}})})},"mojo/widgets/automation/QueueAddContent":function(){define("dojo/_base/declare dojo/query dojo/on dojo/html dojo/json dojo/dom dojo/dom-construct dojo/dom-class dojo/dom-attr dojo/dom-style dojo/parser dojo/request dojo/_base/array dojo/_base/lang dijit/registry mojo/app/campaigns/recipients mojo/url mojo/utils ./_OverlayContentMixin velocity/velocity velocity/velocity.ui".split(" "),function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s,v,w,u){return h(w,{path:"/automations/email-queue-add",delayTime:null,
onLoad:function(){this.updateSegmentCount();listId=this._getCampaignData().list_id;this.own(d(this.domNode,"[data-workflow-segment-members]:click",t.hitch(this,"_openQueueCountPopup",listId)),d(this.domNode,"[data-workflow-calculate-count]:click",t.hitch(this,"updateSegmentCount")),d(this.domNode,"[name\x3dsegment-type]:click",function(){k("[data-mc-segment-options]").style("display","none");k("[data-mc-segment-options\x3d"+this.value+"]").style("display","block");var a;switch(this.value){case "list":break;
case "saved":a=q.byId("savedsegmentpane");a.refresh();break;case "new":a=q.byId("segmentpane-"+listId);a.refresh();break;default:throw Error("New segment option does not have a handler");}}));var a="segmentpane-"+listId;q.byId(a).on("load",function(){r.reloadSegmentCallbacks(a)})},destroy:function(){widgets=q.findWidgets(this.domNode);widgets.forEach(function(a){a.destroyRecursive()});f.destroy(this.domNode)},updateSegmentCount:function(){var a=k("[data-workflow-segment-count]",this.domNode)[0];this._clearDelayTimer();
this.delayTimer=setTimeout(t.hitch(this,function(){a.innerHTML="\x3cp\x3eCalculating recipient count...\x3c/p\x3e";this.delayTimer=null}),100);var b=t.hitch(this,function(b){this._clearDelayTimer();b=b.count;a.innerHTML="\x3cp\x3e"+('\x3ca href\x3d"#" data-workflow-segment-members\x3e'+b+" subscriber"+(1!=b?"s":"")+"\x3c/a\x3e will be added to the workflow. ")+' \x3ca href\x3d"#" data-workflow-calculate-count\x3eRefresh count\x3c/a\x3e\x3c/p\x3e'}),c=t.hitch(this,function(){this._clearDelayTimer();
a.innerHTML='Failed to get count. \x3ca href\x3d"#" data-workflow-calculate-count\x3eTry again.\x3c/a\x3e'});this._getSegmentCount().then(b,c)},_getSegmentCount:function(){var a=t.mixin({id:this.emailId,"queue-action":"add"},this._getWorkflowValues());return n.post(s.toUrl("campaigns/wizard/automation/queue-management-count"),{data:a,handleAs:"json"})},_openQueueCountPopup:function(a){var b=t.mixin({id:this.emailId,"queue-action":"add",__csrf_token:k("[name\x3d__csrf_token]")[0].value},this._getWorkflowValues());
n.post(s.toUrl("campaigns/wizard/automation/queue-members"),{data:b,sync:!0,handleAs:"text"});a=s.toUrl("campaigns/segments/popup?id\x3d"+this.emailId+"\x26lid\x3d"+a);a=window.open(a,"_blank","toolbar\x3d0,scrollbars\x3d1,location\x3d0,status\x3d1,menubar\x3d0,resizable\x3d1,width\x3d600,height\x3d400");v.checkPopupWin(a)},_clearDelayTimer:function(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)},_getCampaignData:function(){var a;n.post(s.toUrl("/automations/email-queue-data"),
{data:{emailId:this.emailId},sync:!0,handleAs:"json"}).then(function(b){a=b});return a},_getWorkflowValues:function(){var a={};k("input,select",this.domNode).forEach(function(b){var c=b.type||"",d=b.value,e=b.name;"select-multiple"==c&&p.forEach(b.options,function(b){a[e]||(a[e]=[]);b.selected&&a[e].push(b.value)});if("radio"==c||"checkbox"==c)b.checked||(d=null);"tags"==e&&d&&(a[e]||(a.tags=[]),a.tags.push(d));a[e]||(a[e]=d)});return a},_save:function(){var a="",b=t.mixin({id:this.emailId,"queue-action":"add",
__csrf_token:k("[name\x3d__csrf_token]")[0].value},this._getWorkflowValues());n.post(s.toUrl("campaigns/wizard/automation/queue-management-post"),{data:b,sync:!0,handleAs:"text"}).then(function(b){a=b});return a},_validate:function(){return!0}})})},"mojo/widgets/automation/QueueRemoveContent":function(){define("dojo/_base/declare dojo/query dojo/on dojo/html dojo/json dojo/dom dojo/dom-construct dojo/dom-class dojo/dom-attr dojo/dom-style dojo/parser dojo/request dojo/_base/array dojo/_base/lang dijit/registry mojo/app/campaigns/recipients mojo/url mojo/utils ./_OverlayContentMixin velocity/velocity velocity/velocity.ui".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s,v,w,u){return h(w,{path:"/automations/email-queue-remove",delayTime:null,onLoad:function(){this.updateSegmentCount();listId=this._getCampaignData().list_id;this.own(d(this.domNode,"[data-workflow-segment-members]:click",t.hitch(this,"_openQueueCountPopup",listId)),d(this.domNode,"[data-workflow-calculate-count]:click",t.hitch(this,"updateSegmentCount")),d(this.domNode,"[name\x3dsegment-type]:click",function(){k("[data-mc-segment-options]").style("display",
"none");k("[data-mc-segment-options\x3d"+this.value+"]").style("display","block");var a;switch(this.value){case "list":break;case "saved":a=q.byId("savedsegmentpane");a.refresh();break;case "new":a=q.byId("segmentpane-"+listId);a.refresh();break;default:throw Error("New segment option does not have a handler");}}));var a="segmentpane-"+listId;q.byId(a).on("load",function(){r.reloadSegmentCallbacks(a)})},destroy:function(){widgets=q.findWidgets(this.domNode);widgets.forEach(function(a){a.destroyRecursive()});
f.destroy(this.domNode)},updateSegmentCount:function(){var a=k("[data-workflow-segment-count]",this.domNode)[0];this._clearDelayTimer();this.delayTimer=setTimeout(t.hitch(this,function(){a.innerHTML="\x3cp\x3eCalculating recipient count...\x3c/p\x3e";this.delayTimer=null}),100);var b=t.hitch(this,function(b){this._clearDelayTimer();b=b.count;a.innerHTML="\x3cp\x3e"+('\x3ca href\x3d"#" data-workflow-segment-members\x3e'+b+" subscriber"+(1!=b?"s":"")+"\x3c/a\x3e will be removed from the workflow. ")+
' \x3ca href\x3d"#" data-workflow-calculate-count\x3eRefresh count\x3c/a\x3e\x3c/p\x3e'}),c=t.hitch(this,function(){this._clearDelayTimer();a.innerHTML='Failed to get count. \x3ca href\x3d"#" data-workflow-calculate-count\x3eTry again.\x3c/a\x3e'});this._getSegmentCount().then(b,c)},_getSegmentCount:function(){var a=t.mixin({id:this.emailId,"queue-action":"remove"},this._getWorkflowValues());return n.post(s.toUrl("campaigns/wizard/automation/queue-management-count"),{data:a,handleAs:"json"})},_openQueueCountPopup:function(a){var b=
t.mixin({id:this.emailId,"queue-action":"remove",__csrf_token:k("[name\x3d__csrf_token]")[0].value},this._getWorkflowValues());n.post(s.toUrl("campaigns/wizard/automation/queue-members"),{data:b,sync:!0,handleAs:"text"});a=s.toUrl("campaigns/segments/popup?id\x3d"+this.emailId+"\x26lid\x3d"+a);a=window.open(a,"_blank","toolbar\x3d0,scrollbars\x3d1,location\x3d0,status\x3d1,menubar\x3d0,resizable\x3d1,width\x3d600,height\x3d400");v.checkPopupWin(a)},_clearDelayTimer:function(){this.delayTimer&&(clearTimeout(this.delayTimer),
this.delayTimer=null)},_getCampaignData:function(){var a;n.post(s.toUrl("/automations/email-queue-data"),{data:{emailId:this.emailId},sync:!0,handleAs:"json"}).then(function(b){a=b});return a},_getWorkflowValues:function(){var a={};k("input,select",this.domNode).forEach(function(b){var c=b.type||"",d=b.value,e=b.name;"select-multiple"==c&&p.forEach(b.options,function(b){a[e]||(a[e]=[]);b.selected&&a[e].push(b.value)});if("radio"==c||"checkbox"==c)b.checked||(d=null);"tags"==e&&d&&(a[e]||(a.tags=[]),
a.tags.push(d));a[e]||(a[e]=d)});return a},_save:function(){var a="",b=t.mixin({id:this.emailId,"queue-action":"remove",__csrf_token:k("[name\x3d__csrf_token]")[0].value},this._getWorkflowValues());n.post(s.toUrl("campaigns/wizard/automation/queue-management-post"),{data:b,sync:!0,handleAs:"text"}).then(function(b){a=b});return a},_validate:function(){return!0}})})},"mojo/logger":function(){define(["dojo/request","mojo/url"],function(h,k){var d={pythia:{logEvent:function(g,b){if("string"!=typeof g)throw Error("You must provide an event name");
"undefined"===typeof b&&(b={});b.event_name=g;d.logData(b,"pythia")}},marketing:{logData:function(g){d.logData(g,"marketing")}},info:function(d,b,c){if("string"!==typeof d)throw Error("channelName must be provided");if("string"!==typeof b)throw Error("message must be provided");c=c||{};h.post(k.toUrl("track/log"),{data:{channelName:d,message:b,data:JSON.stringify(c)}})},logData:function(d,b){"undefined"===typeof d&&(d={});if("string"!=typeof b)throw Error("You must provide a log type");var c={data:JSON.stringify(d),
type:b};h.post(rootUrl+"track",{data:c})},stdPath:function(d){d=d.replace(/\/$/,"");return d=d.replace(/-post$/,"")}};return d})},"mojo/widgets/BillingInfo":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dojo/text!./templates/BillingInfo.html dojo/request/xhr mojo/url dojo/_base/lang dojo/on dojo/dom-style dojo/dom-attr dojo/dom-class dojo/query mojo/app/account/billing".split(" "),function(h,k,d,g,b,c,f,l,e,a,m,n,p){return h([k,d],{templateString:g,canPurchase:!1,postCreate:function(){this.inherited(arguments);
this.updatePaymentMethod();l(this.domNode,"[data-mc-el\x3deditPaymentMethodBtn]:click",f.hitch(this,function(a){a.preventDefault();a.stopPropagation();p.editBillingInfo().then(f.hitch(this,this.updatePaymentMethod))}))},updatePaymentMethod:function(){b.get(c.toUrl("account/get-payment-info"),{handleAs:"json"}).then(f.hitch(this,function(a){this.set("canPurchase",a.canPurchase);this.paymentInfoContainer.innerHTML=a.html}))}})})},"mojo/app/account/billing":function(){define("dojo/_base/declare mojo/views/_base dojo/query dojo/on dojo/_base/lang dojo/request/xhr dojo/dom-attr dojo/dom-class dojo/dom-style dojo/dom-construct dojo/parser dojo/_base/array dojo/html dojo/dom dojo/aspect dijit/registry dijit/layout/ContentPane dijit/Dialog mojo/app/wizard mojo/utils mojo/url dojo/io-query dojo/dom-form dojo/Deferred mojo/app/account/paypal dojo/NodeList-manipulate dojo/NodeList-traverse".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s,v,w,u,y,x,A,C,D){var E=function(a){d(".cancel-button",a.domNode).on("click",function(b){b.stopPropagation();b.preventDefault();a.hide()})},G=function(){var a=d("[data-mc-el\x3d'editContactMethod']"),b=t.byId("contactSummary"),c=t.byId("contactForm");if(a)a.on("click",function(a){l.toggle(b,"hide");l.toggle(c,"hide")})},H=function(){g(t.byId("country"),"change, click",function(a){t.byId("adyen-select")&&(a=t.byId("country").value,-1!=n.indexOf([9,16,59,109],
a)?(l.remove("adyen-select","hide"),t.byId("use_adyen").checked&&l.remove("payment-adyen","hide")):(l.add("adyen-select","hide"),l.add("payment-adyen","hide")));t.byId("paypal-select")&&(a=t.byId("country").value,157==a?(l.add("paypal-select","hide"),l.add("payment-paypal","hide"),t.byId("use_paypal").checked=!1):(l.remove("paypal-select","hide"),t.byId("use_paypal").checked&&l.remove("payment-paypal","hide")))});t.byId("country").click()},M=function(a){t.byId("payment-adyen")&&l.add("payment-adyen",
"hide");d("input[name\x3d'payment-method']").forEach(function(a){var b=t.byId(f.get(a,"data-show-el"));b&&(a.checked?l.remove(b,"hide"):l.add(b,"hide"))});a||(a=d("#payment-details").closest(".dijitDialogPaneContent")[0],a.scrollTop=a.scrollHeight)},J=function(){g(dijit.byId("copyfrom"),"change",function(a){a=this.value;0!=a&&c.post(y.toUrl("account/copy-from"),{data:{from:a},handleAs:"json"}).then(function(a){var b=null;for(b in a)t.byId(b)&&(t.byId(b).value=a[b])})})},S=function(){var a=t.byId("cc_num"),
b=t.byId("cc_num_label"),c=b.innerHTML,d="";dojo.connect(a,"onkeyup",function(e){4<=a.value.length&&a.value.substr(0,4)!=d&&(d=a.value.substr(0,4),dojo.xhrGet({url:y.toUrl("account/credit-card-type",{num:d}),handleAs:"text",load:function(a){""!=a&&(b.innerHTML=a)}}));0==a.value.length&&(b.innerHTML=c)})},W=function(a){t.byId("billing-info-error").innerHTML=a;d("#billing-info-error").closest(".error").forEach(function(a){l.remove(a,"hide")})},X=function(b,d,e,f){c.post(d,{data:b,handleAs:"json"}).then(function(c){if(c.error_msg){Q();
if("object"==typeof c.errors){for(var d in c.errors){var g=c.errors[d];"cc_exp_month"==d||"cc_exp_year"==d?(d="cc-exp",a.place('\x3cspan class\x3d"invalid-error inline-block !margin--lv0"\x3e'+g+"\x3c/span\x3e",t.byId(d),"after")):a.place('\x3cspan class\x3d"invalid-error"\x3e'+g+"\x3c/span\x3e",t.byId(d),"after");l.add(t.byId(d),"invalid")}t.byId(Object.keys(c.errors)[0]).focus()}W(c.error_msg)}else e.hide(),f.resolve(b)},function(a){W("There was a problem editing your payment information. Please try again. "+
a)})},K=function(){var a=t.byId("modal-save-button");a.disabled||(a.disabled=!0,u.toggleButtonLoadingState(a),setTimeout(Q,2E3))},Q=function(){var a=t.byId("modal-save-button");a&&a.disabled&&(a.disabled=!1,u.toggleButtonLoadingState(a))};return{refreshPaymentInfo:function(a,b){var e=new C;if("undefined"==typeof a||null==a)a="default";if("undefined"==typeof b||null==b)b="current-billing-info";d("#".refreshLocation)&&(domBlock=t.byId(b),c(y.toUrl("account/billing-info-snippet",{template:a})).then(function(a){try{n.forEach(r.findWidgets(domBlock),
function(a){a.destroy()}),domBlock.innerHTML=a,m.parse(domBlock)}catch(b){location.reload()}e.resolve()},function(a){location.reload()}));return e},removeBillingInfo:function(){var a=new C,b=new v({title:"Remove Payment Method",onHide:function(){b.destroyRecursive()},onDownloadEnd:function(){E(b);d("form",b.domNode).on("submit",function(d){d.stopPropagation();d.preventDefault();c(y.toUrl("/account/delete-payment-post"),{handleAs:"json"}).then(function(c){c.error?W(c.error):(b.hide(),a.resolve(),u.toast("Swell. Your payment method has been removed."))},
function(a){W("There was a problem removing your payment method. Please try again.")})})}});b.setHref(y.toUrl("account/delete-payment-modal",{redirect:window.location.pathname}));b.show();return a},updateBillingEmail:function(){var a=new C,b=new v({title:"Update Billing Email",onHide:function(){b.destroyRecursive()},onDownloadEnd:function(){E(b);d("form",b.domNode).on("submit",function(d){d.stopPropagation();d.preventDefault();d=A.toObject(this);var e=f.get(this,"action");c.post(e,{data:d,handleAs:"json"}).then(function(c){c.error_msg?
W(c.error_msg):(b.hide(),a.resolve(),u.toast("Billing email updated"))},function(a){W("There was a problem switching your email address. Please try again.")})})}});b.set("href",y.toUrl("account/billing-email-modal"));b.show();return a},editBillingInfo:function(){var b=new C,c=new v({title:"Edit Payment Method",onHide:function(){c.destroyRecursive()},onDownloadEnd:function(){E(c);M(!0);G();J();S();u.countrySelectField("country","state-container",y.toUrl("/account/country-has-state"));u.zipToStateField("zip",
"state",y.toUrl("/account/zip-to-state"));u.zipToCityField("zip","city","country",y.toUrl("/account/zip-to-city"));H();var e=d("[data-mc-el\x3d'oneTimeFeeLabel']")[0],g=d("[data-mc-el\x3d'adyenSetupFeeLabel']")[0];e&&0<e.dataset.usd&&!g&&(e=d("[data-mc-el\x3d'adyen-msg-block']")[0])&&l.toggle(e,"hide");(e=d("[data-mc-el\x3d'default-adyen-msg']")[0])&&l.toggle(e,"hide",y.inUrl("billing-plan"));(e=d("[data-mc-el\x3d'default-adyen-msg']")[0])&&l.toggle(e,"hide",!y.inUrl("billing-plan"));d("input[name\x3d'payment-method']").on("change",
function(a){M()});d("form",c.domNode).on("submit",function(e){e.stopPropagation();e.preventDefault();K();d(".invalid-error",this).forEach(a.destroy);d(".invalid",this).forEach(function(a){l.remove(a,"invalid")});d(".invalid-error").forEach(a.destroy);var g=!0;d("label.required").forEach(function(b){0!=b.offsetHeight&&(b=t.byId(f.get(b,"for")),""==b.value&&(l.add(b,"invalid"),a.place('\x3cspan class\x3d"invalid-error"\x3eYou missed this field\x3c/span\x3e',b,"after"),g=!1))});if(g){var h=this,k=A.toObject(h),
m=f.get(h,"action");"paypal"==k["payment-method"]&&!t.byId("is_paypal_already").value?D.showPayPal(function(a){W("Something went wrong, please select another payment method.")}).then(function(a){K();k=A.toObject(h);k.nonce=a.nonce;k.email=a.details.email;X(k,m,c,b)}):X(k,m,c,b)}})}});c.set("href",y.toUrl("account/billing-info-modal"));c.show();return b}}})},"mojo/views/_base":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/Stateful dijit/registry dojo/aspect dojo/query dojo/dom-attr dojo/ready dojo/NodeList-dom dojo/NodeList-manipulate dojo/NodeList-traverse mojo/NodeList-velocity".split(" "),
function(h,k,d,g,b,c,f,l,e){return h([g],{$el:{},$widget:{},$group:{},onInit:function(){},onReady:function(){},parse:function(a){f("[data-mc-el],[data-mc-group]",a).forEach(k.hitch(this,"_registerEl"))},run:function(){c.after(b,"add",k.hitch(this,"_registerWidget"),!0);c.before(b,"remove",k.hitch(this,"_unregisterWidget"),!0);k.hitch(this,"onInit")();e(200,k.hitch(this,function(){this.parse(window.document)}));e(k.hitch(this,"onReady"))},_registerEl:function(a){var b=l.get(a,"data-mc-el"),c=l.get(a,
"data-mc-group");b&&(this.$el[b]=a);c&&(this.$group[c]=this.$group[c]||f.NodeList(),this.$group[c].push(a))},_registerWidget:function(a){a["data-mc-el"]&&(this.$widget[a["data-mc-el"]]=a)},_unregisterWidget:function(a){a=(a=b.byId(a))&&a["data-mc-el"];this.$widget[a]&&delete this.$widget[a]}})})},"mojo/NodeList-velocity":function(){define(["dojo/_base/lang","dojo/query","velocity/velocity"],function(h,k,d){h.extend(k.NodeList,{velocity:function(){h.partial(d,this).apply(null,arguments);return this}})})},
"mojo/app/wizard":function(){define("dojo/query dojo/dom dojo/on dojo/dom-style dojo/Deferred dojo/dom-construct dojo/dom-class dojo/dom-geometry dojo/_base/array dojo/_base/lang dojo/_base/window dojo/window dojo/ready dojo/keys dojo/touch dojo/dom-attr dojo/_base/xhr dijit/ProgressBar dijit/registry mojo/utils mojo/widgets/Previewer mojo/async mojo/user mojo/url mojo/flags dojo/NodeList-traverse".split(" "),function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s,v,w,u,y,x,A,C,D){var E={},G=[],H=!1,M=null;p(function(){M=
h("[data-type\x3dwizardNext]")[0]});var J=function(){H||k.byId("wizard-form").submit()},S={onNextSubmit:function(a){G.push(a)},goToNextStep:function(a){r.set(a,"value","please wait...");setTimeout(function(){a.disabled=!0},0);try{e.forEach(G,function(a){a()})}catch(b){}J()},skipDomainVerification:function(){k.byId("skip-domain-verification").value=1;J()},disableForm:function(){H=!0;r.set(M,"disabled","disabled")},enableForm:function(){H=!1;r.remove(M,"disabled")},togglePreview:function(){this.newPreviewer||
(this.newPreviewer=new y({previewId:this.currentCampaignId,previewType:this.campaignType,titleText:this.campaignTitle,showMergeInfo:this.showMergeInfo,splitsOnSubject:this.splitsOnSubject}));!0===this.newPreviewer.displayActive?this.newPreviewer.hide():this.newPreviewer.show()},toggleInboxPreview:function(){this.togglePreview();this.newPreviewer&&this.newPreviewer.changeView("inbox")},resetSendTestDialog:function(){k.byId("send-test-success").style.display="none";k.byId("send-test-error").style.display=
"none";k.byId("send-test-samedomain").style.display="none";k.byId("send-test-form").style.display=""},resetAutomationSendTestDialog:function(){var a=h(".test-child-campaigns")[0],b=w.byId("test-specific-email"),c=w.byId("test-all"),d=k.byId("automation-test-email"),e=k.byId("automation-test-message");b.checked&&(a.style.display="none",b.attr("checked",!1),c.attr("checked",!0));d.value="";e.value="";a=h("[for\x3d'automation-test-message']")[0];f.contains(a,"disclosure-open")&&mojo.utils.disclosureElement("automation-top-bar",
a,!1);k.byId("automation-send-test-success").style.display="none";k.byId("automation-send-test-samedomain").style.display="none";k.byId("automation-send-test-form").style.display=""},showSendTestDialog:function(){S.resetSendTestDialog();w.byId("send-test-modal").show();k.byId("test-email").focus()},showAutomationSendTestDialog:function(){S.resetAutomationSendTestDialog();w.byId("automation-send-test-modal").show();k.byId("automation-test-email").focus()},showPushToMobileDialog:function(){dijit.byId("push-mobile-dialog").show()},
showAutomationStartModal:function(a){w.byId("automation-start-modal").toURL=a;w.byId("automation-start-modal").show()},sendTest:function(a,b,c,d){d?u.toggleButtonLoadingState(d):u.toggleButtonLoadingState(dojo.query(".send-test-button"));setTimeout(function(){C.toUrl("campaigns/wizard/send-test-text");var g=C.toUrl("campaigns/wizard/send-test"),l=C.toUrl("templates/send-test");a&&(g+="?group\x3d"+a);"template"===b&&(g=l);var m=k.byId("test-email");m.nextSibling&&f.contains(m.nextSibling,"invalid-error")&&
m.parentNode.removeChild(m.nextSibling);k.byId("send-test-samedomain").style.display="none";for(var l=m.value.split(","),n=0;n<l.length;++n){var p=l[n],p=p.replace(/\s+/g,""),p=p.split("@");if(window.campaign_from_domain&&p[1]&&p[1]==window.campaign_from_domain){k.byId("send-test-samedomain").style.display="";break}}p=h("input:checked","sendtest-users");l=[];for(n=0;n<p.length;n++)l.push(p[n].value);for(var q=h("input:checked","sendtest-notifications"),p=[],n=0;n<q.length;n++)p.push(q[n].value);var n=
k.byId("test-message"),q="",r="N";n&&(q=n.value,r="Y");var x=document.createElement("div");x.className="test-sending progress section";x.innerHTML="\x3ch4\x3esending test\x3c/h4\x3e";n=document.createElement("div");x.appendChild(n);var t=k.byId("send-test-form");t.style.display="none";t.parentNode.insertBefore(x,t);var y=new v({indeterminate:!0},n),n={};n.id=c;n["test-email"]=m.value;l&&(n["login-ids"]=l.join());q&&(n["test-message"]=q);r&&(n["include-message"]=r);p&&(n["notification-ids"]=p.join());
w.byId("test-all")&&(l=w.byId("test-all").checked)&&(n["test-all"]=l);if(w.byId("test-specific-email")&&(l=w.byId("test-specific-email").checked)){n["test-specific-email"]=l;var A=[];e.forEach(h("[name^\x3dcampaign_]"),function(a,b){a.checked&&A.push(a.name.split("_")[1])});n["test-selected"]=A.join()}l=w.byId("test-subjectSelect");p=w.byId("test-fromNameSelect");l&&(n.subject_variate=l.value);p&&(n.from_variate=p.value);s.post({url:g,content:n,handleAs:"json",sync:!0,load:function(a){y.destroyRecursive();
x.parentNode.removeChild(x);if(a.error)if(w.byId("test-all")||w.byId("test-specific-email"))k.byId("send-test-error").style.display="",k.byId("send-test-error-message").innerHTML=a.error_msg;else{k.byId("send-test-form").style.display="";var b=document.createElement("span");f.add(b,"invalid-error");f.add(m,"invalid");b.innerHTML=a.error_msg;m.parentNode.insertBefore(b,m.nextSibling);f.remove(k.byId("test-limit-warning"),"hide")}else k.byId("send-test-success").style.display="",h(".finish-tests")[0].focus();
d?u.toggleButtonLoadingState(d):u.toggleButtonLoadingState(dojo.query(".send-test-button"))}})},200)},handleSendTestKeyPress:function(a){a.keyCode==t.ENTER&&h(".send-test-button")[0].click()},optimizeSendTime:function(a,c,d){E[a]=E[a]||{};if(E[a][c]&&!d)return E[a][c];d=new b;E[a][c]=d;S._optimizeSendTimeCall(a,c,d);return d},_optimizeSendTimeCall:function(a,b,c){var d={url:C.toUrl("campaigns/wizard/optimize-send-time"),handleAs:"json",content:{id:a,schedule_date:b}};x(s.post(d),{onError:function(a){c.reject(a)},
onFailed:function(a){c.reject(a)},onComplete:function(a){a.cached?c.resolve(a):s.post(d).then(function(a){c.resolve(a)})}})},moveFinalAction:function(a){var b=h(".final-action-container")[0];c.place(a,b,"only")},repositionFlashBlock:function(){var a=k.byId("av-flash-block"),b=h(".flash-block-container")[0];c.place(a,b,"only")},getPlainText:function(a){var c=new b,d=k.byId("edit-plaintext-dialog-"+a),e=h("textarea",d)[0];s.get({url:C.toUrl("campaigns/get-text",{id:a}),handleAs:"json"}).then(function(a){switch(a.status){case "error":c.reject();
break;default:e.value=a.content,e.focus(),c.resolve()}});return c},showPlainTextDialog:function(a){var b=dijit.byId("edit-plaintext-dialog-"+a);this.getPlainText(a).then(function(){b.show()})},hidePlainTextDialog:function(a){dijit.byId("edit-plaintext-dialog-"+a).hide()},savePlainTextFromModal:function(a,b){u.toggleButtonLoadingState(a);var c=k.byId("edit-plaintext-dialog-"+b),d=h(".plain-text-checklist-item[data-campaign-id\x3d"+b+"]")[0],e=h("textarea",c)[0];e.value?mojo.app.wizard.syncCampaignPlainText(e.value,
!1,b).then(function(c){switch(c.status){case "error":u.toggleButtonLoadingState(a);break;default:u.toggleButtonLoadingState(a);c=h(".media-image .freddicon",d)[0];var l=r.get(c,"data-icon-style");l||(l="fill-large");f.remove(c,"warn-"+l);f.add(c,"tick-"+l);g.set(h("[data-message-type\x3dsuccess]",d)[0],"display","none");g.set(h("[data-message-type\x3dwarning]",d)[0],"display","none");g.set(h("[data-message-type\x3dedited]",d)[0],"display","");dijit.byId("edit-plaintext-dialog-"+b).hide();mojo.app.wizard.cachedTextContent=
e.value}}):(confirm("A plain-text version of your email is required. Why don't you generate it from the HTML version?"),u.toggleButtonLoadingState(a))},regenPlainText:function(a,b){var c=k.byId("edit-plaintext-dialog-"+b),d=h("textarea",c)[0];u.toggleButtonLoadingState(a);s.post({url:C.toUrl("campaigns/regen-text",{id:b}),handleAs:"json"}).then(function(b){switch(b.status){case "error":u.toggleButtonLoadingState(a);break;default:r.set(d,"value",b.content),u.toggleButtonLoadingState(a)}})},syncCampaignPlainText:function(a,
c,d){var e=new b;s.post({url:C.toUrl("campaigns/text-update",{id:d}),handleAs:"json",sync:c,content:{text:a}}).then(function(a){switch(a){case "error":e.reject(a);break;default:e.resolve(a)}});return e},syncCampaignHtml:function(a,c,d){var e=new b;s.post({url:C.toUrl("campaigns/wizard/html-update"),handleAs:"text",sync:d,content:{html:a,id:mojo.app.wizard.currentCampaignId,inline_css:c}}).then(function(a){switch(a){case "error":e.reject(a);break;default:e.resolve(a)}});return e},syncCampaignUrl:function(a,
c,d){var e=new b;s.post({url:C.toUrl("campaigns/wizard/url-update"),content:{url:a,id:mojo.app.wizard.currentCampaignId,"auto-footer":c},sync:d,handleAs:"text"}).then(function(a){switch(a){case "error":e.reject(a);break;default:e.resolve(a)}});return e},syncTemplateHtml:function(a,c,d){var e=new b;s.post({url:C.toUrl("templates/design/save"),handleAs:"text",sync:d,content:{tid:a,html:c,type:"overwrite"}}).then(function(a){switch(a){case "error":e.reject(a);break;default:e.resolve(a)}});return e},
pushPreviewToMobile:function(){s.post({url:C.toUrl("campaigns/wizard/send-to-mobile",{id:mojo.app.wizard.currentCampaignId}),handleAs:"json"}).then(function(a){switch(a){case result.success:dojo.publish("show-toast",[{message:"Sent!",type:"message"}]);break;default:dojo.publish("show-toast",[{message:"Unable to send to your mobile device. Please try again shortly",type:"error"}])}});dijit.byId("push-mobile-dialog")&&dijit.byId("push-mobile-dialog").hide()},refreshIframes:function(){var a=r.get(h(".preview-frame")[0],
"src");h(".preview-frame",this.domNode).attr("src","");h(".preview-frame",this.domNode).attr("src",a)},instantiateEditorTabs:function(a){if(a)h("button",a).on("click",function(b){b.stopPropagation();b.preventDefault();var c=b.target;"BUTTON"!=c.nodeName&&(c=h(b.target).closest("button")[0]);h("button",a).removeClass("v-buttonGroupBordered--active");h(c).addClass("v-buttonGroupBordered--active");b=c.id.replace("link","pane");w.byId("toolcol-panes").selectChild(b);return!1});this.enableSideBarToggle()},
enableSideBarToggle:function(){var a=h(".drawer-tab")[0];a&&d(a,q.press,function(a){a.stopPropagation();a.preventDefault();f.toggle(m.body(),"open-drawer")})},instantiateMobilePreviewMenu:function(){var a=h(".mobile-top-nav")[0];a&&(d(a,"click",function(){f.toggle(this,"active")}),h(".exitnav \x3e ul \x3e li \x3e ul \x3e li \x3e ul a",this.domNode).forEach(function(b){d(b,"click",function(){f.remove(a,"active")})}))},setPaneSplitsPx:function(a,b){var c=h(".split-left")[0],d=h(c).siblings(".split-right")[0];
if(a||b)if(c&&d)400<=a&&315<=b&&(h(c).style("right",b+"px"),h(d).style("width",b+"px"),w.byId("toolcol-panes")&&w.byId("toolcol-panes").resize());else throw Error("an .rcol and .lcol container could not be found to set a split with.");else h(c).style("right",""),h(d).style("width","")},setPaneSplitsPercentage:function(a){var b=n.getBox().w;rightSplitPx=b*(a/100);leftSplitPx=b-rightSplitPx;this.setPaneSplitsPx(leftSplitPx,rightSplitPx)},saveSplitTimer:{},saveSplit:function(a,b){clearTimeout(this.saveSplitTimer);
this.saveSplitTimer=setTimeout(function(){A.saveSetting(a,b)},400)},instantiateDragSplit:function(b,c){d(b,"dblclick",a.hitch(this,function(a){a.preventDefault();clearTimeout(this.saveSplitTimer);this.setPaneSplitsPx();this.saveSplit(c,null,!1)}));d(b,q.press,a.hitch(this,function(b){b.stopPropagation();b.preventDefault();h("html").addClass("cursor-col-resize");var d={},g=[],l=a.hitch(this,function(a){a.stopPropagation();a.preventDefault();a=Math.floor(a.clientX);var b=d.current_window_width-a,c=
a/d.current_window_width;400<=a&&315<=b&&(d.current_editor_split=a,this.setPaneSplitsPx(a,b),this.rightSplitCache=100*(1-c))}),p=a.hitch(this,function(a){clearTimeout(this.saveSplitTimer);c&&this.saveSplit(c,this.rightSplitCache);a=h("html")[0];f.remove(a,"cursor-col-resize");d.resize_active&&(delete d.resize_active,dojo.disconnect(d.mousemove_object),dojo.disconnect(d.mouseup_object),e.forEach(g,function(a){dojo.disconnect(a)}),g=[],k.byId("preview-template")&&this.resizePreview())});d.resize_active=
!0;d.current_window_width=n.getBox().w;d.mousemove_object=dojo.connect(m.body(),q.move,l);d.mouseup_object=dojo.connect(m.body(),q.release,p);h("#preview-template, .preview-frame").forEach(function(a){g.push(dojo.connect(a.contentWindow.document,q.move,l));g.push(dojo.connect(a.contentWindow.document,q.release,p))})}))},resizePreview:function(){var a=k.byId("preview-template");if("preview-template-design"!=r.get(a,"class")){var b;k.byId("template-previewtheme-campaign")?b=g.get("template-previewtheme-campaign",
"height")+75+"px":k.byId("template-previewtheme-template")?b=g.get("template-previewtheme-template","height")+75+"px":(b=a.contentWindow.document,l.position(b.body),b=u.docHeight(b)+"px");a.style.height=b;h(".iframe-dnd-overlay").style("height",b)}},hideIframeLoadingMessage:function(a){h(a).siblings(".iframe-loading-message").style("display","none");f.remove(h(a).parent(".iframe-wrapper")[0],"loading");this.resizePreview()},showIframeLoadingMessage:function(a){h(a).siblings(".iframe-loading-message").style("display",
"block");f.add(h(a).parent(".iframe-wrapper")[0],"loading")}};return S})},"mojo/widgets/Previewer":function(){define("dojo/_base/declare mojo/widgets/TopSliderPane dojo/text!./templates/previewer.html dojo/on dojo/has dojo/dom dojo/dom-style dojo/dom-attr dojo/html dojo/request dojo/window dojo/_base/lang dojo/_base/array dojo/dom-construct dojo/dom-class dojo/query mojo/url mojo/widgets/ButtonGroup mojo/neapolitan/EditorPane mojo/widgets/previewer/HeaderInfoPane mojo/widgets/previewer/InboxPreview".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s,v,w,u,y){return h([k],{badgeText:"Preview mode",paneClasses:"preview-container",content:d,headerInfoPane:null,previewId:null,previewType:null,previewView:"desktop",splitsOnSubject:!1,inboxPreviewEnabled:!0,variant:null,campaignType:null,constructor:function(a){n.mixin(this,a);if(!this.previewId)throw Error("Attempted to create HTML Preview Pane without a campaign or template ID.");if(!this.previewType)throw Error("Type of preview (campaign or template) is required.");
},postCreate:function(){this.inherited(arguments);this.editorPane=new w({paneId:"preview"},this.editorPane);this.editorPane.startup();this.viewToggler=new v({options:this._getToggleOptions(),onChange:n.hitch(this,"_changeView")},this.viewToggler);(this.isCustomTemplatePreview()||this.isDefaultTemplatePreview())&&e.set(this.badge,"Template preview mode");this.splitsOnSubject?q.add(this.desktopViewInner,"split-subject"):q.add(this.desktopViewInner,"no-split");var a=this.previewIframe,c=function(){r(a).parent().siblings(".iframe-loading-message").style("display",
"none");g(a.contentWindow.document,"keyup",window.hotKeyHandler)};8>=b("ie")&&a.attachEvent?a.attachEvent("onload",c):g(a,"load",c)},_getToggleOptions:function(){var a=[{value:"desktop",label:"Desktop"},{value:"mobile",label:"Mobile"}];this.isInboxPreviewEnabled()&&a.push({value:"inbox",label:"Inbox"});return a},changeView:function(a){this.viewToggler.set("value",a)},_changeView:function(a){this.previewView=a;switch(a){case "desktop":r(this.previewPane).removeClass(["preview-mobile","preview-inbox"]).addClass("preview-desktop");
r(this.bananaPhone).removeClass("hide").removeClass("bananaphone");r(this.approxMessage).addClass("hide");q.toggle(this.contentDom,"no-right-pane",!this.headerInfoPane);this._toggleInbox(!1);break;case "mobile":r(this.previewPane).removeClass(["preview-desktop","preview-inbox"]).addClass("preview-mobile");r(this.bananaPhone).removeClass("hide").addClass("bananaphone");r(this.approxMessage).removeClass("hide");q.toggle(this.contentDom,"no-right-pane",!this.headerInfoPane);this._toggleInbox(!1);break;
case "inbox":r(this.previewPane).removeClass(["preview-desktop","preview-mobile"]).addClass("preview-inbox");r(this.bananaPhone).addClass("hide");r(this.approxMessage).addClass("hide");q.remove(this.contentDom,"no-right-pane");this._toggleInbox(!0);break;default:throw Error("Unhandle preview view");}},_toggleInbox:function(a){this.headerInfoPane&&q.toggle(this.headerInfoPane.domNode,"hide",a);this.inboxPreview&&(a?this.inboxPreview.show():this.inboxPreview.hide())},show:function(){this.displayActive||
this._togglePreviewLoader(!1);return this.inherited(arguments)},refreshPreview:function(a){this._togglePreviewLoader(!0);l.set(this.previewIframe,"src",a)},previewUrl:function(){switch(this.previewType){case "template":return s.toUrl("templates/preview-template",{id:this.previewId});case "plaintext":return s.toUrl("campaigns/preview-content-text",{id:this.previewId});case "template_basic":return s.toUrl("campaigns/templates/preview-layout",{layout:this.previewId});case "template_theme":return s.toUrl("campaigns/templates/preview-template",
{id:this.previewId});default:return s.toUrl("campaigns/preview-content-html",{id:this.previewId,variant:this.variant})}},isDefaultTemplatePreview:function(){return"template_basic"==this.previewType||"template_theme"==this.previewType},isCustomTemplatePreview:function(){return"template"==this.previewType},isCampaignTemplatePreview:function(){return"template_campaign"==this.previewType},isCampaignPreview:function(){return!this.isCustomTemplatePreview()&&!this.isDefaultTemplatePreview()&&!this.isCampaignTemplatePreview()},
isInboxPreviewEnabled:function(){return"tx"===this.campaignType?!1:this.inboxPreviewEnabled&&(this.isCampaignPreview()||this.isCustomTemplatePreview())},_onShowCallback:function(){this.isCampaignPreview()&&(this.headerInfoPane=new u({campaignId:this.previewId,onMemberLoad:n.hitch(this,function(a){var b=this.previewUrl();a&&(b+="\x26e\x3d"+a);this.refreshPreview(b)})}),this.headerInfoPane.placeAt(this.sidePane));if(this.isInboxPreviewEnabled()){var a={clientPaneDom:this.sidePane,contentPaneDom:this.inboxPreviewContainer};
this.isCampaignPreview()?a.campaignId=this.previewId:a.templateId=this.previewId;this.inboxPreview=new y(a)}this.refreshPreview(this.previewUrl());this.viewToggler.setSelected(this.previewView)},_onHideCallback:function(){this.headerInfoPane&&this.headerInfoPane.destroy();this.inboxPreview&&this.inboxPreview.destroy()},_togglePreviewLoader:function(a){f.set(this.previewLoader,"display",a?"block":"")}})})},"mojo/widgets/ButtonGroup":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/dom-construct dojo/on dojo/dom-attr dojo/query dijit/_WidgetBase dijit/_TemplatedMixin".split(" "),
function(h,k,d,g,b,c,f,l,e){return h([l,e],{templateString:'\x3cul class\x3d"flex"\x3e\x3c/ul\x3e',options:[],itemTpl:'\x3cli class\x3d"c-buttonGroupItem"\x3e\x3cbutton type\x3d"button" data-mc-value\x3d"{value}" title\x3d"{title}" class\x3d"c-buttonGroupButton v-buttonGroupBordered" href\x3d"#"\x3e{label}\x3c/button\x3e\x3c/li\x3e',activeClass:"v-buttonGroupBordered--active",value:"",postCreate:function(){var a=this;this._addOptions();this.own(b(this.domNode,"button:click",function(b){b.stopPropagation();
b.preventDefault();b=c.get(this,"data-mc-value");a.set("value",b)}));this.watch("value",d.hitch(this,"_toggleActive"))},_toggleActive:function(){f("button[data-mc-value]",this.domNode).removeClass(this.activeClass);var a=this.value;a&&f("button[data-mc-value\x3d"+a+"]",this.domNode).addClass(this.activeClass);this.onChange(a)},_addOptions:function(){k.forEach(this.options,d.hitch(this,function(a){a=d.mixin({value:"",title:"",label:""},a);!a.title&&a.label&&(a.title=a.label);g.place(d.replace(this.itemTpl,
a),this.domNode)}))},setSelected:function(a){this.set("value",a);this._toggleActive()},onChange:function(a){}})})},"mojo/neapolitan/EditorPane":function(){define("dojo/_base/declare dijit/_Widget dijit/_Templated dojo/query dojo/_base/lang dojo/_base/connect dojo/dom-style dojo/dom-class dojo/dom-construct dojo/_base/Deferred velocity/velocity".split(" "),function(h,k,d,g,b,c,f,l,e,a,m){return h([k,d],{paneId:null,templateString:"\x3cdiv\x3e\x3cdiv data-dojo-attach-point\x3d'container'\x3e\x3c/div\x3e\x3c/div\x3e",
editor:null,postCreate:function(){var a=this;f.set(this.container,{width:"100%",height:"100%",position:"absolute",left:0,top:0,bottom:0,overflow:"hidden",background:"#ffffff"});f.set(this.domNode,"display","none");c.subscribe("mojo/editor/setup",this,function(b){a._isValidEditor(b)&&a.setup(b)});c.subscribe("mojo/editor/ready",this,function(b){a._isValidEditor(b)&&a.display(b)});c.subscribe("mojo/editor/done",this,function(b){if(a._isValidEditor(b))if(a.editor==b)a.closeEditor();else b.onClose()})},
_isValidEditor:function(a){return a.paneId||this.paneId?a.paneId===this.paneId:!0},setup:function(c){var d=new a;if(null==this.editor||this.editor&&this.editor!=c){var f=this.editor;this.editor=c;c=b.hitch(this,function(){if(f)f.onClose();e.place(this.editor.domNode,this.container,"only");this.editor.startup();d.resolve()});this.editor?this._hide(!0).then(c):c()}else d.resolve();return d},display:function(a){this.setup(a).then(b.hitch(this,function(){"none"==f.get(this.domNode,"display")&&this._show(!0).then(b.hitch(a,
a.onShow))}))},saveEditor:function(){this.editor&&this.editor.save&&this.editor.save(!0)},closeEditor:function(){this.editor&&!this._closing&&(this._closing=!0,this._hide(!0).then(b.hitch(this,function(){this.editor.onClose();this.editor=null;this._closing=!1})))},_hide:function(c){var d=new a;g("#content-link.active").length&&g("body:not(.slider-editor)").removeClass("open-drawer");c?(l.add(this.domNode,"editorPaneHiding"),this._hideAnimation().then(b.hitch(this,function(){this._hide(!1);l.remove(this.domNode,
"editorPaneHiding");d.resolve()}))):(f.set(this.domNode,"display","none"),d.resolve());return d},_hideAnimation:function(){var c=new a,d=this.domNode.offsetWidth,e=Math.round(100*(d/250+1));m(this.container,{left:d},{duration:e,easing:"easeOutExpo",complete:b.hitch(this,function(){c.resolve()})});return c.promise},_show:function(b){var c=new a;g("body").addClass("open-drawer");b?this._showAnimation().then(function(){c.resolve()}):(f.set(this.domNode,"display","block"),c.resolve());return c},_showAnimation:function(){var b=
new a;f.set(this.domNode,{display:"block"});var c=this.domNode.offsetWidth;f.set(this.container,{left:c+"px"});c=Math.round(100*(c/250+1));m(this.container,{left:"0px"},{duration:c,easing:"easeOutExpo",complete:function(){b.resolve()}});return b.promise}})})},"mojo/widgets/previewer/HeaderInfoPane":function(){define("dojo/_base/declare dijit/_Widget dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./templates/headerInfoPane.html dojo/on dojo/request dojo/_base/lang dojo/dom-construct dojo/dom-class dojo/_base/array mojo/KeyShortcuts mojo/url".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p){return h([k,d,g],{templateString:b,campaignId:null,rowTpl:"\x3cli class\x3d'!margin-bottom--lv4'\x3e\x3cp class\x3d'fwb !margin--lv0'\x3e{label}:\x3c/p\x3e\x3cp class\x3d'!margin--lv0'\x3e{value}\x3c/p\x3e\x3c/li\x3e",showMerge:!1,mergePosition:null,fetching:!1,_fetchRequest:null,postMixInProperties:function(){if(!this.campaignId)throw Error("HeaderInfoEditor requires a campaignId");},postCreate:function(){this.own(c(this.liveMergeSwitch,"change",l.hitch(this,function(){this._cancelRequest();
this.liveMergeSwitch.checked?this.nextMember():(this.mergePosition=null,a.remove(this.mergeNextBtn,"disabled"),this.hideMergeControls(),this.refreshHeaderInfo())})),c(this.mergePrevBtn,"click",l.hitch(this,function(a){a.stopPropagation();a.preventDefault();this.prevMember()})),c(this.mergeNextBtn,"click",l.hitch(this,function(a){a.stopPropagation();a.preventDefault();this.nextMember()})),n.onSpecialKey("RIGHT_ARROW",l.hitch(this,function(){this.liveMergeSwitch.checked&&(this._highlightBtn(this.mergeNextBtn),
this.nextMember())})),n.onSpecialKey("LEFT_ARROW",l.hitch(this,function(){this.liveMergeSwitch.checked&&(this._highlightBtn(this.mergePrevBtn),this.prevMember())})));this.refreshHeaderInfo();this.hideMergeControls()},nextMember:function(){!a.contains(this.mergeNextBtn,"disabled")&&!this.fetching&&(null==this.mergePosition?(this.mergePosition=0,this.showMergeControls()):this.mergePosition++,this.refreshHeaderInfo())},prevMember:function(){!this.fetching&&null!=this.mergePosition&&(0>=this.mergePosition?
(this.mergePosition=null,this.hideMergeControls()):this.mergePosition--,this.refreshHeaderInfo())},refreshHeaderInfo:function(){if(!this.fetching){this.fetching=!0;var b=this;null==this.mergePosition?this._fetchRequest=this._updateHeaderInfo():(this._fetchRequest=this._getPreviewRecipient(this.mergePosition),this._fetchRequest.then(function(c){var d=c.member_id;a.toggle(b.mergeNextBtn,"disabled",c.is_last);b._updateHeaderInfo(d)}))}},showMergeControls:function(){a.remove(this.mergePrevBtn,"hide");
a.remove(this.mergeNextBtn,"hide");this.refreshHeaderInfo()},hideMergeControls:function(){this.liveMergeSwitch.set("checked",!1);a.add(this.mergePrevBtn,"hide");a.add(this.mergeNextBtn,"hide")},_highlightBtn:function(b){a.add(b,"active");setTimeout(l.hitch(this,function(){a.remove(b,"active")}),200)},_updateHeaderInfo:function(b){var c=this;c.onMemberLoad(b);return this._getHeaderInfo(b).then(function(b){e.empty(c.body);var d=e.toDom("\x3cul\x3e\x3c/ul\x3e");m.forEach(b.rows,function(a){var b=e.place(l.replace(c.rowTpl,
a),d);a.meta&&e.place(l.replace("\x3cp class\x3d'!margin--lv0 dim-el fwb small-meta'\x3e{meta}\x3c/p\x3e",a),b)});b.info_message?(c.feedbackBody.innerHTML=b.info_message,a.remove(c.feedbackContainer,"hide")):a.add(c.feedbackContainer,"hide");e.place(d,c.body);c._finishRequest()})},_finishRequest:function(){this.fetching=!1;this._fetchRequest=null},_cancelRequest:function(){this.fetching&&(this._fetchRequest&&this._fetchRequest.cancel(),this._fetchRequest=null,this.fetching=!1)},_getPreviewRecipient:function(a){a=
{id:this.campaignId,pos:a};return f.get(p.toUrl("campaigns/preview-recipient"),{handleAs:"json",query:a})},_getHeaderInfo:function(a){a={id:this.campaignId,e:a?a:"default",type:"json"};return f.get(p.toUrl("campaigns/preview-headers"),{query:a,handleAs:"json"})},onMemberLoad:function(a){}})})},"mojo/widgets/previewer/InboxPreview":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/on dojo/dom-class dojo/topic dojo/Stateful dijit/Destroyable dojo/promise/all mojo/Pusher ./inbox-preview/api ./inbox-preview/ClientPane ./inbox-preview/ContentPane".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p){var t=h([f],{balance:null,available:null,channel:null,channelName:null,_connectPusher:function(){a.load().then(k.hitch(this,function(a){this.channel=a.subscribe(this.channelName);this._channelCallback=k.hitch(this,"_updateTokens");this.channel.bind("tokens-updated",this._channelCallback)}))},_updateTokens:function(a){this.set("balance",a.balance)},_disconnectPusher:function(){this.channel&&(this.channel.unbind(this._channelCallback),a.load().then(k.hitch(this,function(a){a.unsubscribe(this.channelName)})))},
destroy:function(){this.inherited(arguments);this._disconnectPusher()}}),q=h([f,l],{campaignId:null,templateId:null,tokens:null,previews:null,hasPreviews:!1,clients:null,clientLabels:{web:"Web-based",mobile:"Mobile",client:"Desktop"},numClientsSelected:0,previewsError:null,channel:null,_channelCallback:null,channelName:null,constructor:function(a){k.mixin(this,a);this.previews=new f;this.clients={}},fetchData:function(){var a=this.campaignId?m.getCampaignPreviews(this.campaignId):m.getTemplatePreviews(this.templateId),
b=m.getTokens(),a=e({p:a,t:b});a.then(k.hitch(this,function(a){this.clients=a.p.clients;this.update(a.p.previews);this.channelName=a.p.pushChannel;this._connectPusher();this.tokens.balance=a.t.balance;this.tokens.available=a.t.balance;this.tokens.numFreeMonthly=a.t.numFreeMonthly;this.tokens.channelName=a.t.pushChannel;this.tokens._connectPusher()}));return a},update:function(a){for(var b in a)a.hasOwnProperty(b)&&this.previews.set(b,a[b])},runPreview:function(a){this.tokens.set("balance",this.tokens.balance-
a.length);this.hasPreviews=!0;a.forEach(k.hitch(this,function(a){this.previews.set(a,{client:a,status:"queued"})}));(this.campaignId?m.previewCampaign(this.campaignId,a):m.previewTemplate(this.templateId,a)).then(k.hitch(this,function(a){this.set("previewsError",a.success?null:a.message);this.update(a.previews)}))},markAsViewed:function(a,b){m.updatePreview(a.preview_id,{viewed:b}).then(k.hitch(this,function(a){this.previews.set(a.client,a)}))},markAsApproved:function(a,b){m.updatePreview(a.preview_id,
{approved:b}).then(k.hitch(this,function(a){this.previews.set(a.client,a)}))},_connectPusher:function(){a.load().then(k.hitch(this,function(a){this.channel=a.subscribe(this.channelName);this._channelCallback=k.hitch(this,"_updatePreview");this.channel.bind("preview-updated",this._channelCallback)}))},_updatePreview:function(a){this.previews.set(a.client,a)},_disconnectPusher:function(){this.channel&&(this.channel.unbind(this._channelCallback),a.load().then(k.hitch(this,function(a){a.unsubscribe(this.channelName)})))},
destroy:function(){this.inherited(arguments);this._disconnectPusher()}});return h([l],{campaignId:null,templateId:null,contentPaneDom:null,clientPaneDom:null,contentPane:null,clientPane:null,clients:null,previews:null,visible:!1,_ready:!1,constructor:function(a){k.mixin(this,a);if(!this.campaignId&&!this.templateId)throw Error("Must provide a campaign or a template for inbox preview");if(!this.contentPaneDom)throw Error("contentPaneDom must be passed to InboxPreview");if(!this.clientPaneDom)throw Error("clientPaneDom must be passed to InboxPreview");
b.add(this.contentPaneDom,"hide");this.store=new q({campaignId:this.campaignId,templateId:this.templateId,tokens:new t});this.store.fetchData().then(k.hitch(this,function(){this._ready=!0;this._setupWidgets()}))},show:function(){this.visible=!0;this._toggleVisibility()},hide:function(){this.visible=!1;this._toggleVisibility()},_toggleVisibility:function(){this._ready&&(b.toggle(this.clientPane.domNode,"hide",!this.visible),b.toggle(this.contentPaneDom,"hide",!this.visible),b.toggle(this.clientPane.domNode,
"hide",!this.visible))},_setupWidgets:function(){this.contentPane=new p({store:this.store});this.contentPane.placeAt(this.contentPaneDom);this.clientPane=new n({store:this.store,onClientSelected:k.hitch(this,function(a){this.contentPane.set("selectedClient",a.client)})});this.clientPane.placeAt(this.clientPaneDom);this._toggleVisibility()},destroy:function(){this.clientPane.destroy();this.contentPane.destroy();this.store.destroy();this.inherited(arguments)}})})},"mojo/widgets/previewer/inbox-preview/api":function(){define(["dojo/request",
"dojo/_base/lang","mojo/url"],function(h,k,d){return{getCampaignPreviews:function(d){return this._getPreviews({campaign_id:d})},getTemplatePreviews:function(d){return this._getPreviews({template_id:d})},previewCampaign:function(d,b){return this._previewRequest({campaign_id:d,"clients[]":b})},previewTemplate:function(d,b){return this._previewRequest({template_id:d,"clients[]":b})},getCampaignClientsStats:function(d){return this._getClientsStats({campaign_id:d})},getTemplateClientsStats:function(d){return this._getClientsStats({template_id:d})},
getCampaignClientHistory:function(d,b){return this._getClientHistory({campaign_id:d,client_id:b})},getTemplateClientHistory:function(d,b){return this._getClientHistory({template_id:d,client_id:b})},getTokens:function(g){return h.get(d.toUrl("/inbox-preview/tokens"),{handleAs:"json",query:g})},getTokensBlocks:function(g){return h.get(d.toUrl("/inbox-preview/tokens-blocks"),{handleAs:"json",query:g})},purchaseTokens:function(d){return this._purchaseTokens({block_id:d})},updatePreview:function(g,b){return h.post(d.toUrl("/inbox-preview/update"),
{handleAs:"json",data:k.mixin({id:g},b)})},_getPreviews:function(g){return h.get(d.toUrl("/inbox-preview/previews"),{handleAs:"json",query:g})},_previewRequest:function(g){return h.post(d.toUrl("/inbox-preview/run-preview"),{handleAs:"json",data:g})},_getClientHistory:function(g){return h.get(d.toUrl("/inbox-preview/client-history"),{handleAs:"json",query:g})},_getClientsStats:function(g){return h.get(d.toUrl("/inbox-preview/clients-stats"),{handleAs:"json",query:g})},_purchaseTokens:function(g){return h.get(d.toUrl("/inbox-preview/purchase-tokens"),
{handleAs:"json",query:g})}}})},"mojo/widgets/previewer/inbox-preview/ClientPane":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./templates/clientPane.html dojo/text!./templates/clientPane/section.html dojo/text!./templates/clientPane/row.html dojo/_base/array dojo/_base/lang dojo/dom-construct dojo/dom-class dojo/query dojo/on dojo/date/locale dojo/number ./ClientEditor ./ClientHistoryEditor ./TokensEditor".split(" "),function(h,
k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s,v){var w=h([k,d,g],{templateString:f,loading:!1,store:null,client:null,selected:!1,visible:!1,updatable:!1,postMixInProperties:function(){if(!this.client)throw Error("A client row requires a client");if(!this.store)throw Error("A store is required for a client row");},postCreate:function(){this.own(p(this.domNode,"click",e.hitch(this,"select")),this.store.previews.watch(this.client.id,e.hitch(this,"_updateRow")),p(this.historyLink,"click",e.hitch(this,function(a){a.stopPropagation();
a.preventDefault();this.select();s.show(this.store,this.client)})),p(this.rerunLink,"click",e.hitch(this,function(a){a.stopPropagation();a.preventDefault();this.store.runPreview([this.client.id])})),p(this.selectedBox,"change",e.hitch(this,function(){var a=this.getPreview();a.approved==this.selectedBox.checked&&this.store.markAsApproved(a,!a.approved);this._toggleUpdateState()})),this.watch("selected",e.hitch(this,function(){this._updateSelectedState();var a=this.getPreview();a.viewed||this.store.markAsViewed(a,
a.viewed)})));this._updateRow()},select:function(){this.selected||(this.set("selected",!0),this.onSelected())},deselect:function(){this.set("selected",!1)},_toggleApproveState:function(){var a=this.getPreview();a&&this.selectedBox.set("checked",!a.approved)},_updateSelectedState:function(){m.toggle(this.domNode,"active",this.selected)},isVisible:function(){return this.getPreview()},getPreview:function(){return this.store.previews[this.client.id]},_updateRow:function(){this._toggleVisibility();this._handlePreviewStatus();
this._toggleUpdateState();this._toggleViewState();this._toggleApproveState()},_toggleVisibility:function(){var a=this.getPreview();this.set("visible",null!=a);m.toggle(this.domNode,"hide",!this.visible)},_toggleUpdateState:function(){var a=this.getPreview();this.set("updatable",this.selectedBox.checked&&"completed"==a.status)},_toggleViewState:function(){var a=this.getPreview();a&&(this.set("viewed",a.viewed),m.toggle(this.domNode,"unread",!a.viewed&&"completed"==a.status))},_handlePreviewStatus:function(){var a=
this.getPreview();if(a)switch(a.status){case "queued":m.add(this.selectedBox.domNode,"hide");m.add(this.failedIcon,"hide");m.add(this.actionsContainer,"hide");m.add(this.rerunContainer,"hide");m.add(this.historyLink,"hide");m.remove(this.loadingIndicator,"hide");this.statusMessage.innerHTML="Waiting...";break;case "completed":m.add(this.loadingIndicator,"hide");m.add(this.failedIcon,"hide");m.toggle(this.rerunContainer,"hide",0>=this.store.tokens.balance);m.remove(this.historyLink,"hide");m.remove(this.actionsContainer,
"hide");m.remove(this.selectedBox.domNode,"hide");this.statusMessage.innerHTML='\x3cspan class\x3d"fwb"\x3eUpdated\x3c/span\x3e on '+this._formatDate(a.finished_timestamp);this.rerunLink.innerHTML="Update";break;case "failed":m.add(this.selectedBox.domNode,"hide"),m.add(this.loadingIndicator,"hide"),m.toggle(this.rerunContainer,"hide",0>=this.store.tokens.balance),m.remove(this.actionsContainer,"hide"),m.remove(this.failedIcon,"hide"),m.remove(this.historyLink,"hide"),this.statusMessage.innerHTML=
"This preview failed to generate",this.rerunLink.innerHTML="Retry this client"}},_formatDate:function(a){return t.format(new Date(1E3*a),{formatLength:"medium",timePattern:"h:mm a"})},onSelected:function(){}}),u=h([k,d],{templateString:c,store:null,clientType:null,rows:null,constructor:function(){if(this.clientType)throw Error("clientType is required");if(this.store)throw Error("store is required");this.rows=[]},postMixInProperties:function(){this.sectionName=this.store.clientLabels[this.clientType]},
postCreate:function(){this._toggleVisibility()},addRow:function(a){a.placeAt(this.rowContainer);this.rows.push(a);this._toggleVisibility();this.own(this.store.previews.watch(a.client.id,e.hitch(this,"_toggleVisibility")))},isVisible:function(){return l.some(this.rows,function(a){return a.isVisible()})},_toggleVisibility:function(){m.toggle(this.domNode,"hide",!this.isVisible())}});return h([k,d],{templateString:b,store:null,sections:null,rows:null,rowsMap:null,selectedRow:null,_previewWatcher:null,
numUpdatableRows:0,constructor:function(){this.sections=[];this.rows=[];this.rowsMap={}},postMixInProperties:function(){if(!this.store)throw Error("store must be passed to client pane");},postCreate:function(){this.createClientRows();this.selectedRow||this._selectFirstRowWithPreviews();this.store.hasPreviews=this._hasPreviews();this.own(p(this.tokensBtn,"click",e.hitch(this,function(a){a.stopPropagation();a.preventDefault();v.show(this.store)})),p(this.addClientBtn,"click",e.hitch(this,function(a){a.stopPropagation();
a.preventDefault();this._showEditor()})),p(this.updateBtn,"click",e.hitch(this,function(a){a.stopPropagation();a.preventDefault();this._previewSelectedClients()})),p(this.getStartedBtn,"click",e.hitch(this,function(a){a.stopPropagation();a.preventDefault();0<this.store.tokens.balance?this._showEditor():this._showTokensEditor()})),this.store.tokens.watch("balance",e.hitch(this,function(){this._updateAvailableTokens();this._toggleUpdateBtn();this._toggleAddClientBtn();this._updateTokensBtn();this._updateGetStartedBtn()})),
this.watch("numUpdatableRows",e.hitch(this,function(){this._updateAvailableTokens();this.selectedRow||this._selectFirstRowWithPreviews()})),this.store.watch("previewsError",e.hitch(this,function(){this.previewsErrorMsg.innerHTML=this.store.previewsError;m.toggle(this.previewsErrorContainer,"hide",null===this.store.previewsError)})));this._toggleNoData();this._toggleUpdateBtn();this._toggleAddClientBtn();this._updateTokensBtn();this._updateRerunLinks()},_showEditor:function(){r.show(this.store).on("close",
e.hitch(this,function(){this._updateRerunLinks()}))},_showTokensEditor:function(){v.show(this.store).on("close",e.hitch(this,function(){this._hasPreviews()||setTimeout(e.hitch(this,function(){this._showEditor()}),250)}))},_selectFirstRowWithPreviews:function(){l.some(this.rows,e.hitch(this,function(a){if(a.isVisible())return a.select(),!0}))},_hasPreviews:function(){return l.some(this.sections,function(a){return a.isVisible()})},_updateAvailableTokens:function(){var a=this.getCheckedClients();this.store.tokens.set("available",
this.store.tokens.balance-a.length)},_updateRerunLinks:function(){l.forEach(this.rows,e.hitch(this,function(a){m.toggle(a.rerunContainer,"hide",0>=this.store.tokens.balance)}))},_toggleNoData:function(){this._previewWatcher&&(this._previewWatcher.unwatch(),this._previewWatcher=null);var a=this._hasPreviews();m.toggle(this.noDataContainer,"hide",a);m.toggle(this.addClientBtn.parentNode,"hide",!a);m.toggle(this.updateBtn.parentNode,"hide",!a);this._updateGetStartedBtn();a||(this._previewWatcher=this.store.previews.watch(e.hitch(this,
"_toggleNoData")))},_toggleUpdateBtn:function(){var a=this._getNumInQueue();0<a?(m.add(this.updateBtn,"disabled"),m.add(this.updateBtnIcon,"is-running"),this.updateBtnText.innerHTML="Updating",this.updateCount.innerHTML=a):this.numUpdatableRows?(m.toggle(this.updateBtn,"disabled",0>this.store.tokens.available),m.remove(this.updateBtnIcon,"is-running"),this.updateBtnText.innerHTML="Update",this.updateCount.innerHTML=this.numUpdatableRows,this.store.numClientsSelected=this.numUpdatableRows):(m.add(this.updateBtn,
"disabled"),m.remove(this.updateBtnIcon,"is-running"),this.updateBtnText.innerHTML="Update",this.updateCount.innerHTML="\x26nbsp;")},_toggleAddClientBtn:function(){this._getNumInQueue();0==this._getNumNewClients()?(m.add(this.addClientBtn,"disabled"),this.addClientBtn.innerHTML="No more clients"):m.toggle(this.addClientBtn,"disabled",0>=this.store.tokens.balance)},_updateTokensBtn:function(){this.tokensCount.innerHTML=q.format(this.store.tokens.balance)},_updateGetStartedBtn:function(){this.getStartedBtn.innerHTML=
0<this.store.tokens.balance?"Get Started":"Buy Tokens To Get Started"},_getNumInQueue:function(){var a=0,b;for(b in this.store.previews)this.store.previews.hasOwnProperty(b)&&"queued"==this.store.previews[b].status&&a++;return a},_getNumNewClients:function(){var a=0,b;for(b in this.store.clients)this.store.clients.hasOwnProperty(b)&&l.forEach(this.store.clients[b],e.hitch(this,function(b){this.store.previews[b.id]||a++}));return a},_previewSelectedClients:function(){var a=this.getCheckedClients();
a.length&&this.store.runPreview(a)},_createClientSection:function(a){var b=new u({store:this.store,clientType:a});b.startup();b.placeAt(this.clientLists);l.forEach(this.store.clients[a],e.hitch(this,function(a){var c=new w({store:this.store,client:a});c.startup();b.addRow(c);this.rows.push(c);this.rowsMap[a.id]=c;this.own(p(c,"selected",e.hitch(this,function(){this.select(c.client.id)})),c.watch("updatable",e.hitch(this,function(a,b,c){this.set("numUpdatableRows",this.numUpdatableRows+(c?1:-1));this._toggleUpdateBtn();
this._toggleAddClientBtn()})))}));this.sections.push(b)},select:function(a){var b=this.rowsMap[a];b&&(this.deselect(),this.selectedRow=b,this.onClientSelected(this.store.previews[a]))},deselect:function(){this.selectedRow&&(this.selectedRow.deselect(),this.selectedRow=null)},getCheckedClients:function(){var a=[];l.forEach(this.rows,function(b){b.updatable&&a.push(b.client.id)});return a},createClientRows:function(){this._createClientSection("client");this._createClientSection("mobile");this._createClientSection("web")},
destroy:function(){l.forEach(this.sections,function(a){a.destroy()});l.forEach(this.rows,function(a){a.destroy()});this._previewWatcher&&this._previewWatcher.unwatch();r.hide();this.inherited(arguments)},onClientSelected:function(a){}})})},"mojo/widgets/previewer/inbox-preview/ClientEditor":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/_base/array dojo/_base/lang dojo/dom-construct dojo/dom-attr dojo/html dojo/on dojo/dom-class dojo/number ./api mojo/neapolitan/editors/_EditorMixin dojo/text!./templates/clientEditor.html dojo/text!./templates/clientEditor/section.html dojo/text!./templates/clientEditor/row.html".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s){var v=h([k,d,g],{templateString:s,client:null,checked:!1,postCreate:function(){this.own(a(this.domNode,"click",c.hitch(this,function(){this.set("checked",!this.checked)})))},onChange:function(a){},_setCheckedAttr:function(a){this.checkBox.set("checked",a);this.checked!=a&&(this._set("checked",a),this.onChange(a))}}),w=h([k,d],{templateString:r,sectionName:"Section Name",clientType:null,store:null,rows:null,numSelectedRows:0,postMixInProperties:function(){if(!this.clientType)throw Error("clientType must be set");
if(!this.store)throw Error("store must be set");this.sectionName=this.store.clientLabels[this.clientType]},postCreate:function(){var c=this;this.rows=[];var d=this._getAvailableClients();d.length?b.forEach(d,function(b){b=new v({client:b});b.startup();b.placeAt(c.rowContainer);c.own(a(b,"change",function(a){c.set("numSelectedRows",c.numSelectedRows+(a?1:-1));c._updateSelectionText()}));c.rows.push(b)}):m.add(this.domNode,"hide");this.own(a(this.selectionLink,"click",function(a){a.preventDefault();
a.stopPropagation();c.numSelectedRows?c.deselectAll():c.selectAll()}))},_updateSelectionText:function(){e.set(this.selectionLink,0==this.numSelectedRows?"Select All":"Deselect All ("+this.numSelectedRows+")")},selectAll:function(){b.forEach(this.rows,function(a){a.set("checked",!0)})},deselectAll:function(){b.forEach(this.rows,function(a){a.set("checked",!1)})},_getAvailableClients:function(){return b.filter(this.store.clients[this.clientType],c.hitch(this,function(a){return!this.store.previews||
this.store.previews&&!this.store.previews.hasOwnProperty(a.id)}))},getSelectedClients:function(){return b.map(this.getSelectedRows(),function(a){return a.client.id})},getSelectedRows:function(){return b.filter(this.rows,function(a){return a.checked})},destroy:function(){b.forEach(this.rows,function(a){a.destroy()});this.inherited(arguments)}}),u=h([k,d,g,t],{sliderEditor:!0,templateString:q,paneId:"preview",store:null,sections:null,clientsStats:null,preselectedClients:null,constructor:function(){this.sections=
[];this.clientsStats=[]},postCreate:function(){this.fetchData().then(c.hitch(this,function(){this._createSection("client");this._createSection("mobile");this._createSection("web");this._updateAvailableTokens();this.setupTopClients();this.setupPreselectedClients();m.toggle(this.topClientsContainer,"hide",this.hasPreviews()&&!this.hasTopClients())}));this.own(a(this.addClientsBtn,"click",c.hitch(this,"_selectClients")))},setupTopClients:function(){b.forEach(this.clientsStats,c.hitch(this,function(a){a=
f.toDom("\x3cli\x3e"+a.name+' \x3cspan class\x3d"float-right nofloat-small"\x3e'+n.format(100*a.percent,{places:1})+"%\x3c/span\x3e\x3c/li\x3e");f.place(a,this.topClients)}));m.toggle(this.topClientsLink,"hide",!this.hasTopClients())},setupPreselectedClients:function(){this.hasPreviews()||(b.forEach(this.sections,c.hitch(this,function(a){b.forEach(a.rows,c.hitch(this,function(a){-1!==this.preselectedClients.indexOf(a.client.id)&&a.set("checked",!0)}))})),this.preselectedClientsText.innerHTML=this.hasTopClients()?
"We\u2019ve preselected your subscribers\u2019 top email clients.":"We\u2019ve preselected the top 10 email clients used by most subscribers.",this.preselectedClientsText.innerHTML+=" You can add more clients for greater coverage");m.toggle(this.preselectedClientsText,"hide",this.hasPreviews())},hasPreviews:function(){return!0===this.store.hasPreviews},hasTopClients:function(){return this.clientsStats&&0<this.clientsStats.length},fetchData:function(){var a=this.store.campaignId?p.getCampaignClientsStats(this.store.campaignId):
p.getTemplateClientsStats(this.store.templateId);a.then(c.hitch(this,function(a){this.clientsStats=a.clientsStats;this.preselectedClients=a.preselectedClients}));return a},_selectClients:function(){var a=[];b.forEach(this.sections,function(b){a=a.concat(b.getSelectedClients())});this._updateAvailableTokens();this.store.runPreview(a);this.done()},_getNumSelectedRows:function(){var a=0;b.forEach(this.sections,function(b){a+=b.numSelectedRows});return a},_updateAvailableTokens:function(){this.store.tokens.set("available",
this.store.tokens.balance-this._getNumSelectedRows())},_updateButtonLabel:function(){var a=this._getNumSelectedRows();0<a?(a="Add "+a+" Client"+(1!=a?"s":""),0<=this.store.tokens.available?l.remove(this.addClientsBtn,"disabled"):l.set(this.addClientsBtn,"disabled","disabled")):(a="Add clients",l.set(this.addClientsBtn,"disabled","disabled"));e.set(this.addClientsBtn,a)},_createSection:function(a){a=new w({clientType:a,store:this.store});a.startup();a.placeAt(this.body);this.own(a.watch("numSelectedRows",
c.hitch(this,function(){this._updateAvailableTokens();this._updateButtonLabel()})));this.sections.push(a);return a},onClose:function(){this.destroy()},_onDone:function(a){a.stopPropagation();a.preventDefault();b.forEach(this.sections,function(a){a.deselectAll()});this.done()},destroy:function(){b.forEach(this.sections,function(a){a.destroy()});this.inherited(arguments)}}),y;return{show:function(a){if(!y||y._destroyed)y=new u({store:a});y.show();return y},hide:function(){y&&!y._destroyed&&y.done()}}})},
"mojo/neapolitan/editors/_EditorMixin":function(){define(["dojo/_base/declare","mojo/utils"],function(h,k){return h(null,{paneId:null,show:function(){this.publishReady()},done:function(){this.publishDone()},publishReady:function(){k.globalPublish("mojo/editor/ready",[this])},publishSetup:function(){k.globalPublish("mojo/editor/setup",[this])},publishDone:function(){k.globalPublish("mojo/editor/done",[this])},save:function(d){},onShow:function(){},onClose:function(){}})})},"mojo/widgets/previewer/inbox-preview/ClientHistoryEditor":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/_base/array dojo/_base/lang dojo/dom-construct dojo/dom-attr dojo/html dojo/on dojo/dom-class dojo/date/locale ./api mojo/neapolitan/editors/_EditorMixin dojo/text!./templates/clientHistoryEditor.html dojo/text!./templates/clientHistoryEditor/row.html".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r){var s=h([k,d,g],{templateString:r,selected:!1,postCreate:function(){this.formattedDate.innerHTML=this._formatDate(this.preview.finished_timestamp);this.own(a(this.domNode,"click",c.hitch(this,"select")),this.watch("selected",c.hitch(this,function(){m.toggle(this.domNode,"active",this.selected)})))},_formatDate:function(a){return n.format(new Date(1E3*a),{formatLength:"medium",timePattern:"h:mm a"})},select:function(){this.selected||(this.set("selected",!0),
this.onSelected())},deselect:function(){this.set("selected",!1)},onSelected:function(){}}),v=h([k,d,g,t],{sliderEditor:!0,templateString:q,paneId:"preview",store:null,client:null,clientHistory:null,selectedRow:null,constructor:function(){this.rows=[]},postCreate:function(){this.fetchData().then(c.hitch(this,function(){b.forEach(this.clientHistory,c.hitch(this,function(b){var d=new s({preview:b});d.startup();d.placeAt(this.rowContainer);this.rows.push(d);this.own(a(d,"selected",c.hitch(this,function(){this.select(d)})))}))}))},
fetchData:function(){var a=this.store.campaignId?p.getCampaignClientHistory(this.store.campaignId,this.client.id):p.getTemplateClientHistory(this.store.templateId,this.client.id);a.then(c.hitch(this,function(a){this.clientHistory=a.previews}));return a},select:function(a){this.deselect();this.selectedRow=a;this.store.previews.set(a.preview.client,a.preview)},deselect:function(){this.selectedRow&&(this.selectedRow.deselect(),this.selectedRow=null)},onClose:function(){var a=this.clientHistory[0];this.store.previews.set(a.client,
a);this.destroy()},_onDone:function(a){a.stopPropagation();a.preventDefault();this.done()},destroy:function(){b.forEach(this.rows,function(a){a.destroy()});this.inherited(arguments)}}),w;return{show:function(a,b){if(!w||w._destroyed)w=new v({store:a,client:b});w.show();return w},hide:function(){w&&!w._destroyed&&w.done()}}})},"mojo/widgets/previewer/inbox-preview/TokensEditor":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin mojo/neapolitan/editors/_EditorMixin dojo/text!./templates/tokensEditor.html dojo/text!./templates/tokensEditor/block.html ./api dojo/_base/array dojo/_base/lang dojo/dom-construct dojo/dom-attr dojo/html dojo/on dojo/dom-class dojo/number velocity/velocity".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s){var v=h([k,d,g],{templateString:f,postCreate:function(){this.own(t(this.domNode,"click",a.hitch(this,"select")),this.watch("selected",a.hitch(this,function(){q.toggle(this.domNode,"active",this.selected)})))},select:function(){this.selected||(this.set("selected",!0),this.onSelected())},deselect:function(){this.set("selected",!1)},onSelected:function(){}}),w=h([k,d,g,b],{sliderEditor:!0,templateString:c,paneId:"preview",store:null,canPurchaseTokens:!1,numFreeMonthly:0,
hasPurchaseError:!1,constructor:function(){this.tokensBlocks=[]},postMixInProperties:function(){this.numFreeMonthly=this.store.tokens.numFreeMonthly},postCreate:function(){q.toggle(this.numFreeMonthlyText,"hide",0>=this.numFreeMonthly);this.fetchData().then(a.hitch(this,function(){e.forEach(this.tokensBlocks,a.hitch(this,function(b){b=new v({block:b});b.startup();b.placeAt(this.blockContainer);this.own(t(b,"selected",a.hitch(this,function(){this.select(b)})))}))}));this.own(t(this.purchaseTokensBtn,
"click",a.hitch(this,"_purchaseTokens")),dijit.byId("billingInfo").watch("canPurchase",a.hitch(this,function(){(this.canPurchaseTokens=dijit.byId("billingInfo").get("canPurchase"))&&this.selectedBlock?n.remove(this.purchaseTokensBtn,"disabled"):n.set(this.purchaseTokensBtn,"disabled","disabled")})))},fetchData:function(){var b=l.getTokensBlocks();b.then(a.hitch(this,function(a){this.tokensBlocks=a}));return b},select:function(a){this.deselect();this.selectedBlock=a;this.canPurchaseTokens&&n.remove(this.purchaseTokensBtn,
"disabled")},deselect:function(){this.selectedBlock&&(this.selectedBlock.deselect(),this.selectedBlock=null)},update:function(){this._updateTokensText();this.selectedClientsCount.innerHTML=this.store.numClientsSelected;q.toggle(this.noTokensContainer,"hide",this.store.tokens.balance>=this.store.numClientsSelected)},onClose:function(){this.destroy()},_onDone:function(a){a.stopPropagation();a.preventDefault();this.done()},_updateTokensText:function(){this.tokensCount.innerHTML=r.format(this.store.tokens.balance)},
_animatePurchase:function(){var a=this;q.toggle(this.staticTokenImg,"hide");q.toggle(this.spinningTokenImg,"hide");s(this.tokenStatusMsg,"transition.slideUpOut",{duration:300,complete:function(){s(a.processingMsg,"transition.slideUpIn",{duration:300,before:function(){q.toggle(a.processingMsg,"hide")},complete:function(){s(a.processingMsg,"transition.slideUpOut",{duration:200,delay:1E3,complete:function(){q.toggle(a.staticTokenImg,"hide");q.toggle(a.spinningTokenImg,"hide");q.toggle(a.purchaseErrorContainer,
"hide",!a.hasPurchaseError);s(a.tokenStatusMsg,"transition.slideUpIn",{duration:200})}})}})}});s(this.canBuyTokens,{opacity:0.3},{easing:"easeInOut",duration:300,begin:function(){q.add(a.canBuyTokens,"no-clicky")},complete:function(){s(a.canBuyTokens,"reverse",{duration:200,delay:1750,complete:function(){q.remove(a.canBuyTokens,"no-clicky")}})}})},_purchaseTokens:function(){this.hasPurchaseError=!1;q.add(this.noTokensContainer,"hide");q.add(this.purchaseTokensBtn,"button-loading");n.set(this.purchaseTokensBtn,
"disabled","disabled");q.add(this.purchaseErrorContainer,"hide");this._animatePurchase();l.purchaseTokens(this.selectedBlock.block.block_id).then(a.hitch(this,function(b){this.hasPurchaseError=!b.success;b.success?(this._updateTokensText(),setTimeout(a.hitch(this,function(){this.done()}),1E3)):this.purchaseErrorMsg.innerHTML=b.message;q.remove(this.purchaseTokensBtn,"button-loading");n.remove(this.purchaseTokensBtn,"disabled")}))}}),u;return{show:function(a){if(!u||u._destroyed)u=new w({store:a});
u.update();u.show();return u},hide:function(){u&&!u._destroyed&&u.done()}}})},"mojo/widgets/previewer/inbox-preview/ContentPane":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dojo/dom-construct dojo/dom-class dojo/_base/lang dojo/text!./templates/contentPane.html".split(" "),function(h,k,d,g,b,c,f){return h([k,d],{templateString:f,imageTpl:'\x3cimg src\x3d"{src}" class\x3d"!margin-bottom--lv8 drop-shadow"\x3e',store:null,selectedClient:null,postCreate:function(){this.own(this.store.previews.watch(c.hitch(this,
function(b){this.selectedClient===b&&this._showInboxPreview()})));this.watch("selectedClient",c.hitch(this,function(){this._showInboxPreview()}));this._showInboxPreview()},_showInboxPreview:function(){var d=this.getPreview();if(d)switch(g.empty(this.contentContainer),d.status){case "queued":b.add(this.contentContainer,"hide");b.add(this.litmusMsgContainer,"hide");b.remove(this.loadingContainer,"hide");b.add(this.loadingContainer,"animate-preview-pane");break;case "failed":b.add(this.contentContainer,
"hide");b.add(this.litmusMsgContainer,"hide");b.remove(this.loadingContainer,"hide");b.remove(this.loadingContainer,"animate-preview-pane");break;case "completed":g.place(c.replace(this.imageTpl,{src:d.url}),this.contentContainer,"only"),b.add(this.loadingContainer,"hide"),b.remove(this.loadingContainer,"animate-preview-pane"),b.remove(this.contentContainer,"hide"),b.remove(this.litmusMsgContainer,"hide")}else b.add(this.contentContainer,"hide"),b.remove(this.loadingContainer,"hide")},getPreview:function(){return this.selectedClient?
this.store.previews[this.selectedClient]:null}})})},"mojo/async":function(){define(["mojo/url","dojo/request"],function(h,k){var d=function(b,c){k.post(h.toUrl("/async"),{handleAs:"json",data:{id:b}}).then(function(d){g(b,d,c)})},g=function(b,c,f){switch(c.status){case "queued":case "started":setTimeout(function(){d(b,f)},3E3);break;case "error":if(f&&f.onError)f.onError(c);break;case "failed":if(f&&f.onFailed)f.onFailed(c);break;case "completed":if(f&&f.onComplete)f.onComplete(c)}};return function(b,
c){c=c||{};b.then(function(b){g(b._async_id,b,c)})}})},"mojo/app/account/paypal":function(){define("dojo/request/xhr mojo/url dojo/dom-construct dojo/dom dojo/_base/window dojo/Deferred".split(" "),function(h,k,d,g,b,c){var f=function(){g.byId("bt-pp-cancel")&&g.byId("bt-pp-cancel").click();g.byId("braintree-paypal-button").click()},l=function(a,b,d){var e=new c;require(["https://js.braintreegateway.com/v1/braintree-data.js"],function(){BraintreeData.setup(b,a,d?BraintreeData.environments.production:
BraintreeData.environments.sandbox);e.resolve()});return e.promise},e;return{showPayPal:function(a){e=new c;container="paypal-hidden";null==g.byId(container)?(d.place('\x3cdiv id\x3d"'+container+'" style\x3d"display:none"\x3e\x3c/div\x3e',b.body()),h(k.toUrl("/account/generate-braintree-token"),{handleAs:"json"}).then(function(b){require(["https://js.braintreegateway.com/v2/braintree.js"],function(c){c.setup(b.token,"paypal",{container:container,singleUse:!1,displayName:"MailChimp",enableBillingAddress:!0,
locale:"us",onReady:function(){l("billing-form",b.merchant_id,b.production).then(f)},onPaymentMethodReceived:function(a){e.resolve(a)},onUnsupported:function(b){a()}})})},function(b){e.resolve(b);a(b.message)})):l("billing-form").then(f);return e.promise}}})},"mojo/widgets/CKContentForm":function(){define("dojo/_base/declare mojo/widgets/TopSliderPane dojo/on dojo/topic dojo/dom-style dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/_base/window dojo/_base/lang dojo/_base/array dojo/_base/Color mojo/analytics/parts/Select mojo/neapolitan/widgets/ColorPicker mojo/context mojo/ImageEditor mojo/widgets/FileManager dojo/text!./content-manager/templates/CKContentForm.html dojo/text!./content-manager/templates/CKContentFormWrapper.html".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s,v,w){var u=h([k],{templateString:w,content:v,titleText:"Content Manager",badgeText:"Experimental",paneClasses:"filemanager-container",onCKImageSaved:null,name:"",_setNameAttr:{node:"imageTitle",type:"innerText"},contentId:"",src:"",styles:"",postMixInProperties:function(){this.inherited(arguments);this.rootUrl=q.rootUrl},postCreate:function(){this.inherited(arguments);d(this.saveBtn,"click",a.hitch(this,"handleSave"));d(this.linkToSelfBtn,"click",a.hitch(this,
"handleLinkToSelf"));d(this.backToFilesBtn,"click",a.hitch(this,"handleBackToFiles"));d(this.showMoreStylesBtn,"click",a.hitch(this,"handleShowMoreStyles"));d(this.editImageBtn,"click",a.hitch(this,"handleEditImage"));d(this.resetImageDimensionsBtn,"click",a.hitch(this,"handleResetImageDimensions"));this.colorPicker=new t;this.colorPicker.startup();l.place(this.colorPicker.domNode,e.body());this.colorPicker.addInput(this.ckBorderColor)},handleSave:function(){var a=n.fromString(this.ckBorderColor.get("value")),
a={src:this.src,width:c.get(this.imageWidth,"value"),height:c.get(this.imageHeight,"value"),alt:c.get(this.ckImageAlt,"value"),align:c.get(this.ckImageAlign,"value"),link:c.get(this.ckImageLink,"value"),newWindow:this.ckLinkTarget.get("value"),styles:{marginTop:c.get(this.ckMarginTop,"value"),marginBottom:c.get(this.ckMarginBottom,"value"),marginLeft:c.get(this.ckMarginLeft,"value"),marginRight:c.get(this.ckMarginRight,"value"),border:{style:c.get(this.ckBorderStyle,"value"),width:c.get(this.ckBorderWidth,
"value"),color:a?a.toHex():""}},fileId:this.contentId};if(this.onCKImageSaved)this.onCKImageSaved(a);this.hide()},handleLinkToSelf:function(a){c.set(this.ckImageLink,"value",this.src);a.preventDefault()},handleShowMoreStyles:function(){f.toggle(this.moreImageStyles,"hide")},handleEditImage:function(){var b=this.ckImage.getAttribute("data-file-id");r.open(this.src).then(a.hitch(this,function(a){return s.importFromUrl(a,!0,b)})).then(a.hitch(this,function(a){a="data"in a?a.data:a;this.selectImage(a.url,
a.name,a.contentId)}))},handleResetImageDimensions:function(a){this._resetDimensions();a.preventDefault()},handleBackToFiles:function(b){b.preventDefault();s.show({onSelect:a.hitch(this,function(a,b,c){this.selectImage(a,b,c,!0)}),actions:["select","edit","delete"],forceOnTop:!0})},_onShowCallback:function(){var a=this.allowedFileTypes;a&&"string"!==typeof a&&a.join();g.publish("mojo/filemanager/show")},_onHideCallback:function(){g.publish("mojo/filemanager/hide")},selectImage:function(a,d,e,f){this.set("src",
a);this.set("contentId",e);this.set("name",d||(this.src?this.src.substr(this.src.lastIndexOf("/")+1):""));f&&this._resetDimensions();b.set(this.ckImage,"backgroundImage",'url("'+this.src+'")');c.set(this.ckImage,"data-file-id",e)},show:function(a){this._showCleanup();this.onCKImageSaved=a.onSave;this.selectImage(a.src,a.name,a.fileId,!1);this.set("width",a.width);this.set("height",a.height);this._setupDimensionInputs();c.set(this.ckImageAlt,"value",a.alt||"");c.set(this.ckImageAlign,"value",a.align||
"");c.set(this.ckImageLink,"value",a.link||"");c.set(this.ckLinkTarget,"value",a.hasOwnProperty("newWindow")?a.newWindow:!0);var d=l.toDom('\x3cdiv style\x3d"'+a.styles+'"\x3e\x3c/div\x3e');b.set(d,a.styles);c.set(this.ckMarginTop,"value",b.get(d,"marginTop"));c.set(this.ckMarginBottom,"value",b.get(d,"marginBottom"));c.set(this.ckMarginLeft,"value",b.get(d,"marginLeft"));c.set(this.ckMarginRight,"value",b.get(d,"marginRight"));c.set(this.ckBorderWidth,"value",b.get(d,"borderWidth"));c.set(this.ckBorderStyle,
"value",b.get(d,"borderStyle"));var e=n.fromString(b.get(d,"borderColor"));c.set(this.ckBorderColor,"value",e?e.toHex():"");l.destroy(d);!1==="forceOnTop"in arguments[0]&&(arguments[0].forceOnTop=!0);k.prototype.show.apply(this,arguments)},_setupDimensionInputs:function(){this._inputEvents&&m.forEach(this._inputEvents,"item.remove();");this._inputEvents=[];var b=r.getImageInfo(this.src);!this.width&&!this.height?b.then(a.hitch(this,function(a){c.set(this.imageWidth,"value",a.width||"");c.set(this.imageHeight,
"value",a.height||"")})):(c.set(this.imageWidth,"value",this.width||""),c.set(this.imageHeight,"value",this.height||""));b.then(a.hitch(this,function(b){var c=b.width/b.height;b=a.hitch(this,function(){this.proportionCheckbox.checked&&(this.imageHeight.value=parseInt(1/c*parseInt(this.imageWidth.value,10),10))});var e=a.hitch(this,function(){this.proportionCheckbox.checked&&(this.imageWidth.value=parseInt(c*parseInt(this.imageHeight.value,10),10))});this._inputEvents.push(d(this.imageWidth,"change",
b));this._inputEvents.push(d(this.imageHeight,"change",e))}))},_resetDimensions:function(){r.getImageInfo(this.src).then(a.hitch(this,function(a){c.set(this.imageWidth,"value",a.width||"");c.set(this.imageHeight,"value",a.height||"")}))},_showCleanup:function(){this.onSave=this.onSelect=this.allowedFileTypes=this.showId=null}}),y=null;return{_getCKContentForm:function(){y||(y=new u,y.startup());return y},show:function(a){return this._getCKContentForm().show(a)},hide:function(){return this._getCKContentForm().hide()},
isShown:function(){return y&&!0===y.displayActive}}})},"mojo/analytics/parts/Select":function(){define("dojo/_base/declare ./_Part dijit/_Templated dojo/text!./templates/select.html dojo/_base/array dojox/mvc/sync dijit/form/Select".split(" "),function(h,k,d,g,b,c,f){return h([k,d],{templateString:g,label:"",alwaysVisible:!1,init:function(){var d=[];b.forEach(this.values,function(b){d.push({label:b[1],value:b[0]})});this.select=new f({options:d,onChange:this.onChange},this.select);this.select.startup();
if(this.syncAttr)c(this.target,this.syncAttr,this.select,"value");else throw Error("syncAttr must be specified");},canDisplay:function(){return this.alwaysVisible||this.inherited(arguments)},onChange:function(b){}})})},"mojo/analytics/parts/_Part":function(){define("dojo/_base/declare dijit/_Widget dojo/_base/lang dojo/_base/array dojo/on dojox/mvc/sync dojo/dom-style dijit/form/Select dijit/registry dojo/topic".split(" "),function(h,k,d,g,b,c,f,l,e,a){return h([k],{constructor:function(){this._watches=
[]},postMixInProperties:function(){if(!this.target)throw Error("attribute target was not specified");this.inherited(arguments)},postCreate:function(){f.set(this.domNode,"display","none");if("string"==typeof this.target)if(e.byId(this.target))this.target=e.byId(this.target),this._display();else var b=a.subscribe("mojo/analytics/"+this.target+"/ready",d.hitch(this,function(){this.target=e.byId(this.target);this._display();b.remove()}));else this._display()},_display:function(){this.init();this._watches.push(this.target.watch("total",
d.hitch(this,"toggleDisplay")));this.toggleDisplay()},toggleDisplay:function(){var a=this.canDisplay();f.set(this.domNode,"display",a?"":"none");a?this.onShow():this.onHide()},init:function(){this.inherited(arguments)},canDisplay:function(){return 0<this.target.total},onShow:function(){},onHide:function(){},uninitialize:function(){g.forEach(this._watches,"item.unwatch();");this._watches=[]}})})},"dojox/mvc/sync":function(){define(["dojo/_base/lang","dojo/_base/config","dojo/_base/array","dojo/has"],
function(h,k,d,g){function b(b,a,c,f,k,t,q,r,s,v){if(!c(s,r)&&!("*"==k&&0>d.indexOf(f.get("properties")||[q],q)||"*"==k&&q in(v||{}))){c="*"==k?q:k;g("mvc-bindings-log-api")&&l(f,c,t,q);try{s=b?b(s,a):s}catch(w){g("mvc-bindings-log-api");return}g("mvc-bindings-log-api");h.isFunction(f.set)?f.set(c,s):f[c]=s}}var c=h.getObject("dojox.mvc",!0);g.add("mvc-bindings-log-api",(k.mvc||{}).debugBindings);var f;if(g("mvc-bindings-log-api"))var l=function(b,a,c,d){return[[c.canConvertToLoggable||!c.declaredClass?
c:c.declaredClass,d].join(":"),[b.canConvertToLoggable||!b.declaredClass?b:b.declaredClass,a].join(":")]};k={from:1,to:2,both:3};f=function(e,a,k,n,p){var t=(p||{}).converter,q,r,s;t&&(q={source:e,target:k},r=t.format&&h.hitch(q,t.format),s=t.parse&&h.hitch(q,t.parse));var v=[],w=[],u=h.mixin({},e.constraints,k.constraints),t=(p||{}).bindDirection||c.both,y=(p||{}).equals||f.equals;g("mvc-bindings-log-api")&&l(e,a,k,n);if("*"==n){if("*"!=a)throw Error("Unmatched wildcard is specified between source and target.");
p=k.get("properties");if(!p){p=[];for(var x in k)k.hasOwnProperty(x)&&"_watchCallbacks"!=x&&p.push(x)}w=k.get("excludes")}else p=[a];t&c.from&&(h.isFunction(e.set)&&h.isFunction(e.watch)?v.push(e.watch.apply(e,("*"!=a?[a]:[]).concat([function(a,c,d){b(r,u,y,k,n,e,a,c,d,w)}]))):g("mvc-bindings-log-api"),d.forEach(p,function(a){if("*"!=n||!(a in(w||{}))){var c=h.isFunction(e.get)?e.get(a):e[a];b(r,u,y,k,"*"==n?a:n,e,a,void 0,c)}}));t&c.to&&(t&c.from||d.forEach(p,function(a){if("*"!=n||!(a in(w||{}))){var c=
h.isFunction(k.get)?k.get(n):k[n];b(s,u,y,e,a,k,"*"==n?a:n,void 0,c)}}),h.isFunction(k.set)&&h.isFunction(k.watch)?v.push(k.watch.apply(k,("*"!=n?[n]:[]).concat([function(c,d,f){b(s,u,y,e,a,k,c,d,f,w)}]))):g("mvc-bindings-log-api"));g("mvc-bindings-log-api");x={};x.unwatch=x.remove=function(){for(var a=null;a=v.pop();)a.unwatch();g("mvc-bindings-log-api")};return x};h.mixin(c,k);return h.setObject("dojox.mvc.sync",h.mixin(f,{equals:function(b,a){return b===a||"number"==typeof b&&isNaN(b)&&"number"==
typeof a&&isNaN(a)||h.isFunction((b||{}).getTime)&&h.isFunction((a||{}).getTime)&&b.getTime()==a.getTime()||(h.isFunction((b||{}).equals)?b.equals(a):h.isFunction((a||{}).equals)?a.equals(b):!1)}},k))})},"mojo/neapolitan/widgets/ColorPicker":function(){define("dojo/_base/declare dojo/query dojo/_base/window dojo/keys dojo/_base/event dojo/dom-construct dojo/dom-style dojo/fx dojo/_base/lang dojo/dom dojo/dom-geometry dijit/_base/focus dojo/_base/Color dojo/_base/array dojox/widget/ColorPicker dojo/on dojo/text!./templates/ColorPicker.html dojo/NodeList-traverse dojo/NodeList-manipulate".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s){return h("mojo.neapolitan.widgets.ColorPicker",[q],{templateString:s,showHex:!0,arrowWidth:15,defaultColors:"#222222 #ffffff #EA5B3A #FFD249 #E0629A #89D085 #4CAAD8".split(" "),slideDuration:200,constructor:function(){this._events=[]},postCreate:function(){this.inherited(arguments);var a=this;f.set(this.domNode,"display","none");f.set(this.hsvNode,"display","none");f.set(this.siteColorNode,"display","none");f.set(this.siteColorForm,"display","none");t.forEach(this.defaultColors,
function(b){k("ul",a.defaultColorNode).append('\x3cli style\x3d"background:'+b+'" class\x3d"mojoCustomColor"\x3e\x26nbsp;\x3c/li\x3e')});r(this.defaultColorNode,".mojoCustomColor:click, .mojoCustomColor:touchstart",function(){a.setColor(f.get(this,"backgroundColor"),!0)});r(this.colorUnderlay,"mousedown,touchstart",function(b){var c=a.animatePoint;a.animatePoint=!1;a._setPoint(b);a.animatePoint=c;a._mover.onMouseDown(b)});r(this.noColorNode,"click",e.hitch(this,function(){this._showEmptyState();this.onChange("")}))},
addInput:function(a){this.connect(a.domNode,"click,touchstart",function(c){b.stop(c);a.disabled||(this.hide(),this.attachTo(a).show(),c=parseInt(c.pageX-m.position(this.domNode,!0).x-this.arrowWidth/2),this._movePointer(c).show())})},_movePointer:function(a){f.set(this.arrow,"left",(a>this.arrowWidth?a:this.arrowWidth)+"px");return this},attachTo:function(a){if(this.attachInput!==a){this.attachInput=a;var b=a.get("value");this.setColor(b)}c.place(this.domNode,a.domNode,"after");this._events.push(this.connect(this.attachInput,
"onChange",function(){var a=this.attachInput.get("value");this.setColor(a,!1)}));return this},onChange:function(a){this.attachInput&&this.attachInput.set("value",a)},show:function(a){this._events.push(this.connect(d.body(),"click,touchstart",function(a){k(a.target).parents(".dojoxColorPicker").length||this.hide();this.attachInput&&n.curNode==this.attachInput&&n.focus(d.body())}));a||(a={position:"absolute",marginTop:"10px"});this.attachInput&&this.toggleNoColorControl(this.attachInput.noColorEnabled);
a.display="block";f.set(this.domNode,a);this.onShow()},hide:function(){t.forEach(this._events,function(a){a.remove()});this._events=[];f.set(this.domNode,"display","none");this.onHide()},toggleNoColorControl:function(a){f.set(this.noColorNode,"display",a?"":"none")},setColor:function(a){this._validColor(a)?this.inherited(arguments):this._showEmptyState()},_validColor:function(a){return a&&"transparent"!==a&&null!==p.fromString(a)},_showEmptyState:function(){this.hexCode.value="";this.Rval.value="";
this.Bval.value="";this.Gval.value=""},_setTimer:function(b){b.node!=this.cursorNode&&b.node!=this.hueCursorNode||(n.focus(b.node),a.setSelectable(this.domNode,!1),this._timer=setInterval(e.hitch(this,"_updateColor"),45))},_setHuePoint:function(a){var b=this.PICKER_HUE_SELECTOR_H/2,c=m.position(this.hueNode,!0);a=a.pageY-c.y-b;this.animatePoint?l.slideTo({node:this.hueCursorNode,duration:this.slideDuration,top:a,left:0,onEnd:e.hitch(this,function(){this._updateColor(!0);n.focus(this.hueCursorNode)})}).play():
(f.set(this.hueCursorNode,"top",a+"px"),this._updateColor(!1))},_setPoint:function(a){var b=this.PICKER_SAT_SELECTOR_H/2,c=this.PICKER_SAT_SELECTOR_W/2,d=m.position(this.colorUnderlay,!0),b=a.pageY-d.y-b,c=a.pageX-d.x-c;a&&n.focus(a.target);this.animatePoint?l.slideTo({node:this.cursorNode,duration:this.slideDuration,top:b,left:c,onEnd:e.hitch(this,function(){this._updateColor(!0);n.focus(this.cursorNode)})}).play():(f.set(this.cursorNode,{left:c+"px",top:b+"px"}),this._updateColor(!1))},_updateColorInputs:function(a){this.inherited(arguments);
if(this.attachInput){var b=a.toHex();this.attachInput.set("value",b,!1)}},onShow:function(){},onHide:function(){}})})},"dojox/widget/ColorPicker":function(){define("dojo/_base/kernel dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/html dojo/_base/connect dojo/_base/sniff dojo/_base/window dojo/_base/event dojo/dom dojo/dom-class dojo/keys dojo/fx dojo/dnd/move dijit/registry dijit/_base/focus dijit/form/_FormWidget dijit/typematic dojox/color dojo/i18n dojo/i18n!./nls/ColorPicker dojo/i18n!dojo/cldr/nls/number dojo/text!./ColorPicker/ColorPicker.html".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s,v,w,u,y,x,A){h.experimental("dojox.widget.ColorPicker");return k("dojox.widget.ColorPicker",s,{showRgb:!0,showHsv:!0,showHex:!0,webSafe:!0,animatePoint:!0,slideDuration:250,liveUpdate:!1,PICKER_HUE_H:150,PICKER_SAT_VAL_H:150,PICKER_SAT_VAL_W:150,PICKER_HUE_SELECTOR_H:8,PICKER_SAT_SELECTOR_H:10,PICKER_SAT_SELECTOR_W:10,value:"#ffffff",_underlay:require.toUrl("dojox/widget/ColorPicker/images/underlay.png"),_hueUnderlay:require.toUrl("dojox/widget/ColorPicker/images/hue.png"),
_pickerPointer:require.toUrl("dojox/widget/ColorPicker/images/pickerPointer.png"),_huePickerPointer:require.toUrl("dojox/widget/ColorPicker/images/hueHandle.png"),_huePickerPointerAlly:require.toUrl("dojox/widget/ColorPicker/images/hueHandleA11y.png"),templateString:A,postMixInProperties:function(){m.contains(l.body(),"dijit_a11y")&&(this._huePickerPointer=this._huePickerPointerAlly);this._uId=q.getUniqueId(this.id);d.mixin(this,u.getLocalization("dojox.widget","ColorPicker"));d.mixin(this,u.getLocalization("dojo.cldr",
"number"));this.inherited(arguments)},postCreate:function(){this.inherited(arguments);7>f("ie")&&(this.colorUnderlay.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src\x3d'"+this._underlay+"', sizingMethod\x3d'scale')",this.colorUnderlay.src=this._blankGif.toString());this.showRgb||(this.rgbNode.style.visibility="hidden");this.showHsv||(this.hsvNode.style.visibility="hidden");this.showHex||(this.hexNode.style.visibility="hidden");this.webSafe||(this.safePreviewNode.style.visibility=
"hidden")},startup:function(){this._started||(this._started=!0,this.set("value",this.value),this._mover=new t.boxConstrainedMoveable(this.cursorNode,{box:{t:-(this.PICKER_SAT_SELECTOR_H/2),l:-(this.PICKER_SAT_SELECTOR_W/2),w:this.PICKER_SAT_VAL_W,h:this.PICKER_SAT_VAL_H}}),this._hueMover=new t.boxConstrainedMoveable(this.hueCursorNode,{box:{t:-(this.PICKER_HUE_SELECTOR_H/2),l:0,w:0,h:this.PICKER_HUE_H}}),this._subs=[],this._subs.push(c.subscribe("/dnd/move/stop",d.hitch(this,"_clearTimer"))),this._subs.push(c.subscribe("/dnd/move/start",
d.hitch(this,"_setTimer"))),this._keyListeners=[],this._connects.push(v.addKeyListener(this.hueCursorNode,{charOrCode:n.UP_ARROW,shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1},this,d.hitch(this,this._updateHueCursorNode),25,25)),this._connects.push(v.addKeyListener(this.hueCursorNode,{charOrCode:n.DOWN_ARROW,shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1},this,d.hitch(this,this._updateHueCursorNode),25,25)),this._connects.push(v.addKeyListener(this.cursorNode,{charOrCode:n.UP_ARROW,shiftKey:!1,metaKey:!1,
ctrlKey:!1,altKey:!1},this,d.hitch(this,this._updateCursorNode),25,25)),this._connects.push(v.addKeyListener(this.cursorNode,{charOrCode:n.DOWN_ARROW,shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1},this,d.hitch(this,this._updateCursorNode),25,25)),this._connects.push(v.addKeyListener(this.cursorNode,{charOrCode:n.LEFT_ARROW,shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1},this,d.hitch(this,this._updateCursorNode),25,25)),this._connects.push(v.addKeyListener(this.cursorNode,{charOrCode:n.RIGHT_ARROW,shiftKey:!1,
metaKey:!1,ctrlKey:!1,altKey:!1},this,d.hitch(this,this._updateCursorNode),25,25)))},_setValueAttr:function(a,b){this._started&&this.setColor(a,b)},setColor:function(a,b){a=w.fromString(a);this._updatePickerLocations(a);this._updateColorInputs(a);this._updateValue(a,b)},_setTimer:function(b){b.node!=this.cursorNode&&b.node!=this.hueCursorNode||(r.focus(b.node),a.setSelectable(this.domNode,!1),this._timer=setInterval(d.hitch(this,"_updateColor"),45))},_clearTimer:function(b){this._timer&&(clearInterval(this._timer),
this._timer=null,this.onChange(this.value),a.setSelectable(this.domNode,!0))},_setHue:function(a){b.style(this.colorUnderlay,"backgroundColor",w.fromHsv(a,100,100).toHex())},_updateHueCursorNode:function(a,c,d){if(-1!==a){a=b.style(this.hueCursorNode,"top");c=this.PICKER_HUE_SELECTOR_H/2;a+=c;var e=!1;d.charOrCode==n.UP_ARROW?0<a&&(a-=1,e=!0):d.charOrCode==n.DOWN_ARROW&&a<this.PICKER_HUE_H&&(a+=1,e=!0);e&&b.style(this.hueCursorNode,"top",a-c+"px")}else this._updateColor(!0)},_updateCursorNode:function(a,
c,d){c=this.PICKER_SAT_SELECTOR_H/2;var e=this.PICKER_SAT_SELECTOR_W/2;if(-1!==a){a=b.style(this.cursorNode,"top");var f=b.style(this.cursorNode,"left");a+=c;var f=f+e,g=!1;d.charOrCode==n.UP_ARROW?0<a&&(a-=1,g=!0):d.charOrCode==n.DOWN_ARROW?a<this.PICKER_SAT_VAL_H&&(a+=1,g=!0):d.charOrCode==n.LEFT_ARROW?0<f&&(f-=1,g=!0):d.charOrCode==n.RIGHT_ARROW&&f<this.PICKER_SAT_VAL_W&&(f+=1,g=!0);g&&(f-=e,b.style(this.cursorNode,"top",a-c+"px"),b.style(this.cursorNode,"left",f+"px"))}else this._updateColor(!0)},
_updateColor:function(a){var c=this.PICKER_HUE_SELECTOR_H/2,d=this.PICKER_SAT_SELECTOR_H/2,e=this.PICKER_SAT_SELECTOR_W/2,c=b.style(this.hueCursorNode,"top")+c,d=b.style(this.cursorNode,"top")+d,e=b.style(this.cursorNode,"left")+e,c=Math.round(360-360*(c/this.PICKER_HUE_H)),e=w.fromHsv(c,100*(e/this.PICKER_SAT_VAL_W),100-100*(d/this.PICKER_SAT_VAL_H));this._updateColorInputs(e);this._updateValue(e,a);c!=this._hue&&this._setHue(c)},_colorInputChange:function(a){var b,c=!1;switch(a.target){case this.hexCode:b=
w.fromString(a.target.value);c=!0;break;case this.Rval:case this.Gval:case this.Bval:b=w.fromArray([this.Rval.value,this.Gval.value,this.Bval.value]);c=!0;break;case this.Hval:case this.Sval:case this.Vval:b=w.fromHsv(this.Hval.value,this.Sval.value,this.Vval.value),c=!0}c&&(this._updatePickerLocations(b),this._updateColorInputs(b),this._updateValue(b,!0))},_updateValue:function(a,b){var c=a.toHex();this.value=this.valueNode.value=c;if(b&&(!this._timer||this.liveUpdate))this.onChange(c)},_updatePickerLocations:function(a){var c=
this.PICKER_HUE_SELECTOR_H/2,d=this.PICKER_SAT_SELECTOR_H/2,e=this.PICKER_SAT_SELECTOR_W/2;a=a.toHsv();c=Math.round(this.PICKER_HUE_H-a.h/360*this.PICKER_HUE_H)-c;e=Math.round(a.s/100*this.PICKER_SAT_VAL_W)-e;d=Math.round(this.PICKER_SAT_VAL_H-a.v/100*this.PICKER_SAT_VAL_H)-d;this.animatePoint?(p.slideTo({node:this.hueCursorNode,duration:this.slideDuration,top:c,left:0}).play(),p.slideTo({node:this.cursorNode,duration:this.slideDuration,top:d,left:e}).play()):(b.style(this.hueCursorNode,"top",c+"px"),
b.style(this.cursorNode,{left:e+"px",top:d+"px"}));a.h!=this._hue&&this._setHue(a.h)},_updateColorInputs:function(a){var b=a.toHex();this.showRgb&&(this.Rval.value=a.r,this.Gval.value=a.g,this.Bval.value=a.b);this.showHsv&&(a=a.toHsv(),this.Hval.value=Math.round(a.h),this.Sval.value=Math.round(a.s),this.Vval.value=Math.round(a.v));this.showHex&&(this.hexCode.value=b);this.previewNode.style.backgroundColor=b;this.webSafe&&(this.safePreviewNode.style.backgroundColor=b)},_setHuePoint:function(a){a=a.layerY-
this.PICKER_HUE_SELECTOR_H/2;this.animatePoint?p.slideTo({node:this.hueCursorNode,duration:this.slideDuration,top:a,left:0,onEnd:d.hitch(this,function(){this._updateColor(!1);r.focus(this.hueCursorNode)})}).play():(b.style(this.hueCursorNode,"top",a+"px"),this._updateColor(!1))},_setPoint:function(a){var c=a.layerY-this.PICKER_SAT_SELECTOR_H/2,e=a.layerX-this.PICKER_SAT_SELECTOR_W/2;a&&r.focus(a.target);this.animatePoint?p.slideTo({node:this.cursorNode,duration:this.slideDuration,top:c,left:e,onEnd:d.hitch(this,
function(){this._updateColor(!0);r.focus(this.cursorNode)})}).play():(b.style(this.cursorNode,{left:e+"px",top:c+"px"}),this._updateColor(!1))},_handleKey:function(a){},focus:function(){this.focused||r.focus(this.focusNode)},_stopDrag:function(a){e.stop(a)},destroy:function(){this.inherited(arguments);g.forEach(this._subs,function(a){c.unsubscribe(a)});delete this._subs}})})},"dojo/dnd/move":function(){define("../_base/declare ../dom-geometry ../dom-style ./common ./Mover ./Moveable".split(" "),function(h,
k,d,g,b,c){g=h("dojo.dnd.move.constrainedMoveable",c,{constraints:function(){},within:!1,constructor:function(b,c){c||(c={});this.constraints=c.constraints;this.within=c.within},onFirstMove:function(b){var c=this.constraintBox=this.constraints.call(this,b);c.r=c.l+c.w;c.b=c.t+c.h;this.within&&(b=k.getMarginSize(b.node),c.r-=b.w,c.b-=b.h)},onMove:function(b,c){var d=this.constraintBox,a=b.node.style;this.onMoving(b,c);c.l=c.l<d.l?d.l:d.r<c.l?d.r:c.l;c.t=c.t<d.t?d.t:d.b<c.t?d.b:c.t;a.left=c.l+"px";
a.top=c.t+"px";this.onMoved(b,c)}});b=h("dojo.dnd.move.boxConstrainedMoveable",g,{box:{},constructor:function(b,c){var d=c&&c.box;this.constraints=function(){return d}}});h=h("dojo.dnd.move.parentConstrainedMoveable",g,{area:"content",constructor:function(b,c){var e=c&&c.area;this.constraints=function(){var a=this.node.parentNode,b=d.getComputedStyle(a),c=k.getMarginBox(a,b);if("margin"==e)return c;var f=k.getMarginExtents(a,b);c.l+=f.l;c.t+=f.t;c.w-=f.w;c.h-=f.h;if("border"==e)return c;f=k.getBorderExtents(a,
b);c.l+=f.l;c.t+=f.t;c.w-=f.w;c.h-=f.h;if("padding"==e)return c;f=k.getPadExtents(a,b);c.l+=f.l;c.t+=f.t;c.w-=f.w;c.h-=f.h;return c}}});return{constrainedMoveable:g,boxConstrainedMoveable:b,parentConstrainedMoveable:h}})},"dojox/color":function(){define(["./color/_base"],function(h){return h})},"dojox/color/_base":function(){define(["../main","dojo/_base/lang","dojo/_base/Color","dojo/colors"],function(h,k,d,g){h=k.getObject("color",!0,h);h.Color=d;h.blend=d.blendColors;h.fromRgb=d.fromRgb;h.fromHex=
d.fromHex;h.fromArray=d.fromArray;h.fromString=d.fromString;h.greyscale=g.makeGrey;k.mixin(h,{fromCmy:function(b,c,f){k.isArray(b)?(c=b[1],f=b[2],b=b[0]):k.isObject(b)&&(c=b.m,f=b.y,b=b.c);c=1-c/100;f=1-f/100;return new d({r:Math.round(255*(1-b/100)),g:Math.round(255*c),b:Math.round(255*f)})},fromCmyk:function(b,c,f,g){k.isArray(b)?(c=b[1],f=b[2],g=b[3],b=b[0]):k.isObject(b)&&(c=b.m,f=b.y,g=b.b,b=b.c);c/=100;f/=100;g/=100;b=1-Math.min(1,b/100*(1-g)+g);c=1-Math.min(1,c*(1-g)+g);f=1-Math.min(1,f*(1-
g)+g);return new d({r:Math.round(255*b),g:Math.round(255*c),b:Math.round(255*f)})},fromHsl:function(b,c,f){k.isArray(b)?(c=b[1],f=b[2],b=b[0]):k.isObject(b)&&(c=b.s,f=b.l,b=b.h);c/=100;for(f/=100;0>b;)b+=360;for(;360<=b;)b-=360;var g,e;120>b?(g=(120-b)/60,e=b/60,b=0):240>b?(g=0,e=(240-b)/60,b=(b-120)/60):(g=(b-240)/60,e=0,b=(360-b)/60);g=2*c*Math.min(g,1)+(1-c);e=2*c*Math.min(e,1)+(1-c);b=2*c*Math.min(b,1)+(1-c);0.5>f?(g*=f,e*=f,b*=f):(g=(1-f)*g+2*f-1,e=(1-f)*e+2*f-1,b=(1-f)*b+2*f-1);return new d({r:Math.round(255*
g),g:Math.round(255*e),b:Math.round(255*b)})}});h.fromHsv=function(b,c,f){k.isArray(b)?(c=b[1],f=b[2],b=b[0]):k.isObject(b)&&(c=b.s,f=b.v,b=b.h);360==b&&(b=0);c/=100;f/=100;var g,e,a;if(0==c)e=a=g=f;else{var h=b/60;b=Math.floor(h);var n=h-b,h=f*(1-c),p=f*(1-c*n);c=f*(1-c*(1-n));switch(b){case 0:g=f;e=c;a=h;break;case 1:g=p;e=f;a=h;break;case 2:g=h;e=f;a=c;break;case 3:g=h;e=p;a=f;break;case 4:g=c;e=h;a=f;break;case 5:g=f,e=h,a=p}}return new d({r:Math.round(255*g),g:Math.round(255*e),b:Math.round(255*
a)})};k.extend(d,{toCmy:function(){var b=1-this.g/255,c=1-this.b/255;return{c:Math.round(100*(1-this.r/255)),m:Math.round(100*b),y:Math.round(100*c)}},toCmyk:function(){var b,c,d,g=this.r/255;b=this.g/255;c=this.b/255;d=Math.min(1-g,1-b,1-c);b=(1-b-d)/(1-d);c=(1-c-d)/(1-d);return{c:Math.round(100*((1-g-d)/(1-d))),m:Math.round(100*b),y:Math.round(100*c),b:Math.round(100*d)}},toHsl:function(){var b=this.r/255,c=this.g/255,d=this.b/255,g=Math.min(b,d,c),e=Math.max(b,c,d),a=e-g,h=0,k=0,g=(g+e)/2;0<g&&
1>g&&(k=a/(0.5>g?2*g:2-2*g));0<a&&(e==b&&e!=c&&(h+=(c-d)/a),e==c&&e!=d&&(h+=2+(d-b)/a),e==d&&e!=b&&(h+=4+(b-c)/a),h*=60);return{h:h,s:Math.round(100*k),l:Math.round(100*g)}},toHsv:function(){var b=this.r/255,c=this.g/255,d=this.b/255,g=Math.min(b,d,c),e=Math.max(b,c,d),g=e-g,a=null,h=0==e?0:g/e;0==h?a=0:(a=b==e?60*(c-d)/g:c==e?120+60*(d-b)/g:240+60*(b-c)/g,0>a&&(a+=360));return{h:a,s:Math.round(100*h),v:Math.round(100*e)}}});return h})},"dojo/colors":function(){define(["./_base/kernel","./_base/lang",
"./_base/Color","./_base/array"],function(h,k,d,g){var b={};k.setObject("dojo.colors",b);var c=function(b,c,a){0>a&&++a;1<a&&--a;var d=6*a;return 1>d?b+(c-b)*d:1>2*a?c:2>3*a?b+6*(c-b)*(2/3-a):b};h.colorFromRgb=d.fromRgb=function(b,e){var a=b.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(a){var f=a[2].split(/\s*,\s*/),h=f.length,a=a[1];if("rgb"==a&&3==h||"rgba"==a&&4==h)return a=f[0],"%"==a.charAt(a.length-1)?(a=g.map(f,function(a){return 2.56*parseFloat(a)}),4==h&&(a[3]=f[3]),d.fromArray(a,
e)):d.fromArray(f,e);if("hsl"==a&&3==h||"hsla"==a&&4==h){var a=(parseFloat(f[0])%360+360)%360/360,k=parseFloat(f[1])/100,t=parseFloat(f[2])/100,k=0.5>=t?t*(k+1):t+k-t*k,t=2*t-k,a=[256*c(t,k,a+1/3),256*c(t,k,a),256*c(t,k,a-1/3),1];4==h&&(a[3]=f[3]);return d.fromArray(a,e)}}return null};var f=function(b,c,a){b=Number(b);return isNaN(b)?a:b<c?c:b>a?a:b};d.prototype.sanitize=function(){this.r=Math.round(f(this.r,0,255));this.g=Math.round(f(this.g,0,255));this.b=Math.round(f(this.b,0,255));this.a=f(this.a,
0,1);return this};b.makeGrey=d.makeGrey=function(b,c){return d.fromArray([b,b,b,c])};k.mixin(d.named,{aliceblue:[240,248,255],antiquewhite:[250,235,215],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],blanchedalmond:[255,235,205],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,
255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],
dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,
216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,
85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],oldlace:[253,245,230],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,
112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],thistle:[216,
191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],whitesmoke:[245,245,245],yellowgreen:[154,205,50]});return d})},"mojo/ImageEditor":function(){define("dojo/_base/declare dojo/request/script dojo/Deferred dojo/on mojo/context mojo/url dojo/_base/window dojo/_base/lang dojo/dom-construct".split(" "),function(h,k,d,g,b,c,f,l,e){var a={apiKey:"7dc216d6b93d49929c14df88763ffedd",noCloseButton:!1,theme:"minimum"},m,n={open:function(a,b,g){return n._load().then(function(){g=
g||{};var h=null;b?h=b[0]:b="all";var k=new d;a=c.removeProxy(a);var m=e.toDom('\x3cimg class\x3d"hide" src\x3d"'+a+'"/\x3e');e.place(m,f.body());"cropPresets"in g&&(g.cropPresets=[["MC",g.cropPresets]],g.cropPresetDefault="MC");g=l.mixin(g,{image:m,url:a,tools:b,initTool:h,appendTo:null,onReady:function(){},onSave:function(a,b){window.featherEditor.close();k.resolve(b);e.destroy(m)},onError:function(a){k.reject(a);e.destroy(m)}});window.featherEditor.launch(g);return k.promise})},_load:function(){m||
(m=new d);window.featherEditor?this._resolve():k.get("https://dme0ih8comzn4.cloudfront.net/imaging/v2/editor.js").then(l.hitch(this,"_resolve"),l.hitch(this,"_reject"));return m.promise},_resolve:function(){window.featherEditor=new window.Aviary.Feather(a);m.resolve(window.featherEditor)},_reject:function(){m.reject({error:"timeout"})},getImageInfo:function(a){function b(){f.resolve({url:c.addProxy(a),width:h.naturalWidth,height:h.naturalHeight});e.destroy(h)}var f=new d,h=e.create("img",{src:a}),
l=!h.complete;l&&(l=!("undefined"!==typeof h.naturalWidth&&0===h.naturalWidth));if(l)b();else g.once(h,"load",b);return f}};return n})},"mojo/widgets/FileManager":function(){define(["mojo/widgets/ContentManager"],function(h){return h})},"mojo/widgets/ContentManager":function(){define("dojo/_base/declare dijit/_Widget dijit/_Templated dojox/layout/ContentPane dojo/io-query mojo/FileDrag mojo/widgets/TopSliderPane dojo/text!./content-manager/templates/ContentManager.html dojo/text!./content-manager/templates/SliderPaneWrapper.html dojo/text!./content-manager/templates/ContentSourceButton.html dojo/on dojo/_base/event dojo/fx dojo/keys dojo/dom dojo/dom-style dojo/dom-geometry dojo/dom-attr dojo/html dojo/has dojo/_base/window dojo/_base/lang dojo/_base/array dojo/Deferred dojo/promise/all dojo/when dojo/dom-construct dojo/dom-class dojo/query dojo/topic dojo/_base/Color dojo/mouse dijit/Dialog mojo/analytics/parts/FolderFilter mojo/analytics/parts/MoveToFolder mojo/analytics/parts/FilterMenu mojo/analytics/parts/FilterMessage mojo/analytics/parts/Select mojo/neapolitan/widgets/ColorPicker mojo/context mojo/widgets/ButtonGroup dojox/html/entities mojo/utils mojo/url mojo/widgets/content-manager/ContentList mojo/widgets/content-manager/Api mojo/widgets/content-manager/ImportUrlDialog mojo/widgets/content-manager/RenameDialog mojo/widgets/content-manager/DeleteDialog mojo/widgets/content-manager/DetailsView mojo/widgets/content-manager/UploadProgressWindow mojo/ImageEditor mojo/Clipboard".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s,v,w,u,y,x,A,C,D,E,G,H,M,J,S,W,X,K,Q,V,ea,L,N,I,O,aa,U,T,Y,R,$,P,ma,La,tc,va,Ra){var Sa=h([f],{templateString:e,content:l,titleText:"Content Manager",badgeText:"Experimental",paneClasses:"filemanager-container",_defaultActions:"edit,delete",_fileDragSignal:null,_showDrag:!1,allowedFileTypes:null,actions:null,constructor:function(){this.actions=this._defaultActions},postMixInProperties:function(){this.inherited(arguments);this.rootUrl=I.rootUrl},postCreate:function(){this.inherited(arguments);
this._initSourceButtons();m(this.importUrlButton,"click",x.hitch(this,"handleImportUrl"));m(this.deleteButton,"click",x.hitch(this,"handleDelete"));m(this.editButton,"click",x.hitch(this,"handleEdit"));m(this.copyUrlButton,"click",x.hitch(this,"handleCopyUrl"));m(this.copyUrlButtonMobile,"click",x.hitch(this,"handleCopyUrl"));m(this.viewDetailsButton,"click",x.hitch(this,"handleViewDetails"));m(this.insertButton,"click",x.hitch(this,"handleInsert"));m(this.uploadButton,"click",x.hitch(this,"handleUpload"));
m(this.uploadButtonMobile,"click",x.hitch(this,"handleUpload"));this.fileList.selected.watch(x.hitch(this,"handleItemCheck"));if(this.folderButton){var a={baseUrl:T.toUrl("file/folders"),target:"files-list"},b=new K(x.mixin({fetchFolders:!0,onFetch:x.hitch(this,function(){this.moveToFolderButton&&new Q(x.mixin({source:b},a),this.moveToFolderButton)})},a));G.place(b.domNode,this.folderButton,"only")}m(this.fileBrowse,"change",x.hitch(this,function(a){this._uploadFiles(a.target.files||a.dataTransfer.files);
this.fileBrowse.form.reset()}));J.subscribe("mojo/content-manager/api/upload",x.hitch(this,function(a){a.promise.then(x.hitch(this,function(){this.fileList.render()}))}));var d=this.dropTarget,e=this._showDrag,f=-1;c.attach(".file-drop-target",{onDragOver:function(){e=!0},onDragLeave:function(){e=!1;clearTimeout(f);f=setTimeout(function(){e||H.remove(d,"over")},200)}})},_initSourceButtons:function(){var b=[{value:"file",label:"My Files"},{value:"product",label:"Products"},{value:"giphy",label:"Giphy"}],
c=new O({options:b,templateString:"\x3cul\x3e\x3c/ul\x3e",itemTpl:a,activeClass:"v-buttonGroupList--active"});c.placeAt(this.sourceButtons);c.startup();c.setSelected(b[0].value);this.fileList.set("source",b[0].value);c.on("change",x.hitch(this,function(a){this._filter&&this._filter.clearFilters();this.fileList.set("source",a);this.handleSourceSwitch();this.updateFiltersAndSorts()}))},handleInsert:function(){var a=this.fileList.getSelection();1!==a.length&&U.globalPublish("show-toast",[{message:"You can't insert more than one item at a time.",
type:"warning"}]);R.getInfo(a[0],this.fileList.source).then(x.hitch(this,"select"))},handleItemCheck:function(){var a=this.fileList.getSelectionItems(),b=a.length;H.remove(this.viewDetailsButton.domNode,"disabled");v.remove(this.copyUrlButtonMobile,"disabled");v.remove(this.insertButton,"disabled");1!==b&&(H.add(this.viewDetailsButton.domNode,"disabled"),v.set(this.copyUrlButtonMobile,"disabled","disabled"),v.set(this.insertButton,"disabled","disabled"));a=a.length&&a[0].isImage()&&"giphy"!==a[0].source;
H.toggle(this.editButton.domNode,"hide",!1===a)},handleSourceSwitch:function(){H.toggle(this.deleteButton,"hide","file"!==this.fileList.source);H.toggle(this.folderButton,"hide","file"!==this.fileList.source);H.toggle(this.moveToFolderContainer,"hide","file"!==this.fileList.source)},handleUpload:function(){this.fileBrowse.click()},handleViewDetails:function(){var a=this.fileList.getSelection();1!==a.length&&U.globalPublish("show-toast",[{message:"You can't view the details of more than one item at a time.",
type:"warning"}]);a=new La({contentManager:this,contentSource:this.fileList.source,contentId:a[0]});a.startup();a.show({forceOnTop:!0})},handleDelete:function(){this.deleteFile(this.fileList.getSelection().join())},handleImportUrl:function(){this._showImportDialog()},handleEdit:function(){var a=this.fileList.getSelection();1!==a.length?U.globalPublish("show-toast",[{message:"You can't edit more than one item at a time.",type:"warning"}]):this.editContent(this.fileList.items[a[0]])},editContent:function(a){var b=
a.contentId;return va.open(a.url).then(x.hitch(this,function(a){return this.importFromUrl(a,!0,b)}))},handleCopyUrl:function(a){a=this.fileList.getSelection();1!==a.length?U.globalPublish("show-toast",[{message:"You can't copy more than one item at a time.",type:"warning"}]):this.copyUrl(this.fileList.items[a[0]])},renameContent:function(a){var b=aa.decode(a.name),b=new P({name:b});b.show();var c=b.deferred;return c.then(x.hitch(this,function(b){return this._onContentRename(a,b)}),function(a){if(!c.isCanceled())throw a;
})},_onContentRename:function(a,b){return R.rename(a.contentId,null,b).then(x.hitch(this,function(a){U.globalPublish("show-toast",[{message:"File renamed successfully.",type:"success"}]);this.fileList.render();return a}),function(){U.globalPublish("show-toast",[{message:"Failed to rename file.",type:"error"}])})},copyUrl:function(a){Ra.copy(a.url);U.globalPublish("show-toast",[{message:"The file URL is copied\u2014paste when you're ready.",type:"success"}])},_isAcceptableFile:function(a){return!this.allowedFileTypes?
!0:A.some(this.allowedFileTypes,function(b){return"image"===b?A.some(["image/png","image/jpeg","image/gif","image/url"],function(b){return a.type===b}):a.name.split(".").pop()===b||a.type===b||a.type.split("/")[1]===b||a.type.split("/")[0]===b})},_uploadFiles:function(a){if(a&&0!==a.length){var b=[],c=[];A.forEach(a,function(a){this._isAcceptableFile(a)?b.push(a):c.push(a)},this);A.forEach(b,function(a){this._uploadToCurrentFolder(a).then(x.hitch(this,function(a){1===b.length&&this.select(a)}))},
this);c.length&&U.globalPublish("show-toast",[{message:"You can't upload an image of this type.",type:"error"}])}},_uploadToCurrentFolder:function(a,b){var c=this.fileList.getFilter("folder");return this.uploadFile(a,c,b)},uploadFile:function(a,b,c){var d;-1!==["file/url","image/url"].indexOf(a.type)?(d=a.content,d=a.contentId?R.updateOrUploadFromUrl(null,a.contentId,d):R.uploadFromUrl(null,d)):d=R.readFileAsDataUrl(a).then(function(c){return R.upload(null,c,a.name,{folder:b})});c||J.publish("mojo/content-manager/api/upload",
{file:a,promise:d});d.then(null,function(a){U.globalPublish("show-toast",[{message:a&&a.response&&a.response.data?a.response.data.error:"An error occurred while uploading.",type:"error"}]);throw a;});return d},_showImportDialog:function(){var a=new $;a.show();a.deferred.then(x.hitch(this,function(a){return this.importFromUrl(a)})).then(x.hitch(this,function(a){this.select(a)}),function(){})},select:function(a){if(-1!==this.actions.indexOf("select")&&this.onSelect){if("file"!==a.source){var b=a.source+
":"+a.contentId;a=a.getDisplayUrl();a=R.uploadFromUrl(b,a)}E(a,x.hitch(this,function(a){this.hide();this.onSelect(a.getDisplayUrl(),a.name,a.contentId)}))}},importFromUrl:function(a,b,c){return this._uploadToCurrentFolder({content:a,type:"file/url",contentId:c},b)},deleteFile:function(a){var b=this,c=new ma({fileid:a});c.show();return c.deferred.then(function(c){return b._onFileDelete(a)})},_onFileDelete:function(a){var b=R.delete(a);b.then(x.hitch(this,function(b){this.fileList.render();b=a.split?
a.split(",").length:1;U.globalPublish("show-toast",[{message:b+" file"+(1<b?"s":"")+" deleted.",type:"success"}])}),function(){U.globalPublish("show-toast",[{message:"Failed to delete file(s).",type:"error"}])});return b},_adjustHeight:function(){var a=s.getMarginBox(this.content).h,b=s.getMarginBox(this.listControls).h,c=s.getMarginBox(this.paginationControls).h;s.setMarginBox(this.listContainer,{h:a-b-c})},_setFilters:function(a){this._filter&&this._filter.destroy();this._filter=new V({target:"files-list",
filters:a});G.place(this._filter.domNode,this.filterButton,"only");this._filterMessage&&this._filterMessage.destroy();this._filterMessage=new ea({target:"files-list",filters:x.clone(a).concat([{key:"search",type:"search"}])});G.place(this._filterMessage.domNode,this.filterMessage,"only")},_setSorts:function(a){this._sort&&this._sort.destroy();if(0!==a.length){var b=[];A.forEach(a,function(a){var c=a.key;b.push([c+"-asc",a.asc]);b.push([c+"-desc",a.desc])});this._sort=new L({target:"files-list",syncAttr:"sort",
label:"Sort by",values:b});G.place(this._sort.domNode,this.sortButton,"only")}},_onShowCallback:function(){this._fileDragSignal=c.attach(".c-topSliderPane_content",{onDragEnter:x.hitch(this,function(){H.add(this.dropTarget,"over");this._showDrag=!0}),onDragOver:x.hitch(this,function(){this._showDrag=!0}),onDrop:x.hitch(this,function(a,b,c){H.remove(this.dropTarget,"over");this._uploadFiles(A.map(a,function(a){return a.content.type?a.content:a}))})},this.allowedFileTypes);var a=this.allowedFileTypes;
a&&"string"!==typeof a&&(a=a.join());this.fileList.setOptions({allowedFileTypes:a});this.updateFiltersAndSorts();this.updateVisibleActions();J.publish("mojo/filemanager/show");setTimeout(x.hitch(this,this._adjustHeight),500)},updateFiltersAndSorts:function(){var a=this.fileList.source;D({filters:R.getFilters(a),sorts:R.getSorts(a)}).then(x.hitch(this,function(a){this._setFilters(a.filters);this._setSorts(a.sorts)}))},updateVisibleActions:function(){var a=this.actions;A.map([[this.insertButton,"select"]],
function(b){H.toggle(b[0],"hide",-1===a.indexOf(b[1]))})},_onHideCallback:function(){this._fileDragSignal&&this._fileDragSignal.detach();J.publish("mojo/filemanager/hide")},show:function(a){this._showCleanup();a=this._fixParams(a);x.mixin(this,a);return this.inherited(arguments)},_showCleanup:function(){this.onSave=this.onSelect=this.allowedFileTypes=null;this.actions=this._defaultActions},_fixParams:function(a){if(a){var b=a.allowedFileTypes;b&&"string"===typeof b&&(a.allowedFileTypes=b.replace(/^\s+|\s+$/g,
"").split(/\s*,\s*/));if(b=a.actions)a.actions=x.isArray(b)?b:b.replace(/^\s+|\s+$/g,"").split(/,\s*/),-1!==a.actions.indexOf("rename")&&a.actions.push("edit")}return a}}),Xa=null;return{_getContentManager:function(){Xa||(Xa=new Sa,Xa.startup());return Xa},show:function(a){return this._getContentManager().show(a)},hide:function(){return this._getContentManager().hide()},isShown:function(){return Xa&&!0===Xa.displayActive},importFromUrl:function(a,b,c){return this._getContentManager().importFromUrl(a,
b,c)},uploadFile:function(a,b,c){return this._getContentManager().uploadFile(a,null,!0)},getInfo:function(a,b){return R.getInfo(a,b)}}})},"mojo/FileDrag":function(){define("dojo/on dojo/_base/window dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/_base/event dojo/dom dojo/query dojo/dom-class dojo/dom-construct dojo/dom-attr".split(" "),function(h,k,d,g,b,c,f,l,e,a,m){var n=[],p={},t={},q=function(a){c.stop(a);"dragover"==a.type?(e.add(this,"hover-drag"),l(".drop-target",this).addClass("hover")):
(e.remove(this,"hover-drag"),l(".hover",this).removeClass("hover"))},r=function(b){b=a.toDom(b);var c=l("img",b)[0],d=null;c&&m.get(c,"src")&&(d=m.get(c,"src"));a.destroy(b);return d},s=function(a){return d.some([".jpg",".jpeg",".png",".gif"],function(b){return-1!=a.indexOf(b)})},v=function(a,b){return!t[a]?!0:d.some(t[a],function(a){return b.name.split(".").pop()===a||b.type===a||b.type.split("/")[1]===a||b.type.split("/")[0]===a})},w=function(a){c.stop(a);e.remove(this,"hover-drag");l(".hover",
this).removeClass("hover");var b,f=null;dojo.some(n,function(c){b=l(a.target).closest(c)[0];f=c;return b});if(b){var g=[],h=[],k=a.target.files||a.dataTransfer.files;if(k&&k.length)d.forEach(k,function(a){a&&v(f,a)?g.push({type:a.type,content:a}):h.push({type:a.type,content:a})});else{var k=a.dataTransfer.getData("URL")||a.dataTransfer.getData("Text"),m=r(a.dataTransfer.getData("text/html"));k&&s(k)?g.push({type:"image/url",content:k}):m&&g.push({type:"image/url",content:m})}if(p[f]&&p[f].onDrop)p[f].onDrop(g,
a.target,h)}};return{attach:function(a,b,c){if(window.File&&window.FileList&&window.FileReader){n.unshift(a);p[a]=b;t[a]=c;var e=[];b&&(b.onDragEnter&&e.push(h(k.doc,a+":dragenter",b.onDragEnter)),b.onDragOver&&e.push(h(k.doc,a+":dragenter",b.onDragOver)),b.onDragLeave&&e.push(h(k.doc,a+":dragleave",b.onDragLeave)));e.push(h(k.doc,a+":dragover",q));e.push(h(k.doc,a+":dragleave",q));e.push(h(k.doc,"drop",w));e.push(h(k.doc,"dragover",function(a){a.preventDefault()}));e.push(h(k.doc,"dragenter",function(a){a.preventDefault()}));
return{detach:function(){d.forEach(e,function(a,b){a.remove()})}}}return null}}})},"mojo/analytics/parts/FolderFilter":function(){define(["dojo/_base/declare","dojo/_base/lang","./_Part","mojo/widgets/Folder"],function(h,k,d,g){return h([g,d],{init:function(){this.inherited(arguments);setTimeout(k.hitch(this,function(){var b=this.target.getFilter("folder");b&&(this.getFolder(b)?this.setSelectedFolder(this.target.getFilter("folder"),!0):this.target.clearFilter("folder"))}),0)},onSelect:function(b){this.target.setFilter("folder",
b)},onDeselect:function(){this.target.clearFilter("folder")},canDisplay:function(){return this.inherited(arguments)||this.target.hasFilter("folder")}})})},"mojo/widgets/Folder":function(){define("dojo/_base/declare dijit/_Widget dijit/_Templated dojox/mvc/StatefulArray dojo/text!./templates/folder.html dojo/_base/lang dojo/_base/array dojo/query dojo/request dojo/dom-construct dojo/dom-style dojo/dom-class dojo/dom-attr dojo/on dojo/aspect mojo/utils mojo/user dijit/InlineEditBox dojo/ready dojox/html/entities dijit/form/DropDownButton dijit/TooltipDialog dojo/NodeList-manipulate".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s,v,w,u){var y=h(v,{renderAsHtml:!1,rawVal:"",editable:!0,_onMouseOver:function(){},_onClick:function(a){if(this.editing)a.stopPropagation(),a.preventDefault();else return this._onMouseOut(),this.onClick(a)},postCreate:function(){this.inherited(arguments);this.editable?(t(this.displayNode,"[data-folder-action\x3dremove]:click",c.hitch(this,"_delete")),t(this.displayNode,"[data-folder-action\x3dedit]:click",c.hitch(this,"edit"))):l("[data-folder-action]",this.displayNode).style("display",
"none")},_setValueAttr:function(a){this.inherited(arguments);var b="\x3cspan\x3e"+u.encode(u.decode(this.value))+"\x3c/span\x3e";if(this.folder.count||0==this.folder.count)b+='\x3cdiv class\x3d"badge !margin--lv0 float-right folder-count"\x3e'+this.folder.count+"\x3c/div\x3e";b+='\x3ca href\x3d"javascript:void(0);" data-folder-action\x3d"remove" class\x3d"mailchimpInlineHandle freddicon remove-circle" title\x3d"Delete"\x3e\x3c/a\x3e\x3ca href\x3d"javascript:void(0);" data-folder-action\x3d"edit" class\x3d"mailchimpInlineHandle freddicon edit" title\x3d"Edit"\x3e\x3c/a\x3e';
this.displayNode.innerHTML=b},onDelete:function(){},_delete:function(a){a.stopPropagation();a.preventDefault();this.onDelete()},updateCount:function(){l(".folder-count",this.domNode).html(this.folder.count)},_clear:function(){this.domNode.parentNode.removeChild(this.domNode)}});return h([k,d],{templateString:b,widgetsInTemplate:!0,folderRow:'\x3cli data-folder-id\x3d"{id}" class\x3d"selfclear"\x3e{name}\x3c/li\x3e',selectable:!0,canEdit:!0,canAdd:!0,includeAll:!0,fetchFolders:!1,baseUrl:null,defaultNewFolder:"New Folder",
_defaultButtonText:"Folders",filter:"",constructor:function(){this._watches=[];this.foldersDom={}},uninitialize:function(){f.forEach(this._watches,function(a){a.unwatch()});this._watches=[];this.inherited(arguments)},postMixInProperties:function(){if(!this.baseUrl)throw Error("Must provide a baseUrl to setup Folders");this.folders=this.source?this.source.folders:new g(this.folders&&this.folders.length?c.clone(this.folders):[]);this.addBtnCss=this.canEdit?"unit size1of2 !padding-left--lv0 nochange":
"unit size1of1 !padding-left--lv0 !padding-right--lv0 nochange";this.editBtnCss=this.canAdd?"lastUnit size1of2 !padding-right--lv0 nochange":"unit size1of1 !padding-left--lv0 !padding-right--lv0 nochange";this.buttonText||(this.buttonText=this._defaultButtonText)},postCreate:function(){this.init()},init:function(){var b=this;!this.canEdit&&!this.canAdd&&m.set(this.actionsContainer,"display","none");this.dropdown.dropDown=this.foldersMenu;this.connect(this.dropdown.dropDown,"onHide",c.hitch(this,"_hideEditMode"));
m.set(this.allOption,"display",this.includeAll?"":"none");this.selectable&&n.add(this.allOption,"selected");this._createFoldersDom();this.canEdit?this.own(t(this.editBtn,"click",function(a){a.stopPropagation();a.preventDefault();n.contains(b.folderList,"edit-mode")?b._hideEditMode():b._showEditMode()})):m.set(this.editBtn,"display","none");this.canAdd?this.own(t(this.addBtn,"click",function(a){a.stopPropagation();a.preventDefault();b.request("create",{name:b._generateFolderName()}).then(function(a){b.addFolder(a.new_folder,
!0);b.source?b.source.updateCounts(a.folders):b.updateCounts(a.folders);b.onAdd(a.new_folder)})})):m.set(this.addBtn,"display","none");t(this.folderList,"li:click",function(){if(!b.editMode){var a=p.get(this,"data-folder-id");a?b.setSelectedFolder(a):b._deselect(a);b.dropdown.closeDropDown()}});this._isEmpty()&&this._toggleEmptyMessage();this._watches.push(this.folders.watch(function(a,c,d){if(!b._fetching&&(a=b.foldersDom[d.id]))a.value!=d.name&&a.set("value",d.name),a.set("folder",d),a.updateCount()}));
this._watches.push(this.folders.watchElements(function(d,e,g){b._fetching||(g.length&&(f.forEach(g,function(d){var e=b.foldersDom[0],e=e?e.domNode:b.folderList,e=a.place(c.replace(b.folderRow,d),e,"after");b._initFolder(d,e)}),2==b.folders.length&&b._toggleEmptyMessage()),e.length&&(f.forEach(e,function(a){var c=b.foldersDom[a.id];c.domNode===b.selectedFolder&&b._deselect(a.id);c.destroyRecursive();delete b.foldersDom[a.id]}),b._isEmpty()&&b._toggleEmptyMessage()))}));w(function(){if(640>=window.innerWidth){var a=
window.innerHeight-128;b.folderList.style.maxHeight=38*(b.folders.length+2)>a?parseInt(a-66,10)+"px":"inherit";t(b.closeFolderMenu,"click",function(){b.dropdown.closeDropDown()})}});this.fetchFolders&&this._fetchFolders()},_fetchFolders:function(){var a=this;a._fetching=!0;a.request("view").then(function(b){f.forEach(b.folders,c.hitch(this,function(b){a.folders.push(b)}));a._createFoldersDom();a._fetching=!1;a._toggleEmptyMessage();a.onFetch()})},_generateFolderName:function(){for(var a=f.map(this.folders,
function(a){return a.name}),b=0,c=this.defaultNewFolder;-1!=f.indexOf(a,c);)c=this.defaultNewFolder+" "+b,b++;return c},removeFolder:function(a){f.some(this.folders,c.hitch(this,function(b,c){return b.id==a?(this.folders.splice(c,1),!0):!1}))},getFolder:function(a){var b=null;f.some(this.folders,function(c){return c.id==a?(b=c,!0):!1});return b},setSelectedFolder:function(a,b){var c=this._getFolderDom(a);if(this.selectable)if(this.selectedFolder===c)this._deselect(a);else{l(this.selectedFolder).removeClass("selected");
n.add(c,"selected");var d="";0!=a&&(d=(this.buttonText==this._defaultButtonText?"Folder":this.buttonText)+" - ");d+=u.encode(u.decode(this.getFolder(a).name));l(this.dropdown.containerNode).html(d);l(this.allOption).removeClass("selected");this.selectedFolder=c;if(!b)this.onSelect(a)}else if(!b)this.onSelect(a)},_getFolderDom:function(a){return this.foldersDom[a].domNode},_deselect:function(a){this.selectable&&(l(this.selectedFolder).removeClass("selected"),l(this.dropdown.containerNode).html(this.buttonText),
l(this.allOption).addClass("selected"));this.selectedFolder=null;this.onDeselect(a)},addFolder:function(a,b){this.folders.push(a);b&&this.foldersDom[a.id].edit()},_showEditMode:function(){this.editMode=!0;n.add(this.folderList,"edit-mode");this.editText.innerHTML="Done"},_hideEditMode:function(){this.editMode=!1;n.remove(this.folderList,"edit-mode");this.editText.innerHTML="Edit Folder"},_isEmpty:function(){return 0==this.folders.length||1==this.folders.length&&0==this.folders[0].id},_toggleEmptyMessage:function(){this._isEmpty()?
(l(this.folderList).children().style("display","none"),m.set(this.emptyMessage,"display","")):(l(this.folderList).children().style("display",""),m.set(this.emptyMessage,"display","none"),m.set(this.allOption,"display",this.selectable?"":"none"))},_createFoldersDom:function(){f.forEach(this.folders,c.hitch(this,function(b){var d=a.place(c.replace(this.folderRow,b),this.folderList);this._initFolder(b,d)}))},_initFolder:function(a,b){var c=this,d=new y({value:a.name,folder:a,editable:0!=a.id},b);this.foldersDom[a.id]=
d;q.after(d,"onChange",function(){var b=d.value;a.name=b;f.some(c.folders,function(b,d){return b.id==a.id?(c.folders.set(d,a),!0):!1});c.request("rename",{id:a.id,name:u.decode(b)}).then(function(){c.onChange(a.id,b)})});q.after(d,"onDelete",function(){c.deleteFolder(a.id)})},updateCounts:function(a){var b=this;f.forEach(a,c.hitch(this,function(a,c){f.some(this.folders,function(d){return d.id==a.id?(d.count!=a.count&&b.folders.set(c,a),!0):!1})}))},deleteFolder:function(a){var b=this.request("delete",
{id:a});b.then(c.hitch(this,function(b){this.removeFolder(a);this.updateCounts(b.folders);this.onDelete(a)}));return b},request:function(a,b){b&&(b.__csrf_token=s.__csrfToken);return e.post(this.baseUrl+"/"+a,{handleAs:"json",data:c.mixin({filter:this.filter},b)})},onAdd:function(a){},onChange:function(a,b){},onDelete:function(a){},onSelect:function(a){},onDeselect:function(a){},onFetch:function(){}})})},"dojox/mvc/StatefulArray":function(){define(["dojo/_base/lang","dojo/Stateful"],function(h,k){function d(b){b._watchElementCallbacks&&
b._watchElementCallbacks();return b}var g=function(b){b=h._toArray(b||[]);b.constructor=g;return h.mixin(b,{pop:function(){return this.splice(this.get("length")-1,1)[0]},push:function(){this.splice.apply(this,[this.get("length"),0].concat(h._toArray(arguments)));return this.get("length")},reverse:function(){return d([].reverse.apply(this,h._toArray(arguments)))},shift:function(){return this.splice(0,1)[0]},sort:function(){return d([].sort.apply(this,h._toArray(arguments)))},splice:function(b,d){var g=
this.get("length");b+=0>b?g:0;var e=Math.min(b,g),a=this.slice(b,b+d),k=h._toArray(arguments).slice(2);[].splice.apply(this,[b,d].concat(Array(k.length)));for(var n=0;n<k.length;n++)this[e+n]=k[n];this._watchElementCallbacks&&this._watchElementCallbacks(b,a,k);this._watchCallbacks&&this._watchCallbacks("length",g,g-a.length+k.length);return a},unshift:function(){this.splice.apply(this,[0,0].concat(h._toArray(arguments)));return this.get("length")},concat:function(b){return new g([].concat.apply(this,
arguments))},join:function(b){for(var d=[],g=this.get("length"),e=0;e<g;e++)d.push(this.get(e));return d.join(b)},slice:function(b,d){var h=this.get("length");d=(void 0===d?h:d)+(0>d?h:0);for(var e=[],h=b+(0>b?h:0)||0;h<Math.min(d,this.get("length"));h++)e.push(this.get(h));return new g(e)},watchElements:function(b){var d=this._watchElementCallbacks,g=this;d||(d=this._watchElementCallbacks=function(a,b,c){for(var e=[].concat(d.list),h=0;h<e.length;h++)e[h].call(g,a,b,c)},d.list=[]);d.list.push(b);
var e={};e.unwatch=e.remove=function(){for(var a=d.list,e=0;e<a.length;e++)if(a[e]==b){a.splice(e,1);break}};return e}},k.prototype,{set:function(b,d){if("length"==b){var g=this.get("length");g<d?this.splice.apply(this,[g,0].concat(Array(d-g))):d<g&&this.splice.apply(this,[d,g-d])}else g=this.length,k.prototype.set.call(this,b,d),g!=this.length&&k.prototype.set.call(this,"length",this.length);return this},isInstanceOf:function(b){return k.prototype.isInstanceOf.apply(this,arguments)||b==g}})};g._meta=
{bases:[k]};return h.setObject("dojox.mvc.StatefulArray",g)})},"dijit/InlineEditBox":function(){define("require dojo/_base/array dojo/aspect dojo/_base/declare dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-style dojo/i18n dojo/_base/kernel dojo/keys dojo/_base/lang dojo/on dojo/sniff dojo/when ./a11yclick ./focus ./_Widget ./_TemplatedMixin ./_WidgetsInTemplateMixin ./_Container ./form/Button ./form/_TextBoxMixin ./form/TextBox dojo/text!./templates/InlineEditBox.html dojo/i18n!./nls/common".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s,v,w,u,y,x,A,C,D){w=g("dijit._InlineEditor",[v,w,u],{templateString:D,contextRequire:h,postMixInProperties:function(){this.inherited(arguments);this.messages=e.getLocalization("dijit","common",this.lang);k.forEach(["buttonSave","buttonCancel"],function(a){this[a]||(this[a]=this.messages[a])},this)},buildRendering:function(){this.inherited(arguments);var a="string"==typeof this.editor?n.getObject(this.editor)||h(this.editor):this.editor,b=this.sourceStyle,
c="line-height:"+b.lineHeight+";",d=l.getComputedStyle(this.domNode);k.forEach(["Weight","Family","Size","Style"],function(a){d["font"+a]!=b["font"+a]&&(c+="font-"+a+":"+b["font"+a]+";")},this);k.forEach("marginTop marginBottom marginLeft marginRight position left top right bottom float clear display".split(" "),function(a){this.domNode.style[a]=b[a]},this);var e=this.inlineEditBox.width;"100%"==e?(c+="width:100%;",this.domNode.style.display="block"):c+="width:"+(e+(Number(e)==e?"px":""))+";";e=n.delegate(this.inlineEditBox.editorParams,
{style:c,dir:this.dir,lang:this.lang,textDir:this.textDir});this.editWidget=new a(e,this.editorPlaceholder);this.inlineEditBox.autoSave&&(this.saveButton.destroy(),this.cancelButton.destroy(),this.saveButton=this.cancelButton=null,f.destroy(this.buttonContainer))},postCreate:function(){this.inherited(arguments);var a=this.editWidget;this.inlineEditBox.autoSave?this.own(d.after(a,"onChange",n.hitch(this,"_onChange"),!0),p(a,"keydown",n.hitch(this,"_onKeyDown"))):"intermediateChanges"in a&&(a.set("intermediateChanges",
!0),this.own(d.after(a,"onChange",n.hitch(this,"_onIntermediateChange"),!0)),this.saveButton.set("disabled",!0))},startup:function(){this.editWidget.startup();this.inherited(arguments)},_onIntermediateChange:function(){this.saveButton.set("disabled",this.getValue()==this._resetValue||!this.enableSave())},destroy:function(){this.editWidget.destroy(!0);this.inherited(arguments)},getValue:function(){var a=this.editWidget;return String(a.get("displayedValue"in a||"_getDisplayedValueAttr"in a?"displayedValue":
"value"))},_onKeyDown:function(a){this.inlineEditBox.autoSave&&this.inlineEditBox.editing&&(!a.altKey&&!a.ctrlKey)&&(a.keyCode==m.ESCAPE?(a.stopPropagation(),a.preventDefault(),this.cancel(!0)):a.keyCode==m.ENTER&&"INPUT"==a.target.tagName&&(a.stopPropagation(),a.preventDefault(),this._onChange()))},_onBlur:function(){this.inherited(arguments);this.inlineEditBox.autoSave&&this.inlineEditBox.editing&&(this.getValue()==this._resetValue?this.cancel(!1):this.enableSave()&&this.save(!1))},_onChange:function(){this.inlineEditBox.autoSave&&
(this.inlineEditBox.editing&&this.enableSave())&&s.focus(this.inlineEditBox.displayNode)},enableSave:function(){return this.editWidget.isValid?this.editWidget.isValid():!0},focus:function(){this.editWidget.focus();this.editWidget.focusNode&&(s._onFocusNode(this.editWidget.focusNode),"INPUT"==this.editWidget.focusNode.tagName&&this.defer(function(){A.selectInputText(this.editWidget.focusNode)}))}});v=g("dijit.InlineEditBox"+(t("dojo-bidi")?"_NoBidi":""),v,{editing:!1,autoSave:!0,buttonSave:"",buttonCancel:"",
renderAsHtml:!1,editor:C,editorWrapper:w,editorParams:{},disabled:!1,onChange:function(){},onCancel:function(){},width:"100%",value:"",noValueIndicator:6>=t("ie")?"\x3cspan style\x3d'font-family: wingdings; text-decoration: underline;'\x3e\x26#160;\x26#160;\x26#160;\x26#160;\x26#x270d;\x26#160;\x26#160;\x26#160;\x26#160;\x3c/span\x3e":"\x3cspan style\x3d'text-decoration: underline;'\x3e\x26#160;\x26#160;\x26#160;\x26#160;\x26#x270d;\x26#160;\x26#160;\x26#160;\x26#160;\x3c/span\x3e",constructor:function(){this.editorParams=
{}},postMixInProperties:function(){this.inherited(arguments);this.displayNode=this.srcNodeRef;this.own(p(this.displayNode,r,n.hitch(this,"_onClick")),p(this.displayNode,"mouseover, focus",n.hitch(this,"_onMouseOver")),p(this.displayNode,"mouseout, blur",n.hitch(this,"_onMouseOut")));this.displayNode.setAttribute("role","button");this.displayNode.getAttribute("tabIndex")||this.displayNode.setAttribute("tabIndex",0);!this.value&&!("value"in this.params)&&(this.value=n.trim(this.renderAsHtml?this.displayNode.innerHTML:
this.displayNode.innerText||this.displayNode.textContent||""));this.value||(this.displayNode.innerHTML=this.noValueIndicator);c.add(this.displayNode,"dijitInlineEditBoxDisplayMode")},setDisabled:function(b){a.deprecated("dijit.InlineEditBox.setDisabled() is deprecated.  Use set('disabled', bool) instead.","","2.0");this.set("disabled",b)},_setDisabledAttr:function(a){this.domNode.setAttribute("aria-disabled",a?"true":"false");a?this.displayNode.removeAttribute("tabIndex"):this.displayNode.setAttribute("tabIndex",
0);c.toggle(this.displayNode,"dijitInlineEditBoxDisplayModeDisabled",a);this._set("disabled",a)},_onMouseOver:function(){this.disabled||c.add(this.displayNode,"dijitInlineEditBoxDisplayModeHover")},_onMouseOut:function(){c.remove(this.displayNode,"dijitInlineEditBoxDisplayModeHover")},_onClick:function(a){this.disabled||(a&&(a.stopPropagation(),a.preventDefault()),this._onMouseOut(),this.defer("edit"))},edit:function(){if(!this.disabled&&!this.editing){this._set("editing",!0);this._savedTabIndex=
b.get(this.displayNode,"tabIndex")||"0";if(!this.wrapperWidget){var a=f.create("span",null,this.domNode,"before");this.wrapperWidget=new ("string"==typeof this.editorWrapper?n.getObject(this.editorWrapper):this.editorWrapper)({value:this.value,buttonSave:this.buttonSave,buttonCancel:this.buttonCancel,dir:this.dir,lang:this.lang,tabIndex:this._savedTabIndex,editor:this.editor,inlineEditBox:this,sourceStyle:l.getComputedStyle(this.displayNode),save:n.hitch(this,"save"),cancel:n.hitch(this,"cancel"),
textDir:this.textDir},a);this.wrapperWidget._started||this.wrapperWidget.startup();this._started||this.startup()}var d=this.wrapperWidget;c.add(this.displayNode,"dijitOffScreen");c.remove(d.domNode,"dijitOffScreen");l.set(d.domNode,{visibility:"visible"});b.set(this.displayNode,"tabIndex","-1");var e=d.editWidget,g=this;q(e.onLoadDeferred,n.hitch(d,function(){e.set("displayedValue"in e||"_setDisplayedValueAttr"in e?"displayedValue":"value",g.value);this.defer(function(){d.saveButton&&d.saveButton.set("disabled",
"intermediateChanges"in e);this.focus();this._resetValue=this.getValue()})}))}},_onBlur:function(){this.inherited(arguments)},destroy:function(){this.wrapperWidget&&!this.wrapperWidget._destroyed&&(this.wrapperWidget.destroy(),delete this.wrapperWidget);this.inherited(arguments)},_showText:function(a){var d=this.wrapperWidget;l.set(d.domNode,{visibility:"hidden"});c.add(d.domNode,"dijitOffScreen");c.remove(this.displayNode,"dijitOffScreen");b.set(this.displayNode,"tabIndex",this._savedTabIndex);a&&
s.focus(this.displayNode)},save:function(a){if(!this.disabled&&this.editing){this._set("editing",!1);var b=this.wrapperWidget.getValue();this.set("value",b);this._showText(a)}},setValue:function(b){a.deprecated("dijit.InlineEditBox.setValue() is deprecated.  Use set('value', ...) instead.","","2.0");return this.set("value",b)},_setValueAttr:function(a){a=n.trim(a);var b=this.renderAsHtml?a:a.replace(/&/gm,"\x26amp;").replace(/</gm,"\x26lt;").replace(/>/gm,"\x26gt;").replace(/"/gm,"\x26quot;").replace(/\n/g,
"\x3cbr\x3e");this.displayNode.innerHTML=b||this.noValueIndicator;this._set("value",a);this._started&&this.defer(function(){this.onChange(a)})},getValue:function(){a.deprecated("dijit.InlineEditBox.getValue() is deprecated.  Use get('value') instead.","","2.0");return this.get("value")},cancel:function(a){!this.disabled&&this.editing&&(this._set("editing",!1),this.defer("onCancel"),this._showText(a))}});t("dojo-bidi")&&(v=g("dijit.InlineEditBox",v,{_setValueAttr:function(){this.inherited(arguments);
this.applyTextDir(this.displayNode)}}));v._InlineEditor=w;return v})},"mojo/analytics/parts/MoveToFolder":function(){define(["dojo/_base/declare","dojo/_base/lang","./_Part","mojo/widgets/Folder"],function(h,k,d,g){return h([g,d],{buttonText:"Move To",canEdit:!1,selectable:!1,includeAll:!1,onMove:function(b,c){this.source&&(this.source.updateCounts(b),this.target.getFilter("folder")?this.target.render():this.source.setSelectedFolder(c))},onSelect:function(b){this.request("move-to-folder",{"id[]":this.target.getSelection(),
fid:b}).then(k.hitch(this,function(c){this.onMove(c.folders,b)}))}})})},"mojo/analytics/parts/FilterMenu":function(){define("dojo/_base/declare mojo/analytics/parts/_Part dijit/_Templated dojo/_base/array dojo/_base/lang dojo/query dojo/dom-style dojo/dom-class dojo/dom-construct dojo/aspect dijit/focus dijit/form/TextBox dijit/form/CheckBox dijit/form/Select dojo/topic dojo/text!./templates/filterMenu.html dojo/ready dojo/on".split(" "),function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s,v){return h([k,d],
{templateString:r,widgetsInTemplate:!0,init:function(){var a=this;this.dropdown.dropDown=this.filtersMenu;this.filterInputs=[];this.filterKeys=[];g.forEach(this.filters,function(b){var d,f=a.target.getFilter(b.key)||"";switch(b.type){case "select":var g=[{value:"",label:"All"}],h;for(h in b.options)g.push({value:h,label:b.options[h]});d=new t({"class":"select-small !margin--lv0 full-width",options:g,value:f});break;case "text":d=new n({value:f});break;case "checkbox":d=new p({value:!0});f&&d.set("checked",
!0);break;default:throw Error("Unrecognized type "+b.type);}a.filterKeys.push(b.key);a.filterInputs.push({filter:b,input:d});a._watches.push(a.target.watchFilter(b.key,function(a,c,e){if(null==e)switch(b.type){case "checkbox":d.set("checked",!1,!1);break;default:d.set("value","",!1)}}));f=e.place('\x3cli\x3e\x3clabel for\x3d"'+d.id+'"\x3e'+b.label+"\x3c/label\x3e\x3c/li\x3e",a.filterList);"checkbox"==b.type?e.place(d.domNode,c("label",f)[0],"first"):e.place(d.domNode,f)});this.connect(this.resetLink,
"click",b.hitch(this,function(a){a.preventDefault();a.stopPropagation();this.clearFilters()}));this.connect(this.okBtn,"click",function(b){b.preventDefault();b.stopPropagation();g.forEach(this.filterInputs,function(b){var c=b.filter;(b=b.input.get("value"))||0===b?a.target.setFilter(c.key,b):a.target.clearFilter(c.key)});this.dropdown.closeDropDown()});a.own(q.subscribe(this.target.getTopic(),function(){a.dropdown._opened&&(a.dropdown.openDropDown(),m.focus(a.filtersMenu.domNode))}));s(function(){if(640>=
window.innerWidth){var b=window.innerHeight-128;a.filterList.style.maxHeight=72*(a.filters.length+1)>b?parseInt(b-66,10)+"px":"inherit";a.own(v(a.closeFilterMenu,"click",function(){a.dropdown.closeDropDown()}))}})},clearFilters:function(){g.forEach(this.filters,b.hitch(this,function(a){this.target.clearFilter(a.key)}))},canDisplay:function(){return this.inherited(arguments)||g.some(this.filterKeys,b.hitch(this,function(a){return this.target.hasFilter(a)}))}})})},"mojo/analytics/parts/FilterMessage":function(){define("dojo/_base/declare dojo/_base/lang dojo/on mojo/analytics/parts/_Part dijit/_Templated dojo/_base/array dojo/dom-style dojo/dom-class dojo/aspect dojox/html/entities dojo/text!./templates/filterMessage.html".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m){return h([g,b],{templateString:m,postMixInProperties:function(){this.keyMap={};this.filterKeys=[];c.forEach(this.filters,k.hitch(this,function(a){this.keyMap[a.key]=k.clone(a);this.filterKeys.push(a.key)}))},init:function(){var a=this;this.own(d(this.resetFilter,"click",function(b){b.stopPropagation();b.preventDefault();c.forEach(a.filters,function(b){a.target.clearFilter(b.key)})}),e.after(this.target,"onFilterChange",function(){f.set(a.domNode,"display",a.canDisplay()?
"":"none");a.canDisplay()&&a._displayMessage()}));a._displayMessage()},_displayMessage:function(){var b=[],d="",e;for(e in this.keyMap)if(this.target.hasFilter(e)){var f=this.keyMap[e];switch(f.type){case "select":var g=a.encode(f.options[this.target.getFilter(e)]);b.push(f.label+": "+g);break;case "text":g=a.encode(this.target.getFilter(e));b.push(f.label+": "+g);break;case "checkbox":this.target.getFilter(e)&&b.push(a.encode(f.label));break;case "search":d='\x3cstrong\x3eSearching for\x3c/strong\x3e "'+
a.encode(this.target.getFilter(e))+'"';break;default:throw Error("Unrecognized type "+f.type);}}var h="";c.forEach(b,function(a){h&&(h+=", ");h+=a});b="";d&&(b+=d);h&&(b&&(b+=", "),b+="\x3cstrong\x3eFiltered By:\x3c/strong\x3e \x3cspan\x3e"+h+"\x3c/span\x3e");this.message.innerHTML=b},canDisplay:function(){return c.some(this.filterKeys,k.hitch(this,function(a){return this.target.hasFilter(a)}))}})})},"mojo/widgets/content-manager/ContentList":function(){define("dojo/_base/declare mojo/analytics/List dojo/_base/lang dojo/_base/array dojo/require dojo/query dojo/dom-attr dojo/on dojo/parser dojo/dom-construct dojo/dom-style dojox/mvc/sync dojox/html/entities mojo/user mojo/widgets/NoDataBlock ./Api ./ContentListItem".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s){return h([k],{items:{},startup:function(){this.inherited(arguments);this.watch("source",d.hitch(this,"render"))},getUrl:function(){},getData:function(a){var b=this.hasFilter("search")?"search":"list";return r[b](this.source,a)},renderLoading:function(){m.set(this.domNode,"display","");var b=d.trim('\x3cli class\x3d"size1of1"\x3e\x3cdiv data-dojo-type\x3d"mojo/widgets/CircularLoader" data-dojo-props\x3d"loaderSize: 100, strokeWidth: 2" class\x3d"text-align--center"\x3e\x3c/div\x3e\x3c/li\x3e');
a.place(b,this.domNode,"only");this.emptyNode&&a.empty(this.emptyNode);e.parse(this.domNode)},renderContent:function(b,c){this.items={};var e=g.map(b.items,d.hitch(this,function(a){var b=new s({contentItem:a,contentManager:this.getParent()});return this.items[a.contentId]=b}));a.empty(this.domNode);g.map(e,d.hitch(this,function(b){a.place(b.domNode,this.domNode,"last")}))},getSelectionItems:function(){return this.getSelection().map(d.hitch(this,function(a){return this.items[a].contentItem}))},renderEmpty:function(b,
c){a.empty(this.emptyNode);var d="Add files",e="Upload images and files to include in your campaigns, templates, or signup forms";"product"===c.source&&(d="Add products",e="Your e-commerce store doesn\x26rsquo;t have any products. Once you create some, they\x26rsquo;ll show up here.");if(c.query)switch(e=p.encode(c.query),c.source){case "product":d="Products not found";e="We couldn\x26rsquo;t find any products that match \x3cstrong\x3e\x26ldquo;"+e+"\x26rdquo;\x3c/strong\x3e. Try broadening your search.";
break;case "giphy":d="GIF not found";e="We couldn\x26rsquo;t find any GIFs that match \x3cstrong\x3e\x26ldquo;"+e+"\x26rdquo;\x3c/strong\x3e. Try broadening your search.";break;default:d="Goose egg",e="We couldn\x26rsquo;t find any files that match \x3cstrong\x3e\x26ldquo;"+e+"\x26rdquo;\x3c/strong\x3e. Try broadening your search."}d=new q({title:d,message:e,icon:"product"===c.source?"empty-ecomm":"empty-general","class":"noborder"});d.placeAt(this.emptyNode);d.startup()},_getParams:function(){var a=
this.inherited(arguments),b=this.sort.split("-");a["sort[order]"]=b[1];a["sort[by]"]=b[0];a.query=this.getFilter("search");a.source=this.source;return a}})})},"mojo/analytics/List":function(){define("dojo/_base/declare dijit/_Widget ./_SelectableMixin ./_FilterableMixin ./_PersistedMixin dojo/_base/lang dojo/_base/array dojo/query dojo/dom-attr dojo/on dojo/dom-construct dojo/dom-style dojox/mvc/sync dojo/parser dojo/topic dojo/request/xhr mojo/user mojo/flags dijit/registry".split(" "),function(h,
k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s,v,w){return h([k,b,d,g],{page:1,pageSize:s.settings.pageSize,asc:!0,lazy:!1,options:null,_params:{},constructor:function(){this._syncs=[];this._renderIsQueued=this._published=!1},postCreate:function(){var a=this.getHashParam("p");s.flagIsOn(v.MULTICHANNEL_CLIENT_RENDERED_CAMPAIGNS)?a&&this.shouldPersistPage()&&this.set("page",a):a&&this.set("page",a);this.url||(this.url=document.location.pathname,"/"!=this.url[this.url.length-1]&&(this.url+="/"),this.url+="list"+document.location.search);
this.watch("page",c.hitch(this,function(){this.render();s.flagIsOn(v.MULTICHANNEL_CLIENT_RENDERED_CAMPAIGNS)?this.shouldPersistPage()&&(1===this.page?this.unsetHashParam("p"):this.setHashParam("p",this.page)):1===this.page?this.unsetHashParam("p"):this.setHashParam("p",this.page)}));a=this.getHashParam("s");s.flagIsOn(v.MULTICHANNEL_CLIENT_RENDERED_CAMPAIGNS)?a&&this.shouldPersistPage()&&this.set("pageSize",a):a&&this.set("pageSize",a);this.watch("pageSize",c.hitch(this,function(){1==this.page?this.render():
this.set("page",1);s.saveSetting("vis_grid_page_size",this.pageSize);s.flagIsOn(v.MULTICHANNEL_CLIENT_RENDERED_CAMPAIGNS)?this.shouldPersistPage()&&this.setHashParam("s",this.pageSize):this.setHashParam("s",this.pageSize)}));this.watch("url",c.hitch(this,"render"));this.watch("sort",c.hitch(this,"render"));this.watch("asc",c.hitch(this,"render"));this.watch("search",c.hitch(this,"render"));this._filters.watch(c.hitch(this,"render"));this.lazy||this.render()},render:function(){!1===this._renderIsQueued&&
(this._renderIsQueued=!0,setTimeout(c.hitch(this,function(){this._renderIsQueued=!1;this._render()}),0))},_render:function(){this.initialized=!0;var a=setTimeout(c.hitch(this,"renderLoading"),500),b=c.mixin({page:this.page,per_page:this.pageSize,sort:this.sort,asc:this.asc},this.getFilterQuery(),this._getOptions(),this._getParams());this.getData(b).then(c.hitch(this,function(d){this._removeState();clearTimeout(a);this.renderData(d,b);d.params&&(this._params=d.params);this.set("total","pagination"in
d?d.pagination.total_count:d.count);if(!this._published||this._published&&0===d.count)q.publish("mojo/analytics/"+this.id+"/ready"),this._published=!0;l(".selectCheckBox",this.domNode).forEach(c.hitch(this,function(a){a=w.byNode(a);this.selected[a.value]=this.selected[a.value]||!1;this._syncs.push(p(this.selected,a.value,a,"checked"))}));q.publish(this.getTopic(),this)}))},getData:function(a){return r.get(this.getUrl(),{handleAs:"json",query:a})},getUrl:function(){return this.url},renderLoading:function(){this.renderContent({content:"\x3cdiv class\x3d'list-loading'\x3e\x3c/div\x3e"})},
renderData:function(a,b){a.count||a.items&&0<a.items.length?(n.set(this.domNode,"display",""),this.emptyNode&&n.set(this.emptyNode,"display","none"),this.renderContent(a,b),t.parse(this.domNode)):(n.set(this.domNode,"display","none"),this.emptyNode||(this.emptyNode=m.place("\x3cdiv\x3e\x3c/div\x3e",this.domNode,"after")),n.set(this.emptyNode,"display",""),this.renderEmpty(a,b),t.parse(this.emptyNode))},renderContent:function(a,b){var d=c.trim(a.content);m.place(d,this.domNode,"only")},renderEmpty:function(a,
b){var d=c.trim(a.content);m.place(d,this.emptyNode,"only")},setOptions:function(a){this.options=a;this.render()},_getOptions:function(){if(!this.options)return{};var a={},b;for(b in this.options)a["options["+b+"]"]=this.options[b];return a},_getParams:function(){if(!this._params)return{};var a={},b;for(b in this._params)a["params["+b+"]"]=this._params[b];return a},getTopic:function(){return"mojo/analytics/List/"+this.id+"/render"},shouldPersistPage:function(){return!0},_removeState:function(){f.forEach(this._syncs,
function(a){a.remove()});this._syncs=[];this.clearSelectionModel();f.forEach(w.findWidgets(this.domNode),function(a){a.destroyRecursive()})}})})},"mojo/analytics/_SelectableMixin":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/Stateful"],function(h,k,d){return h(null,{constructor:function(){this.selected=new d},hasSelection:function(){for(var d in this.selected)if(this._valueSelected(d))return!0;return!1},getSelection:function(){var d=[],b;for(b in this.selected)this._valueSelected(b)&&
d.push(b);return d},isAllSelected:function(){var d=!0,b;for(b in this.selected)this._validValue(b)&&(d=d&&this.selected[b]);return d},toggleAll:function(d){for(var b in this.selected)this._validValue(b)&&this.selected.set(b,d)},clearSelectionModel:function(){for(var d in this.selected)this._validValue(d)&&(this.selected.set(d,!1),delete this.selected[d])},_valueSelected:function(d){return this._validValue(d)&&!0===this.selected[d]},_validValue:function(d){return this.selected.hasOwnProperty(d)&&0!=
d.indexOf("_")&&null!=this.selected[d]}})})},"mojo/analytics/_FilterableMixin":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/Stateful"],function(h,k,d,g){return h(null,{saveState:!0,postMixInProperties:function(){this.inherited(arguments);var b={};if(this.saveState&&this._persisted){var c=this.getAllHashParams(),d;for(d in c)0===d.indexOf("f_")&&(b[d.replace("f_","")]=c[d])}this._filters=new g(b)},hasFilters:function(){for(var b in this._filters)if(this._validFilterKey(b))return!0;
return!1},hasFilter:function(b){return this._filters.get(b)},getFilter:function(b){return this._filters.get(b)},setFilter:function(b,c){this._filters.set(b,c);this.set("page",1);this.onFilterChange(b,c);this.saveState&&this._persisted&&this.setHashParam("f_"+b,c)},clearFilter:function(b){this._filters.set(b,null);this.set("page",1);this.onFilterChange(b,null);this.saveState&&this._persisted&&this.unsetHashParam("f_"+b)},clearAllFilters:function(){this.set("page",1);for(var b in this._filters)this._validFilterKey(b)&&
(this._filters.set(b,null),this.saveState&&this._persisted&&this.unsetHashParam("f_"+b))},watchFilter:function(b,c){return this._filters.watch(b,c)},getFilterQuery:function(){var b={},c;for(c in this._filters)this._validFilterKey(c)&&(b["filters["+c+"]"]=this._filters[c]);return b},onFilterChange:function(b,c){},_validFilterKey:function(b){return this._filters.hasOwnProperty(b)&&0!=b.indexOf("_")&&null!=this._filters[b]}})})},"mojo/analytics/_PersistedMixin":function(){define(["dojo/_base/declare",
"dojo/_base/lang","dojo/_base/array","mojo/url","dojo/Stateful"],function(h,k,d,g,b){return h(null,{postMixInProperties:function(){this.inherited(arguments);var c=g.getHashParams();c.t==this.id?(delete c.t,this._hashParams=new b(c)):this._hashParams=new b;this._persisted=!0},getAllHashParams:function(){var b={},d;for(d in this._hashParams)this._validHashKey(d)&&(b[d]=this._hashParams[d]);return b},getHashParam:function(b){return this._hashParams.get(b)},setHashParam:function(b,d){this._hashParams.set(b,
d);this.updateHash()},unsetHashParam:function(b){this._hashParams.set(b,null);this.updateHash()},updateHash:function(){var b={},d;for(d in this._hashParams)this._validHashKey(d)&&(b[d]=this._hashParams[d]);b.t=this.id;g.setHashParams(b)},_validHashKey:function(b){return this._hashParams.hasOwnProperty(b)&&0!=b.indexOf("_")&&null!=this._hashParams[b]}})})},"mojo/widgets/NoDataBlock":function(){define("dojo/_base/declare dojo/dom-class dijit/_WidgetBase dijit/_TemplatedMixin dojo/text!./templates/NoDataBlock.html mojo/user mojo/flags".split(" "),
function(h,k,d,g,b,c,f){return h([d,g],{templateString:b,type:"",icon:null,title:null,message:null,buttonText:null,buttonLink:null,postMixInProperties:function(){var b=this._getDefaultProps(this.type);this.icon=this._validateProp(this.icon,b.icon);this.title=this._validateProp(this.title,b.title);this.message=this._validateProp(this.message,b.message);this.buttonText=this._validateProp(this.buttonText,b.buttonText);this.buttonLink=this._validateProp(this.buttonLink,b.buttonLink)},postCreate:function(){k.toggle(this.noDataIcon,
"hide",!this.icon);k.toggle(this.noDataTitle,"hide",!this.title);k.toggle(this.noDataMessage,"hide",!this.message);k.toggle(this.noDataButton,"hide",!this.buttonText||!this.buttonLink)},_getDefaultProps:function(){var b;switch(this.type){case "automations":b={icon:"empty-automations",title:"You haven't sent any automations yet",message:"You can set up an automation to trigger for things like an \x3ca href\x3d'http://kb.mailchimp.com/automation/create-an-abandoned-cart-email' target\x3d'_blank'\x3eabandoned cart\x3c/a\x3e, a welcome email, and even to wish a subscriber happy birthday!",
buttonText:"Set Up An Automation",buttonLink:"/automations/explore/"};break;case "campaigns":b=c.flagIsOn(f.MULTICHANNEL_FRONT_DOOR)?{icon:"empty-campaigns",title:"You haven't sent any campaigns yet",message:"\x3ca href\x3d'http://kb.mailchimp.com/campaigns/ways-to-build/getting-started-with-campaigns' target\x3d'_blank'\x3eCampaigns\x3c/a\x3e are emails, ads, and other messages you share with contacts in your \x3ca href\x3d'http://kb.mailchimp.com/lists/growth/getting-started-with-lists' target\x3d'_blank'\x3elist\x3c/a\x3e.\x3cbr\x3eDon't have any contacts yet? No problem. Design a test email campaign and send it to yourself."}:
{icon:"empty-campaigns",title:"You haven't sent any campaigns yet",message:"\x3ca href\x3d'http://kb.mailchimp.com/campaigns/ways-to-build/getting-started-with-campaigns' target\x3d'_blank'\x3eCampaigns\x3c/a\x3e can be emails or Facebook ads sent to people on a \x3ca href\x3d'http://kb.mailchimp.com/lists/growth/getting-started-with-lists' target\x3d'_blank'\x3elist\x3c/a\x3e.\x3cbr\x3eHaven't set up a list yet? No problem. You can still send a test campaign to yourself."};break;case "comments":b=
{icon:"empty-comments",title:"Get feedback on this campaign.",message:"Start by \x3ca href\x3d'#' data-dojo-attach-point\x3d'sendTestLink'\x3esending a test email\x3c/a\x3e to your collaborators.\x3cbr\x3eWhen they reply their comments will appear here."};break;case "compliance":b={icon:"empty-notifications",title:"Everything's running smoothly!",message:"Keep up the good work! Check out our \x3ca href\x3d'http://kb.mailchimp.com/accounts/compliance-tips/general-compliance-tips' target\x3d'_blank'\x3ecompliance tips\x3c/a\x3e for best practices and to avoid potential sending pitfalls."};
break;case "ecomm":b={icon:"empty-ecomm",title:"You don't have any eCommerce data yet",message:"Once you have a \x3ca href\x3d'http://kb.mailchimp.com/integrations/e-commerce/how-to-use-mailchimp-for-e-commerce' target\x3d'_blank'\x3estore connected\x3c/a\x3e, you can reset your data here at any time."};break;case "lists":b={icon:"empty-lists",title:"You haven't created a list yet",message:"Lists are where your contacts (aka subscribers!) live. You'll need one of these to send campaigns to the outside world."};
break;case "notifications":b={icon:"empty-notifications",title:"Nothing new to report!"};break;case "organize":b={icon:"empty-general",title:"This folder is empty",message:"\x3ca href\x3d'http://kb.mailchimp.com/campaigns/ways-to-build/organize-campaigns-into-folders/' target\x3d'_blank'\x3eLearn how to organize using folders\x3c/a\x3e"};break;case "payment":b={icon:"empty-payment",title:"Looks like you don't have a payment method on file",buttonText:"Add A Payment Method",buttonLink:"/automations/explore/"};
break;case "reports":b={icon:"empty-reports",title:"You don't have any reports yet",message:"After you send your first \x3ca href\x3d'http://kb.mailchimp.com/glossary#C' target\x3d'_blank'\x3ecampaign\x3c/a\x3e, you'll be able to see reports on how it performed, who opened it, and more!"};break;case "templates":b={icon:"empty-templates",title:"You don't have any saved templates",message:"A \x3ca href\x3d'http://kb.mailchimp.com/glossary#T' target\x3d'_blank'\x3etemplate\x3c/a\x3e is a saved design that can be reused when creating new \x3ca href\x3d'http://kb.mailchimp.com/glossary#C' target\x3d'_blank'\x3ecampaigns\x3c/a\x3e.\x3cbr\x3e\x3ca href\x3d'http://kb.mailchimp.com/campaigns/ways-to-build/templates-vs-campaigns/' target\x3d'_blank'\x3eUnderstanding templates and campaigns\x3c/a\x3e"};
break;default:b={icon:"empty-general",title:"Goose egg",message:"With any luck, this spot will eventually have some data!"}}return b},_validateProp:function(b,c){return b||c?null!==b?b:b?b:c:""}})})},"mojo/widgets/content-manager/Api":function(){define("dojo/request mojo/url mojo/utils dojo/topic dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/Deferred dojo/Stateful mojo/url".split(" "),function(h,k,d,g,b,c,f,l,e,a){var m=b(null,{createdAt:null,contentType:null,width:null,height:null,dimensions:null,
url:null,urls:null,download:null,size:null,constructor:function(a){this.createdAt=d.formatRelativeDate(1E3*a.created_at);this.contentType=a.content_type||"image";this.size=a.size?d.formatFileSize(a.size):null;this.width=a.width;this.height=a.height;this.dimensions=this.width&&this.height?this.width+" \u00d7 "+this.height+" px":null;this.url=a.url||"";this.urls=a.urls||{};this.download=this.url},isImage:function(){return"image"===this.contentType},getDisplayUrl:function(){return this.urls&&"display"in
this.urls?this.urls.display:this.url},getDisplayProperties:function(){var a=[];a.push({label:"Created",value:this.createdAt});this.dimensions&&a.push({label:"Dimensions",value:this.dimensions});this.size&&a.push({label:"Size",value:this.size});return a},getThumbnailUrl:function(){return!this.isImage()?null:a.addProxy(this.urls&&this.urls.thumbnail_500?this.urls.thumbnail_500:this.url)}}),n=b(m,{contentId:null,source:null,name:null,numVersions:null,versions:null,constructor:function(a){this.contentId=
a.content_id;this.source=a.source;this.name=a.name;this.numVersions=a.num_versions;this.versions=f.map(a.versions||[],function(a){return new m(a)})}}),p=b(n,{createdBy:null,constructor:function(a){this.createdBy=a.created_by},getDisplayProperties:function(){var a=[];a.push({label:"Created",value:this.createdAt});a.push({label:"Created by",value:this.createdBy});!0===this.isImage()&&a.push({label:"Dimensions",value:this.dimensions});a.push({label:"Size",value:this.size});return a}}),t=b([n],{}),q=
b([n],{constructor:function(a){this.rating=a.rating}}),r={_buildContentItem:function(a){var b=a.source;return"file"===b?new p(a):"product"===b?new t(a):"giphy"===b?new q(a):new n(a)},_post:function(a,b){return h.post(k.toUrl(a),{handleAs:"json",data:b}).then(c.hitch(this,function(a){return c.isArray(a)?f.map(a,function(a){return this._buildContentItem(a)},this):this._buildContentItem(a.info)}))},_get:function(a,b){return h.get(k.toUrl(a),{handleAs:"json",query:b}).then(c.hitch(this,function(a){return a.items?
(a.items=f.map(a.items,c.hitch(this,function(a){return this._buildContentItem(a)})),a):this._buildContentItem(a.info)}))},getInfo:function(a,b){return r._get("content/get-info",{content_id:a,source:b})},upload:function(a,b,c,d){return r._post("content/upload",{data:b,name:c,"fields[folder]":(d||{}).folder,"fields[content_origin]":a,on_conflict:"keep_both"})},uploadFromUrl:function(a,b){return r._post("content/upload",{data_url:b,"fields[content_origin]":a,on_conflict:"keep_both"})},update:function(a,
b,c){return r._post("content/update",{content_id:b,data:c,"fields[content_origin]":a})},updateFromUrl:function(a,b,c){return r._post("content/update",{content_id:b,data_url:c,"fields[content_origin]":a})},updateOrUploadFromUrl:function(a,b,c){return r.updateFromUrl(a,b,c).then(null,function(b){if(404===b.response.status)return r.uploadFromUrl(a,c);throw b;})},"delete":function(a,b){return r._post("content/delete",{content_id:a,source:b})},rename:function(a,b,c){return r._post("content/update",{content_id:a,
source:b,"fields[name]":c})},list:function(a,b){return r._get("content/list",c.mixin({source:a},b))},search:function(a,b){return r._get("content/search",c.mixin({source:a},b))},getFilters:function(a){return h.get(k.toUrl("content/get-filters",{source:a}),{handleAs:"json"}).then(function(a){return a.filters})},getSorts:function(a){return h.get(k.toUrl("content/get-sorts",{source:a}),{handleAs:"json"}).then(function(a){return a.sorts})},readFileAsDataUrl:function(a){var b=new l,c=new FileReader;c.onload=
function(a){b.resolve(a.target.result)};c.readAsDataURL(a);return b.promise}};return r})},"mojo/widgets/content-manager/ContentListItem":function(){define("dojo/_base/declare dijit/_Widget dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/registry dojo/dom-class dojo/on dojo/_base/lang dojo/_base/array dojo/text!./templates/ContentListItem.html".split(" "),function(h,k,d,g,b,c,f,l,e,a){return h([k,d,g],{templateString:a,contentItem:null,contentManager:null,source:null,contentId:null,contentType:"image",
name:"",url:null,thumbnailUrl:null,numVersions:null,meta:"",postMixInProperties:function(){this.source=this.contentItem.source;this.contentId=this.contentItem.contentId;this.contentType=this.contentItem.contentType;this.name=this.contentItem.name;this.url=this.contentItem.url;this.thumbnailUrl=this.contentItem.getThumbnailUrl();this.numVersions=this.contentItem.numVersions;"file"===this.contentManager.fileList.source&&this.numVersions++;this.meta=e.map(this.contentItem.getDisplayProperties(),function(a){return a.value}).join(" \u00b7 ")},
postCreate:function(){f(this.itemInput,"change",l.hitch(this,"handleSelection"));f(this.domNode,"dblclick",l.hitch(this,"handleDblClick"));this.toggleVersionIndicator();c.toggle(this.gridImageNode,"hide","image"!==this.contentType);c.toggle(this.listImageNode,"hide","image"!==this.contentType)},handleDblClick:function(){this.contentManager.select(this.contentItem)},handleSelection:function(){c.toggle(this.gridImage,"c-fileGridItem--selected")},toggleVersionIndicator:function(){c.toggle(this.gridBadge,
"hide",2>this.numVersions);c.toggle(this.listBadge,"hide",2>this.numVersions)}})})},"mojo/widgets/content-manager/ImportUrlDialog":function(){define("dojo/_base/declare dijit/_Widget dijit/_Templated dojo/text!./templates/UrlImportDialog.html dojo/on dojo/_base/event dojo/keys dojo/_base/lang dojo/Deferred dijit/Dialog".split(" "),function(h,k,d,g,b,c,f,l,e,a){return h([k,d],{templateString:g,dialog:null,deferred:null,postCreate:function(){this.deferred=new e;var a=b(this.importButton,"click",l.hitch(this,
function(b){c.stop(b);a.remove();this.resolve()})),d=b(this.importInput,"keyup",l.hitch(this,function(a){var b=a.charCode||a.keyCode;c.stop(a);b===f.ENTER&&this.importInput.value&&(d.remove(),this.resolve());c.stop(a);b===f.ESCAPE&&(d.remove(),this.cancel())}));b(this.cancelLink,"click",l.hitch(this,function(a){c.stop(a);this.cancel()}))},execute:function(){this.resolve()},resolve:function(){var a=this.importInput.value;a?(this.deferred.resolve(a),this.dialog.hide()):this.cancel()},cancel:function(){this.deferred.cancel();
this.dialog.hide()},show:function(){this.dialog=new a({title:"Import URL",content:this});this.dialog.startup();this.dialog.show();this.importInput.focus()}})})},"mojo/widgets/content-manager/RenameDialog":function(){define("dojo/_base/declare dijit/_Widget dijit/_Templated dojo/text!./templates/RenameDialog.html dojo/on dojo/dom-attr dojo/_base/event dojo/keys dojo/_base/lang dojo/Deferred dijit/Dialog".split(" "),function(h,k,d,g,b,c,f,l,e,a,m){return h([k,d],{templateString:g,dialog:null,deferred:null,
name:null,extension:null,postCreate:function(){this.deferred=new a;var d=this.name.lastIndexOf("."),f=this.name.substring(0,d);this.extension=this.name.substring(d);var g=b(this.renameButton,"click",e.hitch(this,function(){g.remove();this.resolve()}));c.set(this.nameInput,"value",f);var h=b(this.cancelButton,"click",e.hitch(this,function(){h.remove();this.cancel()}))},execute:function(){this.resolve()},resolve:function(){var a=c.get(this.nameInput,"value")+this.extension;this.deferred.resolve(a);
this.dialog.hide()},cancel:function(){this.deferred.cancel();this.dialog.hide()},show:function(){this.dialog=new m({title:"Rename File",content:this});this.dialog.startup();this.dialog.show();this.nameInput.select();this.own(b(this.nameInput,"keyup",e.hitch(this,function(a){(a.charCode||a.keyCode)===l.ENTER&&this.renameButton.click()})))}})})},"mojo/widgets/content-manager/DeleteDialog":function(){define("dojo/_base/declare dijit/_Widget dijit/_Templated dojo/text!./templates/DeleteDialog.html dojo/on dojo/html dojo/_base/event dojo/keys dojo/_base/lang dojo/Deferred dijit/Dialog".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m){return h([k,d],{templateString:g,dialog:null,deferred:null,fileid:null,pluralizedFile:null,postMixInProperties:function(){this.fileid=this.fileid.toString();this.pluralizedFile=1===this.fileid.split(",").length?"this file":"these files"},postCreate:function(){this.deferred=new a;var c=b(this.deleteButton,"click",e.hitch(this,function(a){f.stop(a);c.remove();this.resolve()})),d=b(this.cancelButton,"click",e.hitch(this,function(a){f.stop(a);d.remove();this.cancel()}))},
execute:function(){this.resolve()},resolve:function(){this.deferred.resolve();this.dialog.hide()},cancel:function(){this.deferred.cancel();this.dialog.hide()},show:function(){this.dialog=new m({title:"Are you sure?",content:this});this.dialog.startup();this.dialog.show()}})})},"mojo/widgets/content-manager/DetailsView":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/on dojo/ready dojo/query dojo/dom-construct dojo/dom-class dojox/lang/functional/object dijit/_WidgetBase dijit/_Templated dijit/registry mojo/utils mojo/url mojo/widgets/TopSliderPane mojo/widgets/ButtonGroup mojo/widgets/content-manager/Api dojo/text!./templates/DetailsView.html dojo/text!./templates/VersionButton.html dojo/text!./templates/PropertyRow.html".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s,v,w,u){var y=h([a,m],{templateString:u});return h([q],{contentManager:null,contentItem:null,currentVersion:null,versionLookUpMap:null,versionGroup:null,overlayClass:"content-manager-details-overlay",templateString:v,contentSource:null,contentId:null,name:null,url:null,_setUrlAttr:{node:"imageNode",type:"attribute",attribute:"src"},iconUrl:null,_setIconUrlAttr:{node:"fileIcon",type:"attribute",attribute:"src"},download:null,_setDownloadAttr:{node:"downloadNode",
type:"attribute",attribute:"href"},_setNameAttr:function(a){this.nameNode.innerText=a;this.fileDescription.innerText=a},postCreate:function(){b(d.hitch(this,function(){f.place(this.domNode,c("body")[0])}));g(this.closeButton,"click",d.hitch(this,"hide"));g(this.renameLink,"click",d.hitch(this,"handleRename"));g(this.deleteLink,"click",d.hitch(this,"handleDelete"));g(this.insertBtn,"click",d.hitch(this,"handleInsert"));l.toggle(this.insertBtn,"hide",-1===this.contentManager.actions.indexOf("select"));
g(this.copyUrlBtn,"click",d.hitch(this,"handleCopyUrl"));g(this.editImageBtn,"click",d.hitch(this,"handleEdit"));l.toggle(this.actionLinks,"hide","file"!==this.contentSource);this.refresh()},show:function(){!1==="forceOnTop"in arguments[0]&&(arguments[0].forceOnTop=!0);this.inherited(arguments)},refresh:function(){s.getInfo(this.contentId,this.contentSource).then(d.hitch(this,function(a){this.currentVersion=this.contentItem=a;l.toggle(this.editImageBtn,"hide",this._hideEditButton());l.toggle(this.imageNode,
"hide",!1===this.contentItem.isImage());l.toggle(this.fileMetaContainer,"hide",this.contentItem.isImage());this._showContentDetails();this._displayVersions()}))},_displayVersions:function(){this.revisionLabel.innerText="product"===this.contentSource?"Product Variants":"Revision History";var a=0<this.contentItem.versions.length;l.toggle(this.revisionContainer,"hide",!a);a&&(this.versionLookUpMap={},a=[this.contentItem].concat(this.contentItem.versions),a.forEach(d.hitch(this,function(a,b){this.versionLookUpMap[b]=
a})),this.versionGroup&&this.versionGroup.destroy(),this.versionGroup=new r({options:a.map(function(a,b){return d.mixin({value:b,thumbnailUrl:a.getThumbnailUrl(),meta:[a.dimensions,a.size].filter(function(a){return void 0!=a}).join(" \x26middot; ")},a)}),templateString:"\x3cul\x3e\x3c/ul\x3e",itemTpl:w,activeClass:"v-buttonGroupMenuItem--active"}),this.versionGroup.placeAt(this.revisions),this.versionGroup.startup(),this.versionGroup.setSelected(0),this.versionGroup.on("change",d.hitch(this,function(a){this.currentVersion=
this.versionLookUpMap[a];this._showContentDetails()})))},_showContentDetails:function(){this.set("name",this.contentItem.name);this.set("url",t.addProxy(this.currentVersion.url));this.set("download",this.currentVersion.download);this.set("iconUrl","/images/files/content-manager-"+this.contentItem.contentType+"-white.svg");this._showPropertyRows()},_showPropertyRows:function(){var a=this.contentItem.getDisplayProperties().concat(this.currentVersion.getDisplayProperties()),b={};k.forEach(a,function(a){b[a.label]=
a});a=e.values(b);a=k.map(a,function(a){return new y(a)});k.forEach(n.findWidgets(this.properties),function(a){a.destroyRecursive()});k.forEach(a,function(a){a.placeAt(this.properties);a.startup()},this)},_hideEditButton:function(){return!1===this.contentItem.isImage()||"giphy"===this.contentSource},handleRename:function(){this.contentManager.renameContent(this.contentItem).then(d.hitch(this,function(a){this.contentItem=a;this._showContentDetails()}))},handleDelete:function(){this.contentManager.deleteFile(this.contentItem.contentId).then(d.hitch(this,
function(){this.hide()}))},handleCopyUrl:function(){this.contentManager.copyUrl(this.currentVersion)},handleEdit:function(){this.contentManager.editContent(this.currentVersion).then(d.hitch(this,function(a){this.contentId=a.contentId;this.contentSource=a.source;this.refresh()}))},handleInsert:function(){this.contentManager.select(d.mixin({},this.contentItem,this.currentVersion));this.hide()}})})},"dojox/lang/functional/object":function(){define(["dojo/_base/kernel","dojo/_base/lang","./lambda"],function(h,
k,d){var g={};k.mixin(d,{keys:function(b){var c=[],d;for(d in b)d in g||c.push(d);return c},values:function(b){var c=[],d;for(d in b)d in g||c.push(b[d]);return c},filterIn:function(b,c,f){f=f||h.global;c=d.lambda(c);var l={},e,a;for(a in b)a in g||(e=b[a],c.call(f,e,a,b)&&(l[a]=e));return l},forIn:function(b,c,f){f=f||h.global;c=d.lambda(c);for(var l in b)l in g||c.call(f,b[l],l,b);return f},mapIn:function(b,c,f){f=f||h.global;c=d.lambda(c);var l={},e;for(e in b)e in g||(l[e]=c.call(f,b[e],e,b));
return l}});return d})},"dojox/lang/functional/lambda":function(){define(["../..","dojo/_base/lang","dojo/_base/array"],function(h,k,d){var g=k.getObject("lang.functional",!0,h),b={},c=1<"ab".split(/a*/).length?String.prototype.split:function(b){var a=this.split.call(this,b);(b=b.exec(this))&&0==b.index&&a.unshift("");return a},f=function(b){var a=[],f=c.call(b,/\s*->\s*/m);if(1<f.length)for(;f.length;)b=f.pop(),a=f.pop().split(/\s*,\s*|\s+/m),f.length&&f.push("(function("+a.join(", ")+"){ return ("+
b+"); })");else if(b.match(/\b_\b/))a=["_"];else{var f=b.match(/^\s*(?:[+*\/%&|\^\.=<>]|!=)/m),g=b.match(/[+\-*\/%&|\^\.=<>!]\s*$/m);if(f||g)f&&(a.push("$1"),b="$1"+b),g&&(a.push("$2"),b+="$2");else{var f=b.replace(/(?:\b[A-Z]|\.[a-zA-Z_$])[a-zA-Z_$\d]*|[a-zA-Z_$][a-zA-Z_$\d]*:|this|true|false|null|undefined|typeof|instanceof|in|delete|new|void|arguments|decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|escape|eval|isFinite|isNaN|parseFloat|parseInt|unescape|dojo|dijit|dojox|window|document|'(?:[^'\\]|\\.)*'|"(?:[^"\\]|\\.)*"/g,
"").match(/([a-z_$][a-z_$\d]*)/gi)||[],h={};d.forEach(f,function(b){h.hasOwnProperty(b)||(a.push(b),h[b]=1)})}}return{args:a,body:b}},l=function(b){return b.length?function(){var a=b.length-1,c=g.lambda(b[a]).apply(this,arguments);for(--a;0<=a;--a)c=g.lambda(b[a]).call(this,c);return c}:function(a){return a}};k.mixin(g,{rawLambda:function(b){return f(b)},buildLambda:function(b){b=f(b);return"function("+b.args.join(",")+"){return ("+b.body+");}"},lambda:function(c){if("function"==typeof c)return c;
if(c instanceof Array)return l(c);if(b.hasOwnProperty(c))return b[c];var a=f(c);return b[c]=new Function(a.args,"return ("+a.body+");")},clearLambdaCache:function(){b={}}});return g})},"mojo/widgets/content-manager/UploadProgressWindow":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/on dijit/_Templated dijit/_Widget dijit/registry dojo/dom-style dojo/dom-class dojo/topic mojo/mimetype mojo/utils mojo/Clipboard dojo/text!./templates/UploadProgressWindow.html dojo/text!./templates/UploadProgressItem.html".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q){var r=h("UploadProgressItem",[c,b],{templateString:q,name:null,_setNameAttr:{node:"fileName",type:"innerText"},action:null,_setActionAttr:{node:"link",type:"innerText"},dataUrl:null,promise:null,status:null,postCreate:function(){g(this.link,"click",k.hitch(this,"onLinkClick"));this.promise.then(k.hitch(this,"onUploadFinish"),k.hitch(this,"onUploadError"));this.onUploadStart()},onUploadStart:function(){this._setProgress(10);this.type=this.type||"none";this._setThumbnail(this._getGenericFileIcon(this.type),
!0);this.set("status","uploading")},onUploadFinish:function(a){this._hideProgress();this.contentItem=a;this._setThumbnail(a.getThumbnailUrl()||this._getGenericFileIcon(this.type));this.set("status","finished");this.set("action","Copy URL")},onUploadError:function(a){this._hideProgress();e.toggle(this.link,"hide",!0);this.set("status","error");this.set("name","Failed to upload")},isUploading:function(){return"uploading"===this.status},onLinkClick:function(){this.contentItem&&(p.copy(this.contentItem.url),
n.globalPublish("show-toast",[{message:"The file URL is copied\u2014paste when you're ready.",type:"success"}]))},_setProgress:function(a){l.set(this.progress,"width",a+"%")},_hideProgress:function(){e.toggle(this.progressMeter,"hide",!0)},_setThumbnail:function(a,b){l.set(this.thumbnail,"backgroundImage","url('"+a+"')");b&&e.add(this.thumbnail,"icon")},_getGenericFileIcon:function(a){a=m.isPlainText(a)?"text":m.isImage(a)?"imageother":m.isAudio(a)||0===a.indexOf("audio")?"audio":m.isDocument(a)?
"document":m.isSpreadsheet(a)?"spreadsheet":m.isPresentation(a)?"presentation":"unknown";return"/images/files/file-manager-"+a+"-small.svg"}});return h("UploadProgressWindow",[c,b],{templateString:t,baseClass:"fileUploader",isShowing:!1,isMinimized:!1,defaultAction:"view",titleText:"Upload Manager",_setTitleTextAttr:{node:"title",type:"innerText"},postCreate:function(){g(this.closeButton,"click",k.hitch(this,"close"));g(this.minimizeButton,"click",k.hitch(this,"minimize"));a.subscribe("mojo/content-manager/api/upload",
k.hitch(this,"onUpload"))},onUpload:function(a){var b=a.file;a=a.promise;var c=new r({name:"Uploading...",dataUrl:b.data||b.data_url,promise:a,type:b.type});a.then(k.hitch(this,function(a){c.set("name",a.name);this.updateTitle()}));c.placeAt(this.uploadList,"first");this.open()},open:function(){e.toggle(this.domNode,"hide",!1);this.updateTitle()},minimize:function(){e.toggle(this.uploadList,"hide")},close:function(){e.toggle(this.domNode,"hide",!0);e.toggle(this.uploadList,"hide",!1);this.uploadList.innerHtml=
""},updateTitle:function(){var a=this.uploadList.children.length,b=d.filter(this.uploadList.children,function(a){return!1===f.byNode(a).isUploading()}).length,c=Math.round(100*(b/a));this.set("titleText","Uploading "+b+" of "+a+" ("+c+"%)")}})})},"mojo/mimetype":function(){define([],function(){return{_startsWith:function(h,k){return k.substr(0,h.length)==h},isImage:function(h){return this._startsWith("image",h)},isAudio:function(h){return this._startsWith("audio",h)},isVideo:function(h){return this._startsWith("video",
h)},isPlainText:function(h){return this._startsWith("text",h)},isDocument:function(h){return-1!=["application/msword","application/rtf","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.oasis.opendocument.text","application/pdf"].indexOf(h)},isSpreadsheet:function(h){return-1!=["application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.oasis.opendocument.spreadsheet"].indexOf(h)},isPresentation:function(h){return-1!=
["application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.oasis.opendocument.presentation"].indexOf(h)}}})},"mojo/Clipboard":function(){define(["dojo/dom","dojo/dom-construct","dojo/html","dojo/_base/window"],function(h,k,d,g){return{copy:function(b){var c=k.toDom("\x3cinput\x3e");c.value=b;k.place(c,g.body());c.select();b=document.execCommand("copy");k.destroy(c);if(!1===b)throw Error("Failed to copy text (verify caller was in the context of an event handler)");
}}})},"mojo/widgets/ChatButtonZopim":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dojo/text!./templates/ChatButtonZopim.html dojo/request/xhr mojo/url dojo/_base/lang dojo/on dojo/dom-style dojo/dom-class mojo/logger dojo/_base/array".split(" "),function(h,k,d,g,b,c,f,l,e,a,m,n){return h([k,d],{templateString:g,chatUrl:"",postCreate:function(){this.inherited(arguments);window.$zopim||function(a,b){var c=$zopim=function(a){c._.push(a)},d=c.s=a.createElement(b),e=a.getElementsByTagName(b)[0];
c.set=function(a){c.set._.push(a)};c._=[];c.set._=[];d.async=!0;d.setAttribute("charset","utf-8");d.src="//v2.zopim.com/?3b6ziEnZVB74oBc8AtnqB7kdH8QS4Zst";c.t=+new Date;d.type="text/javascript";e.parentNode.insertBefore(d,e)}(document,"script");$zopim(function(){$zopim.livechat.hideAll()});show_chat_button=f.hitch(this,function(b){"online"===b?a.remove(this.chatWithUs,"js-hide"):a.add(this.chatWithUs,"js-hide")});b.get(c.toUrl("kb/get-support-settings"),{handleAs:"json"}).then(f.hitch(this,function(a){if(a.userData){var b=
a.userData;$zopim(function(){$zopim.livechat.setOnConnected(function(){var a=$zopim.livechat.departments.getDepartment,a=0<=n.indexOf(b.features,"fb")?a("Ecommerce"):"pro"===b.user_level||!0===b.golden_monkey?a("Pro"):a("Technical Support");void 0===a&&(a={status:"offline"});show_chat_button(a.status)});$zopim.livechat.set({name:b.name,email:b.email});$zopim.livechat.departments.filter("","");!0==b.golden_monkey&&$zopim.livechat.addTags("golden-monkey");!0==b.high_volume&&$zopim.livechat.addTags("high-volume");
!0===b.below_2k&&$zopim.livechat.addTags("list_under_2k");$zopim.livechat.addTags("username:"+b.username,"userid:"+b.userid,"user_level: "+b.user_level,"dc: "+b.dc)});e.set(this.chatButtonContainer,"display","inline-block")}}));l(this.chatWithUs,"click",f.hitch(this,function(a){a.preventDefault();a.stopPropagation();$zopim.livechat.window.openPopout();m.info("support","Help-TechnicalSupport-ClickChatButton",{endpoint:m.stdPath(window.location.pathname)})}))}})})},"mojo/widgets/CheckboxButtonToggle":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_AttachMixin dojo/on dojo/query dojo/_base/array dojo/parser dojo/_base/lang dojo/dom dojo/dom-class dijit/registry dojo/ready".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n){return h([k,d],{constructor:function(){this._checked=[]},postCreate:function(){var b=this;n(function(){var c=m.findWidgets(b.domNode);c&&c.forEach(function(c,d){b._checked[d]=c.checked;g(c,"change",function(){a.toggle(b.submitButton,"disabled",b.checkStatus(d))})})})},checkStatus:function(a){var b=this;a=m.findWidgets(this.domNode);this._values=[];if(a)return a.forEach(function(a,c){b._values.push(a.checked)}),JSON.stringify(b._values)===JSON.stringify(b._checked)}})})},
"mojo/widgets/CircularLoader":function(){define("dojo/_base/declare dijit/_WidgetBase dojo/_base/lang dojo/dom dojo/query dojo/dom-construct d3/d3".split(" "),function(h,k,d,g,b,c,f){var l=2*Math.PI;return h([k],{bgColor:"#efefef",color:"#2c9ab7",loaderSize:50,animate:!0,strokeWidth:5,animDuration:3500,isAnim:!0,center:null,radius:null,postMixInProperties:function(){this.center={x:this.loaderSize/2,y:this.loaderSize/2};this.radius=this.loaderSize/2;!1===this.animate&&(this.isAnim=!1)},buildRendering:function(){this.inherited(arguments);
this.svg=f.select(this.domNode).append("svg").attr("width",this.loaderSize).attr("height",this.loaderSize).append("g").attr("transform","translate("+this.loaderSize/2+","+this.loaderSize/2+")");this.arc=f.svg.arc().innerRadius(this.radius-this.strokeWidth).outerRadius(this.radius);this.background=this.svg.append("path").datum({startAngle:1E-6,endAngle:l}).style("fill",this.bgColor).attr("d",this.arc);this.foreground=this.svg.append("path").attr("id","path-"+this.id).attr("clip-path","url(#clipPath-"+
this.id+")").datum({startAngle:1E-6,endAngle:1E-6}).style("fill",this.color).attr("d",this.arc);this.foregroundMask=this.svg.append("clipPath").attr("id","clipPath-"+this.id);this.foregroundMask.append("path").datum({startAngle:1E-6,endAngle:l}).style("fill","#990000").attr("d",this.arc)},postCreate:function(){this.render()},render:function(){this.animate&&this._animateLoader()},_animateLoader:function(){var b=this,a=function(a,c){a.attrTween("d",function(a){var d=f.interpolate(a.endAngle,c);return function(c){a.endAngle=
d(c);return b.arc(a)}})},c=function(a,c){a.attrTween("d",function(a){var d=f.interpolate(a.startAngle,c);return function(c){a.startAngle=d(c);return b.arc(a)}})};if(this.isAnim){b.foreground.transition().delay(0.28*b.animDuration).duration(0.43*b.animDuration).call(a,l).each("end",function(c,d){b.foreground.transition().duration(999).call(a,1E-6)});var d=b.foregroundMask.select("path");d.transition().delay(0.43*b.animDuration).duration(0.28*b.animDuration).call(c,l).each("end",function(a,f){d.transition().duration(999).call(c,
1E-6);b._animateLoader()})}},start:function(){this.isAnim||(this.isAnim=!0,this._animateLoader())},stop:function(){this.isAnim=!1},destroy:function(){this.svg&&c.destroy(this.svg[0][0].ownerSVGElement);this.inherited(arguments)}})})},"mojo/widgets/Clock":function(){define(["dojo/_base/declare","dijit/_Widget","d3/d3"],function(h,k,d){return h([k],{setTime:function(g){this.time=g;d.selectAll(".clock").remove();this.render()},render:function(){function g(a,b,c){if("minutes"===a.unit)return d.interpolate("rotate(0)",
"rotate("+u(+a.value)*(180/Math.PI)+")");if("hours"===a.unit)return d.interpolate("rotate(0)","rotate("+(y(+a.value%12)+x(w))*(180/Math.PI)+")")}var b=this.time.split(":"),c=[{unit:"minutes",value:b[1]},{unit:"hours",value:b[0]}],f=this.width||36,h=this.height||36,b=this.strokewidth||2,e=this.cfill||"none",a=this.cborder||"#FEBE12",k=this.chand||"#FEBE12",n=this.ccolor||"#FEBE12",p=this.transition,t=f/2,q,r,s,v,w,u=d.scale.linear().domain([0,59+59/60]).range([0,2*Math.PI]),y=d.scale.linear().domain([0,
11+59/60]).range([0,2*Math.PI]),x=d.scale.linear().domain([0,59+59/60]).range([0,Math.PI/6]),f=d.select(this.domNode).append("svg:svg").attr("class","clock").attr("width",f).attr("height",h).append("svg:g").attr("transform","translate("+t+","+t+")");f.append("svg:circle").attr("class","clockface").attr("r",t-b).attr("fill",e).attr("stroke",a).attr("stroke-width",b);r=d.svg.arc().innerRadius(0).outerRadius(2/3*t).startAngle(0).endAngle(0);s=d.svg.arc().innerRadius(0).outerRadius(2/3*t).startAngle(function(a){return u(+a.value)}).endAngle(function(a){return u(+a.value)});
q=d.svg.arc().innerRadius(0).outerRadius(0.5*t).startAngle(0).endAngle(0);v=d.svg.arc().innerRadius(0).outerRadius(0.5*t).startAngle(function(a){return y(+a.value%12)+x(w)}).endAngle(function(a){return y(+a.value%12)+x(w)});c=f.selectAll(".clockhand").data(c).enter().append("svg:path").attr("class","clockhand").attr("stroke",k).attr("stroke-width",b).attr("stroke-linecap","round").attr("stroke-linejoin","round").attr("fill","none");p?c.attr("d",function(a){if("minutes"===a.unit)return w=+a.value,
r();if("hours"===a.unit)return q()}).transition().delay(333).duration(666).attrTween("transform",g):c.attr("d",function(a){if("minutes"===a.unit)return w=+a.value,s(a);if("hours"===a.unit)return v(a)});return f.append("svg:circle").attr("class","centerdot").attr("r",1.5).attr("fill","#fff").attr("stroke",n).attr("stroke-width",b)},postCreate:function(){this.render()}})})},"mojo/widgets/Coachmark":function(){define("dojo/_base/declare dijit/_Widget dijit/_Templated dojo/_base/array dojo/_base/lang dojo/_base/window dojo/dom-construct dojo/dom-geometry dojo/dom dojo/dom-style dojo/dom-class dojo/query dojo/on dojo/dom-attr dojo/aspect mojo/utils mojo/user dojo/text!./templates/coachmark.html".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s,v){return h([k,d],{coachmarkId:null,mainAttach:null,defaultAttach:"content",step:null,templateString:'\x3cdiv class\x3d"coachmark-wrapper"\x3e\x3c/div\x3e',postMixInProperties:function(){if(!this.coachmarks||!(this.coachmarks instanceof Array))throw Error("You must specify an array of coachmarks");this.inherited(arguments)},postCreate:function(){m.contains(n("body")[0],this.target)&&this.init()},init:function(){if(s.showCoachmarks){this.step=s.coachmarks[this.id];
this.step||(this.step=0);this.coachmarkId||(this.coachmarkId=this.id);if(this.mainAttach){var a=n(this.mainAttach)[0];if(a)f.place(this.domNode,a);else throw Error("The mainAttach container you passed could not be found.");}else f.place(this.domNode,n(e.byId(this.defaultAttach))[0],"last");g.forEach(this.coachmarks,b.hitch(this,function(a,c){a.domNode=f.place(b.replace(v,a),this.domNode);a.coachmarkItem=n(".coachmark",a.domNode)[0];a.attachDom=n(a.attach)[0];a.mobileAttach&&(a.mobileAttachDom=n(a.mobileAttach)[0]);
a.tabletAttach&&(a.tabletAttachDom=n(a.tabletAttach)[0]);if(!a.attachDom)throw Error("You must specify an attach point for the "+a.id+" coachmark.");var d=[];m.add(a.domNode,"step-"+(c+1));a.bg||m.add(a.domNode,"nobg");a.fixed&&m.add(a.coachmarkItem,"fixed");a.id&&m.add(a.domNode,a.id);d.length&&n(".coachmark",a.domNode).addClass(d);this.positionCoachmark(a);c===this.step&&(setTimeout(function(){m.add(a.domNode,"active")},50),this.instantiateAttachClickHandlers(a))}));n(".next-button",this.domNode).on("click",
b.hitch(this,"advanceCoachmark"));this.onActive()}},instantiateAttachClickHandlers:function(a){var b=this;this.currentAttachClickHandler=p(a.attachDom,"click",function(a){b.advanceCoachmark(a)});a.mobileAttach&&(this.currentMobileAttachClickHandler=p(a.mobileAttachDom,"click",function(a){b.advanceCoachmark(a)}));a.tabletAttach&&(this.currentTabletAttachClickHandler=p(a.tabletAttachDom,"click",function(a){b.advanceCoachmark(a)}))},destroyAttachClickHandlers:function(a){this.currentAttachClickHandler&&
this.currentAttachClickHandler.remove();this.currentMobileAttachClickHandler&&this.currentMobileAttachClickHandler.remove();this.currentTabletAttachClickHandler&&this.currentTabletAttachClickHandler.remove()},onActive:function(){var a=this;a.repositionTimer={};a.scrollTimer={};this.repositionListener=this.own(p(window,"resize",function(){clearTimeout(a.repositionTimer);a.repositionTimer=setTimeout(function(){s.coachmarks[a.id]&&s.coachmarks[a.id]>a.step||g.forEach(a.coachmarks,function(b,c){c===a.step&&
(b.attachDimensions=l.position(b.attachDom),a.positionCoachmark(b))})},350)}));mojo.nav&&q.after(mojo.nav,"toggleProMode",function(){setTimeout(function(){s.coachmarks[a.id]&&s.coachmarks[a.id]>a.step||g.forEach(a.coachmarks,function(b,c){c===a.step&&(b.attachDimensions=l.position(b.attachDom),a.positionCoachmark(b))})},250)})},positionCoachmark:function(c){if("undefined"===typeof c.coachmarkDimensions||0===c.coachmarkDimensions.w&&0===c.coachmarkDimensions.h)c.coachmarkDimensions=l.position(c.coachmarkItem),
this.positionTimeout=setTimeout(b.hitch(this,function(){this.positionCoachmark(c)}),10);else{var d=c.desktopPosition;c.attachDimensions=l.position(c.attachDom);if("xlphone"==r.getCurrentBreakpoint()||"tablet"==r.getCurrentBreakpoint())c.mobilePosition&&(d=c.mobilePosition),c.mobileAttach&&(c.attachDimensions=l.position(c.mobileAttachDom));"tablet"==r.getCurrentBreakpoint()&&(c.tabletPosition&&(d=c.tabletPosition),c.tabletAttach&&(c.attachDimensions=l.position(c.tabletAttachDom)));var f,g,h;this.mainAttach?
l.position(n(this.mainAttach)[0]):h=l.position(n(e.byId(this.defaultAttach))[0]);switch(d){case "left-center":f=c.attachDimensions.y+c.attachDimensions.h/2-c.coachmarkDimensions.h/2;g=c.attachDimensions.x+(c.attachDimensions.w+65);this.mainAttach||(g-=h.x,f-=h.y);coachmarkPosition={top:f,left:g};break;case "left-top":f=c.attachDimensions.y+(c.attachDimensions.h/2-65);g=c.attachDimensions.x+(c.attachDimensions.w+65);this.mainAttach||(g-=h.x,f-=h.y);coachmarkPosition={top:f,left:g};break;case "right-center":f=
c.attachDimensions.y+c.attachDimensions.h/2-c.coachmarkDimensions.h/2;g=c.attachDimensions.x-c.coachmarkDimensions.w-c.attachDimensions.w/2;this.mainAttach||(g-=h.x,f-=h.y);coachmarkPosition={top:f,left:g};break;case "top-right":f=c.attachDimensions.y+c.attachDimensions.h+65;g=c.attachDimensions.x-c.coachmarkDimensions.w+c.attachDimensions.w/2+20;this.mainAttach||(g-=h.x,f-=h.y);coachmarkPosition={top:f,left:g};break;case "top-left":f=c.attachDimensions.y+c.attachDimensions.h+65;g=c.attachDimensions.x;
this.mainAttach||(g-=h.x,f-=h.y);coachmarkPosition={top:f,left:g};break;case "bottom-left":f=c.attachDimensions.y-c.attachDimensions.h-c.coachmarkDimensions.h-65;g=c.attachDimensions.x;coachmarkPosition={top:f,left:g};break;default:f=c.attachDimensions.y+c.attachDimensions.h/2-c.coachmarkDimensions.h/2,g=c.attachDimensions.x+(c.attachDimensions.w+65),this.mainAttach||(g-=h.x,f-=h.y),coachmarkPosition={top:f,left:g}}m.remove(c.coachmarkItem,this.coachmarkPositions);m.add(c.coachmarkItem,"cm-"+d);a.set(c.coachmarkItem,
{top:parseInt(coachmarkPosition.top,10)+"px",left:parseInt(coachmarkPosition.left,10)+"px"})}},coachmarkPositions:"cm-top-left cm-top-center cm-top-right cm-right-top cm-right-center cm-right-bottom cm-bottom-left cm-bottom-center cm-bottom-right cm-left-bottom cm-left-center cm-left-top".split(" "),advanceCoachmark:function(a){a.preventDefault();a.stopPropagation();this.step++;this.markAsViewed();this.destroyAttachClickHandlers();n(".coachmark-item",this.domNode).forEach(b.hitch(this,function(a,
b){m.remove(a,"active");b===this.step&&(m.toggle(a,"active"),this.coachmarks[b].attachDimensions=l.position(this.coachmarks[b].attachDom),this.positionCoachmark(this.coachmarks[b]),this.instantiateAttachClickHandlers(this.coachmarks[b]))}));this.coachmarks.length<=this.step&&m.remove(this.domNode,"active")},markAsViewed:function(){this.coachmarkId&&s.markCoachmark(this.coachmarkId,this.step)}})})},"mojo/widgets/CodeEditor":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_Templated dojo/text!./templates/CodeEditor.html dojo/on dojo/dom dojo/dom-attr dojo/dom-style dojo/html dojo/_base/lang dojo/dom-construct dojo/dom-class dijit/registry dojo/query mojo/app/wizard mojo/user mojo/utils mojo/widgets/FileManager dojo/topic codemirror4/lib/codemirror codemirror4/mode/htmlmixed/htmlmixed".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s,v,w,u){return h([k,d],{templateString:g,id:"code-editor",widgetsInTemplate:!0,constructor:function(b){a.mixin(this,b);if(!this.targetContainer)throw Error("A targetContainer that specifies where the editor should be placed is required.");if(!this.iframe)throw Error("An iframe is required so that CodeEditor knows where to refresh when changes are made.");},postCreate:function(){this.iframe=t(this.iframe)[0];this.targetContainer=t(this.targetContainer)[0];
m.place(this.domNode,this.targetContainer);f.set(this.editorTextarea,"value",this.contentToEdit);this.applyCodeMirrorToDom(this.editorTextarea);b(this.saveButton,"click",a.hitch(this,function(a){a.preventDefault();this._updateTimer&&clearTimeout(this._updateTimer);s.toggleButtonLoadingState(this.saveButton,"saving...");this.updateContentFromCodeMirror(this.getHTML())}));b(this.fullScreenButton,"click",a.hitch(this,function(a){a.preventDefault();n.toggle(this.codeEditor,"fixed");a=t("span.freddicon",
this.fullScreenButton)[0];n.toggle(a,["maximize","minimize"])}));b(this.fileManagerButton,"click",a.hitch(this,function(a){a.stopPropagation();a.preventDefault();v.isShown()||v.show({actions:"copy"})}));w.subscribe("mojo/filemanager/action",function(a,b){v.hide()})},applyCodeMirrorToDom:function(b){this._textArea=b;if(null!==this._textArea){this.editorInstance=u.fromTextArea(this._textArea,{mode:"htmlmixed",autofocus:!0,tabMode:"indent",indentUnit:2,smartIndent:!1,theme:this.editorTheme,autoClearEmptyLines:!0,
lineWrapping:!0,lineNumbers:!0,extraKeys:{"Ctrl-S":a.hitch(this,function(a){clearTimeout(this._updateTimer);s.toggleButtonLoadingState(this.saveButton,"saving...");this.updateContentFromCodeMirror(this.getHTML());return!1}),"Cmd-S":a.hitch(this,function(a){clearTimeout(this._updateTimer);s.toggleButtonLoadingState(this.saveButton,"saving...");this.updateContentFromCodeMirror(this.getHTML());return!1})}});var c=this.editorInstance.addLineClass(0,"activeline");this.editorInstance.on("cursorActivity",
a.hitch(this,function(){var a=this.editorInstance.getLineHandle(this.editorInstance.getCursor().line);a!=c&&(this.editorInstance.removeLineClass(c,"background","activeline"),c=this.editorInstance.addLineClass(a,"background","activeline"))}));this.editorInstance.on("change",a.hitch(this,function(){clearTimeout(this._updateTimer);this._textArea.value=this.getHTML();this._updateTimer=setTimeout(a.hitch(this,function(){s.toggleButtonLoadingState(this.saveButton,"saving...");this.updateContentFromCodeMirror(this.getHTML())}),
3E3)}));this.editorInstance.focus()}},_updateTimer:{},updateContentFromCodeMirror:function(a){q.showIframeLoadingMessage(this.iframe);var b=this;switch(this.editingType){case "template":q.syncTemplateHtml(this.modelId,a,!0).then(function(){q.refreshIframes();s.toggleButtonLoadingState(b.saveButton)});break;default:var c=p.byId("inline-css")&&p.byId("inline-css").checked?"Y":"N";q.syncCampaignHtml(a,c,!0).then(function(){q.refreshIframes();s.toggleButtonLoadingState(b.saveButton)})}},changeTheme:function(a){this.editorInstance.setOption("theme",
a);r.saveSetting("code_mirror_theme",a)},getHTML:function(){return this.editorInstance.getValue()}})})},"mojo/widgets/ColorPicker":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom dojo/query dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/string dojox/widget/ColorPicker dijit/focus dojo/on dojo/NodeList-manipulate dojo/NodeList-traverse".split(" "),function(h,k,d,g,b,c,f,l,e,a,m){return h(e,{animatePoint:!1,customColors:{},attachInput:null,inputBlurHandler:null,customColorTemplate:"\x3cli class\x3d'mojoCustomColor' style\x3d'background:${color}'\x3e\x26nbsp\x3c/li\x3e",
customColorContainerTemplate:"\x3ctd colspan\x3d'3'\x3e\x3cdiv class\x3d'mojoCustomColorContainer'\x3e\x3clabel class\x3d'above0 mojoCustomColorLabel'\x3e${label}\x3c/label\x3e\x3cul class\x3d'mojoCustomColors'\x3e\x3c/ul\x3e\x3cdiv class\x3d'clear'/\x3e\x3c/div\x3e\x3c/td\x3e",_createColor:function(a,c){var d=l.substitute(this.customColorTemplate,{color:c}),e=b.place(d,g("ul.mojoCustomColors",a)[0]);this.connect(e,"onclick",function(){this.setColor(f.get(e,"backgroundColor"),!0)})},_setTimer:function(b){b.node!=
this.cursorNode&&b.node!=this.hueCursorNode||(a.focus(b.node),d.setSelectable(this.domNode,!1),this._timer=setInterval(k.hitch(this,"_updateColor"),45))},_setHuePoint:function(b){var d=this.PICKER_HUE_SELECTOR_H/2,e=c.position(this.hueNode,!0);b=b.pageY-e.y-d;this.animatePoint?fx.slideTo({node:this.hueCursorNode,duration:this.slideDuration,top:b,left:0,onEnd:k.hitch(this,function(){this._updateColor(!0);a.focus(this.hueCursorNode)})}).play():(f.set(this.hueCursorNode,"top",b+"px"),this._updateColor(!1))},
_setPoint:function(b){var d=this.PICKER_SAT_SELECTOR_H/2,e=this.PICKER_SAT_SELECTOR_W/2,g=c.position(this.colorUnderlay,!0),d=b.pageY-g.y-d,e=b.pageX-g.x-e;b&&a.focus(b.target);this.animatePoint?fx.slideTo({node:this.cursorNode,duration:this.slideDuration,top:d,left:e,onEnd:k.hitch(this,function(){this._updateColor(!0);a.focus(this.cursorNode)})}).play():(f.set(this.cursorNode,{left:e+"px",top:d+"px"}),this._updateColor(!1))},_updateColor:function(){this.inherited(arguments,[!0])},postCreate:function(){this.inherited(arguments);
for(var a in this.customColors)if(this.customColors[a].length){this.customColorsNode=b.create("tr");g("\x3e tbody",this.domNode).append(this.customColorsNode);for(var c=l.substitute(this.customColorContainerTemplate,{label:a}),c=b.place(c,this.customColorsNode),d=0;d<this.customColors[a].length;d++)this._createColor(c,this.customColors[a][d])}f.set(this.domNode,{position:"absolute",display:"none"})},attachTo:function(a){this.attachInput!==a&&(this.attachInput=a,this.setColor(a.value));return this},
show:function(a){var b=this,d=m(document,"click",function(a){!g(a.target).parents(".dojoxColorPicker").length&&a.target!==b.attachInput&&(d.remove(),b.hide())});this.startup();a||(a=c.position(this.attachInput,!0),a={top:a.y+a.h+"px",left:a.x+"px"});a.display="block";f.set(this.domNode,a)},hide:function(){f.set(this.domNode,"display","none")}})})},"mojo/widgets/ConfirmInput":function(){define("dojo/_base/declare dijit/_Widget dijit/_Templated dojo/on dojo/query dojo/dom-attr dojo/text!./templates/confirmInput.html dojo/NodeList-traverse dojo/NodeList-manipulate".split(" "),
function(h,k,d,g,b,c,f){return h([k,d],{templateString:f,confirm:"CONFIRM",helptip:"",error:"Please enter the text exactly as it is displayed to confirm.",active:!0,postCreate:function(){var c=b(this.domNode).closest("form"),d=this;c&&g(c,"submit",function(a){d.active&&!d.validate()&&(a.stopImmediatePropagation(),a.preventDefault())})},validate:function(){if(c.get(this.confirmInput,"value")!=this.confirm)return b(this.confirmError).style("display","").html(this.error),!1;b(this.confirmError).style("display",
"none");window.scrollTo(0,0);return!0}})})},"mojo/widgets/ContactSupportForm":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dojo/text!./templates/contact-support-form.html dijit/registry dojo/query dojo/on dojo/_base/array dojo/_base/lang dojo/dom-construct dojo/dom-class dojo/dom-attr dojo/dom-form dojo/dom dojo/html dojo/parser mojo/url mojo/logger velocity/velocity dojo/request/xhr dojo/NodeList-traverse dojo/NodeList-manipulate velocity/velocity.ui".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s,v,w,u){return h([k,d],{templateString:g,widgetsInTemplate:!0,fields:{},postCreate:function(){this.inherited(arguments);u.get(s.toUrl("kb/get-support-settings"),{handleAs:"json"}).then(e.hitch(this,function(a){a.userData&&(a.userData.name&&n.set(t.byId("name"),"value",a.userData.name),a.userData.username&&n.set(t.byId("username"),"value",a.userData.username),a.userData.email&&n.set(t.byId("email"),"value",a.userData.email))}));var b=this;f(this.formNode,"submit",
function(d){d.preventDefault();d.stopPropagation();n.set("submit","disabled",!0);u.post(s.toUrl("kb/contact-form-post"),{data:b._getFormData(),headers:{"Content-Type":!1},handleAs:"json"}).then(function(d){if(d.success)a.place('\x3cdiv class\x3d"feedback-block success section"\x3e\x3cdiv class\x3d"lastUnit size1of1"\x3e\x3cdiv class\x3d"media"\x3e\x3cdiv class\x3d"media-image"\x3e\x3cspan class\x3d"freddicon tick-circle-large"\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"media-body "\x3e\x3ch4\x3eAll done\x3c/h4\x3e'+
d.message+"\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e",b.formNode,"only"),v.info("support","Help-TechnicalSupport-SendEmailSuccess",{endpoint:v.stdPath(window.location.pathname)});else{n.set("submit","disabled",!1);c(".invalid-error, .feedback-block",this.domNode).forEach(a.destroy);c("input, select, textarea",this.domNode).removeClass("invalid valid");a.place('\x3cdiv class\x3d"feedback-block error section"\x3e\x3cdiv class\x3d"lastUnit size1of1"\x3e\x3cdiv class\x3d"media"\x3e\x3cdiv class\x3d"media-image"\x3e\x3cspan class\x3d"freddicon cross-circle-large"\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"media-body "\x3e\x3ch4\x3eIt seems there is a problem\x3c/h4\x3e'+
d.message+"\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e",b.formNode,"first");for(var e in d.errors){var f=c("[name\x3d"+e+"]",b.formNode);f.addClass("invalid");f.closest("fieldset").after('\x3cdiv class\x3d"invalid-error"\x3e'+d.errors[e]+"\x3c/div\x3e")}v.info("support","Help-TechnicalSupport-SendEmailError",{endpoint:v.stdPath(window.location.pathname)})}})})},startup:function(){var a=this;this.inherited(arguments);r.parse(this.formNode).then(function(){c("[data-topics]",this.domNode).addClass("hide");
f(b.byId("topic"),"change",function(){a._showRecommendedArticles(this.value);a._showRelatedFields(this.value)});var d=c("[name\x3d'have-ticket']",a.domNode),e=c("[data-element\x3d'subject']")[0];l.forEach(d,function(a){f(a,"change",function(){e.children[0].innerHTML="yes"===a.value?"Ticket Number":"Subject"})})})},_getFormData:function(){var a=new FormData,b=p.toObject(this.formNode),c;for(c in b)b.hasOwnProperty(c)&&a.append(c,b[c]);(b=t.byId("screenshot").files[0])&&a.append("screenshot",b);return a},
_showRecommendedArticles:function(a){var b=t.byId("recommended-articles"),d=c(".open",this.domNode),e=c('[data-element\x3d"'+a+'"]',this.dommNode)[0];0<d.length?(d.removeClass("open"),w(d,"transition.slideUpOut",{complete:function(){"undefined"===typeof e?m.add(b,"hide"):(m.add(e,"open"),w(e,"transition.slideDownIn",450))},duration:450})):"undefined"!=typeof e&&(m.remove(b,"hide"),m.add(e,"open"),w(e,"transition.slideDownIn",450))},_showRelatedFields:function(a){c("[data-topics]",this.domNode).forEach(function(b,
c,d){c=JSON.parse(n.get(b,"data-topics"));-1!=l.indexOf(c,a)?m.remove(b,"hide"):m.add(b,"hide")})}})})},"mojo/widgets/CountRemainingCharacters":function(){define("dojo/_base/declare dojo/_base/lang dijit/_Widget dojo/dom dojo/on dojo/sniff dojo/dom-class dojo/dom-attr".split(" "),function(h,k,d,g,b,c,f,l){return h([d],{regexAstralSymbols:/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,characters:140,postCreate:function(){var d=this;this.domNode.innerHTML=this.characters+" characters";this.inputField&&(this.countTextNormal=
f.contains(d.domNode,"font-weight--normal")?!0:!1,this.own(b(window.document,b.selector("#"+this.inputField,"keyup"),k.hitch(this,function(a){a=a.target;var b=a.value.replace(d.regexAstralSymbols,"_").length;a.value.match(d.regexAstralSymbols)&&(l.has(a,"maxlength")&&c("chrome"))&&(b=a.value.length);d.remaining=d.characters-b;1>b?(d.domNode.innerHTML=d.characters+" characters",l.set(a,"maxlength",d.characters)):d.domNode.innerHTML=d.remaining+" characters remaining";f.toggle(d.domNode,"v-textColor--error opaque",
10>d.remaining);d.countTextNormal&&f.toggle(d.domNode,"font-weight--normal",10<=d.remaining)}))))}})})},"mojo/widgets/CountUp":function(){define(["dojo/_base/declare","dijit/_WidgetBase","dijit/_TemplatedMixin"],function(h,k,d){var g=function(b,c,d,g,e,a){for(var h=0,k=["webkit","moz","ms","o"],p=0;p<k.length&&!window.requestAnimationFrame;++p)window.requestAnimationFrame=window[k[p]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[k[p]+"CancelAnimationFrame"]||window[k[p]+"CancelRequestAnimationFrame"];
window.requestAnimationFrame||(window.requestAnimationFrame=function(a,b){var c=(new Date).getTime(),d=Math.max(0,16-(c-h)),e=window.setTimeout(function(){a(c+d)},d);h=c+d;return e});window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)});this.easeOutExpo=function(a,b,c,d){return 1024*c*(-Math.pow(2,-10*a/d)+1)/1023+b};this.options={useEasing:!0,useGrouping:!0,separator:",",decimal:".",postFormatter:null,easingFn:null};for(var t in a)a.hasOwnProperty(t)&&(this.options[t]=
a[t]);""===this.options.separator&&(this.options.useGrouping=!1);this.options.prefix||(this.options.prefix="");this.options.suffix||(this.options.suffix="");this.options.easingFn=!this.options.easingFn?this.easeOutExpo:this.options.easingFn;this.d="string"===typeof b?document.getElementById(b):b;this.startVal=Number(c);this.endVal=Number(d);this.countDown=this.startVal>this.endVal;this.frameVal=this.startVal;this.decimals=Math.max(0,g||0);this.dec=Math.pow(10,this.decimals);this.duration=1E3*Number(e)||
2E3;var q=this;this.version=function(){return"1.6.1"};this.printValue=function(a){a=!isNaN(a)?q.formatNumber(a):"--";"INPUT"==q.d.tagName?this.d.value=a:"text"==q.d.tagName||"tspan"==q.d.tagName?this.d.textContent=a:this.d.innerHTML=a};this.count=function(a){q.startTime||(q.startTime=a);q.timestamp=a;a-=q.startTime;q.remaining=q.duration-a;q.frameVal=q.options.useEasing?q.countDown?q.startVal-q.options.easingFn.call(q,a,0,q.startVal-q.endVal,q.duration):q.options.easingFn.call(q,a,q.startVal,q.endVal-
q.startVal,q.duration):q.countDown?q.startVal-(q.startVal-q.endVal)*(a/q.duration):q.startVal+(q.endVal-q.startVal)*(a/q.duration);q.frameVal=q.countDown?q.frameVal<q.endVal?q.endVal:q.frameVal:q.frameVal>q.endVal?q.endVal:q.frameVal;q.frameVal=Math.floor(q.frameVal*q.dec)/q.dec;q.printValue(q.frameVal);a<q.duration?q.rAF=requestAnimationFrame(q.count):q.callback&&q.callback()};this.start=function(a){q.callback=a;q.rAF=requestAnimationFrame(q.count);return!1};this.pauseResume=function(){q.paused?
(q.paused=!1,delete q.startTime,q.duration=q.remaining,q.startVal=q.frameVal,requestAnimationFrame(q.count)):(q.paused=!0,cancelAnimationFrame(q.rAF))};this.reset=function(){q.paused=!1;delete q.startTime;q.startVal=c;cancelAnimationFrame(q.rAF);q.printValue(q.startVal)};this.update=function(a){cancelAnimationFrame(q.rAF);q.paused=!1;delete q.startTime;q.startVal=q.frameVal;q.endVal=Number(a);q.countDown=q.startVal>q.endVal;q.rAF=requestAnimationFrame(q.count)};this.formatNumber=function(a){a=a.toFixed(q.decimals);
var b,c;b=(a+"").split(".");a=b[0];b=1<b.length?q.options.decimal+b[1]:"";c=/(\d+)(\d{3})/;if(q.options.useGrouping)for(;c.test(a);)a=a.replace(c,"$1"+q.options.separator+"$2");a=q.options.prefix+a+b+q.options.suffix;null!=q.options.postFormatter&&(a=q.options.postFormatter(a));return a};q.printValue(q.startVal)};return h([k,d],{templateString:"\x3cspan\x3e\x3c/span\x3e",target:null,startVal:0,endVal:100,decimals:2,duration:2,options:null,postCreate:function(){this.inherited(arguments);this.target||
(this.target=this.domNode);(new g(this.target,this.startVal,this.endVal,this.decimals,this.duration,this.options)).start()}})})},"mojo/widgets/DeliveryStatus":function(){define("dojo/_base/declare mojo/utils dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./templates/DeliveryStatus.html mojo/widgets/ProgressCircle dojo/dom-construct dojo/dom-style dojo/html dojo/on mojo/app/campaigns dojo/_base/lang dojo/Stateful mojo/url dojo/string dojo/request/xhr mojo/Poll dijit/Dialog dojo/dom-form dojo/query dojo/dom-attr dojo/dom".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s,v,w,u,y,x,A){return h("DeliveryStatus",[d,g,b,t],{templateString:c,widgetsInTemplate:!0,campaignId:null,emailsDelivered:null,emailsIntended:null,status:"",allowedStatuses:["loading","progress","success","canceling","canceled"],whyNotCanCancelCode:null,constructor:function(){this.inherited(arguments);this.messages={loading:{primary:"We're sending your campaign...",secondary:null},progress:{primary:"We're sending your campaign...",secondary:null},success:{primary:"Your campaign has been delivered!",
secondary:null},canceling:{primary:"Your campaign has been canceled.",secondary:"We\u2019ll notify you as soon as we know which subscribers received this campaign."},canceled:{primary:"Your campaign has been canceled",secondary:"${numRecipients} out of ${numIntended} subscribers received this campaign."}};this.whyNotCanCancelMessages={"0":"This delivery can't be stopped because your campaign has already been canceled.",1:"This delivery can't be stopped because your campaign has been deleted.",2:"This delivery can't be stopped because your campaign list has been deleted.",
3:"This delivery can't be stopped because your campaign is not a regular or Plain-text campaign.",4:"This delivery can't be stopped because your campaign has not been sent.",5:"This delivery can't be stopped because your campaign's recipient count is fewer than 10,000 subscribers.",6:"This delivery can't be stopped because your campaign has finished sending.",7:"This delivery can't be stopped because your campaign was sent more than three days ago.",9:"You need Admin or Manager permissions to stop this delivery.",
10:"This delivery can't be stoppped because this campaign isn't being tracked."}},postCreate:function(){this.inherited(arguments);this.updateStatus();this.poll=new v(p.hitch(this,this.updateStatus),5E3);this.poll.start();this.progressMeter=new f;this.progressMeter.placeAt(this.progressMeterContainer);m(this.cancelSendLink,"click",p.hitch(this,function(){this.confirmCancellation(this.campaignId)}));this.watch("status",function(a,b,c){if(-1!=this.allowedStatuses.indexOf(c))switch(this.updateMessaging(c),
c){case "loading":this.progressMeter.set("status","loading");break;case "progress":this.progressMeter.set("status","progress");break;case "success":this.progressMeter.set("status","success");this.canCancel(!1);this.poll.stop();break;case "canceling":this.progressMeter.set("status","canceled");this.canCancel(!1);break;case "canceled":this.progressMeter.set("status","canceled"),this.canCancel(!1),this.poll.stop()}})},updateStatus:function(){s.get(q.toUrl("campaigns/get-delivery-status"),{handleAs:"json",
query:{id:this.campaignId}}).then(p.hitch(this,function(a){a.success&&a.data?this.updateData(a.data):this.poll.stop()}))},updateData:function(a){e.set(this.domNode,"display",a.enabled?"block":"none");0<=a.emailsDelivered&&(this.emailsDelivered=a.emailsDelivered);0<=a.emailsIntended&&(this.emailsIntended=a.emailsIntended);a.whyNotCanCancel&&a.whyNotCanCancel.code&&(this.whyNotCanCancelCode=a.whyNotCanCancel.code);a.campaignCanceled?a.campaignCancelComplete?this.set("status","canceled"):this.set("status",
"canceling"):a.sendConfirmed?this.set("status","success"):0<a.percentComplete?(this.set("status","progress"),this.setPercentComplete(a.percentComplete)):this.set("status","loading");this.canCancel(a.canCancel)},getWhyNotCanCancelReason:function(){var a=parseInt(this.whyNotCanCancelCode);return this.whyNotCanCancelMessages.hasOwnProperty(a)?this.whyNotCanCancelMessages[a]:"This delivery can't be stoppped for an unknown reason. Please contact support for more information."},updateMessaging:function(b){-1!=
this.allowedStatuses.indexOf(b)&&(this.messages[b].primary?(a.set(this.statusMessagePrimary,this.messages[b].primary),e.set(this.statusMessagePrimary,"display","block")):e.set(this.statusMessagePrimary,"display","none"),this.messages[b].secondary?(null!==this.emailsDelivered&&null!==this.emailsIntended?(b=r.substitute(this.messages[b].secondary,{numRecipients:this.emailsDelivered,numIntended:this.emailsIntended}),a.set(this.statusMessageSecondary,b)):a.set(this.statusMessageSecondary,this.messages[b].secondary),
"canceled"===this.status&&(b=" \x3ca href\x3d'"+q.toUrl("/reports/activity/sent?id\x3d"+this.campaignId)+"' target\x3d'_blank'\x3eView the recipients\x3c/a\x3e",l.place(b,this.statusMessageSecondary,"last")),e.set(this.statusMessageSecondary,"display","block")):e.set(this.statusMessageSecondary,"display","none"),a.set(this.whyNotCanCancelMessage,this.getWhyNotCanCancelReason()))},isComplete:function(){return"success"===this.status||"canceled"===this.status},setPercentComplete:function(a){"undefined"!=
typeof a&&this.progressMeter.setPercent(a)},canCancel:function(a){a?(e.set(this.cancelSendLink,"display","block"),e.set(this.whyNotCanCancelMessage,"display","none")):(e.set(this.cancelSendLink,"display","none"),"loading"===this.status||"progress"===this.status?e.set(this.whyNotCanCancelMessage,"display","block"):e.set(this.whyNotCanCancelMessage,"display","none"))},confirmCancellation:function(a){var b=this,c=new w({title:"Are you sure?",onHide:function(){c.destroyRecursive()},onDownloadEnd:function(){m(c.domNode,
".cancel-button:click",function(a){a.stopPropagation();a.preventDefault();c.hide()});y("form",c.domNode).on("submit",function(a){a.stopPropagation();a.preventDefault();k.toggleButtonLoadingState(A.byId("confirmBtn"),"Please wait...");x.set(A.byId("confirmBtn"),"disabled",!0);s.post(x.get(this,"action"),{data:u.toObject(this),handleAs:"json"}).then(function(a){a.success?(k.toast("Campaign send has been successfully canceled."),b.set("status","canceling")):k.toast("There was a problem canceling your campaign send. Please try again.",
"error");c.hide()},function(a){c.hide();k.toast("There was a problem canceling your campaign send. Please try again.","error")})})}});c.setHref(q.toUrl("campaigns/confirm-cancel",{id:a}));c.show()}})})},"mojo/widgets/ProgressCircle":function(){define("dojo/_base/declare dijit/_Widget dijit/_TemplatedMixin dojo/text!./templates/ProgressCircle.html dojo/on dojo/query dojo/dom-attr dojo/_base/lang dojo/Stateful d3/d3 dojo/NodeList-traverse dojo/NodeList-manipulate".split(" "),function(h,k,d,g,b,c,f,
l,e,a){var m=2*Math.PI,n=function(b,c){b.transition().ease("linear").delay(0).duration(c).attrTween("transform",function(){return a.interpolateString("rotate(0)","rotate(360)")})},p=function(b,c,d){b.styleTween(c,function(){return a.interpolate(this.style[c],d)})};return h("ProgressCircle",[k,d,e],{templateString:g,percentComplete:0,circleSize:72,pathWidth:2,pathBackgroundColor:"#e0e0e0",progressColor:"#52bad5",successColor:"#72c1b0",errorColor:"#EE836E",endValue:100,canceled:!1,cancelComplete:!1,
loading:!0,loaderDuration:1E3,status:"",allowedStatuses:["loading","progress","success","canceling","canceled"],buildRendering:function(){this.inherited(arguments);this.svg=a.select(this.progressCircle).append("svg").attr("width",this.circleSize).attr("height",this.circleSize).append("g").attr("transform","translate("+this.circleSize/2+","+this.circleSize/2+")");this.arc=a.svg.arc().innerRadius(this.circleSize/2-this.pathWidth).outerRadius(this.circleSize/2).startAngle(0);this.bg=this.svg.append("path").datum({endAngle:m}).style("fill",
this.pathBackgroundColor).attr("d",this.arc)},postCreate:function(){this.render();this.watch("status",function(a,b,c){if(-1!=this.allowedStatuses.indexOf(c)){switch(c){case "loading":this.toggleForeground("off");this.toggleTextValue("off");this.toggleLoader("on");break;case "progress":this.toggleLoader("off");this.toggleForeground("on");this.toggleTextValue("on");break;case "success":this.toggleLoader("off");this.toggleForeground("on");this.toggleTextValue("off");this.set("percentComplete",100);break;
case "canceling":this.set("canceled",!0);this.toggleForeground("off");this.toggleTextValue("off");this.toggleLoader("on");break;case "canceled":this.set("canceled",!0),this.set("cancelComplete",!0),this.toggleLoader("off"),this.toggleForeground("on"),this.toggleTextValue("off"),this.set("percentComplete",100)}this.render()}})},toggleLoader:function(a){if("on"===a&&"undefined"===typeof this.loader){this.loader=this.svg.append("path").datum({endAngle:0.2*m}).style("fill",this._getStatusColor()).attr("d",
this.arc);var b=this;n(b.loader,b.loaderDuration);this.loaderIntervalId=setInterval(function(){n(b.loader,b.loaderDuration)},b.loaderDuration)}else"off"===a&&this.loader&&(this.loader.transition().delay(0).call(p,"fill",this.pathBackgroundColor),this.loader.remove(),delete this.loader,clearInterval(this.loaderIntervalId))},toggleForeground:function(a){"on"===a&&"undefined"===typeof this.foreground?this.foreground=this.svg.append("path").datum({endAngle:this.percentComplete/100*m}).style("fill",this._getStatusColor()).attr("d",
this.arc):"off"===a&&this.foreground&&(this.foreground.remove(),delete this.foreground)},toggleTextValue:function(a){"on"===a&&"undefined"===typeof this.textValue?this.textValue=this.svg.append("text").attr("x",0).attr("y",0).attr("text-anchor","middle").attr("dominant-baseline","central").attr("font-size","17px").attr("font-weight","600").text(this.percentComplete+"%"):"off"===a&&this.textValue&&(this.textValue.remove(),delete this.textValue)},render:function(){var b=this,c=function(c,d,e){c.attrTween("d",
function(c){var e=a.interpolate(c.endAngle,d);return function(a){c.endAngle=e(a);b.textValue&&b.textValue.text(parseInt(100*c.endAngle/m,10)+"%");return b.arc(c)}})};this.foreground&&this.foreground.transition().delay(222).duration(666).call(c,b.percentComplete/100*m,b.percentComplete).call(p,"fill",b._getStatusColor());this.textValue&&this.textValue.transition().delay(222).duration(333).styleTween("fill",function(c,d,e){if(b.isCanceled())return a.interpolate(e,b._getStatusColor())}).styleTween("opacity",
function(c,d,e){if(b.isComplete())return a.interpolate(e,0)});a.select(this.successImage).transition().delay(1333).duration(333).styleTween("opacity",function(c,d,e){return"success"===b.status?a.interpolate(e,1):a.interpolate(e,0)}).styleTween("transform",function(b,c,d){return a.interpolate(d,"scale(1)")});a.select(this.cancelImage).transition().delay(1333).duration(333).styleTween("opacity",function(c,d,e){return"canceled"===b.status?a.interpolate(e,1):a.interpolate(e,0)}).styleTween("transform",
function(b,c,d){return a.interpolate(d,"scale(1)")})},setPercent:function(a){"undefined"!=typeof a&&(this.set("percentComplete",a),this.render())},isLoading:function(){return"undefined"!==typeof this.loader},isCanceled:function(){return this.canceled},isSuccess:function(){return this.isComplete()&&!this.isCanceled()},isComplete:function(){return 100===this.percentComplete},_getStatusColor:function(){return this.isCanceled()?this.errorColor:this.isSuccess()?this.successColor:this.progressColor}})})},
"mojo/app/campaigns":function(){define("dojo/dom dojo/dom-attr dojo/query dojo/_base/lang dojo/dom-form dojo/dom-style dojo/io-query dojo/request/xhr dijit/Dialog dojo/Deferred mojo/utils mojo/url mojo/Pusher dojo/text!./templates/unpauseAutoresponderDialog.html dojo/NodeList-manipulate mojo/widgets/ConfirmInput".split(" "),function(h,k,d,g,b,c,f,l,e,a,m,n,p,t){var q=function(a){d(".cancel-button",a.domNode).on("click",function(b){b.stopPropagation();b.preventDefault();a.hide()})};return{confirmDeletion:function(a,
c,f){c||(c="campaign");var g=new e({title:"Are you sure?",onHide:function(){g.destroyRecursive()},onDownloadEnd:function(){q(g);d("form",g.domNode).on("submit",function(d){d.stopPropagation();d.preventDefault();d=b.toObject(this);var e=0,h;for(h in d)d.hasOwnProperty(h)&&0==h.indexOf("id[")&&e++;l.post(k.get(this,"action"),{data:b.toObject(this)}).then(function(){g.hide();f?f():a.render();m.toast(e+" "+c+(1!=e?"s":"")+" successfully deleted")},function(){g.hide();m.toast("There was a problem deleting your "+
c+(1!=e?"s":"")+". Please try again.")})})}});g.setHref(n.toUrl("campaigns/confirm-delete",{"id[]":a.getSelection()}));g.show()},deleteFolder:function(c,f){var g=new a,h=new e({title:"Delete Folder",onHide:function(){h.destroyRecursive()},onDownloadEnd:function(){q(h);d("form",h.domNode).on("submit",function(a){a.stopPropagation();a.preventDefault();l.post(k.get(this,"action"),{data:b.toObject(this),handleAs:"json"}).then(function(a){g.resolve(a);h.hide();m.toast("Folder successfully deleted")})})}});
h.setHref(f+(-1==f.indexOf("?")?"?":"\x26")+"id\x3d"+c);h.show();return g},addFolder:function(a,b){return l.post(b,{handleAs:"json",data:{name:a}})},renameFolder:function(a,b,c){return l.post(c,{data:{id:a,name:b}})},moveToFolder:function(a,b,c){return""==b||"undefined"==typeof b||0==c.length?!1:l.post(a,{data:{"id[]":c,fid:b},handleAs:"json"})},unpauseAutoresponder:function(a,b){if(0<b){var c=new e({title:"Resume Automation",content:g.replace(t,{count:b}),onHide:function(){c.destroyRecursive()}});
q(c);d("#unpause-send").on("click",g.hitch(this,function(){this._unpause(a,!1)}));d("#unpause-no-send").on("click",g.hitch(this,function(){this._unpause(a,!0)}));c.show()}else document.location.href=n.toUrl("campaigns/reactivate",{"return":1,id:a})},_unpause:function(a,b){document.location.href=n.toUrl("campaigns/reactivate",{id:a,"return":1,ignore_queue:b?1:0})},foldersArchive:function(){var a=n.toUrl("campaigns/folders/archive");setTimeout(function(){var b=window.open(a,"_blank","toolbar\x3d0,scrollbars\x3d1,location\x3d0,status\x3d1,menubar\x3d0,resizable\x3d1,width\x3d600,height\x3d500");
m.checkPopupWin(b)},0)},handleCommentUpdates:function(a){var b=this;p.load().then(function(c){c.subscribe(a).bind("change",function(a){var c=d(".new-comments-notification[data-campaign-id\x3d"+a.campaign_id+"]");c&&b.getUnreadFeedbackCount(a.campaign_id).then(function(a){0<a.num&&c.style("display","");c.attr("title","You have "+a.num+" new comment"+(1<a.num?"s":""));c.children(".new-comment-count").html(a.num)})})})},getUnreadFeedbackCount:function(a){return l.get(n.toUrl("campaigns/feedback/unread-feedbacks"),
{handleAs:"json",query:{id:a}})}}})},"mojo/Poll":function(){define(["dojo/_base/declare"],function(h){return h("Poll",[],{intervalId:null,pollFunction:null,intervalTime:null,constructor:function(h,d){this.pollFunction=h;this.intervalTime=d},start:function(h,d){this.pollFunction=h||this.pollFunction;this.intervalTime=d||this.intervalTime;this.stop();this.intervalId=setInterval(this.pollFunction,this.intervalTime)},stop:function(){clearInterval(this.intervalId)},getFakeData:function(){return 10}})})},
"mojo/widgets/Dialog":function(){define("dojo/_base/lang dojo/_base/array dojo/dom-class dojo/Deferred dojo/on mojo/utils dijit/DialogUnderlay dijit/Dialog".split(" "),function(h,k,d,g,b,c,f,l){var e=l.prototype.show,a=l.prototype.hide;l.prototype.duration=0;l.prototype.show=function(){var a=e.call(this);-1===k.indexOf(this.underlayAttrs["class"].split(" "),"on")&&(this.underlayAttrs["class"]+=" on");var h=f._singleton.node;d.add(this.domNode,"dijitDialogShow");d.add(h,"on");var l=c.prefixAnimationEvents("TransitionEnd");
if(l){var t=new g;b.once(h,l,function(){t.resolve(!0)});return t}return a};l.prototype.baseHide=function(){a.call(this)};l.prototype.baseShow=function(){e.call(this)};l.prototype.hide=function(){if(this._alreadyInitialized&&this.open){var e=f._singleton.node;d.remove(this.domNode,"dijitDialogShow");if(2>=l._dialogStack.length)d.remove(e,"on");else return a.call(this);var k=c.prefixAnimationEvents("TransitionEnd");if(k){var p=new g;b.once(e,k,h.hitch(this,function(){a.call(this);p.resolve(!0)}));return p}return a.call(this)}};
return l})},"mojo/widgets/DoughnutChart":function(){define("dojo/_base/declare dijit/_WidgetBase dojo/_base/lang dojo/dom dojo/dom-construct dojo/on dojo/dom-geometry mojo/utils d3/d3".split(" "),function(h,k,d,g,b,c,f,l,e){var a=2*Math.PI;return h([k],{circleSize:65,pathWidth:9,pathBackgroundColor:"#e0e0e0",chartProgressBar:"#52bad5",startValue:0,animateOnVisibility:!0,buildRendering:function(){this.inherited(arguments);this.endValue=this.domNode.innerHTML;b.empty(this.domNode);var c,d;c=e.select(this.domNode).append("svg").attr("width",
this.circleSize).attr("height",this.circleSize).append("g").attr("transform","translate("+this.circleSize/2+","+this.circleSize/2+")");this.arc=d=e.svg.arc().innerRadius(this.circleSize/2-this.pathWidth).outerRadius(this.circleSize/2).startAngle(0);c.append("path").datum({endAngle:a}).style("fill",this.pathBackgroundColor).attr("d",d);this.textValue=c.append("text").attr("x",2).attr("y",-1).attr("text-anchor","middle").attr("dominant-baseline","central").attr("class","fwb p small-meta").style("fill",
"#484848").text(this.startValue+"%");this.path=c.append("path").datum({endAngle:this.startValue/100*a}).style("fill",this.chartProgressBar).attr("d",d)},animateDoughnut:function(){var b=this;b.path.transition().delay(222).duration(1500).call(function(c,d){c.attrTween("d",function(c){var f=e.interpolate(c.endAngle,d);return function(d){c.endAngle=f(d);b.textValue&&b.textValue.text(parseInt(100*c.endAngle/a,10)+"%");return b.arc(c)}})},b.endValue/100*a,b.startValue)},postCreate:function(){if(this.animateOnVisibility)l.onVisibility(this.domNode,
d.hitch(this,this.animateDoughnut));else this.animateDoughnut()}})})},"mojo/widgets/DrillNav":function(){define("dojo/_base/declare dijit/_Widget dijit/_Templated dojo/text!./templates/drillNav.html dojo/_base/lang dojo/dom-construct".split(" "),function(h,k,d,g,b,c){return h("mojo.widgets.DrillNav",[k,d],{templateString:g,itemTemplateString:'\x3cli\x3e\x3ca href\x3d"#"\x3e{name}\x3c/a\x3e\x3c/li\x3e',addNavItem:function(d){return c.place(c.toDom(b.replace(this.itemTemplateString,d)),this.mainNav)}})})},
"mojo/widgets/EmojiPicker":function(){define("dojo/_base/declare mojo/utils dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/_FocusMixin dijit/form/DropDownButton dijit/TooltipDialog dojo/text!./templates/EmojiPicker.html dojo/keys dojo/dom dojo/dom-construct dojo/dom-class dojo/dom-style dojo/on dojo/query dojo/has dojo/_base/array dojo/_base/lang dojo/NodeList-manipulate dojox/html/entities dojo/sniff".split(" "),function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s,v,w,u,y){return h("EmojiPicker",
[d,g,b,c],{templateString:e,origInput:null,rangeStore:null,inZone:!1,constructor:function(){this.categories=[{label:"People",active:!0,emoji:"1f604 1f603 1f600 1f60a 263a 1f609 1f60d 1f618 1f61a 1f617 1f619 1f61c 1f61d 1f61b 1f633 1f601 1f614 1f60c 1f612 1f61e 1f623 1f622 1f602 1f62d 1f62a 1f625 1f630 1f605 1f613 1f629 1f62b 1f628 1f631 1f620 1f621 1f624 1f616 1f606 1f60b 1f637 1f60e 1f634 1f635 1f632 1f61f 1f626 1f627 1f608 1f47f 1f62e 1f62c 1f610 1f615 1f62f 1f636 1f607 1f60f 1f611 1f472 1f473 1f46e 1f477 1f482 1f476 1f466 1f467 1f468 1f469 1f474 1f475 1f471 1f47c 1f478 1f63a 1f638 1f63b 1f63d 1f63c 1f640 1f63f 1f639 1f63e 1f479 1f47a 1f648 1f649 1f64a 1f480 1f47d 1f4a9 1f525 2728 1f31f 1f4ab 1f4a5 1f4a2 1f4a6 1f4a7 1f4a4 1f4a8 1f442 1f440 1f443 1f445 1f444 1f44d 1f44e 1f44c 1f44a 270a 270c 1f44b 270b 1f450 1f446 1f447 1f449 1f448 1f64c 1f64f 261d 1f44f 1f4aa 1f6b6 1f3c3 1f483 1f46b 1f46a 1f46c 1f46d 1f48f 1f491 1f46f 1f646 1f645 1f481 1f64b 1f486 1f487 1f485 1f470 1f64e 1f64d 1f647 1f3a9 1f451 1f452 1f45f 1f45e 1f461 1f460 1f462 1f455 1f454 1f45a 1f457 1f3bd 1f456 1f458 1f459 1f4bc 1f45c 1f45d 1f45b 1f453 1f380 1f302 1f484 1f49b 1f499 1f49c 1f49a 2764 1f494 1f497 1f493 1f495 1f496 1f49e 1f498 1f48c 1f48b 1f48d 1f48e 1f464 1f465 1f4ac 1f463 1f4ad".split(" ")},
{label:"Nature",emoji:"1f436 1f43a 1f431 1f42d 1f439 1f430 1f438 1f42f 1f428 1f43b 1f437 1f43d 1f42e 1f417 1f435 1f412 1f434 1f411 1f418 1f43c 1f427 1f426 1f424 1f425 1f423 1f414 1f40d 1f422 1f41b 1f41d 1f41c 1f41e 1f40c 1f419 1f41a 1f420 1f41f 1f42c 1f433 1f40b 1f404 1f40f 1f400 1f403 1f405 1f407 1f409 1f40e 1f410 1f413 1f415 1f416 1f401 1f402 1f432 1f421 1f40a 1f42b 1f42a 1f406 1f408 1f429 1f43e 1f490 1f338 1f337 1f340 1f339 1f33b 1f33a 1f341 1f343 1f342 1f33f 1f33e 1f344 1f335 1f334 1f332 1f333 1f330 1f331 1f33c 1f310 1f31e 1f31d 1f31a 1f311 1f312 1f313 1f314 1f315 1f316 1f317 1f318 1f31c 1f31b 1f319 1f30d 1f30e 1f30f 1f30b 1f30c 1f320 2b50 2600 26c5 2601 26a1 2614 2744 26c4 1f300 1f301 1f308 1f30a".split(" ")},
{label:"Objects",emoji:"1f38d 1f49d 1f38e 1f392 1f393 1f38f 1f386 1f387 1f390 1f391 1f383 1f47b 1f385 1f384 1f381 1f38b 1f389 1f38a 1f388 1f38c 1f52e 1f3a5 1f4f7 1f4f9 1f4fc 1f4bf 1f4c0 1f4bd 1f4be 1f4bb 1f4f1 260e 1f4de 1f4df 1f4e0 1f4e1 1f4fa 1f4fb 1f50a 1f509 1f508 1f507 1f514 1f515 1f4e2 1f4e3 23f3 231b 23f0 231a 1f513 1f512 1f50f 1f510 1f511 1f50e 1f4a1 1f526 1f506 1f505 1f50c 1f50b 1f50d 1f6c1 1f6c0 1f6bf 1f6bd 1f527 1f529 1f528 1f6aa 1f6ac 1f4a3 1f52b 1f52a 1f48a 1f489 1f4b0 1f4b4 1f4b5 1f4b7 1f4b6 1f4b3 1f4b8 1f4f2 1f4e7 1f4e5 1f4e4 2709 1f4e9 1f4e8 1f4ef 1f4eb 1f4ea 1f4ec 1f4ed 1f4ee 1f4e6 1f4dd 1f4c4 1f4c3 1f4d1 1f4ca 1f4c8 1f4c9 1f4dc 1f4cb 1f4c5 1f4c6 1f4c7 1f4c1 1f4c2 2702 1f4cc 1f4ce 2712 270f 1f4cf 1f4d0 1f4d5 1f4d7 1f4d8 1f4d9 1f4d3 1f4d4 1f4d2 1f4da 1f4d6 1f516 1f4db 1f52c 1f52d 1f4f0 1f3a8 1f3ac 1f3a4 1f3a7 1f3bc 1f3b5 1f3b6 1f3b9 1f3bb 1f3ba 1f3b7 1f3b8 1f47e 1f3ae 1f0cf 1f3b4 1f004 1f3b2 1f3af 1f3c8 1f3c0 26bd 26be 1f3be 1f3b1 1f3c9 1f3b3 26f3 1f6b5 1f6b4 1f3c1 1f3c7 1f3c6 1f3bf 1f3c2 1f3ca 1f3c4 1f3a3 2615 1f375 1f376 1f37c 1f37a 1f37b 1f378 1f379 1f377 1f374 1f355 1f354 1f35f 1f357 1f356 1f35d 1f35b 1f364 1f371 1f363 1f365 1f359 1f358 1f35a 1f35c 1f372 1f362 1f361 1f373 1f35e 1f369 1f36e 1f366 1f368 1f367 1f382 1f370 1f36a 1f36b 1f36c 1f36d 1f36f 1f34e 1f34f 1f34a 1f34b 1f352 1f347 1f349 1f353 1f351 1f348 1f34c 1f350 1f34d 1f360 1f346 1f345 1f33d".split(" ")},
{label:"Places",emoji:"1f3e0 1f3e1 1f3eb 1f3e2 1f3e3 1f3e5 1f3e6 1f3ea 1f3e9 1f3e8 1f492 26ea 1f3ec 1f3e4 1f307 1f306 1f3ef 1f3f0 26fa 1f3ed 1f5fc 1f5fe 1f5fb 1f304 1f305 1f303 1f5fd 1f309 1f3a0 1f3a1 26f2 1f3a2 1f6a2 26f5 1f6a4 1f6a3 2693 1f680 2708 1f4ba 1f681 1f682 1f68a 1f689 1f69e 1f686 1f684 1f685 1f688 1f687 1f69d 1f68b 1f683 1f68e 1f68c 1f68d 1f699 1f698 1f697 1f695 1f696 1f69b 1f69a 1f6a8 1f693 1f694 1f692 1f691 1f690 1f6b2 1f6a1 1f69f 1f6a0 1f69c 1f488 1f68f 1f3ab 1f6a6 1f6a5 26a0 1f6a7 1f530 26fd 1f3ee 1f3b0 2668 1f5ff 1f3aa 1f3ad 1f4cd 1f6a9 1f1ef 1f1f5 1f1f0 1f1f7 1f1e9 1f1ea 1f1e8 1f1f3 1f1fa 1f1f8 1f1eb 1f1f7 1f1ea 1f1f8 1f1ee 1f1f9 1f1f7 1f1fa 1f1ec 1f1e7".split(" ")},
{label:"Symbols",emoji:"31-20e3 32-20e3 33-20e3 34-20e3 35-20e3 36-20e3 37-20e3 38-20e3 39-20e3 30-20e3 1f51f 1f522 23-20e3 1f523 2b06 2b07 2b05 27a1 1f520 1f521 1f524 2197 2196 2198 2199 2194 2195 1f504 25c0 25b6 1f53c 1f53d 21a9 21aa 2139 23ea 23e9 23eb 23ec 2935 2934 1f197 1f500 1f501 1f502 1f195 1f199 1f192 1f193 1f196 1f4f6 1f3a6 1f201 1f22f 1f233 1f235 1f234 1f232 1f250 1f239 1f23a 1f236 1f21a 1f6bb 1f6b9 1f6ba 1f6bc 1f6be 1f6b0 1f6ae 1f17f 267f 1f6ad 1f237 1f238 1f202 24c2 1f6c2 1f6c4 1f6c5 1f6c3 1f251 3299 3297 1f191 1f198 1f194 1f6ab 1f51e 1f4f5 1f6af 1f6b1 1f6b3 1f6b7 1f6b8 26d4 2733 2747 274e 2705 2734 1f49f 1f19a 1f4f3 1f4f4 1f170 1f171 1f18e 1f17e 1f4a0 27bf 267b 2648 2649 264a 264b 264c 264d 264e 264f 2650 2651 2652 2653 26ce 1f52f 1f3e7 1f4b9 1f4b2 1f4b1 a9 ae 2122 274c 203c 2049 2757 2753 2755 2754 2b55 1f51d 1f51a 1f519 1f51b 1f51c 1f503 1f55b 1f567 1f550 1f55c 1f551 1f55d 1f552 1f55e 1f553 1f55f 1f554 1f560 1f555 1f556 1f557 1f558 1f559 1f55a 1f561 1f562 1f563 1f564 1f565 1f566 2716 2795 2796 2797 2660 2665 2663 2666 1f4ae 1f4af 2714 2611 1f518 1f517 27b0 3030 303d 1f531 25fc 25fb 25fe 25fd 25aa 25ab 1f53a 1f532 1f533 26ab 26aa 1f534 1f535 1f53b 2b1c 2b1b 1f536 1f537 1f538 1f539".split(" ")}]},
buildRendering:function(){this.inherited(arguments);this.emojiDropDown.startup();v.forEach(this.categories,w.hitch(this,function(a){var b=a.label.replace(/\s/g,"").toLowerCase(),c=n.place('\x3ci title\x3d"'+a.label+'" class\x3d"esprite e-cat-icon e-mc-'+b+'"\x3e\x3c/i\x3e',this.catNavContainer),d=n.place('\x3cdiv class\x3d"e-cat e-'+b+' hide"\x3e\x3c/div\x3e',this.catEmojiContainer);v.forEach(a.emoji,w.hitch(this,function(a){n.place('\x3ci class\x3d"esprite e-'+a+'"\x3e\x3c/i\x3e',d)}));a.hasOwnProperty("active")&&
!0===a.active&&(p.add(c,"active"),p.remove(d,"hide"))}))},postCreate:function(){this.origInput=r("input[type\x3dtext], textarea",this.containerNode)[0];if(!this.origInput)throw Error("Emoji picker requires one input!");t.set(this.origInput,"display","none");q(this.emojiTooltip.domNode,".e-cat .esprite:click",w.hitch(this,function(a){a=a.target.className.split("esprite e-")[1];this.insertEmoji(a)}));q(this.emojiTooltip.domNode,".e-cat-nav .esprite:click",function(a){a=a.target.title.toLowerCase();
r(".e-cat-icon").removeClass("active");r(".e-mc-"+a).addClass("active");r(".e-cat").addClass("hide");r(".e-"+a).removeClass("hide")});(!s("trident")||10>=s("ie"))&&q(this.fauxInput,"paste",function(a){window.clipboardData?a=window.clipboardData.getData("Text"):(a.preventDefault(),a=a.clipboardData.getData("text/plain"));a=y.encode(a);if(200<("undefined"===typeof this.lastPaste?1E3:new Date-this.lastPaste))this.lastPaste=new Date,window.clipboardData?document.execCommand("paste",!1,a):document.execCommand("insertHTML",
!1,a)});q(this.fauxInput,"mousedown",w.hitch(this,function(a){this.inZone=!0}));q(document.body,"mouseup",w.hitch(this,function(a){this.inZone&&(this.setRangeStore(a),this.inZone=!1)}));q(this.fauxInput,"keyup, paste, blur",w.hitch(this,function(a){this.setRangeStore();k.parseEmoji(this.fauxInput);this.updateOrigInput(a)}));q(this.fauxInput,"keydown",function(b){b.keyCode===a.ENTER&&b.preventDefault()});q(this.fauxInput,"keypress",function(a){a.stopPropagation()});this.updateFauxInput()},updateOrigInput:function(a){a=
a||{};var b="";v.forEach(this.fauxInput.childNodes,w.hitch(this,function(a){switch(a.nodeType){case 1:a.getAttribute("alt")&&(b+=a.getAttribute("alt"));break;default:a.nodeValue&&(b+=a.nodeValue)}}));this.origInput.value=b;q.emit(this.origInput,"keyup",a)},updateFauxInput:function(a){a=a||{};var b=y.encode(this.origInput.value),b=this.buildFragment(b);k.parseEmoji(b.frag);this.fauxInput.innerHTML="";this.fauxInput.appendChild(b.frag);q.emit(this.origInput,"keyup",a)},_onBlur:function(){this.rangeStore=
null;k.parseEmoji(this.fauxInput);this.inherited(arguments)},insertEmoji:function(a){a=k.emojiImgHtml(a);this.pasteHtmlAtCaret(a);this.updateOrigInput()},buildFragment:function(a){var b=document.createElement("div");b.innerHTML=a;a=document.createDocumentFragment();var c;b.firstChild&&(c=a.appendChild(b.firstChild));return{frag:a,lastNode:c}},pasteHtmlAtCaret:function(a){a=this.buildFragment(a);this.rangeStore?(this.rangeStore=this.rangeStore.cloneRange(),this.rangeStore.deleteContents(),this.rangeStore.insertNode(a.frag),
a.lastNode&&(this.rangeStore.setStartAfter(a.lastNode),this.rangeStore.collapse(!0))):this.fauxInput.appendChild(a.frag)},setRangeStore:function(a){if(window.getSelection){var b=window.getSelection(),c=b.getRangeAt&&b.rangeCount?b.getRangeAt(0):null,d=a&&a.target?Array.prototype.indexOf.call(this.fauxInput.childNodes,a.target):-1;c&&this.isValidRange(c)?this.rangeStore=c:this.rangeStore=null;if(-1!==d&&(!c||c.collapsed))c=document.createRange(),d=this.fauxInput.childNodes[d],a.clientX-d.x>0.45*d.width?
c.setStartAfter(d):c.setStartBefore(d),c.collapse(!0),b.removeAllRanges(),b.addRange(c),this.rangeStore=c}else this.rangeStore=null},isValidRange:function(a){a=a.commonAncestorContainer;return a.isContentEditable||a.parentNode.isContentEditable}})})},"mojo/widgets/FakeDeliveryData":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/_base/lang"],function(h,k,d){return h("FakeDeliveryData",[],{recipientCount:1E3,openCount:0,clickCount:0,openCountUnique:0,bounceCount:0,deliverCount:0,eepurlClickCount:0,
forwardCount:0,forwardOpenCount:0,likeCountUnique:0,tweetCount:0,retweetCount:0,eepurlClickCount:0,unsubCount:0,abuseCount:0,openRate:0,clickRate:0,openClickRate:0,deliverRate:0,sendStatusBuildRate:0,sendStatusRouteRate:0,sendStatusDeliverRate:0,linkClick:[],subscriberOpen:[],cycle:0,lastClickDate:"4/15/15 4:12PM",lastOpenDate:"4/15/15 4:05PM",canCancel:!0,constructor:function(){this.linkClick[0]={link:"http://inspiration.mailchimp.com",clickCount:0,href:"http://inspiration.mailchimp.com"};this.linkClick[1]=
{link:"http://mailchimp.com",clickCount:0,href:"http://mailchimp.com"};this.linkClick[2]={link:"http://hellokitty.com",clickCount:0,href:"http://hellokitty.com"};this.linkClick[3]={link:"http://elephants.com",clickCount:0,href:"http://elephants.com"};this.linkClick[4]={link:"http://nodontdothatwithmergetags.com",clickCount:0,href:"http://nodontdothatwithmergetags.com"};this.linkClick[5]={link:"http://derpy.co",clickCount:0,href:"http://derpy.co"};this.subscriberOpen[0]={subscriberEmail:"allison@mailchimp.com",
openCount:0,href:"/reports/activity/activity?id\x3d61\x26e\x3d1"};this.subscriberOpen[1]={subscriberEmail:"bernice@yahoo.com",openCount:0,href:"/reports/activity/activity?id\x3d61\x26e\x3d1"};this.subscriberOpen[2]={subscriberEmail:"virginia@aol.com",openCount:0,href:"/reports/activity/activity?id\x3d61\x26e\x3d1"};this.subscriberOpen[3]={subscriberEmail:"ralph@sbcglobal.net",openCount:0,href:"/reports/activity/activity?id\x3d61\x26e\x3d1"};this.subscriberOpen[4]={subscriberEmail:"samuel@me.com",
openCount:0,href:"/reports/activity/activity?id\x3d61\x26e\x3d1"};this.subscriberOpen[5]={subscriberEmail:"freddie@gmail.com",openCount:0,href:"/reports/activity/activity?id\x3d61\x26e\x3d1"}},updateData:function(){this.cycle++;10<this.cycle&&(this.openRate=0.5>this.openRate?this.openRate+this.getPercentIncrease():0.5,this.openCount=500>this.openCount?this.openCount+this.getRandomInt(20):500,this.openCountUnique=200>this.openCountUnique?this.openCountUnique+this.getRandomInt(7):200);15<this.cycle&&
(this.openClickRate=0.3>this.openClickRate?this.openClickRate+this.getPercentIncrease():0.3,this.clickRate=0.25>this.clickRate?this.clickRate+this.getPercentIncrease():0.25,this.clickCount=250>this.clickCount?this.clickCount+this.getRandomInt(10):this.recipientCount,this.eepurlClickCount=50>this.eepurlClickCount?this.eepurlClickCount+this.getRandomInt(5):50,this.bounceCount=10>this.bounceCount?this.bounceCount+this.getRandomInt(1):10,this.forwardCount=15>this.forwardCount?this.forwardCount+this.getRandomInt(2):
15,this.forwardOpenCount=10>this.forwardOpenCount?this.forwardOpenCount+this.getRandomInt(2):10,this.likeCountUnique=133>this.likeCountUnique?this.likeCountUnique+this.getRandomInt(12):133,this.tweetCount=14>this.tweetCount?this.tweetCount+this.getRandomInt(3):14,this.retweetCount=24>this.retweetCount?this.retweetCount+this.getRandomInt(4):24,this.eepurlClickCount=24>this.eepurlClickCount?this.eepurlClickCount+this.getRandomInt(4):24,this.unsubCount=2>this.unsubCount?this.unsubCount+this.getRandomInt(1):
2,this.abuseCount=2>this.abuseCount?this.abuseCount+this.getRandomInt(1):2);this.sendStatusDeliverRate=1>this.sendStatusDeliverRate?this.sendStatusDeliverRate+0.01:1;this.deliverRate=1>this.deliverRate?this.deliverRate+0.01:1;this.deliverCount=this.deliverCount<this.recipientCount?this.deliverCount+this.getRandomInt(100):this.recipientCount;k.forEach(this.linkClick,d.hitch(this,function(d,b){d.clickCount+=this.getRandomInt(10)}));this.linkClick.sort(function(d,b){return b.clickCount-d.clickCount});
k.forEach(this.subscriberOpen,d.hitch(this,function(d,b){d.openCount+=this.getRandomInt(2)}));this.subscriberOpen.sort(function(d,b){return b.openCount-d.openCount})},getData:function(){this.updateData();return{bounceCount:this.bounceCount,clickCount:this.clickCount,clickRate:this.clickRate,deliverCount:this.deliverCount,deliverRate:this.deliverRate,eepurlClickCount:this.eepurlClickCount,forwardCount:this.forwardCount,forwardOpenCount:this.forwardOpenCount,likeCountUnique:this.likeCountUnique,openClickRate:this.openClickRate,
openCount:this.openCount,openCountUnique:this.openCountUnique,openRate:this.openRate,recipientCount:this.recipientCount,sendStatusBuildRate:this.sendStatusBuildRate,sendStatusDeliverRate:this.sendStatusDeliverRate,sendStatusRouteRate:this.sendStatusRouteRate,linkClick:this.linkClick,subscriberOpen:this.subscriberOpen,tweetCount:this.tweetCount,retweetCount:this.retweetCount,eepurlClickCount:this.eepurlClickCount,unsubCount:this.unsubCount,abuseCount:this.abuseCount,lastClickDate:this.lastClickDate,
lastOpenDate:this.lastOpenDate,canCancel:this.canCancel}},getPercentIncrease:function(){return Math.random()/50},getRandomInt:function(d){return 1<d?Math.floor(Math.random()*d+1):Math.round(Math.random())}})})},"mojo/widgets/FeedbackBlock":function(){define("dojo/_base/declare dojo/dom-class dojo/dom-construct dijit/_WidgetBase dijit/_TemplatedMixin dojo/text!./templates/FeedbackBlock.html".split(" "),function(h,k,d,g,b,c){return h([g,b],{templateString:c,type:"info",title:"",message:"",postCreate:function(){k.add(this.domNode,
this.type);k.add(this.icon,{success:"tick-circle",warning:"warn-circle",error:"not-allowed",info:"info-circle"}[this.type]);if(this.title||this.message)this.containerNode.innerHTML="",this.title&&this.containerNode.appendChild(d.toDom("\x3ch4\x3e"+this.title+"\x3c/h4\x3e")),this.message&&this.containerNode.appendChild(d.toDom("\x3cp\x3e"+this.message+"\x3c/p\x3e"))}})})},"mojo/widgets/FileUploader":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/window dojo/request dojo/_base/event dojo/_base/array dojo/html dojo/on dijit/_Templated dijit/_Widget dojo/text!./templates/file-uploader.html dojo/text!./templates/_file-list-item.html dojo/query dojo/NodeList-traverse dojo/dom-style dojo/dom-attr dojo/dom-construct dojo/Deferred dojo/io-query dojo/dom-class dojo/topic mojo/mimetype mojo/utils mojo/url mojo/user mojo/flags dojo/domReady! dojox/html/entities".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s,v,w,u,y,x,A,C,D,E,G,H){h("FileListItem",[a,e],{templateString:n,uploadManager:null,canceled:!1,uploading:!1,percentage:0,content:null,fileId:null,fileName:null,fileUrl:null,currentAction:null,postCreate:function(){var a=0,b=k.hitch(this,function(){this.updateProgress(a++);101<=a?this.finishUpload():setTimeout(b,50)});l(this.link,"click",k.hitch(this,function(){"cancel"==this.currentAction&&this.cancelUpload();this.fileName=H.encode(this.fileName);y.publish("mojo/fileuploader/action",
this.currentAction,this.fileUrl,this.fileId,this.fileName)}))},updateProgress:function(a){q.set(this.progress,"width",a+"%");this.percentage=a/100;this.uploadManager.updateStats()},setAction:function(a){f.set(this.link,a?a:"");this.currentAction=a;if("copy"==a){r.set(this.link,"data-clipboard-text",this.fileUrl);var b=new window.ZeroClipboard([this.link]);b.on("load",function(a){b.on("complete",function(a,b){y.publish("mojo/fileuploader/action","copy",b.text);A.globalPublish("show-toast",[{message:"The file URL is copied\u2014paste when you're ready.",
type:"success"}])})})}},cancelUpload:function(){var a=this;this.canceled=!0;k.hitch(this.uploadManager,function(){a.uploadManager._removeUpload(a)})()},startUpload:function(a,b){var c=new v;c.then(k.hitch(this,this.finishUpload));c.then(k.hitch(this,function(a){a&&!a.error?this.setAction(b):this.setAction(null);return a}));switch(this.content.type){case "file/url":case "image/url":this._saveImageFromRemoteUrl(this.content.content,a,this.content.fileId,c);break;default:this._parseFile(this.content.content,
this.content.type,a,this.content.fileId,c)}return c},finishUpload:function(a){this.uploading=!1;q.set(this.progressMeter,"visibility","hidden");if(a)if(a.error)A.toast(a.error,"error");else if("error"!==a.status&&(a.url||a.data))this.fileId=a.content_id||a.file_id||a.data.file_id,this.fileUrl=a.url||a.data.url,this.fileName=a.name||a.data.name,x.isImage(this.content.type)&&15E5>this.content.content.size&&this._setThumbnail(this.fileUrl),y.publish("mojo/fileuploader/upload",this.fileUrl);return a},
_parseFile:function(a,b,c,d,e){var g=this.fileName,h=new FileReader;h.onload=k.hitch(this,function(h){this.updateProgress(10);x.isImage(b)?this._setThumbnail("/images/files/file-manager-unknown-small.svg",!0):this._setThumbnail(this._getGenericFileIcon(b),!0);f.set(g,H.encode(a.name));this._uploadFile(h.target.result,a.name,c,d,e)});h.readAsDataURL(a)},_setThumbnail:function(a,b){q.set(this.thumbnail,"backgroundImage","url('"+C.addProxy(a)+"')");b&&u.add(this.thumbnail,"icon")},_getGenericFileIcon:function(a){a=
x.isPlainText(a)?"text":x.isImage(a)?"image":x.isAudio(a)?"audio":0===a.indexOf("audio")?"audio":x.isDocument(a)?"document":x.isSpreadsheet(a)?"spreadsheet":x.isPresentation(a)?"presentation":"unknown";return"/images/files/file-manager-"+a+"-small.svg"},_uploadFile:function(a,b,c,d,e){var f=new XMLHttpRequest;f.upload&&(f.upload.addEventListener("progress",k.hitch(this,function(a){a.lengthComputable&&(a=parseInt(100*(a.loaded/a.total))-20,this.updateProgress(a))}),!1),f.onreadystatechange=k.hitch(this,
function(a){4==f.readyState&&(this.updateProgress(100),a=200==f.status?JSON.parse(f.responseText):{error:"Whoops, there was an issue uploading your image."},this.canceled?e.cancel():e.resolve(a))}),this.uploading=!0,this.canceled=!1,f.open("POST",C.toUrl("file/upload-file-data"),!0),f.responseType="text",f.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),f.setRequestHeader("Pragma","no-cache"),f.setRequestHeader("X-Requested-With","XMLHttpRequest"),f.send(w.objectToQuery({"image-content":a,
name:b,folder_id:c,file_id:d,__csrf_token:D.__csrfToken})))},isCanceled:function(){return this.canceled},getProgress:function(){return this.percentage},_saveImageFromRemoteUrl:function(a,b,c,d){this.updateProgress(20);this._setThumbnail(a);f.set(this.fileName,H.encode(a));this.updateProgress(50);var e={},e={img:a,folder_id:b,file_id:c,original:a};g(C.toUrl("file/save-from-url"),{data:w.objectToQuery(e),method:"POST",handleAs:"json"}).then(k.hitch(this,function(a){this.updateProgress(100);"success"===
a.status?this.canceled?d.cancel():d.resolve(a):d.resolve({error:a.error||"Whoops, there was an issue uploading your image."})}),function(a){})}});h("UploadManager",[a,e],{templateString:m,baseClass:"fileUploader",uploads:[],isShowing:!1,isMinimized:!1,defaultAction:"view",postCreate:function(){this.placeholder&&this.uploadText?s.place("\x3cspan\x3eImage Placeholder\x3c/span\x3e",this.uploadText,"only"):(!window.File||!window.FileList||!window.FileReader)&&this.uploadText&&q.set(this.uploadText,"display",
"none");l(this.close,"click",k.hitch(this,this.hide));l(this.min,"click",k.hitch(this,this.minimize))},_removeUpload:function(a){var b=this.uploads.indexOf(a);-1!=b&&this.uploads.splice(b,1);s.destroy(a.domNode)},hide:function(){q.set(this.domNode,"display","none");this.isShowing=!1},show:function(){q.set(this.domNode,"display","");q.set(this.uploadList,"display","");this.isShowing=!0},minimize:function(){this.isMinimized?(q.set(this.uploadList,"display",""),u.add(this.minToggle,"daquo"),u.remove(this.minToggle,
"raquo")):(q.set(this.uploadList,"display","none"),u.remove(this.minToggle,"daquo"),u.add(this.minToggle,"raquo"));this.isMinimized=!this.isMinimized;this.updateStats()},upload:function(a,b,c,d){if(-1==a.type.indexOf("url")&&10485760<a.content.size)A.globalPublish("show-toast",[{message:"Oops, this file is too big to upload. Reduce the file size and try uploading again.",type:"warning"}]),this.uploadManager._removeUpload(this);else return a=new FileListItem({uploadManager:this,content:a}),d||a.placeAt(this.uploadList,
"first"),this.uploads.push(a),b=a.startUpload(b,c),this.updateStats(),!d&&(!this.isShowing||this.isMinimized)&&this.show(),b},updateStats:function(){for(var a=this.uploads.length,b=0,c=0,d=0;d<a;d++)this.uploads[d].isCanceled()||b++,c+=this.uploads[d].getProgress();c=Math.round(100*(c/a));100<=c&&!this.isMinimized?(q.set(this.min,"display","none"),q.set(this.close,"display","")):(q.set(this.close,"display","none"),q.set(this.min,"display",""));f.set(this.status,"Uploading "+b+" of "+a+" ("+c+"%)")},
removeUpload:function(a){c.forEach(this.uploads,k.hitch(this,function(b){return b&&b.fileUrl&&b.fileUrl==a?(this._removeUpload(b),!0):!1}))}});h=new UploadManager;h.placeAt(d.body(),"last");return h})},"mojo/widgets/FilteredSearch":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dojo/text!./templates/FilteredSearch.html dojo/on dojo/_base/lang dojo/dom-attr dojo/topic dojo/dom-class dojo/debounce dojo/query dojo/keys".split(" "),function(h,k,d,g,b,c,f,l,e,a,m,n){return h([k,
d],{templateString:g,placeholder:"Search",wait:250,searchTopic:null,onChange:function(a){},onFocus:function(a){},onBlur:function(a){},onKeyDown:function(a){},postCreate:function(){var d=this;this.own(b(this.filteredInput,"focus",c.hitch(this,function(a){this.onFocus(a)})),b(this.filteredInput,"blur",c.hitch(this,function(a){this.onBlur(a)})),b(this.filteredInput,"keydown",c.hitch(this,function(a){this.onKeyDown(a)})),b(this.filteredInput,"keyup",a(function(a){switch(a.charCode||a.keyCode){case n.ESCAPE:d._clearSearch();
break;case n.TAB:case n.DOWN_ARROW:case n.UP_ARROW:break;case n.ENTER:if(0===this.value.length)break;default:if(0===this.value.length){d._clearSearch();break}l.publish("search/"+d.searchTopic,this.value);e.remove(d.filteredClear,"hide");d.onChange(this.value)}},this.wait)),b(this.filteredClear,"click",function(a){d._clearSearch();a.preventDefault()}))},setValue:function(a){this.filteredInput.value=a||"";e.toggle(this.filteredClear,"hide",!a)},getValue:function(){return this.filteredInput.value},onClear:function(){},
_clearSearch:function(){e.add(this.filteredClear,"hide");this.filteredInput.value="";this.onClear()}})})},"dojo/debounce":function(){define([],function(){return function(h,k){var d;return function(){d&&clearTimeout(d);var g=this,b=arguments;d=setTimeout(function(){h.apply(g,b)},k)}}})},"mojo/widgets/HelpDialog":function(){define(["dojo/_base/declare","dojo/_base/lang","dijit/Dialog"],function(h,k,d){return h(d,{hide:function(){this.inherited(arguments);setTimeout(k.hitch(this,this.destroyRecursive),
500)}})})},"mojo/widgets/HelpTip":function(){define(["dojo/_base/declare","dijit/_WidgetBase","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dojo/text!./templates/HelpTip.html"],function(h,k,d,g,b){return h([k,d,g],{templateString:b,widgetsInTemplate:!0,label:"What's this?"})})},"mojo/widgets/HorizontalSliderNoMouseWheel":function(){define(["dojo/_base/declare","dijit/form/HorizontalSlider"],function(h,k){return h(k,{_mouseWheeled:function(){}})})},"dijit/form/HorizontalSlider":function(){define("dojo/_base/array dojo/_base/declare dojo/dnd/move dojo/_base/fx dojo/dom-geometry dojo/dom-style dojo/keys dojo/_base/lang dojo/sniff dojo/dnd/Moveable dojo/dnd/Mover dojo/query dojo/mouse dojo/on ../_base/manager ../focus ../typematic ./Button ./_FormValueWidget ../_Container dojo/text!./templates/HorizontalSlider.html".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s,v,w,u,y){var x=k("dijit.form._SliderMover",m,{onMouseMove:function(a){var c=this.widget,d=c._abspos;d||(d=c._abspos=b.position(c.sliderBarContainer,!0),c._setPixelValue_=l.hitch(c,"_setPixelValue"),c._isReversed_=c._isReversed());a=a[c._mousePixelCoord]-d[c._startingPixelCoord];c._setPixelValue_(c._isReversed_?d[c._pixelCount]-a:a,d[c._pixelCount],!1)},destroy:function(a){m.prototype.destroy.apply(this,arguments);var b=this.widget;b._abspos=null;b._setValueAttr(b.value,
!0)}});d=k("dijit.form.HorizontalSlider",[w,u],{templateString:y,value:0,showButtons:!0,minimum:0,maximum:100,discreteValues:Infinity,pageIncrement:2,clickSelect:!0,slideDuration:q.defaultDuration,_setIdAttr:"",_setNameAttr:"valueNode",baseClass:"dijitSlider",cssStateNodes:{incrementButton:"dijitSliderIncrementButton",decrementButton:"dijitSliderDecrementButton",focusNode:"dijitSliderThumb"},_mousePixelCoord:"pageX",_pixelCount:"w",_startingPixelCoord:"x",_handleOffsetCoord:"left",_progressPixelSize:"width",
_onKeyUp:function(a){!this.disabled&&(!this.readOnly&&!a.altKey&&!a.ctrlKey&&!a.metaKey)&&this._setValueAttr(this.value,!0)},_onKeyDown:function(a){if(!this.disabled&&!this.readOnly&&!a.altKey&&!a.ctrlKey&&!a.metaKey){switch(a.keyCode){case f.HOME:this._setValueAttr(this.minimum,!1);break;case f.END:this._setValueAttr(this.maximum,!1);break;case this._descending||this.isLeftToRight()?f.RIGHT_ARROW:f.LEFT_ARROW:this.increment(a);break;case !1===this._descending?f.DOWN_ARROW:f.UP_ARROW:case !1===this._descending?
f.PAGE_DOWN:f.PAGE_UP:this.increment10(a);break;case this._descending||this.isLeftToRight()?f.LEFT_ARROW:f.RIGHT_ARROW:this.decrement(a);break;case !1===this._descending?f.UP_ARROW:f.DOWN_ARROW:case !1===this._descending?f.PAGE_UP:f.PAGE_DOWN:this.decrement10(a);break;default:return}a.stopPropagation();a.preventDefault()}},_onHandleClick:function(a){!this.disabled&&!this.readOnly&&(e("ie")||r.focus(this.sliderHandle),a.stopPropagation(),a.preventDefault())},_isReversed:function(){return!this.isLeftToRight()},
_onBarClick:function(a){if(!this.disabled&&!this.readOnly&&this.clickSelect){r.focus(this.sliderHandle);a.stopPropagation();a.preventDefault();var c=b.position(this.sliderBarContainer,!0),d=a[this._mousePixelCoord]-c[this._startingPixelCoord];this._setPixelValue(this._isReversed()?c[this._pixelCount]-d:d,c[this._pixelCount],!0);this._movable.onMouseDown(a)}},_setPixelValue:function(a,b,c){if(!this.disabled&&!this.readOnly){var d=this.discreteValues;if(1>=d||Infinity==d)d=b;d--;a=Math.round(a/(b/d));
this._setValueAttr(Math.max(Math.min((this.maximum-this.minimum)*a/d+this.minimum,this.maximum),this.minimum),c)}},_setValueAttr:function(a,b){this._set("value",a);this.valueNode.value=a;this.focusNode.setAttribute("aria-valuenow",a);this.inherited(arguments);var c=this.maximum>this.minimum?(a-this.minimum)/(this.maximum-this.minimum):0,d=!1===this._descending?this.remainingBar:this.progressBar,e=!1===this._descending?this.progressBar:this.remainingBar;this._inProgressAnim&&"stopped"!=this._inProgressAnim.status&&
this._inProgressAnim.stop(!0);if(b&&0<this.slideDuration&&d.style[this._progressPixelSize]){var f=this,h={},l=parseFloat(d.style[this._progressPixelSize]),k=this.slideDuration*(c-l/100);0!=k&&(0>k&&(k=0-k),h[this._progressPixelSize]={start:l,end:100*c,units:"%"},this._inProgressAnim=g.animateProperty({node:d,duration:k,onAnimate:function(a){e.style[f._progressPixelSize]=100-parseFloat(a[f._progressPixelSize])+"%"},onEnd:function(){delete f._inProgressAnim},properties:h}),this._inProgressAnim.play())}else d.style[this._progressPixelSize]=
100*c+"%",e.style[this._progressPixelSize]=100*(1-c)+"%"},_bumpValue:function(a,d){if(!this.disabled&&!(this.readOnly||this.maximum<=this.minimum)){var e=c.getComputedStyle(this.sliderBarContainer),f=b.getContentBox(this.sliderBarContainer,e),e=this.discreteValues;if(1>=e||Infinity==e)e=f[this._pixelCount];e--;f=(this.value-this.minimum)*e/(this.maximum-this.minimum)+a;0>f&&(f=0);f>e&&(f=e);f=f*(this.maximum-this.minimum)/e+this.minimum;this._setValueAttr(f,d)}},_onClkBumper:function(a){!this.disabled&&
(!this.readOnly&&this.clickSelect)&&this._setValueAttr(a,!0)},_onClkIncBumper:function(){this._onClkBumper(!1===this._descending?this.minimum:this.maximum)},_onClkDecBumper:function(){this._onClkBumper(!1===this._descending?this.maximum:this.minimum)},decrement:function(a){this._bumpValue(a.keyCode==f.PAGE_DOWN?-this.pageIncrement:-1)},decrement10:function(a){this._bumpValue(a.keyCode==f.PAGE_DOWN?-this.pageIncrement:-10)},increment:function(a){this._bumpValue(a.keyCode==f.PAGE_UP?this.pageIncrement:
1)},increment10:function(a){this._bumpValue(a.keyCode==f.PAGE_UP?this.pageIncrement:10)},_mouseWheeled:function(a){a.stopPropagation();a.preventDefault();this._bumpValue(0>a.wheelDelta?-1:1,!0)},startup:function(){this._started||(h.forEach(this.getChildren(),function(a){this[a.container]!=this.containerNode&&this[a.container].appendChild(a.domNode)},this),this.inherited(arguments))},_typematicCallback:function(a,b,c){if(-1==a)this._setValueAttr(this.value,!0);else this[b==(this._descending?this.incrementButton:
this.decrementButton)?"decrement":"increment"](c)},buildRendering:function(){this.inherited(arguments);this.showButtons&&(this.incrementButton.style.display="",this.decrementButton.style.display="");var a=n('label[for\x3d"'+this.id+'"]');a.length&&(a[0].id||(a[0].id=this.id+"_label"),this.focusNode.setAttribute("aria-labelledby",a[0].id));this.focusNode.setAttribute("aria-valuemin",this.minimum);this.focusNode.setAttribute("aria-valuemax",this.maximum)},postCreate:function(){this.inherited(arguments);
this.showButtons&&this.own(s.addMouseListener(this.decrementButton,this,"_typematicCallback",25,500),s.addMouseListener(this.incrementButton,this,"_typematicCallback",25,500));this.own(t(this.domNode,p.wheel,l.hitch(this,"_mouseWheeled")));var b=k(x,{widget:this});this._movable=new a(this.sliderHandle,{mover:b});this._layoutHackIE7()},destroy:function(){this._movable.destroy();this._inProgressAnim&&"stopped"!=this._inProgressAnim.status&&this._inProgressAnim.stop(!0);this.inherited(arguments)}});
d._Mover=x;return d})},"mojo/widgets/ImportLoader":function(){define("dojo/_base/declare mojo/utils dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./templates/ImportLoader.html mojo/widgets/ProgressCircle dojo/dom-construct dojo/dom-style dojo/html dojo/on mojo/app/campaigns dojo/_base/lang dojo/Stateful mojo/url dojo/string dojo/request/xhr mojo/Poll dijit/Dialog dojo/dom-form dojo/query dojo/dom-attr dojo/dom".split(" "),function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,
s,v,w,u,y,x,A){return h("ImportLoader",[d,g,b,t],{templateString:c,widgetsInTemplate:!0,status:"",percent:!1,allowedStatuses:["working","complete","reverting","reverted"],constructor:function(){this.messages={working:{primary:"We're importing your list!",secondary:"You can navigate away from this page - importing won't be affected."},complete:{primary:"Your import is complete!",secondary:"\x3ca onclick\x3d'window.location.reload()' href\x3d''\x3eRefresh this page\x3c/a\x3e to update the table below."},
reverting:{primary:"We're reverting your list!",secondary:"You can navigate away from this page - reverting won't be affected."},reverted:{primary:"Your import has been undone!",secondary:"\x3ca onclick\x3d'window.location.reload()' href\x3d''\x3eRefresh this page\x3c/a\x3e to update the table below."}}},postCreate:function(){this.inherited(arguments);this.updateStatus();this.poll=new v(p.hitch(this,this.updateStatus),5E3);this.poll.start();this.progressMeter=new f;this.progressMeter.placeAt(this.progressMeterContainer);
this.watch("status",function(a,b,c){if(-1!=this.allowedStatuses.indexOf(c))if(this.updateMessaging(c),this.percent||this.isComplete())switch(c){case "working":case "reverting":this.progressMeter.set("status","progress");break;case "complete":case "reverted":this.progressMeter.set("status","success"),this.poll.stop()}else this.progressMeter.set("status","loading")})},updateStatus:function(){s.get(q.toUrl("lists/members/import-loader"),{handleAs:"json",query:{import_id:this.import_id}}).then(p.hitch(this,
function(a){a.success&&a.data?this.updateData(a.data):this.poll.stop()}))},updateData:function(a){e.set(this.domNode,"display",a?"block":"none");this.percent=-1!=a.percent;this.set("status",a.status);this.percent&&("working"==a.status||"reverting"==a.status)&&this.setPercentComplete(a.percent)},updateMessaging:function(b){-1!=this.allowedStatuses.indexOf(b)&&(this.messages[b].primary?(a.set(this.statusMessagePrimary,this.messages[b].primary),e.set(this.statusMessagePrimary,"display","block")):e.set(this.statusMessagePrimary,
"display","none"),this.messages[b].secondary?(a.set(this.statusMessageSecondary,this.messages[b].secondary),e.set(this.statusMessageSecondary,"display","block")):e.set(this.statusMessageSecondary,"display","none"))},isComplete:function(){return"complete"===this.status||"reverted"===this.status},setPercentComplete:function(a){"undefined"!=typeof a&&this.progressMeter.setPercent(a)}})})},"mojo/widgets/InterpolateNumber":function(){define("dojo/_base/declare dijit/_WidgetBase dojo/_base/lang dojo/dom dojo/query dojo/dom-construct mojo/utils d3/d3".split(" "),
function(h,k,d,g,b,c,f,l){return h([k],{animDuration:1333,animDelay:500,numDecimals:0,easing:"linear",startVal:0,endVal:100,formatNumber:",",animateOnVisibility:!0,changeOnWatch:!0,postMixInProperties:function(){this.startVal=this.startVal.toString()},buildRendering:function(){this.inherited(arguments);this.endVal=this.domNode.innerHTML;this.domNode.innerHTML=this.startVal},animateNumber:function(){var b=this,a=b.startVal,c=b.endVal;l.select(this.domNode).transition().ease(b.easing).duration(this.animDuration).delay(this.animDelay).tween("text",
function(){var d=l.select(this),f=l.interpolate(a,c);return function(a){a=parseFloat(f(a));d.text(l.format(b.formatNumber)(a.toFixed(b.numDecimals)));b.changeOnWatch=!0;b.startVal=c}});b.watch("endVal",function(){b.changeOnWatch&&(b.changeOnWatch=!1,b.animateNumber())})},postCreate:function(){if(this.animateOnVisibility)f.onVisibility(this.domNode,d.hitch(this,this.animateNumber));else this.animateNumber()}})})},"mojo/widgets/KbSearch":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_AttachMixin mojo/widgets/_Overlay dojo/on dojo/query dojo/_base/array dojo/request dojo/parser dojo/_base/lang dojo/dom dojo/dom-style dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/keys dijit/registry mojo/url mojo/logger velocity/velocity codemirror4/lib/codemirror codemirror4/mode/htmlmixed/htmlmixed velocity/velocity.ui".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s,v,w,u,y){var x=h([k,d,g],{overlayClass:"kb-overlay",searching:!1,lastSearch:"",postMixInProperties:function(){x._main||(x._main=this)},postCreate:function(){var c=this;b(c.searchForm,"submit",function(a){a.preventDefault();a=c.searchInput.value;c.searching||c._searchAll(a)});b(c.clearIcon,"click",function(a){a.preventDefault();c.clearSearch()});b(c.searchInput,"keyup",function(a){(a.charCode||a.keyCode)===r.ESCAPE?c.clearSearch():(a=c.searchInput.value,""===
a&&c.toggleResults(!1),a!==c.lastSearch&&c.toggleSearchIcon(!1))});b(this.domNode,"a[data-kb-article]:click",function(a){!a.shiftKey&&(!a.altKey&&!a.ctrlKey&&!a.metaKey)&&(a.preventDefault(),a.stopPropagation(),a=p.get(this,"data-kb-article"),c.show(),c.showArticle(a))});b(this.backLink,"click",function(a){a.preventDefault();a.stopPropagation();c.toggleContentPanel(!1)});b(this.domNode,"[data-kb-paging]:click",function(a){a.preventDefault();a.stopPropagation();a=p.get(this,"data-kb-paging");c._pageArticles(a)});
b(this.closeButton,"click",a.hitch(this,"hide"));this.toggleResults(!1);this.toggleContentPanel(!1)},clearSearch:function(){this.searchInput.value="";this.searchInput.focus();this.toggleResults(!1);this.toggleSearchIcon(!1)},showArticle:function(d){this._getArticle(d).then(a.hitch(this,function(f){var g="/kb"+d;ga("send","pageview",g);this.contentContainer.innerHTML=f;this.toggleContentPanel(!0);c(".kb-article-code textarea",this.contentContainer).forEach(function(a){y.fromTextArea(a,{mode:"text/html",
readOnly:!0,tabMode:"indent",theme:"default",autoClearEmptyLines:!0,lineWrapping:!0})});e.parse(this.contentContainer);b(c("#email-support",this.domNode),"click",a.hitch(this,function(a){a.preventDefault();a.stopPropagation();this.showContactForm();w.pythia.logEvent("Help_ContactSupport_ClickEmailButton");ga("send","event","In-app KB","Email Us",g,{page:g})}));b(c("[data-dojo-attach-point\x3dchatWithUs]"),"click",a.hitch(this,function(a){ga("send","event","In-app KB","Chat with Us",g,{page:g})}))}))},
showContactForm:function(){l.get(v.toUrl("kb/contact-form"),{handleAs:"text"}).then(a.hitch(this,function(a){var b=this.contentContainer;f.forEach(s.findWidgets(b),function(a){a.destroyRecursive()});this.toggleContentPanel(!0);b.innerHTML=a;require(["mojo/widgets/ContactSupportForm"],function(a){(new a).placeAt(m.byId("contact-form-container"));e.parse(b)})}))},toggleSearchIcon:function(a){t.toggle(this.clearIcon,"hide",!a);t.toggle(this.searchIcon,"hide",a)},toggleContentPanel:function(a){n.set(this.searchPanel,
"display",a?"none":"");n.set(this.contentPanel,"display",a?"":"none");this.contentPanel.scrollIntoView()},toggleResults:function(a){this.recommendedContainer&&n.set(this.recommendedContainer,"display",!a?"":"none");n.set(this.resultsContainer,"display",a?"":"none")},toggleSearchLoader:function(a){t.toggle(this.searchLoader,"hide",!a)},_searchAll:function(b){if(!this.searching){this.searching=!0;this.lastSearch=b;this.toggleSearchLoader(!0);var c=l.get(v.toUrl("kb/search"),{handleAs:"text",query:{term:b}});
c.then(a.hitch(this,function(a){this.searching=!1;this.toggleSearchLoader(!1);this.toggleSearchIcon(!0);this._destroySearchWidgets();this.resultsList.innerHTML=a;this.toggleResults(!0);e.parse(this.resultsList);ga("send","event","In-app KB","search",b)}));return c}},_destroySearchWidgets:function(){f.forEach(s.findWidgets(this.resultsList),function(a){a.destroyRecursive()})},_pageArticles:function(a){var b=s.byId("kb-search-article-tab");b&&l.get(v.toUrl("kb/search-articles"),{handleAs:"text",query:{term:this.lastSearch,
page:1>a?1:a}}).then(function(a){b.setContent(a)})},_getArticle:function(a){return l.get(v.toUrl("kb/article"),{handleAs:"text",query:{path:a}})}});x.main=function(){return x._main?x._main:null};return x})},"mojo/widgets/LinkPicker":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./templates/linkPicker.html dojo/dom dojo/on dojo/topic dojo/_base/lang dojo/_base/event dojo/_base/array dojo/_base/query dojo/dom-construct dojo/dom-class dojo/dom-style dojo/dom-attr dojo/io-query dojo/keys dijit/Dialog mojo/widgets/FileManager mojo/utils".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s,v,w,u,y){return h("mojo.widgets.LinkPicker",[k,d,g],{templateString:b,anchors:[],showButtons:!0,showRemoveLink:!0,abandonedCartEnabled:!1,refreshInputs:function(){this.linkType.set("value","regularLink");if(this.href){var a=this.href;if(a.match("mailto:")){a=a.replace("mailto:","");this.linkType.set("value","emailLink");var b={},c=-1==a.indexOf("?")?a:a.substring(0,a.indexOf("?"));-1!=a.indexOf("?")&&(b=s.queryToObject(a.substring(a.indexOf("?")+1,a.length)));
this.emailInput.value=c;b.subject&&(this.subjectInput.value=b.subject);b.body&&(this.emailBodyInput.value=b.body)}else this.abandonedCartEnabled&&"*|CART:URL|*"==a.trim()?this.linkType.set("value","abandonCartLink"):this.hrefInput.value=this.href}this.targetCheckbox.set("checked",!0);this.attrs&&(this.titleInput.value=this.attrs.title?this.attrs.title:"",this.linkClassInput.value=this.attrs["class"]?this.attrs["class"]:"",this.attrs.target&&this.targetCheckbox.set("checked","_blank"==this.attrs.target));
this.showSection()},postCreate:function(){this.showButtons||q.set(this.buttonGroup,"display","none");this.showRemoveLink||q.set(this.removeLinkContainer,"display","none");this.anchors.length&&(p.empty(this.selectAnchor),m.forEach(this.anchors,e.hitch(this,function(a){p.place('\x3coption value\x3d"'+a+'"\x3e'+a+"\x3c/option\x3e",this.selectAnchor)})));this.abandonedCartEnabled||this.linkType.removeOption("abandonCartLink");var a=this;this.own(f(this.cancelBtn,"click",e.hitch(this,"_cancel")),f(this.saveBtn,
"click",e.hitch(this,"_save")),f(this.removeLink,"click",e.hitch(this,"_remove")),f(this.advancedToggle,"click",e.hitch(this,function(a){a.preventDefault();y.disclosureElement(this.advancedOptions,a.currentTarget,!0)})),f(this.linkType,"change",function(){a.showSection()}),f(this.changeFileLink,"click",function(b){b.stopPropagation();b.preventDefault();a._openFileManager()}),l.subscribe("mojo/filemanager/hide",function(){a.dialog&&a._closedForFileManager&&(a._closedForFileManager=!1,a.dialog.show())}));
this.refreshInputs()},showSection:function(){var a=n(".linkType",this.domNode).addClass("hide").filter("."+this.linkType.value).removeClass("hide").query("input")[0];a&&a.focus();"fileLink"==this.linkType.value&&this._openFileManager()},_openFileManager:function(){this.dialog&&(this._closedForFileManager=!0,this.dialog.hide());u.show({actions:"select, rename, copy",onSelect:e.hitch(this,function(a){u.hide();this.linkToFile(a)})})},show:function(){this.dialog=new w({title:"Insert or Edit Link",content:this.domNode,
"class":"link-modal",style:"width:450px;"});this.dialog.startup();this.own(f(this.dialog.containerNode,"keydown",e.hitch(this,function(b){if(this.dialog.open){var c=b.target||b.srcElement;b.keyCode==v.ENTER&&c!=this.emailBodyInput&&(a.stop(b),this._save())}})));p.place(this.dialog.domNode,n("body")[0],"first");this.dialog.show();var b=n(".linkType:not(.hide) input",this.domNode)[0];b&&b.focus()},hide:function(a){return this.dialog.hide().then(e.hitch(this,function(){a&&this.destroy()}))},linkToFile:function(a){r.set(this.fileUrlInput,
"value",a)},_save:function(){this.hide(!1).then(e.hitch(this,function(){this.onSave(this.getLink());this.destroy()}))},getLink:function(){var a,b;switch(this.linkType.value){case "abandonCartLink":b="*|CART:URL|*";break;case "emailLink":b="mailto:"+this.emailInput.value;this.subjectInput.value&&(b+="?subject\x3d"+encodeURIComponent(this.subjectInput.value));this.emailBodyInput.value&&(b+=(encodeURIComponent(this.subjectInput.value)?"\x26":"?")+"body\x3d"+encodeURIComponent(this.emailBodyInput.value));
a=this.emailInput.value;break;case "anchorLink":b=""!=this.selectAnchor.value?"#"+this.selectAnchor.value:"";a=this.selectAnchor.value;break;case "fileLink":b=this.fileUrlInput.value;decodeURIComponent(b).match(/^((http[s]?:|ftp:|mailto:|tel:|#|\*\|))/gi)||(b="http://"+b);a=b;break;default:b=this.hrefInput.value,decodeURIComponent(b).match(/^((http[s]?:|ftp:|mailto:|tel:|#|\*\|))/gi)||(b="http://"+b),a=b}return{href:b,text:a,attrs:{"class":this.linkClassInput.value,title:this.titleInput.value,target:r.get(this.targetCheckbox,
"checked")?this.targetCheckbox.value:"_self"}}},_cancel:function(){this.onCancel();this.hide(!0)},_remove:function(){this.onRemove();this.hide(!0)},onSave:function(a){},onCancel:function(){},onRemove:function(){}})})},"dojo/_base/query":function(){define(["../query","./NodeList"],function(h){return h})},"mojo/widgets/LiveDialog":function(){define(["dojo/_base/declare","dijit/Dialog"],function(h,k){return h(k,{hide:function(){this._alreadyInitialized&&(this.execute(),this.inherited("hide",arguments))}})})},
"mojo/widgets/LocalNavBar":function(){define("dojo/_base/declare dijit/_WidgetBase dojo/on dojo/parser dojo/dom dojo/dom-class dojo/query dojo/_base/lang".split(" "),function(h,k,d,g,b,c,f,l){return h([k],{bindEvents:function(){var b=this;d(this.menuBarToggle,"click",function(){c.toggle(b.menuBar,"block")})},postCreate:function(){this.menuBar=f(this.domNode).children("nav")[0];this.menuBarToggle=f(this.domNode).children("p")[0];this.bindEvents()}})})},"mojo/widgets/LocalNavGroup":function(){define(["dojo/_base/declare",
"./ButtonGroup"],function(h,k){return h([k],{templateString:'\x3cul class\x3d"flex border-bottom"\x3e\x3c/ul\x3e',itemTpl:'\x3cli class\x3d"c-buttonGroupItem"\x3e\x3cbutton type\x3d"button" data-mc-value\x3d"{value}" title\x3d"{title}" class\x3d"c-buttonGroupButton normal-meta v-buttonGroupUnderlined no-transform"\x3e{label}\x3c/button\x3e\x3c/li\x3e',activeClass:"v-buttonGroupUnderlined--active"})})},"mojo/widgets/MainNavigation":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_AttachMixin dojo/on dojo/query dojo/_base/array dojo/_base/window dojo/parser dojo/_base/lang dojo/dom dojo/dom-style dojo/dom-attr dojo/dom-class dojo/keys dojo/ready mojo/widgets/PhoneNavigation mojo/widgets/TabletNavigation mojo/widgets/AccountMenu mojo/widgets/GlobalSearch mojo/widgets/KbSearch mojo/widgets/_SlideCard mojo/widgets/_Overlay dijit/registry velocity/velocity mojo/KeyShortcuts".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s,v,w,u,y,x,A,C,D){var E=h([k,d,y,x],{postMixInProperties:function(){E._main||(E._main=this)},postCreate:function(){var a=/\w*-overlay/;this.trapEvents();this.setupMobileNav();g(this.hamburger,"click",function(a){a.preventDefault();a.stopPropagation();r.main().show();s.main().show();v.main().hide("account-menu--active")});g(this.helpButton,"click",function(a){a.preventDefault();a.stopPropagation();u.main().show("kb-search");v.main().hide("account-menu--active");
ga("send","event","Account Menu","Help",window.location.pathname)});D.onKey("h",function(a){u.main().show("kb-search");v.main().hide("account-menu--active")});this.searchButton&&(g(this.searchButton,"click",function(a){a.preventDefault();a.stopPropagation();w.main().show("global-search");v.main().hide("account-menu--active")}),D.onKey("s",function(a){w.main().show("global-search");v.main().hide("account-menu--active")}));this.listsSearch();g(this.accountButton,"click",function(a){a.preventDefault();
a.stopPropagation();v.main().toggle("account-menu--active");g(b(".wrap")[0],"click",function(a){a.stopPropagation();v.main().hide("account-menu--active")})});D.onEsc(function(b){b.stopPropagation();var c;a.exec(n.get(f.doc.documentElement,"class"))&&(c=a.exec(n.get(f.doc.documentElement,"class"))[0]);switch(c){case "mobile-overlay":r.main().hide();s.main().hide();break;case "search-overlay":w.main().hide();break;case "kb-overlay":u.main().hide()}});this._handleNavigationEvents()},_handleNavigationEvents:function(){q(function(){var a=
!1;g(s.main(),"hide",function(){a||(a=!0,r.main().hide({animate:!1}).then(function(){a=!1}))});g(r.main(),"hide",function(){a||(a=!0,s.main().hide({animate:!1}).then(function(){a=!1}))})})},trapEvents:function(){var a=document.documentElement,b;g(window,"scroll",function(){clearTimeout(b);a.style.pointerEvents||(a.style.pointerEvents="none");b=setTimeout(function(){a.style.pointerEvents=""},125)})},setupMobileNav:function(){b(".mobile-top-nav").on("click",function(a){a.preventDefault();a.stopPropagation();
p.toggle(this,"active")})},listsSearch:function(){b(".lists-search").on("click",function(a){a.preventDefault();a.stopPropagation();w.main().show("global-search");v.main().hide("account-menu--active")})}});E.main=function(){return E._main?E._main:null};return E})},"mojo/widgets/PhoneNavigation":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_AttachMixin mojo/widgets/_Overlay mojo/widgets/_SlideCard dojo/on dojo/query dojo/_base/array dojo/parser dojo/_base/lang dojo/dom dojo/dom-style dojo/dom-attr dojo/dom-class dijit/registry velocity/velocity".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r){var s=h([k,d,g,b],{overlayClass:"mobile-overlay",postMixInProperties:function(){s._main||(s._main=this)},postCreate:function(){c(this.slideNotifications,"click",a.hitch(this,"slideCard",this.notificationsCard,null));this.slideAccount&&c(this.slideAccount,"click",a.hitch(this,"slideCard",this.accountCard,this.accountSearchField));c(this.slideBackNotifications,"click",a.hitch(this,"closeCard",this.notificationsCard));c(this.slideBackAccount,"click",a.hitch(this,
"closeCard",this.accountCard));this.accountSearchField&&c(this.accountSearchField,"keyup",function(a){var b=this.value.toLowerCase();f(".phone-account-list .acl-account").forEach(function(a){var c=p.get(a,"data-account-name").toLowerCase();a.style.display=0>c.indexOf(b)?"none":""})});c(this.closeButton,"click",a.hitch(this,"hide"))}});s.main=function(){return s._main?s._main:null};return s})},"mojo/widgets/TabletNavigation":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_AttachMixin mojo/widgets/_Overlay dojo/on dojo/query dojo/_base/array dojo/parser dojo/_base/lang dojo/dom dijit/registry velocity/velocity".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n){var p=h([k,d,g],{overlayClass:"mobile-overlay",postMixInProperties:function(){p._main||(p._main=this)},postCreate:function(){b(this.closeButton,"click",e.hitch(this,"hide"))}});p.main=function(){return p._main?p._main:null};return p})},"mojo/widgets/MeterLarge":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dojo/text!./templates/MeterLarge.html dojo/dom-class dojo/dom-style dojo/dom-geometry velocity/velocity".split(" "),function(h,
k,d,g,b,c,f,l){return h([k,d],{templateString:g,type:null,value:null,label:"You",leftLabel:"Negative",rightLabel:"Positive",meterClass:null,postCreate:function(){this._initStyles();this._setPopover();this.animateFill()},_initStyles:function(){"spectrum"==this.type&&(this.meterClass="spectrum",b.remove(this.meterAverage,"hide"));this.meterClass&&b.add(this.meterBarNode,this.meterClass)},_setPopover:function(){var b=f.position(this.popover).w,b=Math.round(-1*(b/2));c.set(this.popover,"right",b+"px")},
animateFill:function(){l(this.meterFill,{width:this.value+"%"},{easing:"easeInOut",duration:50<=this.value?1500:1E3})}})})},"mojo/widgets/MultivariateSlider":function(){define(["dojo/_base/declare","dijit/form/HorizontalSlider","dojo/dom-construct","dojo/dom"],function(h,k,d,g){return h([k],{potential:0,potentialBarHtml:'\x3cdiv role\x3d"presentation" class\x3d"absolute dijitSliderBar dijitSliderBarH dijitSliderPotentialBar dijitSliderPotentialBarH"\x3e\x3c/div\x3e',fauxRemainingBarHtml:'\x3cdiv role\x3d"presentation" class\x3d"absolute dijitSliderBar dijitSliderBarH fauxRemainingBar fauxRemainingBarH"\x3e\x3c/div\x3e',
sliderValueLabelHtml:'\x3cp class\x3d"fwb slidervalue last"\x3e\x3c/p\x3e',sliderValueLabel:null,potentialBar:null,postMixInProperties:function(){this.inherited(arguments);this.potential=this.maximum},_setValueAttr:function(b,c){this.potential>=b?this.inherited(arguments):this.inherited(arguments,[this.potential]);this.updateLabel()},_setPotentialAttr:function(b){this.potential=b;this.updatePotentialWidth()},_setTotalAttr:function(b){this.updateCount(b)},_getPotentialBarWidth:function(){return 100*
((this.potential-this.minimum)/(this.maximum-this.minimum))+"%"},postCreate:function(){this.inherited(arguments);this.potentialBar=d.place(this.potentialBarHtml,this.remainingBar,"after");this.potentialBar.style.width="100%";this.progressBar.style.width="0%";this.potentialBar.style.zIndex=1;this.fauxRemainingBar=d.place(this.fauxRemainingBarHtml,this.potentialBar,"after");this.fauxRemainingBar.style.width="100%";this.fauxRemainingBar.style.background="#f2f2f2";g.byId("variationCount").innerHTML=1;
this.sliderValueLabel=d.place(this.sliderValueLabelHtml,this.domNode,"last");this.progressBar.style.cursor="pointer";this.remainingBar.style.cursor="pointer";this.updateLabel()},updateLabel:function(){this.sliderValueLabel&&(this.sliderValueLabel.innerHTML=this.value,this.remainingBar.style.width=this._getPotentialBarWidth())},updatePotentialWidth:function(){this.potentialBar&&(this.potentialBar.style.width=this._getPotentialBarWidth(),this.remainingBar.style.width=this._getPotentialBarWidth())},
updateCount:function(b){g.byId("variationCount").innerHTML=b}})})},"mojo/widgets/Notifications":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_AttachMixin dojo/dom-style dojo/dom-class dojo/dom-attr dojo/dom-construct dojo/on dojo/topic dojo/query dojo/request dojo/_base/lang mojo/url velocity/velocity".split(" "),function(h,k,d,g,b,c,f,l,e,a,m,n,p,t){return h([k,d],{dismissEvent:"mojo/widgets/Notifications/dismiss",postCreate:function(){this.own(l(this.domNode,l.selector("a[data-mc-dismiss-link]",
"click"),n.hitch(this,function(a){a=c.get(a.target,"data-mc-dismiss-link");this.removeNotifications(a)})));this.own(l(this.dismissAllNotifications,"click",n.hitch(this,function(a){this.removeNotifications()})));this.updateNotificationCounts();e.subscribe(this.dismissEvent,n.hitch(this,function(a){this.removeNotificationElements(a)}))},removeNotifications:function(a){m.post(p.toUrl("account/callback/"+(a?"delete-notification":"delete-all-notifications")),{data:{id:a},preventCache:!0,handleAs:"text"});
e.publish(this.dismissEvent,a)},removeNotificationElements:function(b){var c=this;b=a("[data-mc-notification"+(b?"\x3d'"+b+"'":"")+"]",this.domNode);t(b,"transition.slideRightBigOut",{duration:333,complete:function(a){a.forEach(function(a){f.destroy(a)});c.updateNotificationCounts()}})},updateNotificationCounts:function(){var c=a("[data-mc-notification]",this.domNode).length,d=0>=c;a("[data-mc-notification-count]").forEach(function(a){a.innerHTML=c;b.toggle(a,"hide",d)});b.toggle(this.dismissAllNotifications,
"invisible",d);g.set(this.noDataDom,"display",d?"":"none")}})})},"mojo/widgets/PredictedDemographics":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./predicted-demographics/templates/predictedDemographics.html dojo/text!./predicted-demographics/templates/genderChart.html dojo/text!./predicted-demographics/templates/ageRangeChart.html mojo/widgets/predicted-demographics/genderChart mojo/widgets/predicted-demographics/ageRangeChart mojo/widgets/ButtonGroup mojo/widgets/predicted-demographics/api mojo/url dojo/_base/lang dojo/_base/array dojo/on dojo/dom-attr dojo/dom-class".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s){g=h([k,d,g],{listId:null,campaignId:null,chart:null,chartId:"",chartData:{},legendId:"",metricOptions:"subscribers recipients opens clicks purchases revenue".split(" "),_initChart:function(a){(this.chartData=a)&&1<Object.keys(this.chartData).length&&this._setupMetricControls()},_setupMetricControls:function(){var b=[],c;for(c in this.chartData)this.chartData.hasOwnProperty(c)&&(-1!=this.metricOptions.indexOf(c)&&null!=this.chartData[c])&&b.push({value:c,
label:c});b[0]&&(this.tabs=new a({options:b,templateString:'\x3cul class\x3d"flex"\x3e\x3c/ul\x3e',itemTpl:'\x3cli class\x3d"c-buttonGroupItem"\x3e\x3cbutton type\x3d"button" data-mc-value\x3d"{value}" title\x3d"{title}" class\x3d"c-buttonGroupButton v-buttonGroupUnderlined v-buttonGroupUnderlined--compact"\x3e{label}\x3c/button\x3e\x3c/li\x3e',activeClass:"v-buttonGroupUnderlined--active"}),this.tabs.placeAt(this.metricToggler),this.tabs.startup(),this.tabs.setSelected(b[0].value),this.tabs.on("change",
p.hitch(this,"_changeMetric")))},_changeMetric:function(a){this.currentMetric=a;if(-1!=this.metricOptions.indexOf(a))this._updateChart(a);else throw Error("Unhandled metric");},_updateChart:function(a){this.chart.changeMetric(a)}});var v=h([g],{templateString:c,chartId:"genderChartContainer",legendId:"genderLegendContainer",postCreate:function(){(this.campaignId?m.getCampaignGenderData(this.campaignId):m.getListGenderData(this.listId)).then(p.hitch(this,"_initChart"))},_initChart:function(){this.inherited(arguments);
this.chart=new l({chartId:this.chartId,legendId:this.legendId,chartData:this.chartData})}}),w=h([g],{templateString:f,previousData:null,postCreate:function(){(this.campaignId?m.getCampaignGenderByAgeRangeData(this.campaignId):m.getListGenderByAgeRangeData(this.listId)).then(p.hitch(this,"_initChart"))},_initChart:function(){this.inherited(arguments);this.chart=new e({chartData:this.chartData,chartContainer:this.chartContainer})}});return h([k,d],{templateString:b,listId:null,campaignId:null,postCreate:function(){this.genderChart=
new v({listId:this.listId,campaignId:this.campaignId});this.genderChart.placeAt(this.genderChartContainer);this.genderChart.startup();this.ageRangeChart=new w({listId:this.listId,campaignId:this.campaignId});this.ageRangeChart.placeAt(this.ageRangeChartContainer);this.ageRangeChart.startup()}})})},"mojo/widgets/predicted-demographics/genderChart":function(){define("dojo/_base/declare dijit/_WidgetBase dojo/_base/lang dojo/_base/array dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-style dojo/query dojo/on dojo/debounce mojo/colors mojo/widgets/CountUp".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t){return h([k],{chartId:null,legendId:null,chartData:null,metric:null,previousData:[],postCreate:function(){var a=Object.keys(this.chartData)[0];this.changeMetric(a);m(window,"resize",n(d.hitch(this,"_renderChart"),500))},_renderChart:function(){var a={type:"pie",dataProvider:this.getCurrentChartData(),titleField:"gender",valueField:"count",pathToImages:"/charts/amcharts/images/",colors:[p.yellow5,p.green4,p.violet4,p.orange5],marginBottom:0,marginLeft:0,marginTop:0,
startDuration:0,pullOutRadius:"0%",angle:0,depth3D:0,minRadius:2,innerRadius:"80%",labelsEnabled:!1,fontFamily:"'Open Sans','Helvetica Neue',Arial,Helvetica,Verdana,sans-serif",fontSize:13,percentFormatter:{precision:1,decimalSeparator:".",thousandsSeparator:","},balloonText:'\x3cspan class\x3d"fwb"\x3e[[percents]]%\x3c/span\x3e \x3cspan class\x3d"capitalize"\x3e[[title]]s\x3c/span\x3e',balloon:{borderThickness:0,animationDuration:0.25,fadeOutDuration:0.25,shadowColor:"transparent",horizontalPadding:12,
verticalPadding:6,color:p.white,fillColor:p.dark,cornerRadius:3,fillAlpha:1,textAlign:"left"}};this.amchart=AmCharts.makeChart(this.chartId,a)},_renderLegend:function(){var e=b.byId(this.legendId);l.empty(e);g.forEach(this.getCurrentChartData(),d.hitch(this,function(a,b){var c=this.previousData[b];l.place('\x3cdiv class\x3d"unit size1of2 small-meta capitalize fwb nowrap"\x3e\x3cspan class\x3d"swatch v-bg-gender-'+a.gender+'"\x3e\x3c/span\x3e\x3cspan data-mc-group\x3d"countUp" data-mc-value-start\x3d"'+
(c?c.percent:0)+'" data-mc-value-end\x3d"'+a.percent+'"\x3e\x3c/span\x3e% \x3cspan class\x3d"fwn"\x3e'+a.gender+"\x3c/span\x3e\x3c/div\x3e",e)}));this.previousData=this.getCurrentChartData();a('[data-mc-group\x3d"countUp"]',e).forEach(function(a){var b=new t({startVal:c.get(a,"data-mc-value-start"),endVal:c.get(a,"data-mc-value-end"),decimals:1,duration:0.5});b.placeAt(a);b.startup()})},_renderNoData:function(){e.set(this.chartId,"height","175px");f.add(this.chartId,"grayscale no-clicky");this.metric=
!1;this._renderChart()},changeMetric:function(a){this.metric=a;this.chartData[this.metric]?(e.set(this.chartId,"height","150px"),this._renderLegend(),this._renderChart()):this._renderNoData()},getCurrentChartData:function(){var a=[{gender:"female",count:25},{gender:"male",count:75}];return this.chartData[this.metric]?this.chartData[this.metric]:a}})})},"mojo/colors":function(){define([],function(){return{black:"#000",white:"#FFF","base-gray":"#F2F2F2",dark:"#373737",blue:"#52BAD5",green:"#72C1B0",
yellow:"#FED156",red:"#E85C41",red1:"#fed6cc",red3:"#fca58e",red6:"#f95c32",green1:"#bff5e8",green3:"#73e8cc",green4:"#4de2bf",green6:"#00d6a3",green7:"#00c193",blue1:"#bfecfa",blue3:"#73d5f3",blue6:"#00b3ea",yellow1:"#fff2cf",yellow3:"#ffe395",yellow5:"#ffd45b",yellow6:"#ffcc3e",pink1:"#ff76a4",pink3:"#ffb4cd",pink6:"#ff76a4",violet1:"#decef3",violet3:"#b593e5",violet4:"#a175de",violet6:"#793ad0",orange1:"#ffe8bf",orange3:"#ffcc73",orange5:"#ffb126",orange6:"#ffa300"}})},"mojo/widgets/predicted-demographics/ageRangeChart":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dojo/text!./templates/meterRow.html dojo/_base/lang dojo/_base/array dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-style dojo/query mojo/widgets/CountUp velocity/velocity".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t){var q=h([k,d],{templateString:g,label:null,startVal:0,endVal:null,colorClasses:{female:"v-bg-gender-female",male:"v-bg-gender-male",other:"v-bg-gender-other",unknown:"v-bg-gender-unknown"},postCreate:function(){this.inherited(arguments);this._renderMeterRow()},_renderMeterRow:function(){this.meterLabel.innerHTML=this.label;for(var b in this.genders){var c=this.startGenders?this.startGenders[b].percent:this.genders[b].percent,d=this.genders[b].percent;this.genders.hasOwnProperty(b)&&
a.place('\x3cdiv data-mc-group\x3d"animateWidth" data-end-value\x3d"'+d+'" class\x3d"'+this.colorClasses[b]+'" style\x3d"width:'+c+'%;"\x3e\x3c/div\x3e',this.meterContainer)}n("[data-mc-group\x3d'animateWidth']").forEach(function(a){endVal=l.get(a,"data-end-value");t(a,{width:endVal+"%"},{easing:"easeIn",duration:500})});m.set(this.meterContainer,"width",this.startVal+"%");t(this.meterContainer,{width:this.endVal+"%"},{easing:"easeIn",duration:500,delay:10});this.countUp=new p({startVal:this.startVal,
endVal:this.endVal,decimals:1,duration:0.5});this.countUp.placeAt(this.meterValue);this.countUp.startup()}});return h([k],{chartData:null,chartContainer:null,previousData:null,postCreate:function(){var a=Object.keys(this.chartData)[0];(a=this.chartData[a])?this._renderChart(a):this._renderNoData()},_renderChart:function(d){a.empty(this.chartContainer);c.forEach(d,b.hitch(this,function(a,b){(new q({label:a.age_range,startVal:this.previousData?this.previousData[b].percent:0,endVal:a.percent,startGenders:this.previousData?
this.previousData[b].genders:null,genders:a.genders})).placeAt(this.chartContainer)}));this.previousData=d},_renderNoData:function(){e.add(this.chartContainer,"grayscale no-clicky");this._renderChart([{age_range:"18-24",percent:0},{age_range:"50-34",percent:0},{age_range:"35-44",percent:0},{age_range:"45-54",percent:0},{age_range:"55-64",percent:0},{age_range:"64+",percent:0}])},changeMetric:function(a){this.chartData[a]?this._renderChart(this.chartData[a]):this._renderNoData()}})})},"mojo/widgets/predicted-demographics/api":function(){define(["dojo/request",
"dojo/_base/lang","mojo/url"],function(h,k,d){return{getCampaignGenderData:function(d){return this._getGenderData({campaign_id:d})},getListGenderData:function(d){return this._getGenderData({list_id:d})},getCampaignGenderByAgeRangeData:function(d){return this._getGenderByAgeRangeData({campaign_id:d})},getListGenderByAgeRangeData:function(d){return this._getGenderByAgeRangeData({list_id:d})},_getGenderData:function(g){return h.get(d.toUrl("/predicted-demographics/get-gender-data"),{handleAs:"json",
query:g})},_getGenderByAgeRangeData:function(g){return h.get(d.toUrl("/predicted-demographics/get-gender-by-age-range-data"),{handleAs:"json",query:g})}}})},"mojo/widgets/ProgressDots":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dojo/text!./templates/ProgressDots.html dojo/dom-class dojo/dom-construct dojo/dom-style dojo/query mojo/colors velocity/velocity".split(" "),function(h,k,d,g,b,c,f,l,e,a){return h([k,d],{templateString:g,progressDotTemplate:"",stepNum:3,
activeStepIndex:1,postCreate:function(){this.progressDotTemplate={"data-mc-group":"progressDot","class":"c-progress_step border-radius--rounded inline-block float-left margin--lv2 !margin-top-bottom--lv0 !margin-left--lv0 v-bg-gray-light"};for(var a=0;a<this.stepNum;){var b=c.create("div",this.progressDotTemplate);c.place(b,this.progressContainer);a++}this.setActiveDot(null)},setActiveDot:function(a){a=null===a?this.activeStepIndex:a;var b=this.activeStepIndex;this.activeStepIndex=Math.min(Math.max(a,
1),this.stepNum);a=l(this.progressContainer).children();this._animateActive(a[b-1],a[this.activeStepIndex-1],b<this.stepNum+1)},nextStep:function(){this.setActiveDot(this.activeStepIndex+1)},prevStep:function(){this.setActiveDot(this.activeStepIndex-1)},setStepNum:function(b){if(b!==this.stepNum){for(var d=0,e=Math.abs(this.stepNum-b);d<e;){if(b<this.stepNum){var f=l(this.progressContainer).children();this._animateOut(f[f.length-(1+d)],125*d)}else f=c.create("div",this.progressDotTemplate),c.place(f,
this.progressContainer),a(f,{translateY:"12px",scale:"0.5",opacity:"0"},{duration:0}),this._animateIn(f,100*d);d++}this.stepNum=b;this.setActiveDot(null)}},_animateActive:function(b,c,d){d=null===d?!0:d;a(c,"stop");b!==c&&!0===d&&(a(b,"stop"),a(b,{translateY:"0",scale:"1.0",backgroundColor:"#d0d0d0"},{duration:250}));a.animate(c,{translateY:"-4px",scale:"1.25",backgroundColor:e.blue},{duration:100,complete:function(){a.animate(c,{translateY:"2px",scale:"1.1"},{duration:200,complete:function(){a.animate(c,
{translateY:"0",scale:"1.2"},{duration:250})}})}})},_animateOut:function(b,d){a(b,"stop");a(b,{backgroundColor:"#d0d0d0",scale:"1"},{duration:200});a(b,{translateY:["12px",[0.55,-1.4,0.82,0.63],"0"],scale:["0.5",[0.35,-0.8,0.82,0.63],"1.0"],opacity:["0",[0.7,-0.03,0.82,0.63],"1.0"]},{duration:250,delay:d,complete:function(){a(b,{width:["0",[0.5,0.5,0.5,0.5],b.width],marginRight:["0",[0.5,0.5,0.5,0.5],"6px"]},{duration:150,complete:function(){c.destroy(b)}})}})},_animateIn:function(b,c){a(b,{translateY:["0",
[0.2,3,1.5,0.8],"12px"],scale:["1",[0.3,2,0.8,0.6],"0"],opacity:["1.0",[0.05,-0.05,0.8,0.6],"0"]},{duration:300,delay:c})}})})},"mojo/widgets/ResizeTextarea":function(){define(["dojo/_base/declare","dijit/_Widget","dojo/dom","dojo/on"],function(h,k,d,g){return h([k],{postCreate:function(){var b=this.domNode;b.style.overflow="hidden";b.style.minHeight=b.offsetHeight+"px";var c=b.offsetHeight-b.clientHeight;g(b,"keyup",function(){b.style.height="auto";b.style.height=parseInt(b.scrollHeight+c,10)+"px"})}})})},
"mojo/widgets/SegmentDial":function(){define("dojo/_base/declare dojo/_base/lang dijit/_Widget dijit/_Templated dojo/text!./templates/segmentDial.html dojo/parser dojo/dom-class d3/d3 dojo/NodeList-traverse dojo/NodeList-manipulate".split(" "),function(h,k,d,g,b,c,f,l){return h([d,g],{templateString:b,maxValue:8,value:1,setValue:function(b){this.render()},render:function(){var b;b=this.width||160;var a=this.height||160,c=this.radius||b/2,d=l.scale.linear().range([0,360]).domain([0,this.maxValue]);
b=l.select(this.segmentDial).append("svg:svg").attr("class","dial block").attr("width",b).attr("height",a).attr("style","margin: 0 auto").append("svg:g").attr("transform","translate("+c+", "+c+")");b.append("svg:circle").attr("r",c-4).attr("class","dial").style("fill","white").attr("stroke","#e0e0e0").attr("stroke-width",8);this.dial=b;this.arc=a=l.svg.arc().innerRadius(c-8).outerRadius(c).startAngle(0);this.path=b.append("svg:path").datum({endAngle:0}).style("fill","#52bad5").attr("d",a);b.append("svg:g").attr("class",
"ticks").selectAll(".tick").data(l.range(0,this.maxValue)).enter().append("svg:line").attr("class","tick").attr("x1",-1).attr("x2",-1).attr("y1",c+1).attr("y2",c-9).attr("transform",function(a){return"rotate("+(180+d(a))+")"}).style("fill","none").attr("stroke-width",4).attr("stroke","white")},drawArc:function(b,a){var c=2*Math.PI/this.maxValue*a;this.path.datum({endAngle:2*Math.PI/this.maxValue*b}).transition().ease("elastic",1,2).duration(200).call(function(a,b,c){a.attrTween("d",function(a){var d=
l.interpolate(a.endAngle,b);return function(b){a.endAngle=d(b);return c(a)}})},c,this.arc)},updateLabel:function(){f.toggle(this.maxLabel,"hide",this.value<this.maxValue);var b=this;l.select(this.valueLabel).transition().duration(200).tween("text",function(){var a=l.select(this),c=l.interpolate(a.text(),b.value);return function(b){a.text(Math.round(c(b)))}})},updateZeroLabel:function(){f.toggle(this.maxZeroLabel,"hide",0<this.value)},postCreate:function(){this.render();this.watch("value",k.hitch(this,
function(b,a,c){this.drawArc(a,c);this.updateLabel();this.updateZeroLabel()}))}})})},"mojo/widgets/SegmentDropdown":function(){define("dojo/_base/declare dojo/_base/lang dijit/_Widget dijit/_Templated dojo/text!./templates/segmentsDropdown.html dojo/request dojox/html/entities dojo/dom-construct dojo/dom-class mojo/url".split(" "),function(h,k,d,g,b,c,f,l,e,a){return h([d,g],{templateString:b,firstOption:null,nameAttribute:"segment_id",labels:{advanced:"Advanced",saved:"Auto-Update","static":"Static",
fuzzy:"Fuzzy",contacts:"Contacts"},load:function(b){this.listId=b;c.get(a.toUrl("/lists/segments/saved"),{handleAs:"json",query:{id:b}}).then(k.hitch(this,function(a){this._update(a,b)}))},_getGroupLabel:function(a){return this.labels[a]||a},_update:function(b,c){l.empty(this.segmentSelect);if(this.firstOption){var d=l.create("option",{value:"",innerHTML:this.firstOption});l.place(d,this.segmentSelect)}var d=!1,g;for(g in b){var h=b[g];if(Object.keys(h).length){var d=!0,k=l.create("optgroup",{label:this._getGroupLabel(g)}),
s;for(s in h){var v=f.encode(h[s]),w=g+":"+s,v=l.create("option",{value:w,innerHTML:v});v.selected=this.selected==w;l.place(v,k)}l.place(k,this.segmentSelect)}}d?(e.remove(this.segmentSelect,"hide"),e.add(this.noSegments,"hide")):(this.createSegment.href=a.toUrl("/lists/members",{id:c,open_segment:1}),e.remove(this.noSegments,"hide"),e.add(this.segmentSelect,"hide"))},postCreate:function(){this.segmentSelect.name=this.nameAttribute;this.listId&&this.load(this.listId)}})})},"mojo/widgets/SimpleViewAdapter":function(){define("dojo/_base/declare dojo/_base/lang dojo/parser dijit/registry mojo/widgets/_ViewAdapterBase dojo/query dojo/dom-construct dojo/NodeList-traverse".split(" "),
function(h,k,d,g,b,c,f){return h([b],{placeHolder:null,constructor:function(b){var d=this.placeHolder=f.create("div");c(b).children().forEach(function(a){g.findWidgets(a).forEach(function(a){a.destroy(!0)});f.place(a,d)})},createView:function(b){b=k.clone(c(this.placeHolder).children()[b]);d.parse(b);return b},getCount:function(){return c(this.placeHolder).length},destroy:function(){f.destroy(this.placeHolder)}})})},"mojo/widgets/_ViewAdapterBase":function(){define(["dojo/_base/declare"],function(h){return h([],
{createView:function(h){},destroyView:function(h){},getCount:function(){return 0},destroy:function(){}})})},"mojo/widgets/SliderGroup":function(){define(["dojo/_base/declare","dojo/on","dojo/_base/lang","dojo/_base/array"],function(h,k,d,g){return h([],{sliders:[],maxValue:10,minValue:1,constructor:function(b){d.mixin(this,b);g.forEach(this.sliders,d.hitch(this,"addSlider"))},addSlider:function(b){-1===g.indexOf(this.sliders,b)&&this.sliders.push(b);k(b,"change",d.hitch(this,"_updateProgress",b))},
_updateProgress:function(b){g.forEach(this.sliders,d.hitch(this,function(b){var d=this._getPotential(b),g=this._getTotal();b.set("potential",d);b.set("total",g)}))},_getTotal:function(){var b=1;g.forEach(this.sliders,function(c){b*=c.value});return b},_getPotential:function(b){var c=this.maxValue;g.forEach(this.sliders,function(d){b!=d&&(c=Math.floor(c/d.value))});return c}})})},"mojo/widgets/SliderWithLabel":function(){define(["dojo/_base/declare","dijit/form/HorizontalSlider","dojo/dom-construct",
"dojo/dom"],function(h,k,d,g){return h([k],{sliderLabelHtml:'\x3cdiv role\x3d"presentation" aria-hidden\x3d"true" data-mc-el\x3d"sliderValueLabel" class\x3d"slider-label alignc relative inline-block fwb small-meta border-radius--lv1"\x3e\x3c/div\x3e',postCreate:function(){this.inherited(arguments);this.sliderLabel=d.place(this.sliderLabelHtml,this.sliderComponents,"last");this.sliderLabel.innerHTML=this.value},_mouseWheeled:function(){}})})},"mojo/widgets/SubscriberTableOverlay":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin mojo/widgets/_Overlay dojo/text!./templates/SubscriberTableOverlay.html dojo/on dojo/dom-attr dojo/_base/lang dojo/dom-construct mojo/url mojo/segmentation/api mojo/analytics/VisTableListMembers mojo/analytics/VisQuery mojo/google/Grid mojo/google/Query".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q){var r=null,s=h([k,d,g],{overlayClass:"subscriber-table-overlay",templateString:b,showPagination:!0,persistTableSettings:!0,postMixInProperties:function(){r||(r=this)},postCreate:function(){c(this.closeButton,"click",l.hitch(this,function(a){window.history.back()}));c(window,"popstate",l.hitch(this,function(a){a.stopPropagation();a.preventDefault();this.hide()}))},load:function(b,c,d,e){window.history.pushState(null,null,window.location.pathname+window.location.search+
"#overlay");l.mixin(this,d);c={list_id:b,type:e,ast:JSON.stringify(c)};this._createMemberTable(b,a.toUrl("/pro/segments/popup-data"),c,{sortable:!1});this.show()},loadRegular:function(b,c,d){window.history.pushState(null,null,window.location.pathname+window.location.search+"#overlay");l.mixin(this,d);c={id:c,lid:b};this._createMemberTable(b,a.toUrl("/campaigns/segments/popup-data"),c,{sortable:!1});this._loadDescription(c);this.show()},_createMemberTable:function(a,b,c,d){m.getSubscribersVisGridQuery(a).then(l.hitch(this,
function(a){this.membersTable=new n({query:new p(b,a,c),pageSize:100,options:d,showPagination:this.showPagination,persistTableSettings:this.persistTableSettings});this.membersTable.placeAt(this.memberGridContainer)}))},_loadDescription:function(a){m.getSubcribersDescriptionQuery(a).then(l.hitch(this,function(a){this._setMemberDescription(a)}))},_setMemberDescription:function(a){this.memberDescriptionContainer.innerHTML=a},onShow:function(){},onHide:function(){this.membersTable.destroy();this._setMemberDescription("")}});
return{main:function(){r||(r=new s,r.placeAt(document.body));return r}}})},"mojo/segmentation/api":function(){define(["dojo/Deferred","dojo/request","mojo/url"],function(h,k,d){var g={};return{getConfig:function(b,c){var f=b+":"+c,h=g[f];if(!h||h.isRejected())h=k.get(d.toUrl("/lists/segments/config"),{handleAs:"json",query:{id:b,type:c}}),g[f]=h;return g[f]},getSubscribersVisGridQuery:function(b){return k.get(d.toUrl("/lists/segments/get-subscribers-vis-grid-query"),{handleAs:"json",query:{id:b}})},
getSubcribersDescriptionQuery:function(b){return k.get(d.toUrl("/campaigns/segments/popup-description"),{handleAs:"html",query:b})}}})},"mojo/analytics/VisTableListMembers":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/_base/window dojo/window dojo/dom dojo/dom-construct dojo/dom-class dojo/dom-attr dojo/html dojo/on dojo/store/Memory dojo/store/Observable dojo/text!./templates/listMembersTable.html dojo/parser ./VisTable ./parts/VisRowSelector ./_SelectableMixin dojox/mvc/sync dojox/html/entities dojo/query dojo/topic dojo/dom-geometry dojo/dom-style dijit/registry mojo/utils mojo/widgets/CircularLoader dojo/sniff dojo/NodeList-traverse".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s,v,w,u,y,x,A,C,D,E,G,H){return h([r,v],{templateString:t,canSelectAll:!0,dateRows:0,constructor:function(){this._syncs=[];this._queries={}},postMixInProperties:function(){this.queryFilters&&this.selectedQueryFilter&&(this.query.query=this.queryFilters[this.selectedQueryFilter]);this._queries.regular=this.query;this.segmentQuery&&(this._queries.segment=this.segmentQuery);this._toggleQuery();this.inherited(arguments)},postCreate:function(){this.dataRows=0;this.inherited(arguments);
this.watch("selectedQueryFilter",d.hitch(this,function(){this._updateActiveValue();this.query.query=this.queryFilters[this.selectedQueryFilter];this.set("page",1);this.requery()}));this._updateActiveValue();this.watch("segment",d.hitch(this,function(){var a=this.segment;a&&"started"==a.status?this.showLoader():(this._toggleQuery(),this.requery())}));this.instantiateFloatingHeader();this.loader=new G({color:"#6dc5dc",bgColor:"#d0d0d0"});this.loader.startup();this.loader.placeAt(this.loaderDom)},requery:function(){this.queryFilters&&
this.selectedQueryFilter&&(this.query.query=this.queryFilters[this.selectedQueryFilter]);this.refresh(!0)},refresh:function(a,b){var c=this;if(this.refreshing)return!1;this.refreshing=!0;c.showLoader();return this.query.getCount().then(d.hitch(this,function(b){this.set("total",b);this.total?(this._toggleNoData(!1),this._getData(a).then(function(){c.refreshing=!1;c.hideLoader();var a=A.docScroll().y;E.getAppScrollContainer();a>c.topPosition&&y(".table-pagination")[0].scrollIntoView()})):(this.refreshing=
!1,this._toggleNoData(!0),x.publish("mojo/analytics/"+c.id+"/ready"))}))},showLoader:function(){l.add(this.subscriberTableOverlay,"loading")},hideLoader:function(){l.remove(this.subscriberTableOverlay,"loading")},getActiveValue:function(){var a;switch(this.selectedQueryFilter){case "bounced":a="B";break;case "unsub":a="N";break;default:a="Y"}return a},clearSelectionModel:function(a){for(var b in this.selected)if(this.selected.hasOwnProperty(b)&&this._validValue(b)&&(a||!this._valueSelected(b)))this.selected.set(b,
!1),delete this.selected[b]},_updateActiveValue:function(){for(var a in this._queries)this._queries.hasOwnProperty(a)&&(this._queries[a].urlParams.active=this.getActiveValue())},_toggleQuery:function(){this.segment?(this.query=this._queries.segment,this.set("canSelectAll",!1)):(this.query=this._queries.regular,this.set("canSelectAll",!0))},_toggleNoData:function(a){var b;b=this.options.noMembersMsg&&!this.segment&&"active"==this.selectedQueryFilter?this.options.noMembersMsg:this.noDataMsg;a?(l.add(this.dataTable,
"hide"),l.remove(this.noData,"hide"),f.place("\x3cdiv\x3e"+b+"\x3c/div\x3e",this.noData,"only")):(l.remove(this.dataTable,"hide"),l.add(this.noData,"hide"))},_getData:function(a){var b=this;this.persistSettings();b._removeState(a);return this.query.getData(this.page,this.pageSize).then(function(c){b.dataRows=c.rows.length;if(0===b.dataRows)b.set("total",b.dataRows),b._toggleNoData(!0),l.add("hide",y(".subscriber-table-wrap")[0]);else{b.store=new p(new n({data:c.rows}));x.publish("mojo/analytics/"+
b.id+"/ready");f.empty(b.accessibleTableHeader);f.empty(b.accessibleTable);var g=[],h=f.create("tr");k.forEach(c.headers,function(a){var c;switch(a.id){case "bulk_check":c=f.create("td",{"class":"col-head row-head row-select",role:"columnheader",innerHTML:a.label},h);5<b.dataRows&&f.create("div",{"class":"vis-row-selector"},c);break;case "email_link":case "view_activity_link":c=f.create("td",{"class":"col-head row-head",role:"columnheader",innerHTML:a.label},h);break;case "list_email_id":break;default:c=
f.create("td",{"class":"col-head",role:"columnheader",innerHTML:a.label},h)}b._fieldIsSortableCheck(a.id)&&(e.set(c,"data-mojo-table-sort",a.id),l.add(c,"sortable"),b.sortAttr===a.id&&b.addSortClass(c))});"bulk_check"!==c.headers[0].id?(l.add(b.accessibleTableHeader,"no-checkbox"),l.add(b.accessibleTable,"no-checkbox"),this.noCheckbox=!0):(l.remove(b.accessibleTableHeader,"no-checkbox"),l.remove(b.accessibleTable,"no-checkbox"),this.noCheckbox=!1);1===c.headers.length&&(l.add(b.accessibleTableHeader,
"email-only"),l.add(b.accessibleTable,"email-only"));k.forEach(c.rows,function(a){var d=f.create("tr"),e,h,l;h=0;var m=/^interests/;for(e in a)if(a.hasOwnProperty(e))switch(e){case "email_link":case "view_activity_link":l=f.create("td",{"class":"row-head",title:"View Profile"});emailDiv=f.create("div",{"class":"profile-view",innerHTML:a[e]},l);f.place(emailDiv,l);f.place(l,d);h++;break;case "bulk_check":l=f.toDom(a.email_link);f.create("td",{"class":"row-head profile-select",innerHTML:a[e],title:"Email address: "+
l.innerHTML},d);h++;break;case "rating":f.create("td",{innerHTML:a[e],title:"Member Rating"},d);h++;break;default:0>k.indexOf(b.options.blacklist,e)&&("string"==typeof a[e]&&-1!=a[e].indexOf("\x3cbr")?(l=f.create("td",{title:c.headers[h].label},d),f.create("div",{"class":"address",innerHTML:a[e]},l)):e.match(m)?f.create("td",{innerHTML:u.encode(a[e]),title:c.headers[h].label},d):f.create("td",{innerHTML:a[e],title:c.headers[h].label},d)),h++}g.push(d)});5<b.dataRows?(f.place(h,b.accessibleTableHeader),
l.remove(y(".fixed-header")[0],"hide"),l.remove(y(".table-body")[0],"few-rows")):(f.place(h,b.accessibleTable),l.add(y(".fixed-header")[0],"hide"),l.add(y(".table-body")[0],"few-rows"));k.forEach(g,function(a){f.place(a,b.accessibleTable)});q.parse(b.accessibleTable);b.resize();b.rowSelector&&b.rowSelector.destroyRecursive();b.rowSelector=new s({target:b,canSelectAll:b.canSelectAll},y(".vis-row-selector",b.accessibleTableHeader)[0]);b.rowSelector=new s({target:b,canSelectAll:b.canSelectAll},y(".vis-row-selector",
b.accessibleTable)[0]);y(".selectCheckBox",this.domNode).forEach(d.hitch(this,function(c){c=D.byNode(c);!a&&(!0==b.selected[c.value]||!0==b.allAll)?(c.set("checked",!0),b.selected[c.value]=!0):b.selected[c.value]=!1;b._syncs.push(w(b.selected,c.value,c,"checked"))}))}})},setTopPosition:function(){var a=E.getTabletNaviHeight();this.topPosition=1024>=window.innerWidth?A.position(y(".st")[0],!0).y-a:A.position(y(".st")[0],!0).y},resize:function(){var a=0;if(5<this.dataRows){var b=y("td",y(".table-header tr")[0]),
c=y("td",y(".table-contents tr")[0]),d=b.map(function(a){return a.clientWidth});d.reduce(function(a,b){return a+b});var e=c.map(function(a){return a.clientWidth});e.reduce(function(a,b){return a+b});k.forEach(b,function(a,b){var c=Math.max(e[b],d[b]);a.style.width=c+"px";a.style.minWidth=c+"px"});k.forEach(c,function(f,g){var h=Math.max(d[g],e[g]);f.style.width=h+"px";f.style.minWidth=h+"px";if(g===c.length-1){var l=y(".table-body")[0],k=y(".table-contents")[0];a=l.clientWidth-k.clientWidth-h;a>h?
(f.style.width="100%",b[g].style.width="100%"):f.style.width=h+"px"}})}else{var c=y("td",y(".table-contents tr")[0]),f=y(".table-body")[0],g=y(".table-contents")[0],h=c[c.length-1],a=f.clientWidth-g.clientWidth-h.clientWidth;0<a&&(h.style.width="100%")}},instantiateSort:function(){var a=this;m(a.domNode,".sortable:click",function(){if(!a.refreshing){var b=a.sortAttr;a.sortAttr=e.get(this,"data-mojo-table-sort");a._fieldIsSortableCheck(a.sortAttr)&&(a.sortOrder=b!=a.sortAttr?!0:!a.sortOrder,a.performSort(a.sortAttr,
a.sortOrder),a.addSortClass(this))}})},instantiateFloatingHeader:function(){var a=this,b=0;m(window,"resize",function(){var c=y("td",y(".table-header tr")[0]),d=y("td",y(".table-contents tr")[0]),e=y(".table-body")[0],f=y(".table-contents")[0];d[d.length-1].style.width=0;c[c.length-1].style.width=0;var g=Math.max(c[c.length-1].clientWidth,d[d.length-1].clientWidth);b=e.clientWidth-f.clientWidth-g;H("chrome")&&(b-=6);b>g?(c[c.length-1].style.width=b+"px",d[d.length-1].style.width=b+"px"):(c[c.length-
1].style.width=g+"px",d[d.length-1].style.width=g+"px");a.stickyHeader()});m(window,"scroll",function(){a.stickyHeader()});a.scrollCache=0;m(a.accessibleTableBody,"scroll",function(){this.scrollLeft!==a.scrollCache&&(a.accessibleTableHeaderBody.scrollLeft=this.scrollLeft,a.scrollCache=this.scrollLeft)});a.accessibleTableHeaderBody&&m(a.accessibleTableHeaderBody,"scroll",function(){this.scrollLeft!==a.scrollCache&&(a.accessibleTableBody.scrollLeft=this.scrollLeft,a.scrollCache=this.scrollLeft)})},
stickyHeader:function(){var a=y(".subscriber-table")[0],b=y(".main")[0],c=y(".content")[0],d=y(".fixed-header")[0],a=A.position(a);a.h&&(b=b?A.position(b):A.position(c),60>a.y&&d?(l.add(d,"sticky"),d.style.top=1024>=window.innerWidth?-1*b.y+60+"px":"60px"):(d.style.top=0,l.remove(d,"sticky")))},_fieldIsSortableCheck:function(a){return 0<=k.indexOf(this.query.query.sortable,a)||0<=k.indexOf(this.options.sortable,a)},_removeState:function(a){k.forEach(this._syncs,"item.remove();");this._syncs=[];this.clearSelectionModel(a)}})})},
"dojo/store/Observable":function(){define(["../_base/kernel","../_base/lang","../when","../_base/array"],function(h,k,d,g){h=function(b){function c(c,e){var f=b[c];f&&(b[c]=function(g){var h;"put"===c&&(h=b.getIdentity(g));if(a)return f.apply(this,arguments);a=!0;try{var l=f.apply(this,arguments);d(l,function(a){e("object"==typeof a&&a||g,h)});return l}finally{a=!1}})}var f=[],h=0;b=k.delegate(b);b.notify=function(a,b){h++;for(var c=f.slice(),d=0,e=c.length;d<e;d++)c[d](a,b)};var e=b.query;b.query=
function(a,c){c=c||{};var p=e.apply(this,arguments);if(p&&p.forEach){var t=k.mixin({},c);delete t.start;delete t.count;var q=b.queryEngine&&b.queryEngine(a,t),r=h,s=[],v;p.observe=function(a,e){1==s.push(a)&&f.push(v=function(a,f){d(p,function(d){var k=d.length!=c.count,m,p;if(++r!=h)throw Error("Query is out of date, you must observe() the query prior to any data modifications");var t,v=-1,w=-1;if(void 0!==f){m=0;for(p=d.length;m<p;m++){var y=d[m];if(b.getIdentity(y)==f){t=y;v=m;(q||!a)&&d.splice(m,
1);break}}}if(q){if(a&&(q.matches?q.matches(a):q([a]).length))m=-1<v?v:d.length,d.splice(m,0,a),w=g.indexOf(q(d),a),d.splice(m,1),c.start&&0==w||!k&&w==d.length?w=-1:d.splice(w,0,a)}else a&&(void 0!==f?w=v:c.start||(w=b.defaultIndex||0,d.splice(w,0,a)));if((-1<v||-1<w)&&(e||!q||v!=w)){k=s.slice();for(m=0;d=k[m];m++)d(a||t,v,w)}})});var k={};k.remove=k.cancel=function(){var b=g.indexOf(s,a);-1<b&&(s.splice(b,1),s.length||f.splice(g.indexOf(f,v),1))};return k}}return p};var a;c("put",function(a,c){b.notify(a,
c)});c("add",function(a){b.notify(a)});c("remove",function(a){b.notify(void 0,a)});return b};k.setObject("dojo.store.Observable",h);return h})},"mojo/analytics/VisTable":function(){define("dojo/_base/declare dijit/_Widget dijit/_Templated dojo/_base/lang dojo/dom dojo/_base/array dojo/dom-construct dojo/on dojo/dom-attr dojo/dom-class dojo/store/Memory dojo/store/Observable dojo/topic dojo/hash dojo/query mojo/user dojo/text!./templates/table.html dojo/text!./templates/noData.html ./parts/Paging ./parts/PageSizeSelect".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s,v,w,u){var y={allowHtml:!0,pageSize:r.settings.pageSize,sort:"query"};return h([k,d],{templateString:s,showPagination:!0,persistTableSettings:!0,page:1,constructor:function(){this.store=new n(new m)},postMixInProperties:function(){this.options=g.mixin({},y,this.options);this.reloadNoDataMsg();this.setDefaults()},reloadNoDataMsg:function(){var a="egg";if(this.srcNodeRef){var b=e.get(this.srcNodeRef,"data-mojo-nodataicon");b&&(a=b)}this.noDataMsg=this.options.noDataDom?
q(this.options.noDataDom).html():this.options.noDataMsg||g.replace(v,{icon:a})},setDefaults:function(){if(this.persistTableSettings){var a=t();a&&(a=a.split("-"))&&a.length&&c.forEach(a,g.hitch(this,function(a){a=a.split(":");switch(a[0]){case "p":this.page=parseInt(a[1],10);break;case "s":this.pageSize=parseInt(a[1],10);break;case "sa":this.sortAttr=a[1];break;case "so":this.sortOrder="true"==a[1]}}));0>=this.page&&(this.page=1);100<this.pageSize&&(this.pageSize=100);this.pageSize||(this.pageSize=
this.options.pageSize);this.pageSize||(this.pageSize=25);"undefined"!==typeof this.sortAttr&&(a=this.sortOrder,"undefined"==typeof this.sortOrder&&(a=!1),this.query.setSort(this.sortAttr,a))}},persistSettings:function(){if(this.persistTableSettings){var a=[];a.push("p:"+this.page);a.push("s:"+this.pageSize);this.sortAttr&&a.push("sa:"+this.sortAttr);"undefined"!==typeof this.sortOrder&&a.push("so:"+this.sortOrder);t(a.join("-"),!0);r.saveSetting("vis_grid_page_size",this.pageSize)}},postCreate:function(){this.showPagination&&
(this.topPaging&&(this.topPaging=new w({target:this},this.topPaging)),this.topPageSizeSelect&&(this.topPageSizeSelect=new u({target:this},this.topPageSizeSelect)),this.bottomPaging&&(this.bottomPaging=new w({target:this},this.bottomPaging)),this.bottomPageSizeSelect&&(this.bottomPageSizeSelect=new u({target:this},this.bottomPageSizeSelect)));this.instantiateSort();this.watch("page",g.hitch(this,function(){this.refresh(!1,!0)}));this.watch("pageSize",g.hitch(this,function(){1==this.page?this.refresh():
this.set("page",1)}));this.options.wait||this.refresh()},instantiateSort:function(){var a=this;l(this.domNode,"th:click",function(){var b=a.sortAttr;a.sortAttr=e.get(this,"data-mojo-table-sort");if(null===a.sortable||0<=c.indexOf(a.options.sortable,a.sortAttr))a.sortOrder=b!=a.sortAttr?!0:!a.sortOrder,a.performSort(a.sortAttr,a.sortOrder),a.addSortClass(this)})},performSort:function(a,b){var d=this;"client"==this.options.sort?(f.empty(this.body),this.store.query({},{sort:[{attribute:a,descending:!b}]}).forEach(function(a){var b=
f.place("\x3ctr\x3e\x3c/tr\x3e",d.body);c.forEach(d.headers,function(c){f.place("\x3ctd\x3e"+a[c]+"\x3c/td\x3e",b)})})):"query"==this.options.sort&&(this.query.setSort(a,b),this.refresh(!1,!0))},addSortClass:function(b){q("th, .h-head").removeClass("sort-a sort-d sorted");a.add(b,this.sortOrder?"sort-a sorted":"sort-d sorted")},refresh:function(){this.refreshing=!0;this.total||this.query.getCount().then(g.hitch(this,function(a){this.set("total",a);this.total||f.place("\x3cdiv\x3e"+this.noDataMsg+
"\x3c/div\x3e",this.domNode,"only")}));var b=this;this.persistSettings();return this.query.getData(this.page,this.pageSize).then(function(d){b.headers||(b.headers=[],c.forEach(d.headers,function(d){if(!(0<=c.indexOf(b.options.blacklist,d.id))){b.headers.push(d.id);var g=f.place("\x3cth\x3e\x3cspan\x3e"+d.label+"\x3c/span\x3e\x3c/th\x3e",b.header);if(0<=c.indexOf(b.query.query.sortable,d.id)||0<=c.indexOf(b.options.sortable,d.id))e.set(g,"data-mojo-table-sort",d.id),a.add(g,"sortable"),b.sortAttr==
d.id&&b.addSortClass(g)}}));b.store=new n(new m({data:d.rows}));f.empty(b.body);c.forEach(d.rows,function(a){var d=f.place("\x3ctr\x3e\x3c/tr\x3e",b.body);c.forEach(b.headers,function(b){f.place("\x3ctd\x3e"+a[b]+"\x3c/td\x3e",d)})});p.publish("mojo/analytics/VisTable/"+b.id,b);b.refreshing=!1})}})})},"mojo/analytics/parts/Paging":function(){define("dojo/_base/declare ./_Part dijit/_Templated dojo/_base/lang dojo/number dojo/on dojox/mvc/sync dojo/dom-style dojo/dom-class dijit/form/Select dijit/registry dojo/topic dojo/query dojo/text!./templates/paging.html".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t){return h([k,d],{templateString:t,minTotalSize:10,container:null,init:function(){f(this.target,"total",this,"total");f(this.target,"page",this,"page");f(this.target,"pageSize",this,"pageSize");this.updateAll();var a=this;c(this.prevButton,"click",function(){if(!a.target.refreshing){var b=parseInt(a.get("page"),10)-1;0>=b&&(b=1);a.set("page",b);a.scrollToTop()}});c(this.nextButton,"click",function(){if(!a.target.refreshing){var b=parseInt(a.get("page"),10)+1;a.set("page",
b);a.scrollToTop()}});this.watch("page",g.hitch(this,"_updatePages"));this.watch("pageSize",g.hitch(this,"_updatePages"));this.watch("total",g.hitch(this,"updateAll"))},scrollToTop:function(){if(this.container){var a=p("#"+this.container)[0];a&&(a.scrollTop=0)}},updateAll:function(){this._updatePages();this._updateTotalPages()},_updatePages:function(){var a=parseInt(this.pageSize),b=parseInt((this.page-1)*a,10)+1,a=b+a-1;this.startLabel.innerHTML=b;this.endLabel.innerHTML=a<this.total?a:this.total;
l.set(this.prevButton,"display",1<this.page?"inline":"none");l.set(this.nextButton,"display",a<this.total?"inline":"none")},_updateTotalPages:function(){this.totalPagesLabel.innerHTML=b.format(this.total,{pattern:"#,###"})},canDisplay:function(){return this.inherited(arguments)&&this.target.total>this.minTotalSize}})})},"mojo/analytics/parts/PageSizeSelect":function(){define("dojo/_base/declare ./_Part dijit/_Templated dojo/_base/array dojox/mvc/sync dijit/form/Select dojo/text!./templates/pageSizeSelect.html".split(" "),
function(h,k,d,g,b,c,f){var l=[10,25,50,100];return h([k,d],{templateString:f,init:function(){this.pageOptions=new c({"class":"!margin--lv0 select-small valign-middle",options:g.map(l,function(b){return{label:String(b),value:String(b)}})},this.pageOptions);b(this.target,"pageSize",this.pageOptions,"value",{parse:function(b){return parseInt(b,10)}})},canDisplay:function(){return this.inherited(arguments)&&this.target.total>l[0]}})})},"mojo/analytics/parts/VisRowSelector":function(){define("dojo/_base/declare dijit/_Templated dojo/_base/lang dojo/dom dojo/_base/array dojo/dom-construct dojo/dom-class dojo/on dojo/dom-attr dojo/text!./templates/visRowSelector.html dojo/query mojo/hoverlist ./_Part dojo/NodeList-traverse".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p){return h([p,k],{templateString:a,init:function(){this.canSelectAll||f.add(this.selectAll.parentNode,"hide");n.convert(m("ul",this.domNode)[0]);this.target.allAll&&(f.remove(this.deselectAll.parentNode,"hide"),f.add(this.selectAll,"active"),f.remove(this.selectVisible,"active"));for(box in this.target.selected)if(!0===this.target.selected[box]){f.remove(this.deselectAll.parentNode,"hide");break}this.connect(this.selectAll,"click",d.hitch(this,function(){this.target.toggleAll(!0);
this.target.allAll=!0;f.add(this.selectAll,"active");f.remove(this.selectVisible,"active")}));this.connect(this.selectVisible,"click",d.hitch(this,function(){this.target.toggleAll(!0);this.target.allAll=!1;f.remove(this.selectAll,"active");f.add(this.selectVisible,"active")}));this.connect(this.deselectAll,"click",d.hitch(this,function(){this.target.toggleAll(!1);this.target.allAll=!1}));this._watches.push(this.target.selected.watch(d.hitch(this,function(){this.target.isAllSelected()?this.target.allAll||
f.add(this.selectVisible,"active"):(f.remove(this.selectAll,"active"),f.remove(this.selectVisible,"active"));!this.target.isAllSelected()&&this.target.allAll&&(this.target.allAll=!1);this.deselectAll&&this.deselectAll.parentNode&&f.toggle(this.deselectAll.parentNode,"hide",0==this.target.getSelection().length)})))}})})},"mojo/analytics/VisQuery":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/Deferred"],function(h,k,d,g){return h([],{constructor:function(b,c,d){this.url=
b;this.query=k.mixin({},c);this.urlParams=k.mixin({},d)},setSort:function(b,c){this.query.orderby=b;this.query.ascending=c;return this},resetSort:function(){this.query.orderby=null;this.query.ascending=null;return this},getCount:function(){var b=new g,c="select "+this.query.select_count;this.query.from&&(c+=" from "+this.query.from);this.query.where?(c+=" where ("+this.query.where+")",this.query.filter&&(c+=" and ("+this.query.filter+")")):this.query.filter&&(c+=" where "+this.query.filter);this.query.groupby&&
(c+=" group by "+this.query.groupby);this.query.pivot&&(c+=" pivot "+this.query.pivot);this._send(c).then(function(c){"success"==c.status?(c=parseInt(c.data[0][0].v),b.resolve(c)):b.reject("Couldn't get count")});return b},getData:function(b,c){var f=new g;b||(b=1);c||(c=25);this._send(this._buildQuery(this.query,b,c)).then(function(b){var c={headers:[]};d.forEach(b.meta,function(a){c.headers.push({id:a.id,label:a.label})});c.rows=[];d.forEach(b.data,function(a){var b={};d.forEach(a,function(a,d){b[c.headers[d].id]=
a.f?a.f:a.v});c.rows.push(b)});f.resolve(c)});return f},_send:function(b){var c="",c=(new Date).getTime(),c=-1==this.url.indexOf("?")?this.url+"?_cbt\x3d"+c:this.url+"\x26_cbt\x3d"+c;return dojo.xhrPost({url:c,content:k.mixin(this.urlParams,{q:b}),handleAs:"json"})},_buildQuery:function(b,c,d){var g="";b.select&&(g+="select "+b.select);b.from&&(g+=" from "+b.from);b.where?(g+=" where ("+b.where+")",b.filter&&(g+=" and ("+b.filter+")")):b.filter&&(g+=" where "+b.filter);b.groupby&&(g+=" group by "+
b.groupby);b.pivot&&(g+=" pivot "+b.pivot);b.orderby?(g+=" order by ",b.filter_orderby&&(g+=b.filter_orderby+", "),b.orderby=b.orderby.toLowerCase(),b.orderby.match("desc")?(b.orderby=k.trim(b.orderby.replace("desc","")),b.ascending=!1):b.orderby.toLowerCase().match("asc")&&(b.orderby=k.trim(b.orderby.replace("asc","")),b.ascending=!0),g+=b.orderby,b.ascending||(g+=" desc")):b.filter_orderby&&(g+="order by "+b.filter_orderby);g+=" limit "+d+" offset "+(c-1)*d;b.label&&(g+=" label "+b.label);b.format&&
(g+=" format "+b.format);return g}})})},"mojo/widgets/Switch":function(){define(["dojo/_base/declare","dijit/form/CheckBox","dojo/text!./templates/Switch.html"],function(h,k,d){return h([k],{templateString:d,baseClass:"switchWrapper",sizeClass:"",description:""})})},"mojo/widgets/ThumbnailPreview":function(){define(["dojo/_base/declare","dojo/dom-class","dijit/_WidgetBase","dijit/_TemplatedMixin","dojo/text!./templates/ThumbnailPreview.html"],function(h,k,d,g,b){return h([d,g],{templateString:b,imageUrl:null,
borderStyle:"dashed",_setBorderStyleAttr:function(b){this.borderStyle=b;k.toggle(this.domNode,"border-dashed","dashed"===this.borderStyle)}})})},"mojo/widgets/Tooltip":function(){define("dojo/_base/declare dijit/_Widget dijit/_AttachMixin dijit/_FocusMixin dojo/on dojo/keys dojo/mouse dojo/dom-attr dojo/dom-class dojo/dom-style dojo/dom-construct".split(" "),function(h,k,d,g,b,c,f,l,e,a,m){return h([k,d],{enableMouseEvents:!1,tooltipArrow:"v-tooltipTarget--",tooltipClass:"c-tooltip--",tooltipType:"default",
setupEscEvent:function(){var a=this;b(this.domNode,"keyup",function(b){b.stopPropagation();(b.charCode||b.keyCode)===c.ESCAPE&&a.domNode.blur()})},setupMouseEvents:function(){var a=this;b(this.domNode,f.enter,function(){a.domNode.focus()});b(this.domNode,f.leave,function(){a.domNode.blur()})},showTooltip:function(){a.set(this.tooltip,"display","block");e.add(this.domNode,this.tooltipArrow+this.tooltipType)},hideTooltip:function(){a.set(this.tooltip,"display","none");e.remove(this.domNode,this.tooltipArrow+
this.tooltipType)},_onFocus:function(){this.showTooltip()},_onBlur:function(){this.hideTooltip()},postCreate:function(){this.tooltip.innerHTML=l.get(this.domNode,"data-tooltip-text")||"";l.set(this.domNode,"tabindex","0");l.set(this.domNode,"aria-describedby",this.tooltip.innerHTML);e.add(this.tooltip,this.tooltipClass+this.tooltipType);"default"===this.tooltipType&&(a.set(this.domNode,"cursor","help"),m.place("\x3cspan data-dojo-attach-point\x3d'tooltipTriggerText'\x3e"+this.tooltipTriggerText.innerHTML+
"\x3c/span\x3e",this.tooltipTriggerText,"replace"));this.setupEscEvent();this.enableMouseEvents&&this.setupMouseEvents()}})})},"mojo/widgets/UpdateCampaignDeliveryStatus":function(){define("dojo/_base/declare dijit/_WidgetBase dojo/request/xhr mojo/url dojo/_base/lang dojo/dom-class dojo/_base/array dojo/html".split(" "),function(h,k,d,g,b,c,f,l){var e=[],a=[],m=null;return h([k],{campaignId:null,updateType:null,removeClass:null,addClass:null,newHTML:null,constructor:function(a){if(!a.campaignId)throw Error("You must specify campaignId");
if(!a.updateType)throw Error("You must specify updateType of 'replace-class' or 'replace-string'");if("replace-class"===a.updateType&&(!a.removeClass||!a.addClass))throw Error("You must specify removeClass and addClass");if("replace-string"===a.updateType&&!a.newHTML)throw Error("You must specify newHTML");},postCreate:function(){-1===e.indexOf(this.id)&&e.push(this.id);-1===a.indexOf(this.campaignId)&&a.push(this.campaignId);null===m&&(m=setTimeout(b.hitch(this,this.checkInProgressCampaigns),0))},
checkInProgressCampaigns:function(){d.get(g.toUrl("campaigns/get-send-confirmed-campaigns"),{handleAs:"json",query:{"ids[]":a}}).then(b.hitch(this,"updateCampaigns"))},updateCampaigns:function(b){f.forEach(e,function(a){a=dijit.byId(a);-1!=b.indexOf(a.campaignId)&&("replace-class"===a.updateType&&c.replace(a.domNode,a.addClass,a.removeClass),"replace-string"===a.updateType&&l.set(a.domNode,a.newHTML))});e=[];a=[];m=null}})})},"mojo/widgets/VariateDelayInput":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./templates/variateDelayInput.html dojo/_base/lang dojo/query dojo/dom-class dojo/dom-style dojo/dom-construct dojo/on".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m){return h([k,d,g],{defaultDelay:4,defaultUnit:"hour",templateString:b,name:"",postCreate:function(){this._initInputs();this.own(m(this.unitSelect,"change",c.hitch(this,"_updateValueInput")),m(this.delayInput,"keypress",c.hitch(this,function(a){if(a.charCode&&(48>a.charCode||57<a.charCode))a.preventDefault(),a.stopPropagation()})),m(this.delayInput,"keyup",c.hitch(this,"_updateValueInput")));this._updateValueInput();e.set(this.domNode,"display","");var b=f(this.domNode).next()[0];
b&&l.contains(b,"invalid-error")&&(a.place(b,this.errorContainer),l.remove(this.errorContainer,"hide"))},_initInputs:function(){var a=this.defaultDelay,b=this.defaultUnit;if(this.value=+this.value)0===this.value%1440?(a=this.value/1440,b="day"):(a=this.value/60,b="hour");this.delayInput.value=a;this.unitSelect.set("value",b)},_updateValueInput:function(){var a=0,a=+this.delayInput.value;switch(this.unitSelect.value){case "hour":a*=60;break;case "day":a*=1440;break;default:throw Error("Unhandled unit type");
}this.valueInput.value=a;this._toggleDelayMessage()},getDelayInHours:function(){return Math.floor(+this.valueInput.value/60)},_toggleDelayMessage:function(){l.toggle(this.delayMessage,"hide",4<=this.getDelayInHours())}})})},"mojo/widgets/VariateSelector":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_Templated dojo/text!./templates/variateSelector.html dojo/on dojo/parser dojo/_base/lang dojo/dom dojo/dom-class dojo/query".split(" "),function(h,k,d,g,b,c,f,l,e,a){return h([k,d],{templateString:g,
potential:0,minimum:2,maximum:8,value:0,label:"",name:"",postMixInProperties:function(){this.potential=this.maximum},_selectVariate:function(){this.potential>=this.minimum&&(this.set("value",this.minimum),this.onChange())},_increaseVariate:function(){this.value<this.potential&&(this.set("value",this.value+1),this.onChange())},_decreaseVariate:function(){this.value>this.minimum?(this.set("value",this.value-1),this.onChange()):0!==this.value&&(this.set("value",0),this.onChange())},_displayControls:function(){0===
this.value?(this.variateControls.style.display="",e.remove(a(this.domNode).parent()[0],"mv-active")):(this.variateControls.style.display="block",e.add(a(this.domNode).parent()[0],"mv-active"),this.variateValue.innerHTML=this.value)},_onValueChange:function(){this.variateName.value=this.value;this._displayControls();e.toggle(this.variatePlus,"disabled",this.value>=this.maximum)},_onPotentialChange:function(){e.toggle(a(this.domNode).parent()[0],"mv-disabled",this.potential<this.minimum)},postCreate:function(){this.own(b(this.variateSelect,
"click",f.hitch(this,"_selectVariate")),b(this.variatePlus,"click",f.hitch(this,"_increaseVariate")),b(this.variateMinus,"click",f.hitch(this,"_decreaseVariate")));this.watch("value",f.hitch(this,"_onValueChange"));this.watch("potential",f.hitch(this,"_onPotentialChange"));this.watch("total",f.hitch(this,function(){e.toggle(this.variatePlus,"disabled",this.total>=this.maximum||this.potential===this.minimum&&6<=this.total)}));this._onValueChange();this._onPotentialChange()},onChange:function(){}})})},
"mojo/widgets/VariateSelectorGroup":function(){define(["dojo/_base/declare","dojo/on","dojo/_base/lang","dojo/_base/array","dojo/aspect"],function(h,k,d,g,b){return h([],{selectors:[],maxValue:8,minValue:1,constructor:function(b){d.mixin(this,b);g.forEach(this.selectors,d.hitch(this,"addSelector"))},addSelector:function(c){-1===g.indexOf(this.selectors,c)&&this.selectors.push(c);b.after(c,"onChange",d.hitch(this,function(){this._updateValues(c)}));this._updateValues()},_updateValues:function(b){g.forEach(this.selectors,
d.hitch(this,function(b){var c=this._getPotential(b),d=this.getTotal();b.set("potential",c);b.set("total",d)}));this.onChange(this.getTotal())},getTotal:function(){var b=1;g.forEach(this.selectors,d.hitch(this,function(d){d.value&&(b*=d.value)}));return b},_getPotential:function(b){var d=this.maxValue;g.forEach(this.selectors,function(g){b!=g&&g.value&&(d=Math.floor(d/g.value))});return d},onChange:function(b){}})})},"mojo/widgets/VariateSlider":function(){define("dojo/_base/declare mojo/widgets/SliderWithLabel dijit/form/HorizontalRule dojo/dom-construct dojo/dom-style dojo/_base/array dojo/_base/lang dojo/on".split(" "),
function(h,k,d,g,b,c,f,l){return h([k],{tickMarks:null,markContainer:null,markContainerTpl:'\x3cdiv class\x3d"dijitRuleContainer dijitRuleContainerH"\x3e\x3c/div\x3e',markTpl:'\x3cdiv class\x3d"dijitRuleMark dijitRuleMarkH" style\x3d"left:{interval}%;"\x3e\x3c/div\x3e',minimum:0,maximum:100,discreteValues:101,intermediateChanges:!0,showButtons:!1,minTestable:10,numCombinations:0,postCreate:function(){this.inherited(arguments);this.tickMarks=[];this.watch("numCombinations",f.hitch(this,"_updateTicks"));
this.own(l(this,"change",f.hitch(this,"_updateTicks")));this._updateTicks()},_setValueAttr:function(b){this.inherited(arguments,[b>=this.minTestable?b:this.minTestable])},_updateTicks:function(){var b=[];if(1<this.numCombinations)for(var a=this.value/this.numCombinations,c=1;c<this.numCombinations;c++)b.push(a*c);this._showTicks(b)},_showTicks:function(d){this.markContainer||(this.markContainer=g.place(this.markContainerTpl,this.bottomDecoration));if(d.length<this.tickMarks.length)for(var a=d.length-
1;a<this.tickMarks.length;a++)this.tickMarks[a]&&b.set(this.tickMarks[a],"display","none");c.forEach(d,f.hitch(this,function(a,c){if(this.tickMarks[c])b.set(this.tickMarks[c],{left:a+"%",display:""});else{var d=f.replace(this.markTpl,{interval:a});this.tickMarks[c]=g.place(d,this.markContainer)}}))}})})},"dijit/form/HorizontalRule":function(){define(["dojo/_base/declare","../_Widget","../_TemplatedMixin"],function(h,k,d){return h("dijit.form.HorizontalRule",[k,d],{templateString:'\x3cdiv class\x3d"dijitRuleContainer dijitRuleContainerH"\x3e\x3c/div\x3e',
count:3,container:"containerNode",ruleStyle:"",_positionPrefix:'\x3cdiv class\x3d"dijitRuleMark dijitRuleMarkH" style\x3d"left:',_positionSuffix:"%;",_suffix:'"\x3e\x3c/div\x3e',_genHTML:function(d){return this._positionPrefix+d+this._positionSuffix+this.ruleStyle+this._suffix},_isHorizontal:!0,buildRendering:function(){this.inherited(arguments);var d;if(1==this.count)d=this._genHTML(50,0);else{var b,c=100/(this.count-1);if(!this._isHorizontal||this.isLeftToRight()){d=this._genHTML(0,0);for(b=1;b<
this.count-1;b++)d+=this._genHTML(c*b,b);d+=this._genHTML(100,this.count-1)}else{d=this._genHTML(100,0);for(b=1;b<this.count-1;b++)d+=this._genHTML(100-c*b,b);d+=this._genHTML(0,this.count-1)}}this.domNode.innerHTML=d}})})},"mojo/widgets/VariateWinner":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_Templated dijit/_WidgetsInTemplateMixin dojo/text!./templates/variateWinner.html dojo/on dojo/parser dojo/_base/lang dojo/_base/array dojo/html dojo/dom-class dojo/dom-style".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n){return h([k,d,g],{templateString:b,winner:null,postCreate:function(){this.showSelection();this.own(c(this.sendBtn,"click",l.hitch(this,"onSelect")))},showSelection:function(){m.remove(this.selectionContainer,"hide");m.add(this.winnerContainer,"hide")},showWinner:function(b){b&&(m.add(this.selectionContainer,"hide"),m.remove(this.winnerContainer,"hide"),a.set(this.subject,b.subject),a.set(this.fromName,"From "+b.fromName+" \x26lt;"+b.fromEmail+"\x26gt;"),b.contentDescription&&
a.set(this.contentDescription,"\x26ldquo;"+b.contentDescription+"\x26rdquo;"),this._updateScreenshot(b.screenshotUrl),this.winner=b)},_updateScreenshot:function(a){n.set(this.screenshot,"background","url("+a+") no-repeat center top / cover #f2f2f2")},onSelect:function(){}})})},"mojo/widgets/ViewSwitcher":function(){define("dojo/_base/declare dojo/_base/lang dijit/registry dijit/_WidgetBase dojo/dom-construct dojo/dom-class dojo/dom-style dojo/Deferred mojo/widgets/SimpleViewAdapter velocity/velocity".split(" "),
function(h,k,d,g,b,c,f,l,e,a){return h([g],{transitionMap:{fade:function(b,d){var e=new l;f.set(d,{position:"absolute",top:0,width:"100%"});c.remove(d,"hide");a(d,"fadeIn",{duration:225,complete:function(){f.set(d,{position:"relative",top:"",width:""});e.resolve()}});a(b,"fadeOut",{duration:225,complete:function(){c.add(b,"hide")}});return e.promise},slide:function(b,d,e,g){var h=new l;f.set(d,{position:"absolute",transform:e>g?"translateX(-100%)":"translateX(100%)",width:"100%"});c.remove(d,"hide");
e>g?(e={translateX:["0%","-100%"]},g={translateX:["100%"]}):(e={translateX:["0%","100%"]},g={translateX:["-100%"]});a(d,e,{duration:225,complete:function(){f.set(d,{position:"relative",top:"",width:""});h.resolve()}});a(b,g,{duration:225,complete:function(){c.add(b,"hide")}});return h.promise}},position:-1,adapter:null,viewCache:[],isAnimating:!1,currentView:null,transition:null,startIndex:0,postCreate:function(){this.currentView=b.create("div");if(this.transition)if(this.transitionMap[this.transition])this.transitionViews=
this.transitionMap[this.transition];else throw Error("Invalid transition "+this.transition);},startup:function(){this.adapter||(this.adapter=e(this.domNode));b.place(this.currentView,this.domNode);this.setCurrentView(this.startIndex,!0)},getCurrentPosition:function(){return this.position},_getViewAt:function(a){this.viewCache[a]||(this.viewCache[a]=this.adapter.createView(a));return this.viewCache[a]},setCurrentView:function(a,d){var e=new l,f=this.currentView;if(!this.isAnimating&&+a!==+this.position){var g=
b.create("div",{"class":"hide"});b.place(this._getViewAt(a),g,"only");b.place(g,this.domNode,"after");d?(c.add(f,"hide"),c.remove(g,"hide"),this.currentView=g,this.position=a,b.destroy(f),e.resolve(g)):(this.isAnimating=!0,this.transitionViews(f,g,+this.position,+a).then(k.hitch(this,function(){this.currentView=g;this.position=a;b.destroy(f);this.isAnimating=!1;e.resolve(g)})))}else e.resolve(f);return e.promise},transitionViews:function(a,b){var d=new l;c.add(a,"hide");c.remove(b,"hide");d.resolve();
return d.promise},next:function(){this.position<this.adapter.getCount()-1&&this.setCurrentView(this.position+1)},previous:function(){0<this.position&&this.setCurrentView(this.position-1)},destroy:function(){this.inherited(arguments);this.adapter.destroy();for(var a=0;a<this.viewCache.length;a++)this.viewCache[a]&&(d.findWidgets(this.viewCache[a]).forEach(function(a){a.destroyRecursive()}),b.destroy(this.viewCache[a]),this.viewCache[a]=null)}})})},"mojo/widgets/callout":function(){define(["dojo/_base/declare",
"dojo/dom-class","dijit/_WidgetBase","dijit/_TemplatedMixin","dojo/text!./templates/callout.html"],function(h,k,d,g,b){return h([d,g],{templateString:b,icon:"light-bulb-color",columns:1,postCreate:function(){switch(this.columns){case "1 centered":k.remove(this.tipContainerNode,"c-mediaBody--centered");k.add(this.domNode,"flex-auto justify-content--center");break;case 2:k.add(this.domNode,"flex-half");break;case 3:k.add(this.domNode,"flex-third");break;default:k.add(this.domNode,"flex-auto readable-max-width")}},
show:function(){k.remove(this.domNode,"hide")},hide:function(){k.add(this.domNode,"hide")}})})},"mojo/widgets/shareOverlay/EmailAddViewers":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_AttachMixin dijit/_TemplatedMixin dojo/on dojo/query dojo/_base/array dojo/request dojo/parser dojo/Deferred dojo/_base/lang dojo/dom dojo/dom-style dojo/dom-attr dojo/request/xhr dojo/dom-class dojo/dom-construct dojo/html dojo/fx dojo/_base/fx dojo/fx/easing dojo/keys dijit/registry mojo/url mojo/logger mojo/utils mojo/KeyShortcuts dojo/text!./templates/email-add-viewers.html mojo/widgets/input/ShareList velocity/velocity velocity/velocity.ui".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s,v,w,u,y,x,A,C,D,E,G,H,M,J){return h([k,d,g],{templateString:H,postCreate:function(){e.parse(this.domNode);this.inherited(arguments);this.shareList=new M({userList:this.userList});s.place(this.shareList.domNode,this.shareListContainer);"function"===typeof this.cancelCallback&&s.place('\x3ca class\x3d"small-meta fwb underline cursor-pointer" data-action\x3d"cancel-add-viewers"\x3eCancel\x3c/a\x3e',this.domNode,"last");this.own(b(this.domNode,"[data-action\x3d'show-note']:click",
m.hitch(this,function(a){this.showNode(c("[data-element\x3d'email-note-text']")[0],"block");this.showNode(c("[data-action\x3d'cancel-note']")[0],"block");this.hideNode(c("[data-action\x3d'show-note']")[0])})),b(this.domNode,"[data-action\x3d'cancel-note']:click",m.hitch(this,function(a){this.showNode(c("[data-action\x3d'show-note']")[0]);this.hideNode(c("[data-element\x3d'email-note-text']")[0]);this.hideNode(c("[data-action\x3d'cancel-note']")[0])})))},hideNode:function(a){p.set(a,"display","none")},
showNode:function(a,b){b||(b="inline-block");p.set(a,"display",b)}})})},"mojo/widgets/input/ShareList":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/on dojo/_base/lang dojo/parser dojo/keys dojo/dom dojo/dom-construct dojo/dom-class dojo/dom-attr dojo/dom-style dojo/query dojo/request/xhr dijit/focus mojo/url mojo/utils dojo/text!./templates/shareList.html dojo/text!./templates/shareListOption.html ./TagList dojo/NodeList-traverse".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s,v,w,u,y){var x=h([k,d],{templateString:u,isHighlighted:!1,handleOptionClick:function(){},postCreate:function(){this._validateProps();this.setInnerHTML();this.own(b(this.domNode,"click",c.hitch(this,function(a){a.preventDefault();a.stopPropagation();this.handleOptionClick(this)})))},_validateProps:function(){},setInnerHTML:function(){this.name?(this.boldText.innerHTML=this.name,this.subText.innerHTML="\x26middot; "+this.email):this.boldText.innerHTML=this.email},
getUserListIndex:function(){return this.userListIndex},getEmail:function(){return this.email},getTagText:function(){return this.name?this.name:this.email},highlight:function(){p.set(this.anchor,"background-color","#ccebf3")},removeHighlight:function(){p.set(this.anchor,"background-color","white")}});return h([y],{templateString:w,userList:[],searchString:"",showingDropdown:!1,usingGoogleContacts:!1,options:[],activeOption:-1,emails:[],recipients:[],setDropdownDisplayType:function(a){t(this.dropDownPopup).style("display",
a)},showDropdown:function(){this.setDropdownDisplayType("block");this.showingDropdown=!0},hideDropdown:function(){this.setDropdownDisplayType("none");this.showingDropdown=!1;this.unHighlightActiveOption();this.resetActiveOptionIndex()},userMatchesSearchString:function(a,b){var c=RegExp(b,"i");if(!a.email)return!1;var d=!!a.email.match(c);a.name&&(d=d||!!a.name.match(c));return d},arrayObjectIndexOf:function(a,b,c){for(var d=0;d<a.length;d++)if(a[d][c]===b[c])return d;return-1},killEvent:function(a){a.preventDefault();
a.stopPropagation()},emptyList:function(){for(var a=this.tags.length-1;0<=a;a--)this.tags[a].destroy()},clearInput:function(){this.searchString="";this.tagInputDom.focus()},makeUserListSearchable:function(){this.userList.forEach(function(a){a.isSearchable=!0})},getEmails:function(){return this.emails},getRecipients:function(){return this.recipients},createOption:function(a,b){return new x({userListIndex:a,name:b.name,email:b.email,handleOptionClick:this.handleOptionSelect.bind(this)})},addOptionToDom:function(b){a.place(b.domNode,
this.selectOptions,"last");this.options.push(b)},renderSelectOptions:function(){this.options=[];a.empty(this.selectOptions);this.userList.forEach(c.hitch(this,function(a,b){this.userMatchesSearchString(a,this.searchString)&&a.isSearchable&&this.addOptionToDom(this.createOption(b,a))}))},unHighlightActiveOption:function(){0<=this.activeOption&&this.options[this.activeOption].removeHighlight()},resetActiveOptionIndex:function(){this.activeOption=-1},removeFromOptions:function(a){this.userList[a.getUserListIndex()].isSearchable=
!1;var b=this.arrayObjectIndexOf(this.options,a,"email");a.destroy();this.options.splice(b,1);this.resetActiveOptionIndex()},addToOptionsList:function(a){this.userList[a].isSearchable=!0;this.renderSelectOptions();this.clearInput()},removeTypedInput:function(){var b=this.tags[this.tags.length-1];b&&!b.hasBeenAdded&&(a.destroy(b.domNode),b.destroy())},setHiddenInputValue:function(){this.emailListInput.value=this.emails.join(",");b.emit(this.emailListInput,"change",{bubbles:!0,cancelable:!0})},createTag:function(a,
b,d){void 0===d&&(d=!0);var e=this._addTag(a);e.hasBeenAdded=!0;var f,g;d?(a=this.userList[b],f=a.email,g={email:a.email,name:a.name}):(f=a,g={email:a,name:null});this.emails.push(f);this.recipients.push(g);this.setHiddenInputValue();e.on("destroy",c.hitch(this,function(){this.emails.splice(this.emails.indexOf(f),1);this.recipients.splice(this.recipients.indexOf(g),1);this.setHiddenInputValue();d&&this.addToOptionsList(b)}))},handleOptionSelect:function(a){a||(a=this.options[this.activeOption]);this.removeTypedInput();
this.createTag(a.getTagText(),a.getUserListIndex());this.removeFromOptions(a);this.clearInput();this.renderSelectOptions()},addToUserList:function(a){this.userList=this.userList.concat(a)},getGoogleAuthUrl:function(){return s.toUrl("/templates/share/google-oauth2-authorize?oauth_redir\x3d"+encodeURI(document.URL))},googleEntryToUsers:function(a){return a.map(function(a){return{name:a.title.$t,email:a.gd$email?a.gd$email[0].address:null,isSearchable:!0}})},fetchGoogleContacts:function(){q(s.toUrl("/templates/share/google-contacts"),
{handleAs:"json"}).then(function(a){a?(a=this.googleEntryToUsers(a.feed.entry),this.addToUserList(a),this.renderSelectOptions(),this.usingGoogleContacts=!0,t(this.getGoogleData).style("display","none")):n.set(this.googleAuthLink,"href",this.getGoogleAuthUrl())}.bind(this),function(a){})},isBlockedKeyupKey:function(a){return a.keyCode===l.UP_ARROW||a.keyCode===l.DOWN_ARROW||a.keyCode===l.ENTER||a.keyCode===l.TAB||a.keyCode===l.ESCAPE},postCreate:function(){this.inherited(arguments);this.usingGoogleContacts||
this.fetchGoogleContacts();this.renderSelectOptions();this.usingGoogleContacts||p.set(this.getGoogleData,"display","block");this.own(b(this.tagInputDom,"input:keyup",c.hitch(this,function(a){this.tagValue=a.target.value;this.isBlockedKeyupKey(a)||(this.searchString=a.target.value,this.renderSelectOptions(),this.showingDropdown||this.showDropdown())})),b(this.tagInputDom,"input:keydown",c.hitch(this,function(a){switch(a.keyCode){case l.TAB:this._onTab(a);break;case l.ENTER:this._onEnter(a);break;case l.UP_ARROW:this._onUpArrow(a);
break;case l.DOWN_ARROW:this._onDownArrow(a);break;case l.ESCAPE:this._onEsc()}})),b(this.tagInputDom,"click",c.hitch(this,function(a){this.killEvent(a);this.showDropdown()})),b(document,"click",c.hitch(this,function(a){this._onEsc();this.tag&&(this.tag.isBlank()?this.tag.destroy():this._removeTagIfInvalid())})))},_addTag:function(){var a=this.inherited(arguments);this.tag=a;a.watch("mode",c.hitch(this,function(){if(a.inViewMode()&&!a.isBlank()&&!a.hasBeenAdded&&v.isValidEmailAddress(a.value)){a.hasBeenAdded=
!0;var b=a.value,d={email:a.value,name:null};this.emails.push(b);this.recipients.push(d);this.setHiddenInputValue();this.searchString="";this.renderSelectOptions();a.on("destroy",c.hitch(this,function(){this.emails.splice(this.emails.indexOf(b),1);this.recipients.splice(this.recipients.indexOf(d),1);this.setHiddenInputValue()}))}}));return a},_removeTagIfInvalid:function(){v.isValidEmailAddress(this.tagValue)||(this.tag.destroy(),this._addTag(),this.tag.editMode())},_onTab:function(a){""!==this.focusedTag.value&&
!v.isValidEmailAddress(this.tagValue)?(this._removeTagIfInvalid(),this.killEvent(a)):""===this.focusedTag.value&&-1===this.activeOption?this.hideDropdown():0<=this.activeOption&&(this.killEvent(a),this.handleOptionSelect())},_onEnter:function(a){this._removeTagIfInvalid();this.killEvent(a);0<=this.activeOption?this.handleOptionSelect():""!==a.target.value&&(this.focusedTag.viewMode(),this.tagInputDom.focus());this.hideDropdown()},_onBackspace:function(a){if(this.focusedTag)if(this.focusedTag.inViewMode())this.killEvent(a),
this.focusedTag.destroy(),this._addTag().editMode();else if(this.focusedTag.isBlank()&&(this.killEvent(a),a=this._getPrevTag()))this.focusedTag.destroy(),a.focus(),this.setHiddenInputValue()},_onDeleteKey:function(a){if(this.focusedTag)if(this.focusedTag.inViewMode())this.killEvent(a),this.focusedTag.destroy(),this._addTag().editMode();else if(this.focusedTag.isBlank()&&(this.killEvent(a),a=this._getNextTag()))this.focusedTag.destroy(),a.focus()},_onUpArrow:function(a){0<this.activeOption?(this.options[this.activeOption].removeHighlight(),
this.options[this.activeOption-1].highlight(),this.activeOption-=1):0===this.activeOption&&(this.unHighlightActiveOption(),this.resetActiveOptionIndex())},_onDownArrow:function(a){this.activeOption<this.options.length-1&&0<=this.activeOption?(this.options[this.activeOption].removeHighlight(),this.options[this.activeOption+1].highlight(),this.activeOption+=1):-1===this.activeOption&&(this.activeOption=0,this.options[this.activeOption].highlight())},_onEsc:function(a){this.unHighlightActiveOption();
this.resetActiveOptionIndex();this.hideDropdown()}})})},"mojo/widgets/shareOverlay/EmailManageViewers":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_AttachMixin dijit/_TemplatedMixin dojo/on dojo/query dojo/_base/array dojo/request dojo/parser dojo/Deferred dojo/_base/lang dojo/dom dojo/dom-style dojo/dom-attr dojo/request/xhr dojo/dom-class dojo/dom-construct dojo/html dojo/fx dojo/_base/fx dojo/fx/easing dojo/keys dijit/registry mojo/url mojo/logger mojo/utils mojo/KeyShortcuts dojo/text!./templates/email-manage-viewers.html dojo/text!./templates/email-viewer.html mojo/widgets/shareOverlay/EmailAddViewers velocity/velocity velocity/velocity.ui".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s,v,w,u,y,x,A,C,D,E,G,H,M,J,S){var W=h([k,g],{templateString:M,revokeAccess:null,resendReportLink:null,revokeCallback:function(){},resendInvitation:function(){},postCreate:function(){e.parse(this.domNode);this.inherited(arguments);this.validateProps();this.setText();this.own(b(this.revokeAccessLink,"click",m.hitch(this,function(){this.revokeCallback(this.data.email).then(this.handleRevokeResponse.bind(this))})),b(this.resendReportLink,"click",m.hitch(this,
function(){this.resendInvitation(this.resendEmailString()).then(this.handleResendResponse.bind(this))})))},destroy:function(){this.inherited(arguments);this.onDestroy()},resendEmailString:function(){var a=[];a.push({email:this.data.email,name:this.data.name});return JSON.stringify(a)},validateProps:function(){},handleRevokeResponse:function(a){!0===a.success&&(v.set(this.revokedEmail,this.data.email),p.set(this.displayMode,"display","none"),p.set(this.revokeMode,"display","block"),S(this.domNode,
"slideUp",{delay:5E3,duration:250,complete:this.destroy.bind(this)}))},handleResendResponse:function(a){1===a.recipients.length&&(this.data.initialShare=!0,this.data.sendTime=a.recipients[0].sendTime,p.set(this.resendReportLink,"display","none"),this.emptyText(),this.setText())},emptyText:function(){this.statusText.innerHTML=""},setText:function(){this.data.name?(this.boldText.innerHTML=this.data.name,this.lightText.innerHTML="\x26nbsp;\x26#8226;\x26nbsp;"+this.data.email):this.boldText.innerHTML=
this.data.email;this.data.initialShare?(r.add(this.statusFreddicon,"freddicon tick"),this.statusText.innerHTML="\x26nbsp;\x3cstrong\x3eShared\x3c/strong\x3e on "+this.data.sendTime):this.data.lastOpen?(r.add(this.statusFreddicon,"freddicon tick"),this.statusText.innerHTML="\x26nbsp;\x3cstrong\x3eViewed\x3c/strong\x3e on "+this.data.lastOpen):(p.set(this.resendReportLink,"display","inline-block"),this.statusText.innerHTML="Report has not been viewed.")},onDestroy:function(){}});return h([k,d,g],{templateString:H,
viewers:[],revokeCallback:function(){},resendInvitation:function(){},postCreate:function(){e.parse(this.domNode);this.inherited(arguments);this.buildListOfViewers()},buildListOfViewers:function(){s.empty(this.listOfViewers);this.viewers.map(m.hitch(this,function(a){var b=new W({data:a,revokeCallback:this.revokeCallback,resendInvitation:this.resendInvitation});b.on("destroy",m.hitch(this,function(){this.viewers.splice(this.viewers.indexOf(a),1);this.handleViewerDestory()}));s.place(b.domNode,this.listOfViewers,
"last")}))},unionByEmail:function(a,b){for(var c=[],d=0;d<b.length;d++){for(var e=!1,f=0;f<a.length;f++)b[d].email===a[f].email&&(e=!0);e||c.push(b[d])}return a.concat(c)},handleViewerDestory:function(){0===this.viewers.length&&S(this.domNode,"slideUp",{duration:250,complete:this.destroy.bind(this)})},updateViewers:function(a){this.viewers=this.unionByEmail(this.viewers,a);this.buildListOfViewers()},destroy:function(){this.inherited(arguments);this.onDestroy()},onDestroy:function(){}})})},"mojo/widgets/shareOverlay/PermissionsSharing":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_AttachMixin dijit/_TemplatedMixin dojo/on dojo/query dojo/_base/array dojo/request dojo/parser dojo/Deferred dojo/_base/lang dojo/dom dojo/dom-style dojo/dom-attr dojo/request/xhr dojo/dom-class dojo/dom-construct dojo/html dojo/fx dojo/_base/fx dojo/fx/easing dojo/keys dijit/registry mojo/url mojo/logger mojo/utils mojo/KeyShortcuts dojo/text!./templates/permissions-sharing.html velocity/velocity velocity/velocity.ui".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s,v,w,u,y,x,A,C,D,E,G,H,M){return h([k,d,g],{templateString:H,_passwordVisible:!1,required:!1,password:"",postCreate:function(){e.parse(this.domNode);this.inherited(arguments);this.own(b(this.domNode,"[data-action\x3d'toggle-password-visibility']:click",this.togglePasswordVisibility.bind(this)))},togglePasswordVisibility:function(a){this._passwordVisible?(r.remove(a.target,"c-showPassword--hideIcon"),r.add(a.target,"c-showPassword--showIcon"),t.set(this.passwordInput,
"type","password"),v.set(a.target,"Show")):(r.remove(a.target,"c-showPassword--showIcon"),r.add(a.target,"c-showPassword--hideIcon"),t.set(this.passwordInput,"type","text"),v.set(a.target,"Hide"));this._passwordVisible=!this._passwordVisible},hasPassword:function(){return 0<this.getPassword().length},getPassword:function(){return this.passwordInput.value},setPassword:function(a){this.passwordInput.value=a}})})},"mojo/widgets/shareOverlay/ShareOverlay":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_AttachMixin dijit/_TemplatedMixin mojo/widgets/_Overlay dojo/on dojo/query dojo/_base/array dojo/request dojo/parser dojo/Deferred dojo/_base/lang dojo/dom dojo/dom-style dojo/dom-attr dojo/request/xhr dojo/dom-class dojo/dom-construct dojo/html dojo/fx dojo/_base/fx dojo/fx/easing dojo/keys dojo/date/locale dijit/registry mojo/url mojo/logger mojo/utils mojo/KeyShortcuts mojo/widgets/shareOverlay/EmailAddViewers mojo/widgets/shareOverlay/EmailManageViewers mojo/widgets/shareOverlay/PermissionsSharing mojo/widgets/shareOverlay/SocialSharing dojo/text!./templates/share-overlay.html velocity/velocity velocity/velocity.ui".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s,v,w,u,y,x,A,C,D,E,G,H,M,J,S,W,X,K,Q){var V=h([k,d,g,b],{templateString:K,overlayClass:"share-overlay",viewers:[],addViewers:null,manageViewers:null,postMixInProperties:function(){V._main||(V._main=this)},postCreate:function(){this.inherited(arguments);c(this.closeButton,"click",this.closeView.bind(this));M.onEsc(n.hitch(this,function(){this.isVisible()&&this.closeView()}))},validateProps:function(){if(!this.props.viewType||!this.props.assetId)return 0},setTitleHTML:function(a){w.set(this.title,
a||"document")},setTimeHTML:function(a){a?(a=C.format(new Date(a.replace(/\s/,"T")),{formatLength:"medium",timePattern:"h:mm a"}),w.set(this.sendTime,a)):w.set(this.sendTime,"")},setOverlayContent:function(a){this.overlayContent=f("[data-mc-group\x3d'overlay-content']")[0];a.enableEmailSharing&&this.createEmailSharing(a);a.enableSocialSharing&&this.createSocialSharing(a);f("[data-document-type\x3d'unset']").forEach(function(b){b.innerHTML=a.viewType});this.show().then(n.hitch(this,function(){Q(this.viewContainer,
{opacity:1},{duration:333})}))},createPassword:function(a){this.permissionsWidget=new W({required:a,password:""});v.place(this.permissionsWidget.domNode,this.overlayContent,"last")},createSocialSharing:function(a){this.socialWidget=new X({title:a.title,url:a.shareUrl});v.place(this.socialWidget.domNode,this.overlayContent,"last")},openView:function(a){this.props=a;this.validateProps(a);this.setTitleHTML(a.title);this.setTimeHTML(a.sentTime);this.setOverlayContent(a)},resetHeader:function(){this.title.innerHTML=
"Document Title";this.sendTime.innerHTML="\x26nbsp;\x26#x95;\x26nbsp;Not sent"},emptyContainer:function(){this.emailWidget&&this.emailWidget.destroy();this.permissionsWidget&&this.permissionsWidget.destroy();this.socialWidget&&this.socialWidget.destroy();f("[data-mc-group\x3d'overlay-content']").empty()},onHide:function(){this.resetHeader();this.emptyContainer()},closeView:function(){Q(this.viewContainer,{opacity:0},{duration:333,complete:this.hide.bind(this)})},createEmailSharing:function(a){this.fetchAlreadySharedList().then(this.buildEmailDom.bind(this))},
fetchAlreadySharedList:function(){var a=new m;this.fetchAlreadyShared().then(n.hitch(this,function(b){a.resolve(b)}));return a},revokeViewer:function(a){var b=new m;r(E.toUrl("/reports/vip-share-revoke/?id\x3d"+this.props.assetId+"\x26revoked\x3d"+a),{handleAs:"json"}).then(n.hitch(this,function(a){b.resolve(a)}));return b},fetchAlreadyShared:function(){var a=new m;r(E.toUrl("/reports/vip-share-already-shared/?id\x3d"+this.props.assetId),{handleAs:"json"}).then(function(b){a.resolve(b)},function(a){});
return a},updateManageViewers:function(a){a.map(function(a){a.initialShare=!0});this.manageViewers?this.manageViewers.updateViewers(a):this.renderManageViewers(a)},renderManageViewers:function(a){0===a.length?this.manageViewers.viewers=[]:(this.manageViewers=new S({viewers:a,revokeCallback:this.revokeViewer.bind(this),resendInvitation:this.makeSendRequest.bind(this)}),this.manageViewers.on("destroy",function(){this.manageViewers=null}.bind(this)),v.place(this.manageViewers.domNode,this.overlayContent,
"first"))},renderAddViewers:function(a){a||(a=[]);this.addViewers=new J({userList:a,usingGoogleContacts:!!a.length});v.place(this.addViewers.domNode,this.overlayContent,"last")},fetchAndSetPassword:function(a){a||(a=this.props.assetId);r(E.toUrl("/reports/vip-share-display-password?id\x3d"+a),{handleAs:"json"}).then(n.hitch(this,function(a){a.length&&(this.permissionsWidget.setPassword(a),this.manageViewers&&this.checkPasswordChange(this.manageViewers.viewers))}))},buildEmailDom:function(a){a.length&&
this.renderManageViewers(a);this.renderAddViewers();this.props.enablePassword.required&&(this.createPassword(!0),this.fetchAndSetPassword());this.shareButton=v.toDom("\x3cbutton class\x3d'p0 disabled'\x3eShare Report\x3c/button\x3e");v.place(this.shareButton,this.overlayContent,"last");this.emailsInput=f("input[name\x3d'emails']",this.domNode)[0];this.own(c(this.shareButton,"click",this.sendEmails.bind(this)),c(this.emailsInput,"change",this.updateSendButtonState.bind(this)),c(this.permissionsWidget.passwordInput,
"keyup",this.updateSendButtonState.bind(this)))},checkPasswordChange:function(a){if(0!==a.length){var b=this.permissionsWidget.getPassword(),d=this.permissionsWidget.passwordInput,e=this.permissionsWidget.passChangeWarning;c(d,"keyup",function(){d.value!==b&&0<a.length?s.remove(e,"hide"):s.add(e,"hide")})}},shareRequirementsAreMet:function(){var a=!!this.emailsInput.value.length,b=this.permissionsWidget.required?this.permissionsWidget.hasPassword():!0;return a&&b},updateSendButtonState:function(){this.shareRequirementsAreMet()?
s.remove(this.shareButton,"disabled"):s.add(this.shareButton,"disabled")},makeSendRequest:function(a,b,c){var d=new m;if(!a)return 0;b||(b=this.permissionsWidget.passwordInput.value);c||(c=this.addViewers.shareNote.value);r.post(E.toUrl("/reports/vip-share-send"),{handleAs:"json",data:{"asset-id":this.props.assetId,recipients:a,password:b,note:c}}).then(function(a){d.resolve(a)},function(a){});return d},sendEmails:function(a){var b=a.target;a=this.addViewers.shareList.getRecipients();var c=this.addViewers.shareNote.value,
d=this.permissionsWidget.passwordInput.value;s.add(b,"button-loading");w.set(b,"Sending...");this.makeSendRequest(JSON.stringify(a),d,c).then(n.hitch(this,function(a){s.remove(b,"button-loading");w.set(b,"Share Report");a.error||0===a.recipients.length?(this.errorText.innerHTML=a.error,Q(this.errorBlock,"slideDown",{duration:250}),Q(this.errorBlock,"slideUp",{delay:5E3,duration:250})):(Q(this.successBlock,"slideDown",{duration:250}),Q(this.successBlock,"slideUp",{delay:5E3,duration:250}),this.emailsInput.value=
"",this.addViewers.shareList.emptyList(),this.updateManageViewers(a.recipients))}))}});V.main=function(){return V._main?V._main:null};return V})},"mojo/widgets/shareOverlay/SocialSharing":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_AttachMixin dijit/_TemplatedMixin dojo/on dojo/query dojo/_base/array dojo/request dojo/parser dojo/Deferred dojo/_base/lang dojo/dom dojo/dom-style dojo/dom-attr dojo/request/xhr dojo/dom-class dojo/dom-construct dojo/html dojo/fx dojo/_base/fx dojo/fx/easing dojo/keys dijit/registry mojo/url mojo/logger mojo/utils mojo/KeyShortcuts dojo/text!./templates/social-sharing.html velocity/velocity velocity/velocity.ui".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s,v,w,u,y,x,A,C,D,E,G,H,M){return h([k,d,g],{templateString:H,postCreate:function(){this.inherited(arguments);t.set(this.shareFacebook,"href","https://www.facebook.com/share.php?u\x3d"+this.url+"\x26t\x3d"+this.title);t.set(this.shareTwitter,"href","https://twitter.com/intent/tweet?text\x3d"+this.title+" - "+this.url);t.set(this.sharePinterest,"href","https://www.pinterest.com/pin/find/?url\x3d"+this.url)}})})},"mojo/widgets/shareOverlay/ShareOverlayCaller":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_AttachMixin dijit/_TemplatedMixin mojo/widgets/_Overlay dojo/on dojo/query dojo/_base/array dojo/request dojo/parser dojo/Deferred dojo/_base/lang dojo/dom dojo/dom-style dojo/dom-attr dojo/request/xhr dojo/dom-class dojo/dom-construct dojo/html dojo/fx dojo/_base/fx dojo/fx/easing dojo/keys dijit/registry mojo/url mojo/logger mojo/utils mojo/KeyShortcuts mojo/widgets/shareOverlay/ShareOverlay dojo/text!./templates/share-overlay-caller.html".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s,v,w,u,y,x,A,C,D,E,G,H,M,J){return h([k,d,g],{templateString:J,viewType:"",assetId:null,title:"",sentTime:"",enableEmailSharing:!1,enablePermissions:!1,enableSocialSharing:!1,postCreate:function(){if(0===f("[data-element\x3d'share-overlay']").length){var a=new M;f("body")[0].appendChild(a.domNode)}var b=this;this.own(c(this.containerNode,"click",function(a){a.preventDefault();a.stopPropagation();f(this).parents(".dijitPopup").style("display","none");b.openOverlay()}))},
openOverlay:function(){M.main().openView(this.params)}})})},"mojo/widgets/input/Background":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/_base/lang dojo/on dojo/dom-class mojo/neapolitan/style-keys dojo/text!./templates/backgroundInput.html".split(" "),function(h,k,d,g,b,c,f,l,e){return h([k,d,g],{templateString:e,selector:null,image:null,color:"",position:"",repeat:"no-repeat",size:"",postCreate:function(){this.inherited(arguments);
var a=this;this.colorInput.set("value",this.color);this.fallbackColorInput.set("value",this.color);this.imageInput.set("value",this.image);this.positionInput.set("value",this.position);this.repeatInput.set("value",this.repeat);this.sizeInput.set("value",this.size);this.own(c(this.chooseImageLink,"click",function(b){b.preventDefault();b.stopPropagation();a.imageInput.chooseImage()}),c(this.imageInput,"change",function(){a._fireChangeEvent("image",a.imageInput.get("value"))}),c(this.colorInput,"change",
function(){if(!a._hasImage()){var b=a.colorInput.value;a.fallbackColorInput.set("value",b);a._fireChangeEvent("color",b)}}),c(this.fallbackColorInput,"change",function(){if(a._hasImage()){var b=a.fallbackColorInput.value;a.colorInput.set("value",b);a._fireChangeEvent("color",b)}}),c(this.positionInput,"change",function(){a._fireChangeEvent("position",a.positionInput.get("value"))}),c(this.sizeInput,"change",function(){a._fireChangeEvent("size",a.sizeInput.get("value"))}),c(this.repeatInput,"change",
function(){a._fireChangeEvent("repeat",a.repeatInput.get("value"))}));this._toggleContainers()},_fireChangeEvent:function(a,b){this.set(a,b);this.onChange("background-"+a,b)},_setImageAttr:function(a){this._set("image",a);this._toggleContainers()},_hasImage:function(){return this.image&&"none"!=this.image},_toggleContainers:function(){f.toggle(this.noImageContainer,"hide",this._hasImage());f.toggle(this.withImageContainer,"hide",!this._hasImage())},updateValue:function(a,b){switch(a){case l.BG_COLOR:this._hasImage()?
this.fallbackColorInput.set("value",b):this.colorInput.set("value",b);break;case l.BG_IMAGE:this.set("image",b);this.imageInput.set("value",b);break;case l.BG_POSITION:this.positionInput.set("value",b);break;case l.BG_SIZE:this.sizeInput.set("value",b);break;case l.BG_REPEAT:this.repeatInput.set("value",b)}},onChange:function(a,b){}})})},"mojo/neapolitan/style-keys":function(){define([],function(){var h={FONT_FAMILY:"font-family",FONT_SIZE:"font-size",FONT_WEIGHT:"font-weight",FONT_STYLE:"font-style",
COLOR:"color",TEXT_DECORATION:"text-decoration",TEXT_ALIGN:"text-align",LINE_HEIGHT:"line-height",LETTER_SPACING:"letter-spacing",BG_COLOR:"background-color",BG_IMAGE:"background-image",BG_SIZE:"background-size",BG_POSITION:"background-position",BG_REPEAT:"background-repeat"};h.FONT_STYLES_PROPS=[h.FONT_WEIGHT,h.FONT_STYLE,h.TEXT_DECORATION];h.FONT_PROPS=[h.FONT_FAMILY,h.COLOR,h.FONT_SIZE,h.LINE_HEIGHT,h.TEXT_ALIGN,h.LETTER_SPACING,h.FONT_WEIGHT,h.FONT_STYLE,h.TEXT_DECORATION];h.BG_PROPS=[h.BG_COLOR,
h.BG_IMAGE,h.BG_SIZE,h.BG_POSITION,h.BG_REPEAT];return h})},"mojo/widgets/input/BackgroundImage":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dojo/dom-construct dojo/dom-class dojo/_base/lang dojo/text!./templates/backgroundImageInput.html mojo/neapolitan/widgets/ImageRow dojo/on".split(" "),function(h,k,d,g,b,c,f,l,e){return h([k,d],{templateString:f,value:"none",postCreate:function(){this.inputContainerNode=this.domNode;this.imageRow=new l({image:this._cssToImage(this.value),
actions:["edit"]});this.imageRow.startup();g.place(this.imageRow.domNode,this.imageRowContainer);this.imageRow.on("change",c.hitch(this,function(){this._set("value",this._imageToCss(this.imageRow.image));this.onChange();this._toggleRemoveAction()}));this.own(e(this.removeLink,"click",c.hitch(this,function(){this.imageRow.removeImage()})));this._toggleRemoveAction()},chooseImage:function(){this.imageRow.openFileManager()},_updateImageRow:function(){this.imageRow&&(this.imageRow.updateImage(this._cssToImage(this.value)),
this._toggleRemoveAction())},_setValueAttr:function(a){this._set("value",a);this._updateImageRow()},_toggleRemoveAction:function(){b.toggle(this.removeLink,"hide",null==this.imageRow.image)},_imageToCss:function(a){return a&&a.src?'url("'+a.src+'")':"none"},_cssToImage:function(a){if((a=a.match(/^url\((.+)\)/))&&a[1]){a=a[1];var b=a[0],c=a[a.length-1];return{src:'"'==b||"'"==b&&b==c?a.substr(1,a.length-2):a}}return null},onChange:function(a){}})})},"mojo/neapolitan/widgets/ImageRow":function(){define("dojo/_base/declare dijit/_Widget dijit/_Templated dojo/text!./templates/imageRow.html dojo/text!./templates/imageRowMobile.html dojo/on dojo/when dojo/_base/lang dojo/_base/xhr dojo/_base/connect dojo/_base/array dojo/dom-construct dojo/dom dojo/dom-style dojo/dom-class dojo/dom-attr dojo/keys dojo/query mojo/widgets/LinkPicker mojo/widgets/FileManager mojo/ImageEditor mojo/utils mojo/url dojo/NodeList-dom".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s,v,w,u,y,x,A){return h([k,d],{templateString:g,templateStringMobile:b,isMobile:!1,image:null,actionTpl:'\x3cli\x3e\x3ca href\x3d"#" data-action-type\x3d"{action}"\x3e{actionLabel}\x3c/a\x3e\x3c/li\x3e',actionTplMobile:'\x3cdiv class\x3d"{containerClassNames}"\x3e\x3ca href\x3d"#" data-action-type\x3d"{action}" class\x3d"{actionClassNames}"\x3e{actionLabel}\x3c/a\x3e\x3c/div\x3e',feedbackActionTpl:'\x26nbsp;\x3ca href\x3d"#" data-action-type\x3d"{action}"\x3eLet\'s fix it\x3c/a\x3e',
actions:null,_restrictions:null,aspectRatio:"16:9",constructor:function(a){a.isMobile&&(this.isMobile=a.isMobile,this.templateString=this.templateStringMobile);this.image=null},postMixInProperties:function(){this.actions||(this.actions=this.isMobile?["link","alt"]:["edit","link","alt"]);this._restrictions={}},addMinWidthRestriction:function(a,b,c){this._restrictions.minWidth={message:b,action:c,isValid:function(b){return b.width>=a}};this.checkRestrictions()},addMaxWidthRestriction:function(a,b,c){this._restrictions.maxWidth=
{message:b,action:c,isValid:function(b){return b.width<=a}};this.checkRestrictions()},restrictAspectRatio:function(a,b){var c=this;this._restrictions.aspectRatio={message:"The proportions of this image differ from the one next to it.",action:"crop",isValid:function(d){var e=d.width/a,f=Math.round(d.height/e);if(f=d.width>=a&&f!==b){var g=d.height%b;0===g?d=d.width+":"+Math.round(e*b):(g=d.height-g,d=Math.round(d.width/e*(g/b)),d=d<a?a+":"+b:d+":"+g);c.aspectRatio=d}return!f}};this.checkRestrictions()},
checkRestrictions:function(){this._hideRestrictionFeedback();if(this.image)for(var a in this._restrictions)if(this._restrictions.hasOwnProperty(a)){var b=this._restrictions[a];if(!b.isValid(this.image)){this._showRestrictionFeedback(b);break}}},render:function(){this._renderMeta();this._renderImage();this._renderActions();this.checkRestrictions()},setActions:function(a){this.actions=a;this._renderActions()},toggleUploadMessage:function(a){t.set(this.uploadOverlay,"display",a?"block":"")},toggleDragHandle:function(a){this.isMobile||
q.toggle(this.dndHandle,"hide",!a)},postCreate:function(){var a=this;this.watch("image",l.hitch(this,"render"));this.render();this.own(c(this.domNode,"a:click",function(b){b.preventDefault();b.stopPropagation();switch(r.get(this,"data-action-type")){case "browse":a.openFileManager();break;case "remove":a.removeImage();break;case "link":a.openLinkPicker();break;case "alt":a.openAltTextForm();break;case "edit":a.openImageEditor();break;case "crop":a.openAspectRatioEditor();break;case "resize":a.openResizeEditor()}}),
c(this.altTextBtn,"click",function(){a.closeAltTextForm()}),c(this.altTextInput,"keypress",function(b){b.keyCode===s.ENTER&&(b.preventDefault(),b.stopPropagation(),a.closeAltTextForm())}))},addImage:function(a){this.set("image",a);this.render()},updateImage:function(a){this.set("image",a);this.render()},removeImage:function(){null!==this.image&&(this.set("image",null),this.onChange("image"));this.onRemove()},openFileManager:function(){u.show({actions:"select, rename, copy",allowedFileTypes:"image",
onSelect:l.hitch(this,function(a,b,c){this._imageSelected(a,c);u.hide()})})},openLinkPicker:function(){this.linkPickerConnects&&m.forEach(this.linkPickerConnects,this.disconnect);this.linkPickerConnects=[];var a=this.image?this.image.link:{},a=l.mixin({anchors:window.getAllAnchors()},a);this.linkPicker=new w(a);this.linkPickerConnects.push(this.connect(this.linkPicker,"onSave",function(a){this._setImageLink(a)}));this.linkPickerConnects.push(this.connect(this.linkPicker,"onRemove",function(){this._setImageLink()}));
this.linkPicker.show()},openAltTextForm:function(){this.image&&(this.altTextInput.value=this.image.alt);q.contains(this.altTextContainer,"hide")&&q.remove(this.altTextContainer,"hide");this.altTextInput.focus()},closeAltTextForm:function(){this.image&&(this.image.alt=this.altTextInput.value);q.add(this.altTextContainer,"hide");this.updateImage(this.image);this.onChange("altText")},openImageEditor:function(){y.open(this.image.src).then(l.hitch(this,function(a){return u.importFromUrl(a,!0,this.image.contentId)})).then(l.hitch(this,
function(a){a="data"in a?a.data:a;this._imageSelected(a.url,a.contentId)}),this._showEditErrorToast)},openResizeEditor:function(){var a=this.image.contentId;A.removeProxy(this.image.src);y.open(this.image.src,["resize"]).then(l.hitch(this,function(b){return u.importFromUrl(b,!0,a)})).then(l.hitch(this,function(a){a="data"in a?a.data:a;this._imageSelected(a.url,a.contentId)}),this._showEditErrorToast)},openAspectRatioEditor:function(){var a=this.image.contentId;y.open(this.image.src,["crop"],{cropPresets:this.aspectRatio}).then(l.hitch(this,
function(b){return u.importFromUrl(b,!0,a)})).then(l.hitch(this,function(a){a="data"in a?a.data:a;this._imageSelected(a.url,a.contentId)}),this._showEditErrorToast)},_showEditErrorToast:function(a){x.toast("Drats, unable to save edits!","warning")},_renderImage:function(){var a="/images/icons/empty-image.svg";this.image&&this.image.src&&(a=this.image.src);this.imageNode.src=a},_renderMeta:function(){this.image?(this.image.alt?(this.titleNode.innerHTML=this.image.alt,this._updateImageName(this.subtitleNode)):
(this._updateImageName(this.titleNode),this.subtitleNode.innerHTML=""),this.dimensionNode.innerHTML=this.image.width&&this.image.height?this.image.width+" \x26times; "+this.image.height:""):(this.titleNode.innerHTML="Upload an image",this.subtitleNode.innerHTML="",this.dimensionNode.innerHTML="")},_renderActions:function(){n.empty(this.actionList);var a=["browse"];this.image?a=a.concat(this.actions):0<=this.actions.indexOf("remove")&&a.push("remove");var b="";m.forEach(a,l.hitch(this,function(a){var c=
{action:a,actionLabel:this._getActionLabel(a)},d=this.actionTpl;this.isMobile&&(d=this.actionTplMobile,c.containerClassNames=this._getActionContainerClassNames(a),c.actionClassNames=this._getActionClassNames(a));b+=l.replace(d,c)}));n.place(b,this.actionList)},_getActionLabel:function(a){switch(a){case "browse":a=this.image?"Replace":"Browse";break;case "alt":a=this.isMobile?"Edit Alt Text":"Alt";break;case "edit":a="Edit";break;case "link":a=this.isMobile?"Edit Link":"Link";break;case "remove":a=
"Remove";break;default:a=""}return a},_getActionContainerClassNames:function(a){switch(a){case "browse":a="flex-full margin-bottom--lv2";break;case "alt":a="flex-half margin-bottom--lv2";break;case "edit":a="flex-half margin-bottom--lv2";break;case "link":a="flex-half margin-bottom--lv2";break;case "remove":a="flex-full margin-bottom--lv2 text-align--center";break;default:a="flex--1"}return a},_getActionClassNames:function(a){switch(a){case "browse":a="full-width button p0 margin-right--lv0";break;
case "alt":a="full-width button margin-right--lv0";break;case "edit":a="full-width button margin-right--lv0";break;case "link":a="full-width button margin-right--lv0";break;case "remove":a="";break;default:a=""}return a},_updateImageName:function(a){this.image.contentId?(a.innerHTML="Loading",u.getInfo(this.image.contentId).then(function(b){a.innerHTML=b.name},l.hitch(this,function(){a.innerHTML=this._imageName()}))):a.innerHTML=this._imageName()},_setImageLink:function(a){this.image.link=a;this.updateImage(this.image);
this.onChange("link")},_imageName:function(){return this.image&&this.image.src?this.image.src.substring(this.image.src.lastIndexOf("/")+1,this.image.src.length):null},_imageSelected:function(a,b){y.getImageInfo(a).then(l.hitch(this,function(a){this.image||(this.image={alt:""});l.mixin(this.image,{src:a.url,width:a.width,height:a.height});this.image.contentId=b?b:null;this.updateImage(this.image);this.onChange("image")}))},_showRestrictionFeedback:function(a){var b=a.message;a.action&&!this.isMobile&&
(b+=l.replace(this.feedbackActionTpl,{action:a.action}));this.feedbackNode.innerHTML=b;q.remove(this.feedbackContainer,"hide")},_hideRestrictionFeedback:function(){q.add(this.feedbackContainer,"hide");this.feedbackNode.innerHTML=""},onChange:function(a){},onRemove:function(){}})})},"mojo/widgets/input/BackgroundPosition":function(){define(["dojo/_base/declare","dojo/_base/array","dijit/form/Select","./_WithLabelMixin"],function(h,k,d,g){return h([d,g],{label:"Background Position",maxHeight:-1,constructor:function(b){this.options=
[{label:"Top",value:"top"},{label:"Center",value:"center"},{label:"Bottom",value:"bottom"}];b.isOptional&&this.options.unshift({label:"Not specified",value:""})}})})},"mojo/widgets/input/_WithLabelMixin":function(){define(["dojo/_base/declare","dojo/query","dojo/dom-construct","dojo/dom-class","dojo/NodeList-manipulate"],function(h,k,d,g){return h(null,{skipContainer:!1,label:"Unknown",subLabel:!1,subLabelClasses:"c-paneLabel--small fwn padding--lv0",postCreate:function(){this.inherited(arguments);
if(!this.skipContainer){var b="\x3cdiv class\x3d'style-field selfclear style-"+this.label.toLowerCase().replace(" ","")+"'\x3e\x3c/div\x3e";k(this.domNode).wrap(b);this.inputContainerNode=this.domNode.parentNode;this.labelNode=d.place("\x3clabel\x3e"+this.label+"\x3c/label\x3e",this.inputContainerNode,"first");this.subLabel&&g.add(this.labelNode,this.subLabelClasses)}}})})},"mojo/widgets/input/BackgroundRepeat":function(){define(["dojo/_base/declare","dojo/_base/array","dijit/form/Select","./_WithLabelMixin"],
function(h,k,d,g){return h([d,g],{label:"Background Repeat",maxHeight:-1,constructor:function(b){this.options=[{label:"None",value:"no-repeat"},{label:"Horizontal",value:"repeat-x"},{label:"Vertical",value:"repeat-y"},{label:"Both",value:"repeat"}];b.isOptional&&this.options.unshift({label:"Not specified",value:""})}})})},"mojo/widgets/input/BackgroundSize":function(){define(["dojo/_base/declare","dojo/_base/array","dijit/form/Select","./_WithLabelMixin"],function(h,k,d,g){return h([d,g],{label:"Background Size",
maxHeight:-1,options:[],constructor:function(b){this.options=[{label:"Auto",value:"auto"},{label:"Cover",value:"cover"},{label:"Contain",value:"contain"}];b.isOptional&&this.options.unshift({label:"Not specified",value:""})}})})},"mojo/widgets/input/Border":function(){define("dojo/_base/declare dojo/dom-class dojo/dom-construct dojo/_base/array dojo/_base/lang dojo/string dojo/on dijit/_WidgetBase dijit/form/Select dijit/form/TextBox ./Color ./_WithResetLinkMixin".split(" "),function(h,k,d,g,b,c,
f,l,e,a,m,n){return h([l,n],{value:null,initialized:!1,label:"Border",postCreate:function(){this.isOptional=!0;this.inherited(arguments);this.originalValue=this.value;var c=this._parseBorder(this.value),h=[{label:"None",value:"none"},{label:"Solid",value:"solid"},{label:"Dashed",value:"dashed"},{label:"Dotted",value:"dotted"},{label:"Double",value:"double"},{label:"Groove",value:"groove"},{label:"Ridge",value:"ridge"},{label:"Inset",value:"inset"},{label:"Outset",value:"outset"}];g.forEach(h,function(a){a.label=
"\x3cspan class\x3d'mojoPreviewSelect border-style "+a.value+"'\x3e"+a.label+"\x3c/span\x3e"});this.leftContainer=d.place("\x3cdiv class\x3d'unit size1of2 !padding-left--lv0 full-width--xltablet'\x3e\x3c/div\x3e",this.domNode);this.rightContainer=d.place("\x3cdiv class\x3d'lastUnit size1of2 !padding-left-right--lv0 full-width--xltablet'\x3e\x3c/div\x3e",this.domNode);this.styleInput=(new e({options:h,maxHeight:-1,value:c.style,"class":"!margin-bottom--lv1"})).placeAt(this.leftContainer);h=d.place('\x3cdiv class\x3d"float-left mojoBorderWidth"\x3e\x3c/div\x3e',
this.rightContainer);this.widthInput=(new a({value:c.width})).placeAt(h);k.add(this.widthInput.domNode,"small-number");this.colorInput=new m({value:c.color,skipContainer:!0});this.colorInput.startup();this.colorInput.placeAt(this.rightContainer);this.own(f(this.widthInput,"change",b.hitch(this,function(){this.widthInput.set("value",this._getWidthValue(),!1);this._onChange()})),f(this.styleInput,"change",b.hitch(this,"_onChange")),f(this.colorInput,"change",b.hitch(this,"_onChange")));this.toggleResetLink(""!=
this.value&&"0"!=this.value);this.initialized=!0},_setValueAttr:function(a){this.inherited(arguments);if(this.initialized){this.setInputValues(a);var b=this.get("value");this.toggleResetLink(""!=b&&0!=b);this.onChange(b)}},_getValueAttr:function(){if(this.initialized){var a=this._getWidthValue();return a?a+" "+this.styleInput.get("value")+" "+this.colorInput.get("value"):0}return this.inherited(arguments)},_getWidthValue:function(){var a=this.widthInput.get("value"),b="px";0<=a.indexOf("em")?(b="em",
a=parseFloat(a)):a=parseInt(a);return(a=isNaN(a)||0>a?0:a)?a+b:a},_parseBorder:function(a){var b=a.replace(";","").split(" ");a=b[0]?b[0]:"0";var d=b[1]?c.trim(b[1]):"none",b=b[2]?c.trim(b[2]):"";return{width:c.trim(a),style:c.trim(d),color:b}},setInputValues:function(a){this.initialized&&(a=this._parseBorder(a),this.widthInput.set("value",a.width,!1),this.styleInput.set("value",a.style,!1),this.colorInput.set("value",a.color,!1),this.colorInput._updateColor())},onChange:function(a){},_onChange:function(){var a=
this.get("value");this.toggleResetLink(""!=a&&0!=a);this.onChange(a)},onReset:function(){this.set("value","0")},reset:function(){this.set("value",this.originalValue);this.setInputValues(this.originalValue)}})})},"mojo/widgets/input/Color":function(){define("dojo/_base/declare dijit/form/TextBox dojo/dom-construct dojo/dom-class dojo/dom-style dojo/keys dojo/_base/Color mojo/neapolitan/widgets/ColorPicker ./_WithResetLinkMixin".split(" "),function(h,k,d,g,b,c,f,l,e){var a=null;return h([k,e],{label:"Color",
valueOnEmpty:"",noColorEnabled:!1,postCreate:function(){if(!a||a._destroyed)a=new l,a.startup(),d.place(a.domNode,document.body);(this.picker=a)&&this.picker.addInput(this);g.add(this.domNode,"c-colorInput");this.colorSwatch=d.place("\x3cdiv class\x3d'c-colorInput_previewSwatch' title\x3d'Color preview'/\x3e",this.domNode,"first");this.inherited(arguments);this.toggleResetLink(null===this.value||!this._isEmptyValue(this.value));this.toggleUnsetIndicator();this.on("keydown",function(a){a.keyCode===
c.ENTER&&(a.stopPropagation(),a.preventDefault(),this._setValueAttr(this.get("value"),!0))})},onChange:function(){var a=this.value;this.toggleResetLink(!this._isEmptyValue(a));this.toggleUnsetIndicator();if(!this._isEmptyValue(a)){var b=f.fromString("#"+a.replace(/#/g,"")),b=b||f.fromString(a),a=null==b?"#ffffff":b.toHex();this.set("value",a,!1)}},_isEmptyValue:function(a){return null===a||""===a||a===this.valueOnEmpty},_setValueAttr:function(a){(null===a||""===a)&&a!==this.valueOnEmpty?this.inherited(arguments,
[this.valueOnEmpty]):this.inherited(arguments);this.textbox.value=this._isEmptyValue(a)?"":a;this._updateColor()},_updateColor:function(){this.colorSwatch&&b.set(this.colorSwatch,"backgroundColor",this.value)},startup:function(){this.inherited(arguments);this._updateColor()},onReset:function(){this.set("value",this.valueOnEmpty)},toggleUnsetIndicator:function(){g.toggle(this.colorSwatch,"v-unsetSwatch",this._isEmptyValue(this.value))}})})},"mojo/widgets/input/_WithResetLinkMixin":function(){define("dojo/_base/declare dojo/_base/lang dojo/query dojo/dom-construct dojo/on dojo/dom-style dojo/dom-class dojo/NodeList-manipulate".split(" "),
function(h,k,d,g,b,c,f){return h([],{label:"Unknown",skipContainer:!1,isOptional:!1,resetLink:null,labelNode:null,inputContainerNode:null,subLabel:!1,subLabelClasses:"c-paneLabel--small fwn padding--lv0",postCreate:function(){this.inherited(arguments);if(!this.skipContainer){var c="\x3cdiv class\x3d'style-field selfclear style-"+this.label.toLowerCase().replace(" ","")+"'\x3e\x3c/div\x3e";d(this.domNode).wrap(c);this.inputContainerNode=this.domNode.parentNode;this.labelNode=g.place("\x3clabel\x3e"+
this.label+"\x3c/label\x3e",this.inputContainerNode,"first");this.subLabel&&f.add(this.labelNode,this.subLabelClasses);this.isOptional&&(this.resetLink=g.place("\x3ca href\x3d'#' class\x3d'small-meta margin--lv2'\x3eRemove\x3c/a\x3e",d("label",this.inputContainerNode)[0]),this.own(b(this.resetLink,"click",k.hitch(this,"_resetHandler"))))}},_resetHandler:function(b){b.stopPropagation();b.preventDefault();this.onReset();this.toggleResetLink(!1)},toggleResetLink:function(b){this.resetLink&&c.set(this.resetLink,
"display",b?"":"none")},onReset:function(){}})})},"mojo/widgets/input/DateTime":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./templates/dateTime.html dojo/string dojo/date/locale dojo/_base/array dojo/_base/lang dojo/on dojo/dom-construct dijit/form/DateTextBox".split(" "),function(h,k,d,g,b,c,f,l,e,a,m,n){return h([k,d,g],{label:"Date / Time",templateString:b,tzLabel:"",datePattern:"MMM d yyyy",minDate:null,required:!0,minuteValues:["00",
"15","30","45"],name:"",value:"",postCreate:function(){var b=null;if(this.value){var c=this._parseDateTime(this.value),b=c.date;this.hourSelect.value=c.time.hour;this._initMinuteSelect(c.time.minute);this.meridiemSelect.value=c.time.meridiem}this.dateInput=new n({value:b,required:this.required,constraints:{min:this.minDate,datePattern:this.datePattern}},this.dateInput);this.dateInput.startup();this.own(a(this.hourSelect,"change",e.hitch(this,"_updateFormInput")),a(this.minuteSelect,"change",e.hitch(this,
"_updateFormInput")),a(this.meridiemSelect,"change",e.hitch(this,"_updateFormInput")),a(this.dateInput,"change",e.hitch(this,"_updateFormInput")));this._updateFormInput()},_parseDateTime:function(a){var b=a.split(" ");a=e.trim(b[0]);var c=e.trim(b[1]).split(":"),b=+e.trim(c[0]),c=+e.trim(c[1]),d=12<=b?"PM":"AM";12!=b&&(b=0===b?12:b%12);return{date:a,time:{hour:b,minute:c,meridiem:d}}},_updateFormInput:function(){if(this.dateInput.value){var a=f.format(this.dateInput.value,{selector:"date",datePattern:"y-MM-dd"}),
b=this._getHourValue()+":"+this.minuteSelect.value,a=a+" "+b;this.value=this.formInput.value=a;this.onChange(a)}},_getHourValue:function(){var a=+this.hourSelect.value,b=this.meridiemSelect.value;12===a&&"AM"===b?a=0:"PM"===b&&12!==a&&(a+=12);return a=c.pad(a,2,"0")},_initMinuteSelect:function(a){var b=this;l.forEach(this.minuteValues,function(a){a=m.create("option",{value:a,label:a,innerHTML:a});b.minuteSelect.add(a)});a&&this._setMinutes(a)},_setMinutes:function(a){this._validMinute(a)?this.minuteSelect.value=
a:(l.some(this.minuteValues,e.hitch(this,function(b){return b>a?(this.minuteSelect.value=b,!0):!1})),this.minuteSelect.value||(this.minuteSelect.value=this.minuteValues[0]))},_validMinute:function(a){return l.some(this.minuteValues,function(b){return a&&+b===+a})},onChange:function(a){}})})},"mojo/widgets/input/DaysWeek":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/on dojo/dom dojo/store/Memory dojo/store/Observable dojo/store/DataStore dojox/form/CheckedMultiSelect".split(" "),
function(h,k,d,g,b,c,f,l,e){return h([e],{dropDown:"true",multiple:"true",selectAll:"false",postCreate:function(){this.inherited(arguments);var a=this;this.labelText||(this.labelText="Select days");(new c({idProperty:"value",data:[{label:"Monday",value:"monday",shortLabel:"Mon",dayOfWeek:"1"},{label:"Tuesday",value:"tuesday",shortLabel:"Tue",dayOfWeek:"2"},{label:"Wednesday",value:"wednesday",shortLabel:"Wed",dayOfWeek:"3"},{label:"Thursday",value:"thursday",shortLabel:"Thu",dayOfWeek:"4"},{label:"Friday",
value:"friday",shortLabel:"Fri",dayOfWeek:"5"},{label:"Saturday",value:"saturday",shortLabel:"Sat",dayOfWeek:"6"},{label:"Sunday",value:"sunday",shortLabel:"Sun",dayOfWeek:"0"}]})).query().forEach(function(b){"true"===a.selectAll&&(b.selected="true");a.addOption(b)});g(this,"change",function(){var a=d.filter(this.options,function(a){return a.selected});if(this.dropDown&&this.dropDownButton&&a){var b=-1!=d.indexOf(this.get("value"),"monday"),c=-1!=d.indexOf(this.get("value"),"tuesday"),e=-1!=d.indexOf(this.get("value"),
"wednesday"),f=-1!=d.indexOf(this.get("value"),"thursday"),g=-1!=d.indexOf(this.get("value"),"friday"),h=-1!=d.indexOf(this.get("value"),"saturday"),l=-1!=d.indexOf(this.get("value"),"sunday");if(b&&c&&e&&f&&g&&h&&l)this.dropDownButton.set("label","Every day");else if(b&&c&&e&&f&&g&&!h&&!l)this.dropDownButton.set("label","Weekdays");else if(!b&&!c&&!e&&!f&&!g&&h&&l)this.dropDownButton.set("label","Weekends");else{var k="";d.forEach(a,function(a){k+=(k.length?", ":"")+a.shortLabel});this.dropDownButton.set("label",
k)}}a.length||this.dropDownButton.set("label",this.labelText)});g(this,"click",function(){this.dropDownButton.openDropDown()})},startup:function(){this.inherited(arguments)}})})},"dojo/store/DataStore":function(){define("../_base/lang ../_base/declare ../Deferred ../_base/array ./util/QueryResults ./util/SimpleQueryEngine".split(" "),function(h,k,d,g,b,c){return k("dojo.store.DataStore",null,{target:"",constructor:function(b){h.mixin(this,b);if(!1 in b){var c;try{c=this.store.getIdentityAttributes()}catch(d){}this.idProperty=
!c||!idAttributes[0]||this.idProperty}b=this.store.getFeatures();b["dojo.data.api.Read"]||(this.get=null);b["dojo.data.api.Identity"]||(this.getIdentity=null);b["dojo.data.api.Write"]||(this.put=this.add=null)},idProperty:"id",store:null,queryEngine:c,_objectConverter:function(b){function c(b){for(var f={},g=d.getAttributes(b),h=0;h<g.length;h++){var k=g[h],r=d.getValues(b,k);if(1<r.length){for(k=0;k<r.length;k++){var s=r[k];"object"==typeof s&&d.isItem(s)&&(r[k]=c(s))}s=r}else s=d.getValue(b,k),
"object"==typeof s&&d.isItem(s)&&(s=c(s));f[g[h]]=s}!(a in f)&&d.getIdentity&&(f[a]=d.getIdentity(b));return f}var d=this.store,a=this.idProperty;return function(a){return b(a&&c(a))}},get:function(b,c){var e,a,g=new d;this.store.fetchItemByIdentity({identity:b,onItem:this._objectConverter(function(a){g.resolve(e=a)}),onError:function(b){g.reject(a=b)}});if(void 0!==e)return null==e?void 0:e;if(a)throw a;return g.promise},put:function(b,c){c=c||{};var e="undefined"!=typeof c.id?c.id:this.getIdentity(b),
a=this.store,g=this.idProperty,h=new d;"undefined"==typeof e?(a.newItem(b),a.save({onComplete:function(){h.resolve(b)},onError:function(a){h.reject(a)}})):a.fetchItemByIdentity({identity:e,onItem:function(d){if(d){if(!1===c.overwrite)return h.reject(Error("Overwriting existing object not allowed"));for(var e in b)e!=g&&(b.hasOwnProperty(e)&&a.getValue(d,e)!=b[e])&&a.setValue(d,e,b[e])}else{if(!0===c.overwrite)return h.reject(Error("Creating new object not allowed"));a.newItem(b)}a.save({onComplete:function(){h.resolve(b)},
onError:function(a){h.reject(a)}})},onError:function(a){h.reject(a)}});return h.promise},add:function(b,c){(c=c||{}).overwrite=!1;return this.put(b,c)},remove:function(b){var c=this.store,e=new d;this.store.fetchItemByIdentity({identity:b,onItem:function(a){try{null==a?e.resolve(!1):(c.deleteItem(a),c.save(),e.resolve(!0))}catch(b){e.reject(b)}},onError:function(a){e.reject(a)}});return e.promise},query:function(c,l){var e,a=new d(function(){e.abort&&e.abort()});a.total=new d;var k=this._objectConverter(function(a){return a});
e=this.store.fetch(h.mixin({query:c,onBegin:function(b){a.total.resolve(b)},onComplete:function(b){a.resolve(g.map(b,k))},onError:function(b){a.reject(b)}},l));return b(a)},getIdentity:function(b){return b[this.idProperty]}})})},"dojox/form/CheckedMultiSelect":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/event dojo/dom-geometry dojo/dom-class dojo/dom-construct dojo/i18n dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/registry dijit/Menu dijit/MenuItem dijit/Tooltip dijit/form/_FormSelectWidget dijit/form/ComboButton dojo/text!dojox/form/resources/_CheckedMultiSelectMenuItem.html dojo/text!dojox/form/resources/_CheckedMultiSelectItem.html dojo/text!dojox/form/resources/CheckedMultiSelect.html dojo/i18n!dojox/form/nls/CheckedMultiSelect dijit/form/CheckBox".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s,v,w,u,y){var x=h("dojox.form._CheckedMultiSelectItem",[e,a,m],{templateString:w,baseClass:"dojoxMultiSelectItem",option:null,parent:null,disabled:!1,readOnly:!1,postMixInProperties:function(){this._type=this.parent.multiple?{type:"checkbox",baseClass:"dijitCheckBox"}:{type:"radio",baseClass:"dijitRadio"};this.disabled||(this.disabled=this.option.disabled=this.option.disabled||!1);this.readOnly||(this.readOnly=this.option.readOnly=this.option.readOnly||!1);
this.inherited(arguments)},postCreate:function(){this.inherited(arguments);this.labelNode.innerHTML=this.option.label},_changeBox:function(){!this.get("disabled")&&!this.get("readOnly")&&(this.parent.multiple?this.option.selected=this.checkBox.get("value")&&!0:this.parent.set("value",this.option.value),this.parent._updateSelection(),this.parent.focus())},_onClick:function(a){this.get("disabled")||this.get("readOnly")?g.stop(a):this.checkBox._onClick(a)},_updateBox:function(){this.checkBox.set("value",
this.option.selected)},_setDisabledAttr:function(a){this.disabled=a||this.option.disabled;this.checkBox.set("disabled",this.disabled);c.toggle(this.domNode,"dojoxMultiSelectDisabled",this.disabled)},_setReadOnlyAttr:function(a){this.checkBox.set("readOnly",a);this.readOnly=a}}),A=h("dojox.form._CheckedMultiSelectMenu",p,{multiple:!1,buildRendering:function(){this.inherited(arguments);var a=this.menuTableNode=this.domNode,b=this.domNode=f.create("div",{style:{overflowX:"hidden",overflowY:"scroll"}});
a.parentNode&&a.parentNode.replaceChild(b,a);c.remove(a,"dijitMenuTable");b.className=a.className+" dojoxCheckedMultiSelectMenu";a.className="dijitReset dijitMenuTable";a.setAttribute("role","listbox");b.setAttribute("role","presentation");b.appendChild(a)},resize:function(a){a&&(b.setMarginBox(this.domNode,a),"w"in a&&(this.menuTableNode.style.width="100%"))},onClose:function(){this.inherited(arguments);this.menuTableNode&&(this.menuTableNode.style.width="")},onItemClick:function(a,b){"undefined"==
typeof this.isShowingNow&&this._markActive();this.focusChild(a);if(a.disabled||a.readOnly)return!1;if(!this.multiple)this.onExecute();a.onClick(b)}}),C=h("dojox.form._CheckedMultiSelectMenuItem",t,{templateString:v,option:null,parent:null,iconClass:"",postMixInProperties:function(){this.parent.multiple?(this._iconClass="dojoxCheckedMultiSelectMenuCheckBoxItemIcon",this._type={type:"checkbox"}):(this._iconClass="",this._type={type:"hidden"});this.disabled=this.option.disabled;this.checked=this.option.selected;
this.label=this.option.label;this.readOnly=this.option.readOnly;this.inherited(arguments)},onChange:function(a){},_updateBox:function(){c.toggle(this.domNode,"dojoxCheckedMultiSelectMenuItemChecked",!!this.option.selected);this.domNode.setAttribute("aria-checked",this.option.selected);this.inputNode.checked=this.option.selected;this.parent.multiple||c.toggle(this.domNode,"dijitSelectSelectedOption",!!this.option.selected)},_onClick:function(a){!this.disabled&&!this.readOnly&&(this.parent.multiple?
(this.option.selected=!this.option.selected,this.parent.onChange(),this.onChange(this.option.selected)):this.option.selected||(d.forEach(this.parent.getChildren(),function(a){a.option.selected=!1}),this.option.selected=!0,this.parent.onChange(),this.onChange(this.option.selected)));this.inherited(arguments)}});return h("dojox.form.CheckedMultiSelect",r,{templateString:u,baseClass:"dojoxCheckedMultiSelect",required:!1,invalidMessage:"$_unset_$",_message:"",dropDown:!1,labelText:"",tooltipPosition:[],
postMixInProperties:function(){this.inherited(arguments);this._nlsResources=l.getLocalization("dojox.form","CheckedMultiSelect",this.lang);"$_unset_$"==this.invalidMessage&&(this.invalidMessage=this._nlsResources.invalidMessage)},_fillContent:function(){this.inherited(arguments);if(this.options.length&&!this.value&&this.srcNodeRef){var a=this.srcNodeRef.selectedIndex||0;this.value=this.options[0<=a?a:0].value}this.dropDown&&(c.toggle(this.selectNode,"dojoxCheckedMultiSelectHidden"),this.dropDownMenu=
new A({id:this.id+"_menu",style:"display: none;",multiple:this.multiple,onChange:k.hitch(this,"_updateSelection")}))},startup:function(){this.inherited(arguments);this.dropDown&&(this.dropDownButton=new s({label:this.labelText,dropDown:this.dropDownMenu,baseClass:"dojoxCheckedMultiSelectButton",maxHeight:this.maxHeight},this.comboButtonNode))},_onMouseDown:function(a){a.preventDefault()},validator:function(){return!this.required?!0:d.some(this.getOptions(),function(a){return a.selected&&null!=a.value&&
0!=a.value.toString().length})},validate:function(a){q.hide(this.domNode);(a=this.isValid(a))||this.displayMessage(this.invalidMessage);return a},isValid:function(a){return this.validator()},getErrorMessage:function(a){return this.invalidMessage},displayMessage:function(a){q.hide(this.domNode);a&&q.show(a,this.domNode,this.tooltipPosition)},onAfterAddOptionItem:function(a,b){},_addOptionItem:function(a){var b;this.dropDown?(b=new C({option:a,parent:this.dropDownMenu}),this.dropDownMenu.addChild(b)):
(b=new x({option:a,parent:this,disabled:this.disabled,readOnly:this.readOnly}),this.wrapperDiv.appendChild(b.domNode));this.onAfterAddOptionItem(b,a)},_refreshState:function(){this.validate(this.focused)},onChange:function(a){this._refreshState()},reset:function(){this.inherited(arguments);q.hide(this.domNode)},_updateSelection:function(){this.inherited(arguments);this._handleOnChange(this.value);d.forEach(this._getChildren(),function(a){a._updateBox()});f.empty(this.containerNode);var a=this;d.forEach(this.value,
function(b){b=f.create("option",{value:b,label:b,selected:"selected"});f.place(b,a.containerNode)});if(this.dropDown&&this.dropDownButton){var b=0,c="";d.forEach(this.options,function(a){a.selected&&(b++,c=a.label)});this.dropDownButton.set("label",this.multiple?k.replace(this._nlsResources.multiSelectLabelText,{num:b}):c)}},_getChildren:function(){return this.dropDown?this.dropDownMenu.getChildren():d.map(this.wrapperDiv.childNodes,function(a){return n.byNode(a)})},invertSelection:function(a){this.multiple&&
(d.forEach(this.options,function(a){a.selected=!a.selected}),this._updateSelection())},_setDisabledAttr:function(a){this.inherited(arguments);this.dropDown&&this.dropDownButton.set("disabled",a);d.forEach(this._getChildren(),function(b){b&&b.set&&b.set("disabled",a)})},_setReadOnlyAttr:function(a){this.inherited(arguments);"readOnly"in this.attributeMap&&this[this.attributeMap.readOnly].setAttribute("readonly",a);this.readOnly=a;d.forEach(this._getChildren(),function(b){b&&b.set&&b.set("readOnly",
a)})},uninitialize:function(){q.hide(this.domNode);d.forEach(this._getChildren(),function(a){a.destroyRecursive()});this.inherited(arguments)}})})},"mojo/widgets/input/Display":function(){define(["dojo/_base/declare","dojo/_base/array","dijit/form/Select","./_WithLabelMixin"],function(h,k,d,g){return h([d,g],{label:"Display",constructor:function(){this.options=[{label:"Show",value:"block"},{label:"Hide",value:"none"}]}})})},"mojo/widgets/input/Font":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./templates/fontInput.html dojo/dom-construct dojo/dom-class dojo/_base/lang dojo/_base/array dojo/on mojo/user mojo/flags mojo/neapolitan/style-keys mojo/widgets/input/FontFamily mojo/widgets/input/FontSize mojo/widgets/input/Color mojo/widgets/input/TextAlign mojo/widgets/input/LineHeight mojo/widgets/input/FontStyle mojo/widgets/input/LetterSpacing".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s,v,w,u){return h([k,d,g],{templateString:b,selector:null,properties:null,isOptional:!1,familyInput:null,sizeInput:null,colorInput:null,alignInput:null,lineHeightInput:null,spacingInput:null,styleInput:null,postMixInProperties:function(){this.properties||(this.properties={});this._commonInputProps={isOptional:this.isOptional,selector:this.selector,subLabel:!0}},postCreate:function(){this.properties.hasOwnProperty(p.FONT_FAMILY)&&this._addFamilyInput(this.properties[p.FONT_FAMILY]);
this.properties.hasOwnProperty(p.FONT_SIZE)&&this._addSizeInput(this.properties[p.FONT_SIZE]);this.properties.hasOwnProperty(p.COLOR)&&this._addColorInput(this.properties[p.COLOR]);this.properties.hasOwnProperty(p.TEXT_ALIGN)&&this._addAlignInput(this.properties[p.TEXT_ALIGN]);this.properties.hasOwnProperty(p.LINE_HEIGHT)&&this._addLineHeightInput(this.properties[p.LINE_HEIGHT]);this.properties.hasOwnProperty(p.LETTER_SPACING)&&this._addSpacingInput(this.properties[p.LETTER_SPACING]);this._hasStyleProperties()&&
this._addFontStyleInput()},updateValue:function(a,b){switch(a){case p.FONT_FAMILY:this.familyInput.set("value",b,!1);break;case p.FONT_SIZE:this.sizeInput.set("value",b,!1);break;case p.COLOR:this.colorInput.set("value",b,!1);break;case p.TEXT_ALIGN:this.alignInput.set("value",b,!1);break;case p.LINE_HEIGHT:this.lineHeightInput.set("value",b,!1);break;case p.LETTER_SPACING:this.spacingInput.set("value",b,!1);break;case p.FONT_WEIGHT:case p.FONT_STYLE:case p.TEXT_DECORATION:this.styleInput.updateValue(a,
b)}},_hasStyleProperties:function(){return e.some(p.FONT_STYLES_PROPS,l.hitch(this,function(a){return this.properties.hasOwnProperty(a)}))},_addFamilyInput:function(b){this.familyInput=new t(l.mixin({value:b,label:"Font",webfont_enable:!0},this._commonInputProps));this.familyInput.startup();c.place(this.familyInput.inputContainerNode,this.familyContainer,"only");f.remove(this.familyContainer,"hide");this.own(a(this.familyInput,"change",l.hitch(this,function(){this.onChange(p.FONT_FAMILY,this.familyInput.value)})))},
_addSizeInput:function(b){this.sizeInput=new q(l.mixin({label:"Size",value:b},this._commonInputProps));this.sizeInput.startup();c.place(this.sizeInput.inputContainerNode,this.sizeContainer,"only");f.remove(this.sizeColorContainer,"hide");f.remove(this.sizeContainer,"hide");this.own(a(this.sizeInput,"change",l.hitch(this,function(){this.onChange(p.FONT_SIZE,this.sizeInput.value)})))},_addColorInput:function(b){this.colorInput=new r(l.mixin({value:b},this._commonInputProps));this.colorInput.startup();
c.place(this.colorInput.inputContainerNode,this.colorContainer,"only");f.remove(this.sizeColorContainer,"hide");f.remove(this.colorContainer,"hide");this.own(a(this.colorInput,"change",l.hitch(this,function(){this.onChange(p.COLOR,this.colorInput.value)})))},_addFontStyleInput:function(){this.styleInput=new w(l.mixin({label:"Styles",properties:this.properties},this._commonInputProps));c.place(this.styleInput.inputContainerNode,this.styleContainer,"only");f.remove(this.styleAlignContainer,"hide");
f.remove(this.styleContainer,"hide");this.own(a(this.styleInput,"change",l.hitch(this,function(a,b){this.onChange(a,b)})))},_addAlignInput:function(b){this.alignInput=new s(l.mixin({label:"Align",value:b},this._commonInputProps));this.alignInput.startup();c.place(this.alignInput.inputContainerNode,this.alignContainer,"only");f.remove(this.styleAlignContainer,"hide");f.remove(this.alignContainer,"hide");this.own(a(this.alignInput,"change",l.hitch(this,function(){this.onChange(p.TEXT_ALIGN,this.alignInput.value)})))},
_addLineHeightInput:function(b){this.lineHeightInput=new v(l.mixin({value:b},this._commonInputProps));this.lineHeightInput.startup();c.place(this.lineHeightInput.inputContainerNode,this.lineHeightContainer,"only");f.remove(this.lineHeightSpacingContainer,"hide");f.remove(this.lineHeightContainer,"hide");this.own(a(this.lineHeightInput,"change",l.hitch(this,function(){this.onChange(p.LINE_HEIGHT,this.lineHeightInput.value)})))},_addSpacingInput:function(b){this.spacingInput=new u(l.mixin({label:"Spacing",
value:b},this._commonInputProps));this.spacingInput.startup();c.place(this.spacingInput.inputContainerNode,this.spacingContainer,"only");f.remove(this.lineHeightSpacingContainer,"hide");f.remove(this.spacingContainer,"hide");this.own(a(this.spacingInput,"change",l.hitch(this,function(){this.onChange(p.LETTER_SPACING,this.spacingInput.value)})))},onChange:function(a,b){}})})},"mojo/widgets/input/FontFamily":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/dom-construct dojo/dom-class dijit/form/Select dijit/MenuSeparator dojo/text!./templates/optGroupLabel.html mojo/widgets/input/_WithLabelMixin".split(" "),
function(h,k,d,g,b,c,f,l,e){var a=[{label:"Arial",value:"Arial, 'Helvetica Neue', Helvetica, sans-serif"},{label:"Comic Sans",value:"'Comic Sans MS', 'Marker Felt-Thin', Arial, sans-serif"},{label:"Courier New",value:"'Courier New', Courier, 'Lucida Sans Typewriter', 'Lucida Typewriter', monospace"},{label:"Georgia",value:"Georgia, Times, 'Times New Roman', serif"},{label:"Helvetica",value:"'Helvetica Neue', Helvetica, Arial, Verdana, sans-serif"},{label:"Lucida",value:"'Lucida Sans Unicode', 'Lucida Grande', sans-serif"},
{label:"Tahoma",value:"Tahoma, Verdana, Segoe, sans-serif"},{label:"Times New Roman",value:"'Times New Roman', Times, Baskerville, Georgia, serif"},{label:"Trebuchet MS",value:"'Trebuchet MS', 'Lucida Grande', 'Lucida Sans Unicode', 'Lucida Sans', Tahoma, sans-serif"},{label:"Verdana",value:"Verdana, Geneva, sans-serif"}],m=[{label:"Arvo",value:"'Arvo', 'Courier', Georgia, serif"},{label:"Lato",value:"'Lato', 'Helvetica Neue', Helvetica, Arial, sans-serif"},{label:"Lora",value:"'Lora', Georgia, 'Times New Roman', serif"},
{label:"Merriweather",value:"'Merriweather', Georgia, 'Times New Roman', serif"},{label:"Merriweather Sans",value:"'Merriweather Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif"},{label:"Noticia Text",value:"'Noticia Text', Georgia, 'Times New Roman', serif"},{label:"Open Sans",value:"'Open Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif"},{label:"Playfair Display",value:"'Playfair Display', Georgia, 'Times New Roman', serif"},{label:"Roboto",value:"'Roboto', 'Helvetica Neue', Helvetica, Arial, sans-serif"},
{label:"Source Sans Pro",value:"'Source Sans Pro', 'Helvetica Neue', Helvetica, Arial, sans-serif"}],n=h([f],{templateString:l,label:""});return h([c,e],{label:"Font Family",webfont_enable:!1,maxHeight:-1,"class":"!margin-bottom--lv0",constructor:function(b){this.options=d.clone(a);b.webfont_enable&&(this.options=this.options.concat(d.clone(m)),this.options.unshift({optGroup:!0,optGroupLabel:"Standard web fonts",label:"",value:""}),this.options.splice(a.length+1,0,{optGroup:!0,optGroupLabel:"Custom web fonts",
label:"",value:""}));k.forEach(this.options,function(a){a.optGroup||(a.label='\x3cspan class\x3d"mojoFontFamilyInputLabel" style\x3d"font-family: '+a.value+'" \x3e'+a.label+"\x3c/span\x3e")});b.isOptional&&this.options.unshift({label:"Not specified",value:""})},startup:function(){this.inherited(arguments);this._toggleWebFontWarning()},_setValueAttr:function(a){var b=a;null==this.options[b]&&k.some(this.options,function(a){return 0<=a.label.indexOf(b)||0==a.value.replace('"',"").indexOf(b)?(b=a.value,
!0):!1});this.inherited(arguments,[b]);this._toggleWebFontWarning()},_fillContent:function(){this.inherited(arguments);b.toggle(this.dropDown.domNode,"dijitSelectWithOptionGroup",this.webfont_enable)},_getMenuItemForOption:function(a){return a.optGroup?new n({label:a.optGroupLabel}):this.inherited(arguments)},_toggleWebFontWarning:function(){if(this._created&&this.webfont_enable){var a=this.value,c=m.some(function(b){return b.value===a});this.webfontWarning||(this.webfontWarning=g.place("\x3cp class\x3d'font-weight--bold small-meta dim-el'\x3eIf an email client \x3ca href\x3d'http://kb.mailchimp.com/campaigns/design/limitations-of-html-email' target\x3d'_blank'\x3edoesn't support web fonts\x3c/a\x3e, we'll use a similar standard font instead.\x3c/p\x3e",
this.domNode,"after"));b.toggle(this.webfontWarning,"hide",!c)}}})})},"mojo/widgets/input/FontSize":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/on dojo/keys dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin ./_WithLabelMixin dijit/_HasDropDown dijit/DropDownMenu dijit/MenuItem dojo/text!./templates/fontSize.html".split(" "),function(h,k,d,g,b,c,f,l,e,a,m,n,p){var t=h("mojo.widgets.input.FontSize._Menu",m,{baseClass:"mojoFontSizeInput_menu dijitMenu",
autoFocus:!0,focus:function(){var a=!1,b=this.parentWidget.value;b&&k.forEach(this.getChildren(),function(c){c.label&&b===c.label&&(a=!0,this.focusChild(c,!1))},this);a||this.inherited(arguments)}});return h([c,f,l,a,e],{label:"Font Size",templateString:p,sizes:[9,10,11,12,13,14,16,18,24,30,36,48,60,72],initialized:!1,value:null,postCreate:function(){this.inherited(arguments);this._populateFontMenu();this._setInputValue(this.value);this.own(g(this.textInput,"change",d.hitch(this,function(){this.set("value",
this.textInput.value)})),g(this.textInput,"keypress",d.hitch(this,function(a){a.charOrCode===b.ENTER&&this.set("value",this.textInput.displayedValue)})));this.initialized=!0},_populateFontMenu:function(){var a=this;a.dropDown=new t({parentWidget:this});k.forEach(this.sizes,function(b){var c=new n({label:b+"px",onClick:function(){a.set("value",b)}});a.dropDown.addChild(c)})},_setInputValue:function(a){this.textInput.set("value",a)},_setValueAttr:function(a){null===a&&(a="");(a=a.toString().replace(/[^0-9]/g,
""))?(a=+a,200<a&&(a=200),a+="px"):this.isOptional||(a=this.sizes[0]+"px");this._set("value",a);this.initialized&&(this._setInputValue(a),this.onChange(a))},onChange:function(a){}})})},"mojo/widgets/input/TextAlign":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dojo/text!./templates/textAlignInput.html dojo/on dojo/query dojo/dom-attr ./_WithResetLinkMixin".split(" "),function(h,k,d,g,b,c,f,l){return h([k,d,l],{templateString:g,initialized:!1,buildRendering:function(){this.name||
(this.name=this.id+"_textAlign");this.inherited(arguments)},postCreate:function(){var c=this;this.originalValue=this.value;c.inherited(arguments);c.initialized=!0;c._toggleActive();this.own(b(this.domNode,"[type\x3dradio]:change",function(){c.set("value",this.value)}))},_setValueAttr:function(b){this._set("value",b);this.initialized&&this._toggleActive();this.onChange(b)},_toggleActive:function(){var b=this.get("value");if(b){var a=c("[type\x3dradio][value\x3d"+b+"]",this.domNode)[0];a&&(a.checked=
!0)}else if(a=c("[type\x3dradio]:checked",this.domNode)[0])a.checked=!1;this.toggleResetLink(""!==b)},onReset:function(){this.set("value","")},reset:function(){this.set("value",this.originalValue)},onChange:function(b){}})})},"mojo/widgets/input/LineHeight":function(){define(["dojo/_base/declare","dojo/_base/array","dijit/form/Select","./_WithLabelMixin"],function(h,k,d,g){return h([d,g],{label:"Line height",constructor:function(b){this.options=[{label:"Normal",value:"100%"},{label:"Slight",value:"125%"},
{label:"1 1/2 spacing",value:"150%"},{label:"Double space",value:"200%"}];b.isOptional&&this.options.unshift({label:"Not specified",value:""})}})})},"mojo/widgets/input/FontStyle":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin ./_WithLabelMixin dojo/_base/lang dojo/dom-construct dojo/query dojo/on".split(" "),function(h,k,d,g,b,c,f,l){return h([k,d,g],{label:"Font Style",templateString:'\x3cdiv class\x3d"mojoFontStyle flex"\x3e\x3c/div\x3e',_checkboxTpl:'\x3cinput type\x3d"checkbox" class\x3d"v-visuallyHidden v-buttonGroupControl" id\x3d"{id}" value\x3d"{value}"\x3e\x3clabel for\x3d"{id}" class\x3d"v-buttonGroupLabel"\x3e\x3cspan class\x3d"freddicon {icon}"\x3e\x3c/span\x3e\x3c/label\x3e',
selector:null,fontStyle:null,fontWeight:null,textDecoration:null,properties:null,_inputs:null,postMixInProperties:function(){this.properties||(this.properties={});this._inputs={}},postCreate:function(){this.inherited(arguments);this.properties.hasOwnProperty("font-weight")&&this._addInput("bold","text-bold");this.properties.hasOwnProperty("font-style")&&this._addInput("italic","text-italics");this.properties.hasOwnProperty("text-decoration")&&(this._addInput("underline","text-underline"),this._addInput("strikethrough",
"text-strikethrough"));f("[type\x3dcheckbox]",this.domNode).forEach(b.hitch(this,function(a){this._inputs[a.value]=a}));for(var c in this.properties)this.properties.hasOwnProperty(c)&&this.updateValue(c,this.properties[c]);this.own(l(this.domNode,"[type\x3dcheckbox]:change",b.hitch(this,"_updateProperties")));this.watch(b.hitch(this,function(a,b,c){b=null;switch(a){case "fontWeight":b="font-weight";break;case "fontStyle":b="font-style";break;case "textDecoration":b="text-decoration"}if(b)this.onChange(b,
c)}))},updateValue:function(b,a){switch(b){case "font-weight":this._inputs.bold.checked=a&&"bold"===a.toLowerCase();break;case "font-style":this._inputs.italic.checked=a&&"italic"===a.toLowerCase();break;case "text-decoration":var c="";"string"===typeof a&&(c=a.toLowerCase());var d=0<=c.indexOf("line-through"),c=0<=c.indexOf("underline");this._inputs.strikethrough.checked=d;this._inputs.underline.checked=c}},_addInput:function(d,a){c.place(b.replace(this._checkboxTpl,{id:this.id+"_"+d,value:d,icon:a}),
this.domNode)},_updateProperties:function(){var b=this._inputs.bold,a=this._inputs.italic,c=this._inputs.underline,d=this._inputs.strikethrough;b&&this.set("fontWeight",b.checked?"bold":"normal");a&&this.set("fontStyle",a.checked?"italic":"normal");c&&d&&(b=[],c.checked&&b.push("underline"),d.checked&&b.push("line-through"),this.set("textDecoration",b.length?b.join(" "):"none"))},onChange:function(b,a){}})})},"mojo/widgets/input/LetterSpacing":function(){define(["dojo/_base/declare","dijit/form/Select",
"./_WithLabelMixin"],function(h,k,d){return h([k,d],{label:"Letter Spacing",range:5,maxHeight:-1,constructor:function(){this.options=[];for(var d=-this.range;0>d;d++)this.options.push({label:d+"px",value:d+"px"});this.options.push({label:"Normal",value:"normal"});for(d=0;d<=this.range;d++)this.options.push({label:d+"px",value:d+"px"})}})})},"mojo/widgets/input/InfoMenuItem":function(){define(["dojo/_base/lang","dojo/_base/array","dojo/_base/declare","dijit/MenuItem"],function(h,k,d,g){return d([g],
{badgeTpl:'\x3cspan class\x3d"badge {badgeType} margin--lv2 !margin-top-bottom--lv0 !margin-right--lv0"\x3e{badge}\x3c/span\x3e',metaTpl:'{label}\x3cdiv class\x3d"fwn dim-el"\x3e{meta}\x3c/div\x3e',mediaTpl:'\x3cdiv class\x3d"selfclear"\x3e\x3cdiv class\x3d"float-left u-square--lv1 margin--lv2 !margin-top-bottom--lv0 !margin-left--lv0"\x3e\x3cimg src\x3d"{imageSrc}" height\x3d"36"\x3e\x3c/div\x3e\x3cdiv class\x3d"float-left"\x3e\x3cdiv class\x3d"line-height--lv3"\x3e{label}\x3c/div\x3e\x3cdiv class\x3d"fwn dim-el line-height--lv3"\x3e{meta}\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e',
_setLabelAttr:function(b){var c=this.option.badge,d=this.option.badgeType,g=this.option.imageSrc,e=this.option.meta||"";c&&(b+=h.replace(this.badgeTpl,{badge:c,badgeType:d}));g?b=h.replace(this.mediaTpl,{imageSrc:g,label:b,meta:e}):e&&(b=h.replace(this.metaTpl,{label:b,meta:e}));this.inherited(arguments,[b])}})})},"mojo/widgets/input/InfoSelect":function(){define("dojo/_base/lang dojo/_base/declare dojo/_base/array dojo/query dijit/form/Select dijit/MenuSeparator mojo/widgets/input/InfoMenuItem".split(" "),
function(h,k,d,g,b,c,f){return k([b],{_fillContent:function(){this.inherited(arguments);this.srcNodeRef&&d.forEach(this.options,h.hitch(this,function(b){var c=g("[value\x3d"+b.value+"]",this.srcNodeRef)[0];c&&(b.meta=c.getAttribute("data-meta"),b.imageSrc=c.getAttribute("data-image-src"),b.skip=c.getAttribute("data-skip"),b.badge=c.getAttribute("data-badge"),b.badgeType=c.getAttribute("data-badge-type")||"info")}))},_getMenuItemForOption:function(b){if(!b.value&&!b.label)return new c({ownerDocument:this.ownerDocument});
var d=h.hitch(this,"_setValueAttr",b);b=new f({option:b,label:("text"===this.labelType?(b.label||"").toString().replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;"):b.label)||this.emptyLabel,onClick:d,ownerDocument:this.ownerDocument,dir:this.dir,textDir:this.textDir,disabled:b.disabled||!1});b.focusNode.setAttribute("role","option");return b},_addOptionItem:function(b){this.dropDown&&!b.skip&&this.dropDown.addChild(this._getMenuItemForOption(b))}})})},"mojo/widgets/input/Measurement":function(){define("dojo/_base/declare dojo/dom-construct dijit/_WidgetBase dijit/form/TextBox dojo/string ./_WithLabelMixin".split(" "),
function(h,k,d,g,b,c){return h([d,c],{baseClass:"mojoMeasurementInput",_setValueAttr:function(c){c=c.replace(/ /g,"");null===c.match("%")?(this.suffix="px",c.match("px")&&(c=b.trim(c.replace("px","")))):this.suffix="";null!=this.input&&this.input.set("value",c,!1);this._updateSuffix();var d=this.get("value");this._set("value",c+this.suffix);if(d!=c)this.onChange(c+this.suffix);this.inherited(arguments,[c])},postCreate:function(){this.originalValue=this.get("value");this.input=new g({value:this.get("value")});
this.input.startup();this.input.placeAt(this.domNode);this.set("value",this.get("value"));this.suffixDom=k.place('\x3cspan class\x3d"suffix"\x3e'+this.suffix+"\x3c/span\x3e",this.domNode);this.connect(this.input,"onChange","_setValueAttr");this.inherited(arguments)},_updateSuffix:function(){this.suffixDom&&(this.suffixDom.innerHTML=this.suffix)},reset:function(){this.set("value",this.originalValue)},onChange:function(b){}})})},"mojo/widgets/input/TagAutocomplete":function(){define("dojo/_base/declare dojo/_base/lang dojo/on dojo/keys dojo/dom-class dojo/dom-geometry dojo/dom-style dijit/focus mojo/widgets/input/_TagBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/_FocusMixin dojo/text!./templates/tagAutocomplete.html dijit/form/FilteringSelect dojo/store/Memory dojox/html/entities".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r){return h([e,a,m,n],{templateString:p,store:null,autoComplete:!0,queryExpr:"${0}",postCreate:function(){b.add(this.inputField._buttonNode,"hide");this.inputField.autoComplete=this.autoComplete;this.inputField.store=this.store;this.inputField.queryExpr=this.queryExpr;this.own(d(this,"click",k.hitch(this,function(a){l.focus(this.domNode);a.stopPropagation();a.preventDefault()})),d(this,"dblclick",k.hitch(this,"_onDblClick")),d(this.removeBtn,"click",k.hitch(this,
function(a){a.stopPropagation();a.preventDefault();this.destroy()})),d(this.inputField,"change",k.hitch(this,function(){var a=this.inputField.item;a&&(this.setValue(a.id),this.setLabel(a.name));this.inputField.focusNode.blur();this.tagList.moveToNewTag()})));this.setValue(this.value);this.viewMode()},getCurrentInput:function(){return this.inputField.focusNode.value||""},isBlank:function(){return!this.getValue()&&(this.inViewMode()||!this.getCurrentInput())},setLabel:function(a){this.inherited(arguments);
this._updateValue()},viewMode:function(){this.domNode&&(b.add(this.domNode,"view-mode"),b.remove(this.domNode,"edit-mode"));this.focused&&b.add(this.domNode,"active");this._updateValue();this.inputField.focusNode.blur();this.inherited(arguments)},editMode:function(){this.domNode&&(b.remove(this.domNode,"view-mode"),b.add(this.domNode,"edit-mode"));this._adjustTextInput();l.focus(this.inputField.focusNode);b.remove(this.domNode,"active");this.inherited(arguments)},_updateValue:function(){this.tagLabel.innerHTML=
r.encode(this.getLabel());this._adjustTextInput()},_adjustTextInput:function(){var a=c.position(this.tagLabel).w+50;f.set(this.inputField,"width",a+"px")},focus:function(){l.focus(this.domNode);this._onFocus()},_onFocus:function(){b.toggle(this.domNode,"active",this.inViewMode());this.inherited(arguments)},_onBlur:function(){b.remove(this.domNode,"active");this.viewMode();this.inherited(arguments)},_onDblClick:function(){this.inViewMode()&&(this.editMode(),this.inputField.select())}})})},"mojo/widgets/input/Visibility":function(){define(["dojo/_base/declare",
"dijit/form/Select","./_WithLabelMixin"],function(h,k,d){return h([k,d],{label:"Visibility",constructor:function(){this.options=[{label:"Show",value:"visible"},{label:"Hide",value:"hidden"}]}})})},"mojo/widgets/ecommerce/ProductPicker":function(){define("dojo/_base/declare dojo/_base/lang dojo/request dojo/on dojo/dom-class dojo/dom-attr dojo/aspect dojo/Deferred dojo/store/Memory dojo/store/Cache dojo/store/util/QueryResults dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/form/FilteringSelect dojo/text!./templates/productPicker.html dojo/text!./templates/productResultItem.html dijit/Dialog mojo/url".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s,v,w){var u=h([e],{storeId:null,query:function(a){a=k.isString(a)?a:a.name.toString();a=w.toUrl("/ecommerce/products-search",{store_id:this.storeId,term:a});a=d(a,{handleAs:"json"}).then(function(a){return a.map(function(a){a.image_url=w.addProxy(a.image_url);return{product:a,id:a.product_id,name:a.title,label:k.replace(s,a)}})});a.total=a.then(function(a){return a.length});return m(a)}}),y=h([n,p,t],{templateString:r,stores:null,deferredInsert:null,dialogTitle:"Select a product",
_readyPromise:null,_dataStores:null,_pickType:null,postMixInProperties:function(){this._dataStores={}},postCreate:function(){this._readyPromise=this._getStores().then(k.hitch(this,function(a){this.stores=a.stores;this._initInputs()}));this.own(g(this.cancelBtn,"click",k.hitch(this,function(){this._hide()})),g(this.saveBtn,"click",k.hitch(this,function(){switch(this._pickType){case "product":var a=this._getMemoryStore(this.storeSelect.value);this.productSearchInput.value&&(a=a.get(this.productSearchInput.value),
this._productsChosen([a.product]));break;case "topSellers":this._returnTopSellers();break;default:throw Error("Unknown pick type:"+this._pickType);}})))},chooseProduct:function(){this._pickType="product";this.deferredInsert=new l;this._readyPromise.then(k.hitch(this,function(){this._show()}));return this.deferredInsert.promise},chooseProductFromStore:function(a){this._pickType="product";this.deferredInsert=new l;this._readyPromise.then(k.hitch(this,function(){this._show();this.storeSelect.value=a;
b.add(this.storeContainer,"hide")}));return this.deferredInsert.promise},chooseTopSellers:function(){this._pickType="topSellers";this.deferredInsert=new l;this._readyPromise.then(k.hitch(this,function(){1<this.stores.length?(b.add(this.productSearchContainer,"hide"),this.saveBtn.innerHTML="Select",this.dialogTitle="Select a store",this._show()):1===this.stores.length&&this._returnTopSellers()}));return this.deferredInsert.promise},_toggleInsertBtn:function(){switch(this._pickType){case "product":c.set(this.saveBtn,
"disabled",!this.productSearchInput.value);break;default:c.remove(this.saveBtn,"disabled")}},_productsChosen:function(a){this.deferredInsert.resolve(a);this._hide()},_initInputs:function(){this.stores.forEach(k.hitch(this,function(a){this.storeSelect.addOption({value:a.store_id,label:a.name})}));1===this.stores.length&&b.add(this.storeContainer,"hide");this.productSearchInput=new q({autoComplete:!1,queryExpr:"${0}",labelAttr:"label",labelType:"html",placeHolder:"Search by name",invalidMessage:"No product found.",
required:!1},this.productSearchInput);this.productSearchInput.startup();this.productSearchInput.store=this._getMemoryStore(this.storeSelect.value);this.own(g(this.storeSelect,"change",k.hitch(this,function(){this.productSearchInput.store=null;this.productSearchInput.reset();this.productSearchInput.store=this._getMemoryStore(this.storeSelect.value)})),g(this.productSearchInput,"change",k.hitch(this,function(){this._toggleInsertBtn()})))},_getMemoryStore:function(b){this._dataStores[b]||(this._dataStores[b]=
new a(new u({storeId:b}),new e));return this._dataStores[b]},_getStores:function(){return d.get(w.toUrl("/ecommerce/stores"),{handleAs:"json"})},_returnTopSellers:function(){d.get(w.toUrl("/ecommerce/products-search"),{query:{store_id:this.storeSelect.value,type:"topSellers"},handleAs:"json"}).then(k.hitch(this,function(a){this._productsChosen(a)}))},_show:function(){this.dialog=new v({title:this.dialogTitle,content:this.domNode,style:"width:450px;"});f.after(this.dialog,"hide",k.hitch(this,function(){this.destroy()}));
this.dialog.startup();this.dialog.show();this._toggleInsertBtn()},_hide:function(){this.dialog?this.dialog.hide():this.destroy()},destroy:function(){this.inherited(arguments)}}),x=null,A=function(){x&&x._hide();x=new y;x.startup();return x};return{chooseProduct:function(){return A().chooseProduct()},chooseProductFromStore:function(a){return A().chooseProductFromStore(a)},chooseTopSellers:function(){return A().chooseTopSellers()}}})},"dojo/store/Cache":function(){define(["../_base/lang","../when"],
function(h,k){var d=function(d,b,c){c=c||{};return h.delegate(d,{query:function(f,h){var e=d.query(f,h);e.forEach(function(a){(!c.isLoaded||c.isLoaded(a))&&b.put(a)});return e},queryEngine:d.queryEngine||b.queryEngine,get:function(c,h){return k(b.get(c),function(e){return e||k(d.get(c,h),function(a){a&&b.put(a,{id:c});return a})})},add:function(c,h){return k(d.add(c,h),function(d){b.add(d&&"object"==typeof d?d:c,h);return d})},put:function(c,h){b.remove(h&&h.id||this.getIdentity(c));return k(d.put(c,
h),function(d){b.put(d&&"object"==typeof d?d:c,h);return d})},remove:function(c,h){return k(d.remove(c,h),function(d){return b.remove(c,h)})},evict:function(c){return b.remove(c)}})};h.setObject("dojo.store.Cache",d);return d})},"mojo/widgets/content-manager/DeselectAll":function(){define("dojo/_base/declare dojo/_base/lang dojo/on dijit/_Templated dojo/text!./templates/DeselectAll.html mojo/utils mojo/analytics/parts/_Part".split(" "),function(h,k,d,g,b,c,f){return h([f,g],{templateString:b,label:"item",
init:function(){this.target.selected.watch(k.hitch(this,"updateTotal"));d(this.deselectBtn,"click",k.hitch(this,function(){this.target.toggleAll(!1)}))},updateTotal:function(){var b=this.target.getSelection().length,b=b+" "+c.plural(b,this.label);this.desktopLabel.innerHTML=b;this.mobileLabel.innerHTML=b}})})},"mojo/widgets/content-manager/DisplayToggle":function(){define(["dojo/_base/declare","mojo/analytics/parts/DisplayToggle","dojo/dom-class"],function(h,k,d){return h([k],{init:function(){this.inherited(arguments)},
_showGrid:function(g){this.inherited(arguments);var b=this.target.domNode.parentNode;d.remove(b,"grid-active");d.toggle(b,"v-gridView--active",g);d.toggle(b,"v-listView--active",!g)}})})},"mojo/analytics/parts/DisplayToggle":function(){define("dojo/_base/declare ./_Part dijit/_Templated dojo/text!./templates/displayToggle.html dojo/on dojo/_base/lang dojo/dom-class mojo/user".split(" "),function(h,k,d,g,b,c,f,l){return h([k,d],{templateString:g,displayGrid:l.settings.fileManagerShowGrid,init:function(){b(this.grid,
"click",c.hitch(this,function(){this._showGrid(!0)}));b(this.list,"click",c.hitch(this,function(){this._showGrid(!1)}));this._showGrid(this.displayGrid)},_showGrid:function(b){this.displayGrid=b;l.saveSetting("filemanager_show_grid",b);var a=this.target.domNode.parentNode;b?(f.add(a,"grid-active"),f.replace(this.grid,"v-buttonGroupBordered--active","depressed"),f.replace(this.list,"depressed","v-buttonGroupBordered--active")):(f.remove(a,"grid-active"),f.replace(this.list,"v-buttonGroupBordered--active",
"depressed"),f.replace(this.grid,"depressed","v-buttonGroupBordered--active"))},onChange:function(b){}})})},"mojo/widgets/campaigns/AdSlat":function(){define("dojo/_base/declare dojo/dom-class dojo/on dojo/_base/lang mojo/utils ./Slat".split(" "),function(h,k,d,g,b,c){return h([c],{channelIcon:"c-campaignManager_slat_icon--ad",statusContent:{scheduled:{label:"Scheduled",badge:"info",description:"Scheduled to start \x3cstrong\x3e{when}\x3c/strong\x3e"},paused:{label:"Paused",badge:"info",description:"Paused \x3cstrong\x3e{when}\x3c/strong\x3e"},
pending:{label:"Pending",badge:"info",description:"Pending starting \x3cstrong\x3e{when}\x3c/strong\x3e"},active:{label:"Active",badge:"info",description:"Active starting \x3cstrong\x3e{when}\x3c/strong\x3e"},rejected:{label:"Rejected",badge:"info",description:"Rejected \x3cstrong\x3e{when}\x3c/strong\x3e"},completed:{label:"Completed",badge:"info",description:"Completed \x3cstrong\x3e{when}\x3c/strong\x3e"},draft:{label:"Draft",badge:"",description:"Edited \x3cstrong\x3e{when}\x3c/strong\x3e"}},
typeContent:{"facebook-ad":{label:"Facebook Ad"},"google-ad":{label:"Google Ad"}},statsOrder:["clicks","impressions","reach"],statsContent:{clicks:{label:"Clicks"},reach:{label:"Reach"},impressions:{label:"Impressions"}},actions:{edit:{label:"Edit",href:"/campaigns/show?id\x3d{id}"},view:{label:"View email",href:"{archiveUrl}"}}})})},"mojo/widgets/campaigns/Slat":function(){define("dojo/_base/declare dijit/_Widget dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/DropDownMenu dijit/MenuItem dijit/form/ComboButton mojo/widgets/Clock dojo/dom-construct dojo/dom-class dojo/dom-attr dojo/on dojo/_base/lang mojo/url mojo/utils dojo/date/locale dojo/text!./templates/Slat.html".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s){return h([k,d,g],{templateString:s,id:0,title:"",status:"",listName:"",type:"",channelIcon:"",stats:{},availableActions:[],actions:{},statusContent:{},typeContent:{},statsOrder:[],statsContent:{},_buildActionDropDown:function(){if(this.availableActions&&0<this.availableActions.length){var d;1<this.availableActions.length&&(d=new b({"class":"mc-dropdown"}),this.availableActions.forEach(p.hitch(this,function(a,b){if(0<b){var e=this.actions[a],f=new c({label:this._generateLinkHTML(e.label,
e.href)});e.onClick&&(f.onClick=e.onClick.bind(this));d.addChild(f)}})));var e=this.actions[this.availableActions[0]],g=new f({label:this._generateLinkHTML(e.label,e.href),dropDown:d});e.onClick&&(g.onClick=e.onClick.bind(this));a.add(g.domNode,"c-slatButton button-small");g.placeAt(this.node_actions,"replace")}},_buildTypeName:function(){this.node_typeName.innerHTML=this.typeContent[this.type].label},_buildStatusBadge:function(){this.node_badge.innerHTML=this.statusContent[this.status].label;a.add(this.node_badge,
this.statusContent[this.status].badge)},_buildStats:function(){this.stats&&this.statsOrder.forEach(p.hitch(this,function(a){var b=this.stats[a],c=Object.keys(b),d=this.statsContent[a].label,e=q.compileTemplate(this.template_statWrapper,{});c.forEach(p.hitch(this,function(a){var f="percent"===a;a=q.compileTemplate(this.template_statDetails,{type:1<c.length?"c-campaignManager_slat_stat_"+(f?"primary":"secondary"):"",value:q.getThousandsString(b[a])+(f?"%":""),name:d});e.appendChild(a)}));this.node_stats.appendChild(e)}))},
buildAdditionalMetaData:function(){var a=this.scheduledDate||this.lastUpdateDate;this.node_additionalMetaData.innerHTML=p.replace(this.statusContent[this.status].description,{when:r.format(a,{selector:"date",datePattern:"MMMM"})+" "+q.getDayWithOrdinal(a.getDate()),sends:q.getThousandsString(this.stats.subscribers&&this.stats.subscribers.value||0)})},buildChannelIcon:function(){a.add(this.node_channelIcon,this.channelIcon)},_generateLinkHTML:function(a,b){var c=e.create("a",{innerHTML:a});if(b){var d=
p.replace(b,this);m.set(c,"href",-1<d.indexOf("http")?d:t.toUrl(d))}return c.outerHTML},postCreate:function(){this._buildStatusBadge();this._buildActionDropDown();this._buildTypeName();this._buildStats();this.buildChannelIcon();this.buildAdditionalMetaData()}})})},"mojo/widgets/campaigns/CampaignActions":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-class dojo/query dojo/topic dojo/on dijit/_Widget dijit/_Templated mojo/analytics/parts/_Part mojo/url mojo/app/campaigns mojo/analytics/parts/MoveToFolder vendor/pluralize/pluralize dojo/text!./templates/CampaignActions.html".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t){return h([e,f,l],{templateString:t,_toggleDisplay:function(){d.toggle(this.domNode,"c-campaignManager_actionBar--visible",this.target.hasSelection())},_buildMoveToFolderMenu:function(){var c=new n({target:this.target,baseUrl:a.toUrl("/campaigns/folders"),folders:this.folders,onChange:k.hitch(this,function(a,b){this.campaignNav.set("folders",this.campaignNav.folders.map(function(c){return c.id===a?k.mixin(c,{name:b}):c}))}),onMove:k.hitch(this,function(a,b){this.campaignNav.set("folders",
a.filter(function(a){return a.id}));c.updateCounts(a);Number(b)?(this.target.clearFilter("bucket"),this.target.setFilter("folder",b)):(this.target.clearFilter("folder"),this.target.setFilter("bucket","recent"))}),onAdd:k.hitch(this,function(a){this.campaignNav.folders=this.campaignNav.folders.concat(a)})},this.node_folderMoveButton);b.subscribe("/campaigns/setFolders",k.hitch(this,function(){for(;1<c.folders.length;)c.folders.pop();this.campaignNav.folders.slice().reverse().forEach(function(a){a.id&&
c.folders.push(a)})}));return c},_buildDeleteFoldersButton:function(a){c(this.node_deleteCampaignButton,"click",k.hitch(this,function(){m.confirmDeletion(this.target,"campaign",k.hitch(this,function(){a&&a.request("view").then(k.hitch(this,function(b){a.updateCounts(b.folders);this.campaignNav.set("folders",b.folders.filter(function(a){return a.id}))}));this.target.page=1;this.target.render()}))}))},_buildDeselectAllButton:function(){c(this.node_deselectButton,"click",k.hitch(this,function(){this.target.toggleAll(!1)}))},
_buildSelectionCountLabel:function(){this.target.selected.watch(k.hitch(this,function(){var a=Object.keys(this.target.selected).reduce(k.hitch(this,function(a,b){return a+="_watchCallbacks"!==b&&this.target.selected[b]?1:0}),0);this.node_selectionCount.innerText=a+" "+p("campaign",a)}))},canDisplay:function(){return!0},init:function(){this.target.selected.watch(this._toggleDisplay.bind(this));this._buildSelectionCountLabel();this._buildDeselectAllButton();this._buildDeleteFoldersButton(this._buildMoveToFolderMenu())}})})},
"vendor/pluralize/pluralize":function(){(function(h,k){"function"===typeof require&&"object"===typeof exports&&"object"===typeof module?module.exports=k():"function"===typeof define&&define.amd?define(function(){return k()}):h.pluralize=k()})(this,function(){function h(a){return"string"===typeof a?RegExp("^"+a+"$","i"):a}function k(a,b){return a===b?b:a===a.toUpperCase()?b.toUpperCase():a[0]===a[0].toUpperCase()?b.charAt(0).toUpperCase()+b.substr(1).toLowerCase():b.toLowerCase()}function d(a,b){return a.replace(/\$(\d{1,2})/g,
function(a,c){return b[c]||""})}function g(a,b,c){if(!a.length||e.hasOwnProperty(a))return b;for(a=c.length;a--;){var f=c[a];if(f[0].test(b))return b.replace(f[0],function(a,b,c){var e=d(f[1],arguments);return""===a?k(c[b-1],e):k(a,e)})}return b}function b(a,b,c){return function(d){var e=d.toLowerCase();return b.hasOwnProperty(e)?k(d,e):a.hasOwnProperty(e)?k(d,a[e]):g(e,d,c)}}function c(a,b,d){a=1===b?c.singular(a):c.plural(a);return(d?b+" ":"")+a}var f=[],l=[],e={},a={},m={};c.plural=b(m,a,f);c.singular=
b(a,m,l);c.addPluralRule=function(a,b){f.push([h(a),b])};c.addSingularRule=function(a,b){l.push([h(a),b])};c.addUncountableRule=function(a){"string"===typeof a?e[a.toLowerCase()]=!0:(c.addPluralRule(a,"$0"),c.addSingularRule(a,"$0"))};c.addIrregularRule=function(b,c){c=c.toLowerCase();b=b.toLowerCase();m[b]=c;a[c]=b};[["I","we"],["me","us"],["he","they"],["she","they"],["them","them"],["myself","ourselves"],["yourself","yourselves"],["itself","themselves"],["herself","themselves"],["himself","themselves"],
["themself","themselves"],["is","are"],["was","were"],["has","have"],["this","these"],["that","those"],["echo","echoes"],["dingo","dingoes"],["volcano","volcanoes"],["tornado","tornadoes"],["torpedo","torpedoes"],["genus","genera"],["viscus","viscera"],["stigma","stigmata"],["stoma","stomata"],["dogma","dogmata"],["lemma","lemmata"],["schema","schemata"],["anathema","anathemata"],["ox","oxen"],["axe","axes"],["die","dice"],["yes","yeses"],["foot","feet"],["eave","eaves"],["goose","geese"],["tooth",
"teeth"],["quiz","quizzes"],["human","humans"],["proof","proofs"],["carve","carves"],["valve","valves"],["looey","looies"],["thief","thieves"],["groove","grooves"],["pickaxe","pickaxes"],["whiskey","whiskies"]].forEach(function(a){return c.addIrregularRule(a[0],a[1])});[[/s?$/i,"s"],[/([^aeiou]ese)$/i,"$1"],[/(ax|test)is$/i,"$1es"],[/(alias|[^aou]us|tlas|gas|ris)$/i,"$1es"],[/(e[mn]u)s?$/i,"$1s"],[/([^l]ias|[aeiou]las|[emjzr]as|[iu]am)$/i,"$1"],[/(alumn|syllab|octop|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,
"$1i"],[/(alumn|alg|vertebr)(?:a|ae)$/i,"$1ae"],[/(seraph|cherub)(?:im)?$/i,"$1im"],[/(her|at|gr)o$/i,"$1oes"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|automat|quor)(?:a|um)$/i,"$1a"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)(?:a|on)$/i,"$1a"],[/sis$/i,"ses"],[/(?:(kni|wi|li)fe|(ar|l|ea|eo|oa|hoo)f)$/i,"$1$2ves"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/([^ch][ieo][ln])ey$/i,"$1ies"],[/(x|ch|ss|sh|zz)$/i,
"$1es"],[/(matr|cod|mur|sil|vert|ind|append)(?:ix|ex)$/i,"$1ices"],[/(m|l)(?:ice|ouse)$/i,"$1ice"],[/(pe)(?:rson|ople)$/i,"$1ople"],[/(child)(?:ren)?$/i,"$1ren"],[/eaux$/i,"$0"],[/m[ae]n$/i,"men"],["thou","you"]].forEach(function(a){return c.addPluralRule(a[0],a[1])});[[/s$/i,""],[/(ss)$/i,"$1"],[/((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)(?:sis|ses)$/i,"$1sis"],[/(^analy)(?:sis|ses)$/i,"$1sis"],[/(wi|kni|(?:after|half|high|low|mid|non|night|[^\w]|^)li)ves$/i,"$1fe"],[/(ar|(?:wo|[ae])l|[eo][ao])ves$/i,
"$1f"],[/ies$/i,"y"],[/\b([pl]|zomb|(?:neck|cross)?t|coll|faer|food|gen|goon|group|lass|talk|goal|cut)ies$/i,"$1ie"],[/\b(mon|smil)ies$/i,"$1ey"],[/(m|l)ice$/i,"$1ouse"],[/(seraph|cherub)im$/i,"$1"],[/(x|ch|ss|sh|zz|tto|go|cho|alias|[^aou]us|tlas|gas|(?:her|at|gr)o|ris)(?:es)?$/i,"$1"],[/(e[mn]u)s?$/i,"$1"],[/(movie|twelve)s$/i,"$1"],[/(cris|test|diagnos)(?:is|es)$/i,"$1is"],[/(alumn|syllab|octop|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1us"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|quor)a$/i,
"$1um"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)a$/i,"$1on"],[/(alumn|alg|vertebr)ae$/i,"$1a"],[/(cod|mur|sil|vert|ind)ices$/i,"$1ex"],[/(matr|append)ices$/i,"$1ix"],[/(pe)(rson|ople)$/i,"$1rson"],[/(child)ren$/i,"$1"],[/(eau)x?$/i,"$1"],[/men$/i,"man"]].forEach(function(a){return c.addSingularRule(a[0],a[1])});["advice","adulthood","agenda","aid","alcohol","ammo","athletics","bison","blood","bream","buffalo","butter","carp","cash","chassis","chess",
"clothing","commerce","cod","cooperation","corps","digestion","debris","diabetes","energy","equipment","elk","excretion","expertise","flounder","fun","gallows","garbage","graffiti","headquarters","health","herpes","highjinks","homework","housework","information","jeans","justice","kudos","labour","literature","machinery","mackerel","mail","media","mews","moose","music","news","pike","plankton","pliers","pollution","premises","rain","research","rice","salmon","scissors","series","sewage","shambles",
"shrimp","species","staff","swine","trout","traffic","transporation","tuna","wealth","welfare","whiting","wildebeest","wildlife","you",/pox$/i,/ois$/i,/deer$/i,/fish$/i,/sheep$/i,/measles$/i,/[^aeiou]ese$/i].forEach(c.addUncountableRule);return c})},"mojo/widgets/campaigns/CampaignArchiveUrl":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dojo/_base/lang dojo/on dojo/dom-attr dojo/dom-class dojo/dom-style dojo/request/xhr dojo/debounce mojo/url mojo/utils mojo/validate dojo/Deferred dojo/dom dojo/query dojo/_base/array dojo/text!./templates/CampaignArchiveUrl.html".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s,v){var w=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,u=/[^\w\s-]/g;return h([k,d],{label:"Campaign URL",templateString:v,showInput:!0,showFullPreview:!0,rootDomain:null,campaignToken:null,brandToken:null,hasEditedCampaignUrl:!1,urlExistResponse:null,campaignId:null,inputSetter:null,editMode:!1,originalValue:null,rootDomainToken:null,originalInput:null,postCreate:function(){this.inherited(arguments);var a=this;a.originalValue=a.campaignToken;a.rootDomainToken="http://"+
this.rootDomain+"/"+this.brandToken+"/";if(this.originalInput=r("input[type\x3dtext]",this.containerNode)[0])l.set(this.originalInput,"display","none"),""!==this.originalInput.value?this.campaignToken=this.originalInput.value:this.originalInput.value=this.campaignToken,s.forEach(this.containerNode.children,function(b){f.contains(b,"invalid-error")&&f.add(a.urlTokenInput,"invalid")});f.toggle(this.urlTokenInput,"hide",!this.showInput);f.toggle(this.urlTokenCharCount,"hide",!this.showInput);f.toggle(this.campaignUrlPreview,
"hide",!this.showFullPreview);this.campaignToken&&(this.urlTokenInput.value=this.campaignToken,this.campaignTokenWrap.innerHTML=this.campaignToken,this.rootDomainTokenWrap.innerHTML=this.rootDomainToken,f.add(this.campaignTokenWrap,"c-campaignArchiveUrl_token"),this.campaignTokenNum.innerHTML=150-this.campaignToken.length,!this.editMode&&(this.value!==a.originalValue&&""!==this.value)&&a.campaignUrlExists(this.campaignToken));this._initCampaignArchiveInput();this.inputSetter&&this._initInputSetter();
this.watch("inputSetter",function(){this._initInputSetter()})},_initCampaignArchiveInput:function(){var d=this;b(this.urlTokenInput,"keyup",a(function(){""===this.value&&d.hasEditedCampaignUrl?n.addError(d.urlTokenInput,"Please complete your campaign URL"):!d.editMode&&(this.value!==d.originalValue&&!this.value.match(u))&&d.campaignUrlExists(this.value)},1E3));b(this.urlTokenInput,"keyup",g.hitch(this,function(){this.hasEditedCampaignUrl=!0;this._setUrlValue(this.urlTokenInput,this.campaignTokenWrap)}));
b(this.urlTokenInput,"focus",g.hitch(this,function(){f.add(this.campaignTokenWrap,"c-campaignArchiveUrl_token--editing")}));b(this.urlTokenInput,"blur",g.hitch(this,function(){f.remove(this.campaignTokenWrap,"c-campaignArchiveUrl_token--editing");this.campaignToken=this._removeExtraDashes(this.campaignToken);c.set(this.urlTokenInput,"value",this.campaignToken);this.campaignTokenWrap.innerHTML=this.campaignToken;this.originalInput&&c.set(this.originalInput,"value",this.campaignToken)}))},_initInputSetter:function(){var d=
this;b(this.inputSetter,"keyup",a(function(){d.campaignUrlExists(d.urlTokenInput.value)},1E3));b(this.inputSetter,"keyup",g.hitch(this,function(){this.hasEditedCampaignUrl||(this.campaignToken=this._makeValidUrl(this.inputSetter),this.campaignToken=this._removeExtraDashes(this.campaignToken),c.set(this.urlTokenInput,"value",this.campaignToken),n.checkInputLength(this.urlTokenInput,this.campaignTokenNum.id,150),this.campaignTokenWrap.innerHTML=this.campaignToken,this.originalInput&&c.set(this.originalInput,
"value",this.campaignToken))}))},_setUrlValue:function(a,b){n.removeErrors(a);this.campaignToken=this._makeValidUrl(a,!0);f.contains(this.campaignTokenWrap,"c-campaignArchiveUrl_token")||f.add(this.campaignTokenWrap,"c-campaignArchiveUrl_token");n.checkInputLength(a,this.campaignTokenNum.id,150);b.innerHTML=this.campaignToken;this.originalInput&&(c.set(this.originalInput,"value",this.campaignToken),n.removeErrors(this.originalInput))},_makeValidUrl:function(a,b){var c=a.value;c.match(u)&&b?(p.playDenyAnimation(a),
n.addError(a,"Customized campaign path must only contain one or more lowercase letters and/or numbers. A single dash or underscore may be used only to separate words.")):n.removeErrors(a);return this.getCampaignTokenFromString(c)},_removeExtraDashes:function(a){return a.replace(/^[_-]|[_-]$/g,"")},_createNewUrl:function(a){a&&(this.campaignToken=a);return this.rootDomainToken+this.campaignToken},refresh:function(){this._setUrlValue(this.urlTokenInput,this.campaignTokenWrap)},campaignUrlExists:function(a){a=
a||this.campaignToken;var b=this;a=b._removeExtraDashes(a);return e(m.toUrl("campaigns/campaign-archive-url-exists"),{query:{id:b.campaignId,brand_token:b.brandToken,campaign_token:a},handleAs:"json"}).then(function(a){b.urlExistResponse=a.status;if(a.error&&b.urlTokenInput)return n.addError(b.urlTokenInput,a.error),!0;n.removeErrors(b.urlTokenInput);return!1})},getCampaignTokenFromString:function(a){a=(a||"").toString().replace(/\*\|(.*?)\|\*/g,"").replace(w,"").replace(/[^\w\s-]/g,"").replace(/[\s-]+/g,
"-").replace(/[_]+/g,"_").toLowerCase();"-"===a[0]&&(a=a.slice(1,a.length));"-"===a[a.length-1]&&(a=a.slice(0,-1));return a},editUrl:function(){var a=new t,b=this,d=b._removeExtraDashes(b.campaignToken);b.campaignToken=d;c.set(this.urlTokenInput,"value",this.campaignToken);b.urlTokenInput.innerHTML=this.campaignToken;e(m.toUrl("campaigns/edit-url"),{query:{id:b.campaignId,archived_brand_token:b.brandToken,new_token:b.campaignToken},handleAs:"json"}).then(function(c){c.url=b._createNewUrl();a.resolve({promise:"success",
response:c});c.error&&n.addError(b.urlTokenInput,c.error)},function(a){a&&(a.response&&a.response.data&&a.response.data.error)&&n.addError(b.urlTokenInput,a.response.data.error)});return a}})})},"mojo/validate":function(){define("dojo/_base/declare dojo/query dojo/dom-class dojo/on dojo/dom-construct dojo/_base/lang dojo/dom-attr dojo/Deferred velocity/velocity dojo/NodeList-traverse".split(" "),function(h,k,d,g,b,c,f,l,e){return{validateForm:function(a,b){var d=!0;k("input[type\x3dtext], input[type\x3durl]",
a).forEach(c.hitch(this,function(a){switch(f.get(a,"data-mcValidate")){case "required":a.value||(b||this.invalidateField(a,"This field is required, yo."),d=!1)}}));var e=[];k("input[type\x3dradio]",a).forEach(c.hitch(this,function(a){switch(f.get(a,"data-mcValidate")){case "required":a=f.get(a,"name"),0>e.indexOf(a)&&(e.push(a),k("input[name\x3d"+a+"]::checked").length||(a=k("input[name\x3d"+a+"]"),b||this.invalidateField(a[a.length-1],"This field is required, yo."),d=!1))}}));k("select",a).forEach(c.hitch(this,
function(a){switch(f.get(a,"data-mcValidate")){case "required":a.value||(b||this.invalidateField(a,"This field is required, yo."),d=!1)}}));return d},invalidateField:function(a,e){d.add(a,"invalid");var h=f.get(a,"type"),l=k(a).next(".invalid-error")[0];"radio"===h&&(l=k(a).parents(".field-wrapper").next(".invalid-error")[0]);l?l.textContent=e:(l=b.create("div",{"class":"invalid-error",textContent:e}),"radio"===h?b.place(l,k(a).parents(".field-wrapper")[0],"after"):b.place(l,a,"after"));l="keydown";
switch(a.tagName){case "INPUT":"radio"===h&&(l="change");break;case "SELECT":l="change";break;default:l="keydown"}if("radio"===h)var t=f.get(a,"name"),q=k("input[name\x3d"+t+"]").on("change",c.hitch(this,function(a){a=k("input[name\x3d"+t+"]");this.resetInvalidField(a[a.length-1]);q.remove()}));else q=g(a,l,c.hitch(this,function(b){this.resetInvalidField(a);q.remove()}))},resetInvalidField:function(a){var c=f.get(a,"type");d.remove(a,"invalid");(a="radio"===c?k(a).parents(".field-wrapper").next(".invalid-error")[0]:
k(a).next(".invalid-error")[0])&&b.destroy(a)},playDenyAnimation:function(a){var b=new l;e(a,{translateX:-11},{duration:50,complete:function(){e(a,{translateX:11},{duration:50,complete:function(){e(a,{translateX:-11},{duration:50,complete:function(){e(a,{translateX:11},{duration:50,complete:function(){e(a,{translateX:-11},{duration:50,complete:function(){e(a,{translateX:11},{duration:50,complete:function(){e(a,{translateX:0},{duration:50});b.resolve()}})}})}})}})}})}});return b}}})},"mojo/widgets/campaigns/CampaignBreadCrumb":function(){define("dojo/_base/declare mojo/analytics/parts/_Part dijit/_TemplatedMixin dojo/_base/lang dojo/on dojo/text!./templates/CampaignBreadCrumb.html".split(" "),
function(h,k,d,g,b,c){return h([k,d],{templateString:c,canDisplay:function(){return-1<["active","paused","needsAttention"].indexOf(this.target.getFilter("bucket"))},init:function(){b(this.domNode,"click",g.hitch(this,function(b){b.preventDefault();this.target.clearAllFilters();this.target.setFilter("bucket","ongoing")}))}})})},"mojo/widgets/campaigns/CampaignDownload":function(){define("dojo/_base/declare mojo/analytics/parts/_Part dijit/_TemplatedMixin dojo/_base/lang mojo/url dojo/text!./templates/CampaignDownload.html".split(" "),
function(h,k,d,g,b,c){return h([k,d],{templateString:c,canDisplay:function(){return"completed"===this.target.getFilter("bucket")},init:function(){this.target.watchFilter("bucket",this.toggleDisplay.bind(this));this.domNode.href=b.toUrl("/reports/export-all")}})})},"mojo/widgets/campaigns/CampaignList":function(){define("dojo/_base/declare mojo/analytics/List dojo/_base/lang dojo/dom-attr dojo/on dojo/Deferred dojo/Stateful dojo/dom-construct dojo/dom-style dojo/dom-class dojo/request/xhr dojo/promise/all mojo/url mojo/user dojox/html/entities ./EmailSlat ./AdSlat ./SlatGroup ./TestData".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s,v,w){g=new Date;return h([k,f],{pageSize:25,slatGroups:{},slatGroupOrder:[],bucketContent:{active:{name:"Active",loadButtonText:"See All Active"},paused:{name:"Paused",loadButtonText:"See All Paused"},needsAttention:{name:"Needs Attention",loadButtonText:"See All Needs Attention"}},bucketOrder:["active","paused","needsAttention"],monthNames:"January February March April May June July August September October November December".split(" "),specialDateGroups:{thisWeek:{name:"This Week",
minDate:new Date(g.getFullYear(),g.getMonth(),g.getDate()-7)},thisMonth:{name:"This Month",minDate:new Date(g.getFullYear(),g.getMonth(),0)},pastMonth:{name:"Past Month",minDate:new Date(g.getFullYear(),g.getMonth()-1,0)}},specialDateGroupOrder:["thisWeek","thisMonth","pastMonth"],constructor:function(){this.inherited(arguments)},shouldPersistPage:function(){return!1},_removeState:function(){1>=this.page&&this.inherited(arguments)},buildRequest:function(a){return m.get(p.toUrl("channels"),{handleAs:"json",
query:a}).then(d.hitch(this,function(b){return d.mixin(b,{items:b.items.map(d.hitch(this,function(b,c){return d.mixin(b,{id:void 0,campaignId:b.id,bucket:a["filters[bucket]"]||"",lastUpdateDate:new Date(2017,4,13-3*c-30*this.page)})}))})}))},getData:function(a){return n(this.isOngoing()?this.bucketOrder.map(d.hitch(this,function(b){b=d.mixin(d.clone(a),{"filters[bucket]":b,per_page:5,page:1});return this.buildRequest(b)})):[this.buildRequest(a)]).then(d.hitch(this,function(a){return a.reduce(d.hitch(this,
function(a,b){return{items:a.items.concat(b.items),counts:a.counts.concat(Number(b.count)),count:a.count+Number(b.count)}}),{items:[],counts:[],count:0})}))},isOngoing:function(){return"ongoing"===this.getFilter("bucket")&&!this.getFilter("type")&&!this.getFilter("search")},shouldGroupByDate:function(){return-1===this.bucketOrder.indexOf(this.getFilter("bucket"))&&!this.getFilter("folder")},initializeSlatGroups:function(){if(this.isOngoing())this.slatGroupOrder=this.bucketOrder.slice(),this.slatGroups=
this.slatGroupOrder.reduce(d.hitch(this,function(a,b){a[b]=new v(d.mixin(this.bucketContent[b],{onLoadMore:this.loadBucket.bind(this,b)}));return a}),{});else if(this.shouldGroupByDate())this.slatGroupOrder=this.specialDateGroupOrder.slice(),this.slatGroups={},this.slatGroupOrder.forEach(d.hitch(this,function(a){this.slatGroups[a]=new v({name:this.specialDateGroups[a].name,onLoadMore:this.loadNextPage.bind(this)})}));else{var a=this.getFilter("folder")||this.getFilter("bucket");this.slatGroupOrder=
[a];this.slatGroups={};this.slatGroups[a]=new v({name:this.bucketContent[a]?this.bucketContent[a].name:this.folders.reduce(d.hitch(this,function(b,c){return b=Number(c.id)===Number(a)?c.name:b}),""),onLoadMore:this.loadNextPage.bind(this)})}},loadNextPage:function(a){this.set("page",this.page+1)},loadBucket:function(a){this.setFilter("bucket",a)},getSpecialDateSlatGroup:function(a){return this.specialDateGroupOrder.reduce(d.hitch(this,function(b,c){return b=!b&&a>this.specialDateGroups[c].minDate?
c:b}),null)},getMonthSlatGroup:function(a){var b=String(a.getMonth())+"of"+String(a.getFullYear);this.slatGroups[b]||(this.slatGroups[b]=new v({name:this.monthNames[a.getMonth()]+", "+a.getFullYear(),onLoadMore:this.loadNextPage.bind(this)}),this.slatGroupOrder.push(b));return b},isAdCampaign:function(a){return-1<["facebook-ad"].indexOf(a.type)},renderData:function(a,b){1>=this.page&&this.initializeSlatGroups();a.items.forEach(d.hitch(this,function(a,b){var c=this.isAdCampaign(a)?new s(a):new r(a),
d;d=this.isOngoing()?c.bucket:this.shouldGroupByDate()?this.getSpecialDateSlatGroup(c.lastUpdateDate)||this.getMonthSlatGroup(c.lastUpdateDate):Object.keys(this.slatGroups)[0];this.slatGroups[d].addItem(c)}));this.slatGroupOrder.forEach(d.hitch(this,function(b,c){var d=this.slatGroups[b],e=c===this.slatGroupOrder.length-1&&a.counts[0]>this.page*this.pageSize;d.renderItems();d.toggleLoadButton(this.isOngoing()||e);!d.isRendered&&0<d.items.length&&(l.place(d.domNode,this.domNode),d.isRendered=!0);this.isOngoing()?
d.setCount(a.counts[c]):this.shouldGroupByDate()?d.setCount(e?0:d.items.length):d.setCount(a.counts[0])}))},postCreate:function(){this.inherited(arguments);this.selected.watch(d.hitch(this,function(){a.toggle(this.domNode,"c-campaignManager_list--hasSelection",this.hasSelection())}));this.set("folders",this.foldersProp?JSON.parse("["+q.decode(this.foldersProp)+"]").filter(function(a){return a.id}):[])}})})},"mojo/widgets/campaigns/EmailSlat":function(){define("dojo/_base/declare dojo/dom-class dojo/on dojo/_base/lang mojo/utils ./Slat".split(" "),
function(h,k,d,g,b,c){return h([c],{channelIcon:"c-campaignManager_slat_icon--email",statusContent:{sent:{label:"Sent",badge:"success",description:"Sent \x3cstrong\x3e{when}\x3c/strong\x3e to {sends} recipients"},save:{label:"Draft",badge:"",description:"Edited \x3cstrong\x3e{when}\x3c/strong\x3e"},sending:{label:"Sending",badge:"info",description:"Edited \x3cstrong\x3e{when}\x3c/strong\x3e"},schedule:{label:"Scheduled",badge:"info",description:"Scheduled to send \x3cstrong\x3e{when}\x3c/strong\x3e"},
paused:{label:"Paused",badge:"info",description:"Paused \x3cstrong\x3e{when}\x3c/strong\x3e"}},typeContent:{regular:{label:"Regular"},rss:{label:"RSS"},variate:{label:"Multivariate"},absplit:{label:"A/B Testing"},plaintext:{label:"Plain Text"},transactional:{label:"Transactional"},automation:{label:"Automation"},reconfirm:{label:"Reconfirmation"},inspection:{label:"Inspection"}},statsOrder:["subscribers","opens","clicks"],statsContent:{subscribers:{label:"Subscribers"},opens:{label:"Opens"},clicks:{label:"Clicks"}},
actions:{edit:{label:"Edit",href:"/campaigns/show?id\x3d{id}"},view:{label:"View email",href:"{archiveUrl}"},other:{label:"Something Else",onClick:function(){}}}})})},"mojo/widgets/campaigns/SlatGroup":function(){define("dojo/_base/declare dijit/_Widget dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/dom-construct dojo/dom-class dojo/_base/lang dojo/text!./templates/SlatGroup.html".split(" "),function(h,k,d,g,b,c,f,l){return h([k,d,g],{templateString:l,name:"",loadButtonText:"Load More",
isRendered:!1,items:null,addItem:function(b){0===this.items.filter(function(a){return a.id===b.id}).length&&(this.items.push(b),this.isRendered=!1)},toggleLoadButton:function(b){c.toggle(this.node_loadButton,"hide",!b)},setCount:function(b){this.node_count.innerHTML="("+b+")";c.toggle(this.node_count,"hide",!b)},renderItems:function(){var c=document.createDocumentFragment();this.items.forEach(f.hitch(this,function(a,b){a.isRendered||(c.appendChild(a.domNode),a.isRendered=!0)}));b.place(c,this.node_list);
this.node_count.innerHTML=this.items.length},postCreate:function(){this.items=[];this.node_loadButton.addEventListener("click",f.hitch(this,function(b){b.preventDefault();this.onLoadMore(this)}))}})})},"mojo/widgets/campaigns/TestData":function(){define([],function(){var h={count:"100",items:[]};h.items=Array(20).fill(null).map(function(h,d){return{id:908441+d,title:"Look Out! It's Campaign Time.",status:"sent",type:"regular",listName:"List Name",lastUpdateDate:new Date("Mon Feb 27 2017 00:00:00 GMT-0000 UTC"),
lastUpdater:"Sam Aparo",stats:{subscribers:{value:300},opens:{value:100,percent:33.33},clicks:{value:100,percent:33.33}},availableActions:["edit","view","other"],archiveUrl:""}});return h})},"mojo/widgets/campaigns/CampaignNav":function(){define("dojo/_base/declare mojo/analytics/parts/_Part mojo/app/campaigns mojo/url dijit/_TemplatedMixin dojo/Stateful dojo/_base/lang dojo/topic dojo/dom-construct dojo/dom-class dojo/dom-attr dojo/dom-geometry dojox/mvc/sync dojo/query dojo/on dojo/text!./templates/CampaignNav.html".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r){return h([k,c,b],{templateString:r,bucketFilters:{recent:{label:"Recent",icon:"time-circle",domNode:null},ongoing:{label:"Ongoing",subBuckets:["needsAttention","active","paused"],icon:"play-circle",domNode:null},draft:{label:"Draft",icon:"edit",domNode:null},completed:{label:"Completed",icon:"tick",domNode:null}},bucketOrder:["recent","ongoing","draft","completed"],selectedBucket:null,_setSelectedBucketAttr:function(a){this.selectedBucket!==a&&(this.selectedBucket=
a,this._buildBucketLinks())},_buildBucketLinks:function(){var b=document.createDocumentFragment();this.bucketOrder.forEach(f.hitch(this,function(c){var d=this._compileTemplate(this.template_bucketFilter,this.bucketFilters[c]);(this.selectedBucket===c||this.bucketFilters[c].subBuckets&&-1<this.bucketFilters[c].subBuckets.indexOf(this.selectedBucket))&&a.add(t("[data-mc-el\x3d'bucket-link']",d)[0],"c-campaignManager_sidebar_link--selected");q(d,"click",this._onSelectBucket.bind(this,c));this.bucketFilters[c].domNode=
d;b.appendChild(d)}));e.place(b,this.node_bucketList,"only")},_onSelectBucket:function(a,b){b.preventDefault();this.target.clearAllFilters();this.target.setFilter("bucket",a)},folders:[],_setFoldersAttr:function(a){this.folders=a;this.target.folders=this.folders;this.folders.sort(function(a,b){return(b.id||Infinity)-(a.id||Infinity)});this._buildFolderLinks();l.publish("/campaigns/setFolders",{})},selectedFolderId:0,_setSelectedFolderIdAttr:function(a){a=Number(a);this.selectedFolderId!==a&&(this.selectedFolderId=
a,this._buildFolderLinks())},_buildFolderLinks:function(){var b=document.createDocumentFragment();this.folders.forEach(f.hitch(this,function(c){c.domNode=this._compileTemplate(this.template_folderFilter,c);this.selectedFolderId&&this.selectedFolderId===c.id&&a.add(t("[data-action\x3d'view']",c.domNode)[0],"c-campaignManager_sidebar_link--selected");q(t("[data-action\x3d'view']",c.domNode)[0],"click",this._onSelectFolder.bind(this,c));q(t("[data-action\x3d'edit']",c.domNode)[0],"click",this._onRenameFolder.bind(this,
c));q(t("[data-action\x3d'delete']",c.domNode)[0],"click",this._onDeleteFolder.bind(this,c));b.appendChild(c.domNode)}));e.place(b,this.node_folderList,"only")},_onRenameFolder:function(b,c){c&&(c.stopPropagation(),c.preventDefault());var d=this._compileTemplate(this.template_folderEdit,b);q(d,"blur",this._saveFolder.bind(this,b));q(d,"keyup",f.hitch(this,function(a){13===a.keyCode&&this._saveFolder(b)}));e.place(d,b.domNode,"only");d.focus();d.value=b.name;a.toggle(this.node_createFolderLink,"c-campaignManager_sidebar_createLink--disabled",
!0)},_onDeleteFolder:function(a,b){b.preventDefault();b.stopPropagation();d.deleteFolder(a.id,g.toUrl("/campaigns/folders/delete-options")).then(f.hitch(this,function(b){this.set("folders",this.folders.filter(function(b){return b.id!==a.id}));a.id===this.selectedFolderId&&(this.target.clearFilter("folder"),this.target.setFilter("bucket","recent"))}))},_onCreateFolder:function(a){a.preventDefault();a={id:0,name:"",count:0};this.folders.push(a);this.set("folders",this.folders);this._onRenameFolder(a)},
_onSelectFolder:function(a,b){b.preventDefault();this.target.clearFilter("bucket");this.target.setFilter("folder",a.id)},_saveFolder:function(b){var c=t("input",b.domNode)[0];c&&(b.name=c.value||"Untitled",(b.id?d.renameFolder.bind(this,b.id,b.name,g.toUrl("/campaigns/folders/rename")):d.addFolder.bind(this,b.name,g.toUrl("/campaigns/folders/create")))().then(f.hitch(this,function(a){b.id=a.new_folder?Number(a.new_folder.id):b.id;l.publish("/campaigns/setFolders",{})})),this.set("folders",this.folders),
a.toggle(this.node_createFolderLink,"c-campaignManager_sidebar_createLink--disabled",!1))},_compileTemplate:function(a,b){return e.toDom(f.replace(f.trim(a.innerHTML),b))},_onScroll:function(b){a.toggle(this.domNode,"c-campaignManager_sidebar--fixed",90>=n.position(this.domNode.parentNode).y)},canDisplay:function(){return!0},init:function(){this.inherited(arguments);this.set("folders",this.target.get("folders"));var a=this.target.getFilter("folder");this.set("selectedFolderId",a);this.target.watchFilter("folder",
f.hitch(this,function(a,b,c){this.set("selectedFolderId",c)}));q(this.node_createFolderLink,"click",this._onCreateFolder.bind(this));this._buildBucketLinks();this.set("selectedBucket",a?null:this.target.getFilter("bucket")||"recent");this.target.watchFilter("bucket",f.hitch(this,function(a,b,c){this.set("selectedBucket",c)}));q(t("#wrap"),"scroll",this._onScroll.bind(this))}})})},"mojo/widgets/campaigns/CampaignSearchBox":function(){define("dojo/_base/declare mojo/analytics/parts/_Part mojo/utils dijit/_WidgetBase dojo/_base/lang dojo/when dojo/dom-construct dojo/debounce mojo/widgets/Autocomplete".split(" "),
function(h,k,d,g,b,c,f,l,e){return h([g,k],{getValidTypeFilters:function(){return c(["regular","variate","rss","ad","plaintext"])},_clearFilters:function(){if(this.target.hasFilter("search")||this.target.hasFilter("type"))this.target.clearFilter("search"),this.target.clearFilter("type")},canDisplay:function(){return!0},init:function(){this.getValidTypeFilters().then(b.hitch(this,function(a){var c=new e({placeholder:"Find a Campaign!",suggestions:[{label:"Regular Campaign",value:"regular",icon:"light-bulb"},
{label:"A/B Test",value:"variate",icon:"light-bulb"},{label:"RSS Campaign",value:"rss",icon:"light-bulb"},{label:"Facebook Ad",value:"ad",icon:"light-bulb"},{label:"Text Campaign",value:"plaintext",icon:"light-bulb"},{label:"Inbox Inspection",value:"inspection",icon:"light-bulb"}].filter(function(b){return-1<a.indexOf(b.value)}),onSuggestionSelected:b.hitch(this,function(a){this._clearFilters();this.target.setFilter("type",a.value)}),onTextSearch:b.hitch(this,function(a){this._clearFilters();this.target.setFilter("search",
a)}),onClear:b.hitch(this,function(){this._clearFilters()})});c.set("searchText","");c.set("searchText",this.target.getFilter("search"));this.target.watchFilter("search",l(b.hitch(this,function(a,b,d){c.set("searchText",d)})),0);c.set("selectedSuggestion",this.target.getFilter("type"));this.target.watchFilter("type",l(b.hitch(this,function(a,b,d){c.set("selectedSuggestion",d)})),0);c.placeAt(this.domNode)}))}})})},"mojo/widgets/campaigns/CampaignUrlErrorDialog":function(){define("dijit/Dialog dojo/_base/declare dojo/_base/lang dijit/_WidgetBase dijit/_TemplatedMixin dojo/on dojo/dom-class dojo/request/xhr mojo/url dojo/text!./templates/CampaignUrlErrorDialog.html".split(" "),
function(h,k,d,g,b,c,f,l,e,a){return k([g,b],{templateString:a,campaignUrl:"",campaignId:"",saveAndExitUrl:e.toUrl("campaigns"),postCreate:function(){var a=new h({title:"Campaign URL Error",content:this.domNode,closable:!1});c(this.continueButton,"click",d.hitch(this,function(){f.add(this.continueButton,"button-loading");this.disablePrettyUrl().then(function(){a.hide()})}));a.show()},disablePrettyUrl:function(a){return l(e.toUrl("campaigns/wizard/disable-pretty-url"),{query:{id:this.campaignId},handleAs:"json"})}})})},
"mojo/widgets/campaigns/Checklist":function(){define([],function(){var h={};return{addItem:function(k,d){h[k]=d},refreshItem:function(k){h[k]&&h[k].getView()}}})},"mojo/widgets/campaigns/ChecklistItem":function(){define("dojo/_base/declare dijit/_WidgetBase dojo/_base/lang dojo/parser dojo/topic dojo/on dojo/query dojo/dom-construct dojo/dom-form dojo/request dojo/dom-geometry dojo/dom-style dojo/when dijit/registry mojo/widgets/campaigns/Checklist mojo/url mojo/utils velocity/velocity".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s,v){return h([k],{itemId:null,baseUrl:null,refreshOnSuccess:!1,postMixInProperties:function(){if(!this.itemId)throw Error("ChecklistItem must have an itemId");if(!this.baseUrl)throw Error("ChecklistItem must have a baseUrl");},postCreate:function(){this.own(c(this.domNode,"[data-mc-action\x3d'edit']:click",d.hitch(this,"getEditForm")),c(this.domNode,"[data-mc-action\x3d'view']:click",d.hitch(this,"getView")),c(this.domNode,"form:submit",d.hitch(this,"submitForm")),
b.subscribe("campaigns/checklist-item",d.hitch(this,function(a){this.refreshOnSuccess&&a.itemId!==this.itemId&&this.getView()})));q.addItem(this.itemId,this)},getEditForm:function(){a.get(r.toUrl(this.baseUrl,d.mixin({itemId:this.itemId,form:!0},this.requestParams)),{handleAs:"text"}).then(d.hitch(this,function(a){this._updateHTML(a)}))},getView:function(){a.get(r.toUrl(this.baseUrl,d.mixin({itemId:this.itemId,form:!1},this.requestParams))).then(d.hitch(this,function(a){this._updateHTML(a)}))},submitForm:function(b){b.stopPropagation();
b.preventDefault();var c=b.target;a.post(c.action,{data:e.toObject(c),handleAs:"json"}).then(d.hitch(this,function(a){switch(a.status){case "success":this.getView();this._publishUpdate(a);break;case "error":a.errors&&s.showFormErrors(c,a.errors);break;default:throw Error("New unhandled state");}}))},_publishUpdate:function(a){b.publish("campaigns/checklist-item",d.mixin({itemId:this.itemId},a))},_updateHTML:function(a){n.set(this.domNode,"overflow","hidden");var b=m.getMarginBox(this.domNode).h;t.findWidgets(this.domNode).forEach(function(a){a.destroyRecursive()});
l.empty(this.domNode);var c=l.create("div");l.place(a,c);l.place(c.firstElementChild.innerHTML,this.domNode,"only");g.parse(this.domNode);s.parseEmoji(this.domNode);var e=m.getMarginBox(this.domNode).h;p(n.set(this.domNode,"height",b+"px"),d.hitch(this,function(){v(this.domNode,"stop");v(this.domNode,{height:[e,[60,15],b]},{duration:250,complete:d.hitch(this,function(){n.set(this.domNode,"height","")})})}))}})})},"mojo/widgets/campaigns/PlainTextDialog":function(){define("dijit/Dialog dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dojo/_base/lang dojo/on dojo/dom-attr dojo/request dojo/topic mojo/url mojo/utils dojo/text!./templates/plainTextForm.html".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n){var p,t,q=function(a){return"campaigns/plain-text/success/"+a},r=new k([d,g],{templateString:n,campaignId:null,postCreate:function(){this.own(c(this.cancelBtn,"click",b.hitch(this,"_onCancel")),c(this.regenBtn,"click",b.hitch(this,"_onRegen")),c(this.saveBtn,"click",b.hitch(this,"_onSave")))},setPlainText:function(a){this.textInput.value=a},getPlainTextFor:function(c){this.campaignId=c;c=l.get(a.toUrl("campaigns/get-text",{id:c}),{handleAs:"json"});c.then(b.hitch(this,
function(a){t.setPlainText(a.content)}));return c},_onSave:function(){m.toggleButtonLoadingState(this.saveBtn);l.post(a.toUrl("campaigns/text-update"),{data:{id:this.campaignId,text:this.textInput.value},handleAs:"json"}).then(b.hitch(this,function(a){"error"!=a&&(p.hide(),e.publish(q(this.campaignId)));m.toggleButtonLoadingState(this.saveBtn)}))},_onRegen:function(){m.toggleButtonLoadingState(this.regenBtn);l.post(a.toUrl("campaigns/regen-text"),{data:{id:this.campaignId},handleAs:"json"}).then(b.hitch(this,
function(a){switch(a.status){case "error":m.toggleButtonLoadingState(this.regenBtn);break;default:f.set(this.textInput,"value",a.content),m.toggleButtonLoadingState(this.regenBtn)}}))},_onCancel:function(a){a.preventDefault();a.stopPropagation();p.hide()}});return{successTopic:q,show:function(a){p||(t=new r,t.startup(),p=new h({"class":"edit-plaintext-dialog",style:"width:760px",title:"Edit Plain-Text Version",content:t.domNode}));t.getPlainTextFor(a).then(function(){p.show()})},hide:function(){p.hide()}}})},
"mojo/widgets/automation/SettingsOverlay":function(){define("dojo/_base/declare dojo/_base/lang dojo/Deferred dojo/dom dojo/dom-attr dojo/dom-form dojo/dom-style dojo/html dojo/on dojo/query dojo/request/xhr dojo/topic dijit/Dialog dijit/registry dijit/_WidgetBase dijit/_AttachMixin mojo/url mojo/validate mojo/widgets/_Overlay".split(" "),function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s,v,w){return h([q,r,w],{campaignId:0,_form:null,_formData:{},postCreate:function(){this.inherited(arguments);this._form=
g.byId("setup-form");this._formData=c.toObject(this._form);n.subscribe("campaign/"+this.campaignId+"/title",function(a){g.byId("title").value=a});e(this.cancel,"click",k.hitch(this,"doCancel"));e(this.submit,"click",k.hitch(this,"save"));e(this.digest_settings,"click",k.hitch(this,"showDigestSettings"))},save:function(){var d=this;this._formData=c.toObject(this._form);var e=b.get(this._form,"action");m.post(e,{data:d._formData,handleAs:"json"}).then(function(b){if("success"===b.status)n.publish("campaign/"+
d.campaignId+"/setup",{result:"success"}),n.publish("campaign/"+d.campaignId+"/title",g.byId("title").value),d.hide();else if(l.set(d.error_message,b.message),f.set(d.error_message,"display",""),"object"===typeof b.validation_errors)for(var c in b.validation_errors)if(!1!==b.validation_errors.hasOwnProperty(c)){var e=a("[name\x3d'"+c+"']")[0]||a("[name\x3d'content["+c+"]']")[0];e&&v.invalidateField(e,b.validation_errors[c])}})},doCancel:function(){this.resetForm();this.hide()},resetForm:function(){for(var a=
this._formData,c=this._form.elements,d=0;d<c.length;d++){var f=c[d],g=f.name,h=f.type;if(!f.disabled&&!("button"===h||"submit"===h))"checkbox"===h?b.set(f,"checked",a[g]?!0:!1):b.set(f,"value",a[g]),e.emit(f,"blur",{bubbles:!1,cancelable:!1})}},onHide:function(){f.set(this.error_message,"display","none")},showDigestSettings:function(){var e=new d,f=new p({title:"Digest Settings",onHide:function(){f.destroyRecursive()},onDownloadEnd:function(){a(".cancel-button",f.domNode).on("click",function(a){a.stopPropagation();
a.preventDefault();f.hide()});a("form",f.domNode).on("submit",function(d){d.stopPropagation();d.preventDefault();d=c.toObject(this);var g=b.get(this,"action");m.post(g,{data:d,handleAs:"json"}).then(function(b){e.resolve(b);var c=b.count+" user";if(1<b.count||0===b.count)c+="s";l.set(a("[data-report-notification-count]")[0],c);f.hide()},function(a){e.reject(a);f.hide()})})}});f.setHref(s.toUrl("automations/notification-settings",{id:this.campaignId}));f.show();return e},toggleDigestPanel:function(b){var c=
a("[data-digest-settings-pane]")[0];f.set(c,"display",b?"":"none")},toggleRecipientNamePanel:function(a){f.set(this.personalize_recipient_name,"display",a?"":"none")}})})},"mojo/widgets/automation/transactional/TxEmailItem":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/registry dojo/query dojo/dom-class dojo/dom-construct dojo/dom-attr dojo/dom-style dojo/request/xhr dojo/on dojo/_base/lang dojo/dom dojo/parser dojo/text!./templates/TxEmailItem.html mojo/url mojo/widgets/Previewer mojo/widgets/campaigns/Checklist".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s,v,w){return h([k,d,g],{templateString:r,baseClass:"c-txEmailItem",maxSubjectLength:150,campaignId:null,campaignStatus:null,screenshotUrl:null,subject:null,variant:null,hasTransactionTypeEnabled:null,editUrl:null,campaignType:"tx",postCreate:function(){this.inherited(arguments);this.own(n(this.orderStatusSwitch,"change",p.hitch(this,this._toggleSwitch)))},startup:function(){this.editUrl=s.toUrl("/campaigns/show?id\x3d"+this.campaignId+"\x26variant\x3d"+this.variant);
e.set(this.editDesignBtn,"href",this.editUrl);this.txSubjectString.innerHTML=this.subject;this.txEmailDescription.innerHTML=this.description;this.txEmailItemTitle.innerHTML=this.emailItemTitle;this.subjectCharRemaining.innerHTML=this.maxSubjectLength;this.hasTransactionTypeEnabled&&(this.orderStatusSwitch.setChecked(!0),this.thumbnailPreview.set("borderStyle","solid"));"sending"===this.campaignStatus&&(f.add(this.editDesignBtn,"disabled-container"),f.add(this.txEmailTitleWrapper,"disabled-container"),
f.add(this.txSubjectWrapper,"disabled-container"),f.add(this.txEmailDescriptionWrapper,"disabled-container"),f.add(this.txOrderStatusValidationWrapper,"disabled-container"));"invalid"===this.status&&(null!==this.validationFailures.bad_length&&f.remove(this.txValidationBadLength,"hide"),null!==this.validationFailures.bad_urls&&f.remove(this.txValidationBadUrls,"hide"),!0===this.validationFailures.has_prex&&f.remove(this.txValidationHasPrex,"hide"))},txEditSubject:function(a){a.preventDefault();a.stopPropagation();
this.subjectData.value=this.subject;this.txEmojiPicker.updateFauxInput();this._toggleSubjectEditor()},txSaveSubject:function(a){a.preventDefault();a.stopPropagation();this.subjectData.value?m.post(s.toUrl("/automations/transactional/postContentForm"),{data:{id:this.campaignId,transaction_type:this.variant,subject:this.subjectData.value},handleAs:"json"}).then(p.hitch(this,function(a){this.subject=this.txSubjectString.innerHTML=this.subjectData.value;this._toggleSubjectEditor();w.refreshItem("status-bar")})):
this._toggleSubjectEditor()},txCancelEditSubject:function(a){a.preventDefault();a.stopPropagation();this._toggleSubjectEditor()},checkSubjectLength:function(a){a=a.target.value.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length;a=this.maxSubjectLength-a;this.subjectCharRemaining.innerHTML=a;10>a?f.add(this.subjectCharCountWrapper,"error-text"):f.remove(this.subjectCharCountWrapper,"error-text");0>a?f.add(this.txSaveSubjectBtn,"disabled"):f.remove(this.txSaveSubjectBtn,"disabled")},previewContent:function(a){a.preventDefault();
a.stopPropagation();this.previewer||(this.previewer=new v({previewId:this.campaignId,previewType:"campaign",titleText:this.parentTitle,showMergeInfo:!0,variant:this.variant,campaignType:this.campaignType}));this.previewer.show()},_toggleSwitch:function(){this._toggleDescriptionWrapper();this._toggleSubjectWrapper();this._toggleOrderStatusValidationWrapper();this.orderStatusSwitch.checked||f.add(this.editDesignBtn,"disabled");m.post(s.toUrl("/automations/transactional/postEmailEnableToggle"),{data:{id:this.campaignId,
transaction_type:this.variant,enabled:this.orderStatusSwitch.checked},handleAs:"json"}).then(p.hitch(this,function(){this.orderStatusSwitch.checked&&f.remove(this.editDesignBtn,"disabled");this.thumbnailPreview.set("borderStyle",this.orderStatusSwitch.checked?"solid":"dashed");w.refreshItem("status-bar")}))},_toggleSubjectWrapper:function(){f.toggle(this.txSubjectWrapper,"hide")},_toggleDescriptionWrapper:function(){f.toggle(this.txEmailDescriptionWrapper,"hide")},_toggleSubjectEditor:function(){this.subjectData.value=
this.subject;f.toggle(this.txSubjectContainer,"hide");f.toggle(this.txSubjectFormWrapper,"hide");f.toggle(this.subjectCharCountWrapper,"hide");f.toggle(this.txOrderStatusValidationWrapper,"hide")},_toggleOrderStatusValidationWrapper:function(){f.toggle(this.txOrderStatusValidationWrapper,"hide")}})})},"mojo/widgets/ads/FacebookLocationTagList":function(){define("dojo/_base/declare dojo/_base/lang dojo/request dojo/dom dojo/dom-class dojo/topic dojo/store/Memory dojo/store/Cache dojo/store/util/QueryResults mojo/widgets/input/TagAutocomplete mojo/widgets/input/TagList mojo/url".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n){var p=function(a){var b=a.name.split(", ").join(";");b.split(" ").join(";");return[a.type,a.country_code,a.region_id,a.city_id,a.zip_id,b].map(function(a){return"NULL"===a?"":a}).join("_")},t;String.prototype.startsWith||(String.prototype.startsWith=function(a,b){return this.substr(b||0,a.length)===a});var q=h([f],{idProperty:"nameKey",query:function(a){var b=null;g.byId("audience-lookalike").checked&&(b=g.byId("audience-location").value);a=k.isString(a)?a:a.name.toString();
a=n.toUrl("/ads/facebook/find-locations",{q:a,limit:100,cc:b});a=d(a,{handleAs:"json"}).then(function(a){a.forEach(function(a){a.nameKey=a.name.toLowerCase();a.id=p(a)});return a});a.total=a.then(function(a){return a.length});return e(a)}}),r=new f({idProperty:"nameKey"});f=h([a],{store:new l(new q,r),autoComplete:!1,onEnter:function(){var a=this.getCurrentInput().toLowerCase();if(a=r.get(a))this.setValue(a),this.setLabel(a.name);return!0}});return h([m],{TagModel:f,locations:[],postCreate:function(){var a=
this;this.inherited(arguments);(a.locations||[]).forEach(k.hitch(function(b){a._addTag(p(b),b.name)}))},_addTag:function(a,b){var c=this.inherited(arguments);this.removeDuplicateTag();this.findGroupedTags();this.highlightGroupedTags();this.toggleConflictMessage();this.updateField();return c},_removeTag:function(a){this.inherited(arguments);this.findGroupedTags();this.highlightGroupedTags();this.toggleConflictMessage();this.updateField()},updateField:function(){var a={},b=this.getValues().filter(function(b){b=
b.trim();return!a[b]?a[b]=!0:!1});g.byId("audience-locations").value=b.join()},removeDuplicateTag:function(){var a={};this._getTags().forEach(function(b){a[b.value]?b.destroy():a[b.value]=!0})},findGroupedTags:function(){function a(b,c){return b!==c&&(b.startsWith(c)||c.startsWith(b))}t=this._getTags().map(function(a){a=a.value.split("_");a.shift();a.pop();return a.join("")}).filter(function(a){return""!==a}).filter(function(b,c,d){return d.some(a.bind(null,b))})},highlightGroupedTags:function(){0<
t.length?(c.publish("ads/facebook-location-taglist",{conflicts:!0}),this._getTags().map(function(a){var c=a.value.split("_");c.shift();c.pop();c=c.join("");-1!==t.indexOf(c)?b.add(a.domNode,"c-tagList_item--highlight"):b.remove(a.domNode,"c-tagList_item--highlight")})):(c.publish("ads/facebook-location-taglist","{conflicts: false}"),this._getTags().map(function(a){b.remove(a.domNode,"c-tagList_item--highlight")}))},toggleConflictMessage:function(){b.toggle(g.byId("locationLabel"),"js-hide",0<t.length);
b.toggle(g.byId("conflictMessage"),"js-hide",0>=t.length)}})})},"mojo/widgets/ads/FacebookPreview":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/dom-class dojo/dom-construct dojo/query dijit/_WidgetBase dijit/_TemplatedMixin mojo/widgets/ButtonGroup dojo/text!./templates/FacebookPreview.html dojo/text!./templates/FacebookPreviewButtonItemBordered.html dojo/text!./templates/FacebookPreviewButtonItemUnderlined.html".split(" "),function(h,k,d,g,b,c,f,l,e,a,m,n){return h([f,
l],{templateString:a,previews:null,childPreviews:null,previewButtons:null,childPreviewButtons:null,postCreate:function(){this.parsePreviews();this.previews&&1<this.previews.length&&(this.hideAll(),this.buildPreviewButtons())},parsePreviews:function(){this.previews=c("[data-preview-label]",this.containerNode)},parseChildPreviews:function(a){this.childPreviews=c("[data-preview-style]",a)},buildPreviewButtons:function(){var a=this.getPreviewButtons();this.previewButtons=new e({options:a,itemTpl:m,activeClass:"v-buttonGroupBordered--active",
"class":"margin-bottom--lv4"});this.previewButtons.placeAt(this.buttons);this.previewButtons.startup();this.previewButtons.on("change",d.hitch(this,"handlePreviewChange"));this.previewButtons.setSelected(a[0].value)},buildChildPreviewTab:function(){var a=this.getChildPreviewButtons();this.childPreviewButtons=new e({options:a,itemTpl:n,activeClass:"v-buttonGroupUnderlined--active","class":"margin-bottom--lv2"});this.childPreviewButtons.placeAt(this.childButtons);this.childPreviewButtons.startup();
this.childPreviewButtons.on("change",d.hitch(this,"handleChildPreviewChange"));this.childPreviewButtons.setSelected(a[0].value)},handlePreviewChange:function(){this.hideAll();this.resetChildPreviews();this.previews.forEach(d.hitch(this,function(a){this.previewButtons.value===a.dataset.previewLabel.toLowerCase()&&(this.parseChildPreviews(a),g.remove(a,"hide"),this.childPreviews&&1<this.childPreviews.length&&this.buildChildPreviewTab())}))},handleChildPreviewChange:function(){this.childPreviews.forEach(d.hitch(this,
function(a){g.toggle(a,"hide",this.childPreviewButtons.value!==a.dataset.previewStyle.toLowerCase())}))},hideAll:function(){this.previews.addClass("hide")},resetChildPreviews:function(){this.childPreviews=null;b.empty(this.childButtons)},getPreviewButtons:function(){return this.getButtonItemsFromArray(this.getUniqueValuesFromNodes(this.previews,"previewLabel"))},getChildPreviewButtons:function(){return this.getButtonItemsFromArray(this.getUniqueValuesFromNodes(this.childPreviews,"previewStyle"))},
getButtonItemsFromArray:function(a){return k.map(a,d.hitch(this,function(a){return{value:a.toLowerCase(),label:a}}))},getUniqueValuesFromNodes:function(a,b){var c=[];a.forEach(d.hitch(this,function(a){a=a.dataset[b];-1===k.indexOf(c,a)&&c.push(a)}));return c}})})},"mojo/widgets/ads/FacebookTagList":function(){define("dojo/_base/declare dojo/_base/lang dojo/request dojo/dom dojo/store/Memory dojo/store/Cache dojo/store/util/QueryResults mojo/widgets/input/TagAutocomplete mojo/widgets/input/TagList mojo/url".split(" "),
function(h,k,d,g,b,c,f,l,e,a){var m=h([b],{idProperty:"nameKey",query:function(b){b=k.isString(b)?b:b.name.toString();b=a.toUrl("/ads/facebook/find-interests",{q:b,limit:100});b=d(b,{handleAs:"json"}).then(function(a){a.forEach(function(a){a.nameKey=a.name.toLowerCase();a.id=(a.id+"_"+a.name).replace(/,/g,"")});return a});b.total=b.then(function(a){return a.length});return f(b)}}),n=new b({idProperty:"nameKey"});b=h([l],{store:new c(new m,n),autoComplete:!1,onEnter:function(){var a=this.getCurrentInput().toLowerCase();
if(a=n.get(a))this.setValue(a.id),this.setLabel(a.name);return!0}});return h([e],{TagModel:b,interests:[],postCreate:function(){var a=this;this.inherited(arguments);(a.interests||[]).forEach(k.hitch(function(b){a._addTag((b.id+"_"+b.name).replace(/,/g,""),b.name)}))},_addTag:function(a,b){var c=this.inherited(arguments);this.updateField();return c},_removeTag:function(a){this.inherited(arguments);this.updateField()},updateField:function(){var a={},b=this.getValues().filter(function(b){b=b.trim();
return!a[b]?a[b]=!0:!1});g.byId("audience-interests").value=b.join()}})})},"mojo/widgets/ads/PreviewOverlay":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/request dijit/_Widget dijit/_Templated dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin mojo/widgets/TopSliderPane mojo/url dojo/on dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/keys dojo/query dojo/text!./templates/PreviewOverlayTemplate.html dojo/text!./templates/SliderPaneWrapper.html".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s,v,w){var u=h([e,f,l],{preview:v,templateString:w,paneClasses:"c-adPreviewContainer",postMixInProperties:function(){this.pagerIndex=0;g.get(a.toUrl("/ads/google/preview"),{handleAs:"json",query:{id:1,type:"google"}}).then(k.hitch(this,function(a){this.ads=a;this.renderThumbnails(this.ads);this.renderPreview(0)}));this.inherited(arguments)},postCreate:function(){var a=this;m(this.previewPager,"a:click",function(){var b=p.get(this,"data-preview-pager"),b=a.getPagerIndex(b);
a.toggleActiveState(s("a",a.previewPager),b);a.renderPreview(b)});m(this.previewPager,"keyup",function(b){b=b.charCode||b.keyCode;var c=a.pagerIndex;if(b===r.LEFT_ARROW||b===r.DOWN_ARROW)c=0>c-1?a.ads.length-1:c-1;if(b===r.RIGHT_ARROW||b===r.UP_ARROW)c=c+1>a.ads.length-1?0:c+1;a.pagerIndex=c;a.toggleActiveState(s("a",a.previewPager),c);a.renderPreview(c)});this.inherited(arguments)},renderThumbnails:function(a){var b=q.create("ul",{"class":"flex flex-row justify-content--center"});d.forEach(a,function(a,
c){var d=q.create("li",{"class":"c-previewPager_item"},b),d=0===c?q.create("a",{"class":"flex align-items--center c-previewPager_thumbnail border-radius--lv2 c-previewPager_thumbnail--active",href:"#0","data-preview-pager":c},d):q.create("a",{"class":"flex align-items--center c-previewPager_thumbnail border-radius--lv2",href:"#0","data-preview-pager":c},d);q.create("img",{src:a.image_url,alt:"",width:72,height:72},d)});q.place(b,this.previewPagerPlaceholder,"replace")},renderPreview:function(a){this.content.innerHTML=
k.replace(this.preview,{_product:this.ads[a].image_url||"",_headline:this.ads[a].short_headline||"",_description:this.ads[a].description||"",_url:this.ads[a].link_url||""})},getPagerIndex:function(a){return"next"===a?this.pagerIndex+1>this.ads.length-1?this.pagerIndex=0:this.pagerIndex+=1:"prev"===a?0>this.pagerIndex-1?this.pagerIndex=this.ads.length-1:this.pagerIndex-=1:this.pagerIndex=+a},toggleActiveState:function(a,b){a.shift();a.pop();d.forEach(a,function(a,c){t.toggle(a,"c-previewPager_thumbnail--active",
c===+b)})}}),y=null;return{_getPreviewPane:function(){y||(y=new u,y.startup());return y},show:function(a){return this._getPreviewPane().show(a)},hide:function(){return this._getPreviewPane().hide()},isShown:function(){return y&&y.displayActive}}})},"mojo/widgets/ads/RetargetingPreview":function(){define(["dojo/_base/declare","dijit/_WidgetBase","dijit/_TemplatedMixin","dojo/text!./templates/PreviewTemplate.html"],function(h,k,d,g){return h([k,d],{templateString:g,postCreate:function(){this.inherited(arguments)}})})},
"mojo/widgets/ads/facebook/AdPlacement":function(){define("dojo/_base/declare dojo/_base/lang dojo/promise/all dojo/dom-class dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/registry vendor/lodash-amd/merge ./ad-placement/Api ./ad-placement/PageInput ./ad-placement/ChannelItem dojo/text!./ad-placement/templates/AdPlacement.html".split(" "),function(h,k,d,g,b,c,f,l,e,a,m,n,p){return h([b,c,f],{templateString:p,adId:null,pages:null,channels:null,postCreate:function(){this.adId&&
d({pages:a.getConnectedPages(this.adId),channels:a.getAdPlacementData(this.adId)}).then(k.hitch(this,"setup"))},setup:function(a){this.pages=a.pages;this.channels=a.channels;this.initPages();this.toggleLoadingIndicator()},toggleLoadingIndicator:function(){g.toggle(this.loadingState,"hide");g.toggle(this.readyState,"hide")},initPages:function(){this.input=new m({data:this.pages});this.input.placeAt(this.pageInput);this.input.startup();this.input.watch("page",k.hitch(this,"handleSelection"));this.handleSelection()},
handleSelection:function(){this.setPageData();this.resetChannelItems();this.initChannels()},setPageData:function(){this.channels=e(this.channels,this.getFormattedPageData())},initChannels:function(){this.channels.forEach(k.hitch(this,"createChannel"))},createChannel:function(a){a=new n({data:a});a.placeAt(this.channelItems);a.startup()},resetChannelItems:function(){l.findWidgets(this.channelItems).forEach(function(a){a.destroyRecursive(!1)})},getSelectedPage:function(){return this.input.get("page")},
getFormattedPageData:function(){var a=this.getSelectedPage();return[{enabled:!0,iconUrl:a.iconUrl},{enabled:a.instagram.enabled,iconUrl:a.instagram.iconUrl}]}})})},"vendor/lodash-amd/merge":function(){define(["./_baseMerge","./_createAssigner"],function(h,k){return k(function(d,g,b){h(d,g,b)})})},"vendor/lodash-amd/_baseMerge":function(){define("./_Stack ./_assignMergeValue ./_baseFor ./_baseMergeDeep ./isObject ./keysIn".split(" "),function(h,k,d,g,b,c){function f(e,a,m,n,p){e!==a&&d(a,function(c,
d){if(b(c))p||(p=new h),g(e,a,d,m,f,n,p);else{var r=n?n(e[d],c,d+"",e,a,p):l;r===l&&(r=c);k(e,d,r)}},c)}var l;return f})},"vendor/lodash-amd/_Stack":function(){define("./_ListCache ./_stackClear ./_stackDelete ./_stackGet ./_stackHas ./_stackSet".split(" "),function(h,k,d,g,b,c){function f(b){this.size=(this.__data__=new h(b)).size}f.prototype.clear=k;f.prototype["delete"]=d;f.prototype.get=g;f.prototype.has=b;f.prototype.set=c;return f})},"vendor/lodash-amd/_ListCache":function(){define(["./_listCacheClear",
"./_listCacheDelete","./_listCacheGet","./_listCacheHas","./_listCacheSet"],function(h,k,d,g,b){function c(b){var c=-1,d=null==b?0:b.length;for(this.clear();++c<d;){var a=b[c];this.set(a[0],a[1])}}c.prototype.clear=h;c.prototype["delete"]=k;c.prototype.get=d;c.prototype.has=g;c.prototype.set=b;return c})},"vendor/lodash-amd/_listCacheClear":function(){define([],function(){return function(){this.__data__=[];this.size=0}})},"vendor/lodash-amd/_listCacheDelete":function(){define(["./_assocIndexOf"],
function(h){var k=Array.prototype.splice;return function(d){var g=this.__data__;d=h(g,d);if(0>d)return!1;d==g.length-1?g.pop():k.call(g,d,1);--this.size;return!0}})},"vendor/lodash-amd/_assocIndexOf":function(){define(["./eq"],function(h){return function(k,d){for(var g=k.length;g--;)if(h(k[g][0],d))return g;return-1}})},"vendor/lodash-amd/eq":function(){define([],function(){return function(h,k){return h===k||h!==h&&k!==k}})},"vendor/lodash-amd/_listCacheGet":function(){define(["./_assocIndexOf"],
function(h){return function(k){var d=this.__data__;k=h(d,k);return 0>k?void 0:d[k][1]}})},"vendor/lodash-amd/_listCacheHas":function(){define(["./_assocIndexOf"],function(h){return function(k){return-1<h(this.__data__,k)}})},"vendor/lodash-amd/_listCacheSet":function(){define(["./_assocIndexOf"],function(h){return function(k,d){var g=this.__data__,b=h(g,k);0>b?(++this.size,g.push([k,d])):g[b][1]=d;return this}})},"vendor/lodash-amd/_stackClear":function(){define(["./_ListCache"],function(h){return function(){this.__data__=
new h;this.size=0}})},"vendor/lodash-amd/_stackDelete":function(){define([],function(){return function(h){var k=this.__data__;h=k["delete"](h);this.size=k.size;return h}})},"vendor/lodash-amd/_stackGet":function(){define([],function(){return function(h){return this.__data__.get(h)}})},"vendor/lodash-amd/_stackHas":function(){define([],function(){return function(h){return this.__data__.has(h)}})},"vendor/lodash-amd/_stackSet":function(){define(["./_ListCache","./_Map","./_MapCache"],function(h,k,d){return function(g,
b){var c=this.__data__;if(c instanceof h){var f=c.__data__;if(!k||199>f.length)return f.push([g,b]),this.size=++c.size,this;c=this.__data__=new d(f)}c.set(g,b);this.size=c.size;return this}})},"vendor/lodash-amd/_Map":function(){define(["./_getNative","./_root"],function(h,k){return h(k,"Map")})},"vendor/lodash-amd/_getNative":function(){define(["./_baseIsNative","./_getValue"],function(h,k){return function(d,g){var b=k(d,g);return h(b)?b:void 0}})},"vendor/lodash-amd/_baseIsNative":function(){define(["./isFunction",
"./_isMasked","./isObject","./_toSource"],function(h,k,d,g){var b=/^\[object .+?Constructor\]$/,c=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$\x26").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");return function(f){return!d(f)||k(f)?!1:(h(f)?c:b).test(g(f))}})},"vendor/lodash-amd/isFunction":function(){define(["./_baseGetTag","./isObject"],function(h,k){return function(d){if(!k(d))return!1;d=h(d);return"[object Function]"==
d||"[object GeneratorFunction]"==d||"[object AsyncFunction]"==d||"[object Proxy]"==d}})},"vendor/lodash-amd/_baseGetTag":function(){define(["./_Symbol","./_getRawTag","./_objectToString"],function(h,k,d){var g=h?h.toStringTag:void 0;return function(b){return null==b?void 0===b?"[object Undefined]":"[object Null]":g&&g in Object(b)?k(b):d(b)}})},"vendor/lodash-amd/_Symbol":function(){define(["./_root"],function(h){return h.Symbol})},"vendor/lodash-amd/_root":function(){define(["./_freeGlobal"],function(h){var k=
"object"==typeof self&&self&&self.Object===Object&&self;return h||k||Function("return this")()})},"vendor/lodash-amd/_freeGlobal":function(){define([],function(){return"object"==typeof global&&global&&global.Object===Object&&global})},"vendor/lodash-amd/_getRawTag":function(){define(["./_Symbol"],function(h){var k=Object.prototype,d=k.hasOwnProperty,g=k.toString,b=h?h.toStringTag:void 0;return function(c){var f=d.call(c,b),h=c[b];try{c[b]=void 0;var e=!0}catch(a){}var k=g.call(c);e&&(f?c[b]=h:delete c[b]);
return k}})},"vendor/lodash-amd/_objectToString":function(){define([],function(){var h=Object.prototype.toString;return function(k){return h.call(k)}})},"vendor/lodash-amd/isObject":function(){define([],function(){return function(h){var k=typeof h;return null!=h&&("object"==k||"function"==k)}})},"vendor/lodash-amd/_isMasked":function(){define(["./_coreJsData"],function(h){var k=function(){var d=/[^.]+$/.exec(h&&h.keys&&h.keys.IE_PROTO||"");return d?"Symbol(src)_1."+d:""}();return function(d){return!!k&&
k in d}})},"vendor/lodash-amd/_coreJsData":function(){define(["./_root"],function(h){return h["__core-js_shared__"]})},"vendor/lodash-amd/_toSource":function(){define([],function(){var h=Function.prototype.toString;return function(k){if(null!=k){try{return h.call(k)}catch(d){}return k+""}return""}})},"vendor/lodash-amd/_getValue":function(){define([],function(){return function(h,k){return null==h?void 0:h[k]}})},"vendor/lodash-amd/_MapCache":function(){define(["./_mapCacheClear","./_mapCacheDelete",
"./_mapCacheGet","./_mapCacheHas","./_mapCacheSet"],function(h,k,d,g,b){function c(b){var c=-1,d=null==b?0:b.length;for(this.clear();++c<d;){var a=b[c];this.set(a[0],a[1])}}c.prototype.clear=h;c.prototype["delete"]=k;c.prototype.get=d;c.prototype.has=g;c.prototype.set=b;return c})},"vendor/lodash-amd/_mapCacheClear":function(){define(["./_Hash","./_ListCache","./_Map"],function(h,k,d){return function(){this.size=0;this.__data__={hash:new h,map:new (d||k),string:new h}}})},"vendor/lodash-amd/_Hash":function(){define(["./_hashClear",
"./_hashDelete","./_hashGet","./_hashHas","./_hashSet"],function(h,k,d,g,b){function c(b){var c=-1,d=null==b?0:b.length;for(this.clear();++c<d;){var a=b[c];this.set(a[0],a[1])}}c.prototype.clear=h;c.prototype["delete"]=k;c.prototype.get=d;c.prototype.has=g;c.prototype.set=b;return c})},"vendor/lodash-amd/_hashClear":function(){define(["./_nativeCreate"],function(h){return function(){this.__data__=h?h(null):{};this.size=0}})},"vendor/lodash-amd/_nativeCreate":function(){define(["./_getNative"],function(h){return h(Object,
"create")})},"vendor/lodash-amd/_hashDelete":function(){define([],function(){return function(h){h=this.has(h)&&delete this.__data__[h];this.size-=h?1:0;return h}})},"vendor/lodash-amd/_hashGet":function(){define(["./_nativeCreate"],function(h){var k=Object.prototype.hasOwnProperty;return function(d){var g=this.__data__;return h?(d=g[d],"__lodash_hash_undefined__"===d?void 0:d):k.call(g,d)?g[d]:void 0}})},"vendor/lodash-amd/_hashHas":function(){define(["./_nativeCreate"],function(h){var k=Object.prototype.hasOwnProperty;
return function(d){var g=this.__data__;return h?void 0!==g[d]:k.call(g,d)}})},"vendor/lodash-amd/_hashSet":function(){define(["./_nativeCreate"],function(h){return function(k,d){var g=this.__data__;this.size+=this.has(k)?0:1;g[k]=h&&void 0===d?"__lodash_hash_undefined__":d;return this}})},"vendor/lodash-amd/_mapCacheDelete":function(){define(["./_getMapData"],function(h){return function(k){k=h(this,k)["delete"](k);this.size-=k?1:0;return k}})},"vendor/lodash-amd/_getMapData":function(){define(["./_isKeyable"],
function(h){return function(k,d){var g=k.__data__;return h(d)?g["string"==typeof d?"string":"hash"]:g.map}})},"vendor/lodash-amd/_isKeyable":function(){define([],function(){return function(h){var k=typeof h;return"string"==k||"number"==k||"symbol"==k||"boolean"==k?"__proto__"!==h:null===h}})},"vendor/lodash-amd/_mapCacheGet":function(){define(["./_getMapData"],function(h){return function(k){return h(this,k).get(k)}})},"vendor/lodash-amd/_mapCacheHas":function(){define(["./_getMapData"],function(h){return function(k){return h(this,
k).has(k)}})},"vendor/lodash-amd/_mapCacheSet":function(){define(["./_getMapData"],function(h){return function(k,d){var g=h(this,k),b=g.size;g.set(k,d);this.size+=g.size==b?0:1;return this}})},"vendor/lodash-amd/_assignMergeValue":function(){define(["./_baseAssignValue","./eq"],function(h,k){return function(d,g,b){(void 0!==b&&!k(d[g],b)||void 0===b&&!(g in d))&&h(d,g,b)}})},"vendor/lodash-amd/_baseAssignValue":function(){define(["./_defineProperty"],function(h){return function(k,d,g){"__proto__"==
d&&h?h(k,d,{configurable:!0,enumerable:!0,value:g,writable:!0}):k[d]=g}})},"vendor/lodash-amd/_defineProperty":function(){define(["./_getNative"],function(h){var k;a:{try{var d=h(Object,"defineProperty");d({},"",{});k=d;break a}catch(g){}k=void 0}return k})},"vendor/lodash-amd/_baseFor":function(){define(["./_createBaseFor"],function(h){return h()})},"vendor/lodash-amd/_createBaseFor":function(){define([],function(){return function(h){return function(k,d,g){var b=-1,c=Object(k);g=g(k);for(var f=g.length;f--;){var l=
g[h?f:++b];if(!1===d(c[l],l,c))break}return k}}})},"vendor/lodash-amd/_baseMergeDeep":function(){define("./_assignMergeValue ./_cloneBuffer ./_cloneTypedArray ./_copyArray ./_initCloneObject ./isArguments ./isArray ./isArrayLikeObject ./isBuffer ./isFunction ./isObject ./isPlainObject ./isTypedArray ./toPlainObject".split(" "),function(h,k,d,g,b,c,f,l,e,a,m,n,p,t){return function(q,r,s,v,w,u,y){var x=q[s],A=r[s],C=y.get(A);if(C)h(q,s,C);else{r=u?u(x,A,s+"",q,r,y):void 0;if(C=void 0===r){var D=f(A),
E=!D&&e(A),G=!D&&!E&&p(A);r=A;if(D||E||G)f(x)?r=x:l(x)?r=g(x):E?(C=!1,r=k(A,!0)):G?(C=!1,r=d(A,!0)):r=[];else if(n(A)||c(A))if(r=x,c(x))r=t(x);else{if(!m(x)||v&&a(x))r=b(A)}else C=!1}C&&(y.set(A,r),w(r,A,v,u,y),y["delete"](A));h(q,s,r)}}})},"vendor/lodash-amd/_cloneBuffer":function(){define(["./_root"],function(h){var k="object"==typeof exports&&exports&&!exports.nodeType&&exports,d=k&&"object"==typeof module&&module&&!module.nodeType&&module,g=(h=d&&d.exports===k?h.Buffer:void 0)?h.allocUnsafe:void 0;
return function(b,c){if(c)return b.slice();var d=b.length,d=g?g(d):new b.constructor(d);b.copy(d);return d}})},"vendor/lodash-amd/_cloneTypedArray":function(){define(["./_cloneArrayBuffer"],function(h){return function(k,d){var g=d?h(k.buffer):k.buffer;return new k.constructor(g,k.byteOffset,k.length)}})},"vendor/lodash-amd/_cloneArrayBuffer":function(){define(["./_Uint8Array"],function(h){return function(k){var d=new k.constructor(k.byteLength);(new h(d)).set(new h(k));return d}})},"vendor/lodash-amd/_Uint8Array":function(){define(["./_root"],
function(h){return h.Uint8Array})},"vendor/lodash-amd/_copyArray":function(){define([],function(){return function(h,k){var d=-1,g=h.length;for(k||(k=Array(g));++d<g;)k[d]=h[d];return k}})},"vendor/lodash-amd/_initCloneObject":function(){define(["./_baseCreate","./_getPrototype","./_isPrototype"],function(h,k,d){return function(g){return"function"==typeof g.constructor&&!d(g)?h(k(g)):{}}})},"vendor/lodash-amd/_baseCreate":function(){define(["./isObject"],function(h){var k=Object.create;return function(){function d(){}
return function(g){if(!h(g))return{};if(k)return k(g);d.prototype=g;g=new d;d.prototype=void 0;return g}}()})},"vendor/lodash-amd/_getPrototype":function(){define(["./_overArg"],function(h){return h(Object.getPrototypeOf,Object)})},"vendor/lodash-amd/_overArg":function(){define([],function(){return function(h,k){return function(d){return h(k(d))}}})},"vendor/lodash-amd/_isPrototype":function(){define([],function(){var h=Object.prototype;return function(k){var d=k&&k.constructor;return k===("function"==
typeof d&&d.prototype||h)}})},"vendor/lodash-amd/isArguments":function(){define(["./_baseIsArguments","./isObjectLike"],function(h,k){var d=Object.prototype,g=d.hasOwnProperty,b=d.propertyIsEnumerable;return h(function(){return arguments}())?h:function(c){return k(c)&&g.call(c,"callee")&&!b.call(c,"callee")}})},"vendor/lodash-amd/_baseIsArguments":function(){define(["./_baseGetTag","./isObjectLike"],function(h,k){return function(d){return k(d)&&"[object Arguments]"==h(d)}})},"vendor/lodash-amd/isObjectLike":function(){define([],
function(){return function(h){return null!=h&&"object"==typeof h}})},"vendor/lodash-amd/isArray":function(){define([],function(){return Array.isArray})},"vendor/lodash-amd/isArrayLikeObject":function(){define(["./isArrayLike","./isObjectLike"],function(h,k){return function(d){return k(d)&&h(d)}})},"vendor/lodash-amd/isArrayLike":function(){define(["./isFunction","./isLength"],function(h,k){return function(d){return null!=d&&k(d.length)&&!h(d)}})},"vendor/lodash-amd/isLength":function(){define([],
function(){return function(h){return"number"==typeof h&&-1<h&&0==h%1&&9007199254740991>=h}})},"vendor/lodash-amd/isBuffer":function(){define(["./_root","./stubFalse"],function(h,k){var d="object"==typeof exports&&exports&&!exports.nodeType&&exports,g=d&&"object"==typeof module&&module&&!module.nodeType&&module;return((d=g&&g.exports===d?h.Buffer:void 0)?d.isBuffer:void 0)||k})},"vendor/lodash-amd/stubFalse":function(){define([],function(){return function(){return!1}})},"vendor/lodash-amd/isPlainObject":function(){define(["./_baseGetTag",
"./_getPrototype","./isObjectLike"],function(h,k,d){var g=Function.prototype.toString,b=Object.prototype.hasOwnProperty,c=g.call(Object);return function(f){if(!d(f)||"[object Object]"!=h(f))return!1;f=k(f);if(null===f)return!0;f=b.call(f,"constructor")&&f.constructor;return"function"==typeof f&&f instanceof f&&g.call(f)==c}})},"vendor/lodash-amd/isTypedArray":function(){define(["./_baseIsTypedArray","./_baseUnary","./_nodeUtil"],function(h,k,d){return(d=d&&d.isTypedArray)?k(d):h})},"vendor/lodash-amd/_baseIsTypedArray":function(){define(["./_baseGetTag",
"./isLength","./isObjectLike"],function(h,k,d){var g={};g["[object Float32Array]"]=g["[object Float64Array]"]=g["[object Int8Array]"]=g["[object Int16Array]"]=g["[object Int32Array]"]=g["[object Uint8Array]"]=g["[object Uint8ClampedArray]"]=g["[object Uint16Array]"]=g["[object Uint32Array]"]=!0;g["[object Arguments]"]=g["[object Array]"]=g["[object ArrayBuffer]"]=g["[object Boolean]"]=g["[object DataView]"]=g["[object Date]"]=g["[object Error]"]=g["[object Function]"]=g["[object Map]"]=g["[object Number]"]=
g["[object Object]"]=g["[object RegExp]"]=g["[object Set]"]=g["[object String]"]=g["[object WeakMap]"]=!1;return function(b){return d(b)&&k(b.length)&&!!g[h(b)]}})},"vendor/lodash-amd/_baseUnary":function(){define([],function(){return function(h){return function(k){return h(k)}}})},"vendor/lodash-amd/_nodeUtil":function(){define(["./_freeGlobal"],function(h){var k="object"==typeof exports&&exports&&!exports.nodeType&&exports,d=k&&"object"==typeof module&&module&&!module.nodeType&&module;h=d&&d.exports===
k&&h.process;var g;a:{try{g=h&&h.binding&&h.binding("util");break a}catch(b){}g=void 0}return g})},"vendor/lodash-amd/toPlainObject":function(){define(["./_copyObject","./keysIn"],function(h,k){return function(d){return h(d,k(d))}})},"vendor/lodash-amd/_copyObject":function(){define(["./_assignValue","./_baseAssignValue"],function(h,k){return function(d,g,b,c){var f=!b;b||(b={});for(var l=-1,e=g.length;++l<e;){var a=g[l],m=c?c(b[a],d[a],a,b,d):void 0;void 0===m&&(m=d[a]);f?k(b,a,m):h(b,a,m)}return b}})},
"vendor/lodash-amd/_assignValue":function(){define(["./_baseAssignValue","./eq"],function(h,k){var d=Object.prototype.hasOwnProperty;return function(g,b,c){var f=g[b];(!d.call(g,b)||!k(f,c)||void 0===c&&!(b in g))&&h(g,b,c)}})},"vendor/lodash-amd/keysIn":function(){define(["./_arrayLikeKeys","./_baseKeysIn","./isArrayLike"],function(h,k,d){return function(g){return d(g)?h(g,!0):k(g)}})},"vendor/lodash-amd/_arrayLikeKeys":function(){define("./_baseTimes ./isArguments ./isArray ./isBuffer ./_isIndex ./isTypedArray".split(" "),
function(h,k,d,g,b,c){var f=Object.prototype.hasOwnProperty;return function(l,e){var a=d(l),m=!a&&k(l),n=!a&&!m&&g(l),p=!a&&!m&&!n&&c(l),m=(a=a||m||n||p)?h(l.length,String):[],t=m.length,q;for(q in l)(e||f.call(l,q))&&(!a||!("length"==q||n&&("offset"==q||"parent"==q)||p&&("buffer"==q||"byteLength"==q||"byteOffset"==q)||b(q,t)))&&m.push(q);return m}})},"vendor/lodash-amd/_baseTimes":function(){define([],function(){return function(h,k){for(var d=-1,g=Array(h);++d<h;)g[d]=k(d);return g}})},"vendor/lodash-amd/_isIndex":function(){define([],
function(){var h=/^(?:0|[1-9]\d*)$/;return function(k,d){d=null==d?9007199254740991:d;return!!d&&("number"==typeof k||h.test(k))&&-1<k&&0==k%1&&k<d}})},"vendor/lodash-amd/_baseKeysIn":function(){define(["./isObject","./_isPrototype","./_nativeKeysIn"],function(h,k,d){var g=Object.prototype.hasOwnProperty;return function(b){if(!h(b))return d(b);var c=k(b),f=[],l;for(l in b)"constructor"==l&&(c||!g.call(b,l))||f.push(l);return f}})},"vendor/lodash-amd/_nativeKeysIn":function(){define([],function(){return function(h){var k=
[];if(null!=h)for(var d in Object(h))k.push(d);return k}})},"vendor/lodash-amd/_createAssigner":function(){define(["./_baseRest","./_isIterateeCall"],function(h,k){return function(d){return h(function(g,b){var c=-1,f=b.length,h=1<f?b[f-1]:void 0,e=2<f?b[2]:void 0,h=3<d.length&&"function"==typeof h?(f--,h):void 0;e&&k(b[0],b[1],e)&&(h=3>f?void 0:h,f=1);for(g=Object(g);++c<f;)(e=b[c])&&d(g,e,c,h);return g})}})},"vendor/lodash-amd/_baseRest":function(){define(["./identity","./_overRest","./_setToString"],
function(h,k,d){return function(g,b){return d(k(g,b,h),g+"")}})},"vendor/lodash-amd/identity":function(){define([],function(){return function(h){return h}})},"vendor/lodash-amd/_overRest":function(){define(["./_apply"],function(h){var k=Math.max;return function(d,g,b){g=k(void 0===g?d.length-1:g,0);return function(){for(var c=arguments,f=-1,l=k(c.length-g,0),e=Array(l);++f<l;)e[f]=c[g+f];f=-1;for(l=Array(g+1);++f<g;)l[f]=c[f];l[g]=b(e);return h(d,this,l)}}})},"vendor/lodash-amd/_apply":function(){define([],
function(){return function(h,k,d){switch(d.length){case 0:return h.call(k);case 1:return h.call(k,d[0]);case 2:return h.call(k,d[0],d[1]);case 3:return h.call(k,d[0],d[1],d[2])}return h.apply(k,d)}})},"vendor/lodash-amd/_setToString":function(){define(["./_baseSetToString","./_shortOut"],function(h,k){return k(h)})},"vendor/lodash-amd/_baseSetToString":function(){define(["./constant","./_defineProperty","./identity"],function(h,k,d){return!k?d:function(d,b){return k(d,"toString",{configurable:!0,
enumerable:!1,value:h(b),writable:!0})}})},"vendor/lodash-amd/constant":function(){define([],function(){return function(h){return function(){return h}}})},"vendor/lodash-amd/_shortOut":function(){define([],function(){var h=Date.now;return function(k){var d=0,g=0;return function(){var b=h(),c=16-(b-g);g=b;if(0<c){if(800<=++d)return arguments[0]}else d=0;return k.apply(void 0,arguments)}}})},"vendor/lodash-amd/_isIterateeCall":function(){define(["./eq","./isArrayLike","./_isIndex","./isObject"],function(h,
k,d,g){return function(b,c,f){if(!g(f))return!1;var l=typeof c;return("number"==l?k(f)&&d(c,f.length):"string"==l&&c in f)?h(f[c],b):!1}})},"mojo/widgets/ads/facebook/ad-placement/Api":function(){define(["dojo/_base/lang","dojo/request","mojo/url"],function(h,k,d){return{getConnectedPages:function(d){return this._getData({id:d,type:"facebook"},"/ads/facebook/ad-pages")},getConnectedPageById:function(d,b){return this._getData({id:d,page_id:b,type:"facebook"},"/ads/facebook/ad-pages")},getAdPlacementData:function(d){return this._getData({id:d,
type:"facebook"},"/ads/facebook/ad-placement")},_getData:function(g,b){return k.get(d.toUrl(b),{handleAs:"json",query:g})}}})},"mojo/widgets/ads/facebook/ad-placement/PageInput":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dijit/_WidgetBase dijit/_TemplatedMixin dijit/form/ComboButton dijit/form/Select dojo/on dojo/dom-class vendor/lodash-amd/find dojo/text!./templates/PageInput.html".split(" "),function(h,k,d,g,b,c,f,l,e,a,m){var n=h([f],{getSelectedOptions:function(){return this.options.filter(function(a){return a.selected})},
getSelectedLabel:function(){return this.getSelectedOptions()[0]["aria-label"]}});return h([g,b],{templateString:m,label:"",input:null,postCreate:function(){this.setup();l(this.input,"change",d.hitch(this,"handleSelection"));l(this.editLink,"click",d.hitch(this,"handleEditLink"))},setup:function(){this.buildInput();this.handleSelection();e.toggle(this.editLink,"hide",1===this.data.length)},handleEditLink:function(){this.input.toggleDropDown()},handleSelection:function(){this.updateLabel();this.set("page",
this.getSelectedPage())},buildInput:function(){this.input=new n({name:"page_id",options:this.getOptions(),_aroundNode:this.dropDownAnchor});this.input.placeAt(this.inputContainer);this.input.startup()},updateLabel:function(){this.label.innerText=this.input.getSelectedLabel()},getOptions:function(){return this.data.map(d.hitch(this,function(a){return{label:this.getLabelMarkup(a),"aria-label":a.label,value:a.pageId,selected:a.selected}}))},getSelectedPage:function(){var b=this.input.getSelectedOptions()[0].value;
return a(this.data,{pageId:b})},getLabelMarkup:function(a){return d.replace(a.instagram.enabled?this.tplLabelInstagram.innerHTML:this.tplLabelStandard.innerHTML,a)}})})},"vendor/lodash-amd/find":function(){define(["./_createFind","./findIndex"],function(h,k){return h(k)})},"vendor/lodash-amd/_createFind":function(){define(["./_baseIteratee","./isArrayLike","./keys"],function(h,k,d){return function(g){return function(b,c,f){var l=Object(b);if(!k(b)){var e=h(c,3);b=d(b);c=function(a){return e(l[a],
a,l)}}c=g(b,c,f);return-1<c?l[e?b[c]:c]:void 0}}})},"vendor/lodash-amd/_baseIteratee":function(){define(["./_baseMatches","./_baseMatchesProperty","./identity","./isArray","./property"],function(h,k,d,g,b){return function(c){return"function"==typeof c?c:null==c?d:"object"==typeof c?g(c)?k(c[0],c[1]):h(c):b(c)}})},"vendor/lodash-amd/_baseMatches":function(){define(["./_baseIsMatch","./_getMatchData","./_matchesStrictComparable"],function(h,k,d){return function(g){var b=k(g);return 1==b.length&&b[0][2]?
d(b[0][0],b[0][1]):function(c){return c===g||h(c,g,b)}}})},"vendor/lodash-amd/_baseIsMatch":function(){define(["./_Stack","./_baseIsEqual"],function(h,k){return function(d,g,b,c){var f=b.length,l=f,e=!c;if(null==d)return!l;for(d=Object(d);f--;){var a=b[f];if(e&&a[2]?a[1]!==d[a[0]]:!(a[0]in d))return!1}for(;++f<l;){var a=b[f],m=a[0],n=d[m],p=a[1];if(e&&a[2]){if(void 0===n&&!(m in d))return!1}else{a=new h;if(c)var t=c(n,p,m,d,g,a);if(!(void 0===t?k(p,n,3,c,a):t))return!1}}return!0}})},"vendor/lodash-amd/_baseIsEqual":function(){define(["./_baseIsEqualDeep",
"./isObjectLike"],function(h,k){function d(g,b,c,f,l){return g===b?!0:null==g||null==b||!k(g)&&!k(b)?g!==g&&b!==b:h(g,b,c,f,d,l)}return d})},"vendor/lodash-amd/_baseIsEqualDeep":function(){define("./_Stack ./_equalArrays ./_equalByTag ./_equalObjects ./_getTag ./isArray ./isBuffer ./isTypedArray".split(" "),function(h,k,d,g,b,c,f,l){var e=Object.prototype.hasOwnProperty;return function(a,m,n,p,t,q){var r=c(a),s=c(m),v=r?"[object Array]":b(a),w=s?"[object Array]":b(m),v="[object Arguments]"==v?"[object Object]":
v,w="[object Arguments]"==w?"[object Object]":w,u="[object Object]"==v,s="[object Object]"==w;if((w=v==w)&&f(a)){if(!f(m))return!1;r=!0;u=!1}if(w&&!u)return q||(q=new h),r||l(a)?k(a,m,n,p,t,q):d(a,m,v,n,p,t,q);if(!(n&1)&&(r=u&&e.call(a,"__wrapped__"),v=s&&e.call(m,"__wrapped__"),r||v))return a=r?a.value():a,m=v?m.value():m,q||(q=new h),t(a,m,n,p,q);if(!w)return!1;q||(q=new h);return g(a,m,n,p,t,q)}})},"vendor/lodash-amd/_equalArrays":function(){define(["./_SetCache","./_arraySome","./_cacheHas"],
function(h,k,d){return function(g,b,c,f,l,e){var a=c&1,m=g.length,n=b.length;if(m!=n&&!(a&&n>m))return!1;if((n=e.get(g))&&e.get(b))return n==b;var n=-1,p=!0,t=c&2?new h:void 0;e.set(g,b);for(e.set(b,g);++n<m;){var q=g[n],r=b[n];if(f)var s=a?f(r,q,n,b,g,e):f(q,r,n,g,b,e);if(void 0!==s){if(s)continue;p=!1;break}if(t){if(!k(b,function(a,b){if(!d(t,b)&&(q===a||l(q,a,c,f,e)))return t.push(b)})){p=!1;break}}else if(!(q===r||l(q,r,c,f,e))){p=!1;break}}e["delete"](g);e["delete"](b);return p}})},"vendor/lodash-amd/_SetCache":function(){define(["./_MapCache",
"./_setCacheAdd","./_setCacheHas"],function(h,k,d){function g(b){var c=-1,d=null==b?0:b.length;for(this.__data__=new h;++c<d;)this.add(b[c])}g.prototype.add=g.prototype.push=k;g.prototype.has=d;return g})},"vendor/lodash-amd/_setCacheAdd":function(){define([],function(){return function(h){this.__data__.set(h,"__lodash_hash_undefined__");return this}})},"vendor/lodash-amd/_setCacheHas":function(){define([],function(){return function(h){return this.__data__.has(h)}})},"vendor/lodash-amd/_arraySome":function(){define([],
function(){return function(h,k){for(var d=-1,g=null==h?0:h.length;++d<g;)if(k(h[d],d,h))return!0;return!1}})},"vendor/lodash-amd/_cacheHas":function(){define([],function(){return function(h,k){return h.has(k)}})},"vendor/lodash-amd/_equalByTag":function(){define("./_Symbol ./_Uint8Array ./eq ./_equalArrays ./_mapToArray ./_setToArray".split(" "),function(h,k,d,g,b,c){var f=(h=h?h.prototype:void 0)?h.valueOf:void 0;return function(h,e,a,m,n,p,t){switch(a){case "[object DataView]":if(h.byteLength!=
e.byteLength||h.byteOffset!=e.byteOffset)break;h=h.buffer;e=e.buffer;case "[object ArrayBuffer]":if(h.byteLength!=e.byteLength||!p(new k(h),new k(e)))break;return!0;case "[object Boolean]":case "[object Date]":case "[object Number]":return d(+h,+e);case "[object Error]":return h.name==e.name&&h.message==e.message;case "[object RegExp]":case "[object String]":return h==e+"";case "[object Map]":var q=b;case "[object Set]":q||(q=c);if(h.size!=e.size&&!(m&1))break;if(a=t.get(h))return a==e;m|=2;t.set(h,
e);e=g(q(h),q(e),m,n,p,t);t["delete"](h);return e;case "[object Symbol]":if(f)return f.call(h)==f.call(e)}return!1}})},"vendor/lodash-amd/_mapToArray":function(){define([],function(){return function(h){var k=-1,d=Array(h.size);h.forEach(function(g,b){d[++k]=[b,g]});return d}})},"vendor/lodash-amd/_setToArray":function(){define([],function(){return function(h){var k=-1,d=Array(h.size);h.forEach(function(g){d[++k]=g});return d}})},"vendor/lodash-amd/_equalObjects":function(){define(["./_getAllKeys"],
function(h){var k=Object.prototype.hasOwnProperty;return function(d,g,b,c,f,l){var e=b&1,a=h(d),m=a.length,n=h(g).length;if(m!=n&&!e)return!1;for(var p=m;p--;){var t=a[p];if(!(e?t in g:k.call(g,t)))return!1}if((n=l.get(d))&&l.get(g))return n==g;n=!0;l.set(d,g);l.set(g,d);for(var q=e;++p<m;){var t=a[p],r=d[t],s=g[t];if(c)var v=e?c(s,r,t,g,d,l):c(r,s,t,d,g,l);if(!(void 0===v?r===s||f(r,s,b,c,l):v)){n=!1;break}q||(q="constructor"==t)}n&&!q&&(b=d.constructor,c=g.constructor,b!=c&&("constructor"in d&&
"constructor"in g&&!("function"==typeof b&&b instanceof b&&"function"==typeof c&&c instanceof c))&&(n=!1));l["delete"](d);l["delete"](g);return n}})},"vendor/lodash-amd/_getAllKeys":function(){define(["./_baseGetAllKeys","./_getSymbols","./keys"],function(h,k,d){return function(g){return h(g,d,k)}})},"vendor/lodash-amd/_baseGetAllKeys":function(){define(["./_arrayPush","./isArray"],function(h,k){return function(d,g,b){g=g(d);return k(d)?g:h(g,b(d))}})},"vendor/lodash-amd/_arrayPush":function(){define([],
function(){return function(h,k){for(var d=-1,g=k.length,b=h.length;++d<g;)h[b+d]=k[d];return h}})},"vendor/lodash-amd/_getSymbols":function(){define(["./_arrayFilter","./stubArray"],function(h,k){var d=Object.prototype.propertyIsEnumerable,g=Object.getOwnPropertySymbols;return!g?k:function(b){if(null==b)return[];b=Object(b);return h(g(b),function(c){return d.call(b,c)})}})},"vendor/lodash-amd/_arrayFilter":function(){define([],function(){return function(h,k){for(var d=-1,g=null==h?0:h.length,b=0,
c=[];++d<g;){var f=h[d];k(f,d,h)&&(c[b++]=f)}return c}})},"vendor/lodash-amd/stubArray":function(){define([],function(){return function(){return[]}})},"vendor/lodash-amd/keys":function(){define(["./_arrayLikeKeys","./_baseKeys","./isArrayLike"],function(h,k,d){return function(g){return d(g)?h(g):k(g)}})},"vendor/lodash-amd/_baseKeys":function(){define(["./_isPrototype","./_nativeKeys"],function(h,k){var d=Object.prototype.hasOwnProperty;return function(g){if(!h(g))return k(g);var b=[],c;for(c in Object(g))d.call(g,
c)&&"constructor"!=c&&b.push(c);return b}})},"vendor/lodash-amd/_nativeKeys":function(){define(["./_overArg"],function(h){return h(Object.keys,Object)})},"vendor/lodash-amd/_getTag":function(){define("./_DataView ./_Map ./_Promise ./_Set ./_WeakMap ./_baseGetTag ./_toSource".split(" "),function(h,k,d,g,b,c,f){var l=f(h),e=f(k),a=f(d),m=f(g),n=f(b),p=c;if(h&&"[object DataView]"!=p(new h(new ArrayBuffer(1)))||k&&"[object Map]"!=p(new k)||d&&"[object Promise]"!=p(d.resolve())||g&&"[object Set]"!=p(new g)||
b&&"[object WeakMap]"!=p(new b))p=function(b){var d=c(b);if(b=(b="[object Object]"==d?b.constructor:void 0)?f(b):"")switch(b){case l:return"[object DataView]";case e:return"[object Map]";case a:return"[object Promise]";case m:return"[object Set]";case n:return"[object WeakMap]"}return d};return p})},"vendor/lodash-amd/_DataView":function(){define(["./_getNative","./_root"],function(h,k){return h(k,"DataView")})},"vendor/lodash-amd/_Promise":function(){define(["./_getNative","./_root"],function(h,
k){return h(k,"Promise")})},"vendor/lodash-amd/_Set":function(){define(["./_getNative","./_root"],function(h,k){return h(k,"Set")})},"vendor/lodash-amd/_WeakMap":function(){define(["./_getNative","./_root"],function(h,k){return h(k,"WeakMap")})},"vendor/lodash-amd/_getMatchData":function(){define(["./_isStrictComparable","./keys"],function(h,k){return function(d){for(var g=k(d),b=g.length;b--;){var c=g[b],f=d[c];g[b]=[c,f,h(f)]}return g}})},"vendor/lodash-amd/_isStrictComparable":function(){define(["./isObject"],
function(h){return function(k){return k===k&&!h(k)}})},"vendor/lodash-amd/_matchesStrictComparable":function(){define([],function(){return function(h,k){return function(d){return null==d?!1:d[h]===k&&(void 0!==k||h in Object(d))}}})},"vendor/lodash-amd/_baseMatchesProperty":function(){define("./_baseIsEqual ./get ./hasIn ./_isKey ./_isStrictComparable ./_matchesStrictComparable ./_toKey".split(" "),function(h,k,d,g,b,c,f){return function(l,e){return g(l)&&b(e)?c(f(l),e):function(a){var b=k(a,l);return void 0===
b&&b===e?d(a,l):h(e,b,3)}}})},"vendor/lodash-amd/get":function(){define(["./_baseGet"],function(h){return function(k,d,g){k=null==k?void 0:h(k,d);return void 0===k?g:k}})},"vendor/lodash-amd/_baseGet":function(){define(["./_castPath","./_toKey"],function(h,k){return function(d,g){g=h(g,d);for(var b=0,c=g.length;null!=d&&b<c;)d=d[k(g[b++])];return b&&b==c?d:void 0}})},"vendor/lodash-amd/_castPath":function(){define(["./isArray","./_isKey","./_stringToPath","./toString"],function(h,k,d,g){return function(b,
c){return h(b)?b:k(b,c)?[b]:d(g(b))}})},"vendor/lodash-amd/_isKey":function(){define(["./isArray","./isSymbol"],function(h,k){var d=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,g=/^\w*$/;return function(b,c){if(h(b))return!1;var f=typeof b;return"number"==f||"symbol"==f||"boolean"==f||null==b||k(b)?!0:g.test(b)||!d.test(b)||null!=c&&b in Object(c)}})},"vendor/lodash-amd/isSymbol":function(){define(["./_baseGetTag","./isObjectLike"],function(h,k){return function(d){return"symbol"==typeof d||
k(d)&&"[object Symbol]"==h(d)}})},"vendor/lodash-amd/_stringToPath":function(){define(["./_memoizeCapped"],function(h){var k=/^\./,d=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,g=/\\(\\)?/g;return h(function(b){var c=[];k.test(b)&&c.push("");b.replace(d,function(b,d,e,a){c.push(e?a.replace(g,"$1"):d||b)});return c})})},"vendor/lodash-amd/_memoizeCapped":function(){define(["./memoize"],function(h){return function(k){k=h(k,function(g){500===d.size&&
d.clear();return g});var d=k.cache;return k}})},"vendor/lodash-amd/memoize":function(){define(["./_MapCache"],function(h){function k(g,b){if("function"!=typeof g||null!=b&&"function"!=typeof b)throw new TypeError(d);var c=function(){var d=arguments,h=b?b.apply(this,d):d[0],e=c.cache;if(e.has(h))return e.get(h);d=g.apply(this,d);c.cache=e.set(h,d)||e;return d};c.cache=new (k.Cache||h);return c}var d="Expected a function";k.Cache=h;return k})},"vendor/lodash-amd/toString":function(){define(["./_baseToString"],
function(h){return function(k){return null==k?"":h(k)}})},"vendor/lodash-amd/_baseToString":function(){define(["./_Symbol","./_arrayMap","./isArray","./isSymbol"],function(h,k,d,g){function b(h){if("string"==typeof h)return h;if(d(h))return k(h,b)+"";if(g(h))return f?f.call(h):"";var e=h+"";return"0"==e&&1/h==-c?"-0":e}var c=1/0,f=(h=h?h.prototype:void 0)?h.toString:void 0;return b})},"vendor/lodash-amd/_arrayMap":function(){define([],function(){return function(h,k){for(var d=-1,g=null==h?0:h.length,
b=Array(g);++d<g;)b[d]=k(h[d],d,h);return b}})},"vendor/lodash-amd/_toKey":function(){define(["./isSymbol"],function(h){var k=1/0;return function(d){if("string"==typeof d||h(d))return d;var g=d+"";return"0"==g&&1/d==-k?"-0":g}})},"vendor/lodash-amd/hasIn":function(){define(["./_baseHasIn","./_hasPath"],function(h,k){return function(d,g){return null!=d&&k(d,g,h)}})},"vendor/lodash-amd/_baseHasIn":function(){define([],function(){return function(h,k){return null!=h&&k in Object(h)}})},"vendor/lodash-amd/_hasPath":function(){define("./_castPath ./isArguments ./isArray ./_isIndex ./isLength ./_toKey".split(" "),
function(h,k,d,g,b,c){return function(f,l,e){l=h(l,f);for(var a=-1,m=l.length,n=!1;++a<m;){var p=c(l[a]);if(!(n=null!=f&&e(f,p)))break;f=f[p]}if(n||++a!=m)return n;m=null==f?0:f.length;return!!m&&b(m)&&g(p,m)&&(d(f)||k(f))}})},"vendor/lodash-amd/property":function(){define(["./_baseProperty","./_basePropertyDeep","./_isKey","./_toKey"],function(h,k,d,g){return function(b){return d(b)?h(g(b)):k(b)}})},"vendor/lodash-amd/_baseProperty":function(){define([],function(){return function(h){return function(k){return null==
k?void 0:k[h]}}})},"vendor/lodash-amd/_basePropertyDeep":function(){define(["./_baseGet"],function(h){return function(k){return function(d){return h(d,k)}}})},"vendor/lodash-amd/findIndex":function(){define(["./_baseFindIndex","./_baseIteratee","./toInteger"],function(h,k,d){var g=Math.max;return function(b,c,f){var l=null==b?0:b.length;if(!l)return-1;f=null==f?0:d(f);0>f&&(f=g(l+f,0));return h(b,k(c,3),f)}})},"vendor/lodash-amd/_baseFindIndex":function(){define([],function(){return function(h,k,
d,g){var b=h.length;for(d+=g?1:-1;g?d--:++d<b;)if(k(h[d],d,h))return d;return-1}})},"vendor/lodash-amd/toInteger":function(){define(["./toFinite"],function(h){return function(k){k=h(k);var d=k%1;return k===k?d?k-d:k:0}})},"vendor/lodash-amd/toFinite":function(){define(["./toNumber"],function(h){var k=1/0;return function(d){if(!d)return 0===d?d:0;d=h(d);return d===k||d===-k?1.7976931348623157E308*(0>d?-1:1):d===d?d:0}})},"vendor/lodash-amd/toNumber":function(){define(["./isObject","./isSymbol"],function(h,
k){var d=0/0,g=/^\s+|\s+$/g,b=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,f=/^0o[0-7]+$/i,l=parseInt;return function(e){if("number"==typeof e)return e;if(k(e))return d;h(e)&&(e="function"==typeof e.valueOf?e.valueOf():e,e=h(e)?e+"":e);if("string"!=typeof e)return 0===e?e:+e;e=e.replace(g,"");var a=c.test(e);return a||f.test(e)?l(e.slice(2),a?2:8):b.test(e)?d:+e}})},"mojo/widgets/ads/facebook/ad-placement/ChannelItem":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/on dojo/dom-class ./PlacementInput dojo/text!./templates/ChannelItem.html".split(" "),
function(h,k,d,g,b,c,f,l,e,a){return h([g,b,c],{templateString:a,postCreate:function(){this.setup();f(this.switch,"change",d.hitch(this,"handleSelection"))},setup:function(){this.isEnabled()?(this.switch.set("value",this.data.selected),this.buildPlacementInput(),this.handleSelection()):this.handleDisabled()},buildPlacementInput:function(){var a=new e({label:this.data.label,identifier:this.data.identifier,placements:this.data.placements});a.placeAt(this.placements);a.startup()},handleSelection:function(){l.toggle(this.placements,
"grayscale no-clicky",!this.isSelected())},handleDisabled:function(){l.remove(this.disabledMsg,"hide");l.remove(this.disabledIcon,"hide");l.add(this.icon,"hide");this.switch.set("disabled","disabled");l.toggle(this.controlContainer,"cursor-not-allowed dim6")},isSelected:function(){return!1!==this.switch.get("value")},isEnabled:function(){return this.data.enabled}})})},"mojo/widgets/ads/facebook/ad-placement/PlacementInput":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dijit/_WidgetBase dijit/_TemplatedMixin dijit/form/ComboButton dojo/on dojo/dom-class dojo/dom-construct dojox/form/CheckedMultiSelect mojo/utils dojo/text!./templates/PlacementInput.html".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n){var p=h([a],{labelText:"Edit placement",dropDown:"true",multiple:"true",selectAll:"false",startup:function(){this._loadChildren();this.dropDown&&(this.dropDownButton=new c({label:this.labelText,dropDown:this.dropDownMenu,baseClass:"dojoxCheckedMultiSelectButton",maxHeight:this.maxHeight,_aroundNode:this.dropDownAnchor},this.comboButtonNode))},toggleDropDown:function(){this.dropDownButton.toggleDropDown()},getSelectableOptions:function(){return k.filter(this.options,
function(a){return!a.disabled})},getSelectedOptions:function(){return k.filter(this.options,function(a){return a.selected})},getSelectedLabels:function(){return k.map(this.getSelectedOptions(),function(a){return a["aria-label"]})},isEditable:function(){return 1<=this.options.length&&1<=this.getSelectableOptions().length}});return h([g,b],{templateString:n,label:"",identifier:"",placements:[],input:null,postCreate:function(){this.setup();f(this.input,"change",d.hitch(this,"handleSelection"));f(this.editLink,
"click",d.hitch(this,"handleEditLink"))},setup:function(){this.buildMultiSelect();this.handleSelection();l.toggle(this.editLink,"hide",!this.input.isEditable())},handleEditLink:function(){this.input.toggleDropDown()},handleSelection:function(){this.updatePlacementSummary();this.resetHiddenInputs();this.buildHiddenInputs()},buildMultiSelect:function(){this.input=new p({options:this.getOptions(),dropDownAnchor:this.dropDownAnchor});this.input.placeAt(this.inputContainer);this.input.startup()},buildHiddenInputs:function(){this.input.getSelectedOptions().forEach(d.hitch(this,
function(a){e.create("input",{type:"hidden",name:a.value,value:!0},this.hiddenInputs,"last")}))},updatePlacementSummary:function(){var a=this.input.getSelectedLabels();this.summary.innerText=1<=a.length?"Placed in the "+m.getCommaListFromArray(a):"Place your ad on "+this.label},resetHiddenInputs:function(){e.empty(this.hiddenInputs)},getOptions:function(){var a=k.filter(this.placements,function(a){return a.enabled});return k.map(a,d.hitch(this,function(a){return{label:this.getLabelMarkup(a),"aria-label":a.label,
value:this.identifier+"_placement_"+a.name,selected:a.selected,disabled:a.required}}))},getLabelMarkup:function(a){return d.replace(a.required?this.tplLabelRequired.innerHTML:this.tplLabelStandard.innerHTML,a)}})})},"mojo/widgets/ads/facebook/ad-placement/Summary":function(){define("dojo/_base/declare dojo/_base/lang dojo/promise/all mojo/utils vendor/lodash-amd/filter ../AdPlacement ./Api dojo/text!./templates/Summary.html".split(" "),function(h,k,d,g,b,c,f,l){return h([c],{templateString:l,baseClass:"c-adsPlacementSummary",
postCreate:function(){this.adId&&this.pageId&&d({pages:f.getConnectedPageById(this.adId,this.pageId),channels:f.getAdPlacementData(this.adId)}).then(k.hitch(this,"setup"))},setup:function(b){this.pages=b.pages;this.channels=b.channels;this.setPageData();this.setDescription();this.initChannels()},getSelectedPage:function(){return this.pages[0]},createChannel:function(b){b.enabled&&b.selected&&this.inherited(arguments)},setDescription:function(){var c=b(this.channels,{enabled:!0,selected:!0}).map(function(a){return a.label});
this.description.innerText="Your ad will run on "+g.getCommaListFromArray(c)+"."}})})},"vendor/lodash-amd/filter":function(){define(["./_arrayFilter","./_baseFilter","./_baseIteratee","./isArray"],function(h,k,d,g){return function(b,c){return(g(b)?h:k)(b,d(c,3))}})},"vendor/lodash-amd/_baseFilter":function(){define(["./_baseEach"],function(h){return function(k,d){var g=[];h(k,function(b,c,f){d(b,c,f)&&g.push(b)});return g}})},"vendor/lodash-amd/_baseEach":function(){define(["./_baseForOwn","./_createBaseEach"],
function(h,k){return k(h)})},"vendor/lodash-amd/_baseForOwn":function(){define(["./_baseFor","./keys"],function(h,k){return function(d,g){return d&&h(d,g,k)}})},"vendor/lodash-amd/_createBaseEach":function(){define(["./isArrayLike"],function(h){return function(k,d){return function(g,b){if(null==g)return g;if(!h(g))return k(g,b);for(var c=g.length,f=d?c:-1,l=Object(g);(d?f--:++f<c)&&!1!==b(l[f],f,l););return g}}})},"mojo/app/Avatar":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/xhr dijit/_Widget dijit/_Templated dojo/on dojo/dom-class dojo/dom dojo/dom-attr dojo/query dojo/text!./templates/avatar.html mojo/utils mojo/url dijit/Dialog dojo/dom-style dojo/sniff dojo/dom-construct".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s){return h([g,b],{templateString:m,widgetsInTemplate:!0,avatarSrc:null,postCreate:function(){this.avatarSrc&&(q.set(this.avatar,{backgroundImage:"url("+this.avatarSrc+")"}),e.set(this.avatar,"data-src",this.avatarSrc));e.set(this.avatarForm,"action",p.toUrl("account/profile/avatar-post"));f.toggle(this.editBtn,"hide",!this.hasAvatar);f.toggle(this.removePhotoContainer,"hide",!this.hasAvatar);c(this.uploader,"begin",k.hitch(this,function(){f.remove(this.avatar,
"hide");f.remove(this.uploadingStatus,"hide")}));c(this.uploader,"complete",k.hitch(this,function(a){f.add(this.avatar,"hide");f.add(this.uploadingStatus,"hide");a.error?n.toast(a.error,"error"):this._updateImage(a.url)}));c(this.uploader,"error",k.hitch(this,function(){f.add(this.avatar,"hide");f.add(this.uploadingStatus,"hide");n.toast("Unable to upload image","error")}));navigator.getMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;
navigator.getMedia&&f.remove(this.takePictureButton,"hide");c(this.takePictureButton,"click",k.hitch(this,function(b){b.preventDefault();this.dialog||(this.dialog=new t({title:"Strike a pose",content:this.cameraContainer,"class":"take-picture-modal-container",onHide:k.hitch(this,function(){this._stopVideoStream();this._resetTakePictureModal()})}));this.dialog.show();this.dialog.startup();f.remove(this.cameraContainer,"hide");var e=this.canvas,g=e.getContext("2d");navigator.getMedia({video:!0},k.hitch(this,
function(a){this.checkForCameraAccessTimeout=setTimeout(k.hitch(this,this._checkForCameraAccess),100);this.video.src=window.URL.createObjectURL(a);this.streamObj=a;this.video.play()}),function(b){b=b&&("PERMISSION_DENIED"==b||b.PERMISSION_DENIED)?"Uh-oh, you denied us access to your webcam.":"Uh-oh, it looks like you don't have a webcam connected.";a(".video-container")[0].innerHTML="\x3cdiv class\x3d'unit size1of1 padding--lv2 feedback-block error'\x3e\x3cp\x3e"+b+"\x3c/p\x3e\x3c/div\x3e"});c(this.snap,
"click",k.hitch(this,function(){f.add(this.video,"hide");g.drawImage(this.video,80,0,480,480,0,0,480,480);f.remove(this.canvas,"hide");f.remove(this.savePicture,"hide");f.remove(this.retakePicture,"hide");f.add(this.snap,"hide")}));c(this.cancelPicture,"click",k.hitch(this,function(a){a.preventDefault();window.clearTimeout(this.checkForCameraAccessTimeout);this.dialog.hide()}));c(this.retakePicture,"click",k.hitch(this,function(){this._resetTakePictureModal();f.remove(this.snap,"hide")}));c(this.savePicture,
"click",k.hitch(this,function(){f.remove(this.savingIndicator,"hide");f.add(this.retakePicture,"hide");f.add(this.savePicture,"hide");f.add(this.cancelPicture,"hide");var a=e.toDataURL("image/png");d.post({url:p.toUrl("account/profile/avatar-from-webcam"),content:{image_data:a},handleAs:"json"}).then(k.hitch(this,function(a){a.error?n.toast("Unable to upload image","error"):this._updateImage(a.image_src);this.dialog.hide()}))}))}));c(this.removePhoto,"click",k.hitch(this,function(a){a.preventDefault();
d.post({url:p.toUrl("account/profile/avatar-remove"),handleAs:"json"}).then(k.hitch(this,function(a){a.error?n.toast("Unable to remove image","error"):this._updateImage(a.image_src,!0)}))}))},_updateImage:function(b,c){q.set(this.avatar,{backgroundImage:"url("+b+")"});e.set(this.avatar,"data-src",b);a(".logged-in-avatar").forEach(function(a){q.set(a,{backgroundImage:"url("+b+")"});e.set(a,"data-src",b)});c?(f.add(this.editBtn,"hide"),f.add(this.removePhotoContainer,"hide")):(f.remove(this.editBtn,
"hide"),f.remove(this.removePhotoContainer,"hide"))},_resetTakePictureModal:function(){f.add(this.retakePicture,"hide");f.add(this.savePicture,"hide");f.add(this.savingIndicator,"hide");f.add(this.canvas,"hide");f.remove(this.video,"hide");f.remove(this.cancelPicture,"hide")},_stopVideoStream:function(){this.video.pause();s.destroy(this.pointerArrow);this.streamObj&&(this.streamObj.stop(),delete this.streamObj);e.remove(this.video,"src")},_checkForCameraAccess:function(){this.allowedWebcam||this.video.src?
(r("ff")||(this.allowedWebcam=!0),s.destroy(this.pointerArrow),f.remove(this.snap,"hide"),f.add(this.loadingContainer,"hide"),this.checkingForCameraAccess=!1):this.checkForCameraAccessTimeout=window.setTimeout(k.hitch(this,this._checkForCameraAccess),100)},_loadAviary:function(){var b=new Image;b.src=p.removeProxy(e.get(this.avatar,"data-src"));b={image:b,url:b.src,tools:"all",cropPresets:[["Profile Photo","1:1"]],cropPresetDefault:"Profile Photo",initTool:"crop",onSave:k.hitch(this,function(b,c){d.post({url:p.toUrl("account/profile/aviary-avatar-post"),
content:{image_url:c},handleAs:"json"}).then(k.hitch(this,function(b){b.error?n.toast("Unable to upload image","error"):(q.set(this.avatar,{backgroundImage:"url("+b.image_src+")"}),e.set(this.avatar,"data-src",b.image_src),a(".logged-in-avatar").forEach(function(a){q.set(a,{backgroundImage:"url("+b.image_src+")"});e.set(a,"data-src",b.image_src)}));window.featherEditor.close()}))}),onClose:null};window.featherEditor.launch(b)}})})},"mojo/app/conversations":function(){define("dojo/dom-attr dojo/ready dojo/query dojo/Deferred dojo/_base/lang dojo/dom-form dojo/dom-style dojo/io-query dojo/request/xhr dijit/registry dijit/Dialog mojo/analytics/parts/FilterMenu mojo/analytics/parts/FilterMessage mojo/utils mojo/url dojo/NodeList-manipulate mojo/widgets/ConfirmInput".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q){var r=function(a){d(".cancel-button",a.domNode).on("click",function(b){b.stopPropagation();b.preventDefault();a.hide()})},s={initializeListWidgets:function(b){k(function(){var c=a.byId(b);if(!c)throw Error("Conversation List is not in the page");var e=a.byId("action-menu");e&&(d("#delete-action").on("click",function(a){a.stopPropagation();a.preventDefault();s.confirmDeletion(c)}),d("#mark-action").on("click",function(a){a.stopPropagation();a.preventDefault();
e.closeDropDown();s.mark(c,!0)}),d("#unmark-action").on("click",function(a){a.stopPropagation();a.preventDefault();e.closeDropDown();s.mark(c,!1)}));var f={target:c.id,filters:[{label:"Status",key:"status",type:"select",options:{read:"Read",unread:"Unread"}},{label:"Include out of office replies",key:"include_filtered",type:"checkbox"}]},g=new n(f);d("#filter").append(g.domNode);f=new p(f);d("#filter-message").append(f.domNode)})},confirmDeletion:function(a){var b=new m({title:"Are you sure?",onHide:function(){b.destroyRecursive()},
onDownloadEnd:function(){r(b);d("form",b.domNode).on("submit",function(d){d.stopPropagation();d.preventDefault();d=c.toObject(this);var f=0,g;for(g in d)d.hasOwnProperty(g)&&0==g.indexOf("id[")&&f++;e.post(h.get(this,"action"),{data:c.toObject(this)}).then(function(){b.hide();a.render();t.toast(f+" conversation"+(1!=f?"s":"")+" successfully deleted")},function(){b.hide()})})}});b.setHref(q.toUrl("conversations/confirm-delete",{"id[]":a.getSelection()}));b.show()},notificationSettings:function(a){var b=
new g,f=new m({title:"Notification Settings",onHide:function(){f.destroyRecursive()},onDownloadEnd:function(){r(f);d("form",f.domNode).on("submit",function(a){a.stopPropagation();a.preventDefault();e.post(h.get(this,"action"),{handleAs:"json",data:c.toObject(this)}).then(function(a){b.resolve(a);f.hide()},function(a){b.reject(a);f.hide()})})}});f.setHref(q.toUrl("conversations/notification-settings",a));f.show();return b},mark:function(a,b){if("undefined"==typeof b||null==b)b=!0;e.post(q.toUrl("conversations/mark"),
{data:{"id[]":a.getSelection(),read:b}}).then(function(){a.render()})}};return s})},"mojo/app/freddie-disguise":function(){define("dojo/_base/window dojo/dom-class dojo/dom mojo/user dijit/Menu dijit/MenuItem".split(" "),function(h,k,d,g,b,c){var f=function(b){var c="construction karate sporty trucker vampire viking".split(" "),a=c[Math.floor(Math.random()*c.length)];b?(k.remove(h.body(),"disguised"),k.remove(h.body(),c),g.saveSetting("freddie_disguise","")):k.contains(h.body(),a)?f():(k.remove(h.body(),
c),k.add(h.body(),[a,"disguised"]),g.saveSetting("freddie_disguise",a))};return{setup:function(){if(!k.contains(h.body(),"cobranding")){var g;d.byId("freddielink")&&(g=new b({targetNodeIds:["freddielink"]}),g.addChild(new c({label:"Open dashboard in new window",onClick:function(){window.open(d.byId("freddielink").href,"_blank")}})),g.addChild(new c({label:"Looking for brand assets?",onClick:function(){window.open("http://mailchimp.com/about/brand-assets/","_blank")}})),g.addChild(new c({"class":"revealFreddie",
label:"Bring back normal Freddie",onClick:function(){f(!0)}})),g.addChild(new c({label:"Surprise me\x3cspan class\x3d'revealFreddie'\x3e again\x3c/span\x3e!",onClick:function(){f()}})),g.startup())}}}})},"mojo/app/lists":function(){define("dojo/parser dojo/dom dojo/dom-attr dojo/query dojo/_base/lang dojo/dom-form dojo/dom-construct dojo/dom-style dojo/request/xhr dojo/fx dojo/Deferred dijit/registry dijit/Dialog dojox/layout/ContentPane dojo/dom-class mojo/utils mojo/url dojo/NodeList-manipulate mojo/widgets/ConfirmInput".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s){var v=function(a){g(".cancel-button",a.domNode).on("click",function(b){b.stopPropagation();b.preventDefault();a.hide()})};return{confirmDeletion:function(a){var b=new p({title:"Are you sure?",onHide:function(){b.destroyRecursive()},"class":"indicateScrolling",onDownloadEnd:function(){v(b)}});b.setHref(s.toUrl("lists/confirm-delete",{id:a.join(",")}));b.show()},combineLists:function(a){var c=new p({title:"Combine List",onHide:function(){c.destroyRecursive()},
onDownloadEnd:function(){var a=1,e=k.byId("combine-with-list");v(c);g(".step1",c.domNode).style("display","");g(".step2",c.domNode).style("display","none");var f=function(){var a="combine-interests-"+e.value;g(".combine-interests").style("display","none");k.byId(a)&&l.set(a,"display","")};g(e).on("change",f);f();g("form",c.domNode).on("submit",function(f){switch(a){case 1:f.stopPropagation();f.preventDefault();g(".step1",c.domNode).style("display","none");g(".step2",c.domNode).style("display","");
f={url:s.toUrl("lists/members/export",{id:d.get("combine-list-id","value")}),name:d.get("combine-list-name","value")};var h={url:s.toUrl("lists/members/export",{id:d.get(e,"value")}),name:e.options[e.selectedIndex].text};g("#list-export-link-1").html(b.replace('\x3ca href\x3d"{url}"\x3eDownload {name}\x3c/a\x3e',f));g("#list-export-link-2").html(b.replace('\x3ca href\x3d"{url}"\x3eDownload {name}\x3c/a\x3e',h));n.byId("combine-list-confirm").active=!0;a++}});c.resize()}});c.setHref(s.toUrl("lists/combine-form",
{id:a}));c.show()},confirmReplication:function(a){var b=new p({title:"Name Your New List",onHide:function(){b.destroyRecursive()},onDownloadEnd:function(){g("form",b.domNode).on("submit",function(a){var b=c.toObject(this);if(!b.id||!b.name)a.stopPropagation(),a.preventDefault()});v(b)}});b.setHref(s.toUrl("lists/confirm-replicate",{id:a}));b.show()},openSubscriberForm:function(c,d){var e=this._subscribeFormId!=c;this.closeSubscriberForm().then(b.hitch(this,function(){if(e){l.set(d,"display","none");
var b=new t({preload:!0,href:s.toUrl("lists/subscribe-form",{id:c})});f.place(b.domNode,d,"only");b.onLoadDeferred.then(function(){a.wipeIn({node:d}).play()});this._subscribeFormId=c;this._subscribeForm=b}else this._subscribeFormId=null}))},closeSubscriberForm:function(){var c=new m;this._subscribeForm?a.wipeOut({node:this._subscribeForm.domNode,onEnd:b.hitch(this,function(){this._subscribeForm.destroyRecursive();this._subscribeFormId=this._subscribeForm=null;c.resolve()})}).play():c.resolve();return c},
subscribe:function(){g(".add-member-form-error").orphan();e.post(s.toUrl("lists/subscribe-form-post"),{handleAs:"json",data:c.toObject("add-member-form")}).then(function(a){k.byId("add-member-form-button").disabled=!1;k.byId("add-member-form-button").value="subscribe";if(a.success)r.resetForm(k.byId("add-member-form")),g(".add-member-form-error").orphan(),k.byId("MERGE0").focus(),r.toast(a.success_msg?a.success_msg:"Hooray! That subscriber was added to the list.");else{if(a.errors){for(var b in a.errors)f.place('\x3cspan class\x3d"invalid-error add-member-form-error"\x3e'+
a.errors[b]+"\x3c/span\x3e",k.byId(b),"after"),q.add(k.byId(b),"invalid"),g(".add-member-form-error a").forEach(f.destroy);k.byId(Object.keys(a.errors)[0]).focus()}a.error_msg&&f.place('\x3cdiv class\x3d"feedback-block error add-member-form-error fwb p !margin-bottom--lv4"\x3e'+a.error_msg+"\x3c/div\x3e",k.byId("add-member-form"),"first")}})},reorderLists:function(a,b,c){a=e.post(s.toUrl("lists/reorder"),{handleAs:"json",data:{"list_order[]":a,"old_list_order[]":b,start_index:c}});a.then(function(a){a.error&&
r.toast(a.error,"error")});return a}}})},"mojo/app/placards":function(){define("dojo/dom dojo/dom-attr dojo/query dojo/dom-form dojo/request dijit/Dialog dojo/Deferred mojo/url".split(" "),function(h,k,d,g,b,c,f,l){var e=function(a){d(".cancel-button",a.domNode).on("click",function(b){b.stopPropagation();b.preventDefault();a.hide()})};return{confirmCancel:function(a,h){var n=new f,p=new c({title:"Are you sure?",onHide:function(){p.destroyRecursive()},onDownloadEnd:function(){e(p);d("form",p.domNode).on("submit",
function(a){a.stopPropagation();a.preventDefault();b.post(k.get(this,"action"),{data:g.toObject(this),handleAs:"json"}).then(function(a){p.hide();switch(a.status){case "success":n.resolve(a);break;case "error":n.reject(a);break;default:n.reject("Unknown status "+a.status)}},function(){p.hide();n.reject()})})}});p.setHref(l.toUrl("ads/confirm-cancel",{id:a,type:h}));p.show();return n},pauseAd:function(a,c){var d=new f;b.post(l.toUrl("/ads/pause",{id:a,type:c}),{handleAs:"json"}).then(function(a){switch(a.status){case "success":d.resolve(a);
break;case "error":d.reject(a);break;default:d.reject("Unknown status "+a.status)}});return d},unpauseAd:function(a,c){var d=new f;b.post(l.toUrl("/ads/unpause",{id:a,type:c}),{handleAs:"json"}).then(function(a){switch(a.status){case "success":d.resolve(a);break;case "error":d.reject(a);break;default:d.reject("Unknown status "+a.status)}});return d}}})},"mojo/app/templates":function(){define("dojo/dom dojo/dom-attr dojo/on dojo/query dojo/_base/lang dojo/dom-form dojo/dom-style dojo/request/xhr dojo/topic dijit/registry mojo/utils mojo/url dojo/keys dijit/Dialog mojo/widgets/Previewer mojo/app/wizard mojo/user mojo/flags".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s,v){var w=function(a){g(".cancel-button",a.domNode).on("click",function(b){b.stopPropagation();b.preventDefault();a.hide()})},u=!1;return{searchForTemplate:function(b,c,d,e,f){c={term:c,cat:d,exclude_integrations:e};b?(c.id=b,b=n.toUrl("campaigns/wizard/html/templates-predesigned",c)):b=n.toUrl("templates/selection/templates-predesigned",c);a.byId(f).set("href",b)},confirmTemplateDelete:function(b){var c=a.byId("confirm-template-delete");c.setHref(n.toUrl("templates/confirm-delete",
{id:b}));c.show()},deleteTemplate:function(){var a=h.byId("template-id").value;window.location.href=n.toUrl("templates/delete",{ids:a})},confirmDeletion:function(a,b){b||(b="template");var d=new t({title:"Are you sure?",onHide:function(){d.destroyRecursive()},onDownloadEnd:function(){w(d);g("form",d.domNode).on("submit",function(e){e.stopPropagation();e.preventDefault();e=c.toObject(this);var f=0,g;for(g in e)e.hasOwnProperty(g)&&0===g.indexOf("ids[")&&f++;l.post(k.get(this,"action"),{data:c.toObject(this)}).then(function(){d.hide();
a.render();m.toast(f+" "+b+(1!=f?"s":"")+" successfully deleted")},function(){d.hide();m.toast("There was a problem deleting your "+b+(1!=f?"s":"")+". Please try again.")})})}});d.setHref(n.toUrl("templates/confirm-delete",{"ids[]":a.getSelection()}));d.show()},confirmTemplateExport:function(b){var c=a.byId("export-dnd-warning");c._url=n.toUrl("templates/export-template",{id:b});c.show()},confirmImportFromHtml:function(){a.byId("import-html").show()},confirmImportFromZip:function(){a.byId("import-zip").show()},
publishToMandrill:function(a){dojo.xhrPost({url:n.toUrl("templates/publish-mandrill"),content:{id:a},handleAs:"json",load:function(a){a.success?dojo.publish("show-toast",[{message:a.message,type:"message"}]):dojo.publish("show-toast",[{message:"Drats, your template wasn't published to mandrill",type:"error"}])},error:function(a){dojo.publish("show-toast",[{message:"Drats, your template wasn't published to mandrill",type:"error"}])}})},codeYourOwn:function(){window.location.href=n.toUrl("templates/design/new")},
previewLayout:function(a,b,c){this.previewer?(this.previewer.previewId=a,this.previewer.previewType=c,this.previewer.titleText=b):this.previewer=new q({previewId:a,previewType:c,titleText:b,inboxPreviewEnabled:!1});this.previewer.show()},changeTemplate:function(b,c){c?(r.disableForm(),a.byId("confirm-change-layout").url=b,a.byId("confirm-change-layout").show()):this._changeTemplate(b)},confirmChangeTemplate:function(){this._changeTemplate(a.byId("confirm-change-layout").url)},_changeTemplate:function(a){u||
(u=!0,r.disableForm(),window.location.href=a)},handleSaveKeyPress:function(b){b.keyCode==p.ENTER&&(a.byNode(g(".save-template-button")[0]).onClick(),saveTemplate(!0))}}})},"mojo/app/search/GlobalSearch":function(){define("dojo/request/xhr dojo/parser dojo/_base/array dojo/dom dojo/dom-class dojo/dom-style dojo/dom-attr dojo/on dojo/query dijit/registry dojo/ready mojo/utils dojox/xmpp/util".split(" "),function(h,k,d,g,b,c,f,l,e,a,m,n,p){m(function(){function c(l){var n="all";a.byId("search-filter")?
n=a.byId("search-filter").value:g.byId("search-filter")&&(n=g.byId("search-filter").value);"undefined"==typeof l&&(l="0");g.byId("list-search-offset")&&(l=g.byId("list-search-offset").value);b.contains(x,"hide")||b.add(x,"hide");0<d.value.length&&(b.add(v,"hide"),b.remove(w,"hide"),h.post(f.get(m,"url"),{handleAs:"json",query:{query:d.value,offset:l,entities:n}}).then(function(a){var c,f,h,l;c=e(".result-count-start")[0];f=e(".result-count-end")[0];h=e(".result-count-total")[0];l=e(".pagination_results")[0];
0<a.total?b.remove(u,"hide"):b.add(u,"hide");100<a.total&&(b.remove(l,"hide"),c.innerHTML=a.start,f.innerHTML=a.end);h.innerHTML=a.total+" results";y.innerHTML=a.html;k.parse(y);b.add(w,"hide");b.remove(s,"hide");b.add(v,"hide");if(g.byId("no-results-message")){String.prototype.escape=function(){var a={"\x26":"\x26amp;","\x3c":"\x26lt;","\x3e":"\x26gt;"};return this.replace(/[&<>]/g,function(b){return a[b]||b})};a=p.stripHtml(d.value.escape());c=n.split("-");f="";switch(c[0]){case "campaigns":f='Sorry, we couldn\'t find any campaigns that match "\x3cstrong id\x3d"search-query"\x3e'+
a+'\x3c/strong\x3e".';break;case "listmembers":f='Sorry, we couldn\'t find any subscribers that match "\x3cstrong id\x3d"search-query"\x3e'+a+'\x3c/strong\x3e".';c[1]&&(f+=' Would you like to \x3ca href\x3d"/lists/members/add?id\x3d'+c[1]+'"\x3eadd a subscriber\x3c/a\x3e?');break;default:f='Sorry, we couldn\'t find a match with "\x3cstrong id\x3d"search-query"\x3e'+a+'\x3c/strong\x3e".'}g.byId("no-results-message").innerHTML=f}},function(a){b.remove(v,"hide");b.add(s,"hide");b.add(w,"hide");y.innerHTML=
"";b.remove(x,"hide")}))}var d=e('input[name\x3d"global-search"]')[0],m=g.byId("main-search"),s=e(".clear-search",m)[0],v=e(".icon-search",m)[0];e(".esc-to-close");var w=e(".loading-search")[0],u=g.byId("search-count"),y=g.byId("search-results-data");e(".big-search-container");var x=e(".search-error")[0],A=e(".searchkeyword");e(".nav-search-button");e(".search-container");e(".tablet-nav");e(".acl-menu");e(".wrap");y&&l(y,"click",function(a){if("A"==a.target.tagName.toUpperCase()){var b=f.get(a.target,
"data-search-offset");if(b&&"undefined"!==typeof b)return a.preventDefault(),a.stopPropagation(),c(b),!1}return!0});if(A)A.on("click",function(a){a.preventDefault();a=this.children[0].innerHTML;var b=d.value;d.value="";d.value=a.concat(" ",b);n.toggleEl(g.byId("search-tips"),"hotkey-help-search-pane","Advanced search keywords","Close advanced search keywords");d.focus()});d&&l(d,"keyup",function(a){0<=d.value.length&&(b.add(s,"hide"),b.remove(v,"hide"))});s&&l(s,"click",function(a){d.value="";y.innerHTML=
"";b.add(u,"hide");b.add(s,"hide");b.remove(v,"hide")});m&&l(m,"submit",function(a){a.preventDefault();c()});(A=a.byId("search-filter"))&&l(A,"change",function(b){b=a.byId("search-filter").getOptions(b).label;d.placeholder="Search "+b.toLowerCase();c()})});return{focusSearchInput:function(){b.contains(document.documentElement,"search-active")&&e('input[name\x3d"global-search"]')[0].focus()}}})},"mojo/app/reports/toggleclicksopens":function(){define("dojo/_base/array dojo/dom dojo/dom-class dojo/dom-attr dojo/html dojo/on dojo/query dojo/ready".split(" "),
function(h,k,d,g,b,c,f,l){l(function(){var e={clicked:function(a,b,c){this.toggle(b,c);this.settext(a)},toggle:function(a,b){d.toggle(a,"hide");d.toggle(b,"hide")},settext:function(a){"View Opens"===a.innerHTML?(b.set(a,"View Clicks"),g.set(a,"title","View Clicks"),b.set(a.parentNode.children[0],"Opens")):(b.set(a,"View Opens"),g.set(a,"title","View Opens"),b.set(a.parentNode.children[0],"Clicks"))}},a=k.byId("vipb"),f=k.byId("subb"),h=k.byId("grpb"),l=k.byId("locb");a&&c(a,"click",function(){var a=
k.byId("vip-clicks"),b=k.byId("vip-opens");e.clicked(this,a,b)});f&&c(f,"click",function(){var a=k.byId("sub-clicks"),b=k.byId("sub-opens");e.clicked(this,a,b)});h&&c(h,"click",function(){var a=k.byId("grp-clicks"),b=k.byId("grp-opens");e.clicked(this,a,b)});l&&c(l,"click",function(){var a=k.byId("loc-clicks"),b=k.byId("loc-opens");e.clicked(this,a,b)})})})},"mojo/app/pro/reports":function(){define("../../../dojo/_base/declare mojo/views/_base dojo/query dojo/on dojo/_base/lang dojo/_base/array dojo/request/xhr dojo/dom-attr dojo/dom-class dojo/dom-style dojo/dom-construct dojo/parser dojo/html dojo/dom dojo/topic dijit/registry dijit/Dialog mojo/app/wizard mojo/utils mojo/url dojo/dom-form velocity/velocity mojo/logger dojox/html/entities dojo/NodeList-manipulate dojo/NodeList-traverse".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s,v,w,u,y,x,A,C){var D=function(a){d(".cancel-button",a.domNode).on("click",function(b){b.stopPropagation();b.preventDefault();a.hide()})};return{initSaveReportNameModal:function(){var a=this,b=d("[data-action\x3d'edit-report-name']")[0],e=d("[data-action\x3d'close-report-name-dialog']")[0],h=d("[data-action\x3d'save-report-name']")[0],l=r.byId("name-report-dialog");g(b,"click",function(){l.show()});g(e,"click",function(){l.hide()});g(h,"click",function(){var b=
t.byId("report-name").value;f.post(u.toUrl("/pro/reports/save-report-name"),{query:{id:a.reportId,name:b}}).then(function(a){a=d("[data-element\x3d'report-name']");c.forEach(a,function(a,c){a.innerHTML=C.encode(b)});q.publish("new-report-name",{newName:b});l.hide()})})},shareReport:function(a){var b=new s({title:"Share latest snapshot",onHide:function(){b.destroyRecursive()},onDownloadEnd:function(){D(b);d("form",b.domNode).on("submit",function(a){a.stopPropagation();a.preventDefault();y.toObject(this);
f.post(l.get(this,"action"),{data:y.toObject(this)}).then(function(a){b.hide();w.toast(a);A.pythia.logEvent("Pro_Reports_ShareReport")},function(){b.hide();w.toast("There was a problem sharing the latest report's snapshot. Please try again.","error")})});d("[data-action\x3d'revoke-access']",b.domNode).on("click",function(b){b.stopPropagation();b.preventDefault();var c=this.id;f.post(u.toUrl("pro/reports/delete-share"),{data:{id:a,report_share_id:this.id}}).then(function(a){x(t.byId("share_"+c),{display:"none"},
{easing:"easeInSine",duration:500,complete:function(){m.destroy("share_"+c);if(0===d(".share-row").length){var a=d("[data-element\x3d'share-with-container']")[0];e.add(a,"hide")}}})},function(){})})}});b.setHref(u.toUrl("pro/reports/share-dialog",{id:a}));b.show()},_initScheduleInterface:function(){var a=r.byId("schedule-frequency");d("[data-element\x3d'at']");d("[data-element\x3d'time']");var b=d("[data-element\x3d'start-on']")[0],c=d("[data-element\x3d'day-of-week']")[0];g(a,"change",function(){b&&
!e.contains(b,"hide")&&e.add(b,"hide");c&&!e.contains(c,"hide")&&e.add(c,"hide");"weekly"===this.getValue()&&(e.remove(b,"hide"),e.remove(c,"hide"))})},scheduleReport:function(a){var b=this,c=new s({title:"Schedule this report",onHide:function(){c.destroyRecursive()},onDownloadEnd:function(){D(c);b._initScheduleInterface();d("form",c.domNode).on("submit",function(a){a.stopPropagation();a.preventDefault();y.toObject(this);f.post(l.get(this,"action"),{data:y.toObject(this)}).then(function(a){c.hide();
w.toast("Great, your report has been scheduled!");A.pythia.logEvent("Pro_Reports_ScheduleReport");location.reload()},function(){c.hide();w.toast("There was a problem scheduling this report. Please try again.","error")})})}});c.setHref(u.toUrl("pro/reports/schedule-dialog",{id:a}));c.show()},unscheduleReport:function(a){f.post(u.toUrl("pro/reports/unschedule",{id:a})).then(function(a){w.toast("Sure thing, we have unscheduled your report!");A.pythia.logEvent("Pro_Reports_UnScheduleReport");location.reload()},
function(){w.toast("There was a problem unscheduling this report. Please try again.","error")})},confirmDeletion:function(a,b){var c=new s({title:"Are you sure?",onHide:function(){c.destroyRecursive()},onDownloadEnd:function(){D(c);d("form",c.domNode).on("submit",function(d){d.stopPropagation();d.preventDefault();d=y.toObject(this);var e=0,g;for(g in d)d.hasOwnProperty(g)&&0===g.indexOf("id[")&&e++;f.post(l.get(this,"action"),{data:y.toObject(this)}).then(function(){c.hide();a.render()},function(){c.hide();
w.toast("There was a problem deleting your "+b+(1!=e?"s":"")+". Please try again.","error")})})}});c.setHref(u.toUrl("pro/reports/confirm-delete",{"id[]":a.getSelection()}));c.show()}}})},"mojo/app/pro/segment":function(){define(["dojo/request","dojo/io-query","mojo/utils","mojo/url"],function(h,k,d,g){var b=g.toUrl("pro/segments/count"),c=g.toUrl("pro/segments/popup");return{refreshSegmentCount:function(c,d,e){return h.post(b,{data:{list_id:c,type:e,ast:JSON.stringify(d)},handleAs:"json"})},popupSegment:function(b,
g,e){b=c+"?list_id\x3d"+b+"\x26type"+e+"\x26ast\x3d"+JSON.stringify(g);b=window.open(b,"_blank","toolbar\x3d0,scrollbars\x3d1,location\x3d0,status\x3d1,menubar\x3d0,resizable\x3d1,width\x3d600,height\x3d400");d.checkPopupWin(b);return!1},getCachedCount:function(b,c){return h.get(g.toUrl("pro/segments/cached-count"),{query:{list_id:b,segment_id:c},handleAs:"json"})},getSegment:function(b,c){return h.get(g.toUrl("pro/segments/view",{list_id:b,segment_id:c}),{handleAs:"json"})},saveReportSegment:function(b,
c,d,a,h){b={id:c,segment_id:d,ast:JSON.stringify(h),name:a,list_id:b};b=k.objectToQuery(b);window.location.href=g.toUrl("pro/reports/save-segment?"+b)},runListSegment:function(b,c,d,a){return h.post(g.toUrl("pro/segments/run"),{data:{list_id:b,segment_id:c,name:d,ast:JSON.stringify(a)},handleAs:"json"})},reRunSegment:function(b,c){return h.post(g.toUrl("pro/segments/re-run"),{data:{list_id:b,segment_id:c},handleAs:"json"})},setListSegment:function(b,c){return h.post(g.toUrl("pro/segments/select-segment"),
{data:{list_id:b,segment_id:c},handleAs:"json"})},deleteSegment:function(b,c){return h.post(g.toUrl("pro/segments/delete"),{data:{list_id:b,segment_id:c},handleAs:"json"})}}})},"mojo/app/placards/checklist":function(){define("dojo/_base/declare mojo/views/_base dojo/request dojo/query dojo/dom-form mojo/utils dojo/NodeList-traverse".split(" "),function(h,k,d,g,b,c){return h([k],{saveForm:function(f,h,e){g("input",f).forEach(function(a){c.removeErrors(a)});d.post(f.action,{data:b.toObject(f),handleAs:"json"}).then(function(a){switch(a.status){case "success":h&&
h();break;case "error":a.errors&&c.showFormErrors(f,a.errors);e&&e();break;default:throw Error("Unknown state "+a.status);}})}})})},"mojo/app/placards/checklist/facebook":function(){define("dojo/_base/declare mojo/views/_base dojo/request dojo/query dojo/on dijit/registry dojo/_base/array dojo/_base/lang dojo/dom dojo/dom-construct dojo/dom-attr dojo/dom-style dojo/dom-class dojo/dom-prop dojo/io-query dojo/number dojo/dom-form dojo/topic mojo/url mojo/app/placards mojo/app/placards/checklist mojo/app/account/billing mojo/widgets/FileManager mojo/Pusher mojo/utils dojo/date dojo/sniff dojo/date/locale mojo/user dojo/NodeList-traverse".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s,v,w,u,y,x,A,C,D,E,G,H,M){return h([k,y],{carouselMax:5,setup:function(a){var f=this;v.subscribe("campaigns/checklist-item",function(a){"success"===a.status&&"budget"===a.itemId&&window.ga("send","event","Ad Builder - Facebook","End",a.durationInDays)});var h=l.hitch(this,function(a){var b=m.get(a.target,"data-mc-slat");a="edit"===m.get(a.target,"data-mc-action")?"Open":"Cancel";b={edit_page:"Connect Facebook",audience:"Edit Audience",budget:"Set Budget",
content:"Content"}[b]||"";""!==b&&window.ga("send","event","Ad Builder - Facebook",b,a)});b(window.document,"[data-mc-action\x3d'edit']:click",h);b(window.document,"[data-mc-action\x3d'view']:click",h);v.subscribe("campaigns/checklist-item/publish",l.hitch(this,function(a){a={edit_page:"Connect Facebook",audience:"Edit Audience",budget:"Set Budget",content:"Content"}[a.itemId]||"";""!==a&&window.ga("send","event","Ad Builder - Facebook",a,"Save")}));b(window.document,b.selector("[id\x3daudience-addlist]",
"change"),function(){var a=e.byId("audience-addlist").checked?"Checked":"Unchecked";window.ga("send","event","Ad Builder - Facebook","Include your list contacts as part of your audience",a)});b(window.document,b.selector("[id\x3daudience-location]","change"),function(){var a=e.byId("audience-location").value;void 0!==f.$widget.facebookLocationTagList&&0<f.$widget.facebookLocationTagList.length&&f.$widget.facebookLocationTagList.set("country",a);window.ga("send","event","Ad Builder - Facebook","Country",
a)});b(window.document,b.selector("[id\x3dgeo_country]","change"),function(){var a=e.byId("geo_country").value;void 0!==f.$widget.facebookLocationTagList&&0<f.$widget.facebookLocationTagList.length&&f.$widget.facebookLocationTagList.set("country",a);window.ga("send","event","Ad Builder - Facebook","Country",a)});b(window.document,b.selector("[id\x3dbudget]","change"),function(){var a=e.byId("budget").value;window.ga("send","event","Ad Builder - Facebook","Ad Budget",a)});b(window.document,b.selector("[name\x3dgender]",
"change"),function(){var a="";e.byId("all").checked&&(a="All");e.byId("women").checked&&(a="Women");e.byId("men").checked&&(a="Men");window.ga("send","event","Ad Builder - Facebook","Gender",a)});b(window.document,"[data-attachment]:click",function(a){a.preventDefault();if(!m.get(a.target,"data-remove-attachment")){a=g(this).closest("form")[0];var b=f.getAttachmentIdFromNode(this);f.saveForm(a,function(){f.switchToAttachment(b)},function(){f.switchToAttachment(f.getCurrentAttachmentId())})}});b(window.document,
"[data-remove-attachment]:click",function(b){b.preventDefault();window.ga("send","event","Ad Builder - Facebook","Delete Card","Delete");var e=m.get(this,"data-remove-attachment");b=f.getAttachment(e);b=f.getAttachmentNodes().indexOf(b);1===f.getVisibleAttachments()?(f.clearAttachment(e),d.post(w.toUrl("/ads/facebook/reset-content"),{data:{type:a.type,id:a.id},handleAs:"json"}).then(l.hitch(this,function(a){switch(a.status){case "success":c.byId("content-form").getView();break;case "error":break;
default:throw Error("Unknown state "+a.status);}}))):d.post(w.toUrl("/ads/facebook/remove-attachment"),{data:{type:a.type,id:a.id,index:b},handleAs:"json"}).then(l.hitch(this,function(a){switch(a.status){case "success":f.removeAttachment(e);break;case "error":break;default:throw Error("Unknown state "+a.status);}}))});b(window.document,"#add-attachment:click",l.hitch(this,function(a){window.ga("send","event","Ad Builder - Facebook","Add Card","");a=g(a.target).closest("form")[0];var b=this.getVisibleAttachments(),
c=f.getAttachmentIdFromNode(f.getAttachmentNodes()[b]);b<this.carouselMax&&f.saveForm(a,l.hitch(this,function(){b+=1;f.setVisibleAttachments(b);f.switchToAttachment(c).then(function(){f.clearAttachment(c)})}))}));var k=function(a){g("[data-form-type]").map(function(b){return 0>m.getNodeProp(b,"data-form-type").indexOf(a)?p.add(b,"hide"):p.remove(b,"hide")})};b(window.document,"[data-audience-type]:change",function(){var a=m.get(this,"data-audience-type");window.ga("send","event","Ad Builder - Facebook",
"Who",a);k(a)});q.queryToObject(decodeURIComponent(window.location.search.slice(1))).lookalike&&(h=g("#audience-lookalike"),h.length&&(h[0].checked=!0,k("lookalike")));b(window.document,b.selector("input[name\x3daudience]","change"),function(){var a=c.byId("audience-list");if(a){var b;b="list"===g("input[name\x3daudience]:checked")[0].value?100:500;var d=a.getOptions();d.forEach(function(a){if(a.meta){var c=r.parse(a.meta.split(" ")[0]);a.disabled=c<b}});a.updateOption(d)}});b(window.document,b.selector("#audience-list",
"attrmodified-value"),function(a){if(a=c.getEnclosingWidget(a.target))(a=a.value)?(c.byId("segment").load(a),p.remove(e.byId("focus"),"hide")):p.add(e.byId("focus"),"hide"),window.ga("send","event","Ad Builder - Facebook","List",a)});b(window.document,b.selector("[id\x3dage_min","change"),function(){var a=e.byId("age_min").value;window.ga("send","event","Ad Builder - Facebook","Age range - Start",a)});b(window.document,b.selector("[id\x3dage_max","change"),function(){var a=e.byId("age_max").value;
window.ga("send","event","Ad Builder - Facebook","Age range - End",a)});b(window.document,b.selector("[data-mc-el\x3dadDuration]","change"),function(a){p.toggle(e.byId("end_date_chooser"),"hide","date"!==a.target.value);f.updateEndDateMsg(a.target.value);f.updateMinimumBudget(a.target.value);window.ga("send","event","Ad Builder - Facebook","Ad Duration",a.target.value)});b(window.document,b.selector("#widget_start_date","attrmodified-value"),function(){f.updateEndDateMsg(e.byId("duration").value);
f.updateMinimumBudget(e.byId("duration").value)});b(window.document,b.selector("#widget_end_date","attrmodified-value"),function(){f.updateMinimumBudget(e.byId("duration").value)});b(window.document,b.selector("#end_time","change"),function(){f.updateMinimumBudget(e.byId("duration").value)});b(window.document,b.selector("[name\x3dend_time_meridian]","change"),function(){f.updateMinimumBudget(e.byId("duration").value)});b(window.document,b.selector("[data-image-browse]","click"),function(b){window.ga("send",
"event","Ad Builder - Facebook","Image","Browse");var c=m.get(b.target,"data-image-browse"),e=f.getAttachment(c),h=f.getAttachmentNodes().indexOf(e);A.isShown()||A.show({actions:"select,edit,delete",onSelect:function(b,l,k){f.showImageLoader(c);d.post(w.toUrl("/ads/facebook/add-image"),{data:{file_id:k,type:a.type,id:a.id,index:h},handleAs:"json"}).then(function(a){f.hideImageLoader(c);switch(a.status){case "success":D.removeErrors(g("[data-mc-name\x3dimage]"));f.setAttachmentImage(c,a.url);break;
case "error":D.showFormErrors(g(e).closest("form")[0],a.errors);break;default:throw Error("Unknown status "+status);}});A.hide()}})});b(window.document,b.selector("[data-image-remove]","click"),function(b){window.ga("send","event","Ad Builder - Facebook","Image","Remove");var c=m.get(b.target,"data-image-remove");b=f.getAttachment(c);b=f.getAttachmentNodes().indexOf(b);d.post(w.toUrl("/ads/facebook/remove-image"),{data:{type:a.type,id:a.id,index:b}}).then(function(){f.setAttachmentImage(c,null)})});
b(window.document,b.selector("[data-image-edit]","click"),function(b){window.ga("send","event","Ad Builder - Facebook","Image","Edit");var c=m.get(b.target,"data-image-edit");b=g("[data-image-attachment\x3d'"+c+"']")[0];var e=g(".c-attachment_image",b)[0],h=f.getAttachment(c),k=f.getAttachmentNodes().indexOf(h);b=new Image;e=w.removeProxy(n.get(e,"background-image"));b.src=G("safari")?e.slice(4,-1):e.slice(5,-2);b={image:b,url:b.src,tools:"all",cropPresets:[["Single Ad","19:10"],["Carousel Ad","1:1"]],
cropPresetDefault:"Single Ad",onSave:l.hitch(this,function(b,e){d.post(w.toUrl("/ads/facebook/edit-image"),{data:{type:a.type,id:a.id,index:k,image_url:e},handleAs:"json"}).then(function(a){switch(a.status){case "success":D.removeErrors(g("[data-mc-name\x3dimage]"));f.setAttachmentImage(c,a.url);break;case "error":D.showFormErrors(g(h).closest("form")[0],a.errors);break;default:throw Error("Unknown status "+status);}window.featherEditor.close()})}),onClose:null};window.featherEditor.launch(b)})},
updateMinimumBudget:function(b){var d=+m.get(g("[data-minimum-budget")[0],"data-minimum-budget"),f=c.byId("start_date").value,h=+g("[name\x3dstart_time]")[0].value,l=+g("[name\x3dend_time]")[0].value,k=e.byId("start_pm"),n=e.byId("end_pm"),p=0,p=12===h?k.checked?0:12:k.checked?12:0,h=(h+p)%24;f.setHours(h);switch(b){case "one_week":l=new Date(+f.getFullYear(),+f.getMonth(),+f.getDate()+7,h);break;case "two_weeks":l=new Date(+f.getFullYear(),+f.getMonth(),+f.getDate()+14,h);break;case "one_month":l=
new Date(+f.getFullYear(),+f.getMonth(),+f.getDate()+30,h);break;default:b=c.byId("end_date").value,h=0,h=12===l?n.checked?0:12:n.checked?12:0,l=new Date(+b.getFullYear(),+b.getMonth(),+b.getDate(),(l+h)%24)}f=Math.max(24,E.difference(f,l,"hour"));this.minimumBudget=Math.ceil(f/24)*d;d="Minimum budget is "+M.currencySymbol+this.minimumBudget.toFixed(2)+" ("+M.currencySymbol+d.toFixed(2)+" per day)";f=e.byId("budget_min");f||(l=e.byId("budget"),D.removeErrors(l),f=a.create("div",{id:"budget_min","class":"field-help"}),
a.place(f,l,"after"));t.set(f,"textContent",d)},updateEndDateMsg:function(a){function b(a,c,d){return H.format(E.add(a,c,d),{datePattern:"MMM d, y",timePattern:"h:mm a"})}var d=g("[data-mc-el\x3dabsoluteEndDate]")[0],f=c.byId("start_date").value,h=+g("[name\x3dstart_time]")[0].value,l=e.byId("start_pm"),k=0,k=12===h?l.checked?0:12:l.checked?12:0;if(d)switch(p.toggle(d,"hide","date"===a),f=new Date(+f.getFullYear(),+f.getMonth(),+f.getDate(),(h+k)%24),a){case "one_week":d.innerHTML=b(f,"week",1);break;
case "two_weeks":d.innerHTML=b(f,"week",2);break;case "one_month":d.innerHTML=b(f,"month",1)}},showImageLoader:function(a){if(a=g("[data-image-attachment\x3d"+a+"]")[0])a.style.backgroundImage="none",p.add(g(".c-attachment_placeholder",a)[0],"hide");this.$widget.imageLoader.start();p.remove(g("[data-image-loader]")[0],"hide")},hideImageLoader:function(a){(a=g("[data-image-attachment\x3d"+a+"]")[0])&&p.remove(g(".c-attachment_placeholder",a)[0],"hide");this.$widget.imageLoader.stop();p.add(g("[data-image-loader]")[0],
"hide")},setVisibleAttachments:function(a){var b=g("[data-visible-attachments]")[0];m.set(b,"data-visible-attachments",a);p.toggle(b,"hide",a===this.carouselMax);this.getAttachmentNodes().forEach(function(b,c){var d=g("label span",b);d.length&&t.set(d[0],"textContent",c+1);p.toggle(b,"hide",c>a-1)})},getVisibleAttachments:function(){return parseInt(m.get(g("[data-visible-attachments]")[0],"data-visible-attachments"),10)},getAttachmentNodes:function(){return g("[data-attachment]")},getAttachmentIdFromNode:function(a){return m.get(a,
"data-attachment")},getAttachment:function(a){return g("[data-attachment\x3d"+a+"]")[0]},removeAttachment:function(b){var c=this.getAttachment(b),d=this.getAttachmentNodes().indexOf(c);this.clearAttachment(b);var e=b;+b===+this.getCurrentAttachmentId()&&(e=this.getAttachmentIdFromNode(this.getAttachmentNodes()[0===d?d+1:d-1]),this.switchToAttachment(e));b=this.getVisibleAttachments();d=c.parentNode;a.place(c,d,d.childNodes.length-2);this.setVisibleAttachments(b-1);if(c=g("input[name\x3dindex]")[0])b=
this.getAttachmentNodes().indexOf(this.getAttachment(this.getCurrentAttachmentId())),c.value=b},clearAttachment:function(a){var b=g("#attachment-"+a)[0];b&&g("input[type\x3dtext], input[type\x3durl], textarea, select",b).forEach(function(a){a.value=""});this.setAttachmentImage(a,null)},setAttachmentImage:function(a,b){var c=g("[data-image-attachment\x3d"+a+"]")[0];if(c){var d=g(".c-attachment_placeholder",c)[0],e=g(".c-attachment_image",c)[0];b?(d&&(p.add(d,"hide"),p.remove(g("[data-image-edit]",
c)[0],"hide"),p.remove(g("[data-image-remove]",c)[0],"hide"),p.remove(g("[data-image-replace]",c)[0],"hide"),p.add(g("[data-image-browse]",c)[0],"hide")),e.style.backgroundImage="url("+b+")",e.style.backgroundPosition="50% 50%",e.style.backgroundSize="cover"):(d&&(p.remove(d,"hide"),p.add(g("[data-image-edit]",c)[0],"hide"),p.add(g("[data-image-remove]",c)[0],"hide"),p.add(g("[data-image-replace]",c)[0],"hide"),p.remove(g("[data-image-browse]",c)[0],"hide")),e.style.backgroundImage="none")}if(c=this.getAttachment(a))c=
g("label",c)[0],n.set(c,"backgroundImage",b?"url("+b+")":"")},switchToAttachment:function(a){var b=c.byId("view-switcher"),d=this.getAttachment(a),e=this.getAttachmentNodes().indexOf(d);g("input",d)[0].checked=!0;return b.setCurrentView(a).then(l.hitch(this,function(a){var b=1<this.getVisibleAttachments();g("[data-image-attachment]").forEach(function(a){a=g(".c-attachment_image")[0];p.toggle(a,"v-fbAttachment--carousel",b);p.toggle(a,"v-fbAttachment--default",!b)});if(a=g("input[name\x3dindex]",a)[0])a.value=
e}))},getCurrentAttachmentId:function(){return c.byId("view-switcher").getCurrentPosition()}})})},"mojo/app/placards/checklist/google":function(){define("dojo/_base/declare mojo/views/_base dojo/request dojo/query dojo/on dijit/registry dojo/_base/array dojo/_base/lang dojo/dom dojo/dom-construct dojo/dom-attr dojo/dom-style dojo/dom-class dojo/dom-prop dojo/io-query dojo/number dojo/dom-form dojo/topic mojo/url mojo/app/placards mojo/app/placards/checklist mojo/app/account/billing mojo/widgets/FileManager mojo/widgets/ads/PreviewOverlay mojo/widgets/ecommerce/ProductPicker mojo/Pusher mojo/utils dojo/date dojo/date/locale mojo/user mojo/ImageEditor dojo/NodeList-traverse".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s,v,w,u,y,x,A,C,D,E,G,H,M,J,S){return h([k,y],{DURATION_IN_DAYS:90,setup:function(a){var e=this;v.subscribe("campaigns/checklist-item",function(a){"success"===a.status&&"budget"===a.itemId&&window.ga("send","event","Ad Builder - Google","End",e.DURATION_IN_DAYS)});var f=l.hitch(this,function(a){var b=m.get(a.target,"data-mc-slat");a="edit"===m.get(a.target,"data-mc-action")?"Open":"Cancel";(b={edit_page:"Connect Store",budget:"Set Budget",content:"Content"}[b]||
"")&&window.ga("send","event","Ad Builder - Google",b,a)});b(window.document,"[data-mc-action\x3d'edit']:click",f);b(window.document,"[data-mc-action\x3d'view']:click",f);v.subscribe("campaigns/checklist-item/publish",l.hitch(this,function(a){(a={edit_page:"Connect Store",budget:"Set Budget",content:"Content"}[a.itemId]||"")&&window.ga("send","event","Ad Builder - Google",a,"Save")}));b(window.document,b.selector("[data-mc-el\x3d'snippet']","click"),function(a){a=e.$el.snippet;var b;window.getSelection?
(b=document.createRange(),b.selectNode(a),window.getSelection().addRange(b)):document.selection&&(b=document.body.createTextRange(),b.moveToElementText(a).select())});b(window.document,"[data-remove-attachment]:click",function(b){b.preventDefault();window.ga("send","event","Ad Builder - Google","Delete Ad","Delete");var f=m.get(this,"data-remove-attachment");b=e.getAttachment(f);b=e.getAttachmentNodes().indexOf(b);1===e.getVisibleAttachments()?(e.clearAttachment(f),d.post(w.toUrl("/ads/google/reset-content"),
{data:{type:a.type,id:a.id},handleAs:"json"}).then(l.hitch(this,function(a){switch(a.status){case "success":c.byId("content-form").getView();break;case "error":break;default:throw Error("Unknown state "+a.status);}}))):d.post(w.toUrl("/ads/google/remove-display-ad"),{data:{type:a.type,id:a.id,index:b},handleAs:"json"}).then(l.hitch(this,function(a){switch(a.status){case "success":e.removeAttachment(f);break;case "error":break;default:throw Error("Unknown state "+a.status);}}))});b(window.document,
"#add-attachment:click",l.hitch(this,function(a){window.ga("send","event","Ad Builder - Google","Create Ad","");a=g(a.target).closest("form")[0];var b=this.getVisibleAttachments(),c=e.getAttachmentIdFromNode(e.getAttachmentNodes()[b]);5>b&&e.saveForm(a,l.hitch(this,function(){b+=1;e.setVisibleAttachments(b);e.switchToAttachment(c).then(function(){e.clearAttachment(c)})}))}));b(window.document,b.selector("[data-mc-el\x3d'topSellersBtn']","click"),function(b){d.post(w.toUrl("/ads/google/choose-top-sellers"),
{data:{type:a.type,id:a.id},handleAs:"json"}).then(l.hitch(this,function(a){switch(a.status){case "success":c.byId("content-form").getEditForm();break;case "error":break;default:throw Error("Unknown status "+status);}}))});b(window.document,b.selector("[data-mc-el\x3d'productPicker']","click"),function(b){var c=m.get(b.target,"data-attachment"),f=e.getAttachment(c),h=e.getAttachmentNodes().indexOf(f);D.chooseProductFromStore(m.get(b.target,"data-store")).then(function(b){g("[data-website\x3d'"+c+
"']")[0].value=void 0!==b[0].link_url?b[0].link_url:"";g("[data-short-headline\x3d'"+c+"']")[0].value=void 0!==b[0].title?b[0].title.substring(0,25):"";g("[data-long-headline\x3d'"+c+"']")[0].value=void 0!==b[0].title?b[0].title.substring(0,90):"";e._toggleImageLoader(c,"image",!0);d.post(w.toUrl("/ads/google/edit-image"),{data:{type:a.type,id:a.id,index:h,image_url:b[0].image_url},handleAs:"json"}).then(function(a){e._toggleImageLoader(c,"image",!1);switch(a.status){case "success":G.removeErrors(g("[data-mc-name\x3dimage]"));
e.setAttachmentImage(c,"image",a.url);break;case "error":G.showFormErrors(g(f).closest("form")[0],a.errors);e.setAttachmentImage(c,"image",null);break;default:throw Error("Unknown status "+status);}})})});b(window.document,b.selector("[data-image-browse]","click"),function(b){window.ga("send","event","Ad Builder - Google","Image","Browse");var c=m.get(b.target,"data-image-browse"),f=m.get(b.target,"data-image-type"),h=e.getAttachment(c),l=e.getAttachmentNodes().indexOf(h);A.isShown()||A.show({actions:"select,edit,delete",
onSelect:function(b,k,m){e._toggleImageLoader(c,f,!0);d.post(w.toUrl("/ads/google/add-image"),{data:{file_id:m,type:a.type,id:a.id,index:l},handleAs:"json"}).then(function(a){e._toggleImageLoader(c,f,!1);switch(a.status){case "success":G.removeErrors(g("[data-mc-name\x3dimage]"));e.setAttachmentImage(c,f,a.url);break;case "error":G.showFormErrors(g(h).closest("form")[0],a.errors);e.setAttachmentImage(c,f,null);break;default:throw Error("Unknown status "+status);}});A.hide()}})});b(window.document,
b.selector("[data-image-remove]","click"),function(b){window.ga("send","event","Ad Builder - Google","Image","Remove");var c=m.get(b.target,"data-image-remove"),f=m.get(b.target,"data-image-type");b=e.getAttachment(c);b=e.getAttachmentNodes().indexOf(b);d.post(w.toUrl("/ads/google/remove-image"),{data:{type:a.type,id:a.id,index:b}}).then(function(){e.setAttachmentImage(c,f,null)})});b(window.document,b.selector("[data-image-edit]","click"),function(b){window.ga("send","event","Ad Builder - Google",
"Image","Edit");var c=m.get(b.target,"data-image-edit"),f=m.get(b.target,"data-image-type");b=g("[data-image-attachment\x3d'"+c+"']")[0];var h=g("[data-image]",b)[0],k=e.getAttachment(c),p=e.getAttachmentNodes().indexOf(k);b=new Image;h=w.removeProxy(n.get(h,"background-image"));b.src=e._cleanImageURL(h);S.open(b.src).then(l.hitch(this,function(b){d.post(w.toUrl("/ads/google/edit-image"),{data:{type:a.type,id:a.id,index:p,image_url:b},handleAs:"json"}).then(function(a){switch(a.status){case "success":G.removeErrors(g("[data-mc-name\x3dimage]"));
e.setAttachmentImage(c,f,a.url);break;case "error":G.showFormErrors(g(k).closest("form")[0],a.errors);e.setAttachmentImage(c,f,null);break;default:throw Error("Unknown status "+status);}})}))});b(window.document,"[data-attachment]:click",function(a){a.preventDefault();if(!m.get(a.target,"data-remove-attachment")){a=g(this).closest("form")[0];var b=e.getAttachmentIdFromNode(this);e.saveForm(a,function(){e.switchToAttachment(b)},function(){e.switchToAttachment(e.getCurrentAttachmentId())})}})},_cleanImageURL:function(a){a=
a.replace(/['"]+/g,"");return a=a.slice(4,-1)},_toggleImageLoader:function(a,b,c){if(a=g("[data-image-attachment\x3d"+a+"][data-mc-name\x3d"+b+"]")[0])a.style.backgroundImage="none",p.toggle(g("[data-placeholder]",a)[0],"hide",c);p.toggle(g("[data-image-loader]",a)[0],"hide",!c);c?this.$widget.imageLoader.start():this.$widget.imageLoader.stop()},getVisibleAttachments:function(){return parseInt(m.get(g("[data-visible-attachments]")[0],"data-visible-attachments"),10)},getAttachmentNodes:function(){return g("[data-attachment]")},
getAttachmentIdFromNode:function(a){return m.get(a,"data-attachment")},getAttachment:function(a){return g("[data-attachment\x3d"+a+"]")[0]},removeAttachment:function(b){var c=this.getAttachment(b),d=this.getAttachmentNodes().indexOf(c);this.clearAttachment(b);var e=b;+b===+this.getCurrentAttachmentId()&&(e=this.getAttachmentIdFromNode(this.getAttachmentNodes()[0===d?d+1:d-1]),this.switchToAttachment(e));b=this.getVisibleAttachments();a.place(c,c.parentNode,b+1);this.setVisibleAttachments(b-1);if(c=
g("input[name\x3dindex]")[0])b=this.getAttachmentNodes().indexOf(this.getAttachment(this.getCurrentAttachmentId())),c.value=b},clearAttachment:function(a){var b=g("#attachment-"+a)[0];b&&g("input[type\x3dtext], input[type\x3durl], textarea, select",b).forEach(function(a){a.value=""});this.setAttachmentImage(a,"image",null);this.setAttachmentImage(a,"logo",null)},setVisibleAttachments:function(a){var b=g("[data-visible-attachments]")[0];m.set(b,"data-visible-attachments",a);p.toggle(b,"hide",5===a);
this.getAttachmentNodes().forEach(function(b,c){var d=g("label span",b);d.length&&t.set(d[0],"textContent","Ad "+(c+1));p.toggle(b,"hide",c>a-1)});g("[data-blank]").forEach(function(b,c){p.toggle(b,"hide",c<a+1)})},setAttachmentImage:function(a,b,c){if(b=g("[data-image-attachment\x3d"+a+"][data-mc-name\x3d"+b+"]")[0]){var d=g("[data-placeholder]",b)[0],e=g("[data-image]",b)[0];d&&(p.toggle(d,"hide",c),p.toggle(g("[data-image-browse]",b)[0],"hide",c),p.toggle(g("[data-image-edit]",b)[0],"hide",!c),
g("[data-image-remove]",b)[0]&&p.toggle(g("[data-image-remove]",b)[0],"hide",!c),p.toggle(g("[data-image-replace]",b)[0],"hide",!c));c?(e.style.backgroundImage="url("+c+")",e.style.backgroundPosition="50% 50%",e.style.backgroundSize="cover"):e.style.backgroundImage="none"}if(a=this.getAttachment(a))a=g("label",a)[0],n.set(a,"backgroundImage",c?"url("+c+")":"url('/images/ads/placeholder-thumbnail.svg')"),n.set(a,"opacity",c?"1":".6")},switchToAttachment:function(a){var b=c.byId("view-switcher"),d=
this.getAttachment(a),e=this.getAttachmentNodes().indexOf(d);g("input",d)[0].checked=!0;return b.setCurrentView(a).then(l.hitch(this,function(a){if(a=g("input[name\x3dindex]",a)[0])a.value=e}))},getCurrentAttachmentId:function(){return c.byId("view-switcher").getCurrentPosition()}})})},"mojo/app/peaches2/tabContainerUtil":function(){define("dojo/_base/declare dijit/layout/TabContainer dijit/layout/ContentPane mojo/app/peaches2/utils mojo/url dojo/on vendor/lodash-amd/isFunction dijit/registry".split(" "),
function(h,k,d,g,b,c,f,l){return h(null,{container:null,viewModule:{},createContentPanes:function(c,a,f){var g=this;c&&(this._createTabContainer(c),a.pageTabs&&(a.pageTabs.forEach(function(c){var e=new d({title:c.title,href:c.href,selected:c.active,id:c.stub+"-section",preload:c.preload});c.active&&b.setHashParams({t:e.id});g[g._camelCaseStub(c.stub)+"Section"]=e;g._addOndownloadEnd(c,e,f,a);g.container.addChild(e)}),this.container&&(this.container.startup(),this._watchHashParam())))},_camelCaseStub:function(b){return b.replace(/-([a-z])/g,
function(a){return a[1].toUpperCase()})},_watchHashParam:function(){var d=this;c(window,"hashchange",function(a){if(a=b.getHashParams().t){if(!a.endsWith("-section"))return!1;d.container.selectChild(d[d._camelCaseStub(a)])}});this.container.watch("selectedChildWidget",function(a,c,d){if(d.id.endsWith("-hidden"))return!1;b.setHashParams({t:d.id})})},_createTabContainer:function(b){this.container=new k({doLayout:!1},b)},addNewPane:function(b,a,c,f){var g=this[this._camelCaseStub(b.stub)+"Section"];
g?(g.set("title",b.title),g.set("href",b.href),this.container.selectChild(g)):(!f&&!this.container&&this._createTabContainer(c),c=new d({title:b.title,href:b.href,closable:b.closable,onClose:b.onClose,id:this._camelCaseStub(b.stub)+"Section"}),this[this._camelCaseStub(b.stub)+"Section"]=c,f&&(c.placeAt(f).startup(),l.byId(f).selectChild(c)),!f&&this.container&&(this.container.addChild(c),a&&this.container.selectChild(c)))},_addOndownloadEnd:function(b,a,c,d){var g=this;Object.keys(c).forEach(function(h,
l){var k=f(c[h]),s=null;h===g._camelCaseStub(b.stub)&&(k?(s=new c[h]({elId:b.id,pageJs:d}),g.viewModule[g._camelCaseStub(b.stub)]=s):g.viewModule[g._camelCaseStub(b.stub)]=c[h],a.set("onDownloadEnd",function(){k?(s.parse(b.id),s.onReady()):(c[h].onReady(),g.viewModule[g._camelCaseStub(b.stub)]=c[h])}))})}})})},"mojo/app/peaches2/utils":function(){define("dojo/_base/declare dijit/Tooltip velocity/velocity dojo/dom-construct dojo/dom-class dojo/html dojo/dom dojo/dom-form dojo/request/xhr mojo/url dojo/topic dojo/query dijit/registry dojo/on dojo/ready dojo/domReady!".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q){var r={sendFormViaAjax:function(a){var b=this;a=f.byId(a);var c=l.toQuery(a);return e(a.action+"?"+c,{handleAs:"json"}).then(function(a){var c=a.msg,d=a.status;c&&b.setFlash(c,d);a.refresh_notes&&p.byId("notes-list").render()},function(a){b.setFlash("We couldn't process your request. Try again.","error")})},setFlash:function(a,b){f.byId("av-flash-block")||c.set(f.byId("flash-block-container"),'\x3cdiv id\x3d"av-flash-block" class\x3d"c-flashBlock full-width"\x3e\x3c/div\x3e');
f.byId("av-flash-"+b)||(g.place('\x3cul class\x3d"av-flash border-radius--lv2 padding--lv3 v-flashBlock--'+b+'" id\x3d"av-flash-'+b+'"\x3e\x3c/ul\x3e',"av-flash-block"),"error"===b&&g.place('\x3cspan class\x3d"cross float-right padding--lv3 !padding-top-bottom--lv0 freddicon cursor-pointer" onclick\x3d"_mca.closeFlashBlocks(this.parentNode); return false;"\x3e\x3c/span\x3e',"av-flash-"+b,"first"));g.place("\x3cli\x3e"+a+"\x3c/li\x3e","av-flash-"+b);"error"!==b&&this.closeFlashBlocks(f.byId("av-flash-"+
b),4500)},closeFlashBlocks:function(a,b){b||(b=0);d(a,"fadeOut",{duration:1E3,delay:b}).then(function(){g.destroy(a)})},refreshOnError:function(a){if(a.id){var b=a.domNode.innerHTML;b.includes("Warning: ")&&b.includes("failed to open stream: No such file or directory")&&p.byId(a.id).refresh()}}};return{run:h(null,{constructor:function(){var a=this;q(function(){a._initMcadminSearch();a._initToolsListToolTip();a._initFlashMessages();m.subscribe("mojo/analytics/List/_bbs_display/render",function(){a._updateUnreadBBSCount(!1)});
a._updateUnreadBBSCount(!0)})},_initMcadminSearch:function(){var a=f.byId("search-dialog"),c=f.byId("mcadmin-search-input"),d=n(".mcadmin-wrapper"),e=n("[name\x3dsearch-type]"),g=f.byId("open-search");t(g,"click",function(){b.add(a,"search-dialog-active");setTimeout(function(){c.focus()},100)});t(c,"focusin",function(){b.add(a,"search-dialog-active")});t(d,"click",function(){b.remove(a,"search-dialog-active")});t(e,"click",function(){c.focus()})},_initToolsListToolTip:function(){new k({connectId:"mcadmin-tool-list",
selector:"li",getContent:function(a){return a.getAttribute("tooltipText")}})},_initFlashMessages:function(){var a=f.byId("av-flash-info"),b=f.byId("av-flash-success"),c=f.byId("content");f.byId("the-account")?g.place("av-flash-block","account-buttons","first"):c&&0<c.length&&g.place("av-flash-block","content","first");a?r.closeFlashBlocks(a,4500):b&&r.closeFlashBlocks(b,4500)},_updateUnreadBBSCount:function(b){var d=this;e(a.toUrl("/peaches2/bbs/get-unread-items"),{handleAs:"json"}).then(function(a){"success"===
a.status?(0===a.count?d._showReadIcon():d._showUnreadIcon(),c.set(f.byId("bbs-unread-items-count"),String(a.count))):r.setFlash(a,"error");b&&d._startUnreadBBSCountTimer()},function(a){r.setFlash(a,"error");b&&d._startUnreadBBSCountTimer()})},_showUnreadIcon:function(){b.remove(f.byId("bbs-unread-items-count"),"hide");b.add(f.byId("gray-bulletin-icon"),"hide");b.remove(f.byId("blue-bulletin-icon"),"hide")},_showReadIcon:function(){b.add(f.byId("bbs-unread-items-count"),"hide");b.remove(f.byId("gray-bulletin-icon"),
"hide");b.add(f.byId("blue-bulletin-icon"),"hide")},_startUnreadBBSCountTimer:function(){var a=this;setTimeout(function(){a._updateUnreadBBSCount(!0)},3E5)}}),utils:r}})},"mojo/app/peaches2/webhooks":function(){define("dojo/_base/declare mojo/views/_base mojo/url dijit/registry dojo/dom-class dojo/dom dojo/query dojo/dom-attr dojo/dom-style dojo/request/xhr mojo/app/peaches2/utils".split(" "),function(h,k,d,g,b,c,f,l,e,a,m){return h(null,{webhookHeadCheckAll:function(){var a=[];f(".check-on-load").forEach(function(b,
c){var d=l.get(b,"id"),e=l.get(b,"data-dojo-url"),f={};f.dom_id=d;f.url=e;a.push(f)});this._checkHead(a)},reCheckHead:function(a,d){var e=[],f={};f.dom_id=a;f.url=d;e.push(f);b.add("pulse-"+a,"block");b.remove("enabled-"+a,"block");b.add("enabled-"+a,"hide");c.byId("errored-"+a).innerHTML="";this._checkHead(e)},purgeRunningJobs:function(b){a(d.toUrl("/peaches2/admin/webhooks/purge-hanged-jobs"),{handleAs:"json",query:{user_id:b}}).then(function(a){var b="Running Jobs purged.";"error"===a.status&&
(b="Running jobs couldn't be purged");m.utils.setFlash(b,a.status)})},purgeEnqueuedJobs:function(b){a(d.toUrl("/peaches2/admin/webhooks/purge-enqueued-jobs"),{handleAs:"json",query:{user_id:b}}).then(function(a){var b="Queued Jobs purged.";"error"===a.status&&(b="Queued jobs couldn't be purged");m.utils.setFlash(b,a.status)})},_checkHead:function(e){var f="",g="",h="";a(d.toUrl("/peaches2/admin/webhooks/check-head"),{handleAs:"json",query:{urls:JSON.stringify(e)}}).then(function(a){for(var d=0;d<
a.results.length;d++){g=a.results[d].status;f=e[a.results[d].index].dom_id;h=a.results[d].response_time;if(void 0===g||null===g)c.byId("badge-"+f).innerHTML="ERROR",b.add("badge-"+f,"error"),b.remove("icon-"+f,"time-circle"),b.remove("icon-"+f,"tick-circle"),b.add("icon-"+f,"not-allowed"),b.add("icon-"+f,"error"),"undefined"!==typeof a.results[d].msg&&(c.byId("errored-"+f).innerHTML=a.results[d].msg,b.remove("errored-"+f,"hide"));else{var l=g;200<=g&&400>g?(b.remove("icon-"+f,"time-circle"),b.add("icon-"+
f,"tick-circle"),b.add("icon-"+f,"success"),b.add("badge-"+f,"success")):(b.remove("icon-"+f,"time-circle"),b.add("icon-"+f,"not-allowed"),b.add("icon-"+f,"error"),b.add("badge-"+f,"error"));"undefined"!==typeof h&&(l=l+" in "+h+"ms");c.byId("badge-"+f).innerHTML=l}b.remove("pulse-"+f,"block");b.add("pulse-"+f,"hide");b.add("enabled-"+f,"block");b.remove("enabled-"+f,"hide")}})},disableWebhook:function(d,f,h,l,k){a(d+"/peaches2/admin/webhooks/disable",{handleAs:"json",query:{user_id:f,list_id:h,url:l}}).then(function(a){"success"===
a.status?(b.add("enabled-wrapper-"+k,"hide"),b.remove("enabled-"+k,"block"),b.remove("pulse-"+k,"block"),b.add("pulse-"+k,"hide"),b.add("paused-"+k,"block"),e.set(c.byId("pause-button-"+k),"display","none"),e.set(c.byId("activate-button-"+k),"display","block")):g.byId("pause-webhook-error").show()})},enableWebhook:function(d,h,l,k,m){var s=this;a(d+"/peaches2/admin/webhooks/enable",{handleAs:"json",query:{user_id:h,list_id:l,url:k}}).then(function(a){"success"===a.status?(f("#paused-"+m+" span.badge")[0].innerHTML=
"Paused",b.remove("enabled-wrapper-"+m,"hide"),b.add("enabled-"+m,"block"),b.add("paused-"+m,"hide"),b.remove("paused-"+m,"block"),e.set(c.byId("pause-button-"+m),"display","block"),e.set(c.byId("activate-button-"+m),"display","none"),s.reCheckHead(m,k)):g.byId("enable-webhook-error").show()})}})})},"mojo/app/mvt/ContentLinkStats":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dojo/text!./templates/contentLinkStats.html dojo/_base/lang dojo/_base/array dojo/dom-construct dojo/html dojo/number dojox/html/entities".split(" "),
function(h,k,d,g,b,c,f,l,e,a){return h([k,d],{templateString:g,rowTpl:'\x3cli\x3e\x3cp class\x3d"!margin--lv0 selfclear padding--lv3 !padding-top-bottom--lv0 !padding-right--lv0"\x3e\x3cspan class\x3d"float-left"\x3eCombination {combo}\x3c/span\x3e\x3cspan class\x3d"float-right"\x3e\x3cspan class\x3d"fwb"\x3e{clicks}%\x3c/span\x3e Clicks\x3c/span\x3e\x3c/p\x3e\x3c/li\x3e',rowMetaTpl:'\x3cp class\x3d"small-meta !margin--lv0 padding--lv3 !padding-top-bottom--lv0 !padding-right--lv0"\x3e\x3cspan class\x3d"fwb"\x3e{label}:\x3c/span\x3e {value}\x3c/p\x3e',
detailedStats:null,contentLinkStats:null,campaignIdToCombo:null,testingSubjects:!1,testingFromNames:!1,testingSchedules:!1,postMixInProperties:function(){this.campaignIdToCombo={};c.forEach(this.detailedStats.combinationStats,b.hitch(this,function(a){this.campaignIdToCombo[a.campaignId]=a}))},showLinkDetails:function(a,d){f.empty(this.comboList);var e=this.contentLinkStats[a];if(e=e&&e.links[d]){this._setHeader("Link details for Content "+(a+1));c.forEach(e.campaigns,b.hitch(this,function(a){this._addLinkDetail(a)}));
var g=this._formatRate(e.overall_clicks,e.overall_delivered)+"%";l.set(this.leftDetails,e.url);l.set(this.rightDetails,g)}},showContentDetails:function(a){f.empty(this.comboList);var d=this.contentLinkStats[a];d&&(this._setHeader("Details"),c.forEach(d.campaigns,b.hitch(this,"_addOverallDetail")),l.set(this.leftDetails,"Content "+(a+1)),(a=this.detailedStats.variateStats.contents[a])&&l.set(this.rightDetails,e.format(a.avgClickRate,{places:1})+"%"))},_addLinkDetail:function(a){var b=this._formatRate(a.unique_clicks,
a.delivered);this._addRow(a.campaign_id,b)},_formatRate:function(a,b){var c=0;b&&(c=100*(a/b));0<c&&(c=e.format(c,{places:1}));return c},_addOverallDetail:function(a){this._addRow(a,e.format(this.campaignIdToCombo[a].clickRate,{places:1}))},_addRow:function(c,d){var e=this.campaignIdToCombo[c],g=f.place(b.replace(this.rowTpl,{combo:e.combination,clicks:d}),this.comboList,"append");this.testingSubjects&&f.place(b.replace(this.rowMetaTpl,{label:"Subject line",value:a.encode(e.subject)}),g);this.testingFromNames&&
f.place(b.replace(this.rowMetaTpl,{label:"From",value:a.encode(e.fromName)+"\x26lt;"+e.fromEmail+"\x26gt;"}),g);this.testingSchedules&&f.place(b.replace(this.rowMetaTpl,{label:"Scheduled",value:e.scheduledSendTime}),g)},_setHeader:function(a){this.header.innerHTML=a}})})},"mojo/app/mvt/ContentLinkViewer":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dojo/_base/lang dojo/_base/array dojo/dom-construct dojo/dom-style dojo/dom-attr dojo/dom-class mojo/url dojo/on dojo/query dojo/Deferred dojo/dom-geometry mojo/neapolitan/utils velocity/velocity".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r){var s=h(null,{iframe:null,contentIndex:null,campaignId:null,doc:null,window:null,contentWidth:null,frameWidth:null,frameHeight:null,selectedLinkIndex:null,constructor:function(b,d){this.links=null;this.campaignId=b;this.contentIndex=d;this.selectedLink=null;this.loadedPromise=new p;var e=a.toUrl("/reports/content-compare-preview",{id:this.campaignId,index:d});this.iframe=c.create("iframe",{"class":"content-compare-frame full-width border-gray !margin-bottom--lv5 hide",
frameborder:"0",marginheight:"0",marginwidth:"0",height:"320",scrolling:"no",style:"max-width: 605px !important",src:e});m.once(this.iframe,"load",g.hitch(this,"_onFrameLoad"))},selectLink:function(a){this.loadedPromise.then(g.hitch(this,function(){if(null!=a&&a!=this.selectedLinkIndex){var b=this._getLink(a);if(b&&!e.contains(b.dom,"mc-outline")){f.set(this.doc.body,{transformOrigin:"0 0"});var c=this._scaleFactor(b.pos.w,b.pos.h);1.5<c&&(c=1.5);var d=-(b.pos.x*c)+(this.frameWidth/2-b.pos.w*c/2),
g=-(b.pos.y*c)+(this.frameHeight/2-b.pos.h*c/2);this._highlightEl(b.dom);this._animateBody(d,g,c)}this.selectedLinkIndex=a}}))},deselectLink:function(){this.loadedPromise.then(g.hitch(this,function(){this._calculateDimensions();this.selectedLinkIndex=null;this._unhighlight();this._zoomToFit()}))},show:function(){e.remove(this.iframe,"hide")},hide:function(){e.add(this.iframe,"hide")},isVisible:function(){return!e.contains(this.iframe,"hide")},_zoomToFit:function(){this.contentWidth||(this.contentWidth=
this._calculateMaxWidth());if(this.contentWidth){var a=((this.frameWidth-100)/this.contentWidth).toFixed(2);f.set(this.doc.body,{transformOrigin:"50% 5%"});this._animateBody("1px","1px",a)}this._precalculatePositions()},_animateBody:function(a,b,c){r(this.doc.body,"stop");r(this.doc.body,{translateX:a,translateY:b,scale:c},{duration:350,easing:"easeOutQuint"})},_precalculatePositions:function(){this._calculateDimensions();this.links||(this.links=[],n("[data-link-pos]",this.doc).forEach(g.hitch(this,
function(a){var b=n(a).children();1==b.length&&"img"==b[0].tagName.toLowerCase()&&(a=b[0]);this.links.push({dom:a,pos:t.position(a)})})))},_getLink:function(a){this._precalculatePositions();return this.links[a]},_onFrameLoad:function(){this.doc=this.iframe.contentWindow.document;this.window=this.iframe.contentWindow;q.createStyles(this.doc).add(".mc-outline { outline: 2px solid red !important; }");m(this.doc,"a:click",function(a){a.preventDefault();a.stopPropagation()});this._calculateDimensions();
this.loadedPromise.resolve()},_calculateDimensions:function(){this.isVisible()&&(this.frameWidth||(this.frameWidth=f.get(this.iframe,"width")),this.frameHeight||(this.frameHeight=f.get(this.iframe,"height")),this.contentWidth||(this.contentWidth=this._calculateMaxWidth()))},_highlightEl:function(a){this._unhighlight();e.add(a,"mc-outline")},_unhighlight:function(){n(".mc-outline",this.doc).removeClass("mc-outline")},_calculateMaxWidth:function(){var a=null;n("*",this.doc).forEach(function(b){b=t.position(b).w;
if(!a||a<b)a=b});return a},_scaleFactor:function(a,b){var c=((this.frameWidth-20)/a).toFixed(2),d=((this.frameHeight-20)/b).toFixed(2);return c<d?c:d}});return h([k,d],{templateString:"\x3cdiv\x3e\x3c/div\x3e",campaignId:null,numContents:1,contentFrames:[],selectedFrameIndex:null,selectedLink:null,postMixInProperties:function(){if(!this.campaignId)throw Error("Unable to view content if campaignId is not set.");if(1>this.numContents)throw Error("numContents must at least be 1");},postCreate:function(){for(var a=
0;a<this.numContents;a++)this._createContentFrame(a)},_createContentFrame:function(a){this.contentFrames[a]=new s(this.campaignId,a);c.place(this.contentFrames[a].iframe,this.domNode)},showContent:function(a,c){a!==this.selectedFrameIndex&&a<this.numContents&&(this.selectedFrameIndex=a,b.forEach(this.contentFrames,function(b,c){a==c?b.show():b.hide()}));null==c||"undefined"==typeof c?this._getCurrentFrame().deselectLink():this._getCurrentFrame().selectLink(c);this.onContentChange(a,c)},_getCurrentFrame:function(){return this.contentFrames[this.selectedFrameIndex]},
onContentChange:function(a,b){}})})},"mojo/neapolitan/utils":function(){define("dojo/query dojo/dom-style dojo/dom-construct dojo/_base/array dojo/_base/lang dojo/_base/fx dojox/fx/_base dojox/fx/_core dojo/dom-geometry mojo/utils".split(" "),function(h,k,d,g,b,c,f,l,e,a){var m={extend:function(){var a,c,d,e,f,g=arguments[0]||{},h=1,l=arguments.length,k=!1;"boolean"===typeof g&&(k=g,g=arguments[1]||{},h=2);"object"!==typeof g&&!b.isFunction(g)&&(g={});l===h&&(g=this,--h);for(;h<l;h++)if(null!=(a=
arguments[h]))for(c in a)a.hasOwnProperty(c)&&(d=g[c],e=a[c],g!==e&&(k&&e&&((f=b.isArray(e))||b.isObject(e))?(f?(f=!1,d=d&&b.isArray(d)?d:[]):d=d&&b.isObject(d)?d:{},g[c]=m.extend(k,d,e)):void 0!==e&&(g[c]=e)));return g},dashToCamel:function(a){return a.replace(/(\-[a-z])/g,function(a){return a.toUpperCase().replace("-","")})},cloneWithStyles:function(a){var c=b.clone(a),d=function(a,b){for(var c=k.get(a),e={},f=0;f<c.length;f++){var g=c[f],l=m.dashToCamel(g);e[l]=c.getPropertyValue(g)}k.set(b,e);
var n=h(b).children();h(a).children().forEach(function(a,b){d(a,n[b])})};d(a,c);return c},smoothScroll:function(a){a.target=e.position(a.node);var d=a.target.x,f=a.target.y,g=new c.Animation(b.mixin({beforeBegin:function(){this.curve&&delete this.curve;g.curve=new l([a.win.scrollLeft,a.win.scrollTop],[d-50,f-50])},onAnimate:function(b){a.win.scrollLeft=b[0];a.win.scrollTop=b[1]}},a));return g},createStyles:function(b){var c=b.createElement("style");h("head",b).append(c);var e=[];return{add:function(d){e.push(d);
if(c.styleSheet){var f="";g.forEach(e,function(a){f+=a});c.styleSheet.cssText=f}else h(c).append(d);a.globalPublish("mojo/style-block/updated",[b])},remove:function(){c.styleSheet?c.styleSheet.cssText="":d.destroy(c);a.globalPublish("mojo/style-block/updated",[b])}}}};return m})},"mojo/app/maps/mapmarkers":function(){define("dojo/dom dojo/dom-class dojo/mouse dojo/on dojo/query dojo/ready".split(" "),function(h,k,d,g,b,c){c(function(){var c=mapbox.map("map",mapbox.layer().id("mbtest.map-z3g2xxeh"),
null,[easey_handlers.DragHandler()]),h=mapbox.markers.layer().url("json/mc.geojson").factory(function(c){var a=document.createElement("div");a.className="marker";var f=document.createElement("span");f.className="SF"===c.id?"dot red":"dot";var h=document.createElement("div");h.className="marker-popup";h.innerHTML="\x3cp\x3e"+c.properties.popupText+"\x3c/p\x3e";a.appendChild(f);a.appendChild(h);g(a,d.enter,function(){k.add(b(".marker-popup",this)[0],"hovered")});g(a,d.leave,function(){k.remove(b(".marker-popup",
this)[0],"hovered")});g(a,"click",function(){k.remove(b(".marker-popup"),"hovered");k.add(b(".marker-popup",this)[0],"hovered")});return a});c.addLayer(h).zoom(4).center({lat:33.772553,lon:-84.404995})})})},"mojo/app/lists/DMARCInput":function(){define("dojo/_base/declare dijit/_WidgetBase mojo/url dijit/Dialog dojo/_base/lang dojo/on dojo/query dojo/dom dojo/dom-construct dojo/dom-attr dojo/dom-class dojo/_base/array".split(" "),function(h,k,d,g,b,c,f,l,e,a,m,n){return h([k],{warningClass:"!margin-bottom--lv3",
postCreate:function(){this.errorMessage=e.place('\x3cdiv class\x3d"field-help always-show '+this.warningClass+' hide" data-mc-el\x3d"dmarc-warning"\x3eTo \x3ca href\x3d"http://kb.mailchimp.com/delivery/deliverability-research/about-dmarc" class\x3d"nowrap" target\x3d"_blank"\x3eensure delivery\x3c/a\x3e, we\'ll change your from address to \x3cspan data-mc-el\x3d"addyChange"\x3econtact.yahoo.com@send.mailchimpapp.com\x3c/span\x3e\x3c/div\x3e',this.domNode,"after");a.set(this.domNode,"data-mc-el","dmarc-input");
this.checkDomain();this.own(c(this.domNode,"blur",b.hitch(this,function(){this.checkDomain()})))},checkDomain:function(){var a=this.domNode.value;n.some("@aol @yahoo @ymail @rocketmail @mail.ru @kb.ru @list.ru @inbox.ru".split(" "),function(b){return 0<=a.indexOf(b)})?(f(this.errorMessage).next(".invalid-error").forEach(function(a){m.add(a,"hide")}),f('[data-mc-el\x3d"addyChange"]',this.errorMessage)[0].innerHTML=a.split("@").join(".")+"@send.mailchimpapp.com",m.remove(this.errorMessage,"hide"),m.remove(this.domNode,
"invalid")):m.add(this.errorMessage,"hide")}})})},"mojo/app/lists/SegmentBar":function(){define("dojo/_base/declare dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin mojo/analytics/SubscriberTable mojo/analytics/parts/_Part mojo/analytics/parts/Select dojo/_base/lang dojo/query dojo/on dojo/number dojo/dom-class dojo/dom-construct dojo/dom-attr mojo/url mojo/app/lists/segments dojo/text!./templates/segmentBar.html dojox/html/entities".split(" "),function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s){return h([b,
k,d],{templateString:r,segmentList:null,listId:null,mode:"view",postMixInProperties:function(){this.inherited(arguments);if(!this.segmentList)throw Error("Must have a reference to a segmentList");if(!this.listId)throw Error("Must have a listId");},init:function(){this.own(e(this.editAction,"click",f.hitch(this,"onEditAction")),e(this.closeAction,"click",f.hitch(this,"onCloseAction")),e(this.rerunAction,"click",f.hitch(this,"onRerunAction")),e(this.saveAction,"click",f.hitch(this,"onSaveAction")),
e(this.createAction,"click",f.hitch(this,"onCreateAction")));this.segmentList.setDropDownButton(this.segmentsBtn);this.segmentList.on("overlayShow",f.hitch(this,function(){m.add(this.segmentsBtn,"active")}));this.segmentList.on("overlayHide",f.hitch(this,function(){m.remove(this.segmentsBtn,"active")}));this.target.watch(f.hitch(this,function(a,b,c){switch(a){case "total":case "refreshing":this._updateStatusMessage();break;case "segment":this._toggleActions(),this._updateStatusMessage()}}));this._updateStatusMessage();
this._toggleActions();this._initSubscriberFilter()},editSegmentMode:function(){m.add(this.leftNavContainer,"hide");this.set("mode","edit");this._toggleActions();this._updateStatusMessage()},viewSegmentMode:function(){m.remove(this.leftNavContainer,"hide");this.set("mode","view");this._toggleActions();this._updateStatusMessage()},_initSubscriberFilter:function(){this.subscriberFilter=new c({alwaysVisible:!0,syncAttr:"emailStatus",target:"member-grid",values:[[g.EMAIL_STATUS.ACTIVE,"All Subscribers"],
[g.EMAIL_STATUS.UNSUB,"Unsubscribed"],[g.EMAIL_STATUS.BOUNCED,"Cleaned"],[g.EMAIL_STATUS.TRANSACTIONAL,"Transactional"]]});this.subscriberFilter.startup();this.subscriberFilter.placeAt(this.subscriberFilterContainer)},_toggleActions:function(){var a=this.target.segment,b=a&&a.hasOwnProperty("id"),b=this._isSavedSegment()||!b,c=a&&!a.hasOwnProperty("id"),d=a&&"advanced"==a.type;switch(this.mode){case "view":m.toggle(this.closeAction,"hide",!a);d?m.toggle(this.editAction,"hide","started"==a.status):
m.toggle(this.editAction,"hide",!a||!b);m.toggle(this.saveAction,"hide",!c);m.toggle(this.moreActions.domNode,"hide",!a);m.toggle(this.rerunAction,"hide",!(d&&"started"!=a.status));m.toggle(this.btnContainer,"hide",d);break;case "edit":m.remove(this.closeAction,"hide"),m.add(this.rerunAction,"hide"),m.add(this.editAction,"hide"),m.add(this.saveAction,"hide"),m.add(this.moreActions.domNode,"hide"),m.add(this.btnContainer,"hide")}},_toggleDiscoverSimilarSubscribers:function(){var a=this.target.segment;
m.toggle(this.dssAction.domNode,"hide",!(a&&("saved"==a.type||"static"==a.type)))},_updateStatusMessage:function(){this._showIcon();switch(this.mode){case "view":this._updateViewStatusMessage();break;case "edit":this._updateEditStatusMessage()}},_updateViewStatusMessage:function(){var b="",c=this.target.segment;if(c){var d=c.name?c.name:"New segment";switch(c.status){case "started":this._showIcon("load");b=s.encode(d)+" is generating...";break;case "errored":this._showIcon("error");b=s.encode(d)+
" failed to generate.";break;default:var d=this.target.get("total"),e=a.format(d),f="contact"+(0==d||1<d?"s":"");c.name?(e=e+" "+f+(c.lastRunTimeAgo?" \x26bull; Last ran "+c.lastRunTimeAgo:""),0<=d&&(b=s.encode(c.name)+' \x3cspan class\x3d"fwn padding--lv1 !padding-top-bottom--lv0 !padding-right--lv0"\x3e'+e+"\x3c/span\x3e")):b=e+" "+f+" match"+(1==d?"es":"")+" your conditions."}}this.statusMessage.innerHTML=b},_updateEditStatusMessage:function(){var a;a=this._isSavedSegment()?"Editing "+this.target.segment.name:
"Create a new segment";this.statusMessage.innerHTML=a},_showIcon:function(a){m.toggle(this.loadIcon.domNode,"hide","load"!=a);m.toggle(this.errorIcon,"hide","error"!=a);m.toggle(this.successIcon,"hide","success"!=a)},onSendAction:function(){var a=this.target.segment,b=a&&a.hasOwnProperty("id"),c={list_id:this.listId};"advanced"==a.type?c.pro_segment_id=a.id:b?c.segment_id=a.id:c.segment=1;window.location=t.toUrl("campaigns/create",c)},onAdAction:function(){this._createAdFromSegment(this.target.segment,
!1)},onLookalikeAction:function(){this._createAdFromSegment(this.target.segment,!0)},_createAdFromSegment:function(a,b){var c=this.listId,d=function(a){a={list_id:c,lookalike:b,source_id:a.type.concat(":",a.id)};window.location=t.toUrl("/ads/create",a)};!a.id||!a.type?q.confirmSave(c).then(f.hitch(this,function(a){d(a)})):d(a)},onCloseAction:function(){switch(this.mode){case "view":this.target.clearSegment();break;case "edit":_mc.closeAdvancedSegment(),_mc.cancelSegment()}_mc._toggleSegmentAd(!1)},
onSaveAction:function(){_mc.saveNewSegment();_mc._toggleSegmentAd(!1)},onEditAction:function(a){a.stopPropagation();a.preventDefault();_mc.editSegment()},onRerunAction:function(a){a.stopPropagation();a.preventDefault();this._isAdvancedSegment()&&_mc.rerunAdvancedSegment()},onCreateAction:function(a){a.stopPropagation();a.preventDefault();_mc.newSegment()},_isSavedSegment:function(){var a=this.target.segment;return a&&a.hasOwnProperty("id")&&a.hasOwnProperty("type")&&"saved"==a.type},_isAdvancedSegment:function(){var a=
this.target.segment;return a&&a.hasOwnProperty("type")&&"advanced"==a.type},canDisplay:function(){return!0}})})},"mojo/analytics/SubscriberTable":function(){define("dojo/_base/declare dijit/_Widget dijit/_Templated dojo/_base/array dojo/_base/lang dojo/dom-construct dojo/dom-class dojo/dom-attr dojo/on dojo/request dojo/text!./templates/listMembersTable.html dojo/text!./templates/noData.html dojo/text!./templates/noDataCT.html dojo/parser dojo/Deferred ./parts/VisRowSelector ./parts/Paging ./parts/PageSizeSelect ./_SelectableMixin dojox/mvc/sync dojox/html/entities dojo/query dojo/topic dojo/hash dojo/dom-geometry dijit/registry mojo/user mojo/utils mojo/widgets/CircularLoader dojo/sniff dojo/NodeList-traverse".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s,v,w,u,y,x,A,C,D,E,G,H,M,J){var S={ACTIVE:"Y",BOUNCED:"B",UNSUB:"N",TRANSACTIONAL:"T"};h=h([k,d,w],{templateString:m,showPagination:!0,persistTableSettings:!0,page:1,canSelectAll:!0,dataUrl:null,segment:null,headers:null,rows:null,emailStatus:S.ACTIVE,sortAttr:null,sortAsc:null,refreshing:!1,constructor:function(){this._syncs=[]},postMixInProperties:function(){this._toggleSelectAll();this.options=b.mixin({pageSize:G.settings.pageSize},this.options);this._reloadNoDataMsg();
this._setDefaults()},toggleAll:function(a){for(var b in this.selected)this._validValue(b)&&!this._valueDisabled(b)&&this.selected.set(b,a)},_valueDisabled:function(a){if(a=x('input[value\x3d"'+a+'"]',this.domNode)[0])return E.byNode(a.parentNode).disabled},_reloadNoDataMsg:function(){var a="egg";if(this.srcNodeRef){var c=l.get(this.srcNodeRef,"data-mojo-nodataicon");c&&(a=c)}this.noDataMsg=this.options.noDataDom?x(this.options.noDataDom).html():this.options.noDataMsg||b.replace(p,{icon:a})},_setDefaults:function(){if(this.persistTableSettings){var a=
C();a&&(a=a.split("-"))&&a.length&&g.forEach(a,b.hitch(this,function(a){a=a.split(":");switch(a[0]){case "p":this.page=parseInt(a[1],10);break;case "s":this.pageSize=parseInt(a[1],10);break;case "sa":this.sortAttr=a[1];break;case "so":this.sortAsc="true"==a[1]}}));0>=this.page&&(this.page=1);100<this.pageSize&&(this.pageSize=100);this.pageSize||(this.pageSize=this.options.pageSize);this.pageSize||(this.pageSize=25);"undefined"!==typeof this.sortAttr&&"undefined"==typeof this.sortAsc&&(this.sortAsc=
!1)}},_persistSettings:function(){if(this.persistTableSettings){var a=[];a.push("p:"+this.page);a.push("s:"+this.pageSize);this.sortAttr&&a.push("sa:"+this.sortAttr);"undefined"!==typeof this.sortAsc&&a.push("so:"+this.sortAsc);C(a.join("-"),!0);G.saveSetting("vis_grid_page_size",this.pageSize)}},postCreate:function(){this.showPagination&&(this.topPaging&&(this.topPaging=new s({target:this},this.topPaging)),this.topPageSizeSelect&&(this.topPageSizeSelect=new v({target:this},this.topPageSizeSelect)),
this.bottomPaging&&(this.bottomPaging=new s({target:this},this.bottomPaging)),this.bottomPageSizeSelect&&(this.bottomPageSizeSelect=new v({target:this},this.bottomPageSizeSelect)));this._initSort();this.watch("page",b.hitch(this,function(){this.refresh(!1)}));this.watch("pageSize",b.hitch(this,function(){1==this.page?this.refresh(!1):this.set("page",1)}));this.options.wait||this.refresh();this.watch("emailStatus",b.hitch(this,function(){this.set("page",1);this.requery()}));this.watch("segment",b.hitch(this,
function(){this._toggleSelectAll();var a=this.segment;a&&"started"==a.status?this.showLoader():(this.set("page",1),this.requery())}));this._instantiateFloatingHeader();this.loader=new M({color:"#6dc5dc",bgColor:"#d0d0d0"});this.loader.startup();this.loader.placeAt(this.loaderDom)},requery:function(){this.refresh(!0)},refresh:function(a){var b=this;if(this.refreshing)return!1;this.set("refreshing",!0);this.showLoader();var c=new q,d=1E3;(function ea(){b._fetchData().then(function(e){switch(e.status){case "waiting":d=
Math.ceil(1.15*d);1E4<d&&(d=1E4);setTimeout(ea,d);break;case "success":b._onFinishedData(e,a),c.resolve(e)}})})();return c.promise},_onFinishedData:function(a,b){this.segment&&"started"==this.segment.status&&(this.segment.status="finished");this.set("total",a.count);this.total?(this._toggleNoData(!1),this._persistSettings(),this._removeState(b),this._renderTable(b),this.set("refreshing",!1),this.hideLoader(),D.docScroll().y>this.topPosition&&x(".table-pagination")[0].scrollIntoView()):(this.set("refreshing",
!1),this._toggleNoData(!0),this._publishReadyEvent())},_fetchData:function(){var c=a.get(this.dataUrl,{query:{page:this.page,page_size:this.pageSize,email_status:this.emailStatus,sort_attr:this.sortAttr,sort_asc:this.sortAsc,use_segment:null!==this.segment},handleAs:"json"});c.then(b.hitch(this,function(a){this.headers=a.headers;this.rows=a.rows}));return c},showLoader:function(){f.add(this.subscriberTableOverlay,"loading")},hideLoader:function(){f.remove(this.subscriberTableOverlay,"loading")},showSubscribers:function(){this.set("emailStatus",
S.ACTIVE)},showBounces:function(){this.set("emailStatus",S.BOUNCED)},showUnsubscribes:function(){this.set("emailStatus",S.UNSUB)},showTransactional:function(){this.set("emailStatus",S.TRANSACTIONAL)},setSegment:function(a){this.set("segment",a)},clearSegment:function(){this.set("segment",null)},clearSelectionModel:function(a){for(var b in this.selected)if(this.selected.hasOwnProperty(b)&&this._validValue(b)&&(a||!this._valueSelected(b)))this.selected.set(b,!1),delete this.selected[b]},_toggleSelectAll:function(){this.set("canSelectAll",
!this.segment)},_toggleNoData:function(a){var b;b=this.options.noMembersMsg&&!this.segment&&this.emailStatus==S.ACTIVE?this.options.noMembersMsg:this.noDataMsg;a?(f.add(this.dataTable,"hide"),f.remove(this.noData,"hide"),c.place("\x3cdiv\x3e"+b+"\x3c/div\x3e",this.noData,"only")):(f.remove(this.dataTable,"hide"),f.add(this.noData,"hide"))},_renderTable:function(a){var d=this,e=d.rows.length;if(0===e)d.set("total",0),d._toggleNoData(!0),f.add("hide",x(".subscriber-table-wrap")[0]);else{this._publishReadyEvent();
c.empty(d.accessibleTableHeader);c.empty(d.accessibleTable);var h=[],k=c.create("tr");g.forEach(d.headers,function(a){var b;switch(a.id){case "bulk_check":b=c.create("td",{"class":"col-head row-head row-select",role:"columnheader",innerHTML:a.label},k);5<e&&c.create("div",{"class":"vis-row-selector"},b);break;case "email_link":case "view_activity_link":b=c.create("td",{"class":"col-head row-head",role:"columnheader",innerHTML:a.label},k);break;case "list_email_id":break;default:b=c.create("td",{"class":"col-head",
role:"columnheader",innerHTML:y.encode(a.label)},k)}a.sortable&&(l.set(b,"data-mojo-table-sort",a.id),f.add(b,"sortable"),d.sortAttr===a.id&&d._addSortClass(b))});"bulk_check"!==d.headers[0].id?(f.add(d.accessibleTableHeader,"no-checkbox"),f.add(d.accessibleTable,"no-checkbox")):(f.remove(d.accessibleTableHeader,"no-checkbox"),f.remove(d.accessibleTable,"no-checkbox"));1===d.headers.length&&(f.add(d.accessibleTableHeader,"email-only"),f.add(d.accessibleTable,"email-only"));g.forEach(d.rows,function(a){var b=
c.create("tr"),e,f;e=0;g.forEach(d.headers,function(h){if(a.hasOwnProperty(h.id))switch(h=h.id,h){case "email_link":case "view_activity_link":f=c.create("td",{"class":"row-head",title:"View Profile"});h=c.create("div",{"class":"profile-view",innerHTML:a[h]},f);c.place(h,f);c.place(f,b);e++;break;case "bulk_check":var l=c.toDom(a.email_link);c.create("td",{"class":"row-head profile-select",innerHTML:a[h],title:"Email address: "+l.innerHTML},b);e++;break;case "rating":c.create("td",{innerHTML:a[h],
title:"Member Rating"},b);e++;break;default:0>g.indexOf(d.options.blacklist,h)&&("string"==typeof a[h]&&-1!=a[h].indexOf("\x3cbr")?(l=c.create("td",{title:d.headers[e].label},b),c.create("div",{"class":"address",innerHTML:a[h]},l)):c.create("td",{innerHTML:a[h],title:d.headers[e].label},b)),e++}});h.push(b)});5<e?(c.place(k,d.accessibleTableHeader),f.remove(x(".fixed-header")[0],"hide"),f.remove(x(".table-body")[0],"few-rows")):(c.place(k,d.accessibleTable),f.add(x(".fixed-header")[0],"hide"),f.add(x(".table-body")[0],
"few-rows"));g.forEach(h,function(a){c.place(a,d.accessibleTable)});t.parse(d.accessibleTable);d.resize();d.rowSelector&&d.rowSelector.destroyRecursive();d.rowSelector=new r({target:d,canSelectAll:d.canSelectAll},x(".vis-row-selector",d.accessibleTableHeader)[0]);d.rowSelector=new r({target:d,canSelectAll:d.canSelectAll},x(".vis-row-selector",d.accessibleTable)[0]);x(".selectCheckBox",this.domNode).forEach(b.hitch(this,function(b){b=E.byNode(b);if(!a&&(!0==d.selected[b.value]||!0==d.allAll)){var c=
b.disabled;b.set("checked",!c);d.selected[b.value]=!c}else d.selected[b.value]=!1;d._syncs.push(u(d.selected,b.value,b,"checked"))}))}},setTopPosition:function(){var a=H.getTabletNaviHeight();this.topPosition=1024>=window.innerWidth?D.position(x(".st")[0],!0).y-a:D.position(x(".st")[0],!0).y},resize:function(){var a=0;if(5<this.rows.length){var b=x("td",x(".table-header tr")[0]),c=x("td",x(".table-contents tr")[0]),d=b.map(function(a){return a.clientWidth}),e=c.map(function(a){return a.clientWidth});
g.forEach(b,function(a,b){var c=Math.max(e[b],d[b]);a.style.width=c+"px";a.style.minWidth=c+"px"});g.forEach(c,function(f,g){var h=Math.max(d[g],e[g]);f.style.width=h+"px";f.style.minWidth=h+"px";if(g===c.length-1){var l=x(".table-body")[0],k=x(".table-contents")[0];a=l.clientWidth-k.clientWidth-h;a>h?(f.style.width="100%",b[g].style.width="100%"):f.style.width=h+"px"}})}else{var c=x("td",x(".table-contents tr")[0]),f=x(".table-body")[0],h=x(".table-contents")[0],l=c[c.length-1],a=f.clientWidth-h.clientWidth-
l.clientWidth;0<a&&(l.style.width="100%")}},_initSort:function(){var a=this;this.own(e(a.domNode,".sortable:click",function(){if(!a.refreshing){var b=a.sortAttr;a.sortAttr=l.get(this,"data-mojo-table-sort");a.sortAsc=b!=a.sortAttr?!0:!a.sortAsc;a._addSortClass(this);a.requery()}}))},_addSortClass:function(a){x("th, .h-head").removeClass("sort-a sort-d sorted");f.add(a,this.sortAsc?"sort-a sorted":"sort-d sorted")},_instantiateFloatingHeader:function(){var a=this,b=0;e(window,"resize",function(){var c=
x("td",x(".table-header tr")[0]),d=x("td",x(".table-contents tr")[0]),e=x(".table-body")[0],f=x(".table-contents")[0];d[d.length-1].style.width=0;c[c.length-1].style.width=0;var g=Math.max(c[c.length-1].clientWidth,d[d.length-1].clientWidth);b=e.clientWidth-f.clientWidth-g;J("chrome")&&(b-=6);b>g?(c[c.length-1].style.width=b+"px",d[d.length-1].style.width=b+"px"):(c[c.length-1].style.width=g+"px",d[d.length-1].style.width=g+"px");a._stickyHeader()});e(window,"scroll",function(){a._stickyHeader()});
a.scrollCache=0;e(a.accessibleTableBody,"scroll",function(){this.scrollLeft!==a.scrollCache&&(a.accessibleTableHeaderBody.scrollLeft=this.scrollLeft,a.scrollCache=this.scrollLeft)});a.accessibleTableHeaderBody&&e(a.accessibleTableHeaderBody,"scroll",function(){this.scrollLeft!==a.scrollCache&&(a.accessibleTableBody.scrollLeft=this.scrollLeft,a.scrollCache=this.scrollLeft)})},_stickyHeader:function(){var a=x(".subscriber-table")[0],b=x(".main")[0],c=x(".content")[0],d=x(".fixed-header")[0],a=D.position(a);
a.h&&(b=D.position(b?b:c),60>a.y&&d?(f.add(d,"sticky"),d.style.top=1024>=window.innerWidth?-1*b.y+60+"px":"60px"):(d.style.top=0,f.remove(d,"sticky")))},_removeState:function(a){g.forEach(this._syncs,"item.remove();");this._syncs=[];this.clearSelectionModel(a)},_publishReadyEvent:function(){A.publish("mojo/analytics/"+this.id+"/ready")}});h.EMAIL_STATUS=S;return h})},"mojo/app/lists/segments":function(){define("dojo/parser dojo/query dojo/_base/lang dojo/dom-form dojo/dom-construct dojo/request dojo/Deferred dijit/registry dojo/_base/array mojo/url dijit/Dialog dojo/NodeList-manipulate".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m){var n=function(d,f,m){k(".cancel-button",d.domNode).on("click",function(a){a.stopPropagation();a.preventDefault();d.hide()});k("form",d.domNode).on("submit",function(k){k.stopPropagation();k.preventDefault();var s=this;c.post(a.toUrl(m),{data:g.toObject(s),sync:!0,handleAs:"text"}).response.then(function(a){"application/json"==a.getHeader("Content-Type")?(f.resolve(JSON.parse(a.data)),d.hide()):(e.forEach(l.findWidgets(s),function(a){a.destroyRecursive()}),b.place(a.data,
d.containerNode,"only"),h.parse(d.domNode),n(d,f,m))})})};return{confirmSave:function(b,c){var d=new f,e=new m({title:"Save Segment",onDownloadEnd:function(){n(e,d,"lists/segments/save-dialog-post")},onHide:function(){e.destroyRecursive()}});e.setHref(a.toUrl("lists/segments/save-dialog",{id:b,segment_id:c}));e.show();return d.promise},updateSavedSegment:function(b,d,e){return c.post(a.toUrl("lists/segments/update-saved-segment"),{handleAs:"json",data:{id:b,segment_id:d,segment_name:e}})},getEditor:function(b,
e){e||(e={});var f=d.mixin({id:b},e);return c.post(a.toUrl("lists/segments/editor"),{data:f,handleAs:"text"})},deleteSegment:function(b,d){return c.post(a.toUrl("lists/segments/delete"),{data:{id:b,ids:d,as_json:!0},handleAs:"json"})},storeSegment:function(b,d){return c.post(a.toUrl("lists/segments/members/store",{list_id:b}),{data:d,handleAs:"json",sync:!0})}}})},"mojo/app/lists/SegmentDropDown":function(){define("dojo/_base/declare mojo/analytics/parts/_Part dijit/_Templated dojox/mvc/StatefulArray dojo/text!./templates/segmentDropDown.html dojo/_base/lang dojo/_base/array dojo/query dojo/dom-construct dojo/dom-style dojo/dom-attr dojo/on dojo/request/xhr mojo/app/lists/segments dojo/ready dijit/form/DropDownButton dijit/TooltipDialog dojo/NodeList-manipulate".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q){return h([k,d],{templateString:b,widgetsInTemplate:!0,segmentRow:'\x3cli data-segment-id\x3d"{id}" class\x3d"selfclear"\x3e{name}\x3cbr/\x3e\x3cspan class\x3d"small-meta dim-el"\x3e{typeDescription} \x26middot; Created {createdDate}\x3c/span\x3e\x3c/li\x3e',listId:null,constructor:function(){this._watches=[];this.segmentMap={}},uninitialize:function(){f.forEach(this._watches,function(a){a.unwatch()});this._watches=[];this.inherited(arguments)},postMixInProperties:function(){this.segments=
new g(this.segments&&this.segments.length?c.clone(this.segments):[]);if(!this.listId)throw Error("listId is not set on SegmentDropDown");},init:function(){var b=this;this.dropdown.dropDown=this.segmentsMenu;0<this.segments.length&&a.set(this.emptyMessage,"display","none");var d=null;this.target.segment&&this.target.segment.id&&(d=this.target.segment.id);f.forEach(this.segments,c.hitch(this,function(a){this.segmentMap[a.id]=a;var b=e.place(c.replace(this.segmentRow,a),this.segmentsList);d==a.id&&l(b).addClass("selected")}));
n(this.segmentsList,"li:click",function(){var a=m.get(this,"data-segment-id");t.getEditor(b.listId,{segment_id:a,store:!0}).then(function(c){l("#segment-form-"+this.listId).replaceWith(c);b.target.setSegment(b.segmentMap[a]);b.target.set("page",1);b.target.requery()});b.dropdown.closeDropDown()});n(this.newBtn,"click",function(a){a.stopPropagation();a.preventDefault();t.getEditor(b.listId,{clear:!0}).then(function(a){l("#segment-form-"+this.listId).replaceWith(a);b.target.clearSegment();window.toggleSegment(!0)});
b.dropdown.closeDropDown()});this.target.watch("segment",c.hitch(this,function(a,b,c){this.deselect();c&&c.id&&this.select(c.id)}));q(function(){if(640>=window.innerWidth){var a=window.innerHeight-128;b.segmentsList.style.maxHeight=66*(b.segments.length+1)>a?parseInt(a-30,10)+"px":"inherit";n(b.closeSegmentMenu,"click",function(){b.dropdown.closeDropDown()})}})},select:function(a){this.deselect();parseInt(a)&&(a=this._getDomRow(a));l(a).addClass("selected")},deselect:function(){l("li.selected",this.segmentsLists).removeClass("selected")},
_getDomRow:function(a){return l('li[data-segment-id\x3d"'+a+'"]',this.segmentsList)},updateSegment:function(a){if(a.id){var b=c.replace(this.segmentRow,a);this._getDomRow(a.id).replaceWith(b);c.mixin(this.segmentMap[a.id],a);this.target.segment&&(this.target.segment.id&&this.target.segment.id==a.id)&&this.select(a.id)}},canDisplay:function(){return!0}})})},"mojo/app/lists/SegmentListOverlay":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/_FocusMixin dijit/form/ComboButton dijit/DropDownMenu dijit/MenuItem mojo/analytics/parts/_Part mojo/widgets/LocalNavGroup mojo/widgets/ButtonGroup mojo/widgets/CircularLoader dojo/text!./templates/segmentListOverlay.html dojo/text!./templates/segmentListOverlay/pane.html dojo/text!./templates/segmentListOverlay/row.html dojo/query dojo/on dojo/touch dojo/dom-class dojo/_base/array dojo/_base/lang dojo/dom-construct dojo/dom-attr mojo/app/lists/segments mojo/app/pro/segment mojo/user mojo/url".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s,v,w,u,y,x,A,C,D,E,G){var H=h([k,d],{templateString:q,segment:null,actions:null,actionLabelTpl:'\x3cspan\x3e\x3ca href\x3d"#"\x3e{label}\x3c/a\x3e\x3c/span\x3e',loadingInfoTpl:"",infoTpl:'\x3cspan class\x3d"fwb"\x3eCreated\x3c/span\x3e on {createdDate}',loader:null,postCreate:function(){this.on("click",y.hitch(this,function(){this.onSelect()}));this.own(s(this.deleteAction,"click",y.hitch(this,"onDelete")));this._updateInfo()},_updateInfo:function(){switch(this.segment.status){case "started":this.loader=
new n({loaderSize:20,strokeWidth:3,color:"#6dc5dc",bgColor:"#d0d0d0","class":"inline-block valign-middle padding--lv1 !padding-left--lv0 !padding-bottom--lv0"});this.loader.placeAt(this.infoContainer);x.place('\x3cspan class\x3d"fwb"\x3eYour segment is generating...\x3c/span\x3e',this.infoContainer);w.add(this.deleteAction,"hide");break;case "errored":var a='\x3cspan class\x3d"fwb"\x3eCreated\x3c/span\x3e on '+this.segment.createdDate;this.segment.lastRunTimeAgo&&(a+=" \x26bull; Failed to run "+this.segment.lastRunTimeAgo);
x.place(a,this.infoContainer);w.remove(this.deleteAction,"hide");break;case "finished":a='\x3cspan class\x3d"fwb"\x3eCreated\x3c/span\x3e on '+this.segment.createdDate,this.segment.lastRunTimeAgo&&(a+=" \x26bull; Last ran "+this.segment.lastRunTimeAgo),x.place(a,this.infoContainer),w.remove(this.deleteAction,"hide")}},onDelete:function(a){a.preventDefault();a.stopPropagation();_mc.confirmDeleteSegment(this.segment)},onSelect:function(){},destroy:function(){this.inherited(arguments);this.loader&&this.loader.destroy()}}),
M=h([k,d],{templateString:t,listId:null,segments:null,rows:null,segmentType:null,postMixInProperties:function(){this.rows={};this.segments||(this.segments=[])},postCreate:function(){r('[data-mc-group\x3d"addStaticSegment"]',this.domNode).forEach(y.hitch(this,function(a){A.set(a,"href",G.toUrl("/lists/segments/new",{id:this.listId,type:"static"}))}));this._toggleNoData();u.forEach(this.segments,y.hitch(this,function(a){var b=this._createRow(a);b.placeAt(this.segmentList);this.rows[a.id]=b}))},_toggleNoData:function(){w.add(this.advancedNoData,
"hide");w.add(this.advancedNotPro,"hide");w.add(this.staticNoData,"hide");w.add(this.savedNoData,"hide");if(!this.segments.length)switch(this.segmentType){case "advanced":E.pro&&(w.remove(this.advancedNoData,"hide"),this._toggleAdvancedDataLoading());break;case "static":w.remove(this.staticNoData,"hide");break;case "saved":w.remove(this.savedNoData,"hide")}"advanced"==this.segmentType&&!E.pro&&w.remove(this.advancedNotPro,"hide")},_toggleAdvancedDataLoading:function(){w.toggle(this.advancedDataLoading,
"hide",E.pro_import_complete);w.toggle(this.advancedDataLoadingComplete,"hide",!E.pro_import_complete);E.pro_import_complete||(this.advancedLoader=new n({loaderSize:36,strokeWidth:3,color:"#6dc5dc",bgColor:"#d0d0d0","class":"inline-block valign-middle padding--lv1 !padding-left--lv0 !padding-bottom--lv0"}),this.advancedLoader.placeAt(this.advancedDataLoadingLoader))},_createRow:function(a){var b=new H({segment:a});b.startup();b.on("select",y.hitch(this,function(){this.onSelect(b.segment)}));return b},
updateSegmentRow:function(a){var b=this.rows[a.id],c=this._createRow(a);b?(x.place(c.domNode,b.domNode,"replace"),b.destroy()):(x.place(c.domNode,this.segmentList,"first"),this.segments.unshift(a));this.rows[a.id]=c;this._toggleNoData()},removeSegmentRow:function(a){var b=this.rows[a.id];b&&(delete this.rows[a.id],b.destroy());a=this.segments.indexOf(a);-1<a&&this.segments.splice(a,1);this._toggleNoData()},hide:function(){w.add(this.domNode,"hide")},show:function(){w.remove(this.domNode,"hide")},
showAddAction:function(){return"static"!=this.segmentType&&0<this.segments.length},showStaticAddAction:function(){return"static"==this.segmentType&&0<this.segments.length},createNewSegment:function(a){a.stopPropagation();a.preventDefault();switch(this.segmentType){case "saved":_mc.newSegment();break;case "advanced":_mc.openAdvancedSegment()}},onSelect:function(a){},onDelete:function(a){}});return h([e,d,g,b],{templateString:p,listId:null,segments:null,segmentsPanes:null,dropDownButton:null,_dropDownHandler:null,
postMixInProperties:function(){this.segmentsPanes={}},postCreate:function(){this._createSegmentPane("advanced");this._createSegmentPane("saved");this._createSegmentPane("static");this._createTabs();this.inherited(arguments)},show:function(){w.remove(this.domNode,"hide");this._focusManager.focus(this.domNode);this.onOverlayShow()},hide:function(){w.contains(this.domNode,"hide")||(w.add(this.domNode,"hide"),this._onBlur(),this.onOverlayHide())},toggle:function(){w.contains(this.domNode,"hide")?this.show():
this.hide()},setDropDownButton:function(a){this._dropDownHandler&&this._dropDownHandler.remove();this.dropDownButton=a;this._dropDownHandler=s(this.dropDownButton,v.press,y.hitch(this,function(a){a.preventDefault();a.stopPropagation();this.toggle()}))},updateSegment:function(a){var b=a.type;"fuzzy"==b&&(b="static");this.segmentsPanes[b]&&this.segmentsPanes[b].updateSegmentRow(a)},removeSegment:function(a){var b=a.type;this.segmentsPanes[b]&&this.segmentsPanes[b].removeSegmentRow(a)},findSegment:function(a,
b){var c=null;u.some(this.segmentsPanes[b].segments,function(b){return b.id==a?(c=b,!0):!1});return c},_onBlur:function(){this.inherited(arguments);this.hide()},_createTabs:function(){var a=[];a.push({label:"Auto-update",value:"saved"});a.push({label:"Advanced",value:"advanced"});a.push({label:"Static",value:"static"});this.tabs=new m({options:a,templateString:'\x3cul class\x3d"flex"\x3e\x3c/ul\x3e',itemTpl:'\x3cli class\x3d"c-buttonGroupItem"\x3e\x3cbutton type\x3d"button" data-mc-value\x3d"{value}" title\x3d"{title}" class\x3d"c-buttonGroupButton v-buttonGroupUnderlined"\x3e{label}\x3c/button\x3e\x3c/li\x3e',
activeClass:"v-buttonGroupUnderlined--active"});this.tabs.startup();this.tabs.placeAt(this.tabsContainer);this.tabs.on("change",y.hitch(this,"_toggleSegmentPane"));this.tabs.setSelected(a[0].value)},_toggleSegmentPane:function(a){for(var b in this.segmentsPanes){var c=this.segmentsPanes[b];a==b?c.show():c.hide()}},_createSegmentPane:function(a){var b=new M({listId:this.listId,segments:this.segments[a],segmentType:a});b.startup();b.on("select",y.hitch(this,"_onSegmentSelect"));b.hide();b.placeAt(this.tabSections);
this.segmentsPanes[a]=b},_onSegmentSelect:function(a){"finished"!=a.status?this.target.setSegment(a):_mc.selectSegment(a);this.hide()},canDisplay:function(){return!0},onOverlayShow:function(){},onOverlayHide:function(){}})})},"mojo/app/lists/interests":function(){define("dojo/_base/array dojo/_base/lang dojo/dom dojo/dom-class dojo/dom-style dojo/dom-attr dojo/html dojo/mouse dojo/on dojo/query dojo/dom-construct dojo/parser dojo/ready dojo/NodeList-traverse".split(" "),function(h,k,d,g,b,c,f,l,e,
a,m,n,p){var t={group_ct:0,group_markup:'\x3cli id\x3d"new-group-row-{idx}" class\x3d"dojoDndItem interest-groups-ctr descending-tree selfclear padding--lv3 !padding-top--lv0 !padding-right--lv0"\x3e                 \x3cspan class\x3d"freddicon vellip dojoDndHandle inline-block valign-middle"\x3e\x3c/span\x3e                \x3cdiv class\x3d"inline-block dnd-input-container"\x3e                    \x3cinput tabindex\x3d"{idx}" type\x3d"text" placeholder\x3d"Group name" class\x3d"interest-edit !margin--lv0" placeholder\x3d"{name}"\x3e                \x3c/div\x3e                \x3cdiv class\x3d"add-delete-container inline-block margin--lv2 !margin-top-bottom--lv0 !margin-right--lv0 valign-middle"\x3e                    \x3cspan class\x3d"remove-group freddicon remove-circle cursor-pointer" title\x3d"Delete group"\x3e\x3c/span\x3e                \x3c/div\x3e            \x3c/li\x3e',
addGroup:function(b,c){if(60<=a(".interest-groups-ctr").length)alert("You cannot have more than 60 interest groups per list");else{b||(b="");var e=k.replace(this.group_markup,{name:b,idx:this.group_ct}),e=m.place(m.toDom(e),d.byId("new-interest-grouping"),"last");n.parse(e);a("input",e)[0].focus();this.group_ct++;setTimeout(function(){new_group_list.clearItems();new_group_list.startup()},100)}},removeGroup:function(b){g.contains(b.target,"remove-group")&&(b=a(b.target).parents("li.interest-groups-ctr")[0])&&
b.parentNode.removeChild(b)}};p(function(){t.group_ct=a(".interest-groups-ctr").length;e(d.byId("add-interest"),"click",function(){t.addGroup("",!0)});e(d.byId("new-interest-grouping"),"click",t.removeGroup)})})},"mojo/app/lists/members":function(){define("dojo/parser dojo/dom dojo/dom-attr dojo/query dojo/_base/lang dojo/_base/array dojo/dom-form dojo/dom-construct dojo/dom-style dojo/request/xhr dojo/ready dojo/on dojo/fx mojo/url dijit/registry dojo/topic dijit/Dialog velocity/velocity dojo/NodeList-manipulate mojo/widgets/ConfirmInput".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s,v){var w=null,u=[],y=null,x={showBulkDialog:function(a,c){var d=new s({title:"Are you sure?",onHide:function(){d.destroyRecursive()},onDownloadEnd:function(){A(d)}}),e=t.toUrl("lists/bulk-action-confirm",b.mixin({id:a},c));d.setHref(e);d.show()},confirmBulkAction:function(a){var b=Array.prototype.slice.apply(arguments).slice(1);this.confirmBulkActionWithParameters(a,listId,!0,!1,null,b)},confirmBulkActionWithParameters:function(a,b,c,d,e,f){"undefined"==
typeof f&&(f=[]);var g={id:b,action:a,"params[]":f};c&&(c=q.byId("member-grid"),g.members=c.allAll?"all":c.getSelection().length);d&&(g.members="all");w=a;u=f;y=e;this.showBulkDialog(b,g)},bulkAction:function(a){var b=q.byId("member-grid");a={id:a,action:w,"params[]":u};!b||b.allAll?a.members="all":a["members[]"]=b.getSelection();dojo.xhrPost({url:t.toUrl("lists/bulk-action"),content:a,handleAs:"json",load:function(a){var c,d;b&&b.toggleAll(!1);a.error?(c=dojo.byId("bulk-error"),d=dojo.query(".bulk-msg-error")[0],
d.innerHTML=a.error):a.error_msg?(d=dojo.query(".bulk-msg-error")[0],d.innerHTML=a.error_msg):(c=dojo.byId("bulk-success"),d=dojo.query(".bulk-msg-success")[0],d.innerHTML=a.msg,y&&y());a.done&&q.byId("member-grid")&&q.byId("member-grid").requery();v(c,"stop");v(c,{maxHeight:["400px","easeIn",0]},{duration:225,display:"block"});setTimeout(function(){v(c,"stop");v(c,{maxHeight:[0,"easeOut","400px"]},{duration:225,display:"none"})},1E4)}})}},A=function(a){g(".cancel-button",a.domNode).on("click",function(b){b.stopPropagation();
b.preventDefault();a.hide()});g(".bulk-action-button",a.domNode).on("click",function(b){b.stopPropagation();b.preventDefault();if((b=q.byId("confirmInput"))?b.validate():1)x.bulkAction(q.byNode(this).value),a.hide()})};return x})},"mojo/app/lists/twitter":function(){define("dojo/parser dojo/dom dojo/dom-attr dojo/dom-form dojo/query dojo/dom-construct dojo/_base/lang dojo/_base/array dojo/request/xhr dijit/Dialog dijit/registry mojo/url".split(" "),function(h,k,d,g,b,c,f,l,e,a,m,n){var p=function(a){b(".cancel-button",
a.domNode).on("click",function(b){b.stopPropagation();b.preventDefault();a.hide()});b("form",a.domNode).on("submit",function(b){b.stopPropagation();b.preventDefault();var c=this;e.post(c.action,{data:g.toObject(c),sync:!0,handleAs:"json"}).then(function(b){b.success?document.location.href=n.toUrl("lists/exports",{id:window.listId}):(l.forEach(m.findWidgets(c),function(a){a.destroyRecursive()}),a.domNode.innerHTML=b.html,h.parse(a.domNode),p(a))})})};return{showCreateDialog:function(b,c,d){var e=new a({title:"Export to Twitter",
onDownloadEnd:function(){p(e)},onHide:function(){e.destroyRecursive()}});b=n.toUrl("lists/export-twitter-dialog",{id:b,active:d,useSegment:c});e.setHref(b);e.show()}}})},"mojo/app/dashboard/dash":function(){define("dojo/query dojo/dom dojo/dom-class dojo/dom-style dojo/dom-attr dojo/dom-construct dojo/on dijit/registry mojo/utils dojo/ready mojo/charts mojo/url".split(" "),function(h,k,d,g,b,c,f,l,e,a,m,n){var p={showListsHelpArrow:function(){var a=h(".list-help")[0];g.set(a,"display","block")},showCampaignHelpArrow:function(){var a=
h(".campaign-help")[0];g.set(a,"display","block");setTimeout(function(){g.set(a,"display","none")},5E3)},showCreateCampaignHelpArrow:function(){var a=h(".create-campaign-help")[0];g.set(a,"display","block");setTimeout(function(){g.set(a,"display","none")},5E3)},updateContentPane:function(a,c){var d=l.byId(b.get(a,"data-target")),e=b.get(a,"data-url");d&&e&&(d.set("href",e+"?id\x3d"+c),b.set(k.byId("recent-campaigns-view-report"),"href",n.toUrl("reports/summary",{id:c})))},loadGrowthChart:function(a,
b,d){c.empty("list-growth-chart");"undefined"==typeof d&&(d={existing:l.byId("toggle-existing").checked,imported:l.byId("toggle-imported").checked,subscribed:l.byId("toggle-subscribed").checked});chart=new m.ListGrowthChart("list-growth-chart",b,a,"recent",null,d)}};a(function(){h("body");var a=h(".create-lists-dash"),b=h(".create-campaigns-dash"),c=h(".show-campaigns-dash");h(".content-selector")[0]&&h(".content-selector").forEach(function(a){p.updateContentPane(a,l.byNode(a).value)});k.byId("list-growth-chart")&&
p.loadGrowthChart("all",p.chartUrl,p.chartDefaults);a&&f(a,"click",function(a){p.showListsHelpArrow();ga("send","event","Onboarding Study","action","Dashboard New User Onboarding - Create list show me");a.preventDefault();a.stopPropagation()});b&&f(b,"click",function(a){p.showCreateCampaignHelpArrow();ga("send","event","Onboarding Study","action","Dashboard New User Onboarding - Create campaign show me");a.preventDefault();a.stopPropagation()});c&&f(c,"click",function(a){p.showCampaignHelpArrow();
a.preventDefault();a.stopPropagation()})});return p})},"mojo/charts":function(){define("dojo/_base/declare dojo/_base/array dojo/dom dojo/query dojo/_base/lang dojo/dom-class dojo/dom-style dojo/dom-attr dojo/dom-construct mojo/user dojo/request/xhr".split(" "),function(h,k,d,g,b,c,f,l,e,a,m){f={};f.ListGrowthChart=h([],{overviewNoData:'\x3cdiv class\x3d"lastUnit size1of1 !padding--lv0"\x3e\x3cdiv class\x3d"no-data alignc"\x3e\x3cimg class\x3d"icon" src\x3d"/css/icons/no-data/no-report.svg" role\x3d"presentation"\x3e\x3ch2\x3eWe don\u2019t have enough list growth data yet.\x3c/h2\x3e\x3cp\x3eGrow your list with a \x3ca href\x3d"/lists/design?id\x3d{listId}" title\x3d"Build/design your signup form, response emails, and more"\x3esubscribe form\x3c/a\x3e.\x3c/p\x3e\x3c/div\x3e\x3c/div\x3e',
chartNoData:'\x3cdiv class\x3d"lastUnit size1of1 !padding--lv0"\x3e\x3cdiv class\x3d"no-data alignc"\x3e\x3cimg class\x3d"icon" src\x3d"/css/icons/no-data/no-report.svg" role\x3d"presentation"\x3e\x3ch2\x3eThere\u2019s no growth data for this list yet.\x3c/h2\x3e\x3cp\x3e\x3ca target\x3d"_blank" href\x3d"http://kb.mailchimp.com/article/how-do-i-get-more-people-to-join-my-list/"\x3eHow do I get more subscribers?\x3c/a\x3e\x3c/p\x3e\x3c/div\x3e\x3c/div\x3e',constructor:function(a,c,e,f,g,h){this.elementId=
a;this.dataProviderUrl=c;this.customColors=g;this.defaults=h;this.defaults||(this.defaults={existing:!0,imported:!0,subscribed:!0});var l=this;m.get(this.dataProviderUrl,{query:{id:e,limit:f},handleAs:"json"}).then(function(c){if(c&&0<c.length){for(var f=null,g=0;g<c.length;g++)f=c[g].datestr.split("-"),c[g].date=new Date(f[0],f[1]-1,1);l.renderData(c)}else d.byId("growth-chart-overview")?d.byId("growth-chart-overview").innerHTML=b.replace(l.overviewNoData,{listId:e}):d.byId(a).innerHTML=l.chartNoData},
function(a){})},renderData:function(a){this.chart=new AmCharts.AmSerialChart;this.chart.pathToImages="/charts/amcharts/images/";this.chart.panEventsEnabled=!0;this.chart.marginLeft=50;this.chart.marginRight=50;this.chart.dataProvider=a;this.chart.categoryField="date";this.chart.startDuration=0;this.chart.color="#555";this.chart.fontFamily="'Open Sans','Helvetica Neue',Arial,Helvetica,Verdana,sans-serif";this.chart.fontSize=13;this.chart.balloon.showBullet=!1;this.chart.balloon.textShadowColor="none";
this.chart.balloon.horizontalPadding=15;this.chart.balloon.verticalPadding=5;this.chart.balloon.borderThickness=0;this.chart.balloon.borderThickness=0;this.chart.balloon.shadowAlpha=0;this.chart.balloon.color="#FFFFFF";this.chart.balloon.fillAlpha=1;this.chart.balloon.adjustBorderColor=!1;this.chart.categoryAxis.parseDates=!0;this.chart.categoryAxis.equalSpacing=!1;this.chart.categoryAxis.minPeriod="MM";this.chart.categoryAxis.axisColor="#ccc";this.chart.categoryAxis.gridAlpha=0;this.chart.categoryAxis.dateFormats=
[{period:"fff",format:"JJ:NN:SS"},{period:"ss",format:"JJ:NN:SS"},{period:"mm",format:"JJ:NN"},{period:"hh",format:"JJ:NN"},{period:"DD",format:"MMM DD, YYYY"},{period:"MM",format:"MMM YYYY"},{period:"YYYY",format:"YYYY"}];a=new AmCharts.ValueAxis;a.stackType="regular";a.dashLength=0;a.axisColor="#e0e0e0";a.axisThickness=0;this.chart.addValueAxis(a);this.existing=new AmCharts.AmGraph;this.existing.valueField="existing";this.existing.type="column";this.existing.fillAlphas=1;this.existing.lineColor=
this.customColors?this.customColors[0]:"#b1e1ed";this.existing.balloonText="[[value]] Existing";this.existing.balloonColor="#8fb8c9";this.existing.bullet="none";this.chart.addGraph(this.existing);this.imported=new AmCharts.AmGraph;this.imported.valueField="imports";this.imported.type="column";this.imported.fillAlphas=1;this.imported.lineColor=this.customColors?this.customColors[1]:"#6dc6dc";this.imported.balloonText="[[value]] Imported";this.imported.bullet="none";this.chart.addGraph(this.imported);
this.subscribed=new AmCharts.AmGraph;this.subscribed.valueField="optins";this.subscribed.type="column";this.subscribed.fillAlphas=1;this.subscribed.lineColor=this.customColors?this.customColors[2]:"#1db5d4";this.subscribed.balloonText="[[value]] Subscribed";this.chart.addGraph(this.subscribed);a=new AmCharts.ChartCursor;a.categoryBalloonDateFormat="MMM YYYY";a.cursorColor="#333";a.cursorAlpha=0.2;a.cursorPosition="middle";a.oneBalloonOnly=!0;this.chart.addChartCursor(a);this.chart.write(this.elementId);
this.defaults.existing||this.chart.hideGraph(this.existing);this.defaults.imported||this.chart.hideGraph(this.imported);this.defaults.subscribed||this.chart.hideGraph(this.subscribed)},showMonth:function(a){},toggleActivity:function(b,c){c?this.chart.showGraph(eval("this."+b)):this.chart.hideGraph(eval("this."+b));this.chart.validateData();a.saveSetting("dashboard_show_"+b,c)}});f.AutomationChart=h([],{chartNoData:'\x3cdiv class\x3d"lastUnit size1of1"\x3e\x3cdiv class\x3d"no-data alignc"\x3e\x3cimg class\x3d"icon" src\x3d"/css/icons/no-data/no-report.svg" role\x3d"presentation"\x3e\x3ch2\x3eWe don\x26rsquo;t have enough data yet.\x3c/h2\x3e\x3cp class\x3d"section"\x3eWe\x26rsquo;ll show you some pretty charts here once your workflow starts sending.\x3c/p\x3e\x3c/div\x3e\x3c/div\x3e',
constructor:function(a,b,c){this.elementId=a;this.dataProviderUrl=b;var e=this;m.get(this.dataProviderUrl,{query:{id:c},handleAs:"json",content:""}).then(function(b){b&&1<=b.length?e.renderData(b):(d.byId(a).innerHTML=e.chartNoData,g("#automation-performance-legend").style("display","none"),g("#automation-performance-details").style("display","none"))},function(a){})},renderData:function(a){this.chart=new AmCharts.AmSerialChart;this.chart.pathToImages="/charts/amcharts/images/";this.chart.dataProvider=
a;this.chart.categoryField="date";this.chart.startDuration=0;this.chart.autoMargins=!1;this.chart.marginTop=10;this.chart.marginRight=0;this.chart.marginBottom=50;this.chart.marginLeft=50;this.chart.color="#555";this.chart.balloon.showBullet=!1;this.chart.balloon.textShadowColor="none";this.chart.balloon.horizontalPadding=15;this.chart.balloon.verticalPadding=5;this.chart.balloon.borderThickness=0;this.chart.balloon.borderThickness=0;this.chart.balloon.shadowAlpha=0;this.chart.balloon.color="#FFFFFF";
this.chart.balloon.fillAlpha=1;this.chart.balloon.adjustBorderColor=!1;this.chart.fontFamily="'Open Sans','Helvetica Neue',Arial,Helvetica,Verdana,sans-serif";this.chart.fontSize=13;var b=this.chart.categoryAxis;b.autoGridCount=!1;b.gridPosition="start";b.dashLength=0;b.axisColor="#ccc";b.axisThickness=2;b.gridAlpha=0;b.labelsEnabled=!1;b=new AmCharts.ValueAxis;b.dashLength=0;b.gridThickness=0;b.axisColor="#e0e0e0";b.axisThickness=0;b.position="right";this.chart.addValueAxis(b);var c=new AmCharts.ValueAxis;
c.dashLength=0;c.axisAlphaaxisAlpha=0;c.unit="%";c.axisColor="#e0e0e0";c.axisThickness=0;k.some(a,function(a){return a&&100==a.open_rate})&&(c.maximum=100);this.chart.addValueAxis(c);this.sends=new AmCharts.AmGraph;this.sends.valueField="sends";this.sends.type="column";this.sends.fillAlphas=1;this.sends.lineColor="#b1e1ed";this.sends.showBallon=!0;this.sends.balloonText="[[value]] Emails Sent";this.sends.balloonColor="#8fb8c9";this.sends.bullet="none";this.sends.valueAxis=b;this.chart.addGraph(this.sends);
this.clickrate=new AmCharts.AmGraph;this.clickrate.title="Click Rate";this.clickrate.valueField="click_rate";this.clickrate.type="smoothedLine";this.clickrate.lineColor="#2b99b6";this.clickrate.balloonText="[[clicks]] Clicks - [[value]]%";this.clickrate.lineThickness=3;this.clickrate.bullet="round";this.clickrate.bulletColor="#fff";this.clickrate.bulletBorderColor=this.customColors?this.customColors[0]:"#2b99b6";this.clickrate.bulletBorderThickness=2;this.clickrate.bulletBorderAlpha=1;this.clickrate.bulletSize=
6;this.clickrate.fillAlphas=0;this.clickrate.valueAxis=c;this.chart.addGraph(this.clickrate);this.openrate=new AmCharts.AmGraph;this.openrate.title="Open Rate";this.openrate.valueField="open_rate";this.openrate.type="smoothedLine";this.openrate.lineColor="#9bcfc2";this.openrate.balloonText="[[opens]] Opens - [[value]]%";this.openrate.lineThickness=2;this.openrate.bullet="round";this.openrate.bulletColor="#fff";this.openrate.bulletBorderColor=this.customColors?this.customColors[0]:"#9bcfc2";this.openrate.bulletBorderThickness=
2;this.openrate.bulletBorderAlpha=1;this.openrate.bulletSize=6;this.openrate.fillAlphas=0;this.openrate.valueAxis=c;this.chart.addGraph(this.openrate);a=new AmCharts.ChartCursor;a.cursorColor="#333";a.cursorAlpha=0.2;a.cursorPosition="middle";a.bulletsEnabled=!0;a.bulletSize=6;this.chart.addChartCursor(a);this.chart.write(this.elementId)}});f.PerformanceOverviewChart=h([],{noDataMessage:'\x3cdiv class\x3d"lastUnit size1of1 !padding--lv0"\x3e\x3cdiv class\x3d"no-data alignc"\x3e\x3cimg class\x3d"icon" src\x3d"/css/icons/no-data/no-report.svg" role\x3d"presentation"\x3e\x3ch2\x3eWe don\u2019t have enough campaign performance data yet.\x3c/h2\x3e\x3c/div\x3e\x3c/div\x3e',
constructor:function(a,b,c,e){this.elementId=a;this.dataProviderUrl=b;this.customColors=c;this.hasIndustry=e;var f=this;m.get(this.dataProviderUrl,{handleAs:"json",content:""}).then(function(b){b&&0<b.length?f.renderData(b):(d.byId(a).innerHTML=f.noDataMessage,g("#campaign-performance-legend").style("display","none"))},function(a){})},renderData:function(a){this.chart=new AmCharts.AmSerialChart;this.chart.pathToImages="/charts/amcharts/images/";this.chart.dataProvider=a;this.chart.categoryField="bubbleText";
this.chart.startDuration=0;this.chart.autoMargins=!1;this.chart.marginTop=10;this.chart.marginRight=0;this.chart.marginBottom=50;this.chart.marginLeft=50;this.chart.color="#555";this.chart.balloon.showBullet=!1;this.chart.balloon.textShadowColor="none";this.chart.balloon.horizontalPadding=15;this.chart.balloon.verticalPadding=5;this.chart.balloon.borderThickness=0;this.chart.balloon.borderThickness=0;this.chart.balloon.shadowAlpha=0;this.chart.balloon.color="#FFFFFF";this.chart.balloon.fillAlpha=
1;this.chart.balloon.adjustBorderColor=!1;this.chart.fontFamily="'Open Sans','Helvetica Neue',Arial,Helvetica,Verdana,sans-serif";this.chart.fontSize=13;this.chart.addListener("clickGraphItem",this.dataPointClickedEvt);this.hasIndustry&&(this.indavg=new AmCharts.AmGraph,this.indavg.title="Industry Average",this.indavg.valueField="industryAvg",this.indavg.type="line",this.indavg.lineColor=this.customColors?this.customColors[0]:"#E85C41",this.indavg.dashLength=3,this.indavg.balloonText="[[value]]% Industry Avg",
this.indavg.lineThickness=2,this.indavg.bullet="round",this.indavg.bulletSize=0,this.indavg.fillAlphas=0,this.chart.addGraph(this.indavg));this.clicks=new AmCharts.AmGraph;this.clicks.title="Click Rate";this.clicks.valueField="clickRate";this.clicks.type="smoothedLine";this.clicks.lineColor=this.customColors?this.customColors[0]:"#2b99b6";this.clicks.balloonText="[[value]]% Click Rate";this.clicks.lineThickness=3;this.clicks.bullet="round";this.clicks.bulletColor="#fff";this.clicks.bulletBorderColor=
this.customColors?this.customColors[0]:"#2b99b6";this.clicks.bulletBorderThickness=2;this.clicks.bulletBorderAlpha=1;this.clicks.bulletSize=6;this.clicks.fillAlphas=0.3;this.chart.addGraph(this.clicks);this.opens=new AmCharts.AmGraph;this.opens.title="Open Rate";this.opens.valueField="openRate";this.opens.type="smoothedLine";this.opens.lineColor=this.customColors?this.customColors[1]:"#9bcfc2";this.opens.balloonText="[[value]]% Open Rate";this.opens.lineThickness=2;this.opens.bullet="round";this.opens.bulletColor=
"#fff";this.opens.bulletBorderColor=this.customColors?this.customColors[0]:"#9bcfc2";this.opens.bulletBorderThickness=2;this.opens.bulletBorderAlpha=1;this.opens.bulletSize=6;this.opens.fillAlphas=0;this.chart.addGraph(this.opens);var b=this.chart.categoryAxis;b.autoGridCount=!1;b.gridPosition="start";b.dashLength=0;b.axisColor="#ccc";b.axisThickness=2;b.gridAlpha=0;b.labelsEnabled=!1;b=new AmCharts.ValueAxis;b.dashLength=0;b.axisAlpha=0;b.unit="%";b.axisColor="#e0e0e0";b.axisThickness=0;k.some(a,
function(a){return a&&100==a.openRate})&&(b.maximum=100);this.chart.addValueAxis(b);a=new AmCharts.ChartCursor;a.cursorColor="#333";a.cursorAlpha=0.2;a.cursorPosition="middle";a.bulletsEnabled=!0;a.bulletSize=6;this.chart.addChartCursor(a);d.byId(this.elementId).innerHTML="";this.chart.write(this.elementId)},dataPointClickedEvt:function(a){var b="",c=a.graph.valueField;"clickRate"==c&&(b=a.item.dataContext.clickUrl,window.location=b);"openRate"==c&&(b=a.item.dataContext.openUrl,window.location=b)},
cursorChangedEvt:function(a){var b=a.target.chart.dataProvider;a=b[a.index];if("undefined"!=typeof a&&"undefined"!=typeof b){var d;g("[data-campaignId]").forEach(function(a){d=a.parentElement.parentElement;c.contains(d,"google-visualization-table-tr-sel")&&c.remove(d,"google-visualization-table-tr-sel")});"undefined"!=typeof g("[data-campaignId\x3d"+a.campaignId+"]")[0]&&(b=g("[data-campaignId\x3d"+a.campaignId+"]")[0].parentElement.parentElement,c.add(b,"google-visualization-table-tr-sel"))}}});
f.ListSocialAgeChart=h([],{noDataMessage:'\x3cdiv class\x3d"highlighted-message"\x3eNo Data Available\x3c/div\x3e',constructor:function(a,b,c,e){this.elementId=a;this.dataProviderUrl=b;this.customColors=e;var f=this;m.get(this.dataProviderUrl,{query:{id:c},handleAs:"json"}).then(function(b){b&&0<b.length?f.renderData(b):d.byId(a).innerHTML=f.noDataMessage},function(a){})},renderData:function(a){this.chart=new AmCharts.AmPieChart;this.chart.dataProvider=a;this.chart.startDuration=0;this.customColors&&
(this.chart.colors=this.customColors);this.chart.pieBaseColor="#46BCD2";this.chart.pieBrightnessStep=-30;this.chart.percentFormatter={precision:0,decimalSeparator:".",thousandsSeparator:","};this.chart.titleField="age";this.chart.valueField="count";this.chart.angle=10;this.chart.depth3D=8;this.chart.minRadius=55;this.chart.balloonText="[[title]]: [[percents]]%";this.chart.write(this.elementId);this.chart.fontFamily="'Open Sans','Helvetica Neue',Arial,Helvetica,Verdana,sans-serif";this.chart.fontSize=
13}});f.ReportsTimeseriesChart=h([],{noDataMessage:'\x3cdiv class\x3d"highlighted-message"\x3eNo Data Available\x3c/div\x3e',constructor:function(a,b,c){this.elementId=a;this.dataProviderUrl=b;this.customColors=c;this.updateData()},renderData:function(a){this.chart=new AmCharts.AmSerialChart;this.chart.pathToImages="/charts/amcharts/images/";this.chart.dataProvider=a;this.chart.categoryField="time";this.chart.startDuration=0;this.chart.autoMargins=!1;this.chart.marginTop=25;this.chart.marginBottom=
50;this.chart.marginLeft=50;this.chart.color="#555";this.chart.balloon.showBullet=!1;this.chart.balloon.textShadowColor="none";this.chart.balloon.horizontalPadding=15;this.chart.balloon.verticalPadding=5;this.chart.balloon.borderThickness=0;this.chart.balloon.borderThickness=0;this.chart.balloon.shadowAlpha=0;this.chart.balloon.color="#FFFFFF";this.chart.balloon.fillAlpha=1;this.chart.balloon.adjustBorderColor=!1;this.chart.fontFamily="'Open Sans','Helvetica Neue',Arial,Helvetica,Verdana,sans-serif";
this.chart.fontSize=13;this.opens=new AmCharts.AmGraph;this.opens.title="Opens";this.opens.valueField="opens";this.opens.type="line";this.opens.lineColor=this.customColors?this.customColors[0]:"#9bcfc2";this.opens.balloonText="[[value]] Opens";this.opens.lineThickness=3;this.opens.bullet="round";this.opens.bulletSize=0;this.opens.fillAlphas=0;this.chart.addGraph(this.opens);this.clicks=new AmCharts.AmGraph;this.clicks.title="Clicks";this.clicks.valueField="clicks";this.clicks.type="line";this.clicks.lineColor=
this.customColors?this.customColors[1]:"#2b99b6";this.clicks.balloonText="[[value]] Clicks";this.clicks.lineThickness=2;this.clicks.bullet="round";this.clicks.bulletSize=0;this.clicks.fillAlphas=0;this.chart.addGraph(this.clicks);a=this.chart.categoryAxis;a.autoGridCount=!1;a.gridPosition="start";a.dashLength=0;a.axisColor="#ccc";a.axisThickness=2;a.gridAlpha=0;a=new AmCharts.ValueAxis;a.dashLength=0;a.axisColor="#e0e0e0";a.axisThickness=0;this.chart.addValueAxis(a);a=new AmCharts.ChartCursor;a.cursorColor=
"#333";a.cursorAlpha=0.2;a.cursorPosition="middle";this.chart.addChartCursor(a);this.chart.write(this.elementId)},updateData:function(){var a=this;m.get(this.dataProviderUrl,{handleAs:"json"}).then(function(b){b&&0<b.length?a.chart?(a.chart.dataProvider=b,a.chart.validateData()):a.renderData(b):d.byId(a.elementId).innerHTML=a.noDataMessage},function(a){})}});f.RevenueOverviewChart=h([],{noDataMessage:'\x3cdiv class\x3d"lastUnit size1of1 !padding--lv0"\x3e\x3cdiv class\x3d"no-data alignc"\x3e\x3cimg class\x3d"icon" src\x3d"/css/icons/no-data/no-analytics.svg" role\x3d"presentation"\x3e\x3ch2\x3eWe don\u2019t have enough analytics data yet.\x3c/h2\x3e\x3c/div\x3e\x3c/div\x3e',
constructor:function(a,b,c){this.elementId=a;this.dataProviderUrl=b;this.customColors=c;var e=this;m.get(this.dataProviderUrl,{query:"",handleAs:"json"}).then(function(b){b&&0<b.length?e.renderData(b):d.byId(a).innerHTML=e.noDataMessage},function(a){})},renderData:function(a){this.chart=new AmCharts.AmSerialChart;this.chart.pathToImages="/charts/amcharts/images/";this.chart.dataProvider=a;this.chart.categoryField="bubbleText";this.chart.startDuration=0;this.chart.autoMargins=!1;this.chart.marginTop=
10;this.chart.marginRight=0;this.chart.marginBottom=50;this.chart.marginLeft=50;this.chart.color="#555";this.chart.balloon.showBullet=!1;this.chart.balloon.textShadowColor="none";this.chart.balloon.horizontalPadding=15;this.chart.balloon.verticalPadding=5;this.chart.balloon.borderThickness=0;this.chart.balloon.borderThickness=0;this.chart.balloon.shadowAlpha=0;this.chart.balloon.color="#FFFFFF";this.chart.balloon.fillAlpha=1;this.chart.balloon.adjustBorderColor=!1;this.chart.fontFamily="'Open Sans','Helvetica Neue',Arial,Helvetica,Verdana,sans-serif";
this.chart.fontSize=13;this.chart.addListener("clickGraphItem",this.dataPointClickedEvt);this.revenue=new AmCharts.AmGraph;this.revenue.title="Revenue";this.revenue.valueField="revenue";this.revenue.type="smoothedLine";this.revenue.showHandOnHover=!0;this.revenue.lineColor=this.customColors?this.customColors[0]:"#2b99b6";this.revenue.balloonText="Revenue of [[value]]";this.revenue.lineThickness=3;this.revenue.bullet="round";this.revenue.bulletColor="#fff";this.revenue.bulletBorderColor=this.customColors?
this.customColors[0]:"#2b99b6";this.revenue.bulletBorderThickness=2;this.revenue.bulletBorderAlpha=1;this.revenue.bulletSize=8;this.revenue.fillAlphas=0;this.chart.addGraph(this.revenue);a=this.chart.categoryAxis;a.autoGridCount=!1;a.gridPosition="start";a.dashLength=0;a.axisColor="#ccc";a.axisThickness=2;a.gridAlpha=0;a.labelsEnabled=!1;a=new AmCharts.ValueAxis;a.dashLength=0;a.axisAlpha=0;a.unitPosition="left";a.axisColor="#e0e0e0";a.axisThickness=0;this.chart.addValueAxis(a);a=new AmCharts.ChartCursor;
a.cursorColor="#333";a.cursorAlpha=0.2;a.cursorPosition="middle";a.bulletsEnabled=!0;a.bulletSize=10;this.chart.addChartCursor(a);a.addListener("changed",this.cursorChangedEvt);this.chart.addListener("zoomed",this.chartZoomed);d.byId(this.elementId).innerHTML="";this.chart.write(this.elementId)},dataPointClickedEvt:function(a){var b="";"revenue"==a.graph.valueField&&(b=a.item.dataContext.openUrl,window.location=b)},chartZoomed:function(a){var b=a.chart.dataProvider,c=a.startIndex;a=a.endIndex;var d=
0;if("undefined"!=typeof b){for(var e=a;e>=c;e--)d+=b[e].revenue;g(".startDate")[0].innerHTML=b[c].sentDate;g(".endDate")[0].innerHTML=b[a].sentDate;g(".zoomRevenue")[0].innerHTML=d.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$\x26,")}}});return f})},"mojo/app/common/navsetup":function(){define("dojo/_base/array dojo/_base/event dojo/dom dojo/dom-class dojo/dom-style dojo/dom-attr dojo/html dojo/mouse dojo/on dojo/query dojo/fx/Toggler dojo/fx dojo/touch dojo/ready dojo/_base/xhr mojo/app/search/GlobalSearch mojo/KeyShortcuts mojo/url".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s,v){var w,u="",y=[],x=[],A,C,D,E,G,H,M,J,S,W,X=/\w*-active/,K,Q,V,ea,L,N={trapEvents:function(){var a=document.documentElement,b;e(window,"scroll",function(){clearTimeout(b);a.style.pointerEvents||(a.style.pointerEvents="none");b=setTimeout(function(){a.style.pointerEvents=""},250)})},setup:function(){w=dojo.doc.documentElement;C=a(".freddicon",a(".t-search")[0])[0];D=a(".menu-btn")[0];E=a(".p-search")[0];H=a(".lists-search")[0];G=a(".t-search")[0];a(".notifications")[0]&&
(M=a(".notifications")[0],J=a(".notifications-btn")[0]);S=a(".acl-settings")[0];W=a(".account-btn")[0];M?(y=[E,S,M],x=[G,W,J,D]):(y=[E,S],x=[G,W,D]);N.handleButtonClick();N.handleSecClicks();N.aclScrollbar();e(window,"resize",function(a){N.aclScrollbar()});s.onKey("s",function(){a("html.ovf-hidden.overflow-hidden").length||(N.toggleState("search"),N.resetButtonState(0),G&&g.toggle(C,"cross"),N.handlePageOverflow("search"),dojo.byId("global-search").focus())});s.onEsc(N.reset);(L=a(".toggle-search")[0])&&
e(L,"click",function(){N.reset()});N.handleOutsideClicks();M&&(g.contains(a(".primary-nav")[0],"narrow")?g.replace(a(".notify-bubble")[0],"","wide"):g.add(a(".notify-bubble")[0],"wide"));(Q=a(".toggle-nav-btn")[0])&&e(Q,"click",function(){V=g.contains(a(".navtoggle")[0],"narrow");N.toggleProMode()});var d=a(".mobile-top-nav");d&&e(d,"click",function(){g.toggle(this,"active")});a("#acl-account-search").on("keyup",function(){var d=this.value.toLowerCase();a(".account-users .account").forEach(function(a){var e=
c.get(a,"data-account-name").toLowerCase();b.set(a,"display",0>e.indexOf(d)?"none":"")})})},reset:function(){if(K=X.exec(w.getAttribute("class")))g.replace(w,"",K[0]),g.replace(w,"","ovf-hidden");h.forEach(y,function(a){a&&g.replace(a,"","selected")});h.forEach(x,function(a){a&&g.replace(a,"","selected")});g.replace(C,"","cross");"undefined"!==typeof ea&&ea.remove()},toggleState:function(a){(K=X.exec(w.getAttribute("class")))?K[0]===a+"-active"?g.toggle(w,a+"-active"):(g.replace(w,"",K[0]),g.add(w,
a+"-active")):g.add(w,a+"-active");N.handleOutsideClicks();N.setAriaRules()},setAriaRules:function(){if(K=X.exec(w.getAttribute("class")))switch(K[0]){case "notify-active":c.set(a(".acl-popover")[0],"aria-hidden","true");c.set(a(".search-container")[0],"aria-hidden","true");c.set(a(".notify-bubble")[0],"aria-hidden","false");a(".notify-bubble .notify-header")[0].focus();break;case "search-active":c.set(a(".acl-popover")[0],"aria-hidden","true");c.set(a(".notify-bubble")[0],"aria-hidden","true");c.set(a(".search-container")[0],
"aria-hidden","false");break;case "submenu-active":c.set(a(".search-container")[0],"aria-hidden","true");c.set(a(".notify-bubble")[0],"aria-hidden","true");c.set(a(".acl-popover")[0],"aria-hidden","false");a(".acl-popover ul")[0].focus();break;default:c.set(a(".acl-popover")[0],"aria-hidden","true"),c.set(a(".search-container")[0],"aria-hidden","true"),c.set(a(".notify-bubble")[0],"aria-hidden","true")}else c.set(a(".acl-popover")[0],"aria-hidden","true"),c.set(a(".search-container")[0],"aria-hidden",
"true"),c.set(a(".notify-bubble")[0],"aria-hidden","true")},resetButtonState:function(a){h.forEach(y,function(b,c){b&&(a===c?g.toggle(b,"selected"):g.replace(b,"","selected"))});h.forEach(x,function(b,c){b&&(a===c?g.toggle(b,"selected"):g.replace(b,"","selected"))})},handleButtonClick:function(){h.forEach([M,J],function(a){a&&e(a,"click",function(a){a.preventDefault();N.toggleState("notify");N.resetButtonState(2);N.handlePageOverflow("notify")})});h.forEach([E,G,H],function(a){a&&e(a,"click",function(a){a.preventDefault();
N.resetButtonState(0);G&&g.toggle(C,"cross");N.toggleState("search");N.handlePageOverflow("search");r.focusSearchInput()})});h.forEach([S,W],function(a){a&&e(a,"click",function(a){a.preventDefault();N.toggleState("submenu");N.resetButtonState(1);N.handlePageOverflow("submenu")})});D&&e(D,"click",function(a){a.preventDefault();N.toggleState("menu");M?N.resetButtonState(3):N.resetButtonState(2);N.handlePageOverflow("menu")})},handleSecClicks:function(){A=a(".acl-menu a");h.forEach(A,function(a){e(a,
"click",function(){N.reset()})})},handlePageOverflow:function(a){if(g.contains(w,"ovf-hidden"))if(u===a)g.toggle(w,"ovf-hidden");else switch(a){case "notify":g.replace(w,"","ovf-hidden");u="notify";break;case "menu":u="menu";break;case "search":u="search";break;case "submenu":u="submenu";break;default:g.replace(w,"","ovf-hidden")}else switch(a){case "notify":g.replace(w,"","ovf-hidden");u="notify";break;case "menu":g.add(w,"ovf-hidden");u="menu";break;case "search":g.add(w,"ovf-hidden");u="search";
break;case "submenu":g.add(w,"ovf-hidden");u="submenu";break;default:g.replace(w,"","ovf-hidden")}N.replaceSearchIcon()},replaceSearchIcon:function(){"search"!==u&&g.replace(C,"","cross")},aclScrollbar:function(){var b=a(".acl-menu")[0],c=a(".account-users")[0],d=a(".acl-search")[0];if(b&&c){var e=c.scrollHeight,b=b.offsetHeight-(65*a(".top-links").length+209)+(d?0:66);c.style.maxHeight=e>b?b+"px":"none"}},handleOutsideClicks:function(){var b=a(".main-content")[0];ea=e(b,"click",function(a){g.contains(a.target,
"lists-search")||N.reset()})},toggleProMode:function(){q.post({url:v.toUrl("account/toggle-nav-tiny"),content:{turn_tiny_mode_off:V},sync:!1,handleAs:"json",load:function(a){}});h.forEach(a(".navtoggle"),function(a){g.toggle(a,"narrow")});V?(M&&g.toggle(a(".notify-bubble")[0],"wide"),g.replace(Q,"arrow-left","arrow-right")):(M&&g.toggle(a(".notify-bubble")[0],"wide"),g.replace(Q,"arrow-right","arrow-left"))}};return N})},"mojo/app/common/navsetup2":function(){define("dojo/_base/array dojo/_base/event dojo/dom dojo/dom-class dojo/dom-style dojo/dom-attr dojo/aspect dojo/on dojo/query dojo/ready mojo/app/search/GlobalSearch mojo/widgets/KbSearch mojo/widgets/PhoneNavigation mojo/widgets/TabletNavigation mojo/KeyShortcuts velocity/velocity dojo/NodeList-traverse".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t){var q=document.documentElement,r=/\w*-overlay/,s,v={trapEvents:function(){var a=document.documentElement,b;l(window,"scroll",function(){clearTimeout(b);a.style.pointerEvents||(a.style.pointerEvents="none");b=setTimeout(function(){a.style.pointerEvents=""},125)})},init:function(){v.showOverlay();v.setupMobileNav();p.onEsc(function(a){a.stopPropagation();g.contains(q,n.main().overlayClass)?n.main().hide():r.exec(q.getAttribute("class"))&&(s=r.exec(q.getAttribute("class"))[0],
v.hideOverlay(s))});p.onKey("s",function(a){v.velocityShowOverlay(e(".search-overlay-container")[0],"search-overlay");v.setAriaRules("search");v.hideAccountMenu()});p.onKey("h",function(a){n.main().show()});e(".lists-search").on("click",function(a){a.preventDefault();a.stopPropagation();v.velocityShowOverlay(e(".search-overlay-container")[0],"search-overlay");v.setAriaRules("search");v.hideAccountMenu()});a(function(){f.after(n.main(),"show",function(){v.setAriaRules("kb");v.hideAccountMenu()});f.after(n.main(),
"hide",function(){v.setAriaRules()})})},setupMobileNav:function(){e(".mobile-top-nav").on("click",function(a){a.preventDefault();a.stopPropagation();g.toggle(this,"active")})},showOverlay:function(){e(".nav-search-button").on("click",function(a){a.stopPropagation();a.preventDefault();v.velocityShowOverlay(e(".search-overlay-container")[0],"search-overlay");v.setAriaRules("search");v.hideAccountMenu()});e(".nav-help-button").on("click",function(a){a.stopPropagation();a.preventDefault();n.main().show()});
e(".account-button").on("click",function(a){a.stopPropagation();v.setAriaRules("account");v.accountMenuActions();v.closeMenuOnOutsideClicks();p.onEsc(function(a){a.stopPropagation();v.hideAccountMenu()})})},velocityShowOverlay:function(a,b){t(a,"stop");t(a,{opacity:[1,"linear",0.4],zIndex:[100,"easeInOut",-5]},{duration:225,visibility:"visible",complete:function(){g.add(q,b+" overflow-hidden");"search-overlay"===b&&d.byId("global-search").focus()}})},hideOverlay:function(a){"mobile-overlay"===a?(v.velocityHideOverlay(e(".phone-overlay-container")[0]),
v.velocityHideOverlay(e(".tablet-overlay-container")[0])):v.velocityHideOverlay(e("."+a+"-container")[0]);v.setAriaRules()},velocityHideOverlay:function(a){t(a,"stop");t(a,{zIndex:[-5,"easeInOut",100]},{duration:225,visibility:"hidden",opacity:0.4,complete:function(){g.replace(q,"",s+" overflow-hidden")}})},setAriaRules:function(a){switch(a){case "search":c.set(e(".search-overlay-container")[0],"aria-hidden","false");c.set(e(".main-navigation")[0],"aria-hidden","true");break;case "kb":c.set(e(".kb-overlay-container")[0],
"aria-hidden","false");c.set(e(".main-navigation")[0],"aria-hidden","true");break;case "account":"true"===c.get(e(".account-menu")[0],"aria-hidden")?(c.set(e(".account-menu")[0],"aria-hidden","false"),g.add(e(".account-menu")[0],"account-menu--active")):(c.set(e(".account-menu")[0],"aria-hidden","true"),g.remove(e(".account-menu")[0],"account-menu--active"));break;case "mobile":c.set(e(".phone-overlay-container")[0],"aria-hidden","false");c.set(e(".tablet-overlay-container")[0],"aria-hidden","false");
c.set(e(".main-navigation")[0],"aria-hidden","true");break;default:c.set(e(".search-overlay-container")[0],"aria-hidden","true"),c.set(e(".kb-overlay-container")[0],"aria-hidden","true"),c.set(e(".phone-overlay-container")[0],"aria-hidden","true"),c.set(e(".tablet-overlay-container")[0],"aria-hidden","true"),c.set(e(".main-navigation")[0],"aria-hidden","false")}},accountMenuActions:function(){e("#notifications-link").on("click",function(a){a.stopPropagation();v.slideCard("notifications")});e("#switch-link").on("click",
function(a){a.stopPropagation();v.slideCard("accounts")})},closeMenuOnOutsideClicks:function(){var a=e(".wrap")[0];l(a,"click",function(a){a.stopPropagation();v.hideAccountMenu()})},hideAccountMenu:function(){var a=e(".account-menu")[0];a&&g.contains(a,"account-menu--active")&&(g.remove(a,"account-menu--active"),c.set(a,"aria-hidden","true"))},searchAccount:function(){d.byId("acl-account-search").focus();e("#acl-account-search").on("keyup",function(){var a=this.value.toLowerCase();e(".account-list .acl-account").forEach(function(b){var d=
c.get(b,"data-account-name").toLowerCase();b.style.display=0>d.indexOf(a)?"none":""})})}};return v})},"mojo/app/common/patternsNav":function(){define("dojo/_base/array dojo/_base/event dojo/dom dojo/dom-class dojo/dom-style dojo/dom-attr dojo/on dojo/query mojo/KeyShortcuts velocity/velocity dojo/NodeList-traverse".split(" "),function(h,k,d,g,b,c,f,l,e,a){var m=document.documentElement,n=/\w*-overlay/,p,t={trapEvents:function(){var a=document.documentElement,b;f(window,"scroll",function(){clearTimeout(b);
a.style.pointerEvents||(a.style.pointerEvents="none");b=setTimeout(function(){a.style.pointerEvents=""},125)})},init:function(){t.showOverlay();t.setupMobileNav();l(".close-overlay").on("click",function(){p=n.exec(m.getAttribute("class"))[0];t.hideOverlay(p)});e.onEsc(function(a){a.stopPropagation();p=n.exec(m.getAttribute("class"))[0];t.hideOverlay(p)})},setupMobileNav:function(){l(".mobile-top-nav").on("click",function(a){a.preventDefault();a.stopPropagation();g.toggle(this,"active")})},showOverlay:function(){l(".menu-button").on("click",
function(a){a.stopPropagation();a.preventDefault();t.velocityShowOverlay(l(".phone-overlay-container")[0],"mobile-overlay");t.velocityShowOverlay(l(".tablet-overlay-container")[0],"mobile-overlay");t.setAriaRules("mobile")})},velocityShowOverlay:function(b,c){a(b,"stop");a(b,{opacity:[1,[0.7,0,0.175,1],0.4],zIndex:[100,"easeInOut",-5]},{duration:225,visibility:"visible",complete:function(){g.add(m,c+" overflow-hidden");"search-overlay"===c&&d.byId("global-search").focus()}})},hideOverlay:function(a){"mobile-overlay"===
a?(t.velocityHideOverlay(l(".phone-overlay-container")[0]),t.velocityHideOverlay(l(".tablet-overlay-container")[0])):t.velocityHideOverlay(l("."+a+"-container")[0]);t.setAriaRules()},velocityHideOverlay:function(b){a(b,"stop");a(b,{opacity:[0.4,[0.7,0,0.175,-0.3],1],zIndex:[-5,"easeInOut",100]},{duration:225,visibility:"hidden",complete:function(){g.replace(m,"",p+" overflow-hidden")}})},setAriaRules:function(a){switch(a){case "mobile":c.set(l(".phone-overlay-container")[0],"aria-hidden","false");
c.set(l(".tablet-overlay-container")[0],"aria-hidden","false");c.set(l(".main-navigation")[0],"aria-hidden","true");break;default:c.set(l(".phone-overlay-container")[0],"aria-hidden","true"),c.set(l(".tablet-overlay-container")[0],"aria-hidden","true"),c.set(l(".main-navigation")[0],"aria-hidden","false")}}};return t})},"mojo/app/common/responsivetable":function(){define("dojo/_base/declare dojo/dom dojo/dom-style dojo/dom-class dojo/dom-attr dojo/dom-construct dojo/on dojo/query dojo/NodeList-traverse".split(" "),
function(h,k,d,g,b,c,f,l){function e(b){dojo.xhrGet({url:r,content:{var1:"testparam",var2:"testparam2"},handleAs:"json",load:function(b,c){u=b.table.columnNames;y=b.table.rows;a(u,y)},error:function(a,b){}})}function a(a,b){var d="",e="",f="",d="\x3cthead\x3e\x3ctr\x3e";a.forEach(function(a,b){var c="";s.forEach(function(a){a.thindex===b&&(c=a.classes)});f=""!=c?'\x3cth class\x3d"'+c+'"\x3e'+a+"\x3c/th\x3e":"\x3cth\x3e"+a+"\x3c/th\x3e";d+=f});d+="\x3c/tr\x3e\x3c/thead\x3e";f="";e="\x3ctbody\x3e";
b.forEach(function(a){f="\x3ctr\x3e";for(var b=0;b<a.length;b++)f+="\x3ctd\x3e"+a[b]+"\x3c/td\x3e";f+="\x3c/tr\x3e";e+=f});e+="\x3c/tbody\x3e";c.place(d+e,k.byId(q));if(v){var h=k.byId(v.renderTo);g.add(k.byId(v.renderTo),"table-menu-wrapper");c.place('\x3ca class\x3d"'+q+'-menu-btn cursor-pointer"\x3e'+v.menuLabel+"\x3c/a\x3e",h);v.menuBtnClass=q+"-menu-btn";w=c.place('\x3cdiv class\x3d"table-menu table-menu-hidden"\x3e\x3cul\x3e\x3c/ul\x3e\x3c/div\x3e',h)}m()}function m(){l("table#"+q+" th").forEach(function(a,
c){var d=b.get(a,"id"),e=b.get(a,"class");d||(d=q+"-col-"+c,b.set(a,"id",d));l("table#"+q+" tbody tr").forEach(function(a){a=l("td",a)[c];b.set(a,"headers",d);e&&g.add(a,e)});!g.contains(a,"persist")&&v&&n(a,l("ul",w))});v&&p()}function n(a,d){var e=b.get(a,"id");c.place('\x3cli\x3e\x3clabel for\x3d"toggle-'+e+'"\x3e\x3cinput type\x3d"checkbox" name\x3d"toggle-cols" id\x3d"toggle-'+e+'" value\x3d"'+e+'" /\x3e '+a.innerHTML+"\x3c/label\x3e\x3c/li\x3e",d[0])}function p(){var a=l("#"+v.renderTo+" .table-menu")[0],
b=l("."+v.menuBtnClass)[0];f(b,"click",function(){this.preventDefault;g.contains(a,"table-menu-hidden")?g.remove(a,"table-menu-hidden"):g.add(a,"table-menu-hidden")});l("input[type\x3d'checkbox']",a).forEach(function(a){f(a,"change",function(){var b=l("table#"+q)[0],c=a.value,b=dojo.query("#"+c,b).concat(dojo.query('[headers\x3d"'+c+'"]',b));a.checked?b.style("display","table-cell"):b.style("display","none")});f(window,"deviceorientation",function(b){t(b,a)});f(window,"resize",function(b){t(b,a)});
f(window,"load",function(b){t(b,a)})})}function t(a,b){var c=l("table#"+q)[0],d=b.value,c=dojo.query("#"+d,c).concat(dojo.query('[headers\x3d"'+d+'"]',c));"table-cell"===dojo.getStyle(c[0],"display")?dojo.attr(b,"checked",!0):dojo.attr(b,"checked",!1)}var q=null,r=null,s=null,v=null,w=null,u=null,y=null;return h("mojo.ResponsiveTable",null,{constructor:function(a){q=a.renderTo;r=a.dataUrl;s=a.headersPriority;a.toggleHeadersMenu&&(v=a.toggleHeadersMenu);g.add(k.byId(q),"enhanced");e()},getTableHeaders:function(){return u}})})},
"mojo/app/common/sticky-hoverlist":function(){define("dojo/_base/array dojo/_base/event dojo/dom dojo/dom-class dojo/on dojo/query dojo/touch dojo/ready dojo/NodeList-traverse".split(" "),function(h,k,d,g,b,c,f,l){l(function(){var e=c(".hover-list"),a=d.byId("main-content"),f=c(".wizard-container")[0],h=c(".column-toggle")[0],l=[],k={closeAll:function(a,b){0<l.length&&b!==l[0]&&(g.remove(c(".hover-list")[l[0]],"stayopen"),l.length=0);this.handleClick(a,b)},handleClick:function(a,b){g.contains(a,"stayopen")?
(g.remove(a,"stayopen"),l.pop()):(g.add(a,"stayopen"),l.push(b))}};e.forEach(function(a,c){b(a,"click",function(a){k.closeAll(this,c)})});a&&b(a,"click",function(a){0===c(a.target).parents(".hover-list").length&&0<l.length&&(g.remove(c(".hover-list")[l[0]],"stayopen"),l.length=0);0===c(a.target).parents(".reorder").length&&h&&g.contains(h,"column-toggle--active")&&g.remove(h,"column-toggle--active")});f&&b(f,"click",function(a){0===c(a.target).parents(".hover-list").length&&0<l.length&&(g.remove(c(".hover-list")[l[0]],
"stayopen"),l.length=0)})})})},"mojo/app/campaigns/RecipientCountBar":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./templates/recipientCountBar.html dojo/text!./templates/fixedRecipientCountBar.html dojo/dom-class dojo/dom-construct dojo/on dojo/_base/lang dojo/dom dojo/throttle dojo/dom-geometry mojo/app/campaigns/recipients mojo/app/pro/segment dojox/html/entities mojo/widgets/SubscriberTableOverlay dojo/number".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s,v){function w(a){x||(x=new y,x.startup(),l.place(x.domNode,m.byId(u),"last"));x.update(a)}var u="av-content",y=h([k,d,g],{templateString:c,currentBar:null,postCreate:function(){this.own(e(this.updateBtn,"click",a.hitch(this,"_updateCount")),e(m.byId(u),"scroll",n(a.hitch(this,"_handleScroll"),10)),e(this.domNode,"[data-mc-action\x3dpreview]:click",a.hitch(this,function(a){a.stopPropagation();a.preventDefault();this._previewRecipients()})))},_handleScroll:function(){var a=
p.position(this.currentBar.domNode,!0),b=p.position(u,!0);a.y-20<=b.y?f.remove(this.domNode,"invisible"):f.add(this.domNode,"invisible")},_previewRecipients:function(){this.currentBar&&this.currentBar.previewRecipients()},_updateCount:function(){this.currentBar&&this.currentBar.reloadCount()},update:function(a){this.currentBar=a;this.countNode.innerHTML=a.countNode.innerHTML;this.copyNode.innerHTML=a.copyNode.innerHTML;f.toggle(this.countNode,"hide",f.contains(a.countNode,"hide"));f.toggle(this.copyNode,
"hide",f.contains(a.copyNode,"hide"));f.toggle(this.loadingNode,"hide",f.contains(a.loadingNode,"hide"));f.toggle(this.updateBtn,"hide",f.contains(a.updateBtn,"hide"))}}),x;return h([k,d,g],{templateString:b,listId:null,listSize:0,campaignId:null,selectedSegmentState:null,selectedSegmentName:null,selectedSegmentType:null,selectedAdvancedEditor:null,postCreate:function(){this.own(e(this.updateBtn,"click",a.hitch(this,"reloadCount")),e(this.domNode,"[data-mc-action\x3dpreview]:click",a.hitch(this,function(a){a.stopPropagation();
a.preventDefault();this.previewRecipients()})));w(this)},previewRecipients:function(){if(this.selectedSegmentType)switch(this.selectedSegmentType){case "advanced":var a=this.selectedAdvancedEditor.getAST();s.main().load(this.listId,a,{showPagination:!1,persistTableSettings:!1},"campaign");break;default:s.main().loadRegular(this.listId,this.campaignId,{showPagination:!0,persistTableSettings:!1})}},reloadCount:function(){if(this.selectedSegmentType)switch(this._showLoadingState(),this.selectedSegmentType){case "advanced":this._countAdvancedSegment();
break;default:this._countSegment()}},_countSegment:function(){var b=a.hitch(this,function(a){this._showLoadedState(a.count)}),c=a.hitch(this,function(){this._showErrorState("We had trouble calculating your segment.")});t.refreshSegmentCount(this.listId,this.campaignId).then(b,c)},_countAdvancedSegment:function(){var b=a.hitch(this,function(a){a.match(/^[0-9,]+$/)?this._showLoadedState(a):-2===a?this._showErrorState("The segment is too large to count. Please click the next button."):this._showErrorState("The segment is incomplete. Please check your entries below.")}),
c=a.hitch(this,function(){this._showErrorState("We had trouble calculating your segment.")}),d=this.selectedAdvancedEditor.getAST();q.refreshSegmentCount(this.listId,d,"campaign").then(b,c)},selectEntireList:function(){this._clearSegment();this._updateCopy("recipients. Everyone in your list will receive this email.");this._updateCount(this.listSize);this._hideButton();this._showCount();this._hideLoadingIndicator();w(this)},selectSavedSegment:function(a){this._clearSegment();this.selectedSegmentState=
"existing";this.selectedSegmentName=r.encode(a);this.selectedSegmentType="saved";a?(this._updateCopy("Selected Segment: \x3cstrong\x3e"+r.encode(a)+"\x3c/strong\x3e"),this._showButton()):(this._updateCopy("Select a segment to focus your audience."),this._hideButton());this._hideCount();this._hideLoadingIndicator();w(this)},selectPastedSegment:function(){this._clearSegment();this.selectedSegmentState="new";this.selectedSegmentType="pasted";this._updateCopy("Build your segment below.");this._hideCount();
this._hideButton();this._hideLoadingIndicator();w(this)},selectNewSegment:function(){this._clearSegment();this.selectedSegmentState="new";this.selectedSegmentType="regular";this._updateCopy("Build your segment below.");this._hideCount();this._showButton();this._hideLoadingIndicator();w(this)},selectNewAdvancedSegment:function(a){this._clearSegment();this.selectedSegmentState="new";this.selectedSegmentType="advanced";this.selectedAdvancedEditor=a;this._updateCopy("Build your advanced segment below.");
this._hideCount();this._showButton();this._hideLoadingIndicator();w(this)},_clearSegment:function(){this.selectedAdvancedEditor=this.selectedSegmentType=this.selectedSegmentName=this.selectedSegmentState=null},_showLoadingState:function(){var a;switch(this.selectedSegmentState){case "existing":a="Calculating recipients in the segment: \x3cstrong\x3e"+this.selectedSegmentName+"\x3c/strong\x3e.";break;case "new":a="Calculating recipients that match these conditions.";break;default:throw Error("Unhandled selectedSegmentState");
}this._updateCopy(a);this._showLoadingIndicator();this._hideCount();this._hideButton();w(this)},_showLoadedState:function(a){var b;switch(this.selectedSegmentState){case "existing":b="recipients in the segment: \x3cstrong\x3e"+this.selectedSegmentName+"\x3c/strong\x3e.";this._hideButton();break;case "new":b="recipients match these conditions.";this._showButton();break;default:throw Error("Unhandled selectedSegmentState");}this._updateCopy(b);this._updateCount(a);this._showCount();this._hideLoadingIndicator();
w(this)},_showErrorState:function(a){this._updateCopy(a);this._hideCount();this._showButton();this._hideLoadingIndicator();w(this)},_showLoadingIndicator:function(){f.remove(this.loadingNode.domNode,"hide")},_hideLoadingIndicator:function(){f.add(this.loadingNode.domNode,"hide")},_updateCount:function(a){"string"===typeof a&&(a=a.replace(/[^0-9]/g,""));this.countNode.innerHTML=0<a&&this.selectedSegmentType?'\x3ca href\x3d"#" data-mc-action\x3d"preview"\x3e'+v.format(a)+"\x3c/a\x3e":v.format(a)},_updateCopy:function(a){this.copyNode.innerHTML=
a},_hideCount:function(){f.add(this.countNode,"hide")},_showCount:function(){f.remove(this.countNode,"hide")},_hideButton:function(){f.add(this.updateBtn,"hide")},_showButton:function(){f.remove(this.updateBtn,"hide")}})})},"dojo/throttle":function(){define([],function(){return function(h,k){var d=!0;return function(){d&&(d=!1,h.apply(this,arguments),setTimeout(function(){d=!0},k))}}})},"mojo/app/account/connected-sites":function(){define("dojo/dom-attr dojo/query dojo/on dojo/dom-class mojo/url velocity/velocity mojo/widgets/KbSearch dojo/ready".split(" "),
function(h,k,d,g,b,c,f,l){var e={nextButton:null,siteId:null,init:function(){d(k("[data-kb-help]"),"click",function(a){a.stopPropagation();a.preventDefault();f.main().show()});this.nextButton=k("[data-mc-el\x3d'nextBtn']")[0]},disableNext:function(){this.nextButton&&g.add(this.nextButton,"disabled")},enableNext:function(){this.nextButton&&g.remove(this.nextButton,"disabled")},completeWizard:function(){if(this.siteId=this.nextButton.value)window.location=b.toUrl("account/connected-sites/site-detail?id\x3d"+
this.siteId)}};l(function(){e.init()});return e})},"mojo/app/account/mctx":function(){define("dojo/_base/declare mojo/views/_base dojo/Deferred dojo/dom dojo/query dojo/on dojo/dom-attr dojo/dom-style dojo/dom-class dojo/html dojo/dom-construct dojo/dom-form dojo/dom-geometry dojo/_base/lang dojo/_base/array dojo/request/xhr dijit/registry dijit/Dialog mojo/url mojo/utils".split(" "),function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s,v,w,u){return{connectMandrill:function(){var a=this,c=new d,f=new v({title:"Connect Your Mandrill Account",
onHide:function(){f.destroyRecursive()},onDownloadEnd:function(){b(".cancel-button",f.domNode).on("click",function(a){a.stopPropagation();a.preventDefault();f.hide();c.resolve({success:!1,reason:"cancelled"})});var d=function(){e.add("link-mctx-error","hide");var b=g.byId("mandrill_username").value,d=g.byId("mandrill_password").value,h=g.byId("multi_auth").value;a.validateMandrill(b,d,h).then(function(a){!0==a.success?(f.hide(),c.resolve({success:!0})):"tfa required"==a.reason?(e.add("step1","hide"),
e.remove("step2","hide")):"tfa invalid"==a.reason?(e.remove("link-mctx-error","hide"),g.byId("link-mctx-error-msg").innerHTML="Invalid two-factor authentication code"):"unknown username password combination"==a.reason?(e.remove("link-mctx-error","hide"),g.byId("link-mctx-error-msg").innerHTML="A username with that password could not be found",e.remove("step1","hide"),e.add("step2","hide")):(e.remove("link-mctx-error","hide"),g.byId("link-mctx-error-msg").innerHTML="An unexpected error occurred.")})};
b("#submit_step_1,#submit_step_2",f.domNode).on("click",function(a){a.stopPropagation();a.preventDefault();d()});b("#submit_step_3",f.domNode).on("click",function(b){b.stopPropagation();b.preventDefault();b=g.byId("mandrill_username").value;var d=g.byId("mandrill_password").value,h=g.byId("multi_auth").value;a.linkMandrill(b,d,h).then(function(a){!0==a.success?(f.hide(),c.resolve({success:!0})):(e.add("step1","hide"),e.add("step2","hide"),e.add("step3","hide"),e.remove("link-mctx-error","hide"),g.byId("link-mctx-error-msg").innerHTML=
"An unexpected error occurred.")})})}});f.setHref(w.toUrl("transactional/connect-mandrill"));f.show();return c},validateMandrill:function(a,b,c){return r.post(w.toUrl("transactional/validateMctxAccountPost"),{handleAs:"json",data:{mandrill_username:a,mandrill_password:b,multi_auth:c}})}}})},"mojo/app/account/clients/revokeAccess":function(){define(["dijit/registry","mojo/url"],function(h,k){return{clientId:null,agencyId:null,loginId:null,showRemoveAccountConfirmation:function(d){this.clientId=d;h.byId("remove-account-dialog").show()},
doRemoveAccount:function(){window.location=k.toUrl("/account/clients/remove-account",{client_id:this.clientId})},showRemoveUserConfirmation:function(d,g){this.clientId=d;this.loginId=g;h.byId("remove-user-dialog").show()},doRemoveUser:function(){window.location=k.toUrl("/account/clients/revoke-user",{client_id:this.clientId,login_id:this.loginId})},showRemoveAgencyDialog:function(d){this.agencyId=d;h.byId("remove-agency-account-dialog").show()},doRemoveAgencyAccount:function(){window.location=k.toUrl("/account/users/remove-account",
{agency_id:this.agencyId})},showRemoveAgencyUserDialog:function(d,g){this.agencyId=d;this.loginId=g;h.byId("remove-agency-user-dialog").show()},doRemoveAgencyUser:function(){window.location=k.toUrl("/account/users/revoke-user",{agency_id:this.agencyId,login_id:this.loginId})}}})},"mojo/views/transactional/index":function(){define("dojo/_base/declare mojo/views/_base dojo/dom dojo/query dojo/on dojo/dom-attr dojo/dom-style dojo/dom-class dojo/html dojo/dom-construct dojo/dom-form dojo/dom-geometry dojo/_base/lang dojo/_base/array dojo/request/xhr dijit/registry dijit/Dialog mojo/currency-exchange mojo/url mojo/utils mojo/app/account/billing mojo/app/account/mctx mojo/app/account/paypal mojo/marketing/Overlay velocity/velocity velocity/velocity.ui".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s,v,w,u,y,x,A,C,D){return h([k],{hasSocialPro:null,itemsPreSelected:null,monthly_t:null,currentCurrency:null,onReady:function(){var a=g("[data-action\x3d'start-mctx-trial']");a.length&&t.forEach(a,function(a,c){b(a,"click",function(){l.add("error","hide");d.byId("error-msg").innerHTML="";q.post(w.toUrl("transactional/startMctxTrialPost"),{handleAs:"json"}).then(function(a){!0==a.success?location.reload():(a=a.reason,l.remove("error","hide"),d.byId("error-msg").innerHTML=
a)})})})}})})},"mojo/currency-exchange":function(){define(["dojo/request/xhr","mojo/url"],function(h,k){return{convert:function(d,g){return h.post(k.toUrl("account/format-currency"),{data:{amount:d,currency:g},handleAs:"json"})}}})},"mojo/marketing/Overlay":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin mojo/widgets/_Overlay dojo/text!./templates/overlay.html dojo/_base/lang dojo/dom-attr dojo/dom-class dojo/dom-form dojo/on dojo/query dojo/aspect ./api mojo/logger velocity/velocity".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q){var r=null,s=h([k,d,g],{overlayClass:"mk-overlay",templateString:b,adId:null,adDisplay:"default",adConditions:{},videoEmbed:null,postMixInProperties:function(){r||(r=this)},postCreate:function(){this.own(a(this.closeButton,"click",c.hitch(this,"hide")),a(this.domNode,"[data-mk-action]:click",c.hitch(this,"_handleActions")))},_handleActions:function(a){var b=f.get(a.target,"data-mk-action");switch(b){case "close":this.hide();break;case "show-feature":this._showContent();
break;case "sms-link":this._showSmsForm(a);break;case "submit-sms":this._submitSmsForm(a)}b&&this._handleTracking(b,a.target)},_showSmsForm:function(a){a.stopPropagation();a.preventDefault();l.add(a.target,"hide");l.remove(dojo.byId("sms-form"),"hide")},_submitSmsForm:function(a){a.stopPropagation();a.preventDefault();var b=dojo.byId("sms-form"),d=e.toObject(b);l.add(a.target,"button-loading");var g=dojo.byId("sms-form-error"),h=dojo.byId("sms-form-success");p.postSms(d).then(c.hitch(this,function(c){c.success?
(q(b,"transition.slideUpOut",{duration:300,complete:function(){q(h,"transition.slideUpIn",{duration:300,before:function(){f.set(h,"display","block")},complete:function(){q(h,"transition.slideUpOut",{duration:200,delay:1500,complete:function(){}})}})}}),this._logEvent("submit-sms")):(g.innerHTML=c.message,l.remove(g,"hide"));l.remove(a.target,"button-loading")}))},_showContent:function(){m('[data-mk-el\x3d"feature-content"]',this.domNode).removeClass("hide");m('[data-mk-action\x3d"show-feature"]',
this.domNode).addClass("hide");m('[data-mk-action\x3d"close"]',this.domNode).removeClass("hide")},_handleTracking:function(a,b){if(b){var c=f.has(b,"data-guide-title")?f.get(b,"data-guide-title"):null;f.has(b,"data-guide-slug")&&f.get(b,"data-guide-slug");f.has(b,"data-guide-format")&&f.get(b,"data-guide-format");var d=f.has(b,"data-feature-slug")?f.get(b,"data-feature-slug"):null}switch(a){case "show-feature":this._logEvent(a);d&&this._trackGAPageview("http://mailchimp.com/vpv/features/"+d,"feature");
break;case "upgrade-to-pro":this._logEvent(a);this._trackGAPageview("/account/buy-mailchimp-pro","upgrade");break;case "upgrade-to-paid":this._logEvent(a);this._trackGAPageview("/account/billing-plan","upgrade");break;case "guide-read-online":this._logEvent(a);b&&b.href&&this._trackGAPageview(b.href,"guide");c&&this._trackGAEvent("Guides","Read Online",c);break;case "custom-button":case "custom-link":this._logEvent(a),b&&b.href&&this._trackGAPageview(b.href,a)}},load:function(a,b){this.adId=a;c.mixin(this,
b);this.contentContainer.innerHTML="";this.show();p.getContent(this.adConditions).then(c.hitch(this,function(a){this.contentContainer.innerHTML=a;this._setupVideo()}))},_setupVideo:function(){var a=m("#wistia",this.contentContainer)[0];if(a&&f.has(a,"data-video-id"))var b=f.get(a,"data-video-id");a&&b&&require(["//fast.wistia.net/static/E-v1.js"],c.hitch(this,function(){this.videoEmbed=Wistia.embed(b,{videoFoam:!0,container:"wistia"});this.videoEmbed.bind("play",c.hitch(this,function(){this._logEvent("play-video")}));
this.videoEmbed.bind("end",c.hitch(this,function(){this._logEvent("completed-video")}))}))},onShow:function(){this._logEvent("click-ad");this._trackGAPageview("http://mailchimp.com/vpv/ads/"+this.adId,"ad")},onHide:function(){this.videoEmbed&&this.videoEmbed.pause();this._logEvent("close");this._trackGAEvent("Ads","Close",this.adId)},_logEvent:function(a){t.marketing.logData({page:t.stdPath(window.location.pathname),action:a,ad_id:this.adId,ad_display:this.adDisplay,ad_conditions:JSON.stringify(this.adConditions)})},
_trackGAPageview:function(a,b){ga("send","pageview",a+"?utm_source\x3dmailchimp_app\x26utm_medium\x3dinternal_ad\x26utm_content\x3d"+this.adId+"_"+b+"\x26utm_campaign\x3dinapp")},_trackGAEvent:function(a,b,c){ga("send","event",a,b,c)}});return{overlay:function(){r||(r=new s,r.placeAt(document.body));return r}}})},"mojo/marketing/api":function(){define(["dojo/_base/declare","dojo/request","mojo/url"],function(h,k,d){return{getCallout:function(g){return k.get(d.toUrl("/marketing/callout",g),{handleAs:"json"})},
getContent:function(g){return k.get(d.toUrl("/marketing/content",g),{handleAs:"text"})},postSms:function(g){return k.post(d.toUrl("/marketing/sms-post"),{handleAs:"json",data:g})}}})},"mojo/views/templates/index":function(){define("dojo/_base/declare dojo/_base/lang mojo/views/_base mojo/url mojo/utils dojo/dom dojo/query dojo/on mojo/user mojo/flags mojo/widgets/FileManager".split(" "),function(h,k,d,g,b,c,f,l,e,a,m){return h([d],{onReady:function(){this.$el.openFileManager&&l(this.$el.openFileManager,
"click",k.hitch(this,"_showFileManager"))},_showFileManager:function(){m.isShown()||m.show({actions:"copy, preview, edit, rename, delete"})}})})},"mojo/views/templates/share-template":function(){define(["dojo/_base/declare","mojo/views/_base","dojo/on","mojo/app/templates"],function(h,k,d,g){return h([k],{templateId:null,templateName:null,onReady:function(){var b=this;d(this.$el.previewButton,"click",function(c){c.preventDefault();g.previewLayout(b.templateId,b.templateName,"template")})}})})},"mojo/views/swag-order/index":function(){define("dojo/_base/declare mojo/views/_base dojo/dom dojo/dom-class dojo/html dojo/on dojo/query dojo/NodeList-data dojo/dom-attr dojo/dom-prop mojo/utils dojo/dom-construct dojox/html/entities dojox/validate dojox/validate/check dojox/validate/web dojox/validate/us dojox/validate/ca".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r){return h([k],{swagObjFactory:function(a){return{node:a,name:e.get(a,"data-swag-name"),image:f("img",a),picker:f("input[type\x3dradio]",a),pickerText:f(".swag_item-picker_text",a),sizeSelector:f("select",a),dijitRadio:f(".dijit.dijitRadio",a),isSelected:function(){g.add(this.node,"is-selected");g.add(this.dijitRadio[0],"dijitRadioChecked dijitChecked");b.set(this.pickerText[0],"Picked")},deSelected:function(){g.remove(this.node,"is-selected");g.remove(this.dijitRadio[0],
"dijitRadioChecked dijitChecked");b.set(this.pickerText[0],"Pick This")}}},selectSwag:function(a){"undefined"!==typeof this.pickedSwag&&this.pickedSwag.deSelected();this.pickedSwag=a;a.isSelected();b.set(this.$el.swagFormTitleText,a.name);b.set(this.$el.swagFormButtonText,a.name);e.set(this.$el.itemTitle,"value",a.name);b.set(this.$el.swagTitle,a.name);e.set(this.$el.swagImage,"src",e.get(a.image[0],"src"));f(".swag_item-error").orphan()},isSkuValid:function(){return""===d.byId("sku").value?(f(".swag_item-error").orphan(),
n.place('\x3cdiv class\x3d"feedback-block error size1of1 section swag_item-error"\x3e \x3cdiv class\x3d"lastUnit size1of1"\x3e \x3cdiv class\x3d"media"\x3e \x3cdiv class\x3d"media-image"\x3e \x3cspan class\x3d"freddicon cross-circle-large"\x3e\x3c/span\x3e \x3c/div\x3e \x3cdiv class\x3d"media-body padding--lv2"\x3e \x3cstrong\x3ePlease select an item and size.\x3c/strong\x3e \x3c/div\x3e \x3c/div\x3e \x3c/div\x3e \x3c/div\x3e',d.byId("swag_card-grid"),"first"),document.body.scrollTop=document.documentElement.scrollTop=
0,!1):!0},isValidState:function(a,b){var c=b.$el.formCountry.textContent,d=!0;"USA"===c&&(d=t.us.isState(a));"Canada"===c&&(d=t.ca.isProvince(a));return{isValid:d,message:"Please enter a two character State or Province."}},checkForm:function(a,c){var h=t.check(a,profile),l=this;if(h.isSuccessful()&&l.isSkuValid())b.set(l.$el.confirmCountry,l.$el.formCountry.textContent),f("input[type\x3dtext]",l.$el.swagForm).forEach(function(a){var c=e.get(a,"value");a=e.get(a,"data-mc-el");c&&a&&(a=a.replace("form",
"confirm"),b.set(l.$el[a],p.encode(c)))}),confirmOrder.show(),f("input[type\x3dtext]").removeClass("invalid"),f(".swag-form-error").orphan();else{var k=h.getMissing();k.length&&k.forEach(function(a){g.contains(d.byId(a),"invalid")||(g.add(d.byId(a),"invalid"),n.place('\x3cspan class\x3d"invalid-error swag-form-error"\x3ePlease enter a value.\x3c/span\x3e',d.byId(a),"after"))})}h=h.getInvalid();h.length&&h.forEach(function(a){g.contains(d.byId(a.field),"invalid")||(g.add(d.byId(a.field),"invalid"),
n.place('\x3cspan class\x3d"invalid-error swag-form-error"\x3e'+a.message+"\x3c/span\x3e",d.byId(a.field),"after"))})},onReady:function(){var a=this;a.swag=[];f("[data-swag]").forEach(function(b){a.swag.push(a.swagObjFactory(b))});a.swag.forEach(function(b){c(b.picker,"change",function(c){e.set(d.byId("sku"),"value",b.sizeSelector[0].value);a.selectSwag(b)});c(b.sizeSelector,"change",function(c){e.set(d.byId("sku"),"value",b.sizeSelector[0].value);a.selectSwag(b)})});profile={required:"fname lname email addr1 city zip".split(" "),
constraints:{state:[a.isValidState,a]}};c(a.$el.sendSwag,"click",function(b){a.checkForm(a.$el.swagForm,b)});c(a.$el.confirmSendOrder,"click",function(b){a.$el.swagForm.submit()})}})})},"dojo/NodeList-data":function(){define(["./_base/kernel","./query","./_base/lang","./_base/array","./dom-attr"],function(h,k,d,g,b){var c=k.NodeList,f={},l=0,e=function(a){var c=b.get(a,"data-dojo-dataid");c||(c="pid"+l++,b.set(a,"data-dojo-dataid",c));return c},a=h._nodeData=function(a,b,c){var g=e(a),h;f[g]||(f[g]=
{});if(1==arguments.length)return f[g];"string"==typeof b?2<arguments.length?f[g][b]=c:h=f[g][b]:h=d.mixin(f[g],b);return h},m=h._removeNodeData=function(a,b){var c=e(a);f[c]&&(b?delete f[c][b]:delete f[c])};c._gcNodeData=h._gcNodeData=function(){var a=k("[data-dojo-dataid]").map(e),b;for(b in f)0>g.indexOf(a,b)&&delete f[b]};d.extend(c,{data:c._adaptWithCondition(a,function(a){return 0===a.length||1==a.length&&"string"==typeof a[0]}),removeData:c._adaptAsForEach(m)});return c})},"dojox/validate":function(){define(["./validate/_base"],
function(h){return h})},"dojox/validate/_base":function(){define(["dojo/_base/lang","dojo/regexp","dojo/number","./regexp"],function(h,k,d,g){var b=h.getObject("dojox.validate",!0);b.isText=function(b,d){d="object"==typeof d?d:{};return/^\s*$/.test(b)||"number"==typeof d.length&&d.length!=b.length||"number"==typeof d.minlength&&d.minlength>b.length||"number"==typeof d.maxlength&&d.maxlength<b.length?!1:!0};b._isInRangeCache={};b.isInRange=function(c,f){c=d.parse(c,f);if(isNaN(c))return!1;f="object"==
typeof f?f:{};var g="number"==typeof f.max?f.max:Infinity,e="number"==typeof f.min?f.min:-Infinity,a=b._isInRangeCache,h=c+"max"+g+"min"+e+"dec"+("string"==typeof f.decimal?f.decimal:".");if("undefined"!=typeof a[h])return a[h];a[h]=!(c<e||c>g);return a[h]};b.isNumberFormat=function(b,d){return RegExp("^"+g.numberFormat(d)+"$","i").test(b)};b.isValidLuhn=function(b){var d=0,g,e;h.isString(b)||(b=String(b));b=b.replace(/[- ]/g,"");g=b.length%2;for(var a=0;a<b.length;a++)e=parseInt(b.charAt(a)),a%2==
g&&(e*=2),9<e&&(e-=9),d+=e;return!(d%10)};return b})},"dojox/validate/regexp":function(){define(["dojo/_base/lang","dojo/regexp","dojox/main"],function(h,k,d){var g=h.getObject("validate.regexp",!0,d);return g=d.validate.regexp={ipAddress:function(b){b="object"==typeof b?b:{};"boolean"!=typeof b.allowDottedDecimal&&(b.allowDottedDecimal=!0);"boolean"!=typeof b.allowDottedHex&&(b.allowDottedHex=!0);"boolean"!=typeof b.allowDottedOctal&&(b.allowDottedOctal=!0);"boolean"!=typeof b.allowDecimal&&(b.allowDecimal=
!0);"boolean"!=typeof b.allowHex&&(b.allowHex=!0);"boolean"!=typeof b.allowIPv6&&(b.allowIPv6=!0);"boolean"!=typeof b.allowHybrid&&(b.allowHybrid=!0);var c=[];b.allowDottedDecimal&&c.push("((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.){3}(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])");b.allowDottedHex&&c.push("(0[xX]0*[\\da-fA-F]?[\\da-fA-F]\\.){3}0[xX]0*[\\da-fA-F]?[\\da-fA-F]");b.allowDottedOctal&&c.push("(0+[0-3][0-7][0-7]\\.){3}0+[0-3][0-7][0-7]");b.allowDecimal&&c.push("(0|[1-9]\\d{0,8}|[1-3]\\d{9}|4[01]\\d{8}|42[0-8]\\d{7}|429[0-3]\\d{6}|4294[0-8]\\d{5}|42949[0-5]\\d{4}|429496[0-6]\\d{3}|4294967[01]\\d{2}|42949672[0-8]\\d|429496729[0-5])");
b.allowHex&&c.push("0[xX]0*[\\da-fA-F]{1,8}");b.allowIPv6&&c.push("([\\da-fA-F]{1,4}\\:){7}[\\da-fA-F]{1,4}");b.allowHybrid&&c.push("([\\da-fA-F]{1,4}\\:){6}((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.){3}(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])");b="";0<c.length&&(b="("+c.join("|")+")");return b},host:function(b){b="object"==typeof b?b:{};"boolean"!=typeof b.allowIP&&(b.allowIP=!0);"boolean"!=typeof b.allowLocal&&(b.allowLocal=!1);"boolean"!=typeof b.allowPort&&(b.allowPort=!0);"boolean"!=typeof b.allowNamed&&
(b.allowNamed=!1);var c=b.allowPort?"(\\:\\d+)?":"",d="((?:(?:[\\da-zA-Z](?:[-\\da-zA-Z]{0,61}[\\da-zA-Z])?)\\.)+(?:[a-zA-Z](?:[-\\da-zA-Z]{0,6}[\\da-zA-Z])?)\\.?)";b.allowIP&&(d+="|"+g.ipAddress(b));b.allowLocal&&(d+="|localhost");b.allowNamed&&(d+="|^[^-][a-zA-Z0-9_-]*");return"("+d+")"+c},url:function(b){b="object"==typeof b?b:{};"scheme"in b||(b.scheme=[!0,!1]);return k.buildGroupRE(b.scheme,function(b){return b?"(https?|ftps?)\\://":""})+g.host(b)+"(/(?:[^?#\\s/]+/)*(?:[^?#\\s/]+(?:\\?[^?#\\s/]*)?(?:#[A-Za-z][\\w.:-]*)?)?)?"},
emailAddress:function(b){b="object"==typeof b?b:{};"boolean"!=typeof b.allowCruft&&(b.allowCruft=!1);b.allowPort=!1;var c="([!#-'*+\\-\\/-9\x3d?A-Z^-~]+[.])*[!#-'*+\\-\\/-9\x3d?A-Z^-~]+@"+g.host(b);b.allowCruft&&(c="\x3c?(mailto\\:)?"+c+"\x3e?");return c},emailAddressList:function(b){b="object"==typeof b?b:{};"string"!=typeof b.listSeparator&&(b.listSeparator="\\s;,");var c=g.emailAddress(b);return"("+c+"\\s*["+b.listSeparator+"]\\s*)*"+c+"\\s*["+b.listSeparator+"]?\\s*"},numberFormat:function(b){b=
"object"==typeof b?b:{};"undefined"==typeof b.format&&(b.format="###-###-####");return k.buildGroupRE(b.format,function(b){return k.escapeString(b,"?").replace(/\?/g,"\\d?").replace(/#/g,"\\d")})},ca:{postalCode:function(){return"([A-Z][0-9][A-Z] [0-9][A-Z][0-9])"},province:function(){return"(AB|BC|MB|NB|NL|NS|NT|NU|ON|PE|QC|SK|YT)"}},us:{state:function(b){b="object"==typeof b?b:{};"boolean"!=typeof b.allowTerritories&&(b.allowTerritories=!0);"boolean"!=typeof b.allowMilitary&&(b.allowMilitary=!0);
var c="AL|AK|AZ|AR|CA|CO|CT|DE|DC|FL|GA|HI|ID|IL|IN|IA|KS|KY|LA|ME|MD|MA|MI|MN|MS|MO|MT|NE|NV|NH|NJ|NM|NY|NC|ND|OH|OK|OR|PA|RI|SC|SD|TN|TX|UT|VT|VA|WA|WV|WI|WY";b.allowTerritories&&(c+="|AS|FM|GU|MH|MP|PW|PR|VI");b.allowMilitary&&(c+="|AA|AE|AP");return"("+c+")"}}}})},"dojox/validate/check":function(){define(["dojo/_base/kernel","dojo/_base/lang","./_base"],function(h,k,d){h.experimental("dojox.validate.check");d.check=function(g,b){var c=[],f=[],h={isSuccessful:function(){return!this.hasInvalid()&&
!this.hasMissing()},hasMissing:function(){return 0<c.length},getMissing:function(){return c},isMissing:function(a){for(var b=0;b<c.length;b++)if(a==c[b])return!0;return!1},hasInvalid:function(){return 0<f.length},getInvalid:function(){return f},isInvalid:function(a){for(var b=0;b<f.length;b++)if(a==f[b])return!0;return!1}},e=function(a,b){return"undefined"==typeof b[a]};if(b.trim instanceof Array)for(var a=0;a<b.trim.length;a++){var m=g[b.trim[a]];e("type",m)||"text"!=m.type&&"textarea"!=m.type&&
"password"!=m.type||(m.value=m.value.replace(/(^\s*|\s*$)/g,""))}if(b.uppercase instanceof Array)for(a=0;a<b.uppercase.length;a++)m=g[b.uppercase[a]],e("type",m)||"text"!=m.type&&"textarea"!=m.type&&"password"!=m.type||(m.value=m.value.toUpperCase());if(b.lowercase instanceof Array)for(a=0;a<b.lowercase.length;a++)m=g[b.lowercase[a]],e("type",m)||"text"!=m.type&&"textarea"!=m.type&&"password"!=m.type||(m.value=m.value.toLowerCase());if(b.ucfirst instanceof Array)for(a=0;a<b.ucfirst.length;a++)m=g[b.ucfirst[a]],
e("type",m)||"text"!=m.type&&"textarea"!=m.type&&"password"!=m.type||(m.value=m.value.replace(/\b\w+\b/g,function(a){return a.substring(0,1).toUpperCase()+a.substring(1).toLowerCase()}));if(b.digit instanceof Array)for(a=0;a<b.digit.length;a++)m=g[b.digit[a]],e("type",m)||"text"!=m.type&&"textarea"!=m.type&&"password"!=m.type||(m.value=m.value.replace(/\D/g,""));if(b.required instanceof Array)for(a=0;a<b.required.length;a++)if(k.isString(b.required[a]))if(m=g[b.required[a]],!e("type",m)&&("text"==
m.type||"textarea"==m.type||"password"==m.type||"file"==m.type)&&/^\s*$/.test(m.value))c[c.length]=m.name;else if(!e("type",m)&&("select-one"==m.type||"select-multiple"==m.type)&&(-1==m.selectedIndex||/^\s*$/.test(m.options[m.selectedIndex].value)))c[c.length]=m.name;else if(m instanceof Array){for(var n=!1,p=0;p<m.length;p++)m[p].checked&&(n=!0);n||(c[c.length]=m[0].name)}if(b.required instanceof Array)for(a=0;a<b.required.length;a++)if(k.isObject(b.required[a])){var t,q;for(q in b.required[a])m=
g[q],t=b.required[a][q];if(m instanceof Array){for(p=n=0;p<m.length;p++)m[p].checked&&n++;n<t&&(c[c.length]=m[0].name)}else if(!e("type",m)&&"select-multiple"==m.type){for(p=n=0;p<m.options.length;p++)m.options[p].selected&&!/^\s*$/.test(m.options[p].value)&&n++;n<t&&(c[c.length]=m.name)}}if(k.isObject(b.dependencies))for(q in b.dependencies)m=g[q],!e("type",m)&&(!("text"!=m.type&&"textarea"!=m.type&&"password"!=m.type)&&!/\S+/.test(m.value)&&!h.isMissing(m.name))&&(a=g[b.dependencies[q]],!("text"!=
a.type&&"textarea"!=a.type&&"password"!=a.type)&&!/^\s*$/.test(a.value)&&(c[c.length]=m.name));if(k.isObject(b.constraints))for(q in b.constraints)if((m=g[q])&&(e("tagName",m)||!(0<=m.tagName.toLowerCase().indexOf("input")||0<=m.tagName.toLowerCase().indexOf("textarea"))||!/^\s*$/.test(m.value))){var r;if(k.isFunction(b.constraints[q]))r=b.constraints[q](m.value);else if(k.isFunction(k.getObject(q,!1,b.constraints)))r=k.getObject(q,!1,b.constraints)(m.value);else if(k.isArray(b.constraints[q]))if(k.isArray(b.constraints[q][0]))for(a=
0;a<b.constraints[q].length&&!(r=d.evaluateConstraint(b,b.constraints[q][a],q,m),!r.isValid);a++);else r=k.isFunction(k.getObject(q,!1,b.constraints))?d.evaluateConstraint(b,b.constraints[b.constraints[q]],q,m):d.evaluateConstraint(b,b.constraints[q],q,m);r?r.isValid||(f[f.length]={field:m.name,message:r.message}):f[f.length]=m.name}if(k.isObject(b.confirm))for(q in b.confirm)if(m=g[q],a=g[b.confirm[q]],!e("type",m)&&!e("type",a)&&!("text"!=m.type&&"textarea"!=m.type&&"password"!=m.type||a.type!=
m.type||a.value==m.value||h.isInvalid(m.name)||/^\s*$/.test(a.value)))f[f.length]=m.name;return h};d.evaluateConstraint=function(d,b,c,f){d=b[0];b=b.slice(1);b.unshift(f.value);return"undefined"!=typeof d&&"string"!=typeof d?d.apply(null,b):"undefined"!=typeof d&&"string"==typeof d&&k.isFunction(k.getObject(d))?k.getObject(d).apply(null,b):!1};return d.check})},"dojox/validate/web":function(){define(["./_base","./regexp"],function(h,k){h.isIpAddress=function(d,g){return RegExp("^"+k.ipAddress(g)+
"$","i").test(d)};h.isUrl=function(d,g){return RegExp("^"+k.url(g)+"$","i").test(d)};h.isEmailAddress=function(d,g){return RegExp("^"+k.emailAddress(g)+"$","i").test(d)};h.isEmailAddressList=function(d,g){return RegExp("^"+k.emailAddressList(g)+"$","i").test(d)};h.getEmailAddressList=function(d,g){g||(g={});g.listSeparator||(g.listSeparator="\\s;,");return h.isEmailAddressList(d,g)?d.split(RegExp("\\s*["+g.listSeparator+"]\\s*")):[]};return h})},"dojox/validate/us":function(){define(["dojo/_base/lang",
"./_base","./regexp"],function(h,k,d){h=h.getObject("us",!0,k);h.isState=function(g,b){return RegExp("^"+d.us.state(b)+"$","i").test(g)};h.isPhoneNumber=function(d){return k.isNumberFormat(d,{format:"###-###-####;(###) ###-####;(###) ### ####;###.###.####;###/###-####;### ### ####;###-###-#### x#???;(###) ###-#### x#???;(###) ### #### x#???;###.###.#### x#???;###/###-#### x#???;### ### #### x#???;##########".split(";")})};h.isSocialSecurityNumber=function(d){return k.isNumberFormat(d,{format:["###-##-####",
"### ## ####","#########"]})};h.isZipCode=function(d){return k.isNumberFormat(d,{format:["#####-####","##### ####","#########","#####"]})};return h})},"dojox/validate/ca":function(){define(["dojo/_base/lang","./_base","./regexp","./us"],function(h,k,d,g){var b=h.getObject("ca",!0,k);h.mixin(b,{isPhoneNumber:function(b){return g.isPhoneNumber(b)},isProvince:function(b){return RegExp("^"+d.ca.province()+"$","i").test(b)},isSocialInsuranceNumber:function(b){return k.isNumberFormat(b,{format:["###-###-###",
"### ### ###","#########"]})},isPostalCode:function(b){return RegExp("^"+d.ca.postalCode()+"$","i").test(b)}});return b})},"mojo/views/signup/confirm":function(){},"mojo/views/signup/new-user/welcome":function(){define("dojo/_base/declare dojo/_base/array dijit/registry mojo/views/_base dojo/query dojo/dom-class dojo/on dojo/dom-construct dojo/_base/lang dojo/dom-attr mojo/validate velocity/velocity dojo/Deferred dojo/dom-form dojo/request mojo/url mojo/utils mojo/user mojo/flags mojo/colors dojo/keys dojo/NodeList-traverse dojo/json dojo/topic dojo/_base/connect dojo/dom-style dojo/request/xhr mojo/url mojo/widgets/ProgressDots".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s,v,w,u,y,x,A,C,D,E,G,H,M){return h([g],{stepDoms:[],stepNames:[],welcomeWizardStep:null,socialAccounts:{},activeStepIndex:0,postInProgress:!1,progressDotWidget:null,getUserIsAgency:function(){return G.get(H.toUrl("signup/new-user/is-agency"),{handleAs:"json"})},checkAgency:function(){return this.isAgency},onReady:function(){this.stepDoms=this.$group.signupStep;this.stepDoms.forEach(e.hitch(this,function(a){this.stepNames.push(b("input[name\x3dstep]",a)[0].value)}));
this.reauthDialogListener();this.attachFormSubmitEventListener();this.attachSocialMediaEvents();this.updateSocialMediaStatus();this.progressDotWidget=new M({stepNum:this.checkAgency()?3:5,activeStepIndex:1},b("[data-mc-el\x3d'progressDots']")[0]);var a=this.$el.welcomeMsg;a&&(n.animate(a,"fadeOut",{duration:300,delay:4E3}),a=E.get(this.progressDotWidget.progressContainer,"marginTop"),0<a&&(n.animate(this.progressDotWidget.progressContainer,{marginTop:"90px"},{duration:0}),n.animate(this.progressDotWidget.progressContainer,
{marginTop:a},{duration:300,delay:4E3})));f(window,"popstate",e.hitch(this,function(a){a.state&&!this.postInProgress&&(this.postInProgress=!0,this.setActiveStep(a.state.activeStepIndex,!1))}));this.welcomeWizardStep?(3===this.welcomeWizardStep&&this.checkAgency()&&(this.welcomeWizardStep+=2),this.welcomeWizardStep===this.stepDoms.length-1&&E.set(this.progressDotWidget.progressContainer,"display","none"),this.setActiveStep(this.welcomeWizardStep,!0)):this.setActiveStep(this.activeStepIndex,!0)},reauthDialogListener:function(){C.subscribe("mojo/reauthdialog",
e.hitch(this,function(a){"hidden"==a.state&&(a=dojo.query('[data-mc-el\x3d"signupSubmit"]',this.stepDoms[this.activeStepIndex])[0],s.toggleButtonLoadingState(a,"Continue"))}))},attachFormSubmitEventListener:function(){this.stepDoms.forEach(e.hitch(this,function(a){f(a,"keyup",e.hitch(this,function(b){this.toggleContinueButton(a)}));f(a,"change",e.hitch(this,function(b){this.toggleContinueButton(a)}));f(a,"keydown",e.hitch(this,function(b){!m.validateForm(a,!0)&&b.keyCode===y.ENTER&&m.playDenyAnimation(a)}));
k.forEach(d.findWidgets(a),e.hitch(this,function(b){f(b,"change",e.hitch(this,function(){this.toggleContinueButton(a)}))}));f(a,"submit",e.hitch(this,this.handleFormSubmit))}))},updateProgress:function(){this.progressDotWidget.setStepNum(this.checkAgency()?3:5)},toggleContinueButton:function(c){var d=b("input[type\x3dsubmit]",c)[0];m.validateForm(c,!0)?a.remove(d,"disabled"):a.set(d,"disabled","disabled")},handleFormSubmit:function(a){var c=a.target;a.preventDefault();if(this.postInProgress)return s.toggleButtonLoadingState(b("input[type\x3dsubmit]",
c)[0]),!1;this.postInProgress=!0;c=a.target;if(m.validateForm(c,!1)){var d=this.activeStepIndex;this.postForm(c).then(e.hitch(this,function(a){s.toggleButtonLoadingState(b("input[type\x3dsubmit]",c)[0]);if(this.activeStepIndex!=d)return!1;if(a.redirect)document.location=a.redirect;else if(a.success)a=parseInt(a["next-step-index"],10),"ecomm"===this.stepNames[a]&&this.checkAgency()&&(a+=2),this.setActiveStep(a,!0);else return this.postInProgress=!1,a.errors&&a.errors.length&&(this.invalidateFieldsFromServer(c,
a.errors),b(".invalid",c)[0].focus()),!1}))}else return b(".invalid",c)[0].focus(),s.toggleButtonLoadingState(b("input[type\x3dsubmit]",c)[0]),!1},postForm:function(a){new p;a={method:"POST",data:t.toQuery(a),handleAs:"json"};return q(r.toUrl("/signup/new-user/welcome-wizard"),a)},invalidateFieldsFromServer:function(a,c){c.forEach(function(c){var d=b("input[name\x3d"+c.field+"]",a)[0];d&&m.invalidateField(d,c.message)})},setActiveStep:function(a,c){var d=this;this.progressDotWidget.setActiveDot(a+
1);var e=this.stepDoms[this.activeStepIndex],f=this.stepDoms[a];this.toggleContinueButton(f);f&&(this._toggleAgencyNewsletter(),a===this.stepDoms.length-1?n.animate(this.progressDotWidget.progressContainer,{opacity:0},{display:"none"}):a<this.stepDoms.length&&this.activeStepIndex===this.stepDoms.length-1&&n.animate(this.progressDotWidget.progressContainer,{opacity:1},{display:"inline-block"}),n.animate(e,"fadeOut",{duration:300,complete:function(){n.animate(f,"fadeIn",{duration:300,complete:function(){d.postInProgress=
!1;d.activeStepIndex=a;b("input[type\x3dtext], input[type\x3dradio], select, input[type\x3dsubmit]",f)[0].focus();c&&history.pushState({activeStepIndex:d.activeStepIndex},null,r.toUrl("/signup/new-user/welcome/",{step:d.stepNames[d.activeStepIndex]}))}})}}))},_toggleAgencyNewsletter:function(){this.getUserIsAgency().then(e.hitch(this,function(a){this.$group.flowStandard.toggleClass("hide",a.is_agency);this.$group.flowAgency.toggleClass("hide",!a.is_agency)}))},clearErrors:function(){this.$group.errorMsg.forEach(function(a){E.set(a,
"display","none")})},attachSocialMediaEvents:function(){f(window,"message",e.hitch(this,function(a){a=A.parse(a.data);"success"==a.s?(this.socialAccounts[a.t]=!0,this.updateSocialMediaStatus()):window.alert("Linking failed")}));this.$group.socialStatus.on("click",e.hitch(this,function(b){b.preventDefault();this.socialPopup=window.open(a.get(b.target,"href"),"social","width\x3d800px, height\x3d500, centerscreen, resizable");"undefined"==typeof this.socialPopup||null==this.socialPopup?E.set(this.$el.popupErrorMsg,
"display","block"):this.socialPopup.focus()}))},updateSocialMediaStatus:function(){this.$group.socialStatus.forEach(e.hitch(this,function(b){var d=this.socialAccounts[a.get(b,"data-social-type")];c.replace(b,d?"tick-fill-large":"add-fill-large",d?"add-fill-large":"tick-fill-large")}))}})})},"mojo/views/shopify/index":function(){define("dojo/_base/declare mojo/views/_base dojo/query dojo/dom-attr dojo/html dojo/dom-class mojo/url dojo/_base/lang dojo/request/xhr dojo/dom-style velocity/velocity velocity/velocity.ui".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m){return h([k],{onReady:function(){d(".template-select-button").on("click",function(){d(".template-select-button").html("Select").removeClass("p1");b.set(this,"Selected");c.add(this,"p1");d(".template-container").removeClass("v-bg-gray-lightest");var a=this.closest(".template-container");c.add(a,"v-bg-gray-lightest");a=g.get(this,"data-template");d("#sendTemplate").attr("data-template-selected",a)});d("#sendTemplate").on("click",function(a){a.preventDefault();a.stopPropagation();
c.add(this,"disabled");c.add(this,"button-loading");a=g.get(this,"data-resource");var b=g.get(this,"data-resource-id"),d=g.get(this,"data-template-selected"),h=g.get(this,"data-resource-shop");a=f.toUrl("shopify/build-campaign?resource\x3d"+a+"\x26id\x3d"+b+"\x26template_id\x3d"+d+"\x26shop\x3d"+h);e.get(a,{handleAs:"json",sync:!1}).then(l.hitch(this,function(a){a=f.toUrl(a.url);window.location.href=a}),function(a){})})}})})},"mojo/views/reports/content-compare":function(){define("dojo/_base/declare mojo/views/_base dojo/_base/lang dojo/_base/array dojo/html dojo/query dojo/number dojo/aspect dojo/dom-class dojo/dom-geometry dojo/on dojo/dom-style dojo/dom-construct dijit/registry mojo/utils dgrid/Grid dgrid/Keyboard dgrid/extensions/DijitRegistry dgrid/Selection mojo/app/mvt/ContentLinkViewer mojo/app/mvt/ContentLinkStats dojox/html/entities".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s,v,w,u,y,x){var A=h([r,s,v,w]);return h([k],{campaignId:null,testingSubjects:!1,testingFromNames:!1,testingContent:!1,testingSchedules:!1,numContents:1,contentLinkStats:[],detailedStats:null,onReady:function(){if(!this.testingContent||this.testingSubjects||this.testingFromNames||this.testingSchedules)this.linkDetails=new y({detailedStats:this.detailedStats,contentLinkStats:this.contentLinkStats,testingSubjects:this.testingSubjects,testingFromNames:this.testingFromNames,
testingSchedules:this.testingSchedules},this.$el.combinationStats);this.contentPreviewer=new u({campaignId:this.campaignId,numContents:this.numContents,onContentChange:d.hitch(this,function(a,b){this.linkDetails&&(0<=b?this.linkDetails.showLinkDetails(a,b):this.linkDetails.showContentDetails(a))})},this.$el.comparisonPreview);this.renderContentLink();this._setContainerHeight();m(window,"scroll",d.hitch(this,function(){this._stickyLinkDetails()}))},_buildTableData:function(){var a=this,b=[];g.forEach(this.contentLinkStats,
function(c,d){var e={contentType:"header",contentIndex:d,content:{title:"Content "+(d+1),description:a.testingContent?x.encode(c.description):""}};b.push(e);g.forEach(c.links,function(a,c){b.push({contentType:"link",contentIndex:d,linkIndex:c,content:a})});c.links.length||b.push({contentType:"no-data",content:{message:"Content does not have any tracked links."}})});return b},renderContentLink:function(){var a=new A({columns:{contentLink:{label:"Links",sortable:!1,renderCell:function(a,b,c){b="";switch(a.contentType){case "header":b+=
"\x3cspan class\x3d'fwb normal-meta'\x3e"+a.content.title+"\x3c/span\x3e\x3cbr\x3e";b+="\x3cspan class\x3d'small-meta dim6 fwb fsi'\x3e"+a.content.description+"\x3c/span\x3e";break;case "link":b="\x3cspan class\x3d'block padding--lv3 !padding-top-bottom--lv0 !padding-right--lv0'\x3e"+a.content.url+"\x3c/span\x3e";break;case "no-data":b="\x3cspan class\x3d'block padding--lv3 !padding-top-bottom--lv0 !padding-right--lv0 dim6 fsi'\x3e"+a.content.message+"\x3c/span\x3e";break;default:throw Error("Attempted to insert a row without a contentType");
}p.place(b,c)}},clickTotal:{label:"Total clicks",sortable:!1,renderCell:function(a,b,c){"link"==a.contentType&&p.place("\x3cspan\x3e"+f.format(a.content.overall_clicks)+"\x3c/span\x3e",c)}},contentClickRate:{label:this.testingContent&&!this.testingSubjects&&!this.testingFromNames&&!this.testingSchedules?"Click rate":"Avg. click rate",sortable:!1,renderCell:function(a,b,c){"link"===a.contentType&&(b=0,a.content.overall_delivered&&(b=100*(a.content.overall_clicks/a.content.overall_delivered)),0<b&&
(b=f.format(b,{places:1})),p.place("\x3cspan\x3e"+b+"%\x3c/span\x3e",c))}}},selectionMode:"single",cellNavigation:!1},this.$el.contentLinkGrid);a.renderArray(this._buildTableData());var b=this;a.on("dgrid-select",function(a){a=a.rows[0];switch(a.data.contentType){case "header":b.contentPreviewer.showContent(a.data.contentIndex);break;case "link":b.contentPreviewer.showContent(a.data.contentIndex,a.data.linkIndex)}});a.select(0)},_setContainerHeight:function(){var b=a.getContentBox(this.$el.stickyContainer).h;
this.$el.linkDetails.style.height=b+"px";this.pageHeight=b},_stickyLinkDetails:function(){var b=a.position(this.$el.linkDetails),c=this.$el.stickyContainer;60>=b.y&&1024<window.innerWidth&&window.innerHeight>this.pageHeight?(c.style.position="fixed",c.style.top="78px",c.style.width="inherit",c.style.maxWidth="606px",c.style.maxWidth="606px"):(c.style.position="",c.style.width="")}})})},"dgrid/Grid":function(){define("dojo/_base/declare dojo/_base/kernel dojo/dom-construct dojo/dom-class dojo/on dojo/has ./List ./util/misc dojo/_base/sniff".split(" "),
function(h,k,d,g,b,c,f,l){function e(a,b){b&&b.nodeType&&a.appendChild(b)}h=h(f,{columns:null,hasNeutralSort:!1,cellNavigation:!0,tabableHeader:!0,showHeader:!0,column:function(a){return"object"!==typeof a?this.columns[a]:this.cell(a).column},listType:"grid",cell:function(a,b){if(a.column&&a.element)return a;a.target&&a.target.nodeType&&(a=a.target);var c;if(a.nodeType){do{if(this._rowIdToObject[a.id])break;var d=a.columnId;if(d){b=d;c=a;break}a=a.parentNode}while(a&&a!==this.domNode)}if(!c&&"undefined"!==
typeof b){var e=this.row(a);if(d=e&&e.element)for(var d=d.getElementsByTagName("td"),f=0;f<d.length;f++)if(d[f].columnId===b){c=d[f];break}}if(null!=a)return{row:e||this.row(a),column:b&&this.column(b),element:c}},createRowCells:function(a,b,e,f){var g=d.create("table",{className:"dgrid-row-table",role:"presentation"}),h=9>c("ie")?d.create("tbody",null,g):g,k,s,v,w,u,y,x,A,C,D;e=e||this.subRows;s=0;for(v=e.length;s<v;s++){y=e[s];k=d.create("tr",null,h);y.className&&(k.className=y.className);w=0;for(u=
y.length;w<u;w++){x=y[w];A=x.id;C=x.field?" field-"+l.escapeCssIdentifier(x.field,"-"):"";(D="function"===typeof x.className?x.className(f):x.className)&&(C+=" "+D);C=d.create(a,{className:"dgrid-cell"+(A?" dgrid-column-"+l.escapeCssIdentifier(A,"-"):"")+C,role:"th"===a?"columnheader":"gridcell"});C.columnId=A;if(A=x.colSpan)C.colSpan=A;if(A=x.rowSpan)C.rowSpan=A;b(C,x);k.appendChild(C)}}return g},left:function(a,b){a.element||(a=this.cell(a));return this.cell(this._move(a,-(b||1),"dgrid-cell"))},
right:function(a,b){a.element||(a=this.cell(a));return this.cell(this._move(a,b||1,"dgrid-cell"))},_defaultRenderCell:function(a,b,c){if(this.formatter){var d=this.formatter,e=this.grid.formatterScope;c.innerHTML="string"===typeof d&&e?e[d](b,a):this.formatter(b,a)}else null!=b&&c.appendChild(document.createTextNode(b))},renderRow:function(a,b){var c=this,f=this.createRowCells("td",function(d,f){var g=a;f.get?g=f.get(a):"field"in f&&"_item"!==f.field&&(g=g[f.field]);f.renderCell?e(d,f.renderCell(a,
g,d,b)):c._defaultRenderCell.call(f,a,g,d,b)},b&&b.subRows,a),g=d.create("div",{role:"row"});g.appendChild(f);return g},renderHeader:function(){var a=this,f=this.headerNode;f.setAttribute("role","row");d.empty(f);var g=this.createRowCells("th",function(a,b){var c=b.headerNode=a,d=b.field;d&&(a.field=d);if(b.renderHeaderCell)e(c,b.renderHeaderCell(c));else if("label"in b||b.field)c.appendChild(document.createTextNode("label"in b?b.label:b.field));!1!==b.sortable&&(d&&"_item"!==d)&&(a.sortable=!0,a.className+=
" dgrid-sortable")},this.subRows&&this.subRows.headerRows);this._rowIdToObject[g.id=this.id+"-header"]=this.columns;f.appendChild(g);this._sortListener&&this._sortListener.remove();this._sortListener=b(g,"click,keydown",function(d){if("click"===d.type||32===d.keyCode||!c("opera")&&13===d.keyCode){var e=d.target,g,h;do if(e.sortable){g=e.field||e.columnId;h=a.sort[0];g=!a.hasNeutralSort||!h||h.property!==g||!h.descending?[{property:g,descending:h&&h.property===g&&!h.descending}]:[];h={bubbles:!0,cancelable:!0,
grid:a,parentType:d.type,sort:g};b.emit(d.target,"dgrid-sort",h)&&(a._sortNode=e,a.set("sort",g));break}while((e=e.parentNode)&&e!==f)}})},resize:function(){var a=this.headerNode.firstChild,b=this.contentNode,c;this.inherited(arguments);b.style.width="";if(b&&a&&(c=a.offsetWidth)>b.offsetWidth)b.style.width=c+"px"},destroy:function(){this._destroyColumns();this._sortListener&&this._sortListener.remove();this.inherited(arguments)},_setSort:function(){this.inherited(arguments);this.updateSortArrow(this.sort)},
_findSortArrowParent:function(a){var b=this.columns,c;for(c in b){var d=b[c];if(d.field===a)return d.headerNode}},updateSortArrow:function(a,b){this._lastSortedArrow&&(g.remove(this._lastSortedArrow.parentNode,"dgrid-sort-up dgrid-sort-down"),d.destroy(this._lastSortedArrow),delete this._lastSortedArrow);b&&(this.sort=a);if(a[0]){var c=a[0].property,e=a[0].descending,c=this._sortNode||this._findSortArrowParent(c);delete this._sortNode;c&&(c=c.contents||c,this._lastSortedArrow=d.create("div",{className:"dgrid-sort-arrow ui-icon",
innerHTML:"\x26nbsp;",role:"presentation"},c,"first"),g.add(c,"dgrid-sort-"+(e?"down":"up")),this.resize())}},styleColumn:function(a,b){return this.addCssRule("#"+l.escapeCssIdentifier(this.domNode.id)+" .dgrid-column-"+l.escapeCssIdentifier(a,"-"),b)},_configColumns:function(a,b){var c=[],d=b instanceof Array;l.each(b,function(e,f){"string"===typeof e&&(b[f]=e={label:e});!d&&!e.field&&(e.field=f);f=e.id=e.id||(isNaN(f)?f:a+f);this._configColumn&&(this._configColumn(e,b,a),f=e.id);d&&(this.columns[f]=
e);e.grid=this;"function"===typeof e.init&&(k.deprecated("colum.init","Column plugins are being phased out in favor of mixins for better extensibility. column.init may be removed in a future release."),e.init());c.push(e)},this);return d?b:c},_destroyColumns:function(){var a=this.subRows,b=a&&a.length,c,d,e,f;this.cleanup();for(c=0;c<b;c++){d=0;for(f=a[c].length;d<f;d++)e=a[c][d],"function"===typeof e.destroy&&(k.deprecated("colum.destroy","Column plugins are being phased out in favor of mixins for better extensibility. column.destroy may be removed in a future release."),
e.destroy())}},configStructure:function(){var a=this.subRows,b=this._columns=this.columns;this.columns=!b||b instanceof Array?{}:b;if(a)for(b=0;b<a.length;b++)a[b]=this._configColumns(b+"-",a[b]);else this.subRows=[this._configColumns("",b)]},_getColumns:function(){return this._columns||this.columns},_setColumns:function(a){this._destroyColumns();this.subRows=null;this.columns=a;this._updateColumns()},_setSubRows:function(a){this._destroyColumns();this.subRows=a;this._updateColumns()},_updateColumns:function(){this.configStructure();
this.renderHeader();this.refresh();this._lastCollection&&this.renderArray(this._lastCollection);this._started&&(this.sort.length?(this._lastSortedArrow=null,this.updateSortArrow(this.sort)):this.resize())}});h.appendIfNode=e;return h})},"dgrid/List":function(){define("dojo/_base/declare dojo/dom-construct dojo/dom-class dojo/on dojo/has ./util/misc dojo/_base/sniff".split(" "),function(h,k,d,g,b,c){function f(a,b){a.className="dgrid-scrollbar-measure";document.body.appendChild(a);var c=a["offset"+
b]-a["client"+b];a.className="";a.parentNode&&document.body.removeChild(a);return c}function l(a){d.replace(this.domNode,a,this._class||"");this._class=a}function e(){return this._class}var a=[];b("mozilla")&&a.push("has-mozilla");b("touch")&&a.push("has-touch");d.add(document.documentElement,a);b.add("pointer",function(a){return"PointerEvent"in a?"pointer":"MSPointerEvent"in a?"MSPointer":!1});var m,n;b.add("dom-scrollbar-width",function(a,b,c){return f(c,"Width")});b.add("dom-scrollbar-height",
function(a,b,c){return f(c,"Height")});b.add("dom-rtl-scrollbar-left",function(a,c,d){a=document.createElement("div");d.className="dgrid-scrollbar-measure";d.setAttribute("dir","rtl");d.appendChild(a);document.body.appendChild(d);c=!!b("ie")||!!b("trident")||a.offsetLeft>=b("dom-scrollbar-width");d.className="";d.parentNode&&document.body.removeChild(d);k.destroy(a);d.removeAttribute("dir");return c});var p=0,t=function(){this._started&&this.resize()},q=h(null,{tabableHeader:!1,showHeader:!1,showFooter:!1,
maintainOddEven:!0,cleanAddedRules:!0,addUiClasses:!0,highlightDuration:250,postscript:function(a,b){var c=this;(this._Row=function(a,b,c){this.id=a;this.data=b;this.element=c}).prototype.remove=function(){c.removeRow(this.element)};b&&(this.srcNodeRef=b=b.nodeType?b:document.getElementById(b));this.create(a,b)},listType:"list",create:function(a,b){var c=this.domNode=b||document.createElement("div"),d;a&&(this.params=a,h.safeMixin(this,a),d=a["class"]||a.className||c.className);this.sort=this.sort||
[];this._listeners=[];this._rowIdToObject={};this.postMixInProperties&&this.postMixInProperties();this.id=c.id=c.id||this.id||q.autoIdPrefix+p++;this.buildRendering();d&&l.call(this,d);this.postCreate();delete this.srcNodeRef;this.domNode.offsetHeight&&this.startup()},buildRendering:function(){var a=this.domNode,e=this.addUiClasses,f=this,h,l,m;m=this.isRTL="rtl"===(document.body.dir||document.documentElement.dir||document.body.style.direction).toLowerCase();a.className="";a.setAttribute("role","grid");
d.add(a,"dgrid dgrid-"+this.listType+(e?" ui-widget":""));h=this.headerNode=k.create("div",{className:"dgrid-header dgrid-header-row"+(e?" ui-widget-header":"")+(this.showHeader?"":" dgrid-header-hidden")},a);l=this.bodyNode=k.create("div",{className:"dgrid-scroller"},a);b("ff")&&(l.tabIndex=-1);this.headerScrollNode=k.create("div",{className:"dgrid-header dgrid-header-scroll dgrid-scrollbar-width"+(e?" ui-widget-header":"")},a);this.footerNode=k.create("div",{className:"dgrid-footer"+(this.showFooter?
"":" dgrid-footer-hidden")},a);m&&(a.className+=" dgrid-rtl"+(b("dom-rtl-scrollbar-left")?" dgrid-rtl-swap":""));g(l,"scroll",function(b){f.showHeader&&(h.scrollLeft=b.scrollLeft||l.scrollLeft);b.stopPropagation();g.emit(a,"scroll",{scrollTarget:l})});this.configStructure();this.renderHeader();this.contentNode=this.touchNode=k.create("div",{className:"dgrid-content"+(e?" ui-widget-content":"")},this.bodyNode);this._listeners.push(this._resizeHandle=g(window,"resize",c.throttleDelayed(t,this)))},postCreate:function(){},
startup:function(){this._started||(this.inherited(arguments),this._started=!0,this.resize(),this.set("sort",this.sort))},configStructure:function(){},resize:function(){var a=this.bodyNode,d=this.footerNode,d=this.showFooter?d.offsetHeight:0;this.headerScrollNode.style.height=a.style.marginTop=this.headerNode.offsetHeight+"px";a.style.marginBottom=d+"px";m||(m=b("dom-scrollbar-width"),n=b("dom-scrollbar-height"),b("ie")&&(m++,n++),c.addCssRule(".dgrid-scrollbar-width","width: "+m+"px"),c.addCssRule(".dgrid-scrollbar-height",
"height: "+n+"px"),17!==m&&(c.addCssRule(".dgrid-header-row","right: "+m+"px"),c.addCssRule(".dgrid-rtl-swap .dgrid-header-row","left: "+m+"px")))},addCssRule:function(a,b){var d=c.addCssRule(a,b);this.cleanAddedRules&&this._listeners.push(d);return d},on:function(a,c){var d=g(this.domNode,a,c);b("dom-addeventlistener")||this._listeners.push(d);return d},cleanup:function(){for(var a in this._rowIdToObject)if(this._rowIdToObject[a]!==this.columns){var b=document.getElementById(a);b&&this.removeRow(b,
!0)}},destroy:function(){if(this._listeners){for(var a=this._listeners.length;a--;)this._listeners[a].remove();this._listeners=null}this._started=!1;this.cleanup();k.destroy(this.domNode)},refresh:function(){this.cleanup();this._rowIdToObject={};this._autoRowId=0;this.contentNode.innerHTML="";this.scrollTo({x:0,y:0})},highlightRow:function(a,b){var c="dgrid-highlight"+(this.addUiClasses?" ui-state-highlight":"");a=a.element||a;d.add(a,c);setTimeout(function(){d.remove(a,c)},b||this.highlightDuration)},
adjustRowIndices:function(a){var b=a.rowIndex;if(-1<b){do-1<a.rowIndex&&(this.maintainOddEven&&d.contains(a,"dgrid-row")&&d.replace(a,1===b%2?"dgrid-row-odd":"dgrid-row-even",0===b%2?"dgrid-row-odd":"dgrid-row-even"),a.rowIndex=b++);while((a=a.nextSibling)&&a.rowIndex!==b)}},renderArray:function(a,b,c){c=c||{};var d=c.start||0,e=document.createDocumentFragment(),f=[],g=0,h=a.length;b||(this._lastCollection=a);for(;g<h;)f[g]=this.insertRow(a[g],e,null,d++,c),g++;if((a=b?b.parentNode:this.contentNode)&&
a.parentNode&&(a!==this.contentNode||h))a.insertBefore(e,b||null),h&&this.adjustRowIndices(f[h-1]);return f},renderHeader:function(){},_autoRowId:0,insertRow:function(a,b,c,d,e){var f=this.id+"-row-"+(this.collection&&this.collection.getIdentity?this.collection.getIdentity(a):this._autoRowId++),g=document.getElementById(f),h=g&&g.previousSibling;g&&(g===c&&(c=(c.connected||c).nextSibling),this.removeRow(g));g=this.renderRow(a,e);g.className=(g.className||"")+" dgrid-row "+(1===d%2?"dgrid-row-odd":
"dgrid-row-even")+(this.addUiClasses?" ui-state-default":"");this._rowIdToObject[g.id=f]=a;b.insertBefore(g,c||null);g.rowIndex=d;h&&h.rowIndex!==g.rowIndex-1&&this.adjustRowIndices(h);return g},renderRow:function(a){var b=document.createElement("div");b.appendChild(document.createTextNode(a));return b},removeRow:function(a,b){a=a.element||a;delete this._rowIdToObject[a.id];b||k.destroy(a)},row:function(a){var b;if(a instanceof this._Row)return a;a.target&&a.target.nodeType&&(a=a.target);if(a.nodeType){do{var c=
a.id;if(b=this._rowIdToObject[c])return new this._Row(c.substring(this.id.length+5),b,a);a=a.parentNode}while(a&&a!==this.domNode)}else return"object"===typeof a?b=this.collection.getIdentity(a):(b=a,a=this._rowIdToObject[this.id+"-row-"+b]),new this._Row(b,a,document.getElementById(this.id+"-row-"+b))},cell:function(a){return{row:this.row(a)}},_move:function(a,b,c,d){var e,f;f=e=a.element;b=b||1;do if(a=e[0>b?"previousSibling":"nextSibling"]){do if((e=a)&&-1<(e.className+" ").indexOf(c+" ")){f=e;
b+=0>b?1:-1;break}while(a=(!d||!e.hidden)&&e[0>b?"lastChild":"firstChild"])}else if(e=e.parentNode,!e||e===this.bodyNode||e===this.headerNode)break;while(b);return f},up:function(a,b,c){a.element||(a=this.row(a));return this.row(this._move(a,-(b||1),"dgrid-row",c))},down:function(a,b,c){a.element||(a=this.row(a));return this.row(this._move(a,b||1,"dgrid-row",c))},scrollTo:function(a){"undefined"!==typeof a.x&&(this.bodyNode.scrollLeft=a.x);"undefined"!==typeof a.y&&(this.bodyNode.scrollTop=a.y)},
getScrollPosition:function(){return{x:this.bodyNode.scrollLeft,y:this.bodyNode.scrollTop}},get:function(a){var b="_get"+a.charAt(0).toUpperCase()+a.slice(1);return"function"===typeof this[b]?this[b].apply(this,[].slice.call(arguments,1)):this[a]},set:function(a,b){if("object"===typeof a)for(var c in a)this.set(c,a[c]);else c="_set"+a.charAt(0).toUpperCase()+a.slice(1),"function"===typeof this[c]?this[c].apply(this,[].slice.call(arguments,1)):this[a]=b;return this},_getClass:e,_setClass:l,_getClassName:e,
_setClassName:l,_setSort:function(a,b){this.sort="string"!==typeof a?a:[{property:a,descending:b}];this._applySort()},_applySort:function(){this.refresh();if(this._lastCollection){var a=this.sort;if(a&&0<a.length){var b=a[0].property,c=!!a[0].descending;this._lastCollection.sort(function(a,d){var e=a[b],f=d[b];void 0===e&&(e="");void 0===f&&(f="");return e===f?0:e>f!==c?1:-1})}this.renderArray(this._lastCollection)}},_setShowHeader:function(a){var b=this.headerNode;this.showHeader=a;d.toggle(b,"dgrid-header-hidden",
!a);this.renderHeader();this.resize();a&&(b.scrollLeft=this.getScrollPosition().x)},_setShowFooter:function(a){this.showFooter=a;d.toggle(this.footerNode,"dgrid-footer-hidden",!a);this.resize()}});q.autoIdPrefix="dgrid_";return q})},"dgrid/util/misc":function(){define(["dojo/has"],function(h){h.add("dom-contains",function(b,c,a){return!!a.contains});var k=[],d,g,b,c=/([^A-Za-z0-9_\u00A0-\uFFFF-])/g,f={defaultDelay:15,throttle:function(b,c,a){var d=!1;a=a||f.defaultDelay;return function(){d||(d=!0,
b.apply(c,arguments),setTimeout(function(){d=!1},a))}},throttleDelayed:function(b,c,a){var d=!1;a=a||f.defaultDelay;return function(){if(!d){d=!0;var f=arguments;setTimeout(function(){d=!1;b.apply(c,f)},a)}}},debounce:function(b,c,a){var d;a=a||f.defaultDelay;return function(){d&&(clearTimeout(d),d=null);var f=arguments;d=setTimeout(function(){b.apply(c,f)},a)}},each:function(b,c,a){var d,f;if(b)if("number"===typeof b.length){d=0;for(f=b.length;d<f;d++)c.call(a,b[d],d,b)}else for(d in b)c.call(a,
b[d],d,b)},contains:function(b,c){return h("dom-contains")?b.contains(c):b.compareDocumentPosition(c)&8},addCssRule:function(c,e){d||(d=document.createElement("style"),document.getElementsByTagName("head")[0].appendChild(d),d=d.sheet||d.styleSheet,g=d.deleteRule?"deleteRule":"removeRule",b=d.cssRules?"cssRules":"rules");var a=k.length;k[a]=(d.cssRules||d.rules).length;d.addRule?d.addRule(c,e):d.insertRule(c+"{"+e+"}",k[a]);return{get:function(c){return d[b][k[a]].style[c]},set:function(c,e){"undefined"!==
typeof k[a]&&(d[b][k[a]].style[c]=e)},remove:function(){var b=k[a],c,e;if(void 0!==b){d[g](b);k[a]=void 0;c=a+1;for(e=k.length;c<e;c++)k[c]>b&&k[c]--}}}},escapeCssIdentifier:function(b,d){return"string"===typeof b?b.replace(c,d||"\\$1"):b}};return f})},"dgrid/Keyboard":function(){define("dojo/_base/declare dojo/aspect dojo/dom-class dojo/on dojo/_base/lang dojo/has ./util/misc dojo/_base/sniff".split(" "),function(h,k,d,g,b,c,f){function l(a){a.preventDefault()}var e={checkbox:1,radio:1,button:1},
a=/\bdgrid-cell\b/,m=/\bdgrid-row\b/,n=h(null,{pageSkip:10,tabIndex:0,keyMap:null,headerKeyMap:null,postMixInProperties:function(){this.inherited(arguments);this.keyMap||(this.keyMap=b.mixin({},n.defaultKeyMap));this.headerKeyMap||(this.headerKeyMap=b.mixin({},n.defaultHeaderKeyMap))},postCreate:function(){function b(a){var c=a.target;return c.type&&(!e[c.type]||32===a.keyCode)}function c(e){function h(){d._focusedHeaderNode&&(d._focusedHeaderNode.tabIndex=-1);if(d.showHeader){if(l)for(var a=d.headerNode.getElementsByTagName("th"),
b=0,c;c=a[b];++b){if(n.test(c.className)){d._focusedHeaderNode=p=c;break}}else d._focusedHeaderNode=p=d.headerNode;p&&(p.tabIndex=d.tabIndex)}}var l=d.cellNavigation,n=l?a:m,q=e===d.headerNode,p=e;q?(h(),k.after(d,"renderHeader",h,!0)):k.after(d,"renderArray",function(a){var b=d._focusedNode||p;if(n.test(b.className)&&f.contains(e,b))return a;for(var c=e.getElementsByTagName("*"),g=0,h;h=c[g];++g)if(n.test(h.className)){b=d._focusedNode=h;break}b.tabIndex=d.tabIndex;return a});d._listeners.push(g(e,
"mousedown",function(a){b(a)||d._focusOnNode(a.target,q,a)}));d._listeners.push(g(e,"keydown",function(a){if(!a.metaKey&&!a.altKey){var c=d[q?"headerKeyMap":"keyMap"][a.keyCode];c&&!b(a)&&c.call(d,a)}}))}this.inherited(arguments);var d=this;this.tabableHeader&&(c(this.headerNode),g(this.headerNode,"dgrid-cellfocusin",function(){d.scrollTo({x:this.scrollLeft})}));c(this.contentNode);this._debouncedEnsureScroll=f.debounce(this._ensureScroll,this)},removeRow:function(a){if(!this._focusedNode)return this.inherited(arguments);
var b=this,c=document.activeElement===this._focusedNode,d=this[this.cellNavigation?"cell":"row"](this._focusedNode),e=d.row||d,f;a=a.element||a;if(a===e.element){f=this.down(e,!0);if(!f||f.element===a)f=this.up(e,!0);this._removedFocus={active:c,rowId:e.id,columnId:d.column&&d.column.id,siblingId:!f||f.element===a?void 0:f.id};setTimeout(function(){b._removedFocus&&b._restoreFocus(e.id)},0);this._focusedNode=null}this.inherited(arguments)},insertRow:function(){var a=this.inherited(arguments);this._removedFocus&&
!this._removedFocus.wait&&this._restoreFocus(a);return a},_restoreFocus:function(a){var b=this._removedFocus,c;if((a=(a=a&&this.row(a))&&a.element&&a.id===b.rowId?a:"undefined"!==typeof b.siblingId&&this.row(b.siblingId))&&a.element){if(!a.element.parentNode.parentNode){b.wait=!0;return}"undefined"!==typeof b.columnId&&(c=this.cell(a,b.columnId))&&c.element&&(a=c);b.active&&0!==a.element.offsetHeight?this._focusOnNode(a,!1,null):(d.add(a.element,"dgrid-focus"),a.element.tabIndex=this.tabIndex,this._focusedNode=
a.element)}delete this._removedFocus},addKeyHandler:function(a,b,c){return k.after(this[c?"headerKeyMap":"keyMap"],a,b,!0)},_ensureRowScroll:function(a){var b=this.getScrollPosition().y;b>a.offsetTop?this.scrollTo({y:a.offsetTop}):b+this.contentNode.offsetHeight<a.offsetTop+a.offsetHeight&&this.scrollTo({y:a.offsetTop-this.contentNode.offsetHeight+a.offsetHeight})},_ensureColumnScroll:function(a){var b=this.getScrollPosition().x,c=a.offsetLeft;if(b>c)this.scrollTo({x:c});else{var d=this.bodyNode.clientWidth;
a=a.offsetWidth;var e=c+a;b+d<e&&this.scrollTo({x:d>a?e-d:c})}},_ensureScroll:function(a,b){this.cellNavigation&&((this.columnSets||1<this.subRows.length)&&!b)&&this._ensureRowScroll(a.row.element);this.bodyNode.clientWidth<this.contentNode.offsetWidth&&this._ensureColumnScroll(a.element)},_focusOnNode:function(c,e,f){var h="_focused"+(e?"Header":"")+"Node",l=this[h],k=this.cellNavigation?"cell":"row",n=this[k](c),q,p,r,s,t;if(c=n&&n.element){if(this.cellNavigation){q=c.getElementsByTagName("input");
t=0;for(r=q.length;t<r;t++)if(p=q[t],(-1!==p.tabIndex||"_dgridLastValue"in p)&&!p.disabled){p.focus();s=!0;break}}null!==f&&(f=b.mixin({grid:this},f),f.type&&(f.parentType=f.type),f.bubbles||(f.bubbles=!0));l&&(d.remove(l,"dgrid-focus"),l.removeAttribute("tabindex"),f&&(f[k]=this[k](l),g.emit(l,"dgrid-cellfocusout",f)));l=this[h]=c;f&&(f[k]=n);h=this.cellNavigation?a:m;!s&&h.test(c.className)&&(c.tabIndex=this.tabIndex,c.focus());d.add(c,"dgrid-focus");f&&g.emit(l,"dgrid-cellfocusin",f);this._debouncedEnsureScroll(n,
e)}},focusHeader:function(a){this._focusOnNode(a||this._focusedHeaderNode,!0)},focus:function(a){(a=a||this._focusedNode)?this._focusOnNode(a,!1):this.contentNode.focus()}}),p=n.moveFocusVertical=function(a,b){var c=this.cellNavigation,d=this[c?"cell":"row"](a),d=c&&d.column.id,e=this.down(this._focusedNode,b,!0);c&&(e=this.cell(e,d));this._focusOnNode(e,!1,a);a.preventDefault()};h=n.moveFocusUp=function(a){p.call(this,a,-1)};var t=n.moveFocusDown=function(a){p.call(this,a,1)},q=n.moveFocusPageUp=
function(a){p.call(this,a,-this.pageSkip)},r=n.moveFocusPageDown=function(a){p.call(this,a,this.pageSkip)},s=n.moveFocusHorizontal=function(a,b){if(this.cellNavigation){var c=!this.row(a);this._focusOnNode(this.right(this["_focused"+(c?"Header":"")+"Node"],b),c,a);a.preventDefault()}},v=n.moveFocusLeft=function(a){s.call(this,a,-1)},w=n.moveFocusRight=function(a){s.call(this,a,1)},u=n.moveHeaderFocusEnd=function(a,b){var c;this.cellNavigation&&(c=this.headerNode.getElementsByTagName("th"),this._focusOnNode(c[b?
0:c.length-1],!0,a));a.preventDefault()},y=n.moveHeaderFocusHome=function(a){u.call(this,a,!0)},x=n.moveFocusEnd=function(a,d){var e=this.cellNavigation,f=this.contentNode,g=f.scrollTop+(d?0:f.scrollHeight),f=f[d?"firstChild":"lastChild"],h=-1<f.className.indexOf("dgrid-preload"),l=h?f[(d?"next":"previous")+"Sibling"]:f,m=l.offsetTop+(d?0:l.offsetHeight),n;if(h){for(;l&&0>l.className.indexOf("dgrid-row");)l=l[(d?"next":"previous")+"Sibling"];if(!l)return}!h||1>f.offsetHeight?(e&&(l=this.cell(l,this.cell(a).column.id)),
this._focusOnNode(l,!1,a)):(c("dom-addeventlistener")||(a=b.mixin({},a)),n=k.after(this,"renderArray",function(b){var c=b[d?0:b.length-1];e&&(c=this.cell(c,this.cell(a).column.id));this._focusOnNode(c,!1,a);n.remove();return b}));g===m&&a.preventDefault()},A=n.moveFocusHome=function(a){x.call(this,a,!0)};n.defaultKeyMap={32:l,33:q,34:r,35:x,36:A,37:v,38:h,39:w,40:t};n.defaultHeaderKeyMap={32:l,35:u,36:y,37:v,39:w};return n})},"dgrid/extensions/DijitRegistry":function(){define(["dojo/_base/declare",
"dojo/dom-geometry","dijit/registry"],function(h,k,d){return h(null,{minSize:0,maxSize:Infinity,layoutPriority:0,showTitle:!0,buildRendering:function(){d.add(this);this.inherited(arguments);this.domNode.setAttribute("widgetId",this.id)},startup:function(){if(!this._started){this.inherited(arguments);var g=d.getEnclosingWidget(this.domNode.parentNode);g&&g.isLayoutContainer&&this._resizeHandle.remove()}},destroyRecursive:function(){this.destroy()},destroy:function(){this.inherited(arguments);d.remove(this.id)},
getChildren:function(){return[]},isLeftToRight:function(){return!this.isRTL},resize:function(d){d&&k.setMarginBox(this.domNode,d);this.inherited(arguments)},_set:function(d,b){this[d]=b},watch:function(){},getParent:function(){return d.getEnclosingWidget(this.domNode.parentNode)}})})},"dgrid/Selection":function(){define("dojo/_base/declare dojo/dom-class dojo/on dojo/has dojo/aspect ./List dojo/has!touch?./util/touch dojo/query dojo/_base/sniff".split(" "),function(h,k,d,g,b,c,f){function l(a,b){for(var c=
a.unselectable=b?"on":"",d=a.getElementsByTagName("*"),e=d.length;--e;)"INPUT"===d[e].tagName||"TEXTAREA"===d[e].tagName||(d[e].unselectable=c)}function e(a,c){var e=a.bodyNode,f=c?"text":21>g("ff")?"-moz-none":"none";m&&"msUserSelect"!==m?e.style[m]=f:g("dom-selectstart")?!c&&!a._selectstartHandle?a._selectstartHandle=d(e,"selectstart",function(a){var b=a.target&&a.target.tagName;"INPUT"!==b&&"TEXTAREA"!==b&&a.preventDefault()}):c&&a._selectstartHandle&&(a._selectstartHandle.remove(),delete a._selectstartHandle):
(l(e,!c),!c&&!a._unselectableHandle?a._unselectableHandle=b.after(a,"renderRow",function(a){l(a,!0);return a}):c&&a._unselectableHandle&&(a._unselectableHandle.remove(),delete a._unselectableHandle))}g.add("dom-comparedocumentposition",function(a,b,c){return!!c.compareDocumentPosition});g.add("css-user-select",function(a,b,c){a=c.style;b=["Khtml","O","ms","Moz","Webkit"];c=b.length;var d="userSelect";do if("undefined"!==typeof a[d])return d;while(c--&&(d=b[c]+"UserSelect"));return!1});g.add("dom-selectstart",
"undefined"!==typeof document.onselectstart);var a=g("mac")?"metaKey":"ctrlKey",m=g("css-user-select"),n=(c=g("pointer"))&&"MS"===c.slice(0,2),p=c?c+(n?"Down":"down"):"mousedown",t=c?c+(n?"Up":"up"):"mouseup";return h(null,{selectionDelegate:".dgrid-row",selectionEvents:p+","+t+",dgrid-cellfocusin",selectionTouchEvents:g("touch")?f.tap:null,deselectOnRefresh:!0,allowSelectAll:!1,selection:{},selectionMode:"extended",allowTextSelection:void 0,_selectionTargetType:"rows",create:function(){this.selection=
{};return this.inherited(arguments)},postCreate:function(){this.inherited(arguments);this._initSelectionEvents();var a=this.selectionMode;this.selectionMode="";this._setSelectionMode(a)},destroy:function(){this.inherited(arguments);this._selectstartHandle&&this._selectstartHandle.remove();this._unselectableHandle&&this._unselectableHandle.remove();this._removeDeselectSignals&&this._removeDeselectSignals()},_setSelectionMode:function(a){a!==this.selectionMode&&(this.clearSelection(),this.selectionMode=
a,this._selectionHandlerName="_"+a+"SelectionHandler",this._setAllowTextSelection(this.allowTextSelection))},_setAllowTextSelection:function(a){"undefined"!==typeof a?e(this,a):e(this,"none"===this.selectionMode);this.allowTextSelection=a},_handleSelect:function(a,b){if(this[this._selectionHandlerName]&&this.allowSelect(this.row(b))&&!("dgrid-cellfocusin"===a.type&&"mousedown"===a.parentType||a.type===t&&b!==this._waitForMouseUp)){this._waitForMouseUp=null;this._selectionTriggerEvent=a;if(!a.keyCode||
!a.ctrlKey||32===a.keyCode)if(!a.shiftKey&&a.type===p&&this.isSelected(b))this._waitForMouseUp=b;else this[this._selectionHandlerName](a,b);this._selectionTriggerEvent=null}},_singleSelectionHandler:function(b,c){var d=b.keyCode?b.ctrlKey:b[a];this._lastSelected===c?this.select(c,null,!d||!this.isSelected(c)):(this.clearSelection(),this.select(c),this._lastSelected=c)},_multipleSelectionHandler:function(b,c){var d=this._lastSelected,e=b.keyCode?b.ctrlKey:b[a],f;b.shiftKey||(f=e?null:!0,d=null);this.select(c,
d,f);d||(this._lastSelected=c)},_extendedSelectionHandler:function(b,c){(2===b.button?!this.isSelected(c):!(b.keyCode?b.ctrlKey:b[a]))&&this.clearSelection(null,!0);this._multipleSelectionHandler(b,c)},_toggleSelectionHandler:function(a,b){this.select(b,null,null)},_initSelectionEvents:function(){var c=this,e=this.contentNode,h=this.selectionDelegate;this._selectionEventQueues={deselect:[],select:[]};g("touch")&&!g("pointer")&&this.selectionTouchEvents?(d(e,f.selector(h,this.selectionTouchEvents),
function(a){c._handleSelect(a,this);c._ignoreMouseSelect=this}),d(e,d.selector(h,this.selectionEvents),function(a){c._ignoreMouseSelect!==this?c._handleSelect(a,this):a.type===t&&(c._ignoreMouseSelect=null)})):d(e,d.selector(h,this.selectionEvents),function(a){c._handleSelect(a,this)});this.addKeyHandler&&this.addKeyHandler(32,function(a){c._handleSelect(a,a.target)});if(this.allowSelectAll)this.on("keydown",function(b){b[a]&&(65===b.keyCode&&!/\bdgrid-input\b/.test(b.target.className))&&(b.preventDefault(),
c[c.allSelected?"clearSelection":"selectAll"]())});this._setCollection&&b.before(this,"_setCollection",function(a){c._updateDeselectionAspect(a)});this._updateDeselectionAspect()},_updateDeselectionAspect:function(a){function c(a,b){var e=d.row(a);if(e&&d.selection[e.id])d[b](e)}var d=this,e;this._removeDeselectSignals&&this._removeDeselectSignals();e=a&&a.track&&this._observeCollection?[b.before(this,"_observeCollection",function(a){e.push(a.on("delete",function(a){"undefined"===typeof a.index&&
c(a.id,"deselect")}))}),b.after(this,"_observeCollection",function(a){e.push(a.on("update",function(b){"undefined"!==typeof b.index&&c(a.getIdentity(b.target),"select")}))},!0)]:[b.before(this,"removeRow",function(a,b){var c;b||(c=this.row(a))&&c.id in this.selection&&this.deselect(c)})];this._removeDeselectSignals=function(){for(var a=e.length;a--;)e[a].remove();e=[]}},allowSelect:function(){return!0},_fireSelectionEvent:function(a){var b=this._selectionEventQueues[a],c=this._selectionTriggerEvent,
e;e={bubbles:!0,grid:this};c&&(e.parentType=c.type);e[this._selectionTargetType]=b;this._selectionEventQueues[a]=[];d.emit(this.contentNode,"dgrid-"+a,e)},_fireSelectionEvents:function(){var a=this._selectionEventQueues,b;for(b in a)a[b].length&&this._fireSelectionEvent(b)},_select:function(a,b,c){var d,e,f;"undefined"===typeof c&&(c=!0);a.element||(a=this.row(a));if(!1===c||this.allowSelect(a))if(d=this.selection,e=!!d[a.id],null===c&&(c=!e),f=a.element,!c&&!this.allSelected?delete this.selection[a.id]:
d[a.id]=c,f&&(c?k.add(f,"dgrid-selected"+(this.addUiClasses?" ui-state-active":"")):k.remove(f,"dgrid-selected ui-state-active")),c!==e&&f&&this._selectionEventQueues[(c?"":"de")+"select"].push(a),b)if(b.element||(b=this.row(b)),b){if(b=b.element){d=this._determineSelectionDirection(f,b);d||(b=document.getElementById(b.id),d=this._determineSelectionDirection(f,b));for(;a.element!==b&&(a=this[d](a));)this._select(a,null,c)}}else this._lastSelected=f},_determineSelectionDirection:g("dom-comparedocumentposition")?
function(a,b){var c=b.compareDocumentPosition(a);return c&1?!1:2===c?"down":"up"}:function(a,b){return 1>b.sourceIndex?!1:b.sourceIndex>a.sourceIndex?"down":"up"},select:function(a,b,c){this._select(a,b,c);this._fireSelectionEvents()},deselect:function(a,b){this.select(a,b,!1)},clearSelection:function(a,b){this.allSelected=!1;for(var c in this.selection)a!==c&&this._select(c,null,!1);b||(this._lastSelected=null);this._fireSelectionEvents()},selectAll:function(){this.allSelected=!0;this.selection=
{};for(var a in this._rowIdToObject){var b=this.row(this._rowIdToObject[a]);this._select(b.id,null,!0)}this._fireSelectionEvents()},isSelected:function(a){if("undefined"===typeof a||null===a)return!1;a.element||(a=this.row(a));return a.id in this.selection?!!this.selection[a.id]:this.allSelected&&(!a.data||this.allowSelect(a))},refresh:function(){this.deselectOnRefresh&&this.clearSelection();this._lastSelected=null;return this.inherited(arguments)},renderArray:function(){var a=this.inherited(arguments),
b=this.selection,c,d,e;for(c=0;c<a.length;c++)d=this.row(a[c]),(e=d.id in b?b[d.id]:this.allSelected)&&this.select(d,null,e);this._fireSelectionEvents();return a}})})},"mojo/views/reports/index":function(){define("dojo/_base/declare mojo/views/_base dijit/registry mojo/url mojo/user dojo/dom dojo/query dojo/dom-class dojo/dom-attr dojo/dom-construct dojo/on dojo/_base/lang mojo/logger mojo/widgets/CircularLoader mojo/marketing/Overlay".split(" "),function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q){return h([k],
{sawAd:!1,onReady:function(){dijit.byId("reports-list").watch("selectedChildWidget",n.hitch(this,function(a,b,c){"comparative-tab"===c.id&&!this.sawAd&&(this.sawAd=!0,(a=dijit.byId("comparative-reports-ad"))&&a.show())}))}})})},"mojo/views/reports/summary":function(){define("dojo/_base/declare mojo/views/_base dijit/registry dojo/_base/lang dojo/_base/array dojo/dom-construct dojo/dom-class dojo/dom-style dojo/dom-attr dojo/dom-form mojo/url dojo/dom dojo/request dijit/Dialog dojo/request/xhr dojo/html dojo/query dojo/on dojo/Stateful mojo/Poll mojo/url mojo/utils mojo/charts mojo/app/campaigns mojo/widgets/DeliveryStatus dojo/NodeList-dom dojo/NodeList-manipulate".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s,v,w,u,y,x,A,C,D){var E=function(a){s(".cancel-button",a.domNode).on("click",function(b){b.stopPropagation();b.preventDefault();a.hide()})};return h([k],{campaignId:null,enabled:!1,onInit:function(){this.enabled&&(this.deliveryStatus=new D({campaignId:this.campaignId}))},onReady:function(){this.enabled&&this.deliveryStatus&&(this.$el.deliveryStatus?this.deliveryStatus.placeAt(this.$el.deliveryStatus):this.deliveryStatus.poll.stop());v(this.$group.chooseIndustry,
"click",function(){var a=new t({title:"Select your industry",onHide:function(){a.destroyRecursive()},onDownloadEnd:function(){s(".confirmIndustry",a.domNode).on("click",function(a){var b=dijit.byId("info-business-type").attr("value");c(b);a.stopPropagation();a.preventDefault()});E(a)}});a.setHref(y.toUrl("account/industry-modal"));a.show();var c=function(c){q.post(y.toUrl("account/industry-post"),{query:{industryValue:c},handleAs:"json"}).then(g.hitch(this,function(e){"success"===e.status&&(e=s("[data-mc-group\x3d'industry']"),
b.forEach(e,function(a){a.innerHTML="("+c+")"}),x.toast("Your industry has been set to "+c),e=s("[data-mc-group\x3d'chooseIndustry']"),b.forEach(e,function(a){f.add(a,"hide")}),d());a.destroyRecursive()}))},d=function(){var a=s("[data-mc-el\x3d'industryOpenRate']"),c=s("[data-mc-el\x3d'industryClickRate']");q.get(y.toUrl("account/industry-stats"),{handleAs:"json"}).then(g.hitch(this,function(d){"success"===d.status&&(b.forEach(a,function(a){f.remove(a,"hide");a.innerHTML=d.open_rate+"%"}),b.forEach(c,
function(a){f.remove(a,"hide");a.innerHTML=d.click_rate+"%"}))}))}});x.parseEmoji(n.byId("content"))},updateStatus:function(){q.get(y.toUrl("campaigns/get-stats"),{handleAs:"json",query:{id:this.campaignId}}).then(g.hitch(this,function(a){a.success&&a.data&&a.data.enabled?this.updateData(a.data):this.poll.stop()}))},updateData:function(a){if("undefined"!==typeof a){"undefined"!=typeof a.recipientCount&&(this.$el.recipientCountStat&&this.$el.recipientCountLabel)&&(r.set(this.$el.recipientCountStat,
a.recipientCount.toString()),r.set(this.$el.recipientCountLabel,x.plural(a.recipientCount,"Recipient")),this.deliveryStatus.isComplete()&&f.remove(this.$el.recipientCountStat,"not-active"));0<a.openCount&&this.$el.performanceTimeseriesContainer&&l.set(this.$el.performanceTimeseriesContainer,"display","block");if(a.openRate){var d=this.convertToPercent(a.openRate);this.$el.openRateStat&&r.set(this.$el.openRateStat,d);this.$el.openRateMeter&&l.set(this.$el.openRateMeter,"width",d)}a.clickRate&&(d=this.convertToPercent(a.clickRate),
this.$el.clickRateStat&&r.set(this.$el.clickRateStat,d),this.$el.clickRateMeter&&l.set(this.$el.clickRateMeter,"width",d));0<a.openCountUnique&&s("[data-mc-stat\x3d'openCountStat']").removeClass("not-active").text(a.openCountUnique);0<a.clickCount&&s("[data-mc-stat\x3d'clickCountStat']").removeClass("not-active").text(a.clickCount);a.bounceCount&&this.$el.bounceCountStat&&(r.set(this.$el.bounceCountStat,a.bounceCount.toString()),0<a.bounceCount&&f.remove(this.$el.bounceCountStat,"not-active"));a.unsubCount&&
this.$el.unsubCountStat&&(r.set(this.$el.unsubCountStat,a.unsubCount.toString()),0<a.unsubCount&&f.remove(this.$el.unsubCountStat,"not-active"));a.deliverCount&&this.$el.deliverCountStat&&r.set(this.$el.deliverCountStat,a.deliverCount.toString());a.deliverRate&&this.$el.deliverRateStat&&(d=this.convertToPercent(a.deliverRate),r.set(this.$el.deliverRateStat,d));a.forwardCount&&this.$el.forwardCountStat&&(r.set(this.$el.forwardCountStat,a.forwardCount.toString()),this.$el.forwardOpenCountBlock&&l.set(this.$el.forwardOpenCountBlock,
"display","block"));a.forwardOpenCount&&this.$el.forwardOpenCountStat&&r.set(this.$el.forwardOpenCountStat,a.forwardOpenCount.toString());a.openClickRate&&this.$el.openClickRateStat&&(d=this.convertToPercent(a.openClickRate),r.set(this.$el.openClickRateStat,d));a.abuseCount&&this.$el.abuseCountStat&&r.set(this.$el.abuseCountStat,a.abuseCount.toString());a.lastOpenDate&&this.$el.lastOpenDate&&r.set(this.$el.lastOpenDate,a.lastOpenDate);a.lastClickDate&&this.$el.lastClickDate&&r.set(this.$el.lastClickDate,
a.lastClickDate);if(a.linkClick&&0<a.linkClick.length&&this.$el.linkClickContainer){c.empty(this.$el.linkClickContainer);var e=c.toDom('\x3cul class\x3d"dotted-list"\x3e\x3c/ul\x3e');c.place(e,this.$el.linkClickContainer);b.some(a.linkClick,g.hitch(this,function(a,b){var d=c.toDom("\x3cli class\x3d'selfclear'\x3e\x3cspan class\x3d'float-right fwb'\x3e"+a.clickCount+"\x3c/span\x3e\x3ca class\x3d'no-vip-filter float-left' href\x3d'"+a.href+"' target\x3d'_blank'\x3e"+a.link+"\x3c/a\x3e\x3c/li\x3e");
c.place(d,e);if(4<=b)return!1}));5<a.linkClick.length&&this.$el.linkClickMore&&l.set(this.$el.linkClickMore,"display","inline-block")}a.subscriberOpen&&(0<a.subscriberOpen.length&&this.$el.subscriberOpenContainer)&&(c.empty(this.$el.subscriberOpenContainer),e=c.toDom('\x3cul class\x3d"dotted-list"\x3e\x3c/ul\x3e'),c.place(e,this.$el.subscriberOpenContainer),b.some(a.subscriberOpen,g.hitch(this,function(a,b){var d=c.toDom("\x3cli class\x3d'selfclear'\x3e\x3cspan class\x3d'float-right fwb'\x3e"+a.openCount+
"\x3c/span\x3e\x3ca class\x3d'float-left' href\x3d'"+a.href+"' target\x3d'_blank'\x3e"+a.subscriberEmail+"\x3c/a\x3e\x3c/li\x3e");c.place(d,e);if(4<=b)return!1})),5<a.subscriberOpen.length&&this.$el.subscriberOpenMore&&l.set(this.$el.subscriberOpenMore,"display","inline-block"));a.tweetCount&&(this.$el.tweetCountStat&&this.$el.tweetCountLabel)&&(r.set(this.$el.tweetCountStat,a.tweetCount.toString()),r.set(this.$el.tweetCountLabel,x.plural(a.tweetCount,"Tweet")),0<a.tweetCount&&f.remove(this.$el.tweetCountStat,
"not-active"));a.retweetCount&&(this.$el.retweetCountStat&&this.$el.retweetCountLabel)&&(r.set(this.$el.retweetCountStat,a.retweetCount.toString()),r.set(this.$el.retweetCountLabel,x.plural(a.retweetCount,"Retweet")),0<a.retweetCount&&f.remove(this.$el.retweetCountStat,"not-active"));a.eepurlClickCount&&(this.$el.eepurlClickCountStat&&this.$el.eepurlClickCountLabel)&&(r.set(this.$el.eepurlClickCountStat,a.eepurlClickCount.toString()),r.set(this.$el.eepurlClickCountLabel,x.plural(a.eepurlClickCount,
"EepURL Click")),0<a.eepurlClickCount&&f.remove(this.$el.eepurlClickCountStat,"not-active"));a.likeCountUnique&&(this.$el.likeCountUniqueStat&&this.$el.likeCountUniqueLabel)&&(r.set(this.$el.likeCountUniqueStat,a.likeCountUnique.toString()),r.set(this.$el.likeCountUniqueLabel,x.plural(a.eepurlClickCount,"Like")),0<a.likeCountUnique&&f.remove(this.$el.likeCountUniqueStat,"not-active"))}},convertToPercent:function(a){return Math.round(100*a)+"%"}})})},"mojo/views/reports/variates":function(){define("dojo/_base/declare mojo/views/_base dojo/_base/lang dojo/_base/array dojo/on dojo/dom-geometry dojo/html dojo/query dojo/number dojo/aspect dojo/dom dojo/dom-class dojo/dom-style dijit/registry mojo/widgets/VariateWinner mojo/freddieanim mojo/url mojo/utils dgrid/Grid dgrid/Keyboard dgrid/extensions/DijitRegistry dgrid/Selection dojo/dom-construct dojox/html/entities".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s,v,w,u,y,x,A,C){var D=h([w,u,y]),E=h([w,u,y,x]);return h([k],{campaignId:null,detailedStats:null,testsResults:null,testingSubjects:!1,testingFromNames:!1,testingContent:!1,testingSchedules:!1,ecommEnabled:!1,manuallyPick:!1,numVariatesTested:0,winnerSelector:null,variateGrids:[],hasWinner:!1,sentTimestamp:null,isVip:!1,detailedGrid:null,onReady:function(){v.parseEmoji(m.byId("content"));this.$el.winnerSelector&&(this.winnerSelector=new q({},this.$el.winnerSelector),
a.after(this.winnerSelector,"onSelect",function(){t.byId("confirm-send").show()}),this.freddieSend=new r.FreddieSend("freddie-send","confirm-send-button"));1<this.numVariatesTested&&this.renderVariateResults();this.renderDetailedResults();this._initTimeSinceLabel();this._setupTimeframeSelection()},renderVariateResults:function(){var a=this.detailedStats.variateStats,b={froms:"From name",subjects:"Subject line",contents:"Content description",schedules:"Send time"},c;for(c in a)this._createVariateGrid(a[c],
b[c])},_setupTimeframeSelection:function(){var a=this;if(this.$widget.timeframeSelect&&this.testsResults){var c=g.map(this.detailedStats.combinationStats,function(b,c){var e=d.clone(b);return a.testsResults instanceof Array?d.mixin(e,a.testsResults[c]):e});b(this.$widget.timeframeSelect,"change",function(){var b=null;switch(this.value){case "current":b=a.detailedStats.combinationStats;break;case "snapshot":b=c;break;default:throw Error("Unhandled value on time frame select box");}a.detailedGrid.refresh();
a.detailedGrid.renderArray(b);a.detailedGrid.resize()})}},_createVariateGrid:function(a,b){var c=this;this._addSalesSortableField(a);var d=A.place("\x3cdiv class\x3d'dgrid-autoheight dgrid-nohover'\x3e\x3c/div\x3e",this.$el.variateGridContainer),e={variate:{label:b,sortable:!1,renderCell:function(a,b,d){b="";a.isWinner&&(b+='\x3cspan class\x3d"freddicon tick-fill selected-row absolute visible"\x3e\x3c/span\x3e');var e="table-cell padding--lv6 !padding-top-bottom--lv0 !padding-right--lv0";c.hasWinner||
(e+=" !padding-left--lv0");b+='\x3cspan class\x3d"'+e+'"\x3e'+a.variateValue+"\x3c/span\x3e";a=A.toDom(b);A.place(a,d);v.parseEmoji(d)}},avgOpenRate:{label:"Average open rate",renderCell:function(a,b,d){a=A.toDom(c._formatRates(b));A.place(a,d)}},avgClickRate:{label:"Average click rate",renderCell:function(a,b,d){a=A.toDom(c._formatRates(b));A.place(a,d)}}};this.ecommEnabled&&(e._salesNumber={label:"Total sales",renderCell:function(a,b,c){A.place(A.toDom(a.totalSales),c)}});var f=new D({columns:e,
keepScrollPosition:!0},d);f.on(".dgrid-header .dgrid-cell:click",function(a){a="field-"+f.cell(a).column.field;l("td."+a).forEach(function(a){n.add(a,"dgrid-sorted-cell")})});f.on("dgrid-sort",function(a){c._setGridHeight(a.grid)});f.renderArray(a);f.resize();return f},renderDetailedResults:function(){var a=this;this._addSalesSortableField(this.detailedStats.combinationStats);var b={combination:{label:"Combo",renderCell:function(b,c,d){var e="";a.manuallyPick?e+='\x3cspan class\x3d"freddicon tick-circle hover-row absolute"\x3e\x3c/span\x3e\x3cspan class\x3d"freddicon tick-fill selected-row absolute"\x3e\x3c/span\x3e\x3cspan class\x3d"select-row absolute"\x3e\x3cimg src\x3d"/images/row-select.svg" width\x3d"20"\x3e\x3c/span\x3e':
b.isWinner&&(e+='\x3cspan class\x3d"freddicon tick-fill selected-row absolute visible"\x3e\x3c/span\x3e');b="table-cell padding--lv6 !padding-top-bottom--lv0 !padding-right--lv0";!a.manuallyPick&&!a.hasWinner&&(b+=" !padding-left--lv0");e+='\x3cspan class\x3d"'+b+'"\x3e'+c+"\x3c/span\x3e";c=A.toDom(e);A.place(c,d)}},subject:{label:"Subject line",renderCell:function(a,b,c){A.place(A.toDom(C.encode(b)),c);v.parseEmoji(c)}},fromName:{label:"From name",renderCell:function(b,c,d){b=a._formatFromName(b);
A.place(A.toDom(b),d)}},scheduledSendTime:"Send time",contentDescription:{label:"Content description",renderCell:function(a,b,c){a=A.toDom("\x26ldquo;"+C.encode(b)+"\x26rdquo;");A.place(a,c)}},openRate:{label:"Open rate",renderCell:function(b,c,d){b=a._formatConfidenceInterval(b.openRateConfidence);c=A.toDom(a._formatRates(c)+"\x3cbr/\x3e"+b);A.place(c,d)}},clickRate:{label:"Click rate",renderCell:function(b,c,d){b=a._formatConfidenceInterval(b.clickRateConfidence);c=A.toDom(a._formatRates(c)+"\x3cbr/\x3e"+
b);A.place(c,d)}},_salesNumber:{label:"Sales",renderCell:function(a,b,c){A.place(A.toDom(a.totalSales),c)}},sends:{label:"Sends",formatter:this._formatNumbers},unsubCount:{label:"Unsubs",formatter:this._formatNumbers},abuseCount:{label:"Abuse",formatter:this._formatNumbers},reportLinks:{label:"",sortable:!1,renderCell:function(a,b,c){a=s.toUrl("/reports/summary",{id:a.campaignId});a=A.create("a",{href:a,innerHTML:"View report"});A.place(a,c)}}};this.isVip&&delete b.reportLinks;this.testingContent||
delete b.contentDescription;this.testingSchedules||delete b.scheduledSendTime;this.testingSubjects||delete b.subject;this.testingFromNames||delete b.fromName;this.ecommEnabled||delete b.totalSales;this.detailedGrid=new E({selectionMode:this.manuallyPick?"single":"none",columns:b,keepScrollPosition:!0,deselectOnRefresh:!1},this.$el.detailedGrid);this.detailedGrid.on(".dgrid-header .dgrid-cell:click",function(b){b="field-"+a.detailedGrid.cell(b).column.field;l("td."+b).forEach(function(a){n.add(a,"dgrid-sorted-cell")})});
this.detailedGrid.on("dgrid-select",function(b){var c=b.rows[0];b.grid.__selected=c.data.combination;a.winnerSelector&&a.winnerSelector.showWinner(c.data)});this.detailedGrid.on("dgrid-sort",function(b){var c=b.grid;a._setGridHeight(c);setTimeout(function(){if(null!==c.__selected)for(var b=0;b<a.detailedStats.combinationStats.length;b++){var d=c.row(b);d.data.combination!=c.__selected?c.deselect(d):c.select(d)}},0)});n.toggle(this.$el.detailedGrid,"dgrid-nohover",!this.manuallyPick);this.detailedGrid.renderArray(this.detailedStats.combinationStats);
this.detailedGrid.resize();this.detailedGrid.set("sort","combination")},sendToWinner:function(){try{t.byId("confirm-send").set("title","Sending..."),t.byId("confirm-send").set("closable",!1),t.byId("confirm-send").onCancel=function(){return!1},p.set("confirm-send-pre","display","none"),p.set("confirm-send-action","display","none"),p.set("confirm-send-post","display","block")}catch(a){}setTimeout(d.hitch(this,function(){var a=this.winnerSelector.winner,a=s.toUrl("/campaigns/pick-variate-winner",{id:this.campaignId,
from_variate:a.fromVariate,subject_variate:a.subjectVariate,schedule_variate:a.scheduleVariate,content_variate:a.contentVariate});document.location.href=a}),600)},switchReport:function(a){a="all"==a?s.toUrl("/reports"):s.toUrl("/reports/summary",{id:a});document.location=a},_getSinceSentTime:function(){if(null!==this.sentTimestamp){var a=v.getTimePassed(1E3*this.sentTimestamp),b="";0<a.days&&(b+=a.days+" "+v.plural(a.days,"day")+" ");0<a.hours&&(b+=a.hours+" "+v.plural(a.hours,"hour")+" ");0<a.minutes&&
(b+=a.minutes+" "+v.plural(a.minutes,"minute")+" ");return(b=b.trim())?b:"less than a minute"}return""},_addSalesSortableField:function(a){g.forEach(a,function(a){a.hasOwnProperty("totalSales")&&(a._salesNumber=+a.totalSales.replace(/[^\d.]/g,""))})},_initTimeSinceLabel:function(){if(this.$el.timeSinceSend){var a=d.hitch(this,function(){f.set(this.$el.timeSinceSend,this._getSinceSentTime())});this.updateInterval=setInterval(a,6E4);a()}},_formatRates:function(a,b){b||(b=1);return e.format(a,{places:b})+
"%"},_formatNumbers:function(a){return e.format(a)},_formatFromName:function(a){return a.fromName+"\x3cbr\x3e\x3cspan class\x3d'dim6'\x3e"+a.fromEmail+"\x3c/span\x3e"},_formatConfidenceInterval:function(a){return'\x3cspan class\x3d"dim6" title\x3d"Based off a 80% confidence interval"\x3e\x26plusmn; '+this._formatRates(a)+"\x3c/span\x3e"},_setGridHeight:function(a){p.set(a.domNode,"height",c.position(a.domNode).h+"px")}})})},"mojo/freddieanim":function(){define("dojo/_base/declare dojo/dom dojo/query dojo/dom-class dojo/_base/array dojo/on dojo/NodeList-dom".split(" "),
function(h,k,d,g,b,c){var f={},l={},e={};k={};k.FreddieSend=h([],{constructor:function(a,b){this.elId=a;this.btnClass=b;this.s=Snap("#"+this.elId);this.freddieButton={};this.bgCircle={};this.svgDOM=this.actionBtn=null;this.bgCircle.mask=this.s.circle(150,150,125);this.bgCircle.mask.attr({fill:"#FFFFFF",stroke:"#000000",strokeWidth:0});d("."+this.btnClass)&&(this.actionBtn=d("."+this.btnClass));Snap.load("/images/svg-freddie/freddie-send/send-it.svg",this.onLoaded);f=this},onLoaded:function(a){f.svgDOM=
a;f.freddieButton.button=f.svgDOM.select("#button");f.freddieButton.hand=f.svgDOM.select("#hand-normal");f.freddieButton.handClicked=f.svgDOM.select("#hand-clicked");f.bgCircle.circle=f.svgDOM.select("#bg-circle");f.freddieButton.handClicked.attr({"class":"hide"});f.s.group(f.bgCircle.circle,f.freddieButton.button,f.freddieButton.hand,f.freddieButton.handClicked).attr({mask:f.bgCircle.mask});f.freddieButton.hand.attr({"class":"shakeAndPoint"});f.freddieButton.surface=f.freddieButton.button.select("#button-surface");
f.freddieButton.buttonbody=f.freddieButton.button.select("#button-body");f.freddieButton.bang=f.freddieButton.button.select("#bang");f.setUpEvents();f.s.add(f.svgDOM);setTimeout(function(){f.generateSweat(5,5E3)},2E3)},Drop:function(a){var b=60*Math.random()+100,c=55*Math.random()+45,d=40*Math.random()+160,e={};e.posX=b;e.posY=c;e.size=0;e.stroke="#5B3E45";e.fill="#D6EDEE";e.strokeWidth="2";e.delay=a;e.s=f.s;var g=e.s.paper.path("M11.5,13.3c0,2.5-1.5,3.5-4,3.5s-4-1-4-3.5s4-10.2,4-10.2S11.5,10.8,11.5,13.3z");
g.attr({stroke:e.stroke,fill:"#93CBC3",opacity:0,strokeWidth:2.0604,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:10});g.transform(String("t"+e.posX+","+e.posY+"s0.6,0.6"));g.attr({"class":"sweat"});e.slide=function(){setTimeout(function(){g.animate({opacity:1},500,mina.easeout,function(){g.animate({transform:String("t"+b+","+d)},1E3,mina.easeout,function(){g.animate({opacity:0},250,mina.easein,function(){g.remove()})})})},a)};return e},generateSweat:function(a,b){for(var c=0;c<a;c++){var d=
Math.random()*(b-500)+500;(new f.Drop(d)).slide()}},setUpEvents:function(){var a=f.actionBtn.on("mouseover",function(){"clicked"!==f.s.attr("class")&&f.generateSweat(5,8E3);f.freddieButton.surface.animate({fill:"#E85D41"},333,mina.easein);f.freddieButton.buttonbody.animate({fill:"#E85D41"},333,mina.easein)}),b=f.actionBtn.on("mouseout",function(){f.freddieButton.surface.animate({fill:"#CC3B23"},333,mina.easein);f.freddieButton.buttonbody.animate({fill:"#CC3B23"},333,mina.easein)}),c=f.actionBtn.on("click",
function(){f.s.attr({"class":"clicked"});f.freddieButton.hand.attr({"class":""});f.s.selectAll("path.sweat").remove();a.remove();b.remove();c.remove();f.freddieButton.hand.animate({transform:"t0,25"},300,mina.easeout,function(){f.freddieButton.hand.attr({"class":"hide"});f.freddieButton.handClicked.attr({"class":""});f.freddieButton.surface.animate({cy:186.1},300,mina.easeout,function(){});f.freddieButton.bang.animate({transform:"t0,5"},300,mina.easeout,function(){});f.freddieButton.surface.attr({fill:"#E85D41"});
f.freddieButton.buttonbody.attr({fill:"#E85D41"})})})}});k.HighFive=h([],{constructor:function(a){this.elId=a;this.s=Snap("#"+this.elId);this.bgCircle={};this.svgDOM=null;this.svgs={};this.timesClicked=0;this.bgCircle.mask=this.s.circle(200,200,200);this.bgCircle.mask.attr({fill:"#FFFFFF",stroke:"#000000",strokeWidth:0});this.bgCircle.bg=this.s.circle(200,200,200);this.bgCircle.bg.attr({fill:"#97D2C4"});Snap.load("/images/svg-freddie/high-five/high-five-all.svg",this.loadAndInit);l=this},loadAndInit:function(a){l.svgDOM=
a;l.svgs._01=l.svgDOM.select("#high-five-01");l.svgs._02=l.svgDOM.select("#high-five-02");l.svgs._03=l.svgDOM.select("#high-five-03");l.svgs._03.palm=l.svgDOM.select("#palm");l.svgs._03.fingerprintsGrp=l.svgDOM.select("#fingerprints");l.svgs._03.fingerprints=l.svgDOM.selectAll("#fingerprints \x3e *");l.s.group(l.bgCircle.bg,l.svgs._01,l.svgs._02,l.svgs._03).attr({mask:l.bgCircle.mask});l.s.add(l.svgDOM);l.svgs._01.initStr="s0.6r-30t-100,280";l.svgs._01.transform(l.svgs._01.initStr);l.svgs._02.initStr=
"t-50,25";l.svgs._02.attr({opacity:0});l.svgs._02.transform(l.svgs._02.initStr);l.svgs._03.initStr="t-50,30";l.svgs._03.attr({opacity:0});l.svgs._03.transform(l.svgs._03.initStr);d("#fingertips \x3e ellipse").addClass("fingertip");l.setUpEvents();l.animate01()},animate01:function(){g.remove("content","relative");setTimeout(function(){l.svgs._01.animate({transform:"t-50,60"},400,mina.backout,function(){setTimeout(function(){l.svgs._01.animate({opacity:0},30,mina.linear,function(){l.svgs._01.attr({display:"none"});
l.animate02()})},100)})},500)},animate02:function(){l.svgs._02.animate({opacity:1},10,mina.linear,function(){l.svgs._02.animate({opacity:0},30,mina.linear,function(){l.svgs._02.attr({display:"none"})})});l.animate03()},animate03:function(){l.svgs._03.animate({opacity:1},30,mina.linear,function(){l.bgCircle.bg.animate({fill:"#FFFFFF"},10,mina.linear,function(){l.bgCircle.bg.animate({fill:"#97D2C4"},10)});l.svgs._03.animate({transform:"s1.05t-50,0"},600,mina.elastic,function(){l.svgs._03.animate({transform:"t-50,5"},
1E3,mina.elastic);l.svgs._03.fingerprintsGrp.animate({opacity:0},500)})})},setUpEvents:function(){d("#"+l.elId).on("click",function(){l.s.attr("class")||l.s.attr({"class":"clicked"});5>l.timesClicked?(l.resetHighFive(),l.animate01(),l.makeRed()):window.open("http://mailchimp.com/fast-fives/","_blank")})},resetHighFive:function(){l.svgs._01.attr({display:"block"});l.svgs._01.transform(l.svgs._01.initStr);l.svgs._01.attr({opacity:1});l.svgs._02.attr({display:"block"});l.svgs._02.transform(l.svgs._02.initStr);
l.svgs._03.attr({opacity:0});l.svgs._03.fingerprintsGrp.attr({opacity:1});l.svgs._03.fingerprintsGrp.inAnim()[0]&&l.svgs._03.fingerprintsGrp.inAnim()[0].stop();l.svgs._03.transform(l.svgs._03.initStr)},makeRed:function(){var a=["#CCB59E","#D8B5A3","#E6B6A7","#F3B7AC","#D3978C"];l.svgs._03.palm.animate({fill:["#C3B49B","#CCB59E","#D8B5A3","#E6B6A7","#F3B7AC"][l.timesClicked]},600,mina.easein);b.forEach(l.svgs._03.fingerprints,function(b,c){b.animate({fill:a[l.timesClicked]},600,mina.easein)});l.timesClicked++}});
k.RockOn=h([],{constructor:function(a){this.elId=a;this.s=Snap("#"+this.elId);this.bgCircle={};this.svgDOM=null;this.svgs={};this.bgCircle.mask=this.s.circle(200,200,200);this.bgCircle.mask.attr({fill:"#FFFFFF",stroke:"#000000",strokeWidth:0});this.bgCircle.bg=this.s.circle(200,200,200);this.bgCircle.bg.attr({fill:"#52BAD5"});Snap.load("/images/svg-freddie/rock-on/rock-on-freddie.svg",this.loadAndInit);e=this},loadAndInit:function(a){e.svgDOM=a;e.svgs.all=e.svgDOM.select("#all");e.svgs.benthorns=
e.svgDOM.select("#bent-horns");e.svgs.straighthorns=e.svgDOM.select("#straight-horns");e.s.group(e.bgCircle.bg,e.svgs.all).attr({mask:e.bgCircle.mask});e.s.add(e.svgDOM);e.svgs.all.initStr="s0.6r20,200,350t300,200";e.svgs.all.transform(e.svgs.all.initStr);e.svgs.straighthorns.attr({opacity:0});e.startRocking()},startRocking:function(){g.remove("content","relative");setTimeout(function(){e.svgs.all.animate({transform:"s1.1r-5,200,350"},500,mina.easeinout,function(){e.svgs.straighthorns.animate({opacity:1},
20,mina.linear,function(){e.svgs.benthorns.animate({opacity:0},10,mina.linear,function(){});e.svgs.all.animate({transform:"s1r0,200,350"},300,mina.backout,function(){e.svgs.all.attr({"class":"rockingHover"})})})})},750)}});return k})},"mojo/views/reports/ecommerce/history":function(){define(["dojo/_base/declare","mojo/views/_base","dijit/registry","dojo/_base/lang","mojo/url"],function(h,k,d,g,b){return h([k],{campaignId:null,onInit:function(){},onReady:function(){var c=dijit.byId("orders-list"),
d=this;dijit.byId("ecommerce-stores").on("change",function(){var g=this.get("value").split("-");c.set("url",b.toUrl("/reports/ecommerce/order-list",{id:d.campaignId,store_id:g[0],version:g[1]}))})}})})},"mojo/views/reports/ads/summary":function(){define("dojo/_base/declare dojo/_base/lang mojo/views/_base dojo/dom-class mojo/widgets/ButtonGroup mccharts/mccharts mojo/colors mojo/user d3/d3".split(" "),function(h,k,d,g,b,c,f,l,e){return h([d],{onReady:function(){if(this.$el.performanceChart){var a=
[{title:"Impressions",value:"Impressions",label:"Impressions"},{title:"Clicks",value:"Clicks",label:"Clicks"}];this.revenue&&a.push({title:"Revenue",value:"Revenue",label:"Revenue"});var d=new b({options:a,itemTpl:"\x3cli class\x3d'c-buttonGroupItem'\x3e\x3cbutton data-mc-value\x3d'{value}' title\x3d'{title}' class\x3d'c-buttonGroupButton v-buttonGroupUnderlined'\x3e{label}\x3c/button\x3e\x3c/li\x3e",activeClass:" v-buttonGroupUnderlined--active"});d.placeAt(this.$el.chartToggler);d.startup();d.setSelected(a[0].value);
d.on("change",k.hitch(this,function(){"Revenue"===d.value?(g.add(this.$el.impressionsChartContainer,"hide"),g.add(this.$el.clicksChartContainer,"hide"),g.remove(this.$el.revenueChartContainer,"hide")):"Clicks"===d.value?(g.add(this.$el.impressionsChartContainer,"hide"),g.add(this.$el.revenueChartContainer,"hide"),g.remove(this.$el.clicksChartContainer,"hide")):(g.add(this.$el.clicksChartContainer,"hide"),g.add(this.$el.revenueChartContainer,"hide"),g.remove(this.$el.impressionsChartContainer,"hide"))}));
a=function(a,b,d,f){var g=c.models.lineTimeSeriesChart(),h={impressions:"Impressions",clicks:"Clicks"},l=g.tooltip();l.enabled(!0);l.xOffset(10);l.dataFormatter(function(a){return e.time.format("%b %d, %Y")(a.date)+"\x3cbr/\x3e"+h[d]+": "+a[d]});g.aspectRatio(3,1);g.lineStrokeColor(f);g.colors([f]);g.xAxis.keyValue("date");g.yAxis.keyValue(d);g.yAxis.maxTicks(9);g.loadChart(a,b.map(function(a){a.date=new Date(a.date);return a}))};a("#clicksChart",this.clicks,"clicks",f.green7);a("#impressionsChart",
this.impressions,"impressions",f.green7);if(this.revenue){a=c.models.stackBarChart();a.aspectRatio(3,1);a.colors([f.green3]);a.xAxis.keyValue("date");a.yAxis.keyValue("revenue");a.yAxis.tickFormat(function(a){return l.currencySymbol+e.format("s")(a)});a.yAxis.maxTicks(10);a.showLegend(!1);var h=a.tooltip();h.enabled(!0);h.xOffset(10);h.dataFormatter(function(a){var b=e.format(",");return e.time.format("%b %d, %Y")(a.x)+"\x3cbr/\x3eRevenue: "+l.currencySymbol+b(+a.y.toFixed(2))});a.loadChart("#revenueChart",
{revenue:this.revenue})}g.add(this.$el.clicksChartContainer,"hide");g.add(this.$el.revenueChartContainer,"hide")}}})})},"mccharts/mccharts":function(){(function(h,k){"object"===typeof exports&&"object"===typeof module?module.exports=k():"function"===typeof define&&define.amd?define([],k):"object"===typeof exports?exports.mccharts=k():h.mccharts=k()})(this,function(){return function(h){function k(g){if(d[g])return d[g].exports;var b=d[g]={exports:{},id:g,loaded:!1};h[g].call(b.exports,b,b.exports,
k);b.loaded=!0;return b.exports}var d={};k.m=h;k.c=d;k.p="";return k(0)}([function(h,k,d){function g(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(k,"__esModule",{value:!0});k.u=k.models=void 0;h=d(1);h=g(h);var b=d(2);g(b);b=d(3);g(b);var b=d(4),b=g(b),c=d(6),c=g(c),f=d(7),f=g(f),l=d(8),l=g(l),e=d(9),e=g(e),a=d(10),a=g(a),m=d(11),m=g(m);d=d(12);d=g(d);var n={},p={};n.scatterTimeSeriesChart=b.default;n.lineChart=c.default;n.lineTimeSeriesChart=f.default;n.multiLineChart=l.default;
n.multiLineTimeSeriesChart=e.default;n.ordinalBarChart=a.default;n.stackBarChart=m.default;n.doughnutChart=d.default;p.percentageTick=h.default.percentageTick;p.numberTick=h.default.numberTick;p.timeTick=h.default.timeTick;p.currencyTick=h.default.currencyTick;k.models=n;k.u=p},function(h,k){Object.defineProperty(k,"__esModule",{value:!0});var d={colors:["#2c9ab7","#9f7d9c","#f69343","#FEBE12","#959595"],scaleType:{LINEAR:"LINEAR",IDENTITY:"IDENTITY",POWER:"POWER",LOG:"LOG",QUANTIZE:"QUANTIZE",QUANTILE:"QUANTILE",
THRESHOLD:"THRESHOLD",ORDINAL:"ORDINAL",TIME:"TIME"}};k.parseDate=function(b){var c=d3.time.format(1<arguments.length&&void 0!==arguments[1]?arguments[1]:"%Y-%m-%d").parse;return c(b)};var g=k.percentageTick=function(b){return b+"%"};d.percentageTick=g;g=k.numberTick=function(b){return d3.format("s")(b)};d.numberTick=g;g=k.timeTick=d3.time.format.multi([[".%L",function(b){return b.getMilliseconds()}],[":%S",function(b){return b.getSeconds()}],["%I:%M",function(b){return b.getMinutes()}],["%I %p",
function(b){return b.getHours()}],["%a %d",function(b){return b.getDay()&&1!=b.getDate()}],["%b %d",function(b){return 1!=b.getDate()}],["%b",function(b){return b.getMonth()}],["%Y",function(){return!0}]]);d.timeTick=g;g=k.currencyTick=function(b){return d3.format("$s")(b)};d.currencyTick=g;k.debounce=function(b,c,d){var g=function(a,b){b=null==b?a.length-1:+b;return function(){for(var c=Math.max(arguments.length-b,0),d=Array(c),e=0;e<c;e++)d[e]=arguments[e+b];switch(b){case 0:return a.call(this,
d);case 1:return a.call(this,arguments[0],d);case 2:return a.call(this,arguments[0],arguments[1],d)}c=Array(b+1);for(e=0;e<b;e++)c[e]=arguments[e];c[b]=d;return a.apply(this,c)}},e=g(function(a,b,c){return setTimeout(function(){return a.apply(null,c)},b)}),a,h,k=function(c,d){a=null;d&&(h=b.apply(c,d))},g=g(function(g){var l=d&&!a;a&&clearTimeout(a);l?(a=setTimeout(k,c),h=b.apply(this,g)):d||(a=e(k,c,this,g));return h});g.cancel=function(){clearTimeout(a);a=null};return g};k.createId=function(){return Math.random().toString(36).substr(2,
9)};k.default=d},function(h,k){Object.defineProperty(k,"__esModule",{value:!0});k.default=function(){function d(){c&&(e||(b=b?b:document.body,e=b.append("div").attr("class","mcchart-tooltip").attr("id",g).style("opacity",0).style("background-color",k).style("border",q+"px "+t+" "+p).style("color",n).style("top",0).style("left",0)),a=e.node().getBoundingClientRect())}var g="mcchart-tooltip-"+(new Date).getTime(),b=null,c=!1,f="500",h=!1,e=null,a=null,k="#484848",n="#ffffff",p="#484848",t="solid",q=
0,r=function(a){return a},s=0,v=0;d.data=function(b,d,f,g,h){c&&(e.html(r(b)),g<s?(d+=v,e.classed("mcchart-tooltip--flipped",!1)):(d=d-a.width-v,e.classed("mcchart-tooltip--flipped",!0)),e.style("transform","translate("+d+"px,"+f+"px)"))};d.hide=function(){c&&(h&&e.style("opacity",0),h=!1)};d.show=function(){c&&(h||e.style("opacity",0.95),h=!0)};d.xOffset=function(a){if(!arguments.length)return v;v=a;return d};d.enabled=function(a){if(!arguments.length)return c;c=a;return d};d.chartContainer=function(a){if(!arguments.length)return b;
b=a;return d};d.duration=function(a){if(!arguments.length)return f;f=a;return d};d.dataFormatter=function(a){if(!arguments.length)return r;r=a;return d};d.flipPoint=function(a){if(!arguments.length)return s;s=a;return d};d.getHtmlNode=function(){return!arguments.length?a:d};return d}},function(h,k){Object.defineProperty(k,"__esModule",{value:!0});k.default=function(){function d(){}function g(a){var b=0,d=e.node().getBoundingClientRect().width;"left"===a&&(b=c.options.margin.left);"right"===a&&(b=
c.width()-c.options.margin.right-d);e.attr("transform","translate("+b+",0)")}var b="mcchart-legend-"+(new Date).getTime(),c=null,f=null,h=[],e=null,a="left",k=15,n=15,p=10,t=5,q=30;d.createLegend=function(b,d,v){c=b;f=d;e=v;var w=[];e.selectAll("g").data(f).enter().append("g").attr("class","mcchart-legendSeries");e.selectAll(".mcchart-legendSeries").append("rect").classed({"mcchart-legendBox":!0}).attr("rx",3).attr("ry",3).attr("width",k).attr("height",n).style("fill",function(a,b){return c.colors()[b]});
e.selectAll(".mcchart-legendSeries").append("text").classed({"mcchart-legendText":!0}).attr("font-size","14px").text(function(a,b){"undefined"===typeof h[b]&&(h[b]="Series "+(b+1));return h[b]}).attr("x",k+p).attr("y",n/2+t);e.selectAll(".mcchart-legendSeries").attr("transform",function(a,b){var c=d3.select(this).node().getBoundingClientRect().width,c=Math.ceil(c+q);w[b]=0<w.length?{w:c,x:w[b-1].x+w[b-1].w}:{w:c,x:0};return"translate("+w[b].x+",0)"});g(a)};d.id=function(){return!arguments.length?
b:d};d.seriesLabels=function(a){if(!arguments.length)return h;h=a;return d};d.container=function(a){if(!arguments.length)return e;e=a;return d};d.horizontalAlign=function(b){if(!arguments.length)return a;a=b;return d};d.keyWidth=function(a){if(!arguments.length)return k;k=a;return d};d.keyHeight=function(a){if(!arguments.length)return n;n=a;return d};d.xOffset=function(a){if(!arguments.length)return p;p=a;return d};d.yOffset=function(a){if(!arguments.length)return t;t=a;return d};d.seriesSpacing=
function(a){if(!arguments.length)return q;q=a;return d};return d}},function(h,k,d){function g(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(k,"__esModule",{value:!0});k.default=function(){function a(b){b.each(function(b){v=b;s=d3.select(this);s.classed({"mcchart-container":!0});G&&(y=s.node().getBoundingClientRect().width);var c=s.selectAll("svg").data([v]);c.attr("id","svg-"+this.id);c.classed({"mcchart-svg":!0});b=c.enter().append("svg").attr("id","svg-"+r).classed({"mcchart-svg":!0}).append("g");
c.attr("width",y);A&&(x=y*D/C);c.attr("height",x);var d=c.select("g");d.classed({"mcchart-scatterTimeSeriesChart":!0});d.attr("transform","translate("+u.left+", "+u.top+")");d=c.append("g").attr("class","mcchart-legendWrap");M.createLegend(a,[v],d);J||c.select(".mcchart-legendWrap").selectAll("*").remove();a.update=function(a){v=a};a.redraw=function(){c.remove();s.call(a)};I=Math.ceil(x-u.top-u.bottom);O=y-u.left-u.right;d=d3.time.scale();d.type=e.default.scaleType.TIME;aa.createAxis(a,v,d);h(b);
d=d3.scale.linear();d.type=e.default.scaleType.LINEAR;U.createAxis(a,v,d);k(b);d=b.append("g").attr("class","mcchart-scatterContainer");q(d,v);var f=b.append("g").attr("class","mcchart-focus");L=b.append("rect");f.style("display","none");L.attr("width",O).attr("height",I).attr("class","mcchart-interactive mcchart-interactive-"+r);a.noDataContainer=b.append("g").attr("class","mcchart-noDataContainer").classed("mcchart-noDataContainer--hide",!0).attr("opacity",0);a.noDataContainer.append("text").attr("class",
"mcchart-noDataMessage").attr("transform","translate("+O/2+","+I/2+")").attr("text-anchor","middle").text(S);g(a.noDataContainer);f.append("line").attr("class","mcchart-focus-y-line-"+r).style("stroke","#999999").style("stroke-width","2px").style("stroke-dasharray","4,4").style("opacity",0.5).attr("y1",0).attr("y2",I);w.enabled()&&(w.chartContainer(s),w.flipPoint(O/2),f.append("div").call(w),L.on("mouseover",function(){f.style("display",null);w.show()}).on("mouseout",function(){f.style("display",
"none");w.hide()}).on("mousemove",function(a){var b=d3.mouse(this)[0],c=d3.mouse(this)[1],d=aa.scale().invert(b),e=N(a,d,1),g=a[e-1];a=a[e];void 0!==a&&(d=d-aa.value(g)>aa.value(a)-d?a:g,g=y-O,a=aa.scale(aa.value(d)),e=U.scale(U.value(d)),f.select(".mcchart-focus-y-line-"+r).attr("transform","translate("+a+", "+e+")").attr("y2",I-U.scale(U.value(d))),w.data(d,a+g-20,e,b,c))}));if(G)d3.select(window).on("resize",(0,l.debounce)(function(){a.animate(!1);a.redraw()},500))})}function d(a){return 0===U.value(a)||
"0"===U.value(a)}function g(a){v.every(d)?(a.classed("mcchart-noDataContainer--hide",!1),a.transition().delay(K).duration(K/2).attr("opacity",1)):a.transition().duration(K/2).attr("opacity",0).each("end",function(){a.classed("mcchart-noDataContainer--hide",!0)})}function h(a){aa.setTicks(aa.maxTicks(),aa.maxResponsiveTicks());!1===!!aa.tickFormat()&&aa.tickFormat(l.timeTick);aa.axis().scale(aa.scale()).orient("bottom").tickFormat(aa.tickFormat());a.append("g").attr("class","mcchart-x mcchart-x-"+
r+" mcchart-axis").classed("mcchart-tick--hide",!aa.showTicks()).attr("transform","translate(0, "+I+")").call(aa.axis())}function k(a){U.setTicks(U.maxTicks(),U.maxResponsiveTicks());!1===!!U.tickFormat()&&U.tickFormat(l.numberTick);U.axis().scale(U.scale()).tickSize(-O,0,0).tickFormat(U.tickFormat()).tickPadding(10).orient("left");a.append("g").attr("class","mcchart-y mcchart-y-"+r+" mcchart-axis").classed("mcchart-tick--hide",!U.showTicks()).call(U.axis());""!==U.label()&&d3.select(".mcchart-y-"+
r).append("text").attr("class","mcchart-axis-label").attr("transform","rotate(-90)").attr("y",6).attr("dy",".71em").attr("font-size","12px").style("text-anchor","end").text(U.label())}function q(a,b){var c=void 0,d=void 0;y<E?(c=1.5,d=3):(c=Q,d=V);if(!W||500<b.length)K=X=0;setTimeout(function(){a.selectAll("mcchart-dot").data(b).enter().append("circle").attr("r",1E-6).style("opacity",1E-6).attr("cx",function(a){return aa.scale(aa.value(a))}).attr("cy",function(a){return U.scale(U.value(a))}).attr("stroke-width",
c).attr("fill",ea).attr("stroke",H[0]).transition().delay(function(a,b){return b*X}).duration(K).attr("r",d).style("opacity",1)},500)}var r=(0,l.createId)(),s=null,v=null,w=(0,c.default)(),u={top:30,right:20,bottom:50,left:60},y=640,x=null,A=!0,C=16,D=9,E=500,G=!0,H=e.default.colors,M=(0,f.default)(),J=!1,S="Hmmm, seems there is no data to show",W=!0,X=20,K=200,Q=3,V=3.5,ea="#FFFFFF",L=null,N=d3.bisector(function(a){return aa.value(a)}).left,I=0,O=0,aa=(0,b.default)("X"),U=(0,b.default)("Y");a.loadChart=
function(b,c){d3.select(b).datum(c).call(a)};a.noDataMessage=function(b){if(!arguments.length)return S;S=b;return a};a.colors=function(b){if(!arguments.length)return H;H=b;return a};a.width=function(b){if(!arguments.length)return y;y=b;return a};a.height=function(b){if(!arguments.length)return x;x=b;return a};a.scaleWidth=function(b){if(!arguments.length)return O;O=b;return a};a.scaleHeight=function(b){if(!arguments.length)return I;I=b;return a};a.mobileThreshold=function(b){if(!arguments.length)return E;
E=b;return a};a.tooltip=function(b){if(!arguments.length)return w;w=b;return a};a.responsive=function(b){if(!arguments.length)return G;G=b;return a};a.aspectRatio=function(b,c){if(!arguments.length)return{aspectWidth:C,aspectHeight:D};C=b;D=c;return a};a.legend=function(b){if(!arguments.length)return M;M=b;return a};a.showLegend=function(b){if(!arguments.length)return J;J=b;return a};a.animate=function(b){if(!arguments.length)return W;W=b;return a};a.xAxis=aa;a.yAxis=U;a.options={};a.options.id=r;
a.options.margin=u;a.options.type="scatterTimeSeries";return a};h=d(5);var b=g(h);h=d(2);var c=g(h);h=d(3);var f=g(h),l=d(1),e=g(l)},function(h,k,d){Object.defineProperty(k,"__esModule",{value:!0});k.default=function(b){function c(){}function d(){e.options.hasOwnProperty("type")&&"stackBar"===e.options.type?s.domain(a[0].map(function(a){return a.x})):s.domain(a.map(q));e.options.hasOwnProperty("type")&&("ordinalBar"===e.options.type||"stackBar"===e.options.type)&&s.rangeRoundBands([0,v],e.options.barPad)}
function h(){if("X"===t)a[0].length?function(){var b=[];s.type===g.default.scaleType.LINEAR?(a.forEach(function(a){b.push(a.length)}),s.domain([0,d3.max(b)])):(a.forEach(function(a){a.forEach(function(a){a.hasOwnProperty(k.toString())&&b.push(+a[k])})}),s.domain(d3.extent(b)))}():s.type===g.default.scaleType.LINEAR?s.domain([0,a.length]):s.domain(d3.extent(a,function(a){return+a[k]}));else if(e.options.hasOwnProperty("type")&&"stackBar"===e.options.type){var b=void 0,b=d3.max(a[a.length-1],function(a){return a.y0+
a.y});s.domain([0,b]).nice()}else(function(){var b=[];n.length?(a.forEach(function(a,c){a.forEach(function(a){a.hasOwnProperty(n[c])&&b.push(Number(a[n[c]]))})}),s.domain([0,d3.max(b)]).nice()):s.domain([0,d3.max(a,function(a){return Number(a[k])})])})()}var e=null,a=null,k=0,n=[],p=d3.svg.axis(),t=b,q=function(a){return a[k]},r="",s=null,v=0,w=!0,u=10,y=4,x=null,A="%Y-%m-%d";c.createAxis=function(b,k,m){e=b;a=k;s=m;"X"===t?(v=e.scaleWidth(),s.range([0,v])):(v=e.scaleHeight(),s.range([v,0]));s.type===
g.default.scaleType.ORDINAL?d():h();return c};c.value=function(a){return!arguments.length?q:a[k]};c.scale=function(a){return!arguments.length?s:s(a)};c.axis=function(a){if(!arguments.length)return p;p=a;return c};c.keyValue=function(a){if(!arguments.length)return k;k=a;return c};c.keyValues=function(a){if(!arguments.length)return n;n=a;return c};c.label=function(a){if(!arguments.length)return r;r=a;return c};c.tickFormat=function(a){if(!arguments.length)return x;x=a;return c};c.maxTicks=function(a){if(!arguments.length)return u;
u=a;return c};c.maxResponsiveTicks=function(a){if(!arguments.length)return y;y=a;return c};c.axisDateFormat=function(a){if(!arguments.length)return A;A=a;return c};c.setTicks=function(a,b){e.width()<e.mobileThreshold()?c.axis().ticks(b):c.axis().ticks(a);return c};c.showTicks=function(a){if(!arguments.length)return w;w=a;return c};return c};var g=(h=d(1))&&h.__esModule?h:{"default":h}},function(h,k,d){function g(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(k,"__esModule",{value:!0});
k.default=function(){function a(b){b.each(function(b){null===y&&(y=b);w=d3.select(this);w.classed({"mcchart-container":!0});S&&(D=w.node().getBoundingClientRect().width);x=w.selectAll("svg").data([y]);x.attr("id","svg-"+this.id);x.classed({"mcchart-svg":!0});b=x.enter().append("svg").attr("id","svg-"+v).classed({"mcchart-svg":!0}).append("g");x.attr("width",D);G&&(E=D*M/H);x.attr("height",E);var c=x.select("g");c.classed({"mcchart-lineTimeSeriesChart":!0});c.attr("transform","translate("+C.left+","+
C.top+")");c=x.append("g").attr("class","mcchart-legendWrap");X.createLegend(a,[y],c);K||x.select(".mcchart-legendWrap").selectAll("*").remove();U=Math.ceil(E-C.top-C.bottom);T=D-C.left-C.right;c=d3.scale.linear();c.type=e.default.scaleType.LINEAR;Y.createAxis(a,y,c);q(b);c=d3.scale.linear();c.type=e.default.scaleType.LINEAR;R.createAxis(a,y,c);r(b);c=b.append("g").attr("class","mcchart-lineContainer");s(c,y);var d=b.append("g").attr("class","mcchart-focus");u=b.append("rect");d.style("display","none");
u.attr("width",T).attr("height",U).attr("class","mcchart-interactive mcchart-interactive-"+v);a.noDataContainer=b.append("g").attr("class","mcchart-noDataContainer").classed("mcchart-noDataContainer--hide",!0).attr("opacity",0);a.noDataContainer.append("text").attr("class","mcchart-noDataMessage").attr("transform","translate("+T/2+","+U/2+")").attr("text-anchor","middle").text(Q);g(a.noDataContainer);d.append("line").attr("class","mcchart-focus-y-line-"+v).style("stroke","#999999").style("stroke-width",
"2px").style("stroke-dasharray","4,4").style("opacity",0.8).attr("y1",0).attr("y2",U);A.enabled()&&function(){A.chartContainer(w);A.flipPoint(T/2);A.xOffset(10);d.append("div").call(A);var a=[];y.forEach(function(b,c){a.push({val:b,index:c})});u.on("mouseover",function(){d.style("display",null);A.show()}).on("mouseout",function(){d.style("display","none");A.hide()}).on("mousemove",function(b){b=d3.mouse(this)[0];var c=d3.mouse(this)[1],e=Y.scale().invert(b),f=$(a,e,0,a.length),g=a[f-1],f=a[f];if(void 0!==
f&&void 0!==g){var e=e-g.index>f.index-e?f:g,g=D-T-C.right,f=Y.scale(e.index),h=R.scale(R.value(e.val));d.select(".mcchart-focus-y-line-"+v).attr("transform","translate("+f+","+h+")").attr("y2",U-R.scale(R.value(e.val)));A.data(e.val,f+g,h,b,c)}})}();if(S)d3.select(window).on("resize",(0,l.debounce)(function(){a.animate(!1);a.redraw()},500))})}function d(a){return 0===R.value(a)||"0"===R.value(a)}function g(a){y.every(d)?(a.classed("mcchart-noDataContainer--hide",!1),a.transition().delay(L).duration(L/
2).attr("opacity",1)):a.transition().duration(L/2).attr("opacity",0).each("end",function(){a.classed("mcchart-noDataContainer--hide",!0)})}function h(a){Y.scale().domain([0,a.length]).nice();d3.select(".mcchart-x.mcchart-axis").transition().duration(L).call(Y.axis())}function k(a){R.scale().domain([0,d3.max(a,function(a){return Number(R.value(a))})]);d3.select(".mcchart-y.mcchart-axis").transition().duration(L).call(R.axis())}function q(a){Y.setTicks(Y.maxTicks(),Y.maxResponsiveTicks());!1===!!Y.tickFormat()&&
Y.tickFormat(l.numberTick);Y.axis().scale(Y.scale()).orient("bottom").tickFormat(Y.tickFormat());a.append("g").attr("class","mcchart-x mcchart-axis").classed("mcchart-tick--hide",!Y.showTicks()).attr("transform","translate(0, "+U+")").call(Y.axis())}function r(a){R.setTicks(R.maxTicks(),R.maxResponsiveTicks());!1===!!R.tickFormat()&&R.tickFormat(l.numberTick);R.axis().scale(R.scale()).tickSize(-T,0,0).tickFormat(R.tickFormat()).tickPadding(10).orient("left");a.append("g").attr("class","mcchart-y mcchart-axis").classed("mcchart-tick--hide",
!R.showTicks()).call(R.axis());""!==R.label()&&d3.select(".mcchart-y").append("text").attr("class","mcchart-axis-label").attr("transform","rotate(-90)").attr("y",6).attr("dy",".71em").attr("font-size","12px").style("text-anchor","end").text(R.label())}function s(b,c){var d=0;0<O&&(d=O?O:1,aa="bundle");var d=d3.svg.line().interpolate(aa).tension(d).x(function(a,b){return Y.scale(b)}).y(function(a){return R.scale(R.value(a))}),e=b.append("path").attr("class","mcchart-line").attr("stroke",I).attr("stroke-width",
N).attr("fill","none").attr("d",d(c)),f=b.selectAll(".mcchart-dot").data(c);f.enter().append("circle").attr("cx",function(a,b){return Y.scale(b)}).attr("cy",function(a){return R.scale(R.value(a))}).attr("stroke-width",N).attr("fill",I).attr("stroke",W[0]);a.animate()?(d=e.node().getTotalLength(),e.attr("stroke-dasharray",d+" "+d).attr("stroke-dashoffset",d),setTimeout(function(){e.transition().duration(L).ease("linear").attr("stroke-dashoffset",0);f.attr("r",1E-6).style("opacity",1E-6).transition().delay(0.7*
L).duration(L/2).attr("r",3).style("opacity",1)},ea)):f.attr("r",3).style("opacity",1)}var v=(0,l.createId)(),w=null,u=null,y=null,x=null,A=(0,c.default)(),C={top:30,right:20,bottom:50,left:60},D=640,E=null,G=!0,H=16,M=9,J=500,S=!0,W=e.default.colors,X=(0,f.default)(),K=!1,Q="Hmmm, seems there is no data to show",V=!0,ea=500,L=1E3,N=3,I=W[0],O=0,aa="monotone",U=0,T=0,Y=(0,b.default)("X"),R=(0,b.default)("Y"),$=d3.bisector(function(a){return a.index}).left;a.update=function(b){y=b;g(a.noDataContainer);
a.animate()||a.animate(!0);b=d3.selectAll(".mcchart-lineContainer");u.data([y]);var c=d3.svg.line().x(function(a,b){return Y.scale(b)}).y(function(a){return R.scale(0)}).interpolate(aa).tension(O),d=b.select("path"),e=b.selectAll("circle").data([]);d.attr("opacity",1).transition().duration(L).attr("d",c).attr("opacity",0).remove();e.exit().transition().duration(L/2).attr("r",0).style("opacity",0).remove();h(y);k(y);s(b,y)};a.redraw=function(){x.remove();w.call(a)};a.loadChart=function(b,c){d3.select(b).datum(c).call(a)};
a.noDataMessage=function(b){if(!arguments.length)return Q;Q=b;return a};a.colors=function(b){if(!arguments.length)return W;W=b;return a};a.width=function(b){if(!arguments.length)return D;D=b;return a};a.height=function(b){if(!arguments.length)return E;E=b;return a};a.scaleWidth=function(b){if(!arguments.length)return T;T=b;return a};a.scaleHeight=function(b){if(!arguments.length)return U;U=b;return a};a.mobileThreshold=function(b){if(!arguments.length)return J;J=b;return a};a.tooltip=function(b){if(!arguments.length)return A;
A=b;return a};a.responsive=function(b){if(!arguments.length)return S;S=b;return a};a.aspectRatio=function(b,c){if(!arguments.length)return{aspectWidth:H,aspectHeight:M};H=b;M=c;return a};a.legend=function(b){if(!arguments.length)return X;X=b;return a};a.showLegend=function(b){if(!arguments.length)return K;K=b;return a};a.animate=function(b){if(!arguments.length)return V;V=b;return a};a.lineStrokeColor=function(b){if(!arguments.length)return I;I=b;return a};a.xAxis=Y;a.yAxis=R;a.options={};a.options.id=
v;a.options.margin=C;a.options.mobileThreshold=J;a.options.type="line";a.options.lineStrokeColor=a.lineStrokeColor;return a};h=d(5);var b=g(h);h=d(2);var c=g(h);h=d(3);var f=g(h),l=d(1),e=g(l)},function(h,k,d){function g(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(k,"__esModule",{value:!0});k.default=function(){function a(b){b.each(function(b){null===y&&(y=b);w=d3.select(this);w.classed({"mcchart-container":!0});S&&(D=w.node().getBoundingClientRect().width);x=w.selectAll("svg").data([y]);
x.attr("id","svg-"+this.id);x.classed({"mcchart-svg":!0});b=x.enter().append("svg").attr("id","svg-"+v).classed({"mcchart-svg":!0}).append("g");x.attr("width",D);G&&(E=D*M/H);x.attr("height",E);var c=x.select("g");c.classed({"mcchart-lineTimeSeriesChart":!0});c.attr("transform","translate("+C.left+","+C.top+")");c=x.append("g").attr("class","mcchart-legendWrap");X.createLegend(a,[y],c);K||x.select(".mcchart-legendWrap").selectAll("*").remove();U=Math.ceil(E-C.top-C.bottom);T=D-C.left-C.right;c=d3.time.scale();
c.type=e.default.scaleType.TIME;Y.createAxis(a,y,c);q(b);c=d3.scale.linear();c.type=e.default.scaleType.LINEAR;R.createAxis(a,y,c);r(b);c=b.append("g").attr("class","mcchart-lineContainer");s(c,y);var d=b.append("g").attr("class","mcchart-focus");u=b.append("rect");d.style("display","none");u.attr("width",T).attr("height",U).attr("class","mcchart-interactive mcchart-interactive-"+v);a.noDataContainer=b.append("g").attr("class","mcchart-noDataContainer").classed("mcchart-noDataContainer--hide",!0).attr("opacity",
0);a.noDataContainer.append("text").attr("class","mcchart-noDataMessage").attr("transform","translate("+T/2+","+U/2+")").attr("text-anchor","middle").text(Q);g(a.noDataContainer);d.append("line").attr("class","mcchart-focus-y-line-"+v).style("stroke","#999999").style("stroke-width","2px").style("stroke-dasharray","4,4").style("opacity",0.8).attr("y1",0).attr("y2",U);A.enabled()&&(A.chartContainer(w),A.flipPoint(T/2),A.xOffset(10),d.append("div").call(A),u.on("mouseover",function(){d.style("display",
null);A.show()}).on("mouseout",function(){d.style("display","none");A.hide()}).on("mousemove",function(a){var b=d3.mouse(this)[0],c=d3.mouse(this)[1],e=Y.scale().invert(b),f=$(a,e,1),g=a[f-1];a=a[f];void 0!==a&&(e=e-Y.value(g)>Y.value(a)-e?a:g,g=D-T-C.right,a=Y.scale(Y.value(e)),f=R.scale(R.value(e)),d.select(".mcchart-focus-y-line-"+v).attr("transform","translate("+a+","+f+")").attr("y2",U-R.scale(R.value(e))),A.data(e,a+g,f,b,c))}));if(S)d3.select(window).on("resize",(0,l.debounce)(function(){a.animate(!1);
a.redraw()},500))})}function d(a){return 0===R.value(a)||"0"===R.value(a)}function g(a){y.every(d)?(a.classed("mcchart-noDataContainer--hide",!1),a.transition().delay(L).duration(L/2).attr("opacity",1)):a.transition().duration(L/2).attr("opacity",0).each("end",function(){a.classed("mcchart-noDataContainer--hide",!0)})}function h(a){Y.scale().domain(d3.extent(a,function(a){return Y.value(a)}));d3.select(".mcchart-x.mcchart-axis").transition().duration(L).call(Y.axis())}function k(a){R.scale().domain([0,
d3.max(a,function(a){return Number(R.value(a))})]);d3.select(".mcchart-y.mcchart-axis").transition().duration(L).call(R.axis())}function q(a){Y.setTicks(Y.maxTicks(),Y.maxResponsiveTicks());!1===!!Y.tickFormat()&&Y.tickFormat(l.timeTick);Y.axis().scale(Y.scale()).orient("bottom").tickFormat(Y.tickFormat());a.append("g").attr("class","mcchart-x mcchart-axis").classed("mcchart-tick--hide",!Y.showTicks()).attr("transform","translate(0, "+U+")").call(Y.axis())}function r(a){R.setTicks(R.maxTicks(),R.maxResponsiveTicks());
!1===!!R.tickFormat()&&R.tickFormat(l.numberTick);R.axis().scale(R.scale()).tickSize(-T,0,0).tickFormat(R.tickFormat()).tickPadding(10).orient("left");a.append("g").attr("class","mcchart-y mcchart-axis").classed("mcchart-tick--hide",!R.showTicks()).call(R.axis());""!==R.label()&&d3.select(".mcchart-y").append("text").attr("class","mcchart-axis-label").attr("transform","rotate(-90)").attr("y",6).attr("dy",".71em").attr("font-size","12px").style("text-anchor","end").text(R.label())}function s(b,c){var d=
0;0<O&&(d=O?O:1,aa="bundle");var d=d3.svg.line().interpolate(aa).tension(d).x(function(a){return Y.scale(Y.value(a))}).y(function(a){return R.scale(R.value(a))}),e=b.append("path").attr("class","mcchart-line").attr("stroke",I).attr("stroke-width",N).attr("fill","none").attr("d",d(c)),f=b.selectAll(".mcchart-dot").data(c);f.enter().append("circle").attr("cx",function(a){return Y.scale(Y.value(a))}).attr("cy",function(a){return R.scale(R.value(a))}).attr("stroke-width",N).attr("fill",I).attr("stroke",
W[0]);a.animate()?(d=e.node().getTotalLength(),e.attr("stroke-dasharray",d+" "+d).attr("stroke-dashoffset",d),setTimeout(function(){e.transition().duration(L).ease("linear").attr("stroke-dashoffset",0);f.attr("r",1E-6).style("opacity",1E-6).transition().delay(0.7*L).duration(L/2).attr("r",3).style("opacity",1)},ea)):f.attr("r",3).style("opacity",1)}var v=(0,l.createId)(),w=null,u=null,y=null,x=null,A=(0,c.default)(),C={top:30,right:20,bottom:50,left:60},D=640,E=null,G=!0,H=16,M=9,J=500,S=!0,W=e.default.colors,
X=(0,f.default)(),K=!1,Q="Hmmm, seems there is no data to show",V=!0,ea=500,L=1E3,N=3,I=W[0],O=0,aa="monotone",U=0,T=0,Y=(0,b.default)("X"),R=(0,b.default)("Y"),$=d3.bisector(function(a){return Y.value(a)}).left;a.update=function(b){y=b;g(a.noDataContainer);a.animate()||a.animate(!0);b=d3.selectAll(".mcchart-lineContainer");u.data([y]);var c=d3.svg.line().x(function(a){return Y.scale(Y.value(a))}).y(function(a){return R.scale(0)}).interpolate(aa).tension(O),d=b.select("path"),e=b.selectAll("circle").data([]);
d.attr("opacity",1).transition().duration(L).attr("d",c).attr("opacity",0).remove();e.exit().transition().duration(L/2).attr("r",0).style("opacity",0).remove();h(y);k(y);s(b,y)};a.redraw=function(){x.remove();w.call(a)};a.loadChart=function(b,c){d3.select(b).datum(c).call(a)};a.noDataMessage=function(b){if(!arguments.length)return Q;Q=b;return a};a.colors=function(b){if(!arguments.length)return W;W=b;return a};a.width=function(b){if(!arguments.length)return D;D=b;return a};a.height=function(b){if(!arguments.length)return E;
E=b;return a};a.scaleWidth=function(b){if(!arguments.length)return T;T=b;return a};a.scaleHeight=function(b){if(!arguments.length)return U;U=b;return a};a.mobileThreshold=function(b){if(!arguments.length)return J;J=b;return a};a.tooltip=function(b){if(!arguments.length)return A;A=b;return a};a.responsive=function(b){if(!arguments.length)return S;S=b;return a};a.aspectRatio=function(b,c){if(!arguments.length)return{aspectWidth:H,aspectHeight:M};H=b;M=c;return a};a.legend=function(b){if(!arguments.length)return X;
X=b;return a};a.showLegend=function(b){if(!arguments.length)return K;K=b;return a};a.animate=function(b){if(!arguments.length)return V;V=b;return a};a.lineStrokeColor=function(b){if(!arguments.length)return I;I=b;return a};a.xAxis=Y;a.yAxis=R;a.options={};a.options.id=v;a.options.margin=C;a.options.mobileThreshold=J;a.options.type="lineTimeSeries";a.options.lineStrokeColor=a.lineStrokeColor;return a};h=d(5);var b=g(h);h=d(2);var c=g(h);h=d(3);var f=g(h),l=d(1),e=g(l)},function(h,k,d){function g(a){return a&&
a.__esModule?a:{"default":a}}Object.defineProperty(k,"__esModule",{value:!0});k.default=function(){function a(b){b.each(function(b){null===A&&(A=b,a.interactiveDataArray=v(A));y=d3.select(this);y.attr("class","mcchart-container-"+u);y.classed({"mcchart-container":!0});X&&(G=y.node().getBoundingClientRect().width);C=y.selectAll("svg").data([A]);C.attr("id","svg-"+u);C.classed({"mcchart-svg":!0});b=C.enter().append("svg").attr("id","svg-"+u).classed({"mcchart-svg":!0}).append("g");C.attr("width",G);
M&&(H=G*S/J);C.attr("height",H);var c=C.select("g");c.classed({"mcchart-lineTimeSeriesChart":!0});c.attr("transform","translate("+E.left+","+E.top+")");c=C.append("g").attr("class","mcchart-legendWrap");Q.createLegend(a,A,c);if(V)c.selectAll(".mcchart-legendSeries").on("click",function(a,b){var c=d3.select(this);c.classed("mcchart-legendSeries--hide",!c.classed("mcchart-legendSeries--hide"));c=d3.select(".mcchart-"+u+"-serie-"+b);c.classed("mcchart-serie--hide")?(c.transition().duration(500).attr("opacity",
1),c.classed("mcchart-serie--hide",!1)):(c.attr("opacity",1),c.transition().duration(500).attr("opacity",0),c.classed("mcchart-serie--hide",!0))});else C.select(".mcchart-legendWrap").selectAll("*").remove();Y=Math.ceil(H-E.top-E.bottom);R=G-E.left-E.right;c=d3.scale.linear();c.type=e.default.scaleType.LINEAR;$.createAxis(a,A,c);q(b);c=d3.scale.linear();c.type=e.default.scaleType.LINEAR;P.createAxis(a,A,c);r(b);c=b.append("g").attr("class","mcchart-multiLineContainer mcchart-multiLineContainer-"+
u);A.length==P.keyValues().length&&s(c,A);var d=b.append("g").attr("class","mcchart-focus");x=b.append("rect");x.attr("width",R).attr("height",Y).attr("class","mcchart-interactive mcchart-interactive-"+u);d.style("display","none");a.noDataContainer=b.append("g").attr("class","mcchart-noDataContainer").classed("mcchart-noDataContainer--hide",!0).attr("opacity",0);a.noDataContainer.append("text").attr("class","mcchart-noDataMessage").attr("transform","translate("+R/2+","+Y/2+")").attr("text-anchor",
"middle").text(ea);g(a.noDataContainer);d.append("line").attr("class","mcchart-focus-y-line-"+u).style("stroke","#999999").style("stroke-width","2px").style("stroke-dasharray","4,4").style("opacity",0.8).attr("y1",0).attr("y2",Y);D.enabled()&&(D.chartContainer(y),D.flipPoint(R/2),D.xOffset(10),d.call(D),x.data([a.interactiveDataArray]),x.on("mouseover",function(){d.style("display",null);D.show()}).on("mouseout",function(){d.style("display","none");D.hide()}).on("mousemove",function(a){var b=d3.mouse(this)[0],
c=d3.mouse(this)[1],e=$.scale().invert(b),f=ma(a,e,0,a.length),g=a[f-1];a=a[f];void 0!==a&&void 0!==g&&(e=e-g.index>a.index-e?a:g,g=G-R-E.right,a=$.scale(e.index),f=P.scale(w(e)),d.select(".mcchart-focus-y-line-"+u).attr("transform","translate("+a+",0)").attr("y2",Y),D.data(e,a+g,f,b,c))}));if(X)d3.select(window).on("resize",(0,l.debounce)(function(){a.animate(!1);a.redraw()},500))})}function d(a){return 0===P.value(a)||"0"===P.value(a)}function g(a){var b=[],c;for(c in A)b.push(A[c].every(d));b.every(function(a){return!0===
a})?(a.classed("mcchart-noDataContainer--hide",!1),a.transition().delay(I).duration(I/2).attr("opacity",1)):a.transition().duration(I/2).attr("opacity",0).each("end",function(){a.classed("mcchart-noDataContainer--hide",!0)})}function h(a){var b=[];a.forEach(function(a){a.forEach(function(a){a.hasOwnProperty($.keyValue().toString())&&b.push(+a[$.keyValue()])})});$.scale().domain(d3.extent(b));d3.select(".mcchart-x-"+u).transition().duration(I).call($.axis())}function k(a){var b=[];a.forEach(function(a,
c){a.forEach(function(a){a.hasOwnProperty(P.keyValues()[c])&&b.push(Number(a[P.keyValues()[c]]))})});P.scale().domain([0,d3.max(b)]).nice();d3.select(".mcchart-y-"+u).transition().duration(I).call(P.axis())}function q(a){$.setTicks($.maxTicks(),$.maxResponsiveTicks());!1===!!$.tickFormat()&&$.tickFormat(l.numberTick);$.axis().scale($.scale()).orient("bottom").tickFormat($.tickFormat());a.append("g").attr("class","mcchart-x mcchart-x-"+u+" mcchart-axis").classed("mcchart-tick--hide",!$.showTicks()).attr("transform",
"translate(0, "+Y+")").call($.axis())}function r(a){P.setTicks(P.maxTicks(),P.maxResponsiveTicks());!1===!!P.tickFormat()&&P.tickFormat(l.numberTick);P.axis().scale(P.scale()).tickSize(-R,0,0).tickFormat(P.tickFormat()).tickPadding(10).orient("left");a.append("g").attr("class","mcchart-y mcchart-y-"+u+" mcchart-axis").classed("mcchart-tick--hide",!P.showTicks()).call(P.axis());""!==P.label()&&d3.select("mcchart-y-"+u).append("text").attr("class","mcchart-axis-label").attr("transform","rotate(-90)").attr("y",
6).attr("dy",".71em").attr("font-size","12px").style("text-anchor","end").text(P.label())}function s(b,c){var d=0;0<U&&(d=U?U:1,T="bundle");c[0].length&&function(){var e=d3.svg.line().interpolate(T).tension(d).x(function(a,b){return $.scale(b)}).y(function(a){return P.scale(P.value(a))});b.selectAll(".mcchart-lineWrap").data(c).enter().append("g").attr("class",function(a,b){return"mcchart-lineWrap mcchart-"+u+"-serie-"+b});b.selectAll(".mcchart-lineWrap").append("path").attr("class","mcchart-line").attr("stroke",
function(a,b){return K[b]}).attr("stroke-width",O).attr("fill","none").attr("d",function(a,b){P.keyValue(P.keyValues()[b]);return e(a)});b.selectAll(".mcchart-lineWrap").each(function(d,e){var f=d3.select(this).selectAll(".mcchart-dot").data(c[e]);P.keyValue(P.keyValues()[e]);f.enter().append("circle").attr("cx",function(a,b){return $.scale(b)}).attr("cy",function(a){return P.scale(P.value(a))}).attr("stroke-width",O).attr("fill",function(a){return K[e]}).attr("stroke",function(a){return K[e]});a.animate()?
b.selectAll(".mcchart-line").each(function(a,b){var c=d3.select(this),d=c.node().getTotalLength();c.attr("stroke-dasharray",d+" "+d).attr("stroke-dashoffset",d);setTimeout(function(){c.transition().duration(I).ease("linear").attr("stroke-dashoffset",0);f.attr("r",1E-6).style("opacity",1E-6).transition().delay(0.7*I).duration(I/2).attr("r",3).style("opacity",1)},N)}):f.attr("r",3).style("opacity",1)})}()}function v(a){for(var b=a[0].map(function(a,b){var c={};c.serie0=a;c.index=b;return c}),c=function(c){a[c].forEach(function(a,
d){var e=!1;b[d]&&(e=!0);e?b[d]["serie"+c]=a:(e={},e["serie"+c]=a,e.index=d,b.push(e))})},d=1;d<a.length;d++)c(d);return b}function w(a){var b=[],c=0;A.forEach(function(d,e){a["serie"+e]&&(c=parseFloat(a["serie"+e][P.keyValues()[e]]));b.push(c)});return Math.max.apply(Math,b)}var u=(0,l.createId)(),y=null,x=null,A=null,C=null,D=(0,c.default)(),E={top:30,right:20,bottom:50,left:60},G=640,H=null,M=!0,J=16,S=9,W=500,X=!0,K=e.default.colors,Q=(0,f.default)(),V=!0,ea="Hmmm, seems there is no data to show",
L=!0,N=250,I=750,O=3,aa=K[0],U=0,T="monotone",Y=0,R=0,$=(0,b.default)("X"),P=(0,b.default)("Y"),ma=d3.bisector(function(a){return a.index}).left;a.update=function(b){A=_castDateToNumber(b);a.interactiveDataArray=v(A);g(a.noDataContainer);a.animate()||a.animate(!0);var c=y.selectAll(".mcchart-multiLineContainer-"+u),d=c.selectAll(".mcchart-lineWrap").data(A);x.data([a.interactiveDataArray]);var e=d3.svg.line().x(function(a){return $.scale($.value(a))}).y(function(a){return P.scale(0)}).interpolate(T).tension(U);
d.each(function(a,b){P.keyValue(P.keyValues()[b]);var f=d3.select(this).selectAll("path").data([]),g=d3.select(this).selectAll("circle").data([]);f.exit().attr("opacity",1).transition().delay(100*b).duration(0.75*I).attr("d",function(a){return e(a)}).attr("opacity",0).remove().each("end",function(){d[0].length===b+1&&s(c,A)});g.exit().transition().duration(I/2).attr("r",0).style("opacity",0).remove()});h(A);k(A)};a.redraw=function(){C.remove();y.call(a)};a.loadChart=function(b,c){d3.select(b).datum(c).call(a)};
a.noDataMessage=function(b){if(!arguments.length)return ea;ea=b;return a};a.colors=function(b){if(!arguments.length)return K;K=b;return a};a.width=function(b){if(!arguments.length)return G;G=b;return a};a.height=function(b){if(!arguments.length)return H;H=b;return a};a.scaleWidth=function(b){if(!arguments.length)return R;R=b;return a};a.scaleHeight=function(b){if(!arguments.length)return Y;Y=b;return a};a.mobileThreshold=function(b){if(!arguments.length)return W;W=b;return a};a.tooltip=function(b){if(!arguments.length)return D;
D=b;return a};a.responsive=function(b){if(!arguments.length)return X;X=b;return a};a.aspectRatio=function(b,c){if(!arguments.length)return{aspectWidth:J,aspectHeight:S};J=b;S=c;return a};a.legend=function(b){if(!arguments.length)return Q;Q=b;return a};a.showLegend=function(b){if(!arguments.length)return V;V=b;return a};a.animate=function(b){if(!arguments.length)return L;L=b;return a};a.lineStrokeColor=function(b){if(!arguments.length)return aa;aa=b;return a};a.xAxis=$;a.yAxis=P;a.options={};a.options.id=
u;a.options.margin=E;a.options.mobileThreshold=W;a.options.type="multiLine";a.options.lineStrokeColor=a.lineStrokeColor;return a};h=d(5);var b=g(h);h=d(2);var c=g(h);h=d(3);var f=g(h),l=d(1),e=g(l)},function(h,k,d){function g(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(k,"__esModule",{value:!0});k.default=function(){function a(b){b.each(function(b){null===C&&(C=b,a.interactiveDataArray=w(C));x=d3.select(this);x.attr("class","mcchart-container-"+y);x.classed({"mcchart-container":!0});
K&&(H=x.node().getBoundingClientRect().width);D=x.selectAll("svg").data([C]);D.attr("id","svg-"+y);D.classed({"mcchart-svg":!0});b=D.enter().append("svg").attr("id","svg-"+y).classed({"mcchart-svg":!0}).append("g");D.attr("width",H);J&&(M=H*W/S);D.attr("height",M);var c=D.select("g");c.classed({"mcchart-lineTimeSeriesChart":!0});c.attr("transform","translate("+G.left+","+G.top+")");c=D.append("g").attr("class","mcchart-legendWrap");V.createLegend(a,C,c);if(ea)c.selectAll(".mcchart-legendSeries").on("click",
function(a,b){var c=d3.select(this);c.classed("mcchart-legendSeries--hide",!c.classed("mcchart-legendSeries--hide"));c=d3.select(".mcchart-"+y+"-serie-"+b);c.classed("mcchart-serie--hide")?(c.transition().duration(500).attr("opacity",1),c.classed("mcchart-serie--hide",!1)):(c.attr("opacity",1),c.transition().duration(500).attr("opacity",0),c.classed("mcchart-serie--hide",!0))});else D.select(".mcchart-legendWrap").selectAll("*").remove();R=Math.ceil(M-G.top-G.bottom);$=H-G.left-G.right;c=d3.time.scale();
c.type=e.default.scaleType.TIME;P.createAxis(a,C,c);q(b);c=d3.scale.linear();c.type=e.default.scaleType.LINEAR;ma.createAxis(a,C,c);r(b);c=b.append("g").attr("class","mcchart-multiLineContainer mcchart-multiLineContainer-"+y);C.length==ma.keyValues().length&&s(c,C);var d=b.append("g").attr("class","mcchart-focus");A=b.append("rect");A.attr("width",$).attr("height",R).attr("class","mcchart-interactive mcchart-interactive-"+y);d.style("display","none");a.noDataContainer=b.append("g").attr("class","mcchart-noDataContainer").classed("mcchart-noDataContainer--hide",
!0).attr("opacity",0);a.noDataContainer.append("text").attr("class","mcchart-noDataMessage").attr("transform","translate("+$/2+","+R/2+")").attr("text-anchor","middle").text(L);g(a.noDataContainer);d.append("line").attr("class","mcchart-focus-y-line-"+y).style("stroke","#999999").style("stroke-width","2px").style("stroke-dasharray","4,4").style("opacity",0.8).attr("y1",0).attr("y2",R);E.enabled()&&(E.chartContainer(x),E.flipPoint($/2),E.xOffset(10),d.call(E),A.data([a.interactiveDataArray]),A.on("mouseover",
function(){d.style("display",null);E.show()}).on("mouseout",function(){d.style("display","none");E.hide()}).on("mousemove",function(a){var b=d3.mouse(this)[0],c=d3.mouse(this)[1],e=P.scale().invert(b),f=La(a,e,1),g=a[f-1];a=a[f];void 0!==a&&(e=e-new Date(P.value(g))>new Date(P.value(a))-e?a:g,g=H-$-G.right,a=P.scale(new Date(P.value(e))),f=ma.scale(u(e)),d.select(".mcchart-focus-y-line-"+y).attr("transform","translate("+a+",0)").attr("y2",R),E.data(e,a+g,f,b,c))}));if(K)d3.select(window).on("resize",
(0,l.debounce)(function(){a.animate(!1);a.redraw()},500))})}function d(a){return 0===ma.value(a)||"0"===ma.value(a)}function g(a){var b=[],c;for(c in C)b.push(C[c].every(d));b.every(function(a){return!0===a})?(a.classed("mcchart-noDataContainer--hide",!1),a.transition().delay(O).duration(O/2).attr("opacity",1)):a.transition().duration(O/2).attr("opacity",0).each("end",function(){a.classed("mcchart-noDataContainer--hide",!0)})}function h(a){var b=[];a.forEach(function(a){a.forEach(function(a){a.hasOwnProperty(P.keyValue().toString())&&
b.push(+a[P.keyValue()])})});P.scale().domain(d3.extent(b));d3.select(".mcchart-x-"+y).transition().duration(O).call(P.axis())}function k(a){var b=[];a.forEach(function(a,c){a.forEach(function(a){a.hasOwnProperty(ma.keyValues()[c])&&b.push(Number(a[ma.keyValues()[c]]))})});ma.scale().domain([0,d3.max(b)]).nice();d3.select(".mcchart-y-"+y).transition().duration(O).call(ma.axis())}function q(a){P.setTicks(P.maxTicks(),P.maxResponsiveTicks());!1===!!P.tickFormat()&&P.tickFormat(l.timeTick);P.axis().scale(P.scale()).orient("bottom").tickFormat(P.tickFormat());
a.append("g").attr("class","mcchart-x mcchart-x-"+y+" mcchart-axis").classed("mcchart-tick--hide",!P.showTicks()).attr("transform","translate(0, "+R+")").call(P.axis())}function r(a){ma.setTicks(ma.maxTicks(),ma.maxResponsiveTicks());!1===!!ma.tickFormat()&&ma.tickFormat(l.numberTick);ma.axis().scale(ma.scale()).tickSize(-$,0,0).tickFormat(ma.tickFormat()).tickPadding(10).orient("left");a.append("g").attr("class","mcchart-y mcchart-y-"+y+" mcchart-axis").classed("mcchart-tick--hide",!ma.showTicks()).call(ma.axis());
""!==ma.label()&&d3.select("mcchart-y-"+y).append("text").attr("class","mcchart-axis-label").attr("transform","rotate(-90)").attr("y",6).attr("dy",".71em").attr("font-size","12px").style("text-anchor","end").text(ma.label())}function s(b,c){var d=0;0<T&&(d=T?T:1,Y="bundle");c[0].length&&function(){var e=d3.svg.line().interpolate(Y).tension(d).x(function(a){return P.scale(P.value(a))}).y(function(a){return ma.scale(ma.value(a))});b.selectAll(".mcchart-lineWrap").data(c).enter().append("g").attr("class",
function(a,b){return"mcchart-lineWrap mcchart-"+y+"-serie-"+b});b.selectAll(".mcchart-lineWrap").append("path").attr("class","mcchart-line").attr("stroke",function(a,b){return Q[b]}).attr("stroke-width",aa).attr("fill","none").attr("d",function(a,b){ma.keyValue(ma.keyValues()[b]);return e(a)});b.selectAll(".mcchart-lineWrap").each(function(d,e){var f=d3.select(this).selectAll(".mcchart-dot").data(c[e]);ma.keyValue(ma.keyValues()[e]);f.enter().append("circle").attr("cx",function(a){return P.scale(P.value(a))}).attr("cy",
function(a){return ma.scale(ma.value(a))}).attr("stroke-width",aa).attr("fill",function(a){return Q[e]}).attr("stroke",function(a){return Q[e]});a.animate()?b.selectAll(".mcchart-line").each(function(a,b){var c=d3.select(this),d=c.node().getTotalLength();c.attr("stroke-dasharray",d+" "+d).attr("stroke-dashoffset",d);setTimeout(function(){c.transition().duration(O).ease("linear").attr("stroke-dashoffset",0);f.attr("r",1E-6).style("opacity",1E-6).transition().delay(0.7*O).duration(O/2).attr("r",3).style("opacity",
1)},I)}):f.attr("r",3).style("opacity",1)})}()}function v(a){a.forEach(function(a,b){a.forEach(function(a,b){"number"!==typeof a[P.keyValue()]&&(a[P.keyValue()]=+(0,l.parseDate)(a[P.keyValue()],P.axisDateFormat()))})});return a}function w(a){function b(a){for(var d=!1,e=0;e<c.length;e++)if(a[P.keyValue()]===c[e][P.keyValue()]){d=!0;break}return d}for(var c=a[0].map(function(a,b){var c={};c.serie0=a;c[P.keyValue()]=a[P.keyValue()];return c}),d=function(d){a[d].forEach(function(a,e){if(b(a))c.filter(function(b){return b[P.keyValue()]===
a[P.keyValue()]})[0]["serie"+d]=a;else{var f={};f["serie"+d]=a;f[P.keyValue()]=a[P.keyValue()];c.push(f)}})},e=1;e<a.length;e++)d(e);return c}function u(a){var b=[],c=0;C.forEach(function(d,e){a["serie"+e]&&(c=parseFloat(a["serie"+e][ma.keyValues()[e]]));b.push(c)});return Math.max.apply(Math,b)}var y=(0,l.createId)(),x=null,A=null,C=null,D=null,E=(0,c.default)(),G={top:30,right:20,bottom:50,left:60},H=640,M=null,J=!0,S=16,W=9,X=500,K=!0,Q=e.default.colors,V=(0,f.default)(),ea=!0,L="Hmmm, seems there is no data to show",
N=!0,I=250,O=750,aa=3,U=Q[0],T=0,Y="monotone",R=0,$=0,P=(0,b.default)("X"),ma=(0,b.default)("Y"),La=d3.bisector(function(a){return P.value(a)}).left;a.update=function(b){C=v(b);a.interactiveDataArray=w(C);g(a.noDataContainer);a.animate()||a.animate(!0);var c=x.selectAll(".mcchart-multiLineContainer-"+y),d=c.selectAll(".mcchart-lineWrap").data(C);A.data([a.interactiveDataArray]);var e=d3.svg.line().x(function(a){return P.scale(P.value(a))}).y(function(a){return ma.scale(0)}).interpolate(Y).tension(T);
d.each(function(a,b){ma.keyValue(ma.keyValues()[b]);var f=d3.select(this).selectAll("path").data([]),g=d3.select(this).selectAll("circle").data([]);f.exit().attr("opacity",1).transition().delay(100*b).duration(0.75*O).attr("d",function(a){return e(a)}).attr("opacity",0).remove().each("end",function(){d[0].length===b+1&&s(c,C)});g.exit().transition().duration(O/2).attr("r",0).style("opacity",0).remove()});h(C);k(C)};a.redraw=function(){D.remove();x.call(a)};a.loadChart=function(b,c){var d=v(c);d3.select(b).datum(d).call(a)};
a.noDataMessage=function(b){if(!arguments.length)return L;L=b;return a};a.colors=function(b){if(!arguments.length)return Q;Q=b;return a};a.width=function(b){if(!arguments.length)return H;H=b;return a};a.height=function(b){if(!arguments.length)return M;M=b;return a};a.scaleWidth=function(b){if(!arguments.length)return $;$=b;return a};a.scaleHeight=function(b){if(!arguments.length)return R;R=b;return a};a.mobileThreshold=function(b){if(!arguments.length)return X;X=b;return a};a.tooltip=function(b){if(!arguments.length)return E;
E=b;return a};a.responsive=function(b){if(!arguments.length)return K;K=b;return a};a.aspectRatio=function(b,c){if(!arguments.length)return{aspectWidth:S,aspectHeight:W};S=b;W=c;return a};a.legend=function(b){if(!arguments.length)return V;V=b;return a};a.showLegend=function(b){if(!arguments.length)return ea;ea=b;return a};a.animate=function(b){if(!arguments.length)return N;N=b;return a};a.lineStrokeColor=function(b){if(!arguments.length)return U;U=b;return a};a.xAxis=P;a.yAxis=ma;a.options={};a.options.id=
y;a.options.margin=G;a.options.mobileThreshold=X;a.options.type="multiLineTimeSeries";a.options.lineStrokeColor=a.lineStrokeColor;return a};h=d(5);var b=g(h);h=d(2);var c=g(h);h=d(3);var f=g(h),l=d(1),e=g(l)},function(h,k,d){function g(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(k,"__esModule",{value:!0});k.default=function(){function a(b){b.each(function(b){u=b;s=d3.select(this);s.classed({"mcchart-container":!0});H&&(x=s.node().getBoundingClientRect().width);v=s.selectAll("svg").data([u]);
v.attr("id","svg-"+this.id);v.classed({"mcchart-svg":!0});b=v.enter().append("svg").attr("id","svg-"+r).classed({"mcchart-svg":!0}).append("g");v.attr("width",x);C&&(A=x*E/D);v.attr("height",A);ea=Math.ceil(A-y.top-y.bottom);L=x-y.left-y.right;var c=v.select("g");c.classed({"mcchart-barTimeSeriesChart":!0});c.attr("transform","translate("+y.left+","+y.top+")");c=v.append("g").attr("class","mcchart-legendWrap");J.createLegend(a,[u],c);S||v.select(".mcchart-legendWrap").selectAll("*").remove();c=d3.scale.ordinal();
c.type=e.default.scaleType.ORDINAL;N.createAxis(a,u,c);h(b);c=d3.scale.linear();c.type=e.default.scaleType.LINEAR;I.createAxis(a,u,c);k(b);c=b.append("g").attr("class","mcchart-barContainer mcchart-barContainer-"+r).attr("transform","translate(0, -1)");q(c,u);var d=b.append("g").attr("class","mcchart-focus"),f=b.append("rect");d.style("display","none");f.attr("width",L).attr("height",ea).attr("class","mcchart-interactive mcchart-interactive-"+r);a.noDataContainer=b.append("g").attr("class","mcchart-noDataContainer").classed("mcchart-noDataContainer--hide",
!0).attr("opacity",0);a.noDataContainer.append("text").attr("class","mcchart-noDataMessage").attr("transform","translate("+L/2+","+ea/2+")").attr("text-anchor","middle").text(W);g(a.noDataContainer);w.enabled()&&function(){var a=N.scale().rangeBand();w.chartContainer(s);w.flipPoint(L/2+a/2);d.append("div").call(w);f.on("mouseout",function(){w.hide()}).on("mousemove",function(b){for(var c=d3.mouse(this)[0],d=d3.mouse(this)[1],e=0;e<b.length;e++){var f=b[e],g=N.scale(N.value(f)),h=g+N.scale().rangeBand(),
k=I.scale(I.value(f));if(c>g&&c<h&&d>k){c<w.flipPoint()?w.data(f,g+a+y.left,k,c,d):w.data(f,g+y.left,k,c,d);w.show();break}else w.hide()}})}();if(H)d3.select(window).on("resize",(0,l.debounce)(function(){a.animate(!1);a.redraw()},500));a.update=function(b){u=b;g(a.noDataContainer);f.data([b]);d3.select(".mcchart-barContainer-"+r).selectAll(".mcchart-bar").data(b).transition().duration(Q).attr("y",function(a){return I.scale(I.value(a))}).attr("height",function(a){return ea-I.scale(I.value(a))})};a.redraw=
function(){v.remove();s.call(a)}})}function d(a){return 0===I.value(a)||"0"===I.value(a)}function g(a){u.every(d)?(a.classed("mcchart-noDataContainer--hide",!1),a.transition().delay(Q).duration(Q/2).attr("opacity",1)):a.transition().duration(Q/2).attr("opacity",0).each("end",function(){a.classed("mcchart-noDataContainer--hide",!0)})}function h(b){N.setTicks(N.maxTicks(),N.maxResponsiveTicks());a.width()<a.mobileThreshold()?N.axis().tickValues(N.scale().domain().filter(function(a,b){return!(b%4)})):
N.axis().tickValues(N.scale().domain());!1===!!N.tickFormat()&&N.tickFormat(l.timeTick);N.axis().scale(N.scale()).orient("bottom").tickFormat(N.tickFormat());b.append("g").attr("class","mcchart-x mcchart-axis").classed("mcchart-tick--hide",!N.showTicks()).attr("transform","translate(0, "+ea+")").call(N.axis())}function k(a){I.setTicks(I.maxTicks(),I.maxResponsiveTicks());!1===!!I.tickFormat()&&I.tickFormat(l.numberTick);I.axis().scale(I.scale()).tickSize(-L,0,0).tickFormat(I.tickFormat()).tickPadding(10).orient("left");
a.append("g").attr("class","mcchart-y mcchart-axis").classed("mcchart-tick--hide",!I.showTicks()).call(I.axis());""!==I.label()&&d3.select(".mcchart-y").append("text").attr("class","mcchart-axis-label").attr("transform","rotate(-90)").attr("y",6).attr("dy",".71em").attr("font-size","12px").style("text-anchor","end").text(I.label())}function q(b,c){setTimeout(function(){var d=b.selectAll("mcchart-bar").data(c);d.enter().append("rect").attr("class","mcchart-bar").attr("x",function(a){return N.scale(N.value(a))}).attr("width",
N.scale().rangeBand()).attr("fill",M[0]).attr("opacity",V).attr("y",function(a){return ea}).attr("height",0);a.animate()?d.transition().duration(Q).delay(function(a,b){return 10*b}).attr("height",function(a){return ea-I.scale(I.value(a))}).attr("y",function(a){return I.scale(I.value(a))}):d.attr("height",function(a){return ea-I.scale(I.value(a))}).attr("y",function(a){return I.scale(I.value(a))})},K)}var r=(0,l.createId)(),s=null,v=null,w=(0,c.default)(),u=null,y={top:30,right:20,bottom:50,left:60},
x=640,A=null,C=!0,D=16,E=9,G=500,H=!0,M=e.default.colors,J=(0,f.default)(),S=!1,W="Hmmm, seems there is no data to show",X=!0,K=500,Q=750,V=1,ea=0,L=0,N=(0,b.default)("X"),I=(0,b.default)("Y");a.loadChart=function(b,c){d3.select(b).datum(c).call(a)};a.noDataMessage=function(b){if(!arguments.length)return W;W=b;return a};a.colors=function(b){if(!arguments.length)return M;M=b;return a};a.width=function(b){if(!arguments.length)return x;x=b;return a};a.height=function(b){if(!arguments.length)return A;
A=b;return a};a.scaleWidth=function(b){if(!arguments.length)return L;L=b;return a};a.scaleHeight=function(b){if(!arguments.length)return ea;ea=b;return a};a.mobileThreshold=function(b){if(!arguments.length)return G;G=b;return a};a.legend=function(b){if(!arguments.length)return J;J=b;return a};a.showLegend=function(b){if(!arguments.length)return S;S=b;return a};a.tooltip=function(b){if(!arguments.length)return w;w=b;return a};a.responsive=function(b){if(!arguments.length)return H;H=b;return a};a.aspectRatio=
function(b,c){if(!arguments.length)return{aspectWidth:D,aspectHeight:E};D=b;E=c;return a};a.animate=function(b){if(!arguments.length)return X;X=b;return a};a.xAxis=N;a.yAxis=I;a.options={};a.options.id=r;a.options.margin=y;a.options.barPad=0.2;a.options.mobileThreshold=G;a.options.type="ordinalBar";a.options.lineStrokeColor=a.lineStrokeColor;return a};h=d(5);var b=g(h);h=d(2);var c=g(h);h=d(3);var f=g(h),l=d(1),e=g(l)},function(h,k,d){function g(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(k,
"__esModule",{value:!0});k.default=function(){function a(b){b.each(function(b){A=b;for(var c=0;c<Object.keys(b).length;c++)N[c]=!0;s(b);A=b;u=d3.select(this);u.classed({"mcchart-container":!0});S&&(D=u.node().getBoundingClientRect().width);y=u.selectAll("svg").data([L]);y.attr("id","svg-"+this.id);y.classed({"mcchart-svg":!0});b=y.enter().append("svg").attr("id","svg-"+w).classed({"mcchart-svg":!0}).append("g");y.attr("width",D);G&&(E=D*M/H);y.attr("height",E);c=y.select("g");c.classed({"mcchart-stackBarChart":!0});
c.attr("transform","translate("+C.left+","+C.top+")");c=y.append("g").attr("class","mcchart-legendWrap");X.createLegend(a,L,c);if(K)c.selectAll(".mcchart-legendSeries").on("click",function(b,c){var d=d3.select(this);d.classed("mcchart-legendSeries--hide",!d.classed("mcchart-legendSeries--hide"));N[c]?N[c]=!1:N[c]=!0;a._updateSeriesData()});else y.select(".mcchart-legendWrap").selectAll("*").remove();a._updateSeriesData=function(){var a=d3.layout.stack()(ea.map(function(a,b){return A[a].map(function(a){return{x:(0,
l.parseDate)(a[$.keyValue()],Q),y:N[b]?+a[P.keyValue()]:0}})}));v(a);T.data([a])};Y=Math.ceil(E-C.top-C.bottom);R=D-C.left-C.right;a.redraw=function(){y.remove();u.call(a)};c=d3.scale.ordinal();c.type=e.default.scaleType.ORDINAL;$.createAxis(a,L,c);q(b);c=d3.scale.linear();c.type=e.default.scaleType.LINEAR;P.createAxis(a,L,c);r(b);U=b.append("g").attr("class","mcchart-barContainer").attr("transform","translate(0, -1)");v();c=b.append("g").attr("class","mcchart-focus");T=b.append("rect");T.attr("width",
R).attr("height",Y).attr("class","mcchart-interactive mcchart-interactive-"+w);c.style("display","none");a.noDataContainer=b.append("g").attr("class","mcchart-noDataContainer").classed("mcchart-noDataContainer--hide",!0).attr("opacity",0);a.noDataContainer.append("text").attr("class","mcchart-noDataMessage").attr("transform","translate("+R/2+","+Y/2+")").attr("text-anchor","middle").text(V);g(a.noDataContainer);x.enabled()&&function(){var a=$.scale().rangeBand();x.chartContainer(u);x.flipPoint(R/
2+a/2);T.append("div").call(x);T.on("mouseout",function(){x.hide()}).on("mousemove",function(b){for(var c=d3.mouse(this)[0],d=d3.mouse(this)[1],e=0;e<b.length;e++)for(var f=0;f<b[e].length;f++){var g=b[e][f],h=$.scale(g.x),k=h+$.scale().rangeBand(),l=P.scale(g.y+g.y0),m=P.scale(g.y0);g.seriesIndex=e;if(c>h&&c<k&&d>l&&d<m){c<x.flipPoint()?x.data(g,h+a+C.left,l+C.top,c,d):x.data(g,h+C.left,l+C.top,c,d);x.show();e=b.length-1;break}else x.hide()}})}();a.update=function(b){var c=1<arguments.length&&void 0!==
arguments[1]?arguments[1]:{};A=b;g(a.noDataContainer);var d=s(b);T.data([d]);h(d,c);k(d);v()};if(S)d3.select(window).on("resize",(0,l.debounce)(function(){a.animate(!1);a.redraw()},500))})}function d(a){return 0===P.value(a)||"0"===P.value(a)}function g(a){var b=[],c;for(c in A)b.push(A[c].every(d));b.every(function(a){return!0===a})?(a.classed("mcchart-noDataContainer--hide",!1),a.transition().delay(O).duration(O/2).attr("opacity",1)):a.transition().duration(O/2).attr("opacity",0).each("end",function(){a.classed("mcchart-noDataContainer--hide",
!0)})}function h(b,c){$.scale().domain(b[0].map(function(a){return a.x}));$.scale().rangeRoundBands([0,a.scaleWidth()],a.options.barPad);$.axis().tickValues($.scale().domain());if(c.xAxisFormat){var d=d3.time.format(c.xAxisFormat);$.axis().tickFormat(function(a){return d(a)})}d3.select(".mcchart-x-"+w).transition().duration(O).call($.axis())}function k(a){var b=[];P.scale().domain(a[a.length-1].map(function(a){b.push(a.y+a.y0)}));P.scale().domain([0,d3.max(b)]).nice();d3.select(".mcchart-y-"+w).transition().duration(O).call(P.axis())}
function q(b){$.setTicks($.maxTicks(),$.maxResponsiveTicks());a.width()<a.mobileThreshold()?$.axis().tickValues($.scale().domain().filter(function(a,b){return!(b%4)})):$.axis().tickValues($.scale().domain());!1===!!$.tickFormat()&&$.tickFormat(l.timeTick);$.axis().scale($.scale()).orient("bottom").tickFormat($.tickFormat());b.append("g").attr("class","mcchart-x mcchart-x-"+w+" mcchart-axis").classed("mcchart-tick--hide",!$.showTicks()).attr("transform","translate(0, "+Y+")").call($.axis())}function r(a){P.setTicks(P.maxTicks(),
P.maxResponsiveTicks());!1===!!P.tickFormat()&&P.tickFormat(l.numberTick);P.axis().scale(P.scale()).tickSize(-R,0,0).tickFormat(P.tickFormat()).tickPadding(10).ticks(P.maxTicks()).orient("left");a.append("g").attr("class","mcchart-y mcchart-y-"+w+" mcchart-axis").classed("mcchart-tick--hide",!P.showTicks()).call(P.axis());""!==P.label()&&d3.select(".mcchart-y-"+w).append("text").attr("class","mcchart-axis-label").attr("transform","rotate(-90)").attr("y",6).attr("dy",".71em").attr("font-size","12px").style("text-anchor",
"end").text(P.label())}function s(a){ea=Object.keys(a);for(var b in a)a[b].forEach(function(a){0>a[P.keyValue()]&&(a[P.keyValue()]=0)});return L=d3.layout.stack()(ea.map(function(b,c){return a[b].map(function(a){return{x:(0,l.parseDate)(a[$.keyValue()],Q),y:N[c]?+a[P.keyValue()]:0}})}))}function v(a){a=a?a:L;a=U.selectAll(".mcchart-barlayer").data(a);var b=0;a.enter().append("g").attr("class","mcchart-barlayer").attr("x",function(a){return $.scale(a.x)}).style("fill",function(a,c){var d=N[c]?c+b:
c+b++;return W[d]});a.exit().style("fill",function(a,c){var d=N[c]?c+b:c+b++;return W[d]}).selectAll("rect").transition().duration(O).delay(function(a,b){return 10*b}).attr("y",function(a){return P.scale(a.y+a.y0)}).attr("height",function(a){return 0}).remove();a=a.selectAll("rect").data(function(a){return a});a.transition().duration(O).delay(function(a,b){return 100*b}).attr("x",function(a){return $.scale(a.x)}).attr("y",function(a){return P.scale(a.y+a.y0)}).attr("width",$.scale().rangeBand()-1).attr("height",
function(a){return P.scale(a.y0)-P.scale(a.y+a.y0)});a.enter().append("rect").attr("class","bar").attr("width",$.scale().rangeBand()-1).attr("opacity",aa).attr("y",function(a){return Y}).attr("height",function(a){return 0}).transition().duration(O).delay(function(a,b){return 100*b}).attr("x",function(a){return $.scale(a.x)}).attr("y",function(a){return P.scale(a.y+a.y0)}).attr("height",function(a){return P.scale(a.y0)-P.scale(a.y+a.y0)});a.exit().transition().duration(O).delay(function(a,b){return 50*
b}).attr("y",function(a){return Y}).attr("height",function(a){return 0}).remove()}var w=(0,l.createId)(),u=null,y=null,x=(0,c.default)(),A=null,C={top:30,right:20,bottom:50,left:60},D=640,E=null,G=!0,H=16,M=9,J=500,S=!0,W=e.default.colors,X=(0,f.default)(),K=!0,Q="%Y-%m-%d",V="Hmmm, seems there is no data to show",ea=[],L=[],N=[],I=!0,O=750,aa=1,U=void 0,T=void 0;d3.bisector(function(a){return xValue(a)});var Y=0,R=0,$=(0,b.default)("X"),P=(0,b.default)("Y");a.loadChart=function(b,c){d3.select(b).datum(c).call(a)};
a.tooltip=function(b){if(!arguments.length)return x;x=b;return a};a.noDataMessage=function(b){if(!arguments.length)return V;V=b;return a};a.colors=function(b){if(!arguments.length)return W;W=b;return a};a.width=function(b){if(!arguments.length)return D;D=b;return a};a.height=function(b){if(!arguments.length)return E;E=b;return a};a.scaleWidth=function(b){if(!arguments.length)return R;R=b;return a};a.scaleHeight=function(b){if(!arguments.length)return Y;Y=b;return a};a.mobileThreshold=function(b){if(!arguments.length)return J;
J=b;return a};a.responsive=function(b){if(!arguments.length)return S;S=b;return a};a.aspectRatio=function(b,c){if(!arguments.length)return{aspectWidth:H,aspectHeight:M};H=b;M=c;return a};a.legend=function(b){if(!arguments.length)return X;X=b;return a};a.showLegend=function(b){if(!arguments.length)return K;K=b;return a};a.dateFormat=function(b){if(!arguments.length)return Q;Q=b;return a};a.animate=function(b){if(!arguments.length)return I;I=b;return a};a.xAxis=$;a.yAxis=P;a.options={};a.options.id=
w;a.options.margin=C;a.options.barPad=0.4;a.options.mobileThreshold=J;a.options.type="stackBar";return a};h=d(5);var b=g(h);h=d(2);var c=g(h);h=d(3);var f=g(h),l=d(1),e=g(l)},function(h,k,d){Object.defineProperty(k,"__esModule",{value:!0});k.default=function(){function c(b){function r(a){var b=d3.interpolate(this._current,a);this._current=b(0);return function(a){return G(b(a))}}var s=null,v=null,w=null,u=null,y=null,x=null,A=null,C=null;a&&(e=b.node().getBoundingClientRect().width,d3.select(window).on("resize",
(0,g.debounce)(function(){c.redraw()},500)));var D=Math.min(e,e)/2,E=d3.scale.ordinal().range(h),G=d3.svg.arc().outerRadius(D).innerRadius(D-n),H=d3.layout.pie().sort(null).value(function(a){return a.value}),M=b.attr("class","mcchart-container-"+d).append("svg").attr("id","svg-"+d).classed({"mcchart-svg":!0}).attr("width",e).attr("height",e),J=M.append("g").attr("transform","translate("+e/2+","+e/2+")"),S=null;c.redraw=function(){e=b.node().getBoundingClientRect().width;J.attr("transform","translate("+
e/2+","+e/2+")");M.attr("width",e).attr("height",e);D=Math.min(e,e)/2;G.outerRadius(D).innerRadius(D-n);C.attr("d",G)};c._addHoverStates=function(a){a.on("mouseenter",function(a,b){var d=d3.select(w[0][b]);c._highlightSource(this,a.data,d)}).on("mouseleave",function(a){c._resetHighlight()})};var W=d3.format(",f");c.sectionsArr=[];c.updateData=function(a){var b=K(a);y=b;return new Promise(function(a,e){c.legendContainer.innerHTML="";0===b.length?(M.style("display","none"),x.text(""),A.text(""),a({promise:"success",
data:b,status:p.noData})):(M.style("display","block"),u=d3.sum(b,function(a){return a.value}),C=J.selectAll("path"),C=C.data(H(b)),C.enter().append("path").attr("fill",function(a,b){this._current=a;return h[b]}).attr("class","mcchart-arc"+d).attr("id",function(a,b){c.sectionsArr.push({id:"#section-"+b,props:a});return"section-"+b}),H.value(function(a){return a.value}),C.transition().duration(750).attrTween("d",r),C.exit().remove(),t?(x.text(""),A.text("")):(x.text(W(u)),A.text("Total")),c._addHoverStates(C),
a({promise:"success",data:b}))})};c._removeLegend=function(){s&&v&&(s.select("svg").remove(),v.select("svg").remove())};c.legnedContainer=null;c._createLegend=function(){var a=y,b=Array.from(c.legendContainer.children),e=[],g=[];b.forEach(function(a,b){e.push(a.firstChild);g.push(a.lastChild)});w=d3.selectAll(b);s=d3.selectAll(e).datum(a);v=d3.selectAll(g).datum(a);s.each(function(a,b){S=d3.select(this).append("svg").attr("width","100%").attr("height",30).attr("class","mcchart-legend"+d);S.append("text").attr("x",
30).attr("y",13).attr("text-anchor","start").style("font-size",k).text(a[b].label);S.append("g").attr("width",15).attr("height",15).append("rect").attr("width",15).attr("height",15).attr("rx",3).attr("ry",3).style("fill",h[b])});v.each(function(a,b){var c=d3.format(".2f")(100*(a[b].value/u));0===a[b].value&&(c=0);d3.select(this).append("svg").attr("width","100%").attr("height",30).attr("class","mcchart-legendValue"+d).append("text").attr("y",13).text(function(){return t?c+"%":a[b].value+" ("+c+"%)"})});
w.datum(a).on("mouseenter",function(a,b){var d=c.getSectionObj(b).id,e=a[b],f=d3.select(this);c._highlightSource(d,e,f)}).on("mouseleave",function(){c._resetHighlight()})};var X=function(a){return a.filter(function(a){return 0!=a.value})},K=function(a){var b=a.map(function(b,c){var d=Object.keys(a[c]);return{label:b[d[0]],value:b[d[1]]}});return X(b)};c.getSectionObj=function(a){return c.sectionsArr[a]};c._highlightSource=function(a,b,d){var e=d3.format(".2f")(100*(b.value/u));x.text(function(){return t?
e+"%":W(b.value)});A.text(b.label);C.transition().style("opacity",0.7);d3.select(a).transition().style("opacity",1);c._highlightLegendItem(d)};c._resetHighlight=function(){C.transition().style("opacity",1);t?(x.text(""),A.text("")):(x.text(u),A.text("Total"));w.transition().style("opacity",1)};c._highlightLegendItem=function(a){w.transition().style("opacity",0.7);a.transition().style("opacity",1)};c._renderChart=function(a){C=J.datum(a).selectAll(".mcchart-arc"+d).data(H).enter().append("path").attr("class",
"mcchart-arc"+d).attr("id",function(a,b){c.sectionsArr.push({id:"#section-"+b,props:a});return"section-"+b}).attr("d",G).style("fill",function(a){return E(a.data.label)}).each(function(a){this._current=a});c._addHoverStates(C);u=d3.sum(a,function(a){return a.value});t?(x.text(""),A.text("")):(x.text(W(u)),A.text("Total"))};return new Promise(function(a,e){b.each(function(b){y=K(b);u=d3.sum(y,function(a){return a.value});A=J.append("text").attr("y",15).attr("text-anchor","middle").attr("dominant-baseline",
"central").attr("class","mcchart-bottom-text"+d).style("font-size",k);x=J.append("text").attr("y",-15).attr("text-anchor","middle").attr("dominant-baseline","central").attr("class","mcchart-top-text"+d).style("font-size",k);0===y.length?a({promise:"success",data:y,status:"There isn't any data to display the chart."}):(c._renderChart(y),a({promise:"success",data:y,status:"All is well"}))})})}var d=(0,g.createId)(),h=b.default.colors,e=300,a=!0,k=15,n=50,p={noData:"There isn't enough data to display the chart"},
t=!1;c.loadChart=function(a,b){var d=d3.select(a).datum(b);return c(d).then(function(a){return a})};c.colors=function(a){if(!arguments.length)return h;h=a;return c};c.circleSize=function(a){if(!arguments.length)return e;e=a;return c};c.strokeWidth=function(a){if(!arguments.length)return n;n=a;return c};c.fontSize=function(a){if(!arguments.length)return k;k=a;return c};c.status=function(a){if(!arguments.length)return p;p=a;return c};c.isResponsive=function(b){if(!arguments.length)return a;a=b;return c};
c.percentageOnly=function(a){if(!arguments.length)return t;t=a;return c};return c};var g=d(1),b=g&&g.__esModule?g:{"default":g}}])})},"mojo/views/pro/index":function(){define("dojo/_base/declare mojo/views/_base dojo/query dojo/on dojo/_base/lang dojo/request/xhr dojo/dom-attr dojo/dom-class dojo/dom-style dojo/dom-construct dojo/parser dojo/_base/array dojo/html dojo/dom dojo/aspect dijit/registry dijit/layout/ContentPane dijit/Dialog dijit/form/Select mojo/app/wizard mojo/widgets/CircularLoader mojo/utils velocity/velocity dojo/NodeList-manipulate dojo/NodeList-traverse".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s,v,w,u,y,x,A){return h([k],{loader:null,onReady:function(){var a=d("[data-element\x3d'learn-loader']")[0];if(a){var b=this;b.loader=r.byId("learn-loader");setTimeout(function(){b.showContent(a)},2500);this.level&&ga("send","event",window.location.pathname,"PurchasedPro",this.level)}},showContent:function(b){this.loader.stop();a.destroy(b);b=d("[data-element\x3d'learn-top']")[0];var c=d("[data-element\x3d'learn-top-content']")[0],e=d("[data-element\x3d'learn-bottom-content']")[0];
A(b,{borderTopWidth:0},{easing:"easeInSine",duration:500,delay:0});A(c,{opacity:1},{easing:"easeInSine",duration:200,delay:500});A(e,{opacity:1},{easing:"easeInSine",duration:200,delay:700})}})})},"mojo/views/pro/reports/filter":function(){define("dojo/_base/declare mojo/views/_base dojo/query dojo/on dojo/_base/lang dojo/request/xhr dojo/dom-attr dojo/dom-class dojo/dom-style dojo/dom-construct dojo/parser dojo/_base/array dojo/html dojo/dom dojo/topic dojo/aspect dojo/debounce dijit/registry dijit/layout/ContentPane dijit/Dialog mojo/app/pro/reports mojo/utils mojo/url mojo/widgets/CircularLoader velocity/velocity velocity/velocity.ui dojo/NodeList-manipulate dojo/NodeList-traverse".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s,v,w,u,y,x,A,C,D){return h([k],{reportId:null,dateOptions:null,filters:null,listSelect:null,titleInput:null,folderSelect:null,dateRangeSelect:null,filterSystemInit:!1,onReady:function(){var a=this,b=v.byId("campaigns-pane"),e=v.byId("filter-loader").domNode;a.listSelect=v.byId("report-list");a.filters.excludes||(a.filters.excludes=[]);y.reportId=a.reportId;y.initSaveReportNameModal();b.set("loadingMessage","");a.loader=v.byId("filter-loader");a.filterSystemInit||
a._initFilterSystem();a.filters&&"list_id"in a.filters?a.listSelect.set("value",this.filters.list_id):(a.listSelect.set("value","0"),b.set("href",A.toUrl("/pro/reports/campaigns",{report_id:a.reportId,list_id:0})));b.set("onDownloadEnd",function(a){m.parse(this.domNode)});var h=d("[data-element\x3d'analyze-campaigns']")[0];g(h,"click",function(a){f.set(this,"disabled","disabled");l.add(this,"p0");this.innerHTML="Analyzing..."});q.subscribe("filterCampaigns",function(d){var f=a.filterData(!0);d.hasList||
(f=a.filterData(!1),a.toggleAnalyzeCampaignsButton(0));l.remove(e,"hide");b.set("content","");c.post(A.toUrl("/pro/reports/campaigns"),{handleAs:"html",sync:!1,data:f}).then(function(c){l.add(e,"hide");b.set("content",c);c=t.byId("campaigns-pane");D(c,"transition.fadeIn",{duration:350});a.toggleAnalyzeCampaignsButton(a.getSelectedCampaignsCount())})})},_initFilterSystem:function(){var a=this;a.filterSystemInit=!0;g(a.listSelect,"change",function(){"0"===this.value?(d("[for\x3d'report-list']")[0].innerHTML=
"Choose a list to get started",d("[data-element\x3d'filter-criteria-section']").forEach(function(a,b){l.add(a,"hide")}),q.publish("filterCampaigns",{hasList:!1})):(d("[for\x3d'report-list']")[0].innerHTML="List",d("[data-element\x3d'filter-criteria-section']").forEach(function(a,b){l.remove(a,"hide")}),q.publish("filterCampaigns",{hasList:!0}))});t.byId("report-title")&&(this.titleInput=t.byId("report-title"),this.filters.title&&f.set(this.titleInput,"value",this.filters.title),g(this.titleInput,
"keydown",s(function(a){a.keyCode!==dojo.keys.TAB&&(q.publish("filterCampaigns",{hasList:!0}),a.preventDefault())},700)));t.byId("emails-sent")&&(this.emailSentInput=t.byId("emails-sent"),this.filters.emails_sent&&f.set(this.emailSentInput,"value",this.filters.emails_sent),g(this.emailSentInput,"keydown",s(function(a){a.keyCode!==dojo.keys.TAB&&(q.publish("filterCampaigns",{hasList:!0}),a.preventDefault())},500)));v.byId("report-folder")&&(this.folderSelect=v.byId("report-folder"),this.filters.folder_id&&
this.folderSelect.set("value",this.filters.folder_id),g(this.folderSelect,"change",function(){q.publish("filterCampaigns",{hasList:!0})}));if(v.byId("report-date-range")){this.dateRangeSelect=v.byId("report-date-range");this.filters.date_range&&this.dateRangeSelect.set("value",this.filters.date_range);var b=d("[data-element\x3d'report-date-range']")[0],c=d("[data-element\x3d'from-date']")[0],h=d("[data-element\x3d'to-date']")[0],k=d("[data-element\x3d'range-and']")[0],m=d("[data-content\x3d'date-description']")[0],
n=d("[data-element\x3d'date-description']")[0];g(this.dateRangeSelect,"change",function(){e.set(b,"display","none");e.set(h,"display","none");e.set(c,"display","none");e.set(k,"display","none");e.set(n,"display","none");"custom"==this.value?(e.set(b,"display","block"),e.set(c,"display","inline-block"),e.set(h,"display","inline-block"),e.set(k,"display","inline-block")):"custom-before"==this.value?(e.set(b,"display","block"),e.set(h,"display","inline-block")):"custom-after"==this.value?(e.set(b,"display",
"block"),e.set(c,"display","inline-block")):(e.set(n,"display","block"),p.set(m,a.dateOptions.descriptions[this.value]),q.publish("filterCampaigns",{hasList:!0}))})}v.byId("report-date-range-from")&&(this.dateRangeFromDate=v.byId("report-date-range-from"),g(this.dateRangeFromDate,"change",function(){q.publish("filterCampaigns",{hasList:!0})}),this.filters.from_date&&this.dateRangeFromDate.set("value",this.filters.from_date));v.byId("report-date-range-to")&&(this.dateRangeToDate=v.byId("report-date-range-to"),
g(this.dateRangeToDate,"change",function(){q.publish("filterCampaigns",{hasList:!0})}),this.filters.to_date&&this.dateRangeToDate.set("value",this.filters.to_date));var r=v.byId("days-sent");g(r,"change",function(){q.publish("filterCampaigns",{hasList:!0})});this.setSelectedDays();d("[data-dojo-attach-point\x3d'filterBtn']").forEach(function(a){g(a,"click",function(a){q.publish("filterCampaigns",{hasList:!0});a.preventDefault()})});t.byId("wizard-form")&&(this.filterForm=t.byId("wizard-form"),g(this.filterForm,
"keydown",function(a){a.keyCode==dojo.keys.ENTER&&(a.stopPropagation(),a.preventDefault())}))},filterData:function(a){var b=null;if(a){a=this.listSelect.value;var b=this.titleInput.value,c=this.emailSentInput.value,d=this.folderSelect.value,e=this.dateRangeSelect.value,f=this.dateRangeFromDate.value,g=this.dateRangeToDate.value,h=this.getSelectedDays(),b={report_id:this.reportId,list_id:a,title:b,emails_sent:c,folder_id:d,date_range:e,from_date:f,to_date:g,excludes:dojo.toJson(this.filters.excludes),
days:dojo.toJson(h)}}else b={report_id:this.reportId,list_id:0};return b},analyzeCampaigns:function(){t.byId("analyze_button").setAttribute("disabled","disabled");var a=this.filterData(!0);c.post(A.toUrl("/pro/reports/campaigns"),{handleAs:"html",sync:!0,data:a});a=A.toUrl("pro/reports/analyze?id\x3d"+this.reportId);window.location.href=a},clearFilters:function(){this.titleInput.value="";this.folderSelect.setValue("");this.dateRangeSelect.setValue("");this.emailSentInput.value="";var a=v.byId("days-sent");
a.options.forEach(function(a){a.selected=!0});a.onChange()},toggleCampaignCheckBox:function(a){a.checked?(this.removeFromExcludeFilters(a.value),t.byId("selected_count").innerHTML=this.getSelectedCampaignsCount()+1):(this.addToExcludeFilter(a.value),t.byId("selected_count").innerHTML=this.getSelectedCampaignsCount()-1);this.toggleAnalyzeCampaignsButton(this.getSelectedCampaignsCount())},selectAll:function(){this.filters.excludes.forEach(function(a){(campaignCheckBox=t.byId(a))&&f.set(campaignCheckBox,
"checked",!0)},this);this.filters.excludes=[];t.byId("selected_count").innerHTML=this.getTotalCampaignsCount();this.toggleAnalyzeCampaignsButton(this.getTotalCampaignsCount())},getTotalCampaignsCount:function(){return parseInt(t.byId("campaigns_count").innerHTML,0)},getSelectedCampaignsCount:function(){return t.byId("selected_count")?parseInt(t.byId("selected_count").innerHTML,0):0},deselectAll:function(){d(".c-card").forEach(function(a){if(a=t.byId(a))f.set(a,"checked",!1),this.addToExcludeFilter(a.value)},
this);t.byId("selected_count").innerHTML="0";this.toggleAnalyzeCampaignsButton(0)},addToExcludeFilter:function(a){-1<this.filters.excludes.indexOf(a)||this.filters.excludes.push(a)},removeFromExcludeFilters:function(a){a=this.filters.excludes.indexOf(a);-1!=a&&this.filters.excludes.splice(a,1)},toggleAnalyzeCampaignsButton:function(a){t.byId("analyze_count").innerHTML=a;var b=t.byId("analyze_button");0===a?b.setAttribute("disabled","disabled"):b.removeAttribute("disabled")},getSelectedDays:function(){var a=
[],b=v.byId("days-sent"),b=n.filter(b.options,function(a){return a.selected});n.forEach(b,function(b){a.push(b.value)});return a},setSelectedDays:function(){var a=v.byId("days-sent");this.filters.days&&(a.options.forEach(function(a){0<=this.filters.days.indexOf(a.value)?a.selected=!0:a.selected=!1},this),a.onChange())},getSelectedCampaigns:function(){var a=[];d(".c-card \x3e :checked").forEach(function(b){a.push(b.value)},this);return a}})})},"mojo/views/pro/reports/history":function(){define("dojo/_base/declare mojo/views/_base dojo/query dojo/on dojo/_base/lang dojo/request/xhr dojo/dom-attr dojo/dom-class dojo/dom-style dojo/dom-construct dojo/parser dojo/_base/array dojo/html dojo/dom dijit/registry dijit/layout/ContentPane mojo/app/pro/reports mojo/utils mojo/url mojo/charts dojo/NodeList-manipulate dojo/NodeList-traverse".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s,v,w,u){return h([k],{reportId:null,onReady:function(){s.reportId=this.reportId;s.initSaveReportNameModal()}})})},"mojo/views/pro/reports/index":function(){define("dojo/_base/declare mojo/views/_base dojo/query dojo/on dojo/_base/lang dojo/request/xhr dojo/dom-attr dojo/dom-class dojo/dom-style dojo/dom-construct dojo/parser dojo/_base/array dojo/html dojo/dom dojo/topic dijit/registry dijit/layout/ContentPane mojo/app/pro/reports mojo/utils mojo/url mojo/charts velocity/velocity dojo/NodeList-manipulate dojo/NodeList-traverse".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s,v,w,u,y,x){return h([k],{onReady:function(){var a=q.subscribe("mojo/analytics/List/comparative-list/render",function(){var b=d(".is-running");x(b,"stop");x(b,{rotateZ:"360deg"},{easing:"easeInSine",loop:!0,delay:2E3,duration:4E3});a.remove()})}})})},"mojo/views/pro/reports/overview":function(){define("dojo/_base/declare mojo/views/_base dojo/query dojo/on dojo/_base/lang dojo/request/xhr dojo/dom-attr dojo/dom-class dojo/dom-style dojo/dom-construct dojo/parser dojo/_base/array dojo/html dojo/dom dojo/aspect dijit/registry dijit/layout/ContentPane dijit/Dialog dijit/form/Select mojo/app/wizard mojo/app/pro/reports mojo/widgets/AddSegmentPane mojo/widgets/CircularLoader mojo/utils mojo/url mojo/Pusher mojo/D3ProReports dojo/NodeList-manipulate dojo/NodeList-traverse".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s,v,w,u,y,x,A,C,D,E,G){return h([k],{reportId:null,resultId:null,channel_name:null,hasSegments:null,segmentsData:null,baselineChart:null,loader:null,onReady:function(){var a=this;E.load().then(function(b){a.channel=b.subscribe(a.channel_name);a.channel.bind("ready",function(b){a.loadResultData()})});y.reportId=a.reportId;y.results=this.results;y.resultId=a.resultId;y.initSaveReportNameModal();this._hookupRemoveSegment();t.byId("baseline-chart")&&!this.baselineChart&&
this._loadChart();this._hookShowHideSegments();this._hookSaveAndExit()},_hookShowHideSegments:function(){var a,b,c,e;a=d("[data-action\x3d'collapse-segments']")[0];b=d("[data-element^\x3dcid-]");c=[];e=!1;n.forEach(b,function(a,b){var c=f.get(a,"data-element").split("-")[1];f.set(a,"id",c)});c=d("[data-parent]");a&&g(a,"click",function(){e?(e=!1,p.set(a,"Hide segments from table")):(e=!0,p.set(a,"Show segments in table"));n.forEach(c,function(a,b){l.contains(a,"hide")?l.remove(a,"hide"):l.add(a,"hide")})})},
_hookSaveAndExit:function(){var a=this,b=d("[data-action\x3d'save-and-exit']")[0];b&&g(b,"click",function(){a.saveAndExit()})},saveAndExit:function(){var a=D.toUrl("pro/reports/confirm-and-save?id\x3d"+this.reportId);window.location.href=a},_loadChart:function(){var a=this;if(t.byId("baseline-chart")){var b=D.toUrl("/pro/reports/chartData",{report_id:a.reportId,result_id:a.resultId});G.utils.loadData(b).then(function(b){if("success"===b.promise){a.baselineChart=new G.chart("baseline-chart",b.data,
{metric:"opens",comparative:"0"});a.hasSegments&&n.forEach(a.segmentsData,function(c,d){a["segment"+d+"Chart"]=new G.chart("segment-"+d+"-chart",b.data,{metric:"opens",comparative:d+1})});var c=r.byId("metrics");g(c,"change",function(b){var c=this.value;a.baselineChart.setMetricData(c);a.hasSegments&&n.forEach(a.segmentsData,function(b,d){a["segment"+d+"Chart"]&&a["segment"+d+"Chart"].setMetricData(c)})})}})}},_hookupRemoveSegment:function(){var a=this;d("[data-action\x3d'remove-segment']").forEach(function(b){g(b,
"click",function(){a.removeSegment(b.id)})})},showSegmentEditor:function(){this.segmentPane||(this.segmentPane=new x({reportId:y.reportId}));!0===this.segmentPane.displayActive?this.segmentPane.hide():this.segmentPane.show()},loadResultData:function(){var a=this,b={report_id:this.reportId},c=r.byId("results-pane"),e=d("[data-element\x3d'load-results-message']")[0];e&&l.add(e,"hide");c.set("href",D.toUrl("/pro/reports/data",b)).then(function(){m.parse(c.domNode);a.checkForRunningJobs();a._loadChart();
a._hookupRemoveSegment();a._hookShowHideSegments();a._hookSaveAndExit()})},checkForRunningJobs:function(){var a=d("[data-element\x3d'jobs-running']")[0],b=d("[data-action\x3d'save-and-exit']")[0];a?(f.set(b,"disabled","disabled"),b.innerText="Loading data..."):(dojo.removeAttr(b,"disabled"),l.add(b,"p0"),b.innerText="Finalize Report and Generate Snapshot")},removeSegment:function(b){var e={report_id:this.reportId,segment_id:b};a.place("\x3cspan class\x3d'fwb'\x3eDeleting...\x3c/span\x3e",d("#"+b).siblings(".underline")[0],
"replace");c.post(D.toUrl("/pro/reports/remove-segment",e)).then(function(a){location.reload()})}})})},"mojo/D3ProReports":function(){define("dojo/_base/declare dojo/query dojo/dom dojo/dom-attr dojo/dom-style dojo/dom-construct dojo/dom-geometry dojo/on dojo/Deferred dojo/debounce d3/d3 mojo/colors".split(" "),function(h,k,d,g,b,c,f,l,e,a,m,n){k={};k.chart=h([],{constructor:function(b,c,d){var e=this;this.config=d?d:{metric:"opens",comparative:"0"};this.elementId=b;this.chartContainer=m.select("#"+
this.elementId);this.margin={top:20,right:20,bottom:30,left:50};this.aspect_width=16;this.aspect_height=9;this.mobile_threshold=500;this.chartColors=[n.violet6,n.green6,n.pink6,n.yellow6,n.blue6];this.tooltipFormatDate=m.time.format("%B %e, %Y");this.createSVGContainer(b);"string"===typeof c?this.loadData(c).then(function(a){"success"===a&&(a=e.getMetricData(e.config.metric),e.makeChart(a))}):"object"===typeof c&&(e.chartData=c.metrics,b=e.getMetricData(e.config.metric),e.makeChart(b));l(window,"resize",
a(function(a){e.redraw()},500))},getMetricData:function(a){if("sends"===a)return this.metricName="Sends",this.metricBaselineKey="sends",this.chartData.sends;if("opens"===a)return this.metricName="Open Rate",this.metricBaselineKey="open_rate",this.chartData.opens;if("clicks"===a)return this.metricName="Click Rate",this.metricBaselineKey="click_rate",this.chartData.clicks;if("bounces"===a)return this.metricName="Bounces",this.metricBaselineKey="bounce_rate",this.chartData.bounces;if("unsubs"===a)return this.metricName=
"Unsubscribes",this.metricBaselineKey="unsub_rate",this.chartData.unsubs;if("abuse_reports"===a)return this.metricName="Abuse",this.metricBaselineKey="abuse_rate",this.chartData.abuse_reports},setMetricData:function(a){this.config.metric=a;this.redraw()},createSVGContainer:function(){this.width=f.position(d.byId(this.elementId)).w-this.margin.left-this.margin.right;this.height=Math.ceil(this.width*this.aspect_height/this.aspect_width)-this.margin.top-this.margin.bottom;this.chartContainer.attr("width",
this.width);this.chartContainer.attr("height",this.height);this.num_ticks_yaxis=this.num_ticks_xaxis=10;this.width<this.mobile_threshold&&(this.num_ticks_xaxis=this.num_ticks_yaxis=5);this.svg=this.chartContainer.append("svg").attr("id","svg-"+this.elementId).attr("width",this.width+this.margin.left+this.margin.right).attr("height",this.height+this.margin.top+this.margin.bottom).append("g").attr("transform","translate("+this.margin.left+","+this.margin.top+")")},redraw:function(){c.empty(this.elementId);
this.createSVGContainer();var a=this.getMetricData(this.config.metric);this.makeChart(a)},createToolTipBehavior:function(){var a=this;this.focus=this.svg.append("g").attr("class","focus").style("display","none");this.focus.append("line").attr("class","x").style("stroke","#e0e0e0").style("stroke-width","2").attr("y1",5).attr("y2",this.height);this.focus.append("circle").attr("r",3.5).attr("stroke","#333").attr("fill","none").attr("stroke-width",3);var b=m.select("#tooltip-"+a.elementId);this.svg.append("rect").attr("class",
"d3-tt-overlay").attr("width",this.width).attr("height",this.height).on("mouseover",function(){a.focus.style("display",null)}).on("mouseout",function(){b.transition().duration(300).style("opacity",0);a.focus.style("display","none")}).on("mousemove",function(b,c){a.mousemove(a,this)})},loadData:function(a){var b=this,c=new e,d=m.time.format("%Y-%m-%d %H:%M:%S").parse;m.json(a,function(a,e){a&&c.reject("fail");var f=e.metrics,g;for(g in f)f[g].forEach(function(a){a.send_time=d(a.send_time)});b.chartData=
e;c.resolve("success")});return c.promise},makeChart:function(a){var e=c.place("\x3cdiv class\x3d'd3-tooltip'\x3e",d.byId(this.elementId),"first");g.set(e,"id","tooltip-"+this.elementId);b.set(e,"opacity",0);this.setChartSeries(a,this.metricName);this.setXAxis(a);this.setYAxis(a);this.setBaselinePath(a);this.setComparativeDataPoints(this.metricValues,this.config.comparative)},setChartSeries:function(a,b){var c=m.keys(a[0]).filter(function(a){switch(a){case "send_time":break;case "name":break;case "send_rate":break;
default:if(!/_name/.test(a))return a}});this.keysDomain=m.scale.ordinal().range([this.height,0]).domain(c);this.metricValues=this.keysDomain.domain().map(function(b){return{rate_label:b,rate_values:a.map(function(a){var c=parseFloat(a[b]);if("undefined"===a[b]||0===a[b]||"0.0"===a[b]||isNaN(a[b]))c="0.0";return{send_time:a.send_time,value:c,name:a.name}})}})},setXAxis:function(a){this.x=m.time.scale().range([0,this.width]);var b=m.time.format.multi([[".%L",function(a){return a.getMilliseconds()}],
[":%S",function(a){return a.getSeconds()}],["%I:%M",function(a){return a.getMinutes()}],["%I %p",function(a){return a.getHours()}],["%a %d",function(a){return a.getDay()&&1!=a.getDate()}],["%b %d",function(a){return 1!=a.getDate()}],["%b",function(a){return a.getMonth()}],["%Y",function(){return!0}]]);this.xAxis=m.svg.axis().scale(this.x).orient("bottom").tickFormat(b).ticks(this.num_ticks_xaxis);this.xDomain=this.x.domain(m.extent(a,function(a){return a.send_time}));this.svg.append("g").attr("class",
"x axis").attr("transform","translate(0,"+this.height+")").call(this.xAxis)},setYAxis:function(a){a=this.percentageTick;"sends"===this.config.metric&&(a=this.numberTick);this.y=m.scale.linear().range([this.height,0]);this.yAxis=m.svg.axis().scale(this.y).tickSize(-this.width,0,0).tickFormat(a).tickPadding(10).ticks(this.num_ticks_yaxis).orient("left");a=m.min(this.metricValues,function(a){return m.min(a.rate_values,function(a){return a.value})});var b=m.max(this.metricValues,function(a){return m.max(a.rate_values,
function(a){return a.value})});if(0===b||"0.0"===b)b=1;this.yDomain=this.y.domain([Number(a),Number(b)]);this.svg.append("g").attr("class","y axis").call(this.yAxis)},setBaselinePath:function(a,b){var c=b;b||(c=0.85);var d=this,c=m.svg.line().interpolate("bundle").tension(c).x(function(a){return d.x(a.send_time)}).y(function(a){if(a.hasOwnProperty(d.metricBaselineKey))return d.y(Number(a[d.metricBaselineKey]))}),e=this.svg.append("path").attr("class","baseline").attr("stroke",this.chartColors[0]).attr("d",
c(a)),c=e.node().getTotalLength();e.attr("stroke-dasharray",c+" "+c).attr("stroke-dashoffset",c);setTimeout(function(){e.transition().duration(1E3).ease("linear").attr("stroke-dashoffset",0)},500)},setComparativeDataPoints:function(a,b){var c=this,d=3,e=3.5;c.width<c.mobile_threshold&&(d=1.5,e=3);this.dataSetIndex=b;setTimeout(function(){a[b]&&(c.svg.selectAll("dot").data(a[b].rate_values).enter().append("circle").attr("r",1E-6).style("opacity",1E-6).attr("cx",function(a){return c.x(a.send_time)}).attr("cy",
function(a){if(a.value)return c.y(a.value)}).attr("stroke-width",d).attr("fill","#FFF").attr("stroke",c.chartColors[b]).transition().delay(function(a,b){return 20*b}).duration(200).attr("r",e).style("opacity",1),c.createToolTipBehavior())},1E3)},mousemove:function(a,b){var c=g.get(b,"width")/2,d=m.mouse(b)[0],e=this.x.invert(m.mouse(b)[0]),f=this.bisectDate(this.metricValues[this.dataSetIndex].rate_values,e,1),h=this.metricValues[this.dataSetIndex].rate_values[f-1],f=this.metricValues[this.dataSetIndex].rate_values[f];
void 0!==f&&(h=e-h.send_time>f.send_time-e?f:h,h.value&&(this.focus.select("circle").attr("transform","translate("+this.x(h.send_time)+","+this.y(h.value)+")"),this.focus.select(".x").attr("transform","translate("+this.x(h.send_time)+","+this.y(h.value)+")").attr("y2",this.height-this.y(h.value)),e=m.select("#tooltip-"+this.elementId),f=this.percentageTick(h.value),"sends"===this.config.metric&&(f=m.format(",")(h.value)),e.html("\x3cspan class\x3d'd3-tooltip-text'\x3e"+h.name+"\x3c/span\x3e\x3cbr\x3e\x3cspan\x3e"+
this.metricName+": \x3cspan class\x3d'textcolor-light fwb'\x3e"+f+"\x3c/span\x3e\x3c/span\x3e\x3cbr\x3e\x3cspan\x3e"+this.tooltipFormatDate(h.send_time)+"\x3c/span\x3e"),f=e.node().getBoundingClientRect(),c=d<c?this.x(h.send_time)+60:this.x(h.send_time)-f.width+40,d=this.y(h.value),e.style("transform","translate("+c+"px,"+d+"px)"),e.transition().duration(300).style("opacity",0.9)))},percentageTick:function(a){return a+"%"},numberTick:function(a){return m.format("s")(a)},bisectDate:m.bisector(function(a){return a.send_time}).left});
k.utils={loadData:function(a){var b=new e,c=m.time.format("%Y-%m-%d %H:%M:%S").parse;m.json(a,function(a,d){a&&b.reject({promise:"fail"});var e=d.metrics,f;for(f in e)e[f].forEach(function(a){a.send_time=c(a.send_time)});b.resolve({promise:"success",data:d})});return b.promise}};return k})},"mojo/views/pro/reports/segment":function(){define("dojo/_base/declare mojo/views/_base dojo/query dojo/on dojo/_base/lang dojo/request dojo/dom-class dojo/dom-style dojo/dom-geometry dojo/dom mojo/url mojo/app/pro/segment mojo/segmentation/Segment mojo/widgets/SubscriberTableOverlay dojo/NodeList-manipulate dojo/NodeList-traverse".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t){return h([k],{segmentId:null,listId:null,reportId:null,refreshing:!1,segmentEditor:null,savedAST:null,onReady:function(){var c=d(".segment-count-fixed")[0],h=this.$el.memberSegmentEditor;g(a.byId("av-content"),"scroll",function(){-370>e.position(h,!1).y?f.remove(c,"hide"):f.add(c,"hide")});g(a.byId("wizard-form"),"submit",function(a){a.preventDefault()});this.$group.previewSubscriberBtn.on("click",b.hitch(this,function(a){a.preventDefault();a.stopPropagation();
t.main().load(this.listId,this.segmentEditor.getAST(),{showPagination:!1,persistTableSettings:!1},"report")}));this.$group.rerunCountBtn.on("click",b.hitch(this,function(a){a.preventDefault();a.stopPropagation();this.refreshCount()}));g(this.$el.saveBtn,"click",b.hitch(this,function(a){a.preventDefault();a.stopPropagation();n.saveReportSegment(this.listId,this.reportId,this.segmentId,this.getNameValue(),this.segmentEditor.getAST())}));this.segmentEditor=new p({listId:this.listId,savedAST:this.savedAST,
configType:"report","class":"border-radius--lv1 border-gray"},this.$el.segmentEditorDom);this.segmentEditor.on("conditionCountChange",b.hitch(this,function(){this.toggleAddSegmentBtn(this.segmentEditor.getConditionCount())}))},toggleAddSegmentBtn:function(a){var b=this.$el.saveBtn;a?b.removeAttribute("disabled"):b.setAttribute("disabled","disabled")},togglePreviewSegment:function(a){var b=this.$group.previewSubscriberBtn,c=this.$group.previewSubscriberText;a?(b.removeClass("hide"),c.addClass("hide")):
(b.addClass("hide"),c.removeClass("hide"))},getNameValue:function(){return this.$el.nameInput.value},refreshCount:function(){if(!this.refreshing){this.refreshing=!0;var a=this.segmentEditor.getAST();this.$group.rerunCountBtn.html("Refreshing \x26hellip;");n.refreshSegmentCount(this.listId,a,"report").then(b.hitch(this,function(a){var b;a.match(/^[0-9,]+$/)?b='\x3cspan class\x3d"count"\x3e'+a+"\x3c/span\x3e recipient"+(1!=a?"s":""):(a=0,b="This segment is incomplete. Please check entries.");this.$group.previewSubscriberBtn.html(b);
this.$group.previewSubscriberText.html(b);this.togglePreviewSegment(a);this.$group.rerunCountBtn.html("Refresh count");this.refreshing=!1}),b.hitch(this,function(){this.refreshing=!1}))}}})})},"mojo/segmentation/Segment":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dojo/dom-construct dojo/dom-class dojo/_base/lang dojo/on dojo/_base/array dijit/focus mojo/widgets/CircularLoader dojo/text!./templates/segment.html ./api ./Group ./SubGroup".split(" "),function(h,k,d,
g,b,c,f,l,e,a,m,n,p,t){return h([k,d],{templateString:m,listId:null,_rawConfig:null,configs:null,mainGroup:null,subGroups:null,savedAST:null,configType:"full",postMixInProperties:function(){this.subGroups=[]},postCreate:function(){this._beforeLoad();n.getConfig(this.listId,this.configType).then(c.hitch(this,function(a){this._setupConfigs(a);this._init();this._afterLoad()}))},_init:function(){this.mainGroup=new p({configs:this.configs});this.mainGroup.startup();this.mainGroup.placeAt(this.mainGroupDom);
this.mainGroup.on("conditionCountChange",c.hitch(this,"onConditionCountChange"));e.focus(this.mainGroup.domNode);this.savedAST?this._fromAST(this.savedAST):this.mainGroup.addCondition();this.own(f(this.addSubGroupBtn,"click",c.hitch(this,function(){this.addSubGroup().addCondition()})))},_setupConfigs:function(a){this._rawConfig=a;var b={};l.forEach(a.fields,c.hitch(this,function(a){var d=c.clone(a),e={};l.forEach(d.ops,function(a){e[a.value]=a});d.opsMap=e;b[a.field]=d}));this.configs={fields:b,optionValues:c.clone(a.option_values),
defaultField:a.default_field}},addSubGroup:function(){var a=new t({configs:this.configs});a.startup();g.place(a.domNode,this.subGroupsContainer);a.on("destroy",c.hitch(this,function(){this.subGroups.splice(this.subGroups.indexOf(a),1)}));a.on("conditionCountChange",c.hitch(this,"onConditionCountChange"));this.subGroups.push(a);return a},getAST:function(){var a=this.mainGroup.getAST();a.sub_conditions=l.map(this.subGroups,function(a){return a.getAST()});return a},_fromAST:function(a){this.mainGroup.fromAST(a);
a.sub_conditions&&l.forEach(a.sub_conditions,c.hitch(this,function(a){this.addSubGroup().fromAST(a)}))},getConditionCount:function(){var a=this.mainGroup.conditions.length;this.subGroups&&l.forEach(this.subGroups,c.hitch(this,function(b){a+=b.conditions.length}));return a},_beforeLoad:function(){this.loader=new a({color:"#6dc5dc",bgColor:"#d0d0d0"});this.loader.startup();this.loader.placeAt(this.loaderDom);this._loaderTimeout=setTimeout(c.hitch(this,function(){b.remove(this.loaderContainer,"hide")}),
150)},_afterLoad:function(){b.add(this.loaderContainer,"hide");b.remove(this.segmentContainer,"hide");clearTimeout(this._loaderTimeout);this.loader.destroy()},onConditionCountChange:function(){}})})},"mojo/segmentation/Group":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin ./_EditViewMixin dijit/focus dojo/text!./templates/group.html dojo/on dojo/_base/lang dojo/_base/array dojo/dom-class ./ConditionRow".split(" "),function(h,k,d,g,b,c,f,
l,e,a,m,n){return h([k,d,g,b],{templateString:f,subGroup:!1,configs:null,conditions:null,postMixInProperties:function(){this.conditions=[]},postCreate:function(){this.own(l(this.addConditionBtn,"click",e.hitch(this,"addCondition")));this.viewMode()},addCondition:function(){var a=new n({configs:this.configs,field:this.configs.defaultField});a.startup();a.placeAt(this.conditionList);a.on("destroy",e.hitch(this,function(){this.onConditionDelete(a)}));c.focus(a.domNode);this.conditions.push(a);this.onConditionCountChange();
return a},onConditionDelete:function(a){this.conditions.splice(this.conditions.indexOf(a),1);this.onConditionCountChange()},getAST:function(){var b=a.map(this.conditions,function(a){return a.getAST()});return{match:this.matchOpSelect.value,conditions:b}},fromAST:function(b){b.match&&this.matchOpSelect.set("value",b.match);a.forEach(b.conditions,e.hitch(this,function(a){this.configs.fields.hasOwnProperty(a.field)&&this.addCondition().fromAST(a)}))},onConditionCountChange:function(){}})})},"mojo/segmentation/_EditViewMixin":function(){define(["dojo/_base/declare",
"dojo/dom-class","dijit/_FocusMixin"],function(h,k,d){return h([d],{changeStateOnFocus:!0,viewClass:"view-mode",editClass:"edit-mode",viewMode:function(){k.add(this.domNode,this.viewClass);k.remove(this.domNode,this.editClass);this.onViewMode()},editMode:function(){k.add(this.domNode,this.editClass);k.remove(this.domNode,this.viewClass);this.onEditMode()},_onFocus:function(){this.inherited(arguments);this.changeStateOnFocus&&this.editMode()},_onBlur:function(){this.inherited(arguments);this.changeStateOnFocus&&
this.viewMode()},onViewMode:function(){},onEditMode:function(){}})})},"mojo/segmentation/ConditionRow":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin ./_EditViewMixin ./_ConditionRowMixin dojo/dom-class dojo/dom-construct dojo/_base/array dojo/_base/lang dojo/on dojo/query dojox/html/entities ./NestedConditionRow ./input/Select dojo/text!./templates/conditionRow.html dojo/NodeList-dom".split(" "),function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r){return h([k,
d,g,b,c],{templateString:r,valueInput:null,configs:null,field:null,op:null,value:null,extra:null,nestedConditions:null,postMixInProperties:function(){if(!this.configs)throw Error("configs must be set for a condition row.");this.nestedConditions={}},postCreate:function(){this.render();this.viewMode();this.own(m(this.removeBtn,"click",a.hitch(this,"remove")))},render:function(){this.renderFieldInput();this._onFieldChange()},toggleDelete:function(a){f.toggle(this.removeBtn,"hide",!a)},onViewMode:function(){this._updateLabels();
f.remove(this.viewContainer,"hide");f.add(this.editContainer,"hide");for(var a in this.nestedConditions)this.nestedConditions[a].viewMode()},onEditMode:function(){f.add(this.viewContainer,"hide");f.remove(this.editContainer,"hide");for(var a in this.nestedConditions)this.nestedConditions[a].editMode()},getFieldConfig:function(){return this.configs.fields[this.field]},getOpConfig:function(){return this.configs.fields[this.field].opsMap[this.op]},_updateLabels:function(){this.fieldLabel.innerHTML=this.fieldSelect.getDisplayHTML();
this.opLabel.innerHTML=this.getOpHTML();this.valueLabel.innerHTML=this.getValueHTML();this._hasNestedFields()?n([this.valueLabel,this.opLabel]).addClass("hide"):n([this.valueLabel,this.opLabel]).removeClass("hide");f.toggle(this.valueLabelContainer,"hide",!this.valueInput)},renderFieldInput:function(){var b=[],c;for(c in this.configs.fields)if(this.configs.fields.hasOwnProperty(c)){var d=this.configs.fields[c];b.push({label:p.encode(d.label),value:d.field,group:d.category})}this.fieldSelect?this.fieldSelect.replaceOptions(b):
(this.fieldSelect=new q({"class":"condition-value",options:b,value:this.field}),this.fieldSelect.startup(),this.fieldSelect.placeAt(this.fieldSelectContainer),this.set("field",this.fieldSelect.value),this.fieldSelect.watch("value",a.hitch(this,function(a,b,c){this.set("field",c);this._onFieldChange()})))},_renderNestedFields:function(){if(this.nestedConditions&&0<Object.keys(this.nestedConditions).length)for(var b in this.nestedConditions)this.nestedConditions[b].destroy();this.nestedConditions={};
e.forEach(this._getNestedFields(),a.hitch(this,function(a){a=new t({configs:this.configs,fieldConfig:a});a.startup();a.editMode();a.placeAt(this.nestedConditionsContainer);this.nestedConditions[a.fieldConfig.field]=a}))},_getNestedFields:function(){var a=this.getFieldConfig();return a.nested_fields?a.nested_fields:[]},_hasNestedFields:function(){return 0<this._getNestedFields().length},renderValueInput:function(){this._getNestedFields().length?this._deleteValueInput():this.inherited(arguments)},_toggleNestedContainers:function(){n('[data-mojo-container\x3d"nested"]',
this.domNode).toggleClass("hide",!this._hasNestedFields());n('[data-mojo-container\x3d"regular"]',this.domNode).toggleClass("hide",this._hasNestedFields())},_onFieldChange:function(){this._renderNestedFields();this.renderOpInput();this._deleteValueInput();this.renderValueInput();this._toggleNestedContainers()},getAST:function(){var a=this.inherited(arguments),b=[],c;for(c in this.nestedConditions)b.push(this.nestedConditions[c].getAST());b.length&&(a.nested_conditions=b);return a},fromAST:function(b){this.fieldSelect.set("value",
b.field);this.opSelect.set("value",b.op);this.valueInput&&(this.valueInput.setValue(b.value),b.value_op&&this.valueInput.setValueOp(b.value_op),b.extra&&this.valueInput.setExtra(b.extra));b.nested_conditions&&e.forEach(b.nested_conditions,a.hitch(this,function(a){var b=this.nestedConditions[a.field];b&&b.fromAST(a)}))},destroy:function(){this.fieldSelect&&this.fieldSelect.destroy();this.inherited(arguments)}})})},"mojo/segmentation/_ConditionRowMixin":function(){define(["dojo/_base/declare","dojo/_base/array",
"dojo/_base/lang","./input/Select","./input/Creator"],function(h,k,d,g,b){return h(null,{op:null,getFieldConfig:function(){throw Error("Must implement getFieldConfig");},getOpConfig:function(){throw Error("Must implement getOpConfig");},getOpHTML:function(){return this.opSelect?this.opSelect.getDisplayHTML():""},getValueHTML:function(){return this.valueInput?this.valueInput.getDisplayHTML():""},renderOpInput:function(){var b=this.getFieldConfig(),b=k.map(b.ops,function(b){return{label:b.label,value:b.value}});
this.opSelect?(this.opSelect.replaceOptions(b),this.renderValueInput()):(this.opSelect=new g({"class":"condition-value",options:b,value:this.op}),this.opSelect.startup(),this.opSelect.placeAt(this.opSelectContainer),this.set("op",this.opSelect.value),this.opSelect.watch("value",d.hitch(this,function(b,c,d){this.set("op",d);this.renderValueInput()})))},renderValueInput:function(){var c=this.getOpConfig().input;if(c){var d=this.valueInput;if(!d||d&&!d.isCompatible(c))this._deleteValueInput(),this.valueInput=
b.create(this.configs,c),this.valueInput.placeAt(this.valueContainer)}else this._deleteValueInput()},getAST:function(){var b={field:this.getFieldConfig().field,op:this.op,value:this.valueInput?this.valueInput.getValue():null,value_op:this.valueInput?this.valueInput.getValueOp():null,extra:this.valueInput?this.valueInput.getExtra():null};null===b.extra&&delete b.extra;null===b.value_op&&delete b.value_op;return b},_deleteValueInput:function(){this.valueInput&&(this.valueInput.destroy(),this.valueInput=
null)},remove:function(b){b.preventDefault();b.stopPropagation();this.destroy()},destroy:function(){this.valueInput&&this.valueInput.destroy();this.opSelect&&this.opSelect.destroy();this.inherited(arguments);this.onDestroy()},onDestroy:function(){}})})},"mojo/segmentation/input/Select":function(){define("dojo/_base/declare dijit/_WidgetBase dojo/dom-construct dojo/dom-attr dojo/_base/lang dojo/_base/array ./_SegmentInputMixin".split(" "),function(h,k,d,g,b,c,f){return h([k,f],{value:null,options:null,
buildRendering:function(){var c=this.value;this.domNode=d.create("select");this.replaceOptions(this.options);c&&(this.domNode.value=c);this.set("value",this.domNode.value);this.on("change",b.hitch(this,"onValueChange"))},getDisplayHTML:function(){return this.domNode.options[this.domNode.selectedIndex].innerHTML},getValue:function(){return this.value},setValue:function(b){this.set("value",b)},replaceOptions:function(f){this.options=f;d.empty(this.domNode);var e={};c.forEach(this.options,b.hitch(this,
function(a){var b=d.create("option",{value:a.value,innerHTML:a.label});a.group?(e[a.group]||(e[a.group]=d.create("optgroup",{label:a.group})),d.place(b,e[a.group])):d.place(b,this.domNode)}));for(var a in e)d.place(e[a],this.domNode);this.set("value",this.domNode.value)},onValueChange:function(){this._updateValue()},_updateValue:function(){this.set("value",this.domNode.value)},_setOptionsAttr:function(b){this._set("options",b)}})})},"mojo/segmentation/input/_SegmentInputMixin":function(){define(["dojo/_base/declare"],
function(h){return h(null,{configs:null,inputConfig:null,segmentInputType:null,getDisplayHTML:function(){throw Error("Segmentation inputs must provide display text");},getValue:function(){throw Error("Segmentation inputs must have a value");},getValueOp:function(){return null},getExtra:function(){return null},isCompatible:function(h){return JSON.stringify(this.inputConfig)===JSON.stringify(h)},setValue:function(h){},setValueOp:function(h){},setExtra:function(h){}})})},"mojo/segmentation/input/Creator":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array ./Date ./DateRange ./MultiText ./Select ./ExtraSelect ./MultiSelect ./Text ./Rating dojox/html/entities".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n){function p(a,b){var c=b.options;if(!(c instanceof Array))if("string"==typeof c)c=a.optionValues[c];else throw Error("invalid input config:"+JSON.stringify(b));c=k.clone(c);return c=d.map(c,function(a){a.label=n.encode(a.label.toString());return a})}var t={date:function(a,b){return g({configs:a,inputConfig:b})},dateRange:function(a,c){return b({configs:a,inputConfig:c})},multiText:function(a,b){return c({configs:a,inputConfig:b})},select:function(a,b){var c=p(a,b);
return new f({"class":"condition-value",options:c,configs:a,inputConfig:b})},multiSelect:function(a,b){var c=p(a,b);return new e({options:c,nounLabel:b.noun_label,configs:a,inputConfig:b})},extraSelect:function(a,b){var c=p(a,b);return new l({configs:a,inputConfig:b,ops:c})},rating:function(a,b){return new m({configs:a,inputConfig:b})},text:function(b,c){return a({configs:b,inputConfig:c})}};return{create:function(a,b){var c=b.type;if(!t[c])throw Error("Unable to render input of type:"+c);var d=t[c](a,
b);d.segmentInputType=c;d.startup&&d.startup();return d}}})},"mojo/segmentation/input/Date":function(){define(["dojo/_base/declare","dijit/form/DateTextBox","./_SegmentInputMixin","dojo/date/locale"],function(h,k,d,g){return h([k,d],{"class":"auto-width condition-value",constructor:function(){if(!this.value||this.value==this._invalidDate)this.value=new Date},getDisplayHTML:function(){return this.isValid()?this.isBlank()?'\x3cspan class\x3d"dim6"\x3e(blank)\x3c/span\x3e':g.format(this.get("value"),
{selector:"date",formatLength:"medium"}):'\x3cdiv class\x3d"invalid-error !margin--lv0"\x3ean invalid date\x3c/div\x3e'},getValue:function(){var b="";this.value&&this.value!=this._invalidDate&&(b=this.toString());return b},setValue:function(b){this.set("value",b)},isBlank:function(){return this.get("value")?!1:!0}})})},"mojo/segmentation/input/DateRange":function(){define("dojo/_base/declare dijit/_WidgetBase ./_SegmentInputMixin ./Date dojo/dom-construct dojo/_base/lang dojo/on dojo/date".split(" "),
function(h,k,d,g,b,c,f,l){return h([k,d],{"class":"flex",leftDate:null,rightDate:null,buildRendering:function(){this.domNode=b.create("div");this.leftDate=new g;this.leftDate.startup();this.rightDate=new g;this.rightDate.startup();this._addInitialConstraints();this.own(f(this.leftDate,"change",c.hitch(this,"_adjustRightConstraint")),f(this.rightDate,"change",c.hitch(this,"_adjustLeftConstraint")));b.place(this.leftDate.domNode,this.domNode);b.place('\x3cspan class\x3d"margin--lv2 !margin-top--lv0 !margin-left--lv0 !margin-bottom--lv1 flex flex-center"\x3eand\x3c/span\x3e',
this.domNode);b.place(this.rightDate.domNode,this.domNode)},getDisplayHTML:function(){return this.leftDate.isValid()&&this.rightDate.isValid()?this.leftDate.isBlank()&&this.rightDate.isBlank()?'\x3cspan class\x3d"dim6"\x3e(blank)\x3c/span\x3e':this.leftDate.getDisplayHTML()+' \x3cspan class\x3d"fwn"\x3eand\x3c/span\x3e '+this.rightDate.getDisplayHTML():'\x3cdiv class\x3d"invalid-error !margin--lv0"\x3eInvalid date range\x3c/div\x3e'},getValue:function(){return[this.leftDate.getValue(),this.rightDate.getValue()]},
setValue:function(b){this.leftDate.setValue(b[0]);this.rightDate.setValue(b[1])},_addInitialConstraints:function(){var b=null,a=null;this.leftDate.value instanceof Date&&(b=new Date(this.leftDate.value));this.rightDate.value instanceof Date&&(a=new Date(this.rightDate.value));var c=b&&a&&0===l.difference(b,a,"day");this.leftDate.constraints.max=a;c&&this.rightDate.set("value",l.add(b,"day",1));this.rightDate.constraints.min=b?l.add(b,"day",1):b},_adjustLeftConstraint:function(){var b=null;this.rightDate.value instanceof
Date&&(b=l.add(this.rightDate.value,"day",-1));this.leftDate.constraints.max=b},_adjustRightConstraint:function(){var b=null;this.leftDate.value instanceof Date&&(b=l.add(this.leftDate.value,"day",1));this.rightDate.constraints.min=b}})})},"mojo/segmentation/input/MultiText":function(){define("dojo/_base/declare mojo/widgets/input/TagList ./_SegmentInputMixin dojo/_base/array dojo/_base/lang dojox/html/entities".split(" "),function(h,k,d,g,b,c){return h([k,d],{operatorOptions:[{label:"Any",value:"or"},
{label:"All",value:"and"}],getDisplayHTML:function(){var b=this.getValues();if(b.length){b=g.map(b,function(a){return c.encode(a)});if(1==b.length)return b[0];var d=b.pop(),e=this.operator;return b.join('\x3cspan class\x3d"fwn padding--lv1 !padding-top-bottom--lv0 !padding-left--lv0"\x3e,\x3c/span\x3e ')+'\x3cspan class\x3d"fwn padding--lv1 !padding-top-bottom--lv0"\x3e '+e+" \x3c/span\x3e"+d}return'\x3cspan class\x3d"dim6"\x3e(blank)\x3c/span\x3e'},getValue:function(){return this.getValues()},setValue:function(c){g.forEach("string"==
typeof c?[c]:c,b.hitch(this,function(b){this._addTag(b)}))},getValueOp:function(){return this.operator},setValueOp:function(b){this.set("operator",b);this.opSelect.set("value",b)}})})},"mojo/segmentation/input/ExtraSelect":function(){define("dojo/_base/declare dijit/_WidgetBase ./_SegmentInputMixin ./Select dojo/dom-construct dojo/dom-attr dojo/_base/lang dojo/_base/array".split(" "),function(h,k,d,g,b,c,f,l){return h([k,d],{ops:null,opsMap:null,configs:null,valueInput:null,postMixInProperties:function(){this.opsMap=
{};this.options=[];l.forEach(this.ops,f.hitch(this,function(b){this.opsMap[b.value]=b;this.options.push({label:b.label,value:b.value})}))},buildRendering:function(){this.domNode=b.create("div",{"class":"segment-extra-select"})},postCreate:function(){this.selectInput=new g({"class":"condition-value",options:this.options});this.selectInput.placeAt(this.domNode);this.selectInput.on("change",f.hitch(this,"renderInput"));this.renderInput()},renderInput:function(){this.valueInput&&(this.valueInput.destroy(),
this.valueInput=null);var c=this.opsMap[this.getValue()].input,a=this;c&&require(["mojo/segmentation/input/Creator"],function(d){a.valueInput=d.create(a.configs,c);b.place(a.valueInput.domNode,a.domNode)})},getValueHTML:function(){return this.valueInput?this.valueInput.getDisplayHTML():""},getDisplayHTML:function(){return this.selectInput.getDisplayHTML()+": "+this.getValueHTML()},getValue:function(){return this.selectInput.getValue()},setValue:function(b){this.selectInput.setValue(b);this.renderInput()},
setExtra:function(b){this.valueInput&&this.valueInput.setValue(b)},getExtra:function(){var b=null;this.valueInput&&(b=this.valueInput.getValue());return b},destroy:function(){this.selectInput&&this.selectInput.destroy();this.valueInput&&this.valueInput.destroy();this.inherited(arguments)}})})},"mojo/segmentation/input/MultiSelect":function(){define(["dojo/_base/declare","dojox/form/CheckedMultiSelect","./_SegmentInputMixin","dojo/_base/array","dojo/_base/lang"],function(h,k,d,g,b){return h([k,d],
{"class":"condition-value",multiple:!0,dropDown:!0,nounLabel:"item",postMixInProperties:function(){this.inherited(arguments);this.labelText=this._getSelectLabel()},startup:function(){this.inherited(arguments);this.dropDownButton.on("click",b.hitch(this,function(){this.dropDownButton.openDropDown()}))},getDisplayHTML:function(){if(this.value&&this.value.length){var c=[];g.forEach(this.options,function(b){b.selected&&c.push(b.label)});return c.join('\x3cspan class\x3d"dim6"\x3e,\x3c/span\x3e ')}return b.replace('\x3cspan class\x3d"dim6"\x3e(No {nounLabel})\x3c/span\x3e',
{nounLabel:this.nounLabel})},_getNumSelected:function(){var b=0;g.forEach(this.options,function(d){d.selected&&b++});return b},_updateSelection:function(){this.inherited(arguments);this._updateSelectLabel()},_updateSelectLabel:function(){this.dropDown&&this.dropDownButton&&this.dropDownButton.set("label",this._getSelectLabel())},_getSelectLabel:function(){var c="{num} {nounLabel}"+(1!=this._getNumSelected()?"s":"")+" selected";return b.replace(c,{num:this._getNumSelected(),nounLabel:this.nounLabel})},
getValue:function(){return this.value},setValue:function(b){this.set("value",b)}})})},"mojo/segmentation/input/Text":function(){define(["dojo/_base/declare","dijit/form/TextBox","./_SegmentInputMixin","dojo/_base/array"],function(h,k,d){return h([k,d],{getDisplayHTML:function(){return this.value?this.value:'\x3cspan class\x3d"dim6"\x3e(blank)\x3c/span\x3e'},getValue:function(){return this.value},setValue:function(d){this.set("value",d)}})})},"mojo/segmentation/input/Rating":function(){define(["dojo/_base/declare",
"dojo/dom-construct","dojox/form/Rating","./_SegmentInputMixin"],function(h,k,d,g){return h([d,g],{numStars:5,postMixInProperties:function(){this.value||(this.value=3);this.inherited(arguments)},getDisplayHTML:function(){for(var b="",c=1;5>=c;c++)b+='\x3cspan class\x3d"freddicon '+(c<=this.value?"star-fill":"graystar-fill")+'"\x3e\x3c/span\x3e';return b},getValue:function(){return this.value},setValue:function(b){this.set("value",b)},destroy:function(){this.domNode&&(k.destroy(this.domNode),delete this.domNode);
this.inherited(arguments)}})})},"dojox/form/Rating":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-attr dojo/dom-class dojo/mouse dojo/on dojo/string dojo/query dijit/form/_FormWidget".split(" "),function(h,k,d,g,b,c,f,l,e){return h("dojox.form.Rating",e,{templateString:null,numStars:3,value:0,buildRendering:function(a){for(var b="",c=0;c<this.numStars;c++)b+=f.substitute('\x3cli class\x3d"dojoxRatingStar dijitInline" value\x3d"${value}"\x3e\x3c/li\x3e',{value:c+1});this.templateString=
f.substitute('\x3cdiv dojoAttachPoint\x3d"domNode" class\x3d"dojoxRating dijitInline"\x3e\x3cinput type\x3d"hidden" value\x3d"0" dojoAttachPoint\x3d"focusNode" /\x3e\x3cul data-dojo-attach-point\x3d"list"\x3e${stars}\x3c/ul\x3e\x3c/div\x3e',{stars:b});this.inherited(arguments)},postCreate:function(){this.inherited(arguments);this._renderStars(this.value);this.own(c(this.list,c.selector(".dojoxRatingStar","mouseover"),k.hitch(this,"_onMouse")),c(this.list,c.selector(".dojoxRatingStar","click"),k.hitch(this,
"onStarClick")),c(this.list,b.leave,k.hitch(this,function(){this._renderStars(this.value)})))},_onMouse:function(a){var b=+d.get(a.target,"value");this._renderStars(b,!0);this.onMouseOver(a,b)},_renderStars:function(a,b){l(".dojoxRatingStar",this.domNode).forEach(function(c,d){d+1>a?(g.remove(c,"dojoxRatingStarHover"),g.remove(c,"dojoxRatingStarChecked")):(g.remove(c,"dojoxRatingStar"+(b?"Checked":"Hover")),g.add(c,"dojoxRatingStar"+(b?"Hover":"Checked")))})},onStarClick:function(a){a=+d.get(a.target,
"value");this.setAttribute("value",a==this.value?0:a);this._renderStars(this.value);this.onChange(this.value)},onMouseOver:function(){},setAttribute:function(a,b){this.set(a,b)},_setValueAttr:function(a){this.focusNode.value=a;this._set("value",a);this._renderStars(a);this.onChange(a)}})})},"mojo/segmentation/NestedConditionRow":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin ./_EditViewMixin ./_ConditionRowMixin dojo/dom-class dojo/dom-construct dojo/_base/array dojo/_base/lang dojo/on dojo/text!./templates/nestedConditionRow.html".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m){return h([k,d,g,b],{changeStateOnFocus:!1,templateString:m,valueInput:null,configs:null,fieldConfig:null,opsMap:null,postMixInProperties:function(){if(!this.configs)throw Error("configs must be set for a condition row.");if(!this.fieldConfig)throw Error("Cannot create a nested condition without a fieldConfig attribute");this.opsMap={};l.forEach(this.fieldConfig.ops,e.hitch(this,function(a){this.opsMap[a.value]=a}))},postCreate:function(){this.renderOpInput();this.renderValueInput()},
getFieldConfig:function(){return this.fieldConfig},getOpConfig:function(){return this.opsMap[this.op]},onViewMode:function(){this._updateLabels();c.remove(this.viewContainer,"hide");c.add(this.editContainer,"hide")},onEditMode:function(){c.add(this.viewContainer,"hide");c.remove(this.editContainer,"hide")},_updateLabels:function(){this.opLabel.innerHTML=this.getOpHTML();this.valueLabel.innerHTML=this.getValueHTML();c.toggle(this.valueLabelContainer,"hide",!this.valueInput)},fromAST:function(a){this.opSelect.set("value",
a.op);this.valueInput&&(this.valueInput.setValue(a.value),a.value_op&&this.valueInput.setValueOp(a.value_op),a.extra&&this.valueInput.setExtra(a.extra))}})})},"mojo/segmentation/SubGroup":function(){define(["dojo/_base/declare","dojo/on","dojo/_base/lang","./Group","dojo/text!./templates/subgroup.html"],function(h,k,d,g,b){return h([g],{templateString:b,postCreate:function(){this.inherited(arguments);this.own(k(this.removeAllBtn,"click",d.hitch(this,function(b){b.stopPropagation();b.preventDefault();
this.destroy()})))},addCondition:function(){var b=this.inherited(arguments);this._toggleConditionDelete();return b},onConditionDelete:function(b){this.inherited(arguments);this._toggleConditionDelete()},_toggleConditionDelete:function(){1==this.conditions.length?this.conditions[0].toggleDelete(!1):1<this.conditions.length&&this.conditions[0].toggleDelete(!0)},destroy:function(){this.inherited(arguments);this.onDestroy()},onDestroy:function(){}})})},"mojo/views/placards/edit":function(){define("dojo/_base/declare mojo/views/_base dojo/request dojo/query dojo/on dojo/_base/array dojo/_base/lang dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-prop dojo/number dojo/topic mojo/user mojo/flags mojo/url mojo/app/placards mojo/app/placards/checklist/facebook mojo/app/placards/checklist/google mojo/app/account/billing mojo/Pusher mojo/utils mojo/widgets/ads/RetargetingPreview dojo/NodeList-traverse".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s,v,w,u,y,x,A){return h([k],{_attachBillingSummaryEventHandlers:function(){var a=this,d=g("[data-action\x3d'edit-payment-info']");c.forEach(d,function(c){b(c,"click",function(b){b.preventDefault();b.stopPropagation();u.editBillingInfo().then(function(){a.refreshBillingSummary()})})})},refreshBillingSummary:function(){var a=this.ad,b=this;d.post(r.toUrl("ads/billing-summary"),{data:{type:a.type,id:a.id},handleAs:"text"}).then(function(a){l.byId("plan-total-wrapper").innerHTML=
a;b._attachBillingSummaryEventHandlers();b.parse(l.byId("plan-total-wrapper"));if((a=l.byId("ad-budget"))&&b.$el.adBudgetConfirm)b.$el.adBudgetConfirm.innerHTML=a.innerHTML})},onReady:function(){var c=this.ad,h;switch(c.type){case "facebook":h=v();break;case "google":h=w()}h.setup(c);var k=this.channel,l=this;x.checkIfBlocked(function(a){a&&l.showFeedback("Looks like you're using an ad blocker.","To continue using our Ad Builder, please disable your ad blocker. ","warning")});p.subscribe("campaigns/checklist-item",
function(a){"success"===a.status&&(l.refreshBillingSummary(),"budget"===a.itemId&&(m.set(l.$el.confirmDuration,"textContent",a.durationInDays),m.set(l.$el.confirmStartDate,"textContent",a.startDate),m.set(l.$el.confirmStartTime,"textContent",a.startTime)))});b(window.document,b.selector("[data-mc-el\x3dfacebookLocationTagList]","change"),function(){p.subscribe("ads/facebook-location-taglist",function(b){b.conflicts?a.add(g("[data-mc-el\x3dsaveAudience]")[0],"disabled"):a.contains(g("[data-mc-el\x3dsaveAudience]")[0],
"disabled")&&a.remove(g("[data-mc-el\x3dsaveAudience]")[0],"disabled")})});b(window.document,".c-button--loading:click",function(b){a.add(b.target,"button-loading disabled")});l.refreshBillingSummary();b(l.$el.editAdName,"click",function(a){a.preventDefault();l.$widget.editAdNameDialog.show()});b(l.$el.cancelAdRename,"click",function(a){a.preventDefault();l.$widget.editAdNameDialog.hide()});b(l.$el.saveAdRename,"click",function(){var a=l.$el.newAdName.value;d.post(r.toUrl("/ads/rename"),{handleAs:"json",
data:{id:c.id,type:c.type,name:a}}).then(function(a){l.$el.adName.textContent=a.name;l.$widget.editAdNameDialog.hide()});window.ga("send","event","Ad Builder","Rename Ad",a)});this.$widget.tosDialog&&(this.$widget.tosDialog.show(),b(this.$el.cancelTos,"click",function(){l.$widget.tosDialog.hide()}),b(this.$el.acceptTos,"click",function(a){a.preventDefault();d.post(r.toUrl("/ads/"+c.type+"/accept-terms"),{handleAs:"json"}).then(function(a){if("success"===a.status)l.$widget.tosDialog.hide(),window.location.reload(!0);
else throw Error("Unknown error "+JSON.stringify(a));})}),b(window.document,b.selector("[data-mc-el\x3dshowTos]","click"),function(a){a.preventDefault();l.$widget.tosDialog.show()}));b(window.document,b.selector("[data-mc-el\x3dsubmitAd]","click"),function(){if(l.$el.ccSecurity&&3>l.$el.ccSecurity.value.length)a.remove(l.$el.ccSecurityError,"hide"),a.add(l.$el.ccSecurity,"invalid"),l.$el.ccSecurity.focus();else{l.$el.ccSecurity&&(a.add(l.$el.ccSecurityError,"hide"),a.remove(l.$el.ccSecurity,"invalid"));
window.ga("send","event","Ad Builder","Submit Ad");l.$widget.confirmAdDialog.show();e.has(l.$el.confirmAd,"disabled")&&(e.remove(l.$el.confirmAd,"disabled"),a.remove(l.$el.confirmAd,"button-loading disabled"));var b=document.getElementById("canvas"),c=new window.lib.animateslingshotv4,b=new window.createjs.Stage(b);b.addChild(c);b.update();window.createjs.Ticker.setFPS(window.lib.properties.fps);window.createjs.Ticker.addEventListener("tick",b)}});b(window.document,b.selector("[data-mc-el\x3dcancelAd]",
"click"),function(){window.ga("send","event","Ad Builder","Cancel");s.confirmCancel(c.id,c.type).then(function(){window.location.reload(!0)})});b(window.document,b.selector("[data-mc-el\x3dresumeAd]","click"),function(){s.unpauseAd(c.id,c.type).then(function(){window.ga("send","event","Ad Builder","Resume Ad");window.location.reload(!0)})});b(window.document,b.selector("[data-mc-el\x3dpauseAd]","click"),function(){s.pauseAd(c.id,c.type).then(function(){window.ga("send","event","Ad Builder","Pause Ad");
window.location.reload(!0)})});b(l.$el.closeAdDialog,"click",function(a){a.preventDefault();l.$widget.confirmAdDialog.hide()});b(l.$el.confirmAd,"click",function(a){a.preventDefault();e.set(this,"disabled","disabled");window.ga("send","event","Ad Builder","Confirm Order");d.get(r.toUrl("/ads/post-publish"),{handleAs:"json",query:{id:c.id,type:c.type,"cc-security":l.$el.ccSecurity?l.$el.ccSecurity.value:null}}).then(function(a){switch(a.status){case "success":a=r.toUrl("/ads/finished-sent",{id:c.id,
type:c.type});window.location=a;break;case "error":for(var b in a.errors)if({}.hasOwnProperty.call(a.errors,b)){l.showFlash(a.errors[b]);l.$widget.confirmAdDialog.hide();break}break;default:throw Error("Unknown state "+a.status);}})});y.load().then(f.hitch(this,function(a){a.subscribe(k).bind("audience-ready",f.hitch(this,function(){d.get(r.toUrl("/ads/reach-estimate"),{handleAs:"json",query:{id:c.id}}).then(function(a){var b="",c="";t.flagIsOn(q.GOOGLE_ADS_ESSENTIALS)&&500>a.users?(b="Estimated reach: Less than 500",
c="Less than 500"):(a=n.format(a.users,{pattern:"#,###"}),b="Estimated reach: "+a+" out of "+a+" potential",c=a);l.updateReachEstimateContent(b,c)})}))}))},updateReachEstimateContent:function(a,b){e.set(this.$el.reachEstimateHead,"title",a);m.set(this.$el.reachEstimateUserCount,"textContent",b);this.$el.reachUnavailable.style.display="none";this.$el.reachAvailable.style.display="block"},showFeedback:function(b,c,d){d=d||"error";var e=this.$el.feedback;["warning","error"].forEach(function(b){a.remove(e,
b)});a.add(e,d);m.set(this.$el.feedbackTitle,"textContent",b);m.set(this.$el.feedbackMessage,"textContent",c);a.remove(e,"hide")},hideFeedback:function(){a.add(this.$el.feedback,"hide")},showFlash:function(b){var c=this.$el.flash;m.set(this.$el.flashMessage,"textContent",b);a.remove(c,"hide")},hideFlash:function(){a.add(this.$el.flash,"hide")}})})},"mojo/views/placards/finished-sent":function(){define(["dojo/_base/declare","mojo/views/_base"],function(h,k){return h([k],{onReady:function(){var d,g;
d=document.getElementById("canvas");g=new window.lib.animateslingshotstep2;d=new window.createjs.Stage(d);d.addChild(g);d.update();window.createjs.Ticker.setFPS(window.lib.properties.fps);window.createjs.Ticker.addEventListener("tick",d)}})})},"mojo/views/peaches2/tools/login-page/create":function(){define("dojo/_base/declare mojo/views/_base dojo/_base/lang mojo/widgets/ButtonGroup dojo/dom dojo/dom-class".split(" "),function(h,k,d,g,b,c){return h([k],{loginTypes:null,isDev:null,isCTALayout:null,
onReady:function(){var b=this;if(this.isCTALayout){var h=[{title:"content",value:"content",label:"Content"},{title:"layout",value:"layout",label:"Layout"}];this.ctaOptions=new g({options:h,itemTpl:"\x3cli class\x3d'c-buttonGroupItem'\x3e\x3cbutton data-mc-value\x3d'{value}' title\x3d'{title}' class\x3d'c-buttonGroupButton v-buttonGroupUnderlined'\x3e{label}\x3c/button\x3e\x3c/li\x3e",activeClass:" v-buttonGroupUnderlined--active"});this.ctaOptions.placeAt(this.$el.callToActionEdits);this.ctaOptions.startup();
this.ctaOptions.setSelected(h[0].value);this.ctaOptions.on("change",d.hitch(this.ctaOptions,function(){"content"===this.value?(c.remove(b.$el.ctaContent,"hide"),c.add(b.$el.ctaLayout,"hide")):(c.add(b.$el.ctaContent,"hide"),c.remove(b.$el.ctaLayout,"hide"))}))}}})})},"mojo/views/peaches2/tools/login-page/edit-image":function(){define("dojo/_base/declare mojo/views/_base dojo/_base/lang mojo/widgets/ButtonGroup dojo/dom dojo/dom-class".split(" "),function(h,k,d,g,b,c){return h([k],{selectedType:null,
loginTypes:null,isCTALayout:null,onReady:function(){var b=this;if(this.isCTALayout){var h=[{title:"content",value:"content",label:"Content"},{title:"layout",value:"layout",label:"Layout"}];this.ctaOptions=new g({options:h,itemTpl:"\x3cli class\x3d'c-buttonGroupItem'\x3e\x3cbutton data-mc-value\x3d'{value}' title\x3d'{title}' class\x3d'c-buttonGroupButton v-buttonGroupUnderlined'\x3e{label}\x3c/button\x3e\x3c/li\x3e",activeClass:" v-buttonGroupUnderlined--active"});this.ctaOptions.placeAt(this.$el.callToActionEdits);
this.ctaOptions.startup();this.ctaOptions.setSelected(h[0].value);this.ctaOptions.on("change",d.hitch(this.ctaOptions,function(){"content"===this.value?(c.remove(b.$el.ctaContent,"hide"),c.add(b.$el.ctaLayout,"hide")):(c.add(b.$el.ctaContent,"hide"),c.remove(b.$el.ctaLayout,"hide"))}))}}})})},"mojo/views/marketing/demo":function(){define("dojo/_base/declare mojo/views/_base dijit/registry mojo/url mojo/user dojo/dom dojo/query dojo/dom-class dojo/dom-attr dojo/dom-construct dojo/on".split(" "),function(h,
k,d,g,b,c,f,l,e,a,m){return h([k],{version:"",user_level:"",ad_id:"",ads:"",onReady:function(){var a=this,b=f("option[value\x3d"+this.version+"]")[0];e.set(b,"selected","selected");b=f("option[value\x3d"+this.user_level+"]")[0];e.set(b,"selected","selected");a.updateAdSelect();f("select").on("change",function(b){a.refreshPage()});f("button").on("click",function(b){a.refreshPage()})},refreshPage:function(){window.location.href=g.toUrl("marketing/demo",{ad_id:dojo.byId("ad-select").value,user_level:dojo.byId("user-level").value,
version:dojo.byId("version").value})},updateAdSelect:function(){for(var b in this.ads.advertisements){var c=this.ads.advertisements[b];if(c){var d="";b==this.ad_id&&(d=' selected\x3d"selected"');var e="\x3coption "+d+' value\x3d"'+b+'"\x3e'+b+"\x3c/option\x3e";!0==c.hide&&(e="\x3coption "+d+' value\x3d"'+b+'" disabled\x3e'+b+" (hidden)\x3c/option\x3e");a.place(e,"ad-select")}}}})})},"mojo/views/login/index":function(){define("dojo/_base/declare mojo/views/_base dojo/query dojo/dom-class dojo/sniff dojo/dom-style velocity/velocity velocity/velocity.ui".split(" "),
function(h,k,d,g,b,c,f){return h([k],{onReady:function(){6.1>b("safari")&&g.add(document.documentElement,"safari_6");var h=d("[data-mc-el\x3d'loginAnnouncementAnimation']");c.set(h,"display","");f(h,"transition.slideUpIn",800)}})})},"mojo/views/lists/index":function(){define("dojo/_base/declare mojo/views/_base mojo/url dojo/on dijit/Dialog dojo/query".split(" "),function(h,k,d,g,b,c){var f=function(b){c(".cancel-button",b.domNode).on("click",function(c){c.stopPropagation();c.preventDefault();b.hide()})};
return h([k],{showDismissReconfirmModal:function(c){var e=new b({title:"Are you sure?",onHide:function(){e.destroyRecursive()},onDownloadEnd:function(){f(e)}});e.setHref(d.toUrl("lists/dismiss-reconfirm-modal",{id:c}));e.show()}})})},"mojo/views/lists/signup-forms/popup/editor":function(){define("dojo/_base/declare mojo/views/_base dojo/dom-form dojo/Stateful dojo/on dojo/_base/lang dojo/aspect dojo/query dojo/dom-class dojo/dom-style dojo/dom-construct dojo/dnd/Source dojo/request dijit/registry mojo/url mojo/logger mojo/neapolitan/widgets/ImageRow mojo/signup-forms/SignupFormPreview mojo/signup-forms/PopupSignupForm velocity/velocity dojo/NodeList-traverse".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s,v,w,u){return h([k],{fieldSelector:"[data-mc-field-selector]",fieldsConfig:[],viewedCode:!1,emailField:"",onInit:function(){this.formConfig=new g(this.formConfig);var a=this.formConfig.styles||{};a.labels=a.labels||{};a.button=a.button||{};a.modal=a.modal||{};this.formConfig.imageUrl&&(this.formConfig.imageUrl=q.addProxy(this.formConfig.imageUrl));this.formConfig.set("styles",a)},onReady:function(){var a={customConfig:"mcpopupeditorconfig.js",height:200,
removePlugins:"elementspath"};this.footerCK=CKEDITOR.replace(this.$el.footerInput,c.mixin({on:{instanceReady:c.hitch(this,function(){""==this.footerCK.getData()&&(this.footerCK.setData(" "),this.formConfig.set("footer",this.footerCK.getData()));this.footerCK.on("change",c.hitch(this,function(){this.formConfig.set("footer",this.footerCK.getData())}))})}},a));this.descriptionCK=CKEDITOR.replace(this.$el.descriptionInput,c.mixin({on:{instanceReady:c.hitch(this,function(){""==this.descriptionCK.getData()&&
(this.descriptionCK.setData(" "),this.formConfig.set("description",this.descriptionCK.getData()));this.descriptionCK.on("change",c.hitch(this,function(){this.formConfig.set("description",this.descriptionCK.getData())}))})}},a));b(this.$el.buttonLabelInput,"keyup",c.hitch(this,function(){this.formConfig.set("buttonLabel",this.$el.buttonLabelInput.value)}));b(this.$el.closeLabelInput,"keyup",c.hitch(this,function(){this.formConfig.set("closeLabel",this.$el.closeLabelInput.value)}));b(this.$el.popupOpacity,
"keyup",c.hitch(this,function(){this.formConfig.set("popupOpacity",this.$el.popupOpacity.value)}));var d=t.byNode(this.$el.popupDelay);b(d,"change",c.hitch(this,function(){this.formConfig.set("popupDelay",d.value)}));this.dndSource=new n(this.$el.selectedContainer,{withHandles:!0});f.after(this.dndSource,"onDrop",c.hitch(this,"_updateFieldsMeta"));this.generateCodeDialog=t.byId("generate-code-dialog");this.publishDialog=t.byId("publish-dialog");this.viewCodeDialog=t.byId("view-code-dialog");f.after(this.publishDialog,
"execute",c.hitch(this,function(){this.submitForm(!this.publishDialog.saveExit);r.pythia.logEvent("List_SignupForm_Popup_Publish")}));f.after(this.generateCodeDialog,"execute",c.hitch(this,function(){this.generateCodeDialog.saveExit&&this.submitForm(!1)}));this.setupMobileNav();this._handleTemplateChange();this._handleInputChanges();this._setupImageRow();this._setupReorder();this._setupPreviewForm();this._setupViewportOptions()},openPopupForm:function(){this.popupForm&&this.popupForm.destroy();this.popupForm=
new w({config:this.formConfig,popupDelay:50});m.place(this.popupForm.domNode,document.body,"last");this.popupForm.startup()},setupMobileNav:function(){l(".mobile-top-nav").on("click",function(a){a.preventDefault();a.stopPropagation();e.toggle(this,"active")})},_handleInputChanges:function(){var a=this,c=t.byId("labelFontInput"),d=t.byId("labelColorInput"),e=t.byId("buttonTextColorInput"),f=t.byId("buttonBgInput"),g=t.byId("buttonHoverInput"),h=t.byId("button-alignment"),k=t.byId("fullWidthInput"),
l=t.byId("modalLinkColorInput"),m=t.byId("modalMaxWidthInput");b(c,"change",function(){var b=a.formConfig.styles;b.labels.font=this.value;a.formConfig.set("styles",b)});b(d,"change",function(){var b=a.formConfig.styles;b.labels.color=this.value;a.formConfig.set("styles",b)});b(e,"change",function(){var b=a.formConfig.styles;b.button.text_color=this.value;a.formConfig.set("styles",b)});b(f,"change",function(){var b=a.formConfig.styles;b.button.color=this.value;a.formConfig.set("styles",b)});b(g,"change",
function(){var b=a.formConfig.styles;b.button.hover_color=this.value;a.formConfig.set("styles",b)});b(h,"change",function(){var b=a.formConfig.styles;b.button.alignment=this.value;a.formConfig.set("styles",b)});b(k,"change",function(){var b=a.formConfig.styles;b.button.style=this.checked?"full":null;a.formConfig.set("styles",b)});b(l,"change",function(){var b=a.formConfig.styles;b.modal.close_link_color=this.value;a.formConfig.set("styles",b)});b(m,"change",function(){var b=a.formConfig.styles;b.modal.max_width=
this.value;a.formConfig.set("styles",b)})},_handleTemplateChange:function(){var c=this;b(document.body,"[name\x3dsetting\\[template\\]]:click",function(){a.set(c.$el.imageSection,"display",this.checked&&1==this.value?"none":"");a.set(c.$el.imageDimension1,"display",2==this.value?"":"none");a.set(c.$el.imageDimension2,"display",3==this.value||4==this.value?"":"none");c.formConfig.set("template",this.value)})},_setupPreviewForm:function(){this.previewForm=new v({iframe:this.$el.previewFrame,config:this.formConfig||
{}})},_setupImageRow:function(){var a=null,d=this,e=this.$el.imageInput.value,g=this.$el.imageIdInput.value,h=this.$el.imageEdgeToEdge;e&&(a={src:q.addProxy(e),fileId:g});this.imageRow=new s({image:a,actions:["edit"]},this.$el.imageContainer);this.imageRow.startup();f.after(this.imageRow,"onChange",c.hitch(this,function(){this.imageRow.image?(this.imageRow.image.src&&(this.$el.imageInput.value=this.imageRow.image.src,this.formConfig.set("imageUrl",this.imageRow.image.src)),this.imageRow.image.fileId&&
(this.$el.imageIdInput.value=this.imageRow.image.fileId)):(this.$el.imageInput.value="",this.formConfig.set("imageUrl",""),this.$el.imageIdInput.value=null)}));b(h,"click",function(){d.formConfig.set("imageEdgeToEdge",this.checked?"Y":null)})},_setupReorder:function(){var a=this;b(this.$el.availableContainer,"[data-mc-field-selector]:change",function(){a._onCheckboxChange(this)});b(this.$el.selectedContainer,"[data-mc-field-selector]:change",function(){a._onCheckboxChange(this)})},_setupViewportOptions:function(){var a=
this,c=l('[data-action\x3d"desktop-view"]')[0],d=l('[data-action\x3d"mobile-view"]')[0],f=a.previewForm.iframe;b(c,"click",function(b){e.contains(this,"v-buttonGroupBordered--active")||(e.add(this,"v-buttonGroupBordered--active"),e.remove(d,"v-buttonGroupBordered--active"),u(f,{width:"980px"},{duration:225,complete:function(){u(f,{height:a.previewForm.docHeight()+"px"},{duration:180})}}))});b(d,"click",function(b){e.contains(this,"v-buttonGroupBordered--active")||(e.add(this,"v-buttonGroupBordered--active"),
e.remove(c,"v-buttonGroupBordered--active"),u(f,{width:"640px"},{duration:225,complete:function(){u(f,{height:a.previewForm.docHeight()},{duration:180})}}))})},_onCheckboxChange:function(a){var b=this._getCheckboxContainer(a);e.toggle(b,"dojoDndItem selected",a.checked);a.checked?this._selectField(a):this._deselectField(a);this._updateFieldsMeta();this.dndSource.sync()},_selectField:function(a){a=this._getCheckboxContainer(a);var b=l("[data-mc-field-selector]:checked",this.$el.selectedContainer).closest('[data-mc-container\x3d"field"]');
b.length?(b=b.last()[0],m.place(a,b,"after")):m.place(a,this.$el.selectedContainer,"first")},_deselectField:function(a){var b=this._getCheckboxContainer(a),c=this.$el.availableContainer;u(b,{opacity:"0"},{complete:function(){m.place(b,c,"first");u(b,{opacity:"1"})}})},_updateFieldsMeta:function(){var a=l("[data-mc-field-selector]:checked",this.$el.selectedContainer),b=[{label:this.emailField,name:"EMAIL",type:"email",required:!0}];a.forEach(c.hitch(this,function(a){b.push(c.clone(this.fieldsConfig[a.value]))}));
this.formConfig.set("fields",b)},_getCheckboxContainer:function(a){a=l(a).closest("[data-mc-container\x3d'field']");if(a.length)return a[0];throw Error("container must have a data-mc-container set");},openSaveDialog:function(b){this.viewedCode?(this.publishDialog.saveExit=b,this.publishDialog.show()):(this.submitForm(!0,{"setting[viewed_code]":!0}),this.generateCodeDialog.saveExit=b,this.generateCodeDialog.show(),this.viewedCode=!0,a.set(this.$el.generateLink,"display","none"),a.set(this.$el.viewCodeLink,
"display",""),a.set(this.$el.saveLink,"display",""),r.pythia.logEvent("List_SignupForm_Popup_ViewEmbedCode"))},openViewCodeDialog:function(){this.viewCodeDialog.show();r.pythia.logEvent("List_SignupForm_Popup_ViewEmbedCode")},submitForm:function(a,b){1==this.formConfig.template&&this.imageRow.removeImage();if(a){this.footerCK.updateElement();this.descriptionCK.updateElement();var e=c.mixin(b,d.toObject(this.$el.settingsForm));p.post(this.$el.settingsForm.action,{data:e})}else this.$el.settingsForm.submit()}})})},
"mojo/signup-forms/SignupFormPreview":function(){define("dojo/_base/declare dojo/_base/lang dojo/on dojo/dom-construct dojo/promise/all dojo/Deferred ./SignupFormFrame".split(" "),function(h,k,d,g,b,c,f){return h([f],{config:{},previewCssNode:null,postCreate:function(){this.inherited(arguments);this.loadPreviewCss().then(k.hitch(this,"updateDocHeight"));this.config.watch("footer",k.hitch(this,"updateFooter"));this.config.watch("description",k.hitch(this,"updateDescription"));this.config.watch("buttonLabel",
k.hitch(this,"updateButtonLabel"));this.config.watch("template",k.hitch(this,"updateTemplate"));this.config.watch("imageUrl",k.hitch(this,"updateImageUrl"));this.config.watch("imageEdgeToEdge",k.hitch(this,"updateImageEdgeToEdge"));this.config.watch("styles",k.hitch(this,"updateStyles"));this.config.watch("fields",k.hitch(this,"updateFields"))},updateFields:function(b,c,a){this.signupForm.fields=a;this.signupForm.addFields();this.updateDocHeight()},updateButtonLabel:function(b,c,a){this.signupForm.submitButton.value=
a},updateDescription:function(b,c,a){this.signupForm.descriptionContainer.innerHTML=a;this.updateDocHeight()},updateFooter:function(b,c,a){this.signupForm.footerContainer.innerHTML=a;this.updateDocHeight()},updateTemplate:function(c,d,a){this.template=a;b([this.loadLayoutCss(),this.loadCustomCss(),this.loadPreviewCss()]).then(k.hitch(this,"updateDocHeight"))},updateImageUrl:function(c,d,a){this.imageUrl=a;b([this.loadCustomCss(),this.loadPreviewCss()]).then(k.hitch(this,"updateDocHeight"))},updateImageEdgeToEdge:function(c,
d,a){this.imageEdgeToEdge=a;b([this.loadCustomCss(),this.loadPreviewCss()]).then(k.hitch(this,"updateDocHeight"))},updateStyles:function(b,c,a){this.styles=a;this.loadCustomCss().then(k.hitch(this,"updateDocHeight"))},loadPreviewCss:function(){this.previewCssNode&&g.destroy(this.previewCssNode);var b=new c;if(!this.imageUrl&&1!=this.template){this.previewCssNode=this.createStyleNode(this.frameDoc);var d=this.getStyleSheet(this.previewCssNode);this.addCSSRule(d,".modalContent__image","background-image:url("+
("//s3.amazonaws.com/downloads.mailchimp.com/images/signup-forms/popup/placeholder-layout"+this.template+".png")+");")}b.resolve();return b.promise}})})},"mojo/signup-forms/SignupFormFrame":function(){define("dojo/_base/declare dijit/_WidgetBase ./SignupForm dojo/query dojo/_base/lang dojo/window dojo/on dojo/dom dojo/dom-geometry dojo/dom-construct dojo/dom-style dojo/dom-attr dojo/promise/all dojo/Deferred dojo/sniff mojo/widgets/_CustomStyleRulesMixin dojo/NodeList-manipulate".split(" "),function(h,
k,d,g,b,c,f,l,e,a,m,n,p,t,q,r){return h([k,r],{version:"1.0",template:1,iframe:null,frameDoc:null,maxWidth:960,mobileView:!1,config:{},subscribeUrl:"#",honeypotFieldName:"",layoutCssNode:null,customCssNode:null,imageUrl:null,imageEdgeToEdge:null,constructor:function(a){if(!a.iframe||!a.iframe.tagName||"iframe"!=a.iframe.tagName.toLowerCase())throw Error("You must specify an iframe attribute to an iframe element");},postMixInProperties:function(){this.config.template&&(this.template=this.config.template);
this.config.version&&(this.version=this.config.version);this.config.imageUrl&&(this.imageUrl=this.config.imageUrl);this.config.hasOwnProperty("imageEdgeToEdge")&&(this.imageEdgeToEdge=this.config.imageEdgeToEdge);this.config.styles&&(this.styles=this.config.styles);this.styles.hasOwnProperty("modal")&&this.styles.modal.hasOwnProperty("max_width")&&(this.maxWidth=this.styles.modal.max_width-20);this.frameDoc=this.iframe.contentWindow.document},postCreate:function(){this.signupForm=new d({config:this.config,
subscribeUrl:this.subscribeUrl,honeypotFieldName:this.honeypotFieldName});this.frameDoc.write('\x3c!DOCTYPE html\x3e\x3chtml\x3e\x3chead\x3e\x3cmeta name\x3d"viewport" content\x3d"width\x3ddevice-width, initial-scale\x3d1, maximum-scale\x3d1, user-scalable\x3dno"/\x3e\x3c/head\x3e\x3cbody\x3e\x3c/body\x3e\x3c/html\x3e');this.frameDoc.close();this.signupForm.placeAt(this.frameDoc.body);this.signupForm.startup();p([this.loadCommonCss(),this.loadLayoutCss(),this.loadCustomCss()]).then(b.hitch(this,"updateDocHeight"));
f(window,"resize",b.hitch(this,function(){var a=this._isMobileView();a!=this.mobileView&&(this.mobileView=a,this.updateDocHeight())}));this.signupForm.on("resizeFrame",b.hitch(this,function(){this.updateDocHeight()}))},startup:function(){this.inherited(arguments);this.mobileView=this._isMobileView()},docHeight:function(){return e.getContentBox(this.signupForm.domNode).h},updateDocHeight:function(){try{m.set(this.iframe,"height",this.docHeight()+"px")}catch(a){}},_isMobileView:function(){return c.getBox().w<
this.maxWidth?!0:!1},loadCommonCss:function(){var a=new t,b=this.frameDoc.createElement("link");b.rel="stylesheet";b.type="text/css";b.href="//s3.amazonaws.com/downloads.mailchimp.com/css/signup-forms/popup/"+this.version+"/common.css";b.media="all";f(b,"load",function(){a.resolve()});this.frameDoc.getElementsByTagName("head")[0].appendChild(b);return a.promise},loadLayoutCss:function(){this.layoutCssNode&&a.destroy(this.layoutCssNode);var b=new t;this.layoutCssNode=this.frameDoc.createElement("link");
this.layoutCssNode.rel="stylesheet";this.layoutCssNode.type="text/css";this.layoutCssNode.href="//s3.amazonaws.com/downloads.mailchimp.com/css/signup-forms/popup/"+this.version+"/layout-"+this.template+".css";this.layoutCssNode.media="all";f(this.layoutCssNode,"load",function(){b.resolve()});this.frameDoc.getElementsByTagName("head")[0].appendChild(this.layoutCssNode);return b.promise},loadCustomCss:function(){this.customCssNode&&a.destroy(this.customCssNode);var b=new t;this.customCssNode=this.createStyleNode(this.frameDoc);
var c=this.getStyleSheet(this.customCssNode);if(this.styles)for(var d in this.styles)if(this.styles.hasOwnProperty(d))switch(d){case "button":for(var e in this.styles[d])switch(e){case "color":this.addCSSRule(c,".button","background-color:"+this.styles[d][e]+";");break;case "hover_color":this.addCSSRule(c,".button:hover","background-color:"+this.styles[d][e]+";");break;case "text_color":this.addCSSRule(c,".button","color:"+this.styles[d][e]+";");break;case "alignment":"right"==this.styles[d][e]?this.addCSSRule(c,
".button","float:right;"):"center"==this.styles[d][e]?(this.addCSSRule(c,".button","float:none;margin-left:auto;margin-right:auto;"),9>=q("ie")?(this.addCSSRule(c,".button","display:table-cell;"),this.addCSSRule(c,".content__button","margin-left:auto;margin-right:auto;display:table;")):this.addCSSRule(c,".button","display:table;")):this.addCSSRule(c,".button","float:left;");break;case "style":"full"==this.styles[d][e]&&this.addCSSRule(c,".button","width:100%;")}break;case "labels":for(e in this.styles[d])switch(e){case "color":this.addCSSRule(c,
"label","color:"+this.styles[d][e]+";");break;case "font":this.addCSSRule(c,"label","font-family:"+this.styles[d][e]+";")}}this.imageUrl&&1!=this.template&&this.addCSSRule(c,".modalContent__image","background-image:url("+this.imageUrl+");");this.imageEdgeToEdge&&this.addCSSRule(c,".modalContent__image","background-size:cover;");b.resolve();return b.promise}})})},"mojo/signup-forms/SignupForm":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_FocusMixin dojo/_base/array dojo/query dojo/on dojo/_base/lang dojo/request/script dojo/dom-form dojo/dom-geometry dojo/dom-construct dojo/dom-style dojo/dom-attr dojo/html dojo/Evented dojo/text!./templates/form.html dojo/text!./inputs/templates/Text.html dojo/text!./inputs/templates/Address.html dojo/text!./inputs/templates/Email.html dojo/text!./inputs/templates/Birthday.html dojo/text!./inputs/templates/Date.html dojo/text!./inputs/templates/Phone.html dojo/text!./inputs/templates/Number.html dojo/text!./inputs/templates/Url.html dojo/text!./inputs/templates/RadioCheckbox.html dojo/text!./inputs/templates/Select.html".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s,v,w,u,y,x,A,C,D,E,G){var H=h([],{isEmpty:function(){var a;b.forEach(this.inputs,l.hitch(this,function(b){a="radio"==b.type||"checkbox"==b.type||"option"==b.tagName.toLowerCase()?"boolean"===typeof a?a&&!this._checked(b):!this._checked(b):"boolean"===typeof a?a&&this._empty(b.value):this._empty(b.value)}));return a},isChecked:function(){b.some(this.inputs,l.hitch(this,function(a){if(this._checked(a))return!0}));return!1},isEmail:function(){return this._email(this.inputs[0].value)},
isPhone:function(){return this._phone(this.phoneAreaNode.value,this.phoneDetail1Node.value,this.phoneDetail2Node.value)},isUrl:function(){return this._url(this.inputs[0].value)},isNumber:function(){return this._number(this.inputs[0].value)},isBirthday:function(){return this._monthDigits(this.monthNode.value)&&this._dayDigits(this.dayNode.value)},isDate:function(){return this._yearDigits(this.yearNode.value)&&this._monthDigits(this.monthNode.value)&&this._dayDigits(this.dayNode.value)},isAddress:function(){return!this._empty(this.address1Node.value)&&
!this._empty(this.cityNode.value)&&!this._empty(this.stateNode.value)&&this._checked(c(":checked",this.countrySelectNode)[0])&&!this._empty(this.zipNode.value)},_required:function(a){return 0<a.trim().length},_empty:function(a){return null===a||"undefined"===typeof a||""===a},_email:function(a){return/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(a)},_yearDigits:function(a){return this._digits(a)&&this._range(a,
[1,9999])},_monthDigits:function(a){return this._digits(a)&&this._range(a,[1,12])},_dayDigits:function(a){return this._digits(a)&&this._range(a,[1,31])},_digits:function(a){return/^\d+$/.test(a)},_range:function(a,b){return a>=b[0]&&a<=b[1]},_number:function(a){return this._digits(a)&&!isNaN(a)},_minlength:function(a,b){return a.trim().length>=b},_maxlength:function(a,b){return a.trim().length<=b},_exactLength:function(a,b){return a.trim().length==b},_zipcode:function(a){return/^\d{5}-\d{4}$|^\d{5}$/.test(a)},
_url:function(a){return/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(a)},
_phone:function(a,b,c){return this._digits(a)&&this._digits(b)&&this._digits(c)&&this._exactLength(a,3)&&this._exactLength(b,3)&&this._exactLength(c,4)},_checked:function(a){return a.checked||a.selected&&!this._empty(a.value)},_checkable:function(a){return/radio|checkbox/i.test(a.type)}});g=h([g,H],{_onBlur:function(){this.inherited(arguments);this.validateField()},validateField:function(){var a=[],b,c;this.required&&((b=!this.isEmpty())||a.push("This field is required."));switch(this.validateAsType){case "email":b=
this.isEmpty()||this.isEmail();c="Please enter a valid email address.";break;case "address":b=this.isEmpty()||this.isAddress();c="Please enter a valid address.";break;case "phone":b=this.isEmpty()||this.isPhone();c="Please enter a valid phone number.";break;case "url":b=this.isEmpty()||this.isUrl();c="Please enter a valid url.";break;case "number":b=this.isEmpty()||this.isNumber();c="Please enter a valid number.";break;case "birthday":b=this.isEmpty()||this.isBirthday();c="Please enter a valid birthday.";
break;case "date":b=this.isEmpty()||this.isDate();c="Please enter a valid date.";break;case "radiocheckbox":case "select":this.isEmpty()||this.isChecked();default:b=!0}b||a.push(c);this.setFieldValidationStatus(a);return a},setFieldValidationStatus:function(a){0<a.length?this.setFieldAsInvalid(a[0]):this.setFieldAsValid()},setFieldAsInvalid:function(a){this.inputs.addClass("invalid").removeClass("valid");q.set(this.errorsNode,a);p.set(this.errorsNode,"display","block")},setFieldAsValid:function(){this.inputs.addClass("valid").removeClass("invalid");
p.set(this.errorsNode,"display","none")},resetField:function(){this.inputs.removeClass("valid").removeClass("invalid");p.set(this.errorsNode,"display","none")},_getErrorsNode:function(){var a=c(".invalid-error",this.domNode)[0];a||(a=n.place('\x3cdiv class\x3d"invalid-error"\x3e\x3c/div\x3e',this.domNode));return a}});g=h([k,d,g],{required:!1,inputs:[],errorsNode:null,postCreate:function(){this.inputs=c("input:not([type\x3d'hidden']), select option",this.domNode);this.errorsNode=this._getErrorsNode()}});
var M=h([g],{templateString:v,validateAsType:"text"}),J=h([g],{templateString:C,validateAsType:"number"}),S=h([g],{templateString:w,validateAsType:"address",postCreate:function(){b.forEach([{id:"286",name:"Aaland Islands"},{id:"274",name:"Afghanistan"},{id:"2",name:"Albania"},{id:"3",name:"Algeria"},{id:"178",name:"American Samoa"},{id:"4",name:"Andorra"},{id:"5",name:"Angola"},{id:"176",name:"Anguilla"},{id:"175",name:"Antigua And Barbuda"},{id:"6",name:"Argentina"},{id:"7",name:"Armenia"},{id:"179",
name:"Aruba"},{id:"8",name:"Australia"},{id:"9",name:"Austria"},{id:"10",name:"Azerbaijan"},{id:"11",name:"Bahamas"},{id:"12",name:"Bahrain"},{id:"13",name:"Bangladesh"},{id:"14",name:"Barbados"},{id:"15",name:"Belarus"},{id:"16",name:"Belgium"},{id:"17",name:"Belize"},{id:"18",name:"Benin"},{id:"19",name:"Bermuda"},{id:"20",name:"Bhutan"},{id:"21",name:"Bolivia"},{id:"22",name:"Bosnia and Herzegovina"},{id:"23",name:"Botswana"},{id:"181",name:"Bouvet Island"},{id:"24",name:"Brazil"},{id:"180",name:"Brunei Darussalam"},
{id:"25",name:"Bulgaria"},{id:"26",name:"Burkina Faso"},{id:"27",name:"Burundi"},{id:"28",name:"Cambodia"},{id:"29",name:"Cameroon"},{id:"30",name:"Canada"},{id:"31",name:"Cape Verde"},{id:"32",name:"Cayman Islands"},{id:"33",name:"Central African Republic"},{id:"34",name:"Chad"},{id:"35",name:"Chile"},{id:"36",name:"China"},{id:"185",name:"Christmas Island"},{id:"37",name:"Colombia"},{id:"204",name:"Comoros"},{id:"38",name:"Congo"},{id:"183",name:"Cook Islands"},{id:"268",name:"Costa Rica"},{id:"275",
name:"Cote D'Ivoire"},{id:"40",name:"Croatia"},{id:"276",name:"Cuba"},{id:"298",name:"Curacao"},{id:"41",name:"Cyprus"},{id:"42",name:"Czech Republic"},{id:"43",name:"Denmark"},{id:"44",name:"Djibouti"},{id:"289",name:"Dominica"},{id:"187",name:"Dominican Republic"},{id:"233",name:"East Timor"},{id:"45",name:"Ecuador"},{id:"46",name:"Egypt"},{id:"47",name:"El Salvador"},{id:"48",name:"Equatorial Guinea"},{id:"49",name:"Eritrea"},{id:"50",name:"Estonia"},{id:"51",name:"Ethiopia"},{id:"189",name:"Falkland Islands"},
{id:"191",name:"Faroe Islands"},{id:"52",name:"Fiji"},{id:"53",name:"Finland"},{id:"54",name:"France"},{id:"193",name:"French Guiana"},{id:"277",name:"French Polynesia"},{id:"56",name:"Gabon"},{id:"57",name:"Gambia"},{id:"58",name:"Georgia"},{id:"59",name:"Germany"},{id:"60",name:"Ghana"},{id:"194",name:"Gibraltar"},{id:"61",name:"Greece"},{id:"195",name:"Greenland"},{id:"192",name:"Grenada"},{id:"196",name:"Guadeloupe"},{id:"62",name:"Guam"},{id:"198",name:"Guatemala"},{id:"270",name:"Guernsey"},
{id:"63",name:"Guinea"},{id:"65",name:"Guyana"},{id:"200",name:"Haiti"},{id:"66",name:"Honduras"},{id:"67",name:"Hong Kong"},{id:"68",name:"Hungary"},{id:"69",name:"Iceland"},{id:"70",name:"India"},{id:"71",name:"Indonesia"},{id:"278",name:"Iran"},{id:"279",name:"Iraq"},{id:"74",name:"Ireland"},{id:"75",name:"Israel"},{id:"76",name:"Italy"},{id:"202",name:"Jamaica"},{id:"78",name:"Japan"},{id:"288",name:"Jersey  (Channel Islands)"},{id:"79",name:"Jordan"},{id:"80",name:"Kazakhstan"},{id:"81",name:"Kenya"},
{id:"203",name:"Kiribati"},{id:"82",name:"Kuwait"},{id:"83",name:"Kyrgyzstan"},{id:"84",name:"Lao People's Democratic Republic"},{id:"85",name:"Latvia"},{id:"86",name:"Lebanon"},{id:"87",name:"Lesotho"},{id:"88",name:"Liberia"},{id:"281",name:"Libya"},{id:"90",name:"Liechtenstein"},{id:"91",name:"Lithuania"},{id:"92",name:"Luxembourg"},{id:"208",name:"Macau"},{id:"93",name:"Macedonia"},{id:"94",name:"Madagascar"},{id:"95",name:"Malawi"},{id:"96",name:"Malaysia"},{id:"97",name:"Maldives"},{id:"98",
name:"Mali"},{id:"99",name:"Malta"},{id:"207",name:"Marshall Islands"},{id:"210",name:"Martinique"},{id:"100",name:"Mauritania"},{id:"212",name:"Mauritius"},{id:"241",name:"Mayotte"},{id:"101",name:"Mexico"},{id:"102",name:"Moldova, Republic of"},{id:"103",name:"Monaco"},{id:"104",name:"Mongolia"},{id:"290",name:"Montenegro"},{id:"294",name:"Montserrat"},{id:"105",name:"Morocco"},{id:"106",name:"Mozambique"},{id:"242",name:"Myanmar"},{id:"107",name:"Namibia"},{id:"108",name:"Nepal"},{id:"109",name:"Netherlands"},
{id:"110",name:"Netherlands Antilles"},{id:"213",name:"New Caledonia"},{id:"111",name:"New Zealand"},{id:"112",name:"Nicaragua"},{id:"113",name:"Niger"},{id:"114",name:"Nigeria"},{id:"217",name:"Niue"},{id:"214",name:"Norfolk Island"},{id:"272",name:"North Korea"},{id:"116",name:"Norway"},{id:"117",name:"Oman"},{id:"118",name:"Pakistan"},{id:"222",name:"Palau"},{id:"282",name:"Palestine"},{id:"119",name:"Panama"},{id:"219",name:"Papua New Guinea"},{id:"120",name:"Paraguay"},{id:"121",name:"Peru"},
{id:"122",name:"Philippines"},{id:"221",name:"Pitcairn"},{id:"123",name:"Poland"},{id:"124",name:"Portugal"},{id:"126",name:"Qatar"},{id:"315",name:"Republic of Kosovo"},{id:"127",name:"Reunion"},{id:"128",name:"Romania"},{id:"129",name:"Russia"},{id:"130",name:"Rwanda"},{id:"205",name:"Saint Kitts and Nevis"},{id:"206",name:"Saint Lucia"},{id:"237",name:"Saint Vincent and the Grenadines"},{id:"132",name:"Samoa (Independent)"},{id:"227",name:"San Marino"},{id:"133",name:"Saudi Arabia"},{id:"134",
name:"Senegal"},{id:"266",name:"Serbia"},{id:"135",name:"Seychelles"},{id:"136",name:"Sierra Leone"},{id:"137",name:"Singapore"},{id:"302",name:"Sint Maarten"},{id:"138",name:"Slovakia"},{id:"139",name:"Slovenia"},{id:"223",name:"Solomon Islands"},{id:"140",name:"Somalia"},{id:"141",name:"South Africa"},{id:"257",name:"South Georgia and the South Sandwich Islands"},{id:"142",name:"South Korea"},{id:"311",name:"South Sudan"},{id:"143",name:"Spain"},{id:"144",name:"Sri Lanka"},{id:"293",name:"Sudan"},
{id:"146",name:"Suriname"},{id:"225",name:"Svalbard and Jan Mayen Islands"},{id:"147",name:"Swaziland"},{id:"148",name:"Sweden"},{id:"149",name:"Switzerland"},{id:"285",name:"Syria"},{id:"152",name:"Taiwan"},{id:"260",name:"Tajikistan"},{id:"153",name:"Tanzania"},{id:"154",name:"Thailand"},{id:"155",name:"Togo"},{id:"232",name:"Tonga"},{id:"234",name:"Trinidad and Tobago"},{id:"156",name:"Tunisia"},{id:"157",name:"Turkey"},{id:"287",name:"Turks \x26amp; Caicos Islands"},{id:"159",name:"Uganda"},{id:"161",
name:"Ukraine"},{id:"162",name:"United Arab Emirates"},{id:"262",name:"United Kingdom"},{id:"163",name:"Uruguay"},{id:"165",name:"Uzbekistan"},{id:"239",name:"Vanuatu"},{id:"166",name:"Vatican City State (Holy See)"},{id:"167",name:"Venezuela"},{id:"168",name:"Vietnam"},{id:"169",name:"Virgin Islands (British)"},{id:"238",name:"Virgin Islands (U.S.)"},{id:"188",name:"Western Sahara"},{id:"170",name:"Yemen"},{id:"173",name:"Zambia"},{id:"174",name:"Zimbabwe"}],l.hitch(this,function(a){n.place('\x3coption value\x3d"'+
a.id+'"\x3e'+a.name+"\x3c/option\x3e",this.countrySelectNode,"last")}));this.inherited(arguments)}}),W=h([g],{templateString:u,validateAsType:"email"}),X=h([g],{templateString:y,validateAsType:"birthday",validateAsGroup:!0,postCreate:function(){this.inherited(arguments);"DD/MM"==this.dateformat&&(n.place(this.dayNode,this.inputsContainer,"first"),n.place(this.monthNode,this.inputsContainer,"last"))}}),K=h([g],{templateString:x,validateAsType:"date",validateAsGroup:!0,postCreate:function(){this.inherited(arguments);
"MM/DD/YYYY"==this.dateformat&&(n.place(this.monthNode,this.inputsContainer,"first"),n.place(this.yearNode,this.inputsContainer,"last"))}}),Q=h([g],{templateString:A,validateAsType:"phone",validateAsGroup:!0}),V=h([g],{templateString:D,validateAsType:"url"}),ea=h([g],{templateString:E,validateAsType:"radiocheckbox",postCreate:function(){b.forEach(this.choices,l.hitch(this,function(a,b){var c=this.merge_id?this.name+"-"+b:this.name+"-"+this.group_id+"-"+b,c="mc-"+c,d='\x3cli\x3e\x3cinput id \x3d"'+
c+'" type\x3d"'+this.type+'" value\x3d"'+a.value+'" name\x3d"'+this.name;"checkbox"==this.type&&(d+="["+a.value+"]");d+='" /\x3e\x3clabel for\x3d"'+c+'"\x3e'+a.label+"\x3c/label\x3e\x3c/li\x3e";n.place(d,this.choicesContainer,"last")}));this.inherited(arguments)}}),L=h([g],{templateString:G,validateAsType:"select",postCreate:function(){var a=[];b.forEach(this.choices,l.hitch(this,function(b){var c=n.toDom('\x3coption value\x3d"'+b.value+'"\x3e'+b.label+"\x3c/option\x3e");this._empty(b.label)&&a.push(c);
n.place(c,this.choicesContainer,"last")}));0<a.length?t.set(a[0],"selected","selected"):n.place('\x3coption value\x3d"" selected\x3d"selected"\x3e\x3c/option\x3e',this.choicesContainer,"first");this.inherited(arguments)}});return h("SignupForm",[k,d,r],{templateString:s,subscribeUrl:"#",honeypotFieldName:"",fields:[],buttonLabel:"Subscribe",description:"",footer:"",config:{},constructor:function(){this.formIsValid=!1;this.fieldNodes=[]},postMixInProperties:function(){this.fields=this.config.fields;
this.footer=this.config.footer;this.description=this.config.description;this.config.buttonLabel&&(this.buttonLabel=this.config.buttonLabel)},postCreate:function(){this.addFields();this.addHoneypot();q.set(this.footerContainer,this.footer);q.set(this.descriptionContainer,this.description);var b=this;f(this.formNode,"submit",function(c){c.stopPropagation();c.preventDefault();b._validateForm();b.formIsValid?e.get(b._getJsonPostUrl(),{jsonp:"c",query:a.toQuery(b.formNode)}).then(function(a){"error"==
a.result?b._handleErrorResponse(a):b._handleSuccessResponse(a);b.emit("resizeFrame",{})}):b.emit("resizeFrame",{})})},addFields:function(){this.fieldNodes.length&&(b.forEach(this.fieldNodes,function(a){a.destroy()}),this.fieldNodes=[],n.empty(this.formFieldsContainer));b.forEach(this.fields,l.hitch(this,function(a){a=this._createField(a);a.placeAt(this.formFieldsContainer);a.startup()}))},addHoneypot:function(){var a=n.toDom('\x3cdiv style\x3d"position:absolute;left:-5000px;"\x3e\x3cinput type\x3d"text" name\x3d"'+
this.honeypotFieldName+'" tabindex\x3d"-1" value\x3d""\x3e\x3c/div\x3e');n.place(a,this.formFieldsContainer,"last")},_validateForm:function(){var a=[];b.forEach(this.fieldNodes,function(b){b=b.validateField();0<b.length&&a.push(b)});this.formIsValid=!(0<a.length)},_createField:function(a){switch(a.type){case "email":a=new W(a);break;case "address":a=new S(a);break;case "birthday":a=new X(a);break;case "date":a=new K(a);break;case "phone":a="US"==a.phoneformat?new Q(a):new M(a);break;case "number":a=
new J(a);break;case "select":case "dropdown":a=new L(a);break;case "radio":case "checkbox":a=new ea(a);break;case "url":case "image":a=new V(a);break;default:a=new M(a)}this.fieldNodes.push(a);return a},_handleSuccessResponse:function(a){var d=c(".flash-success",this.formResponseMessages)[0];d||(d=n.place('\x3cdiv class\x3d"flash-success"\x3e\x3c/div\x3e',this.formResponseMessages));q.set(d,a.msg);(a=c(".flash-errors",this.formResponseMessages)[0])&&p.set(a,"display","none");this.formNode.reset();
b.forEach(this.fieldNodes,function(a){a.resetField()});p.set(this.formContentContainer,"display","none");p.set(this.formImageContainer,"display","none")},_handleErrorResponse:function(a){var d=c(".flash-success",this.formResponseMessages)[0];d&&p.set(d,"display","none");a.msg&&((d=c(".flash-errors",this.formResponseMessages)[0])||(d=n.place('\x3cdiv class\x3d"flash-errors"\x3e\x3c/div\x3e',this.formResponseMessages)),q.set(d,a.msg),"absolute"===p.getComputedStyle(this.formImageContainer).position&&
p.set(this.formImageContainer,{top:m.getMarginBox(d).h+"px"}));a.errors&&b.forEach(this.fieldNodes,function(b){a.errors.hasOwnProperty(b.merge_id)?b.setFieldAsInvalid(a.errors[b.merge_id]):b.setFieldAsValid()})},_getJsonPostUrl:function(){var a=this.subscribeUrl;return a=a.replace("/form-post?u\x3d","/form-post-json?u\x3d")},toHTML:function(){return this.domNode.outerHTML}})})},"mojo/widgets/_CustomStyleRulesMixin":function(){define(["dojo/_base/declare","dojo/sniff"],function(h,k){return h([],{createStyleNode:function(d){var g=
document.createElement("style");g.type="text/css";d.getElementsByTagName("head")[0].appendChild(g);return g},getStyleSheet:function(d){9>k("ie")?d=d.styleSheet:(d.appendChild(document.createTextNode("")),d=d.sheet);this.addCSSRule(d,"body","width:100%;height:100%;",0);return d},addCSSRule:function(d,g,b,c){c="undefined"!==typeof c?c:"cssRules"in d?d.cssRules.length:d.rules.length;"insertRule"in d?d.insertRule(g+"{"+b+"}",c):"addRule"in d&&d.addRule(g,b,c)}})})},"mojo/signup-forms/PopupSignupForm":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dojo/text!./templates/modal.html ./SignupFormFrame ./BannerFrame dojo/query dojo/_base/lang dojo/on dojo/dom-construct dojo/dom-style dojo/sniff dojo/keys dojo/promise/all dojo/Deferred mojo/widgets/_CustomStyleRulesMixin dojo/NodeList-manipulate".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r){return h("PopupSignupForm",[k,d,r],{templateString:g,popupDelay:1E3,popupOpacity:0.1,closeLabel:"close",origOverflowValue:null,version:"1.0",config:{},subscribeUrl:"#",honeypotFieldName:"",customCssNode:null,postMixInProperties:function(){this.config.popupOpacity&&(this.popupOpacity=this.config.popupOpacity/100);this.config.popupDelay&&(this.popupDelay=1E3*this.config.popupDelay);this.config.styles&&(this.styles=this.config.styles);this.config.closeLabel&&
(this.closeLabel=this.config.closeLabel);this.config.version&&(this.version=this.config.version)},postCreate:function(){this.inherited(arguments)},startup:function(){this.inherited(arguments);m.set(this.bannerContainer,"display","none");m.set(this.modalOverlay,"display","none");m.set(this.modalContainer,"display","none");this.bannerFrame=new c({iframe:this.iframeBannerContainer,config:this.config});this.bannerFrame.startup();this.modalFrame=new b({iframe:this.iframeModalContainer,config:this.config,
subscribeUrl:this.subscribeUrl,honeypotFieldName:this.honeypotFieldName});this.modalFrame.startup();this._setupModal();t([this.loadModalCss(),this.loadCustomCss()]).then(l.hitch(this,"openModal"))},openModal:function(){this._hasCookie()||setTimeout(l.hitch(this,"_openModal"),this.popupDelay)},closeModal:function(){this._closeModal()},showModal:function(){m.set(this.bannerContainer,"display","none");m.set(this.modalOverlay,"visibility","visible");m.set(this.modalContainer,"visibility","visible")},
closeBanner:function(){m.set(this.bannerContainer,"display","none");this._closeModal()},_openModal:function(){m.set(this.bannerContainer,"display","block");m.set(this.modalOverlay,"display","block");m.set(this.modalContainer,"display","block");this.modalFrame.updateDocHeight();var a=this;9>n("ie")?(m.set(this.modalOverlay,"opacity",this.popupOpacity),m.set(this.modalContainer,"opacity",1)):require(["velocity/velocity"],function(b){b(a.modalOverlay,{opacity:a.popupOpacity},{duration:200,complete:function(){b(a.modalContainer,
{opacity:1},200)}})})},_closeModal:function(){-1===window.location.href.indexOf("mailchimp.com")&&this._setCookie();var a=this;9>n("ie")?(m.set(this.modalContainer,"display","none"),m.set(this.modalContainer,"opacity",0),a._hideOverlay()):require(["velocity/velocity"],function(b){b(a.modalContainer,{opacity:0},{duration:350,complete:function(){m.set(a.modalContainer,"display","none");a._hideOverlay()}})})},_hideOverlay:function(){var a=this;9>n("ie")?(m.set(this.modalOverlay,"opacity",0),m.set(this.modalOverlay,
"display","none"),this._cleanup()):require(["velocity/velocity"],function(b){b(a.modalOverlay,{opacity:0},{duration:200,complete:function(){m.set(a.modalOverlay,"display","none");a._cleanup()}})})},_cleanup:function(){a.destroy(this.domNode);m.set(document.body,"overflow",this.origOverflowValue)},_setupModal:function(){this.origOverflowValue=dojo.getComputedStyle(document.body).overflow;m.set(document.body,"overflow","auto");var a=this.bannerFrame.bannerContent;e(a.modalOpen,"click",l.hitch(this,
"closeBanner"));e(a.bannerClose,"click",l.hitch(this,"showModal"));e(f("[data-action\x3d'close-mc-modal']")[0],"click",l.hitch(this,"closeModal"));e(window.document,"keyup",l.hitch(this,function(a){a.keyCode==p.ESCAPE&&this.closeModal()}));e(this.modalFrame.frameDoc,"keyup",l.hitch(this,function(a){a.keyCode==p.ESCAPE&&this.closeModal()}))},loadModalCss:function(){var a=new q,b=document.createElement("link");b.rel="stylesheet";b.type="text/css";b.href="//s3.amazonaws.com/downloads.mailchimp.com/css/signup-forms/popup/"+
this.version+"/modal.css";b.media="all";e(b,"load",function(){a.resolve()});document.getElementsByTagName("head")[0].appendChild(b);return a.promise},loadCustomCss:function(){this.customCssNode&&a.destroy(this.customCssNode);var b=new q;this.customCssNode=this.createStyleNode(document);var c=this.getStyleSheet(this.customCssNode);if(this.styles)for(var d in this.styles)if(this.styles.hasOwnProperty(d))switch(d){case "modal":for(var e in this.styles[d])switch(e){case "close_link_color":this.addCSSRule(c,
".mc-closeModal","color:"+this.styles[d][e]+";");break;case "max_width":this.addCSSRule(c,".mc-modal","width:"+this.styles[d][e]+"px;"),this.addCSSRule(c,"@media only screen and (max-width:"+this.styles[d][e]+"px)",".mc-modal { top:45px; width: 80%; }")}}b.resolve();return b.promise},_setCookie:function(){var a=new Date((new Date).getTime()+31536E6);document.cookie="MCEvilPopupClosed\x3dyes;expires\x3d"+a.toGMTString()+";path\x3d/"},_hasCookie:function(){var a=document.cookie.split(";");for(i=0;i<
a.length;i++)if(parts=a[i].split("\x3d"),-1!=parts[0].indexOf("MCEvilPopupClosed"))return!0;return!1}})})},"mojo/signup-forms/BannerFrame":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dojo/query dojo/_base/lang dojo/window dojo/on dojo/dom dojo/dom-geometry dojo/dom-construct dojo/dom-style dojo/dom-attr dojo/html dojo/promise/all dojo/Deferred dojo/sniff dojo/text!./templates/banner.html mojo/widgets/_CustomStyleRulesMixin dojo/NodeList-manipulate".split(" "),function(h,
k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s,v){var w=h([k,d],{templateString:s,config:{},description:"",subscribeLabel:"Subscribe",closeLabel:"Close",postMixInProperties:function(){this.config.closeLabel&&(this.closeLabel=this.config.closeLabel);this.config.description&&(this.description=this.config.description);this.config.buttonLabel&&(this.subscribeLabel=this.config.buttonLabel)},postCreate:function(){this.inherited(arguments);var a=this.description.replace(/<\/?[^>]+(>|$)/gi,"");p.set(this.bannerDescription,
this._cleanText(a))},_cleanText:function(a){a=a.replace(/<\/?[^>]+(>|$)/gi,"");a=a.replace(/&nbsp;/gi," ");return 140<a.length?a.substring(0,140)+"...":a}});return h([k,v],{version:"1.0",iframe:null,frameDoc:null,config:{},customCssNode:null,constructor:function(a){if(!a.iframe||!a.iframe.tagName||"iframe"!=a.iframe.tagName.toLowerCase())throw Error("You must specify an iframe attribute to an iframe element");},postMixInProperties:function(){this.config.version&&(this.version=this.config.version);
this.config.styles&&(this.styles=this.config.styles);this.frameDoc=this.iframe.contentWindow.document},postCreate:function(){this.bannerContent=new w({config:this.config});this.frameDoc.write('\x3c!DOCTYPE html\x3e\x3chtml\x3e\x3chead\x3e\x3cmeta name\x3d"viewport" content\x3d"width\x3ddevice-width, initial-scale\x3d1, maximum-scale\x3d1, user-scalable\x3dno"/\x3e\x3c/head\x3e\x3cbody\x3e\x3c/body\x3e\x3c/html\x3e');this.frameDoc.close();this.bannerContent.placeAt(this.frameDoc.body);t([this.loadCommonCss(),
this.loadBannerCss(),this.loadCustomCss()]).then(b.hitch(this,function(){this.defer(this.updateDocHeight,500)}));f(window,"resize",b.hitch(this,function(){this.updateDocHeight()}))},startup:function(){this.inherited(arguments)},docHeight:function(){return e.getContentBox(this.bannerContent.bannerContainer).h},updateDocHeight:function(){try{m.set(this.iframe,"height",this.docHeight()+"px")}catch(a){}},loadCommonCss:function(){var a=new q,b=this.frameDoc.createElement("link");b.rel="stylesheet";b.type=
"text/css";b.href="//s3.amazonaws.com/downloads.mailchimp.com/css/signup-forms/popup/"+this.version+"/common.css";b.media="all";f(b,"load",function(){a.resolve()});this.frameDoc.getElementsByTagName("head")[0].appendChild(b);return a.promise},loadBannerCss:function(){var a=new q,b=document.createElement("link");b.rel="stylesheet";b.type="text/css";b.href="//s3.amazonaws.com/downloads.mailchimp.com/css/signup-forms/popup/"+this.version+"/banner.css";b.media="all";f(b,"load",function(){a.resolve()});
this.frameDoc.getElementsByTagName("head")[0].appendChild(b);return a.promise},loadCustomCss:function(){this.customCssNode&&a.destroy(this.customCssNode);var b=new q;this.customCssNode=this.createStyleNode(this.frameDoc);var c=this.getStyleSheet(this.customCssNode);if(this.styles)for(var d in this.styles)if(this.styles.hasOwnProperty(d))switch(d){case "button":for(var e in this.styles[d])switch(e){case "color":this.addCSSRule(c,".bannerContent__subscribeButton","background-color:"+this.styles[d][e]+
";");this.addCSSRule(c,".bannerContent__closeButton","color:"+this.styles[d][e]+";");break;case "hover_color":this.addCSSRule(c,".bannerContent__subscribeButton:hover","background-color:"+this.styles[d][e]+";");break;case "text_color":this.addCSSRule(c,".bannerContent__subscribeButton","color:"+this.styles[d][e]+";");break;case "style":"full"==this.styles[d][e]&&this.addCSSRule(c,".button","width:100%;")}}b.resolve();return b.promise}})})},"mojo/views/lists/segments/new":function(){define("dojo/_base/declare mojo/views/_base dojo/on dojo/dom dojo/dom-class codemirror4/lib/codemirror codemirror4/mode/htmlmixed/htmlmixed codemirror4/addon/display/placeholder".split(" "),
function(h,k,d,g,b,c){return h([k],{onReady:function(){var b=this;d(this.$widget.uploadSegment,"change",function(){b._toggleSegmentOptions()});this.editor=c.fromTextArea(this.$el.pasteArea,{mode:"text",tabMode:"indent",indentUnit:2,smartIndent:!1,theme:"default",autoClearEmptyLines:!0,lineWrapping:!1,lineNumbers:!0});this._toggleSegmentOptions()},_toggleSegmentOptions:function(){var c=!0===this.$widget.uploadSegment.checked;b.toggle(this.$el.uploadSegmentContainer,"hide",!c);b.toggle(this.$el.pasteSegmentContainer,
"hide",c);c||(this.editor.refresh(),this.editor.focus())}})})},"mojo/views/lists/members/index":function(){define("dojo/_base/declare mojo/views/_base dojo/_base/lang dojo/dom dojo/on dojo/query dojo/parser dojo/aspect dojo/dom-attr dojo/dom-class dojo/dom-style dojo/dom-construct dojo/_base/array dojo/dnd/Source dijit/registry dijit/Dialog mojo/analytics/SubscriberTable mojo/app/lists/SegmentBar mojo/app/lists/SegmentListOverlay mojo/url mojo/utils mojo/Pusher mojo/user mojo/app/lists/members mojo/app/campaigns/recipients mojo/app/lists/segments mojo/app/lists/twitter mojo/segmentation/Segment mojo/segmentation/api mojo/app/pro/segment mojo/maps dojox/html/entities".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s,v,w,u,y,x,A,C,D,E,G,H,M,J,S,W){return h([k],{listId:null,totalMemberCount:0,emailStatus:"Y",shouldSegment:!1,selectedSegment:null,segments:null,userLat:null,userLng:null,userAddr:null,subscriberTable:null,segmentChannel:null,openSegmentOnLoad:!1,onReady:function(){"custom"==this.selectedSegment&&(this.selectedSegment=this.getCustomSegment());this._setupMemberTable();this._initSegmentBar();this._handleTwitterExport();this._toggleOverlays();A.pro&&M.getConfig(this.listId,
"full");this.openSegmentOnLoad&&this.toggleSegment(!0)},getCustomSegment:function(){return{status:"started"}},_setupMemberTable:function(){var f=u.toUrl("/lists/segments/members",{list_id:this.listId});this.subscriberTable=new s({dataUrl:f,emailStatus:this.emailStatus,options:{wait:!0},segment:this.shouldSegment?this.selectedSegment:null},g.byId("member-grid"));this.subscriberTable.set("page",1);this.subscriberTable.requery();this.subscriberTable.watch("emailStatus",d.hitch(this,function(){this._toggleEmailStatusActions();
this._updateExportLinks()}));this.subscriberTable.watch("segment",d.hitch(this,function(a,b,c){c&&(c.hasOwnProperty("type")&&"saved"!=c.type)&&this.toggleSegment(!1);this._updateExportLinks();this._toggleOverlays()}));this._updateExportLinks();b(g.byId("toggle-column-target"),"click",function(b){b.preventDefault();a.toggle(c(".column-toggle")[0],"column-toggle--active");a.contains(c(".column-toggle")[0],"column-toggle--active")?e.set(c(".column-toggle")[0],"aria-hidden","true"):(e.set(c(".column-toggle")[0],
"aria-hidden","false"),c(".column-toggle")[0].focus())});l.after(new t("merge-columns",{withHandles:!0}),"onDndDrop",d.hitch(this,"_setOrder"));b(this.$el.deleteSelectedBtn,"click",d.hitch(this,function(){C.confirmBulkAction("delete",this.listId)}));p.forEach(q.toArray(),function(a){("dijit.MenuItem"==a.declaredClass||"dijit/MenuItem"==a.declaredClass)&&b(a,"click",function(){var a=e.get(this.domNode,"data-mojo-bulk-action");if(a){var b=e.get(this.domNode,"data-mojo-bulk-action-value");b?C.confirmBulkAction(a,
b):C.confirmBulkAction(a)}})});this._handleSegmentActions();this._handleAdvancedSegmentActions();this._handleSegmentPushUpdates()},_handleSegmentActions:function(){var a=this;b(this.$el.previewSegmentBtn,"click",d.hitch(this,function(a){a.stopPropagation();a.preventDefault();E.storeSegment(this.listId,D.getSegmentData(this.listId));this.runSegment()}));b(this.$el.saveSegmentBtn,"click",d.hitch(this,function(b){b.stopPropagation();b.preventDefault();E.storeSegment(this.listId,D.getSegmentData(this.listId));
if(a.subscriberTable.segment&&a.subscriberTable.segment.id){b=c("#editor-segment-name");var d=""!=b?b.val():this.subscriberTable.segment.name,e=c("#segment-form-"+this.listId);d?E.updateSavedSegment(this.listId,a.subscriberTable.segment.id,d).then(function(b){b.errors?y.showFormErrors(e,b.errors):(y.toast('Segment "'+b.name+'" saved'),a.subscriberTable.setSegment(b),a.segmentList.updateSegment(b),a.runSegment())},function(){y.toast("We've run into some trouble saving your segment. Try again.","error")}):
b&&y.addError(b[0],"Please enter a name")}}));b(this.$el.cancelSegmentBtn,"click",d.hitch(this,function(a){a.stopPropagation();a.preventDefault();this.cancelSegment();this._toggleSegmentAd(!1)}))},_toggleSegmentAd:function(a){var b=q.byId("segmentation-ad-"+this.listId);b&&(a?b.show():b.hide())},_handleAdvancedSegmentActions:function(){this.$el.cancelAdvancedSegmentBtn&&b(this.$el.cancelAdvancedSegmentBtn,"click",d.hitch(this,function(a){a.stopPropagation();a.preventDefault();this.closeAdvancedSegment()}));
this.$el.runAdvancedSegmentBtn&&b(this.$el.runAdvancedSegmentBtn,"click",d.hitch(this,function(a){a.stopPropagation();a.preventDefault();this.runAdvancedSegment()}))},_handleTwitterExport:function(){var a=g.byId("export-to-twitter");a&&b(a,"click",d.hitch(this,function(a){a="N";var b=this.listId,c="Y";this.subscriberTable.segment?a="Y":c=this.subscriberTable.emailStatus;G.showCreateDialog(b,a,c)}))},_handleSegmentPushUpdates:function(){if(this.segmentChannel){var a=this;x.load().then(function(b){b.subscribe(a.segmentChannel).bind("update",
function(b){b.list_id==a.listId&&a._onUpdatedSegmentData(b)})})}},_onUpdatedSegmentData:function(a){var b=this.subscriberTable.segment,b=b&&b.id==a.id;"finished"==a.status&&(b&&this.selectSegment(a),(b=this.segmentList.findSegment(a.id,a.type))?b&&"finished"!=b.status&&y.toast(W.encode(a.name)+" finished generating."):y.toast("\x26ldquo;"+W.encode(a.name)+"\x26rdquo; segment successfully added"));this.segmentList.updateSegment(a)},runSegment:function(){if(this.subscriberTable.segment){var a=this.subscriberTable.segment;
a.edited||(a.edited=!0,this.subscriberTable.setSegment(a))}else this.subscriberTable.setSegment(this.getCustomSegment());this.subscriberTable.requery();this.toggleSegment(!1)},toggleSegment:function(b){if("boolean"!=typeof b||!0===b&&!a.contains("member-grid-wrap","disabled")||!1===b&&"none"!=m.get("member-segment-editor","display"))this.subscriberTable&&(m.set(this.$el.saveSegmentBtn,"display",this.subscriberTable.segment&&this.subscriberTable.segment.id?"":"none"),m.set(this.$el.previewSegmentBtn,
"display",this.subscriberTable.segment&&this.subscriberTable.segment.id?"none":"")),y.disclosureElement("member-segment-editor",this,!1,d.hitch(this,"_switchSegmentNav"))},newSegment:function(){E.getEditor(this.listId,{clear:!0}).then(d.hitch(this,function(a){D.reloadSegmentCallbacks("segmentpane-"+this.listId);this.subscriberTable.clearSegment();this._updateSegmentHTML(a);this.toggleSegment(!0)}))},editSegment:function(){var a=this.subscriberTable.segment;if("advanced"==a.type)this.editAdvancedSegment(a);
else{var b=c("#segment-form-"+this.listId).attr("data-segment-id")[0];b&&b==a.id||!a.id&&!b?this.toggleSegment(!0):E.getEditor(this.listId,{segment_id:a.id}).then(d.hitch(this,function(a){this._updateSegmentHTML(a);this.toggleSegment(!0)}))}},saveNewSegment:function(){var a=this.subscriberTable.segment;a&&!a.hasOwnProperty("id")&&E.confirmSave(this.listId).then(d.hitch(this,function(a){this._onUpdatedSegmentData(a);"finished"==a.status?this.selectSegment(a):this.subscriberTable.setSegment(a)}))},
createNewDSS:function(){E.showDiscoverSimilarDialog(this.listId).then(d.hitch(this,function(a){this._onUpdatedSegmentData(a);"finished"==a.status?this.selectSegment(a):this.subscriberTable.setSegment(a)}))},selectSegment:function(a){"advanced"==a.type?J.setListSegment(this.listId,a.id).then(d.hitch(this,function(){this.subscriberTable.showSubscribers();this.subscriberTable.setSegment(a);this.subscriberTable.set("page",1);this.subscriberTable.requery()})):E.getEditor(this.listId,{segment_id:a.id,store:!0}).then(d.hitch(this,
function(b){this._updateSegmentHTML(b);this.subscriberTable.setSegment(a);this.subscriberTable.set("page",1);this.subscriberTable.requery()}))},cancelSegment:function(){this.toggleSegment(!1);this.subscriberTable.resize();var a=this.listId;this.subscriberTable.segment&&this.subscriberTable.segment.id&&E.getEditor(a,{segment_id:this.subscriberTable.segment.id}).then(function(a){this._updateSegmentHTML(a)})},openAdvancedSegment:function(b){this.segmentEditor&&this.segmentEditor.destroy();this.segmentEditor=
new H({listId:this.listId,configType:"full",savedAST:b});n.place(this.segmentEditor.domNode,this.$el.advancedSegmentEditorContainer,"only");a.remove(this.$el.advancedSegmentContainer,"hide");this.segmentBar.editSegmentMode();this._toggleOverlays();this.segmentEditor.on("conditionCountChange",d.hitch(this,function(){this.toggleSaveAdvancedSegment(this.segmentEditor.getConditionCount())}));this.toggleSaveAdvancedSegment(this.segmentEditor.getConditionCount())},toggleSaveAdvancedSegment:function(a){var b=
this.$el.runAdvancedSegmentBtn;a?b.removeAttribute("disabled"):b.setAttribute("disabled","disabled")},closeAdvancedSegment:function(){this.segmentEditor&&(this.segmentEditor.destroy(),this.segmentEditor=null,this.$el.advancedNameInput.value="",a.add(this.$el.advancedSegmentContainer,"hide"),this.segmentBar.viewSegmentMode(),this._toggleOverlays())},editAdvancedSegment:function(a){J.getSegment(this.listId,a.id).then(d.hitch(this,function(a){this.$el.advancedNameInput.value=a.name;this.openAdvancedSegment(a.ast);
this.segmentEditor.segmentId=a.id}))},runAdvancedSegment:function(){var a=this.segmentEditor.getAST(),b=this.$el.advancedNameInput.value,c=this.segmentEditor.segmentId;if(!this._runningAdvanced){this._runningAdvanced=!0;var e=d.hitch(this,function(a){this.closeAdvancedSegment();this.subscriberTable.setSegment(a);this.segmentList.updateSegment(a);this._runningAdvanced=!1}),f=d.hitch(this,function(){this._runningAdvanced=!1});J.runListSegment(this.listId,c,b,a).then(e,f)}},rerunAdvancedSegment:function(){var a=
this.subscriberTable.segment;"advanced"==a.type&&J.reRunSegment(this.listId,a.id).then(d.hitch(this,function(a){this.segmentList.updateSegment(a);this.subscriberTable.setSegment(a)}))},confirmDeleteSegment:function(a){var b=q.byId("confirm-delete-segment");b.set("segment",a);b.show()},deleteSegment:function(){var a=q.byId("confirm-delete-segment").segment,b=d.hitch(this,function(){var b=this.subscriberTable.segment;b&&b.id==a.id&&this.subscriberTable.clearSegment();this.segmentList.removeSegment(a);
y.toast(W.encode(a.name)+" successfully deleted")});"advanced"==a.type?J.deleteSegment(this.listId,a.id).then(b):E.deleteSegment(this.listId,a.id).then(b)},toggleSegmentPane:function(b){var c=this.$el.savedSegmentContainer,d=this.$el.advancedSegmentContainer;switch(b){case "saved":m.set(c,"display","block");a.add(d,"hide");this.cancelSegment();_mc.newSegment();break;case "advanced":m.set(c,"display","none"),a.remove(d,"hide"),this.closeAdvancedSegment(),_mc.openAdvancedSegment()}},_toggleOverlays:function(){if("none"==
m.get(this.segmentList.domNode,"display")&&!this._isEditorVisible()){var b=this.subscriberTable.segment;a.toggle(this.$el.failedSegmentContainer,"hide",!(b&&"errored"==b.status))}else a.add(this.$el.failedSegmentContainer,"hide");b=c(this.$el.tableOverlay).children().filter(function(a){return"none"!=m.get(a,"display")});a.toggle(this.subscriberTable.domNode,"hide",0<b.length);a.toggle(this.$el.tableOverlay,"hide",!b.length)},_isEditorVisible:function(){var a=this.$el.advancedSegmentContainer,a=a&&
"none"!=m.get(a,"display"),b="none"!=m.get("member-segment-editor","display");return a||b},_switchSegmentNav:function(a){switch(a){case "open":this.segmentBar.editSegmentMode();c("#segment-message-container, .member-segment-nav, .bulk-actions .select-all-block, .bulk-actions .small-meta, .reorder").style("display","none");D.reloadSegmentCallbacks("segmentpane-"+this.listId);c(".st-headers").addClass("invisible");c("#member-segment-editor select")[0].focus();this._toggleOverlays();break;case "close":this.segmentBar.viewSegmentMode(),
c("#segment-message-container, .member-segment-nav, .bulk-actions .select-all-block, .bulk-actions .small-meta, .reorder").style("display",""),c(".st-headers").removeClass("invisible"),this._toggleOverlays()}},_setupMaps:function(){S.def_lat=this.userLat;S.def_lng=this.userLng;S.def_addr=this.userAddr},_initSegmentBar:function(){this.segmentList=new w({segments:this.segments,target:"member-grid",listId:this.listId},this.$el.segmentListOverlay);this.segmentList.startup();this.segmentList.on("overlayShow",
d.hitch(this,function(){this._toggleOverlays()}));this.segmentList.on("overlayHide",d.hitch(this,function(){this._toggleOverlays()}));this.segmentBar=new v({target:"member-grid",segmentList:this.segmentList,listId:this.listId},this.$el.segmentBar);this.segmentBar.startup()},_setOrder:function(){for(var a=c('#merge-columns input[type\x3d"checkbox"]'),b=[],d=0;d<a.length;d++){var e=a[d].id.replace("columncheck-","");b.push(e)}g.byId("sort-order").value=b.join(":")},_toggleEmailStatusActions:function(){if(this.subscriberTable)switch(this.subscriberTable.emailStatus){case s.EMAIL_STATUS.UNSUB:a.add(this.$el.bulkActionSelect,
"hide");a.add(this.$el.deleteSelectedBtn,"hide");break;default:a.remove(this.$el.bulkActionSelect,"hide"),a.remove(this.$el.deleteSelectedBtn,"hide")}},_updateExportLinks:function(){if(this.subscriberTable){var b=this.subscriberTable.emailStatus,c=u.toUrl("/lists/members/export-segment",{id:this.listId,active:b}),d=g.byId("export-to-twitter");d&&a.toggle(d,"hide","Y"!==b);if(this.$group.exportLink&&this.$group.exportLink.length){d="";if(this.subscriberTable.segment)d=c;else switch(b){case s.EMAIL_STATUS.ACTIVE:d=
u.toUrl("/lists/members/export",{id:this.listId});break;case s.EMAIL_STATUS.BOUNCED:d=u.toUrl("/lists/members/export-bounced",{id:this.listId});break;case s.EMAIL_STATUS.UNSUB:d=u.toUrl("/lists/members/export-unsubscribed",{id:this.listId});break;case s.EMAIL_STATUS.TRANSACTIONAL:d=u.toUrl("/lists/members/export-transactional",{id:this.listId});break;default:throw Error("No export link was found.");}b=this.subscriberTable.segment?"Export Segment":"Export List";this.$el.exportCsv&&e.set(this.$el.exportCsv,
"href",d);this.$group.exportLink.attr("href",d).html(b)}}},_updateSegmentHTML:function(a){var b=c("#segment-form-"+this.listId);q.findWidgets(b[0]).forEach(function(a){a.destroy()});b.replaceWith(a);a=c("#segment-form-"+this.listId)[0];f.parse(a)}})})},"mojo/maps":function(){define(["dojo/dom","dijit/registry"],function(h,k){var d={marker:null,map:null,def_lat:null,def_lang:null,loaded:null,loadCode:function(){d.loaded||(google.load("maps","3",{other_params:"client\x3dgme-mailchimp\x26sensor\x3dfalse",
callback:function(){}}),d.loaded=!0)},initMap:function(g,b,c){null!=b&&(b=new google.maps.LatLng(d.def_lat,d.def_lng),d.addressSearch(g,b,!1))},addressSearch:function(g,b,c){d.map=new google.maps.Map(document.getElementById(g+"-map"),{mapTypeId:google.maps.MapTypeId.ROADMAP,disableDefaultUI:!1,panControl:!1,zoomControl:!1,mapTypeControl:!1,scaleControl:!1,streetViewControl:!1,overviewMapControl:!1});var f=new google.maps.Geocoder;b=null==b?{address:h.byId(g+"-address").value}:{latLng:b};var l;f.geocode(b,
function(b,a){a!=google.maps.GeocoderStatus.OK?alert("Unable to locate the location entered. Please try again."):(h.byId(g+"-address").value=b[0].formatted_address,l=b[0].geometry.location,!1!=c&&(k.byId(g+"-mapdialog").show(),d.map.fitBounds(b[0].geometry.viewport),google.maps.event.trigger(d.map,"resize"),d.addMarker(g,l,9)))});return!1},addMarker:function(g,b,c){null!=d.marker&&d.marker.setMap(null);d.marker=new google.maps.Marker({position:b,map:d.map});d.map.setCenter(b);null!=c&&d.map.setZoom(c);
try{c=g+"-lng",h.byId(g+"-lat").value=b.lat(),h.byId(c).value=b.lng()}catch(f){}}};return mojo.maps=d})},"mojo/views/lists/members/prune":function(){define("dojo/_base/declare mojo/views/_base mojo/url dojo/on dojo/dom mojo/app/lists/members mojo/analytics/VisTableListMembers mojo/analytics/VisQuery".split(" "),function(h,k,d,g,b,c,f,l){return h([k],{listId:null,queryLabel:null,querySelect:null,memberTable:null,onReady:function(){var b={select:this.querySelect,select_count:"count(id)",from:"recipients",
label:this.queryLabel},a=d.toUrl("/campaigns/segments/popup-data",{lid:this.listId,id:"prune",iter:!0});this.memberTable=new f({query:new l(a,b)},this.$el.memberGrid);if(this.$el.pruneButton){var h=this;g(this.$el.pruneButton,"click",function(a){a.stopPropagation();a.preventDefault();c.confirmBulkActionWithParameters("prune",h.listId,!1,!0,function(){dojo.style(h.$el.pruneButton,"display","none");window.location=d.toUrl("lists/members/",{id:h.listId})})})}}})})},"mojo/views/lists/members/query":function(){define(["dojo/_base/declare",
"mojo/views/_base","mojo/segmentation/Segment","dojo/on","dojo/_base/lang"],function(h,k,d,g,b){return h([k],{listId:null,onReady:function(){this.segmentEditor=new d({listId:this.listId,savedAST:this._loadFromStorage()},this.$el.segmentDom);g(this.$el.saveBtn,"click",b.hitch(this,"_saveToStorage"));g(this.$el.clearBtn,"click",b.hitch(this,"_clearStorage"))},_clearStorage:function(b){sessionStorage.removeItem(this.listId+"_ast")},_saveToStorage:function(){var b=this.segmentEditor.getAST();sessionStorage.setItem(this.listId+
"_ast",JSON.stringify(b))},_loadFromStorage:function(){var b=null;try{b=sessionStorage.getItem(this.listId+"_ast"),b=JSON.parse(b)}catch(d){}return b}})})},"mojo/views/lists/members/reconfirm-external":function(){define("dojo/_base/declare mojo/views/_base mojo/url dojo/on dojo/dom mojo/app/lists/members mojo/analytics/VisTableListMembers mojo/analytics/VisQuery".split(" "),function(h,k,d,g,b,c,f,l){return h([k],{listId:null,queryLabel:null,querySelect:null,memberTable:null,onReady:function(){var b=
{select:this.querySelect,select_count:"count(id)",from:"recipients",label:this.queryLabel},a=d.toUrl("/campaigns/segments/popup-data",{lid:this.listId,id:"reconfirm-external",iter:!0});this.memberTable=new f({query:new l(a,b)},this.$el.memberGrid);if(this.$el.reconfirmExternalButton){var h=this;g(this.$el.reconfirmExternalButton,"click",function(a){a.stopPropagation();a.preventDefault();c.confirmBulkActionWithParameters("reconfirm-external",h.listId,!1,!0,function(){dojo.style(h.$el.reconfirmExternalButton,
"display","none");window.location=d.toUrl("lists/members/",{id:h.listId})})})}}})})},"mojo/views/lists/members/import/index":function(){define("dojo/_base/declare mojo/views/_base dojo/dom-class dojo/dom-attr dojo/query dojo/on mojo/widgets/KbSearch".split(" "),function(h,k,d,g,b,c,f){return h([k],{onReady:function(){chimport=this.$el.chimport;radioGroup=this.$el.radioGroup;serviceType=this.$el.serviceType;importType=this.$el.importType;importFinishBtn=this.$group.importFinishBtn;integrationType=
"none";c(b("[data-kb-help]"),"click",function(b){b.stopPropagation();b.preventDefault();f.main().show()});"MacIntel"!=navigator.platform&&d.add(chimport,"hide");c(radioGroup,"change",function(b){"other"==b.target.value?(importType.value=integrationType,d.remove(serviceType,"hide"),"none"==integrationType&&importFinishBtn.addClass("disabled")):(importType.value=b.target.value,importFinishBtn.removeClass("disabled"),d.add(serviceType,"hide"))});c(importFinishBtn,"click",function(b){"LastImport"==importType.value?
(ga("send","event","import","replicate",integrationType),ga("send","event","import","started",integrationType)):ga("send","event","import","started",importType.value)});c(b('a[class^\x3d"import-"]'),"click",function(c){integrationType=c.target.name;importType.value=integrationType;b("a.bordered").removeClass("bordered");d.add(c.target,"bordered");importFinishBtn.removeClass("disabled")})}})})},"mojo/views/lists/members/import/match":function(){define("dojo/_base/declare mojo/views/_base dojo/dom-class dojo/dom-attr dojo/query dojo/on mojo/widgets/KbSearch".split(" "),
function(h,k,d,g,b,c,f){return h([k],{onReady:function(){c(b("[data-kb-help]"),"click",function(b){b.stopPropagation();b.preventDefault();f.main().show()})}})})},"mojo/views/lists/members/import/review":function(){define("dojo/_base/declare mojo/views/_base dojo/dom-attr dojo/dom-class dojo/query dojo/on mojo/widgets/KbSearch".split(" "),function(h,k,d,g,b,c,f){return h([k],{onReady:function(){var d=this.$el.subscribeToGroups,e=this.$el.updateExisting,a=this.$el.importType,h=this.$el.ready,k=this.$el.rep,
p=this.$el.rep_url,t=this.$group.interestGroup,q=this.$group.groupInputs,r=this.$group.inputs,s=this.$group.importFinishBtn;c(b("[data-kb-help]"),"click",function(a){a.stopPropagation();a.preventDefault();f.main().show()});0==h.value?s.addClass("disabled"):c(s,"click",function(b){ga("send","event","import","finished",a.value)});"undefined"!==typeof d&&(c(d,"change",function(a){d.checked?t.removeClass("hide"):t.addClass("hide")}),c(q,"change",function(a){a.target.checked?g.remove(r[a.target.value],
"hide"):g.add(r[a.target.value],"hide")}));k.value&&dojo.xhrGet({url:p.value,handleAs:"json",load:function(a){if(a.success){import_as=b("[data-mc-el\x3d'importAs'] input");for(var c=0;c<import_as.length;c++)a.data.import_as==import_as[c].value&&import_as[c].click();if("undefined"!==typeof d&&a.data.interests){d.click();for(var f={},c=dropdownCount=0;c<a.data.interests.length;c++)(sel=dojo.byId("group_"+a.data.interests[c]))?(sel.click(),f[sel.name.match(/\[\d*\]/g)[0]]=!0):b("[data-mc-group\x3d'inputs'] select")[dropdownCount]&&
(sel=b("option[value\x3d"+a.data.interests[c]+"]").parent()[0],sel.value=a.data.interests[c],f[sel.name.match(/\[\d*\]/g)[0]]=!0,dropdownCount++);interests=b("[data-mc-group\x3d'groupInputs']");for(c=0;c<interests.length;c++)interests[c].name.replace("interest_selected","")in f&&interests[c].click()}"Y"==a.data.update_existing&&e.click()}}})}})})},"mojo/views/lists/members/import/setup":function(){define("dojo/_base/declare mojo/views/_base dojo/dom-class dojo/dom-attr dojo/html dojo/query dojo/on mojo/widgets/KbSearch codemirror4/lib/codemirror codemirror4/mode/htmlmixed/htmlmixed codemirror4/addon/display/placeholder".split(" "),
function(h,k,d,g,b,c,f,l,e){return h([k],{importOkay:!0,onReady:function(){var a=this,g=this.$el.upgradeDisclaimer,h=this.$group.importFinishBtn,k=this.$el.testIntegrationBtn,t=this.$el.addAll,q=this.$el.removeAll,r=this.$group.checkFields,s=this.$el.importType,v=this.$el.rep,w=this.$el.rep_url;f(c("[data-kb-help]"),"click",function(a){a.stopPropagation();a.preventDefault();l.main().show()});h.addClass("disabled");"undefined"!==typeof g&&f(g,"click",function(b){a._enable_next()});"undefined"!==typeof this.$el.testIntegrationBtn&&
f(k,"click",function(b){a._test_integration(k.name)});"undefined"!==typeof t&&("undefined"!==typeof q&&"undefined"!==typeof r)&&(f(t,"click",function(a){for(a=r.length-1;0<=a;a--)r[a].checked||r[a].click()}),f(q,"click",function(a){for(a=r.length-1;0<=a;a--)r[a].checked&&r[a].click()}));switch(s.value){case "CutPaste":var u=e.fromTextArea(this.$el.cutPasteBox,{mode:"text",autofocus:!0,tabMode:"indent",indentUnit:2,smartIndent:!1,theme:"default",autoClearEmptyLines:!0,lineWrapping:!1,lineNumbers:!0});
u.on("change",function(){u.save()});break;case "GSpreadsheets":if(this.$el.googleConnected){var y=this.$el.gspreadsheetsSource,x=this.$el.gspreadsheetsError,A=this.$el.gspreadsheetsSheet,C=this.$el.sheetDropdown,D=this.$el.sheetStatus,g=this.$el.spreadsheetUrl,E=this.$el.sidUrl,G={};this.importOkay=!1;dojo.xhrGet({url:g.value,handleAs:"json",load:function(a){if(a.valid){for(i=0;i<y.length;i++)mojo.utils.deleteOption(y,i);mojo.utils.addOption(y,"Select a spreadsheet","");if(0<a.s.length)for(i=0;i<
a.s.length;i++)mojo.utils.addOption(y,a.s[i].title,a.s[i].sid),G[a.s[i].sid]=a.s[i]}else b.set(x,a.msg),d.remove(x,"hide")}});f(y,"change",function(c){var e=y.options[y.selectedIndex].value;e?(d.remove(D,"hide"),d.add(C,"hide"),G[e].sheets={},dojo.xhrGet({url:E.value+e,handleAs:"json",load:function(c){if(c.valid&&c.sheets){d.add(x,"hide");mojo.utils.removeAllOptions(A);for(i=0;i<c.sheets.length;i++)mojo.utils.addOption(A,c.sheets[i].title,c.sheets[i].gid),G[e].sheets[c.sheets[i].gid]=c.sheets[i];
a.importOkay=!0;a._enable_next();d.remove(C,"hide")}else b.set(x,c.msg),d.remove(x,"hide"),a.importOkay=!1,a._enable_next();d.add(D,"hide")}})):(d.add(C,"hide"),a.importOkay=!1,a._enable_next())});v.value&&dojo.xhrGet({url:w.value,handleAs:"json",load:function(a){a.success&&(c("select[data-mc-el\x3d'gspreadsheetsSource']")[0].value=a.data)}})}break;case "Highrise":if(v.value&&connected){var H=this.$el.tagDisclosure;dojo.xhrGet({url:w.value,handleAs:"json",load:function(a){if(a.success){for(var b=
0;b<a.data.fields.length;b++)c("input[name\x3d'fields["+a.data.fields[b]+"]']")[0].click();if(a.data.tags){H.click();for(b=0;b<a.data.tags.length;b++)c("input[name\x3d'tags["+a.data.tags[b]+"]']")[0].click()}}}})}else dojo.byId("highrise_w_email").click(),dojo.byId("highrise_h_email").click(),dojo.byId("highrise_o_email").click();break;case "Eventbrite":v.value&&id&&dojo.xhrGet({url:w.value,handleAs:"json",load:function(a){a.success&&(c("select[name\x3d'eb_listid']")[0].value=a.data)}});break;case "SalesForce":case "Freshbooks":case "GContacts":case "Zendesk":case "Zoho":case "Javelin":v.value&&
connected&&dojo.xhrGet({url:w.value,handleAs:"json",load:function(a){if(a.success){name=s.value.toLowerCase();"gcontacts"==name?name="contact":"freshbooks"==name?name="fb":"javelin"==name&&(dojo.byId("javelin_w_email").click(),dojo.byId("javelin_h_email").click());for(var b=0;b<a.data.length;b++)dojo.byId(name+"_"+a.data[b]).click()}}})}a._enable_next()},_enable_next:function(){var a=this.$el.upgradeDisclaimer,b=this.$group.importFinishBtn;this.importOkay&&("undefined"===typeof a||a.checked)?b.removeClass("disabled"):
b.addClass("disabled")},_test_integration:function(a){var b=this.$el.integrationLoading,c=this.$el.integrationErrorMsg,e=this.$el.testIntegrationBtn,f=this.$el.integrationUsername.value,g=this.$el.integrationPassword.value,h=this.$el.integrationUrl.value;if("highrise"==a)params={set:"1",site:f,token:g,json:1};else if("freshbooks"==a)params={site:f,token:g,json:1};else if("zendesk"==a)params={"zd-username":f,"zd-password":g,"zd-site":this.$el.integrationToken.value,json:1};else if("zoho"==a)params=
{"zoho-username":f,"zoho-password":g,json:1};else if("javelin"==a)params={site:f,token:g,json:1};else return;dojo.xhrGet({url:h,content:params,handleAs:"json",load:function(f){try{d.remove(b,"hide"),dojo.attr(e,"innerHTML","Connecting..."),!0==f.result.valid?(d.add(b,"hide"),"highrise"==a?window.location.reload():window.location.href+="s\x3dsuccess"):(d.add(b,"hide"),d.remove(c,"hide"),dojo.attr(c,"innerHTML",f.result.msg),dojo.attr(e,"innerHTML","Authorize Connection"))}catch(g){}}})}})})},"mojo/views/lists/dashboard/imports":function(){define(["dojo/_base/declare",
"mojo/views/_base","mojo/url","dijit/Dialog"],function(h,k,d,g){return h([k],{onReady:function(){},showUndoDialog:function(b,c){this.dialog&&this.dialog.destroy();this.dialog=new g({title:"Undo Import"});var f=d.toUrl("/lists/dashboard/undo-import-dialog",{id:b,import_id:c});this.dialog.setHref(f);this.dialog.show()},hideUndoDialog:function(){this.dialog&&this.dialog.hide()}})})},"mojo/views/lists/dashboard/overview":function(){define("dojo/_base/declare dojo/request/xhr dojo/_base/lang dojo/on mojo/views/_base mojo/url d3/d3 mojo/charts mccharts/mccharts mojo/colors".split(" "),
function(h,k,d,g,b,c,f,l,e,a){return h([b],{listId:null,onReady:function(){this.$el.listGrowthChart&&this._initOldListGrowthChart();this.$el.campaignHistory&&this._initOldCampaignPerformanceChart();this.$el.campaignPerformance&&this._initCampaignPerformanceChart();this.$el.audienceGrowthChart&&this._initAudienceGrowthChart()},_initAudienceGrowthChart:function(){var b=e.models.stackBarChart();this._overviewAjaxCalls(c.toUrl("dashboard/audience"),{period:7,list_id:this.listId}).then(function(c){c={subscribers:c.growth.data.subscribers.active,
net_growth:c.growth.data.subscribers.net_growth};b.aspectRatio(2,1);b.xAxis.keyValue("date");b.yAxis.keyValue("val");b.yAxis.maxTicks(6);b.colors([a.yellow6,a.yellow3]);b.noDataMessage("Hmm...Looks like you don't have growth data for this time period.");var d=b.legend();d.seriesLabels(["Existing subscribers","Audience Change"]);d.horizontalAlign("right");var e=b.tooltip();e.enabled(!0);e.xOffset(10);e.dataFormatter(function(a){var b=f.format(",");return f.time.format("%b %d, %Y")(a.x)+"\x3cbr/\x3e"+
d.seriesLabels()[a.seriesIndex]+": "+b(a.y)});b.loadChart("#audience-growth-chart",c)});g(this.$widget.audienceDaySelect,"change",d.hitch(this,function(a){this._overviewAjaxCalls(c.toUrl("dashboard/audience"),{period:a,list_id:this.listId}).then(function(c){var d={};d.xAxisFormat="360"===a?"%b %y":"%b %d";b.update({subscribers:c.growth.data.subscribers.active,net_growth:c.growth.data.subscribers.net_growth},d)})}))},_initCampaignPerformanceChart:function(){var a=e.models.multiLineChart();this._overviewAjaxCalls(c.toUrl("/reports/campaign-history-json-data"),
{list_id:this.listId}).then(function(b){a.xAxis.showTicks(!1);a.yAxis.keyValues(["openRate","clickRate"]);a.yAxis.tickFormat(e.u.percentageTick);var c=a.legend();c.seriesLabels(["Open Rate","Click Rate"]);c.horizontalAlign("right");c=a.tooltip();c.enabled(!0);c.dataFormatter(function(a){var b="";a.serie0&&(b="Open Rate: \x3cspan class\x3d'font-weight--bold'\x3e"+a.serie0.openRate+"%\x3c/span\x3e \x3cbr\x3e");a.serie1&&(b=b+"Click Rate: \x3cspan class\x3d'font-weight-bold'\x3e"+a.serie1.clickRate+
"%\x3c/span\x3e \x3cbr\x3e");return b=a.serie0?b+a.serie0.bubbleText:b+a.serie1.bubbleText});a.loadChart("#campaign-performance",[b,b])})},_initOldListGrowthChart:function(){var a=new l.ListGrowthChart("list-growth-chart",c.toUrl("/lists/list-growth-am-chart"),this.listId,"all");g(this.$el.toggleSubscribed,"click",function(){a.toggleActivity("subscribed",this.checked)});g(this.$el.toggleImported,"click",function(){a.toggleActivity("imported",this.checked)});g(this.$el.toggleExisting,"click",function(){a.toggleActivity("existing",
this.checked)})},_initOldCampaignPerformanceChart:function(){new l.PerformanceOverviewChart("campaign-history",c.toUrl("/reports/campaign-history-json-data",{list_id:this.listId}))},_overviewAjaxCalls:function(a,b){return k(a,{query:b,handleAs:"json"})}})})},"mojo/views/index/index":function(){define("dojo/_base/declare mojo/views/_base mojo/url mojo/utils mojo/user mojo/flags dojo/dom-attr dojo/on mojo/IntentOverlay".split(" "),function(h,k,d,g,b,c,f,l,e){return h([k],{onReady:function(){b.flagIsOn(c.MULTICHANNEL_FRONT_DOOR)&&
this.$el.createCampaignButton?this.installFrontdoor():this.installCreateCampaignModal()},installFrontdoor:function(){var a=new e;a.startup();l(this.$el.createCampaignButton,"click",function(){a.router.go("/create-campaign")})},installCreateCampaignModal:function(){var a=this;l(this.$el.createCampaignButton,"click",function(){a.$widget.selectCampaignDialog.show()});l(this.$el.cancelCampaign,"click",function(){a.$widget.campaignType.set("value","");a.$el.campaignName.value=null;a.$widget.selectCampaignDialog.hide()});
l(this.$el.createCampaign,"click",function(){var b=a.$widget.campaignType.value,c=encodeURIComponent(a.$el.campaignName.value.trim());switch(b){case "regular":case "plaintext":case "variate":case "rss":b="/campaigns/create?type\x3d"+b+"\x26name\x3d"+c+"\x26source\x3dmodal_dashboard-old";break;case "facebook":case "google":b="/ads/create?type\x3d"+b+"\x26name\x3d"+c+"\x26source\x3dmodal_dashboard-old";break;default:throw Error("Unknown type "+b);}a.$widget.selectCampaignDialog.hide();a.$el.loader.style.display=
"block";window.location=d.toUrl(b)});var b=function(b){var c=a.$el.campaignName.value.trim(),d=a.$widget.campaignType.value;c&&d?(f.remove(a.$el.createCampaign,"disabled"),g.clickOnEnter(b,a.$el.createCampaign)):f.set(a.$el.createCampaign,"disabled","disabled")};l(this.$el.campaignName,"keyup",b);l(this.$widget.campaignType,"change",b)}})})},"mojo/IntentOverlay":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/dom-construct dojo/dom-attr dojo/dom-class dojo/dom-style dojo/on dojo/topic dojo/aspect dojo/store/Memory dojo/request/xhr dojo/query dojo/router dojo/keys dijit/_Widget dijit/_Templated mojo/utils mojo/url mojo/logger mojo/widgets/TopSliderPane mojo/widgets/Autocomplete dojo/text!./intent-overlay/templates/IntentOverlay.html dojo/text!./intent-overlay/templates/SliderPaneWrapper.html ./intent-overlay/api ./intent-overlay/PathwayCardList ./intent-overlay/BlueprintCard ./intent-overlay/ConfigOverlay velocity/velocity vendor/lodash-amd/find".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s,v,w,u,y,x,A,C,D,E,G,H,M,J){return h([y],{templateString:C,content:A,titleText:"Intent Overlay",blueprints:null,searchTopic:"intents",routeHistory:[],activePane:null,postCreate:function(){this.inherited(arguments);this.activePane=this.intentsIntroContainer;var a=D.list().then(k.hitch(this,function(a){this.blueprints=a;this.dataStore=new m({data:this.blueprints});this.renderBlueprints(this.blueprints);this.filteredSearch=new x({placeholder:"Search ads, automations, and campaigns",
wait:500,searchTopic:this.searchTopic,suggestions:[{label:"Featured campaigns",value:"Featured campaigns"},{label:"Automation campaigns",value:"Automation campaigns"},{label:"Facebook ads",value:"Facebook ads"},{label:"Welcome or education series",value:"Welcome or education series"}],onSuggestionSelected:k.hitch(this,function(a){var b=this.blueprints.filter(function(b){return b.id===a.value})[0],b=b?b.searchKeywords[0]:a.label;this.filteredSearch.set("searchText",b);this.runSearch(b)}),shouldOnlySuggestOnFocus:!0},
this.intentsFilteredSearch);this.searchSubscription=e.subscribe("search/"+this.searchTopic,this.runSearch.bind(this));this.own(l(this.exploreIntentsButton,"click",function(){t.go("/create-campaign/explore")}),l(this.backLink,"click",k.hitch(this,function(){t.go(this.routeHistory.pop()||"/create-campaign")})),l(this.filteredSearch,"clear",k.hitch(this,function(){"intentsSearchResultsContainer"===this.activePane.dataset.dojoAttachPoint&&t.go(this.routeHistory.pop()||"/create-campaign")})),l(this.closeLink,
"click",k.hitch(this,function(){t.go("/")})));return this.blueprints}));t.register("/",k.hitch(this,function(){this.hide()}));t.register("/create-campaign",k.hitch(this,function(){this.routeHistory=[];this.clearSearch();this._showIntentsIntroContainer();this.show()}));t.register("/create-campaign/explore",k.hitch(this,function(){this._showIntentsContainer();this.routeHistory.push("/create-campaign");this.show()}));t.register("/create-campaign/search",k.hitch(this,function(a){this._showSearchContainer();
0>=a.oldPath.length-24&&this.routeHistory.push(a.oldPath);this.show()}));t.register("/create-campaign/explore/:blueprintId",k.hitch(this,function(b){this.routeHistory.push(b.oldPath||"/create-campaign/explore");this.configView=new H({onClose:k.hitch(this,function(){t.go(this.routeHistory.pop())})});g.empty(this.configurationView);g.place(this.configView.domNode,this.configurationView);a.then(k.hitch(this,function(a){a=J(a,{id:b.params.blueprintId});this.configView.set("blueprint",a)}));this._showConfigurationViewContainer();
this.show()}));t.startup();this.router=t},_onShowCallback:function(){this.bindKeys();this.domNode.focus()},_onHideCallback:function(){this.unbindKeys()},bindKeys:function(){this.keybindings=l(document,"keyup",k.hitch(this,function(a){switch(a.charCode||a.keyCode){case q.ESCAPE:t.go("/");break;case q.TAB:var b=p("[tabindex\x3d0]",this.topBarActions),c=p("[tabindex\x3d0]",this.activePane),b=b.concat(c);a=a.shiftKey?b.length-1:0;-1===b.indexOf(document.activeElement)&&b[a].focus()}}))},unbindKeys:function(){this.keybindings&&
this.keybindings.remove()},clearSearch:function(){this.filteredSearch&&this.filteredSearch.get("searchText")&&this.filteredSearch.set("searchText","")},runSearch:function(a){a&&t.go("/create-campaign/search");var b=this._searchResults(a),d=b.length;u.info("campaigns-front-door","Search terms logged",{search_terms:a.trim(),results_count:d});0===d?p("strong",this.noResults.noDataMessage)[0].innerText='"'+a+'"':(this.intentsSearchCount.innerText=d,this.intentsSearchTerm.innerText=a);c.toggle(this.resultsHeader,
"hide",0===d);c.toggle(this.noResults.domNode,"hide",0<d);a=this.createBlueprintCards(b);this.renderSearchResultBlueprintCards(a)},_fuzzyMatch:function(a,b){var c=b.length,d=a.length;if(d>c)return!1;if(d===c)return a===b;var e=0,f=0;a:for(;e<d;e++){for(var g=a.charCodeAt(e);f<c;)if(b.charCodeAt(f++)===g)continue a;return!1}return!0},_searchResults:function(a){var b=this,c=a.trim().split(/\s+/);return this.dataStore.query(function(a){var e=0,f=!1;a.matchRank=0;d.forEach(c,function(c){3<=c.length&&
(0<d.filter(a.title.split(/\s+/),function(a){return b._fuzzyMatch(c.toLowerCase(),a.toLowerCase())}).length&&e++,-1<a.description.toLowerCase().indexOf(c.toLowerCase())&&e++,a.searchKeywords&&d.some(a.searchKeywords,function(a){return b._fuzzyMatch(c.toLowerCase(),a.toLowerCase())})&&e++);a.searchKeywords&&d.some(a.searchKeywords,function(a){return c.toLowerCase()===a.toLowerCase()})&&e++;a.featured&&"featured"===c.toLowerCase()&&e++});0<e&&(f=!0,a.matchRank=e);return f},{sort:[{attribute:"matchRank",
descending:!0}]})},_setActivePane:function(a,b){var d=this;b=k.mixin({backLink:!0,intentsSearchContainer:!0},b);if(this[a]!==this.activePane){var e=this.activePane.dataset.dojoAttachPoint,g=this[a].dataset.dojoAttachPoint,h,l;if("configurationViewContainer"===e||"intentsIntroContainer"===g)h="-100%",l="0%";else if("intentsIntroContainer"===e||"configurationViewContainer"===g)h="0%",l="-100%";f.set(this[a],{display:"inline-block","min-height":"0px",opacity:".2"});M(this[a],{translateX:[l,"easeOutExpo",
h],"min-height":"400px",opacity:"1"},{duration:250,complete:function(){f.set(d[a],{"-webkit-transform":"","-moz-transform":"","-ms-transform":"","-o-transform":"",transform:"",display:"","max-height":"","min-height":"",opacity:""})}});f.set(this.activePane,{display:"inline-block","min-height":"0px","max-height":"100%",opacity:".8"});M(this.activePane,{translateX:[l,"easeOutSine",h],"max-height":"400px","min-height":"400px",opacity:"0"},{duration:250,complete:function(){f.set(d.activePane,{"-webkit-transform":"",
"-moz-transform":"","-ms-transform":"","-o-transform":"",transform:"",display:"none","max-height":"","min-height":"",opacity:""});d.activePane=d[a]}})}else this.activePane=this[a];Object.keys(b).forEach(function(a){c.toggle(this[a],"invisible",!b[a])},this)},_showIntentsIntroContainer:function(){this.clearSearch();b.set(this.backLink,"tabindex","-1");this._setActivePane("intentsIntroContainer",{backLink:!1});u.info("campaigns-front-door","User view",{view:"front_door.intro"})},_showIntentsContainer:function(){this.clearSearch();
b.set(this.backLink,"tabindex","0");this._setActivePane("intentsContainer");u.info("campaigns-front-door","User view",{view:"front_door.pathways"})},_showSearchContainer:function(){b.set(this.backLink,"tabindex","0");this._setActivePane("intentsSearchResultsContainer",{backLink:!0,intentsSearchContainer:!0});u.info("campaigns-front-door","User view",{view:"front_door.search"})},_showConfigurationViewContainer:function(){b.set(this.backLink,"tabindex","0");this._setActivePane("configurationViewContainer",
{intentsSearchContainer:!1});u.info("campaigns-front-door","User view",{view:"front_door.pathways"})},renderBlueprints:function(a){var b=[{id:"build-your-brand",title:"Build your brand",description:"Ready to find your people? Spread the word and grow your audience with these campaigns."},{id:"connect-with-contacts",title:"Connect with new contacts",description:"You've got their attention. Now's the time to tell your story and show off your work."},{id:"sell-more-stuff",title:"Sell more stuff",description:"There are lots of ways to encourage people to buy."},
{id:"boost-customer-loyalty",title:"Boost loyalty",description:"Take good care of people and they'll keep coming back."},{id:"bring-people-back",title:"Bring people back",description:"Reconnect with people who haven't opened, clicked, or purchased in a while."}].map(function(b,c){var d=a.filter(function(a){return a.isPartOfPathway(b.id)});return new E({title:b.title,id:b.id,description:b.description,blueprints:this.createBlueprintCards(d),isOpen:0===c})},this);g.empty(this.pathwaysList);b.map(k.hitch(this,
function(a){g.place(a.domNode,this.pathwaysList)}))},renderSearchResultBlueprintCards:function(a){g.empty(this.intentSearchCards);a.forEach(k.hitch(this,function(a){g.place(a.domNode,this.intentSearchCards,"last")}))},createBlueprintCards:function(a){return a.map(function(a){return new G({blueprint:a})},this)}})})},"dojo/router":function(){define(["./router/RouterBase"],function(h){return new h({})})},"dojo/router/RouterBase":function(){define(["dojo/_base/declare","dojo/hash","dojo/topic"],function(h,
k,d){function g(b,d,g){var e,a,h,k;e=this.callbackQueue;h=a=!1;d=[{stopImmediatePropagation:function(){a=!0},preventDefault:function(){h=!0},oldPath:d,newPath:g,params:b}];if(b instanceof Array)d=d.concat(b);else for(k in b)d.push(b[k]);b=0;for(k=e.length;b<k;++b)a||e[b].apply(null,d);return!h}var b;b=String.prototype.trim?function(b){return b.trim()}:function(b){return b.replace(/^\s\s*/,"").replace(/\s\s*$/,"")};return h(null,{_routes:null,_routeIndex:null,_started:!1,_currentPath:"",idMatch:/:(\w[\w\d]*)/g,
idReplacement:"([^\\/]+)",globMatch:/\*(\w[\w\d]*)/,globReplacement:"(.+)",constructor:function(b){this._routes=[];this._routeIndex={};for(var d in b)b.hasOwnProperty(d)&&(this[d]=b[d])},register:function(b,d){return this._registerRoute(b,d)},registerBefore:function(b,d){return this._registerRoute(b,d,!0)},go:function(c,d){var g;if("string"!==typeof c)return!1;c=b(c);(g=this._handlePathChange(c))&&k(c,d);return g},startup:function(b){if(!this._started){var f=this,g=k();this._started=!0;this._hashchangeHandle=
d.subscribe("/dojo/hashchange",function(){f._handlePathChange.apply(f,arguments)});g?this._handlePathChange(g):this.go(b,!0)}},destroy:function(){this._hashchangeHandle&&this._hashchangeHandle.remove();this._routeIndex=this._routes=null},_handlePathChange:function(b){var d,g,e,a,h,k,p,t,q=this._routes,r=this._currentPath;if(!this._started||b===r)return g;g=!0;d=0;for(e=q.length;d<e;++d)if(h=q[d],k=h.route.exec(b)){if(h.parameterNames){p=h.parameterNames;t={};g=0;for(a=p.length;g<a;++g)t[p[g]]=k[g+
1]}else t=k.slice(1);g=h.fire(t,r,b)}g&&(this._currentPath=b);return g},_convertRouteToRegExp:function(b){b=b.replace(this.idMatch,this.idReplacement);b=b.replace(this.globMatch,this.globReplacement);return RegExp("^"+b+"$")},_getParameterNames:function(b){var d=this.idMatch,g=this.globMatch,e=[],a;for(d.lastIndex=0;null!==(a=d.exec(b));)e.push(a[1]);null!==(a=g.exec(b))&&e.push(a[1]);return 0<e.length?e:null},_indexRoutes:function(){var b,d,g,e,a=this._routes;e=this._routeIndex={};b=0;for(d=a.length;b<
d;++b)g=a[b],e[g.route]=b},_registerRoute:function(b,d,h){var e,a,k,n,p,t=this,q=this._routes,r=this._routeIndex;e=this._routeIndex[b];(a="undefined"!==typeof e)&&(k=q[e]);k||(k={route:b,callbackQueue:[],fire:g});n=k.callbackQueue;"string"==typeof b&&(k.parameterNames=this._getParameterNames(b),k.route=this._convertRouteToRegExp(b));h?n.unshift(d):n.push(d);a||(e=q.length,r[b]=e,q.push(k));p=!1;return{remove:function(){var a,b;if(!p){a=0;for(b=n.length;a<b;++a)n[a]===d&&n.splice(a,1);0===n.length&&
(q.splice(e,1),t._indexRoutes());p=!0}},register:function(a,d){return t.register(b,a,d)}}}})})},"mojo/intent-overlay/api":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/request dojo/request/xhr dojo/Deferred mojo/url".split(" "),function(h,k,d,g,b,c,f){var l=h(null,{title:null,description:null,type:null,fields:null,parameters:null,constructor:function(a){this.title=a.title;this.description=a.description||"";this.type=a.type;this.fields=a.fields||{};this.parameters=a.parameters||
{}},getEndpoint:function(){var a=this.type,b=null;switch(a){case "campaign":case "regular":case "plaintext":case "variate":case "rss":b="/campaigns/create";break;case "automation":b="/automations/create";break;case "transactional":b="/automations/transactional/create";break;case "facebook":case "google":b="/ads/create";break;case "signup_form_popup":b="/lists/signup-forms/popup/editor";break;default:throw Error("Unknown type "+a);}return f.toUrl(b)}}),e=h(null,{id:null,title:null,description:null,
pathways:null,featured:null,options:null,searchKeywords:null,constructor:function(a){this.id=a.id;this.title=a.title;this.description=a.description;this.pathways=a.pathways;this.featured=a.featured;this.options=a.options.map(function(a){return new l(a)});this.searchKeywords=a.search_keywords},isPartOfPathway:function(a){return-1!==this.pathways.indexOf(a)}});return{list:function(){return b.get(f.toUrl("channels/blueprints"),{handleAs:"json",query:null}).then(function(a){return a.blueprints.map(function(a){return new e(a)})})}}})},
"mojo/intent-overlay/PathwayCardList":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-construct dojo/on dojo/dom-class dojo/query dijit/_Widget dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./templates/PathwayCardList.html ./BlueprintCard vendor/pluralize/pluralize".split(" "),function(h,k,d,g,b,c,f,l,e,a,m,n){return h([f,l,e],{templateString:a,blueprintCountText:null,postMixInProperties:function(){var a=this.blueprints.length;this.blueprintCountText=a+n(" Campaign",
a)},postCreate:function(){this.isOpen&&(b.toggle(this.detailsSummary,["disclosure-open","disclosure-closed"]),b.remove(this.detailsContent,"display--none"));g(this,"click",k.hitch(this,function(){b.toggle(this.detailsSummary,["disclosure-open","disclosure-closed"]);b.toggle(this.detailsContent,"display--none")}));this.renderBlueprintCards()},renderBlueprintCards:function(){d.empty(this.list);this.blueprints.map(function(a){d.place(a.domNode,this.list)},this)},_onFocus:function(a){"mouse"!==a&&(b.add(this.detailsSummary,
"disclosure-open"),b.remove(this.detailsSummary,"disclosure-closed"),b.remove(this.detailsContent,"display--none"),this.blueprints[0].focus())}})})},"mojo/intent-overlay/BlueprintCard":function(){define("dojo/_base/declare dojo/_base/lang dijit/registry dijit/_Widget dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/dom-class dojo/on dojo/topic dojo/text!./templates/BlueprintCard.html mojo/intent-overlay/ConfigOverlay".split(" "),function(h,k,d,g,b,c,f,l,e,a,m){return h([g,b,c],{templateString:a,
blueprint:null,isVisible:!1,postMixInProperties:function(){this.inherited(arguments);this.title=this.blueprint.title;this.pathways=this.blueprint.pathways;this.description=this.blueprint.description;this.types=this.blueprint.types;this.channel=this.blueprint.options[0].type||"none"},postCreate:function(){for(var a=0;a<this.blueprint.options.length;a++){var b=this.blueprint.options[a].type;f.toggle(this.cardAutomation,"display--block",-1!==["automation","variate","transactional","rss"].indexOf(b));
f.toggle(this.cardType,"c-blueprintCard--ad",-1!==["facebook","google"].indexOf(b));f.toggle(this.cardType,"c-blueprintCard--site",-1!==["signup_form_popup"].indexOf(b));f.toggle(this.cardType,"c-blueprintCard--email",-1!=="email regular plaintext variate rss transactional".split(" ").indexOf(b))}},focus:function(){this.cardLink.focus()}})})},"mojo/intent-overlay/ConfigOverlay":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-construct dojo/dom-class dojo/on dijit/layout/TabContainer dijit/layout/TabController dijit/layout/ContentPane dijit/_Widget dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin mojo/logger dojo/text!./templates/ConfigOverlay.html mojo/intent-overlay/ConfigurationView".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t){return h([e,a,m],{templateString:p,blueprint:null,postCreate:function(){this.inherited(arguments);this.watch("blueprint",k.hitch(this,function(a,b,c){n.info("campaigns-front-door","User view",{view:"blueprint",blueprint_id:this.blueprint.id});this.render()}))},buildTabs:function(){var a=this.blueprint.options;this.tabContainer&&this.tabContainer.destroy();this.tabContainer=new c({doLayout:!1,controllerWidget:f},this.configView);a.forEach(k.hitch(this,function(a){var b=
new t({onCancel:this.onClose.bind(this),blueprint:this.blueprint,option:a});a=new l({title:a.title,content:b});this.tabContainer.addChild(a)}));g.add(this.tabContainer.tablist.domNode,["text-align--center"]);this.tabContainer.startup()},render:function(){d.empty(this.configView);this.blueprint&&(1<this.blueprint.options.length?this.buildTabs():(this.optionView=new t({blueprint:this.blueprint,option:this.blueprint.options[0],onCancel:this.onClose.bind(this)}),d.place(this.optionView.domNode,this.configView)))}})})},
"mojo/intent-overlay/ConfigurationView":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-construct dojo/dom-attr dojo/on dijit/registry dijit/_Widget dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin mojo/url mojo/utils mojo/user mojo/api/member-list mojo/api/ecommerce-store dojo/text!./templates/ConfigurationView.html ./SelectInput ./TextInput ./HiddenInput vendor/lodash-amd/every vendor/lodash-amd/template".split(" "),function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s,v,w,u){var y=function(a){return null!==
a&&""!==a};return h([f,l,e],{templateString:q,noOptionsFeedbackDescription:u('For now, you can send this campaign to \x3cstrong\x3e\x3c%- email %\x3e\x3c/strong\x3e. But if you want to share it with others, you\'ll need to \x3ca href\x3d"${link}"\x3ecreate a list\x3c/a\x3e.'),noOptionsRequiredFeedbackDescription:u('Before you can get started you\'ll need to \x3ca href\x3d"${link}"\x3ecreate a list\x3c/a\x3e.'),blueprint:null,option:null,title:null,description:null,inputs:[],postMixInProperties:function(){this.inherited(arguments);
this.title=1===this.blueprint.options.length?this.option.title:this.blueprint.title+": "+this.option.title;this.description=this.option.description},postCreate:function(){this.inherited(arguments);b(this.cancelLink,"click",k.hitch(this,"onCancel"));this.buildForm();this.validateForm()},buildForm:function(){g.set(this.form,"action",this.option.getEndpoint());d.empty(this.formInputs);this.inputs=this.getInputs();this.inputs.map(k.hitch(this,function(a,b){a.startup();0===b&&a.focus&&a.focus();d.place(a.domNode,
this.formInputs)}))},getInputs:function(){var a=m.entries(this.option.parameters).map(function(a){return new v({name:a.key,value:a.value})},this),b=m.entries(this.option.fields).map(k.hitch(this,"getInputForField"));return[new v({name:"source",value:"blueprint_"+this.blueprint.id})].concat(a).concat(b)},validateForm:function(){var a=this.inputs.map(function(a){return a.isValid?a.isValid():!0});w(a)?g.remove(this.formSubmit,"disabled"):g.set(this.formSubmit,"disabled","disabled")},getInputForField:function(b){var c=
p.filters,d=b.key,e=b.value,f={getOptions:p.list,name:d,defaultLabel:"Select a list",labelKey:"name",valueKey:"listId",validators:[y],onChange:this.validateForm.bind(this),noOptionsFeedback:{title:"Hold up! We don't see any lists in your account.",description:this.noOptionsFeedbackDescription({email:n.email,link:a.toUrl("/lists/new-list")})}};if("name"===e)return new s({label:"Campaign Name",name:d});if("list"===e)return new r(k.mixin({},f,{mcDefaultValue:"__default_list__",noOptionsFeedback:{title:"Hold up! We don't see any lists in your account.",
description:this.noOptionsFeedbackDescription({email:n.email,link:a.toUrl("/lists/new-list")})}}));if("list_required"===e)return new r(k.mixin({},f,{noOptionsFeedback:{title:"Hold up! We don't see any lists in your account.",description:this.noOptionsRequiredFeedbackDescription({link:a.toUrl("/lists/new-list")})}}));if("list_bday"===e)return new r(k.mixin({},f,{defaultLabel:"Select a list with a birthday merge field",filter:c.hasBirthday,noOptionsFeedback:{title:"Uh oh. We don't see any lists with a birthday field.",
description:'Before you create this campaign, you\'ll need to add the missing data. Want some help? Check out \x3ca target\x3d"_blank" href\x3d"http://kb.mailchimp.com/lists/manage-contacts/manage-list-and-signup-form-fields"\x3eManage List and Signup Form Fields\x3c/a\x3e.'}}));if("list_date"===e)return new r(k.mixin({},f,{defaultLabel:"Select a list with a date merge field",filter:c.hasDate,noOptionsFeedback:{title:"Uh oh. We don't see any lists with a date field.",description:'Before you create this campaign, you\'ll need to add the missing data. Want some help? Check out \x3ca target\x3d"_blank" href\x3d"http://kb.mailchimp.com/lists/manage-contacts/manage-list-and-signup-form-fields"\x3eManage List and Signup Form Fields\x3c/a\x3e.'}}));
if("list_group"===e)return new r(k.mixin({},f,{defaultLabel:"Select a list with groups",filter:c.hasGroup,noOptionsFeedback:{title:"Uh oh. We don't see any lists with groups.",description:'Before you create this campaign, you\'ll need to add the missing data. Want some help? Check out \x3ca target\x3d"_blank" href\x3d"http://kb.mailchimp.com/lists/groups/getting-started-with-groups"\x3eGetting Started With Groups\x3c/a\x3e.'}}));if("list_merge"===e)return new r(k.mixin({},f,{defaultLabel:"Select a list with fields",
filter:c.hasMergeField,noOptionsFeedback:{title:"Uh oh. We don't see any lists with fields.",description:'Before you create this campaign, you\'ll need to add the missing data. Want some help? Check out \x3ca target\x3d"_blank" href\x3d"http://kb.mailchimp.com/lists/manage-contacts/manage-list-and-signup-form-fields"\x3eManage List and Signup Form Fields\x3c/a\x3e.'}}));if("list_100"===e)return new r(k.mixin({},f,{defaultLabel:"Select a list with at least 100 contacts",filter:c.hasAtLeast100Contacts,
noOptionsFeedback:{title:"Hold up! You'll need to collect some more contacts, first.",description:'Ad campaigns need at least 100 list contacts. To grow your list, try \x3ca target\x3d"_blank" href\x3d"http://kb.mailchimp.com/lists/signup-forms/share-your-signup-form"\x3esharing your signup form\x3c/a\x3e.'}}));if("list_store_v3"===e)return new r(k.mixin({},f,{defaultLabel:"Select a list with a store",filter:c.hasEcommerceStore,noOptionsFeedback:{title:"Wait! We don't see any lists with a store.",
description:'Before you create this campaign, you\'ll need to add the missing data. Check out \x3ca target\x3d"_blank" href\x3d"http://kb.mailchimp.com/integrations/e-commerce/how-to-use-mailchimp-for-e-commerce#Connect-Your-Store"\x3eHow to Use MailChimp for E-Commerce: Connect Your Store\x3c/a\x3e.'}}));if("store"===e||"store_v3"===e)return new r({getOptions:t.list,name:d,defaultLabel:"Select a store",labelKey:"name",valueKey:"storeId",onChange:this.validateForm.bind(this),noOptionsFeedback:{title:"Wait! This campaign requires a store connection.",
description:'\x3ca href\x3d"/account/connected-sites/wizard/"\x3eConnect your store\x3c/a\x3e to get started. If you need help, check out \x3ca target\x3d"_blank" href\x3d"http://kb.mailchimp.com/integrations/e-commerce/how-to-use-mailchimp-for-e-commerce#Connect-Your-Store"\x3eHow to Use MailChimp for E-Commerce\x3c/a\x3e.'}});throw Error("No input found for field '"+b+"'");}})})},"mojo/api/member-list":function(){define(["dojo/_base/declare","dojo/request/xhr","vendor/lodash-amd/values","mojo/url",
"mojo/validation/Error"],function(h,k,d,g,b){var c=h(null,{constructor:function(b){this.type=b.field_type;this.name=b.name;this.var=b.var}}),f=h(null,{constructor:function(b){this.listId=b.list_id;this.type=b.list_type;this.name=b.name;this.size=b.size;this.mergeFields=(b.merge_fields||[]).map(function(b){return new c(b)});this.hasInterestGroups=0<d(b.interest_groups).length;this.hasMergeFields=1<d(b.merge_fields).length;this.hasEcommerceStore=b.has_ecommerce_store;this.totalContacts=b.total_contacts;
this.totalSubscribers=b.total_subscribers},hasMergeFieldOfType:function(b){return 0<this.mergeFields.filter(function(c){return c.type===b}).length}});return{list:function(){return k.get(g.toUrl("channels/get-all-lists"),{handleAs:"json",query:null}).then(function(b){return b.map(function(b){return new f(b)})})},filters:{hasBirthday:function(b){return b.hasMergeFieldOfType("birthday")},hasDate:function(b){return b.hasMergeFieldOfType("date")},hasGroup:function(b){return b.hasInterestGroups},hasMergeField:function(b){return b.hasMergeFields},
hasEcommerceStore:function(b){return b.hasEcommerceStore},hasAtLeast100Contacts:function(b){return 100<=b.totalContacts}}}})},"vendor/lodash-amd/values":function(){define(["./_baseValues","./keys"],function(h,k){return function(d){return null==d?[]:h(d,k(d))}})},"vendor/lodash-amd/_baseValues":function(){define(["./_arrayMap"],function(h){return function(k,d){return h(d,function(d){return k[d]})}})},"mojo/validation/Error":function(){define(["dojo/_base/declare"],function(h){return h([Error],{constructor:function(h){this.message=
h}})})},"mojo/api/ecommerce-store":function(){define(["dojo/_base/declare","dojo/request/xhr","mojo/url"],function(h,k,d){var g=h(null,{constructor:function(b){this.name=b.name;this.storeId=b.store_id;this.listId=b.list_id||null}});return{filters:{hasMemberList:function(b){return b.listId}},list:function(){return k.get(d.toUrl("channels/get-active-stores"),{handleAs:"json",query:null}).then(function(b){return b.map(function(b){return new g(b)})})}}})},"mojo/intent-overlay/SelectInput":function(){define("dojo/_base/declare dojo/html dojo/dom-construct dojo/when dijit/_Widget dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/form/Select mojo/validation/Error dojo/text!./templates/NoOptions.html vendor/lodash-amd/template vendor/lodash-amd/isEmpty".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n){return h([b,c,f],{templateString:'\x3cdiv\x3e\x3cspan role\x3d"presentation" aria-hidden\x3d"true" data-dojo-type\x3d"mojo/widgets/CircularLoader" data-dojo-props\x3d"loaderSize:20, strokeWidth: 3" class\x3d"border-radius--lv1"\x3e\x3c/span\x3e\x3c/div\x3e',noOptionsTemplate:m(a),options:[],validators:[],mcDefaultValue:null,filter:!1,postCreate:function(){this.inherited(arguments);g(this.getOptions()).then(this.mapOptions.bind(this)).then(this.render.bind(this))},
mapOptions:function(a){return this.options=a.map(function(a,b){return{label:a[this.labelKey],value:a[this.valueKey],disabled:this.filter?!this.filter(a):!1}},this).sort(function(a){return a.disabled?1:-1})},getValue:function(){return!this.select?this.mcDefaultValue:this.select.get("value")},isValid:function(){var a=this.getValue();return this.validators.reduce(function(b,c){return c(a)&&b},!0)},render:function(a){var b=a.filter(function(a){return!a.disabled});if(0===b.length)return k.set(this.domNode,
this.noOptionsTemplate(this.noOptionsFeedback));this.select=new l({name:this.name,labelType:"text",options:[{value:"",label:this.defaultLabel}].concat(a),"class":"select-small full-width",onChange:this.onChange});1===b.length&&this.select.set("value",b[0]);d.empty(this.domNode);this.select.placeAt(this.domNode);this.select.startup()}})})},"vendor/lodash-amd/template":function(){define("./assignInWith ./attempt ./_baseValues ./_customDefaultsAssignIn ./_escapeStringChar ./isError ./_isIterateeCall ./keys ./_reInterpolate ./templateSettings ./toString".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m){var n=/\b__p \+= '';/g,p=/\b(__p \+=) '' \+/g,t=/(__e\(.*?\)|\b__t\)) \+\n'';/g,q=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,r=/($^)/,s=/['\n\r\u2028\u2029\\]/g;return function(v,w,u){var y=a.imports._.templateSettings||a;u&&f(v,w,u)&&(w=void 0);v=m(v);w=h({},w,y,g);u=h({},w.imports,y.imports,g);var x=l(u),A=d(u,x),C,D,E=0;u=w.interpolate||r;var G="__p +\x3d '",H="sourceURL"in w?"//# sourceURL\x3d"+w.sourceURL+"\n":"";v.replace(RegExp((w.escape||r).source+"|"+u.source+"|"+(u===
e?q:r).source+"|"+(w.evaluate||r).source+"|$","g"),function(a,c,d,e,f,g){d||(d=e);G+=v.slice(E,g).replace(s,b);c&&(C=!0,G+="' +\n__e("+c+") +\n'");f&&(D=!0,G+="';\n"+f+";\n__p +\x3d '");d&&(G+="' +\n((__t \x3d ("+d+")) \x3d\x3d null ? '' : __t) +\n'");E=g+a.length;return a});G+="';\n";(w=w.variable)||(G="with (obj) {\n"+G+"\n}\n");G=(D?G.replace(n,""):G).replace(p,"$1").replace(t,"$1;");G="function("+(w||"obj")+") {\n"+(w?"":"obj || (obj \x3d {});\n")+"var __t, __p \x3d ''"+(C?", __e \x3d _.escape":
"")+(D?", __j \x3d Array.prototype.join;\nfunction print() { __p +\x3d __j.call(arguments, '') }\n":";\n")+G+"return __p\n}";w=k(function(){return Function(x,H+"return "+G).apply(void 0,A)});w.source=G;if(c(w))throw w;return w}})},"vendor/lodash-amd/assignInWith":function(){define(["./_copyObject","./_createAssigner","./keysIn"],function(h,k,d){return k(function(g,b,c,f){h(b,d(b),g,f)})})},"vendor/lodash-amd/attempt":function(){define(["./_apply","./_baseRest","./isError"],function(h,k,d){return k(function(g,
b){try{return h(g,void 0,b)}catch(c){return d(c)?c:Error(c)}})})},"vendor/lodash-amd/isError":function(){define(["./_baseGetTag","./isObjectLike","./isPlainObject"],function(h,k,d){return function(g){if(!k(g))return!1;var b=h(g);return"[object Error]"==b||"[object DOMException]"==b||"string"==typeof g.message&&"string"==typeof g.name&&!d(g)}})},"vendor/lodash-amd/_customDefaultsAssignIn":function(){define(["./eq"],function(h){var k=Object.prototype,d=k.hasOwnProperty;return function(g,b,c,f){return void 0===
g||h(g,k[c])&&!d.call(f,c)?b:g}})},"vendor/lodash-amd/_escapeStringChar":function(){define([],function(){var h={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};return function(k){return"\\"+h[k]}})},"vendor/lodash-amd/_reInterpolate":function(){define([],function(){return/<%=([\s\S]+?)%>/g})},"vendor/lodash-amd/templateSettings":function(){define(["./escape","./_reEscape","./_reEvaluate","./_reInterpolate"],function(h,k,d,g){return{escape:k,evaluate:d,interpolate:g,variable:"",
imports:{_:{escape:h}}}})},"vendor/lodash-amd/escape":function(){define(["./_escapeHtmlChar","./toString"],function(h,k){var d=/[&<>"']/g,g=RegExp(d.source);return function(b){return(b=k(b))&&g.test(b)?b.replace(d,h):b}})},"vendor/lodash-amd/_escapeHtmlChar":function(){define(["./_basePropertyOf"],function(h){return h({"\x26":"\x26amp;","\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#39;"})})},"vendor/lodash-amd/_basePropertyOf":function(){define([],function(){return function(h){return function(k){return null==
h?void 0:h[k]}}})},"vendor/lodash-amd/_reEscape":function(){define([],function(){return/<%-([\s\S]+?)%>/g})},"vendor/lodash-amd/_reEvaluate":function(){define([],function(){return/<%([\s\S]+?)%>/g})},"vendor/lodash-amd/isEmpty":function(){define("./_baseKeys ./_getTag ./isArguments ./isArray ./isArrayLike ./isBuffer ./_isPrototype ./isTypedArray".split(" "),function(h,k,d,g,b,c,f,l){var e=Object.prototype.hasOwnProperty;return function(a){if(null==a)return!0;if(b(a)&&(g(a)||"string"==typeof a||"function"==
typeof a.splice||c(a)||l(a)||d(a)))return!a.length;var m=k(a);if("[object Map]"==m||"[object Set]"==m)return!a.size;if(f(a))return!h(a).length;for(var n in a)if(e.call(a,n))return!1;return!0}})},"mojo/intent-overlay/TextInput":function(){define(["dojo/_base/declare","dijit/_Widget","dijit/_TemplatedMixin","dojo/text!./templates/TextInput.html"],function(h,k,d,g){return h([k,d],{label:"",templateString:g,focus:function(){this.input.focus()}})})},"mojo/intent-overlay/HiddenInput":function(){define(["dojo/_base/declare",
"dijit/_Widget","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin"],function(h,k,d,g){return h([k,d,g],{templateString:'\x3cinput type\x3d"hidden" name\x3d"${name}" value\x3d${value} /\x3e'})})},"vendor/lodash-amd/every":function(){define(["./_arrayEvery","./_baseEvery","./_baseIteratee","./isArray","./_isIterateeCall"],function(h,k,d,g,b){return function(c,f,l){var e=g(c)?h:k;l&&b(c,f,l)&&(f=void 0);return e(c,d(f,3))}})},"vendor/lodash-amd/_arrayEvery":function(){define([],function(){return function(h,
k){for(var d=-1,g=null==h?0:h.length;++d<g;)if(!k(h[d],d,h))return!1;return!0}})},"vendor/lodash-amd/_baseEvery":function(){define(["./_baseEach"],function(h){return function(k,d){var g=!0;h(k,function(b,c,f){return g=!!d(b,c,f)});return g}})},"mojo/views/index/new-dashboard":function(){define("dojo/_base/declare mojo/views/_base mojo/widgets/ButtonGroup mojo/colors dojo/_base/lang dojo/query dijit/registry dojo/dom-class dojo/dom-attr dojo/dom-construct dojo/on velocity/velocity dojo/request/xhr dojo/Deferred dojo/number mojo/url mojo/utils d3/d3 mccharts/mccharts mojo/user mojo/flags mojo/IntentOverlay".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s,v,w,u,y,x){return h([k],{storeDaySelect:null,audienceDaySelect:null,engagementDaySelect:null,storePastDays:null,storePercentage:null,fromMailChimpWidget:null,fromCampaignsWidget:null,fromAutomationsWidget:null,totalStoreRevenueWidget:null,storeOrdersWidget:null,ordersGraphData:null,audiencePastDays:null,audiencePercentage:null,audienceChangeWidget:null,unsubsBouncesWidget:null,totalAudienceWidget:null,sourcesGraphData:null,emailsDelivered:null,openedTotal:null,
openedPercentage:null,clickedTotal:null,clickedPercentage:null,addedToCartTotal:null,addedToCartPercentage:null,purchasedTotal:null,purchasedPercentage:null,emailsPastDays:null,ecommerceGraphData:null,onReady:function(){this.itemTpl="\x3cli class\x3d'c-buttonGroupItem'\x3e\x3cbutton data-mc-value\x3d'{value}' title\x3d'{title}' class\x3d'c-buttonGroupButton v-buttonGroupUnderlined'\x3e{label}\x3c/button\x3e\x3c/li\x3e";this.activeClass=" v-buttonGroupUnderlined--active";this.$el.dismissStore&&m(this.$el.dismissStore,
"click",b.hitch(this,function(){this._loadDashboardData("dashboard/dismiss-connect-your-store").then(b.hitch(this,function(){n(this.$group.storeNoDataState,{opacity:0.5},{duration:1500,complete:b.hitch(this,function(){l.add(this.$group.storeNoDataState,"no-clicky")})})}))}));this.$el.ecommerceSection&&this._initEcommerce();this.$el.audienceSection&&this._initAudience();this.$el.engagementSection&&this._initEngagement();u.flagIsOn(y.MULTICHANNEL_FRONT_DOOR)?this.installFrontdoor():this.$el.createCampaignButton&&
this.installCreateCampaignModal()},installFrontdoor:function(){var a=new x;a.startup();this.$el.createCampaignButton&&m(this.$el.createCampaignButton,"click",function(b){b.preventDefault();a.router.go("/create-campaign")});this.$el.createCampaignButtonEngagement&&m(this.$el.createCampaignButtonEngagement,"click",function(b){b.preventDefault();a.router.go("/create-campaign")})},installCreateCampaignModal:function(){var a=this;m(this.$el.createCampaignButton,"click",function(){a.$widget.selectCampaignDialog.show()});
m(this.$el.cancelCampaign,"click",function(){a.$widget.campaignType.set("value","");a.$el.campaignName.value=null;a.$widget.selectCampaignDialog.hide()});m(this.$el.createCampaign,"click",function(){var b=a.$widget.campaignType.value,c=encodeURIComponent(a.$el.campaignName.value.trim());switch(b){case "regular":case "plaintext":case "variate":case "rss":b="/campaigns/create?type\x3d"+b+"\x26name\x3d"+c+"\x26source\x3dmodal_dashboard";break;case "facebook":case "google":b="/ads/create?type\x3d"+b+
"\x26name\x3d"+c+"\x26source\x3dmodal_dashboard";break;default:throw Error("Unknown type "+b);}a.$widget.selectCampaignDialog.hide();a.$el.loader.style.display="block";window.location=r.toUrl(b)});var b=function(b){var c=a.$el.campaignName.value.trim(),d=a.$widget.campaignType.value;c&&d?(e.remove(a.$el.createCampaign,"disabled"),s.clickOnEnter(b,a.$el.createCampaign)):e.set(a.$el.createCampaign,"disabled","disabled")};m(this.$el.campaignName,"keyup",b);m(this.$widget.campaignType,"change",b)},_initEcommerce:function(){var a=
this;a.storeDaySelect=f.byId(this.$el.storeDaySelect.id);a.storePastDays=f.byId(this.$el.storePastDays.id);a.storePercentage=f.byId(this.$el.storePercentage.id);a.fromMailChimpWidget=f.byId(this.$el.revenueFromMailchimp.id);a.fromCampaignsWidget=f.byId(this.$el.fromCampaigns.id);a.fromAutomationsWidget=f.byId(this.$el.fromAutomations.id);a.totalStoreRevenueWidget=f.byId(this.$el.totalStoreRevenue.id);a.storeOrdersWidget=f.byId(this.$el.storeOrders.id);var e=[{title:"Revenue",value:"Revenue",label:"Revenue"},
{title:"Orders",value:"Orders",label:"Orders"}];a.storeTabs=new d({options:e,itemTpl:a.itemTpl,activeClass:a.activeClass});a.storeTabs.placeAt(a.$el.storeGraphToggler);a.storeTabs.startup();a.storeTabs.setSelected(e[0].value);var h=w.models.stackBarChart(),k=w.models.multiLineTimeSeriesChart();a._loadDashboardData("dashboard/ecommerce").then(function(d){d=d.data;a._updateEcommerceMetaData(d);var e=d.revenue.data.orders;h.aspectRatio(2,1);h.xAxis.keyValue("date");h.yAxis.keyValue("val");h.yAxis.maxTicks(6);
h.yAxis.tickFormat(w.u.currencyTick);h.colors([g.green6,g.green3,g.green1]);h.noDataMessage("Hmm...Looks like you don't have revenue data for this time period.");if(u.flagIsOn(y.CONNECT_YOUR_SITE)){var f=d.site_count;a.$el.siteNoData&&0<f&&l.add(a.$el.siteNoData,"hide")}var m=h.legend();m.seriesLabels(["Campaigns","Automations","Other"]);m.horizontalAlign("right");f=h.tooltip();f.enabled(!0);f.xOffset(10);f.dataFormatter(function(a){var b=v.format(",.2f");return v.time.format("%b %d, %Y")(a.x)+"\x3cbr/\x3e$"+
b(a.y)+" from "+m.seriesLabels()[a.seriesIndex]});h.loadChart("#storeRevenueChart",e);a.ordersGraphData=[d.orders.data.orders.completed_orders,d.orders.data.carts.recovered_carts];k.aspectRatio(2,1);k.xAxis.keyValue("date");k.xAxis.maxTicks(7);k.yAxis.keyValues(["val","val"]);k.yAxis.maxTicks(6);k.colors([g.pink6,g.pink3]);k.noDataMessage("Hmm...Looks like you don't have orders data for this time period.");var n=k.legend();n.seriesLabels(["Completed Orders","Recovered Carts"]);n.horizontalAlign("right");
d=k.tooltip();d.enabled(!0);d.dataFormatter(function(a){var b="",c=v.format(","),d=v.time.format("%b %d, %Y"),b=b+d(new Date(a.date))+"\x3cbr\x3e";a.serie0&&(b=b+n.seriesLabels()[0]+": \x3cspan style\x3d'font-weight: bold'\x3e"+c(a.serie0.val)+"\x3c/span\x3e \x3cbr\x3e");a.serie1&&(b=b+n.seriesLabels()[1]+": \x3cspan style\x3d'font-weight: bold'\x3e"+c(a.serie1.val)+"\x3c/span\x3e \x3cbr\x3e");return b});a.storeTabs.on("change",b.hitch(a.storeTabs,function(){"Orders"===this.value?(l.add(a.$el.storeRevenueGraph,
"hide"),l.remove(a.$el.storeOrdersGraph,"hide"),!1===!!c(".mcchart-container","storeOrdersGraph").children().length&&k.loadChart("#storeOrdersChart",a.ordersGraphData)):(l.remove(a.$el.storeRevenueGraph,"hide"),l.add(a.$el.storeOrdersGraph,"hide"))}))},function(a){});m(a.storeDaySelect,"change",function(b){a._loadDashboardData("dashboard/ecommerce",b).then(function(d){d=d.data;a._updateEcommerceMetaData(d);a.storePastDays.set("endVal",b);var e={};e.xAxisFormat="360"===b?"%b '%y":"%b %d";h.update(d.revenue.data.orders,
e);a.ordersGraphData=[d.orders.data.orders.completed_orders,d.orders.data.carts.recovered_carts];c(".mcchart-container","storeOrdersGraph").children().length&&k.update(a.ordersGraphData)})})},_updateEcommerceMetaData:function(a){var b=a.revenue.meta_data.orders.mailchimp.current,c=a.revenue.meta_data.orders.total_by_series.email_campaigns,d=a.revenue.meta_data.orders.total_by_series.automations,e=a.revenue.meta_data.orders.totals.current,f=a.orders.meta_data.orders.totals.current,g=a.revenue.meta_data.section_title,
h=a.revenue.meta_data.store_count;a=this._findRateOfChange(a.revenue.meta_data.orders.mailchimp.current,a.revenue.meta_data.orders.mailchimp.previous);this._checkPercentage(a,this.$el.storePercentageWrapper,this.storePercentage);this.fromMailChimpWidget.set("endVal",b);this.fromCampaignsWidget.set("endVal",c);this.fromAutomationsWidget.set("endVal",d);this.totalStoreRevenueWidget.set("endVal",e);this.storeOrdersWidget.set("endVal",f);this.$el.storeName&&(u.flagIsOn(y.CONNECT_YOUR_SITE)?this.$el.storeName.innerHTML=
"E-Commerce performance":this.$el.storeName.innerHTML=g);1<h&&!u.flagIsOn(y.CONNECT_YOUR_SITE)&&(this.$el.storeCount.innerHTML=h+" stores connected",l.remove(this.$el.storeCount,"hide"))},_initAudience:function(){var a=this;this.audienceDaySelect=f.byId(this.$el.audienceDaySelect.id);this.audiencePastDays=f.byId(this.$el.audiencePastDays.id);this.audiencePercentage=f.byId(this.$el.audiencePercentage.id);this.audienceChangeWidget=f.byId(this.$el.audienceChange.id);this.unsubsBouncesWidget=f.byId(this.$el.unsubsBounces.id);
this.totalAudienceWidget=f.byId(this.$el.totalAudience.id);var c=w.models.stackBarChart(),e=w.models.doughnutChart(),h=[{title:"Growth",value:"Growth",label:"Growth"},{title:"Sources",value:"Sources",label:"Sources"}];this.audienceTabs=new d({options:h,itemTpl:a.itemTpl,activeClass:a.activeClass});var k=!0;this.audienceTabs.placeAt(this.$el.audienceGraphToggler);this.audienceTabs.startup();this.audienceTabs.setSelected(h[0].value);this.audienceTabs.on("change",b.hitch(this.audienceTabs,function(){"Sources"===
this.value?(l.add(a.$el.audienceGrowthGraph,"hide"),l.remove(a.$el.audienceSourcesGraph,"hide"),k&&(k=!1,e.colors([g.blue6,g.green6,g.orange6,g.pink6,g.red6,g.violet6]),e.strokeWidth(40),e.percentageOnly(!0),e.loadChart("#sourcesDoughnutchart",a.sourcesGraphData).then(function(b){a._showNoDataState(b.data,a.$el.audienceSourcesGraphWrapper,a.$el.audienceSourcesNoData);e.legendContainer=a.$el.audienceSourcesLegend;a._createLegendNodes(b.data.length);e._createLegend()}))):(l.remove(a.$el.audienceGrowthGraph,
"hide"),l.add(a.$el.audienceSourcesGraph,"hide"))}));a._loadDashboardData("dashboard/audience").then(function(b){b=b.data;a.sourcesGraphData=b.sources.data.distribution.sources;a._updateAudienceMetaData(b);b={subscribers:b.growth.data.subscribers.active,net_growth:b.growth.data.subscribers.net_growth};c.aspectRatio(2,1);c.xAxis.keyValue("date");c.yAxis.keyValue("val");c.yAxis.maxTicks(6);c.colors([g.yellow6,g.yellow3]);c.noDataMessage("Hmm...Looks like you don't have growth data for this time period.");
var d=c.legend();d.seriesLabels(["Existing subscribers","Audience Change"]);d.horizontalAlign("right");var e=c.tooltip();e.enabled(!0);e.xOffset(10);e.dataFormatter(function(a){var b=v.format(",");return v.time.format("%b %d, %Y")(a.x)+"\x3cbr/\x3e"+d.seriesLabels()[a.seriesIndex]+": "+b(a.y)});c.loadChart("#audienceGrowthChart",b)},function(a){});m(a.audienceDaySelect,"change",function(b){a._loadDashboardData("dashboard/audience",b).then(function(d){d=d.data;a.audiencePastDays.set("endVal",b);a._updateAudienceMetaData(d);
a.sourcesGraphData=d.sources.data.distribution.sources;var f={};f.xAxisFormat="360"===b?"%b '%y":"%b %d";c.update({subscribers:d.growth.data.subscribers.active,net_growth:d.growth.data.subscribers.net_growth},f);k||e.updateData(a.sourcesGraphData).then(function(b){a._showNoDataState(b.data,a.$el.audienceSourcesGraphWrapper,a.$el.audienceSourcesNoData);a._createLegendNodes(b.data.length);e._createLegend()})})})},_showNoDataState:function(b,c,d){0===b.length?(l.add(c,"hide"),l.remove(d,"hide"),a.place("\x3cp\x3eHmm... Looks like you don't have audience data for this time period.\x3c/p\x3e",
this.$el.audienceSourcesNoData,"only")):(l.remove(c,"hide"),l.add(d,"hide"))},_createLegendNodes:function(b){for(var c=0;c<b;c++)a.place('\x3cdiv class\x3d"flex flex-justify-right"\x3e\x3cdiv class\x3d"flex-half"\x3e\x3c/div\x3e\x3cdiv class\x3d"flex-third"\x3e\x3c/div\x3e\x3c/div\x3e',this.$el.audienceSourcesLegend)},_updateAudienceMetaData:function(a){var b=a.growth.meta_data.subscribers.totals.active,c=a.growth.meta_data.subscribers.totals.net_growth,d=this._findRateOfChange(b,b-c);a=a.growth.meta_data.subscribers.totals.unsubscribes;
this._checkPercentage(d,this.$el.audiencePercentageWrapper,this.audiencePercentage);this.audiencePercentage.set("endVal",d);this.audienceChangeWidget.set("endVal",c);this.unsubsBouncesWidget.set("endVal",a);this.totalAudienceWidget.set("endVal",b)},_findRateOfChange:function(a,b){return 0===b?0:100*(a/b)-100},_initEngagement:function(){var a=this;this.engagementDaySelect=f.byId(this.$el.engagementDaySelect.id);this.emailsDelivered=f.byId(this.$el.emailsDelivered.id);this.openedTotal=f.byId(this.$el.openedTotal.id);
this.openedPercentage=f.byId(this.$el.openedPercentage.id);this.clickedTotal=f.byId(this.$el.clickedTotal.id);this.clickedPercentage=f.byId(this.$el.clickedPercentage.id);this.emailsPastDays=f.byId(this.$el.emailsPastDays.id);this.$el.addedToCartTotal&&(this.addedToCartTotal=f.byId(this.$el.addedToCartTotal.id),this.addedToCartPercentage=f.byId(this.$el.addedToCartPercentage.id),this.purchasedTotal=f.byId(this.$el.purchasedTotal.id),this.purchasedPercentage=f.byId(this.$el.purchasedPercentage.id));
if(this.$el.engagementToggler){var c=[{title:"Inbox",value:"Inbox",label:"Inbox"},{title:"E-commerce",value:"E-commerce",label:"E-commerce"}];this.engagementTabs=new d({options:c,itemTpl:a.itemTpl,activeClass:a.activeClass});this.engagementTabs.placeAt(this.$el.engagementToggler);this.engagementTabs.startup();this.engagementTabs.setSelected(c[0].value)}var e=w.models.multiLineTimeSeriesChart(),h=w.models.multiLineTimeSeriesChart(),k=!0;a._loadDashboardData("dashboard/engagement").then(function(c){var d=
c.data;a._updateEngagementMetadata(d);c=[d.campaigns.data.rates.open_rate,d.campaigns.data.rates.click_rate];a.ecommerceGraphData=[d.campaigns.data.rates.add_to_cart_rate,d.campaigns.data.rates.purchase_rate];e.aspectRatio(2,1);e.xAxis.keyValue("date");e.xAxis.maxTicks(7);e.yAxis.keyValues(["val","val"]);e.yAxis.maxTicks(6);e.yAxis.tickFormat(w.u.percentageTick);e.colors([g.violet6,g.violet3]);e.noDataMessage("Hmm...Looks like you don't have campaign engagement data for this time period.");var f=
e.legend();f.seriesLabels(["Opened","Clicked"]);f.horizontalAlign("right");d=e.tooltip();d.enabled(!0);d.dataFormatter(function(a){var b="",c=v.time.format("%b %d, %Y"),b=b+c(new Date(a.date))+"\x3cbr\x3e";a.serie0&&(b=b+f.seriesLabels()[0]+": \x3cspan style\x3d'font-weight: bold'\x3e"+v.format(".2f")(a.serie0.val)+"% \x3c/span\x3e \x3cbr\x3e");a.serie1&&(b=b+f.seriesLabels()[1]+": \x3cspan style\x3d'font-weight: bold'\x3e"+v.format(".2f")(a.serie1.val)+"% \x3c/span\x3e \x3cbr\x3e");return b});e.loadChart("#emailEngagementChart",
c);h.aspectRatio(2,1);h.xAxis.keyValue("date");h.xAxis.maxTicks(7);h.yAxis.keyValues(["val","val"]);h.yAxis.maxTicks(6);h.yAxis.tickFormat(w.u.percentageTick);h.colors([g.pink6,g.pink3]);h.noDataMessage("Hmm...Looks like you don't have e-commerce data for this time period.");var m=h.legend();m.seriesLabels(["Added to cart","Purchased"]);m.horizontalAlign("right");c=h.tooltip();c.enabled(!0);c.dataFormatter(function(a){var b="",c=v.time.format("%b %d, %Y"),b=b+c(new Date(a.date))+"\x3cbr\x3e";a.serie0&&
(b=b+m.seriesLabels()[0]+": \x3cspan style\x3d'font-weight: bold'\x3e"+v.format(".2f")(a.serie0.val)+"% \x3c/span\x3e \x3cbr\x3e");a.serie1&&(b=b+m.seriesLabels()[1]+": \x3cspan style\x3d'font-weight: bold'\x3e"+v.format(".2f")(a.serie1.val)+"% \x3c/span\x3e \x3cbr\x3e");return b});if(a.$el.engagementToggler)a.engagementTabs.on("change",b.hitch(a.engagementTabs,function(){"E-commerce"===this.value?(l.add(a.$el.emailEngagementChartWrapper,"hide"),l.remove(a.$el.ecommerceEngagementChartWrapper,"hide"),
k&&(k=!1,h.loadChart("#ecommEngagementChart",a.ecommerceGraphData))):(l.remove(a.$el.emailEngagementChartWrapper,"hide"),l.add(a.$el.ecommerceEngagementChartWrapper,"hide"))}))});m(this.engagementDaySelect,"change",function(b){a._loadDashboardData("dashboard/engagement",b).then(function(c){c=c.data;a.ecommerceGraphData=[c.campaigns.data.rates.add_to_cart_rate,c.campaigns.data.rates.purchase_rate];a.engagementDaySelect.set("endVal",b);a.emailsPastDays.set("endVal",b);k||h.update(a.ecommerceGraphData);
e.update([c.campaigns.data.rates.open_rate,c.campaigns.data.rates.click_rate]);a._updateEngagementMetadata(c)})})},_updateEngagementMetadata:function(a){var b=this._getPercentage(a.campaigns.meta_data.stats.total_by_series.opened,a.campaigns.meta_data.stats.total_by_series.delivered),c=this._getPercentage(a.campaigns.meta_data.stats.total_by_series.clicked,a.campaigns.meta_data.stats.total_by_series.opened),d=this._getPercentage(a.campaigns.meta_data.stats.total_by_series.added_to_cart,a.campaigns.meta_data.stats.total_by_series.clicked),
e=this._getPercentage(a.campaigns.meta_data.stats.total_by_series.purchased,a.campaigns.meta_data.stats.total_by_series.added_to_cart);this.emailsDelivered.set("endVal",a.campaigns.meta_data.stats.total_by_series.delivered);this.openedTotal.set("endVal",a.campaigns.meta_data.stats.total_by_series.opened);this.openedPercentage.set("endVal",b);this.clickedTotal.set("endVal",a.campaigns.meta_data.stats.total_by_series.clicked);this.clickedPercentage.set("endVal",c);this.addedToCartTotal&&this.addedToCartTotal.set("endVal",
a.campaigns.meta_data.stats.total_by_series.added_to_cart);this.purchasedTotal&&this.purchasedTotal.set("endVal",a.campaigns.meta_data.stats.total_by_series.purchased);this.addedToCartPercentage&&this.addedToCartPercentage.set("endVal",d);this.purchasedPercentage&&this.purchasedPercentage.set("endVal",e)},_getPercentage:function(a,b){return 0===b?0:100*(a/b)},_loadDashboardData:function(a,b){var c=7;b&&(c=b);var d=new t;p.get(r.toUrl(a),{handleAs:"json",query:{period:c}}).then(function(a){d.resolve({promise:"success",
data:a})});return d},_checkPercentage:function(a,b,c){-1<a&&1>a?l.add(b,"hide"):(l.remove(b,"hide"),c.set("endVal",a))}})})},"mojo/views/fresh/peaches2/users/campaigns/index":function(){define("dojo/_base/declare dojo/_base/lang mojo/views/_base mojo/app/peaches2/tabContainerUtil mojo/app/peaches2/utils dojo/topic dijit/registry mojo/analytics/parts/FilterMenu mojo/analytics/parts/FilterMessage dojo/dom dojo/dom-attr dojo/on dojo/dom-class mojo/utils mojo/url dojo/request/xhr".split(" "),function(h,
k,d,g,b,c,f,l,e,a,m,n,p,t,q,r){return h([d],{pageTabs:null,activeSection:null,userAttrs:null,modules:null,campaingId:null,sectionId:null,onReady:function(){this.pageTabs.forEach(function(a){a.preload=!0});var a=new g;a.createContentPanes(this.$el.informationTabs,this,window._mcaModules);this.tabContainer=a;this.modules=this.tabContainer.viewModule;n(this.$el.deleteCampaignCancelButton,"click",k.hitch(this,function(){this.cancelDelete()}))},openEmailTool:function(a){a=a.attr("value");if(!a)return!1;
"http:"===a.substring(0,5)||"https:"===a.substring(0,6)?window.open(a):window.location=a;return!1},deleteCampaign:function(a,b,c){this.$el.campaignId.value=a;this.$el.sectionId.value=c;this.$el.regularUserId.value=this.userAttrs.userId;"variate-child"===b?p.remove("deleteVariateText","hide"):p.add("deleteVariateText","hide");this.$widget.deleteDialog.show()},submitDeletedCampaign:function(a){a.stopPropagation();a.preventDefault();0===this.$el.deleteNote.value.length?t.addError(this.$el.deleteNote,
"Please provide a note"):5>this.$el.deleteNote.value.length?t.addError(this.$el.deleteNote,"Please provide a more meaningful note"):this.$el.deleteDialogForm.submit()},cancelDelete:function(){this.$widget.deleteDialog.hide();t.removeErrors(this.$el.deleteNote);this.$el.deleteNote.value=""},manageLinks:function(a){var b=this;a={title:"Campaign Links: "+a,href:q.toUrl("/peaches2/"+b.userAttrs.agentRole+"/users/campaigns",{_s:"campaign-links",user_id:b.userAttrs.userId,cid:a}),stub:"campaign-links",
closable:!0,onClose:function(){b.tabContainer.campaignLinksSection=null;return!0}};this.tabContainer.addNewPane(a,!0)},viewCampaignDetails:function(a){var b=this;a={title:"Campaign Details: "+a,href:q.toUrl("/peaches2/"+b.userAttrs.agentRole+"/users/campaigns",{_s:"campaign-details",user_id:b.userAttrs.userId,cid:a}),stub:"campaign-details",closable:!0,onClose:function(){b.tabContainer.campaignDetailsSection=null;return!0}};this.tabContainer.addNewPane(a,!0)},manageBounces:function(a){var b=this;
a={title:"Bounces: "+a,href:q.toUrl("/peaches2/"+b.userAttrs.agentRole+"/users/campaigns",{_s:"campaign-bounces",user_id:b.userAttrs.userId,cid:a}),stub:"campaign-bounces",closable:!0,onClose:function(){b.tabContainer.campaignBouncesSection=null;return!0}};this.tabContainer.addNewPane(a,!0)},resizeIframe:function(){a.byId("HtmlIframe").style.height=frames.campaignIframe.document.body.scrollHeight+"px"},showCampaignContent:function(){this.saveCampaignDetailsTab("content");this.resizeIframe()},saveCampaignDetailsTab:function(a){r(q.toUrl("/peaches2/"+
this.userAttrs.agentRole+"/users/campaigns/save-campaign-details-state",{user_id:this.userAttrs.userId,section:a}),{handleAs:"json"}).then(function(a){},function(a){b.utils.setFlash(a,"error")})},translateToggle:function(a,b){var c="http://translate.google.com/translate?tl\x3den\x26u\x3d"+escape(b);window.open(c+"\x26translate_to\x3den",a,"height\x3d500,width\x3d700")},sendEventSearchForm:function(b,c,d){d=a.byId(d).value;f.byId("event-search-subsection").setHref(q.toUrl("/peaches2/"+this.userAttrs.agentRole+
"/users/campaigns/event-search}",{user_id:b,cid:c,email:d}))},loadFilter:function(b){var c=null,c=null,d={filters:[{label:"Status",key:"status",type:"select",options:{save:"Saved",paused:"Paused",schedule:"Scheduled",sending:"sending",sent:"Sent",canceled:"Cancelled"}},{label:"Created since...",key:"age",type:"select",options:{1:"One day ago",2:"Two days ago",7:"One week ago"}},{label:"List ID",key:"list_id",type:"text"},{label:"FROM Name",key:"from_name",type:"text"},{label:"FROM Email",key:"from_email",
type:"text"},{label:"Title",key:"title",type:"text"},{label:"Subject",key:"subject",type:"text"},{label:"Parent Campaign",key:"parent",type:"text"},{label:"Include this parent",key:"include_parent",type:"checkbox"}]};"autoresponder"===b&&(d.target="autoresponders-list",c=new l(d),a.byId("autoresponders-filters").appendChild(c.domNode),c=new e(d),a.byId("autoresponders-filters-message").appendChild(c.domNode));"automation"===b&&(d.target="automations-list",c=new l(d),a.byId("automations-filters").appendChild(c.domNode),
c=new e(d),a.byId("automations-filters-message").appendChild(c.domNode));d.filters.unshift({label:"Type",key:"type",type:"select",options:{regular:"Regular",plaintext:"Plain text",variate:"Multivariate","variate-child":"Multivariate Child",absplit:"A/B Split",rss:"RSS"}});"regular"===b&&(d.target="regular-list",c=new l(d),a.byId("campaigns-filters").appendChild(c.domNode),c=new e(d),a.byId("campaigns-filters-message").appendChild(c.domNode));"deleted"===b&&(d.target="deleted-campaigns-list",c=new l(d),
a.byId("deleted-campaigns-filters").appendChild(c.domNode),c=new e(d),a.byId("deleted-campaigns-filters-message").appendChild(c.domNode),d.target="deleted-automations-list",c=new l(d),a.byId("deleted-automations-filters").appendChild(c.domNode),c=new e(d),a.byId("deleted-automations-filters-message").appendChild(c.domNode))}})})},"mojo/views/fresh/peaches2/users/billing/index":function(){define(["dojo/_base/declare","mojo/views/_base","mojo/url","mojo/app/peaches2/tabContainerUtil"],function(h,k,
d,g){return h([k],{pageTabs:null,activeSection:null,userAttrs:null,modules:null,onReady:function(){var b=new g;b.createContentPanes(this.$el.informationTabs,this,window._mcaModules);this.tabContainer=b;this.modules=this.tabContainer.viewModule}})})},"mojo/views/fresh/peaches2/users/account/cleanup":function(){define(["dojo/_base/declare","mojo/views/_base","dojo/dom-style","dojo/on"],function(h,k,d,g){return h([k],{pageJs:null,elId:null,onReady:function(){var b=this;g(this.$el.actionSelect,"change",
function(c){var f=this.value;b.$group.actionForm.forEach(function(b){f===b.id?d.set(b,"display","block"):d.set(b,"display","none")})})}})})},"mojo/views/fresh/peaches2/users/account/dkim":function(){define("dojo/_base/declare mojo/views/_base dojo/on mojo/url dojo/request/xhr mojo/app/peaches2/utils".split(" "),function(h,k,d,g,b,c){return h([k],{pageJs:null,elId:null,onReady:function(){var b=this;d(this.$el.dkimKeyName,"change",function(){b.populateForm()});d(this.$el.dkimGenerateButton,"click",
function(){b.generateDkim()});d(this.$el.dkimDeleteButton,"click",function(){b.deleteKey()});this.$el.dkimKeyChanges.onsubmit=function(){b.$el.dkimDomain.disabled=!1;b.$el.dkimSelector.disabled=!1}},generateDkim:function(){var d=this;b(g.toUrl("/peaches2/"+d.pageJs.userAttrs.agentRole+"/users/account/dkim-generate"),{query:{user_id:d.pageJs.userAttrs.userId}}).then(function(b){d.$el.dkimKeyData.value=b},function(b){c.utils.setFlash(b,"error")})},deleteKey:function(){var d=this.$el.dkimKeyName.value;
b(g.toUrl("/peaches2/"+this.pageJs.userAttrs.agentRole+"/users/account/dkim-delete-key"),{query:{user_id:this.pageJs.userAttrs.userId,id:d}}).then(function(b){location.reload()},function(b){c.utils.setFlash(b,"error")})},populateForm:function(){var d=this,h=this.$el.dkimKeyName.value;"new"===h?(this.$el.dkimDomain.disabled=!1,this.$el.dkimSelector.disabled=!1,this.$el.dkimDomain.value="",this.$el.dkimSelector.value="",d.$el.dkimKeyData.value=""):(d.$el.dkimDomain.disabled=!0,this.$el.dkimSelector.disabled=
!0,b(g.toUrl("/peaches2/"+d.pageJs.userAttrs.agentRole+"/users/account/dkim-get-data"),{query:{user_id:d.pageJs.userAttrs.userId,id:h},handleAs:"json"}).then(function(b){d.$el.dkimSelector.value=b.selector;d.$el.dkimDomain.value=b.domain;d.$el.dkimKeyData.value=b.key_data},function(b){c.utils.setFlash(b,"error")}))}})})},"mojo/views/fresh/peaches2/users/account/features":function(){define(["dojo/_base/declare","mojo/views/_base","dojo/dom-attr","dojo/on"],function(h,k,d,g){return h([k],{pageJs:null,
elId:null,onReady:function(){var b=this;this.$group.addFeatureButtons&&this.$group.addFeatureButtons.forEach(function(c){g(c,"click",function(){b.addFeature(d.get(c,"data-feature-id"),d.get(c,"data-feature-name"))})});this.$group.removeFeatureButtons&&this.$group.removeFeatureButtons.forEach(function(c){g(c,"click",function(){b.removeFeature(d.get(c,"data-feature-id"),d.get(c,"data-feature-name"))})})},addFeature:function(b,c){this.$el.featureId.value=b;this.$el.featureStartTime.value="";this.$el.featureEndTime.value=
"";this.$el.addFeatureText.innerHTML="Do you want to add \x3cstrong\x3e"+c+"\x3c/strong\x3e to this user?";this.$widget.addFeatureDialog.show()},removeFeature:function(b,c){this.$el.featureRemoveId.value=b;this.$el.removeFeatureText.innerHTML="Are you sure you want to remove \x3cstrong\x3e"+c+"\x3c/strong\x3e from this user?";this.$widget.removeFeatureDialog.show()}})})},"mojo/views/fresh/peaches2/users/account/index":function(){define(["dojo/_base/declare","mojo/views/_base","mojo/url","mojo/app/peaches2/tabContainerUtil"],
function(h,k,d,g){return h([k],{pageTabs:null,activeSection:null,userAttrs:null,modules:null,onReady:function(){var b=new g;b.createContentPanes(this.$el.informationTabs,this,window._mcaModules);this.tabContainer=b;this.modules=this.tabContainer.viewModule;"login-details"===this.activeSection&&this.modules.viewLogins.viewLoginDetails(window.location.href,"")},refreshUserActivityPane:function(b,c,f){this.tabContainer.userActivitySection&&(b=d.toUrl("/peaches2/"+this.userAttrs.agentRole+"/users/account",
{_s:"user-activity",type:"undefined"!==typeof f?f:"",user_id:b,page:c}),this.tabContainer.userActivitySection.setHref(b))}})})},"mojo/views/fresh/peaches2/users/account/view-logins":function(){define(["dojo/_base/declare","mojo/views/_base","dojo/dom-attr","dojo/on"],function(h,k,d,g){return h([k],{pageJs:null,elId:null,onReady:function(){var b=this;this.$group.viewLoginAccount&&this.$group.viewLoginAccount.forEach(function(c){g(c,"click",function(){b.viewLoginDetails(d.get(c,"data-url"),d.get(c,
"data-name"))})});"login-details"===this.activeSection&&this.viewLoginDetails(window.location.href)},viewLoginDetails:function(b,c){var d=this;this.pageJs.tabContainer.addNewPane({title:"Login Details: "+c,href:b,stub:"login-details",closable:!0,onClose:function(){d.pageJs.tabContainer.loginDetailsSection=null;return!0}},!0)}})})},"mojo/views/fresh/peaches2/qa/accounts/index":function(){define(["dojo/_base/declare","dojo/on","mojo/views/_base"],function(h,k,d){return h([d],{onReady:function(){var d=
this;k(this.$el.addAccountButton,"click",function(){d.$widget.addAccountDialog.show()})},deleteTestingAccount:function(d){this.$el.userIdInput.value=d;this.$widget.deleteDialog.show()}})})},"mojo/views/fresh/peaches2/investigations/dashboards/suspicious-patterns/index":function(){define(["dojo/_base/declare","mojo/views/_base","mojo/analytics/parts/FilterMenu","mojo/analytics/parts/FilterMessage"],function(h,k,d,g){return h([k],{onReady:function(){var b={target:"suspicious-patterns-list",filters:[{label:"Type",
key:"suspicious_type",type:"select",options:{"supported send":"Suspicious Send Patterns (supported)","unsupported send'":"Suspicious Send Patterns (unsupported)",monthly:"4XMonthly",stalked:"Stalked Users",signup:"Signup - Bad Domain",replyto:"Replyto - Bad Domain",listformspam:"List Form Spam",verification:"List Form Spam","large list upload":"Large List Upload","big sender":"Big Sender",vetting:"Vetting","potential spammer":"Potential Spammer"}}]},c=new d(b);this.$el.suspiciousPatternsFilters.appendChild(c.domNode);
b=new g(b);this.$el.suspiciousPatternsFiltersMessage.appendChild(b.domNode)}})})},"mojo/views/fresh/peaches2/investigations/dashboards/multiple-accounts/index":function(){define("dojo/_base/declare mojo/views/_base dojo/query dojo/dom-style dojo/dom-class dojo/dom".split(" "),function(h,k,d,g,b,c){return h([k],{onReady:function(){this.toggleSection("domain")},toggleSection:function(b){d(".sectme").forEach(function(b){g.set(b,"display","none")});g.set(c.byId(b),"display","block")},toggleDetail:function(c){var h=
c.split("-")[0];d(".detailme",c).forEach(function(c){b.contains(c,h)||("none"===g.get(c,"display")?(g.set(c,"display","none"),g.set(c,"display","block")):(g.set(c,"display","block"),g.set(c,"display","none")))})}})})},"mojo/views/fresh/peaches2/financial/exports":function(){define("dojo/_base/declare dojo/_base/lang mojo/views/_base dojo/dom dojo/on dojo/dom-style dojo/dom-attr mojo/url dojo/query".split(" "),function(h,k,d,g,b,c,f,l,e){return h([d],{monthVal:null,yearVal:null,onReady:function(){var a=
(new Date).getMonth()+1;f.set(e("option[value\x3d"+("0"+a).slice(-2)+"]")[0],"selected",!0);this.monthVal=this.$el.monthSelect.value;this.yearVal=this.$el.yearSelect.value;b(this.$el.monthSelect,"change",k.hitch(this,function(){this.monthVal=this.$el.monthSelect.value}));b(this.$el.yearSelect,"change",k.hitch(this,function(){this.yearVal=this.$el.yearSelect.value}))},exportOverviewReport:function(){10>=this.monthVal&&2015>=this.yearVal?c.set(this.$el.ordersFeedback,"display","block"):c.set(this.$el.ordersFeedback,
"display","non");document.location=l.toUrl("/peaches2/financial/export-discounts-overview ",{discount_month:this.monthVal})},exportMonthlyOrdersReport:function(){document.location=l.toUrl("/peaches2/financial/monthly-orders-post",{month:this.monthVal,year:this.yearVal})},exportMonthlyRefundsReport:function(){document.location=l.toUrl("/peaches2/financial/monthly-orders-post",{refunds_only:"Y",month:this.monthVal,year:this.yearVal})},exportIntlOrdersReport:function(){document.location=l.toUrl("/peaches2/financial/i18n-orders-export",
{month:this.monthVal,year:this.yearVal})},exportFBReports:function(){document.location=l.toUrl("/peaches2/financial/fb-export",{month:this.monthVal,year:this.yearVal})}})})},"mojo/views/fresh/peaches2/financial/orders":function(){define(["dojo/_base/declare","dojo/_base/lang","mojo/views/_base","mojo/analytics/parts/FilterMenu","mojo/analytics/parts/FilterMessage"],function(h,k,d,g,b){return h([d],{onReady:function(){var c={target:"orders-list",filters:[{label:"Order Type",key:"type",type:"select",
options:{internal:"Internal Orders",regular:"Regular Orders"}},{label:"Status",key:"status",type:"select",options:{paid:"Paid",refunded:"Refunded",failed:"Failed"}},{label:"Order ID",key:"order_id",type:"text"},{label:"User ID",key:"user_id",type:"text"}]},d=new g(c);this.$el.ordersFilters.appendChild(d.domNode);c=new b(c);this.$el.ordersFiltersMessage.appendChild(c.domNode)}})})},"mojo/views/fresh/peaches2/delivery/seedlists/index":function(){define(["dojo/_base/declare","mojo/views/_base","mojo/url",
"dojo/on","dijit/registry"],function(h,k,d,g,b){return h([k],{user_id:null,onReady:function(){var b=this;g(this.$el.createSeedlistButton,"click",function(){b.$widget.createSeedlistDialog.show()})},deleteSeedList:function(b){this.$el.userIdInput.value=b;this.$widget.deleteDialog.show()}})})},"mojo/views/fresh/peaches2/delivery/dedicated-ips/index":function(){define("dojo/_base/declare mojo/views/_base mojo/url dijit/registry dojo/on mojo/analytics/parts/FilterMenu mojo/analytics/parts/FilterMessage".split(" "),
function(h,k,d,g,b,c,f){return h([k],{user_id:null,onReady:function(){var d=this,e={filters:[{label:"User ID",key:"user_id",type:"text"},{label:"Username or company",key:"username",type:"text"},{label:"MTA",key:"mta",type:"text"},{label:"Status",key:"status",type:"select",options:{Y:"Can send",N:"Can not send"}},{label:"Type",key:"type",type:"select",options:{SHEDICATED:"SHEDICATED",DEDICATED:"DEDICATED"}},{label:"Custom DNS",key:"dns",type:"select",options:{GENERIC:"GENERIC",ELIGIBLE:"ELIGIBLE",
CUSTOM:"CUSTOM",LEGACY:"LEGACY"}},{label:"Charged for IPs?",key:"is_billable",type:"select",options:{Y:"Yes",N:"No"}}],target:"dedicated-ip-list"},a=new c(e);this.$el.dedicatedIpListFilters.appendChild(a.domNode);e=new f(e);this.$el.dedicatedIpListFiltersMessage.appendChild(e.domNode);b(this.$el.createIpButton,"click",function(){d.$widget.createIpDialog.show()})},deleteIp:function(b){this.$el.userIdInput.value=b;this.$el.idInput.value=b;this.$widget.deleteDialog.show()}})})},"mojo/views/fresh/peaches2/admin/webhooks/index":function(){define(["dojo/_base/declare",
"mojo/views/_base","mojo/url","mojo/app/peaches2/webhooks","mojo/app/peaches2/utils"],function(h,k,d,g,b){return h([k,g],{users:null,onReady:function(){this.inherited(arguments);var c=this,d=this.users.list;d&&Object.keys(d).forEach(function(d){c.$widget["webHook"+d].set("onDownloadEnd",function(){b.utils.refreshOnError(this);c.webhookHeadCheckAll()})})}})})},"mojo/views/fresh/peaches2/admin/job-server/index":function(){define("dojo/_base/declare mojo/views/_base dojo/dom dojo/dom-style mojo/url dojo/on mojo/app/peaches2/utils dojo/request/xhr dijit/registry".split(" "),
function(h,k,d,g,b,c,f,l,e){return h([k],{onReady:function(){var a=this;c(this.$el.deleteAllErrorsButton,"click",function(){a.$widget.deleteAllErrorsDialog.show()});c(this.$el.closeDeleteAllButton,"click",function(){a.$widget.deleteAllErrorsDialog.hide()});c(this.$el.closeViewErrorsDialog,"click",function(){a.$widget.jobErrorsDialog.hide()})},viewErrors:function(a){var c=this;l(b.toUrl("/peaches2/admin/job-server/view-errors"),{query:{job:a}}).then(function(a){c.$el.viewErrorsDialogContent.innerHTML=
a;c.$widget.jobErrorsDialog.show()})},retryJob:function(a,c){var d=this;l(b.toUrl("/peaches2/admin/job-server/retry-single"),{query:{db_name:c,job_id:a},handleAs:"json"}).then(function(a){a.success?(g.set("error-"+a.job_id,"display","none"),d.$widget.jobErrorsDialog.hide(),f.utils.setFlash("Retrying job "+a.job_id,"info")):(d.$widget.jobErrorsDialog.hide(),f.utils.setFlash("Error occurred","error"))})},deleteJob:function(a,c){var e=this;l(b.toUrl("/peaches2/admin/job-server/delete-single"),{query:{db_name:c,
job_id:a},handleAs:"json"}).then(function(a){a.success?(g.set("error-"+a.job_id,"display","none"),e.$widget.jobErrorsDialog.hide(),f.utils.setFlash("Deleting job "+a.job_id,"info")):d.byId("error-"+a.job_id+"-action-delete").innerHTML="error occurred"})}})})},"mojo/views/fresh/peaches2/admin/agents/index":function(){define(["dojo/_base/declare","mojo/views/_base","mojo/url","dijit/registry"],function(h,k,d,g){return h([k],{user_id:null,deleteUser:function(b){this.$el.userIdInput.value=b;this.$widget.deleteDialog.show()},
exportPermissions:function(){document.location=d.toUrl("/peaches2/admin/agents/export",{type:"permissions"})}})})},"mojo/views/campaigns/index":function(){define("dojo/_base/declare dojo/_base/lang mojo/views/_base dijit/registry mojo/url dijit/Dialog dojo/request dojo/dom dojo/query dojo/dom-class dojo/dom-attr dojo/on mojo/utils mojo/app/campaigns mojo/app/placards dojo/topic dojo/dom-construct dojox/html/entities mojo/user mojo/flags mojo/IntentOverlay".split(" "),function(h,k,d,g,b,c,f,l,e,a,
m,n,p,t,q,r,s,v,w,u,y){return h([d],{campaignsChannel:null,campaignRenameModal:null,onReady:function(){this.campaignsChannel&&t.handleCommentUpdates(this.campaignsChannel);this.campaignRenameModal=g.byId("rename");this.errorsContainer=l.byId("errors");var a=this;n(e("#rename-form"),"submit",function(b){p.toggleButtonLoadingState(e("[data-action\x3d'try-rename']")[0]);b.preventDefault();a.tryRename(this)});this.$el.createCampaignButton&&(w.flagIsOn(u.MULTICHANNEL_FRONT_DOOR)?this.installFrontdoor():
this.installCreateCampaignModal())},installCreateCampaignModal:function(){var a=this;n(this.$el.createCampaignButton,"click",function(){a.$widget.selectCampaignDialog.show()});n(this.$el.cancelCampaign,"click",function(){a.$widget.campaignType.set("value","");a.$el.campaignName.value=null;a.$widget.selectCampaignDialog.hide()});n(this.$el.createCampaign,"click",function(){var c=a.$widget.campaignType.value,d=encodeURIComponent(a.$el.campaignName.value.trim());switch(c){case "regular":case "plaintext":case "variate":case "rss":c=
"/campaigns/create?type\x3d"+c+"\x26name\x3d"+d+"\x26source\x3dmodal_campaigns";break;case "facebook":case "google":c="/ads/create?type\x3d"+c+"\x26name\x3d"+d+"\x26source\x3dmodal_campaigns";break;default:throw Error("Unknown type "+c);}a.$widget.selectCampaignDialog.hide();a.$el.loader.style.display="block";window.location=b.toUrl(c)});var c=function(b){var c=a.$el.campaignName.value.trim(),d=a.$widget.campaignType.value;c&&d?(m.remove(a.$el.createCampaign,"disabled"),p.clickOnEnter(b,a.$el.createCampaign)):
m.set(a.$el.createCampaign,"disabled","disabled")};n(this.$el.campaignName,"keyup",c);n(this.$widget.campaignType,"change",c)},installFrontdoor:function(){var a=new y;a.startup();n(this.$el.createCampaignButton,"click",function(){a.router.go("/create-campaign")})},showPauseModal:function(a,c,d){var e="scheduled the campaign, \x3cstrong\x3e"+c+"\x3c/strong\x3e to be sent";"rss"==d&&(e="started the RSS campaign, \x3cstrong\x3e"+c+"\x3c/strong\x3e");l.byId("pause-action").innerHTML=e;m.set(l.byId("pause-link"),
"href",b.toUrl("campaigns/wizard/pause",{"id[]":a}));g.byId("pause-dialog").show()},pauseAd:function(a,b){q.pauseAd(a,b).then(function(){g.byId("campaigns-list").render()})},unpauseAd:function(a,b){q.unpauseAd(a,b).then(function(){g.byId("campaigns-list").render()})},showCancelAdModal:function(a,b){q.confirmCancel(a,b).then(function(){g.byId("campaigns-list").render()})},showRenameModal:function(a,b){maps=[["'","#039"]].concat(v.html,v.latin);var c=v.decode(b,maps),d=l.byId("rename-field");d.value=
c;m.set(d,"data-cid",a);m.set(d,"data-oldname",c);campaignRenameModal.show()},tryRename:function(b){p.toggleButtonLoadingState(e("[data-action\x3d'try-rename']")[0]);var c=l.byId("rename-field"),d=c.value,f=m.get(c,"data-cid"),g=m.get(c,"data-oldname");if(d&&d!=g)campaignRenameModal.hide(),s.place(s.create("input",{name:"id",type:"hidden",value:f}),b),s.place(s.create("input",{name:"new_title",type:"hidden",value:d}),b),s.place(s.create("input",{name:"old_title",type:"hidden",value:g}),b),b.submit();
else return b=l.byId("rename-error"),a.add(c,"invalid"),a.remove(b,"hide"),b.innerHTML=d==g?"That's the same name you had before.":"Every campaign needs a name. Get creative.",!1}})})},"mojo/views/campaigns/show":function(){define("dojo/_base/declare mojo/views/_base dojo/_base/lang dojo/on dojo/dom-class dojo/dom dojo/query dojo/Deferred mojo/utils mojo/url mojo/widgets/campaigns/CampaignArchiveUrl".split(" "),function(h,k,d,g,b,c,f,l,e,a,m){return h([k],{campaignId:null,archivedBaseUrl:null,campaignToken:null,
brandToken:null,rootDomain:null,onReady:function(){e.parseEmoji(c.byId("content"));this.$el.archiveUrlPane&&this._initEditArchiveUrl()},confirmLastEdit:function(){var a=new l,b=this.$widget.editArchiveUrlConfirmation;g(this.$el.confirmationSave,"click",function(c){c.stopPropagation();c.preventDefault();a.resolve(!0);b.hide()});g(this.$el.confirmationCancel,"click",function(c){c.stopPropagation();c.preventDefault();a.resolve(!1);b.hide()});b.show();return a.promise},_initEditArchiveUrl:function(){var a=
this,c=a.$el,e=null,f;g(c.editArchiveUrlButton,"click",d.hitch(this,function(){b.toggle(c.archiveUrlPane,"hide");b.toggle(c.editArchiveUrlPane,"hide");e||(e=new m({rootDomain:this.rootDomain,campaignToken:this.campaignToken,brandToken:this.brandToken,campaignId:this.campaignId,archivedBaseUrl:this.archivedBaseUrl,editMode:!0}),e.placeAt(c.editArchiveUrlHolder))}));f=function(){if(e.campaignToken===e.originalValue){var f=new l;f.resolve();return f.promise}return e.editUrl().then(d.hitch(this,function(d){d.response.status&&
(a.archivedUrlNumberOfRemainingEdits--,b.toggle(c.archiveUrlPane,"hide"),b.toggle(c.editArchiveUrlPane,"hide"),c.archiveUrlLink.innerHTML=d.response.url,c.archiveUrlLink.href=d.response.url)}))};g(c.saveNewUrl,"click",d.hitch(this,function(){1===a.archivedUrlNumberOfRemainingEdits?this.confirmLastEdit().then(function(a){if(a)return f()}).then(function(){0===a.archivedUrlNumberOfRemainingEdits&&b.toggle(c.editArchiveUrlButton,"hide")}):f()}));g(c.cancelArchiveEditing,"click",d.hitch(this,function(){b.toggle(c.archiveUrlPane,
"hide");b.toggle(c.editArchiveUrlPane,"hide")}))}})})},"mojo/views/campaigns/wizard/autocampaigns":function(){define("dojo/_base/declare mojo/views/_base dojo/query dojo/on dojo/Deferred dojo/_base/lang dojo/request/xhr mojo/KeyShortcuts mojo/neapolitan/utils mojo/Pusher dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-prop dojo/parser dojo/_base/array dojo/html dojo/dom dojo/aspect dojo/dom-form dojo/store/Memory dojo/dnd/Source dojo/dnd/Manager dijit/registry dijit/Dialog mojo/widgets/Previewer mojo/widgets/AutomationOverlay mojo/widgets/automation/SettingsOverlay mojo/utils mojo/url dojo/topic velocity/velocity dojo/NodeList-traverse".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s,v,w,u,y,x,A,C,D,E,G,H,M,J,S,W,X){var K=h([x],{autoSync:!0,withHandles:!0,a:null,b:null,insertNodes:function(a,b,c,d){this.a=b;this.b=d}});return h([k],{isMergeBasedSend:null,parentCampaignId:null,campaignStatus:null,childCampaignCount:null,listId:null,maxOffset:null,channelName:null,onReady:function(){this.isMergeBasedSend&&this.instantiateMergeField();this.instantiateSingleSourceDnd(v.byId("emails-container"));this.initializeQueueCount();g(document,"[data-action\x3d'open-view']:click",
function(a){a.stopPropagation();a.preventDefault();if(a=m.get(this,"data-popup-id"))C.byId(a).onExecute();a=m.get(this,"data-view-id");var b=m.get(this,"data-email-id"),c=m.get(this,"data-email-name"),e=d(".email[data-email_id\x3d"+b+"]").parents(".email-row-container")[0];G.main().openView(b,a,{emailName:c},e)});g(document,"[data-action\x3d'open-settings']:click",function(){C.byId("settings-overlay").show()});S.subscribe("campaign/"+this.parentCampaignId+"/setup",function(){M.toast("Settings updated",
"success")});S.subscribe("campaign/"+this.parentCampaignId+"/title",function(a){d(".c-campaignTitle, #builder-header").forEach(function(b){t.set(b,"textContent",a)})});0<=(document.location.search||"").toLowerCase().indexOf("setup")&&C.byId("settings-overlay").show()},instantiateMergeField:function(){g(document,'[data-workflow\x3d"merge-field"]:change',c.hitch(this,"changeMergeFieldAction"))},changeMergeFieldAction:function(){var a=v.byId("auto-event-datemerge").value;f.post(J.toUrl("automations/change-merge-field"),
{data:{parent_campaign_id:this.parentCampaignId,merge_id:a},handleAs:"json"}).then(c.hitch(this,function(a){this.updateTriggersOnMergeFieldChange(a)}),function(a){})},updateTriggersOnMergeFieldChange:function(a){emailRows=d("#emails-container .email-row-container");r.forEach(emailRows,c.hitch(this,function(b,c){d("[data-action\x3d'trigger']",b)[0].innerHTML=a[c]}))},showDeleteConfirmation:function(a,b){var c=C.byId("delete-confirmation"),d=J.toUrl("automations/confirm-delete",{parent_campaign_id:a,
child_campaign_id:b});m.set(c,"href",d);c.show()},instantiateDeleteConfirmationForm:function(){var a=v.byId("delete-child-campaign");d("input[type\x3dtext]",a)[0].focus();g(a,"submit",c.hitch(this,function(a){a.stopImmediatePropagation();a.preventDefault();var b=parseInt(d("input[name\x3dchild_campaign_id]")[0].value,10);a=d("input[name\x3dparent_campaign_id]")[0].value;f.post(J.toUrl("automations/delete-child-campaign"),{data:{child_campaign_id:b,parent_campaign_id:a},handleAs:"json"}).then(c.hitch(this,
function(a){"success"===a.status?this.deleteChildCampaign(b):"error"==a.status&&document.location.reload(!0)}),function(a){})}))},deleteChildCampaign:function(a){C.byId("delete-confirmation").hide();var b=this.getChildCampaignRow(a);W(b,{opacity:[0.2,[0.7,0,0.175,1.333],1],scaleY:[0,[0.7,0,0.175,-0.2],1],maxHeight:[0,[0.7,0,0.175,-0.2],"300px"]},{delay:100,duration:333,complete:c.hitch(this,function(){M.toast("Roger that\x26mdash;email deleted successfully. Over.","success");p.destroy(b)})})},addChildCampaign:function(a){a=
{data:{campaign_id:a,date_based_event:this.isMergeBasedSend},handleAs:"json"};f.post(J.toUrl("automations/add-child-campaign"),a).then(c.hitch(this,function(a){"error"==a.status?document.location.reload(!0):(this.appendChildCampaignSource(a),S.publish("mojo/app/automation/addChildCampaign"),this.source&&(this.source.insertNodes(!1,a),this.source.sync()))}),function(a){})},appendChildCampaignSource:function(a,b){var c;b?(b.style.display="none",p.place(a.html,b,"after"),r.forEach(C.findWidgets(b),function(a){a.destroy()}),
p.destroy(b)):c=p.place(a.html,v.byId("emails-container"),"last");c=this.getChildCampaignRow(a.id);q.parse(c);W(c,{scaleY:[1,[0.7,0,0.175,1.333],0],opacity:[1,[0.7,0,0.175,1],0.2]},{duration:200})},initializeQueueCount:function(){a.load().then(c.hitch(this,function(a){this.channel=a.subscribe(this.channelName);this.channel.bind("queue",function(a){this.processQueueCountUpdate(a)},this);f.post(J.toUrl("automations/queue-count"),{data:{parent_campaign_id:this.parentCampaignId},handleAs:"json"}).then(c.hitch(this,
function(a){}),function(a){})}))},processQueueCountUpdate:function(a){var b=this.getChildCampaignRow(a.campaign_id);b&&r.forEach(d("span[data-queue-count]",b),function(b){s.set(b,String(a.count))})},instantiateSingleSourceDnd:function(a){this.source||(this.source=new K(a));w.after(this.source,"onDrop",c.hitch(this,function(a,b,c){this.swapChildren(this.source.a[0],this.source.b)}))},swapChildren:function(a,b){var d=this.getChildCampaignId(a),e=this.getChildCampaignId(b);f.post(J.toUrl("automations/swap-content"),
{data:{a:d,b:e},handleAs:"json"}).then(c.hitch(this,function(c){if("success"==c.status){c=this.getChildCampaignImageUrl(a);var d=this.getChildCampaignImageUrl(b);this.setChildCampaignImageUrl(a,d);this.setChildCampaignImageUrl(b,c);c=this.getChildCampaignTitle(a);d=this.getChildCampaignTitle(b);this.setChildCampaignTitle(a,d);this.setChildCampaignTitle(b,c);this.notifyUser(a);this.notifyUser(b)}}),function(a){})},notifyUser:function(a){var b=d("[data-view-id\x3d'feedback']",a)[0];a=d("[data-view-id\x3d'status']",
a)[0];G.main().updateNotification("Content",b,a)},getChildCampaignImageUrl:function(a){return m.get(d(".c-emailImage",a)[0],"style")},setChildCampaignImageUrl:function(a,b){m.set(d(".c-emailImage",a)[0],"style",b)},getChildCampaignTitle:function(a){return d(".email-title",a)[0].innerHTML},setChildCampaignTitle:function(a,b){d(".email-title",a)[0].innerHTML=b},getChildCampaignId:function(a){return m.get(d(".email",a)[0],"data-email_id")},getChildCampaignStatus:function(a){return m.get(d(".email",a)[0],
"data-status")},getChildCampaignRow:function(a){return d(".email[data-email_id\x3d"+a+"]").parents(".email-row-container")[0]},reorderEmails:function(a){var b=v.byId("emails-container");r.forEach(a,function(a){row=this.getChildCampaignRow(a);p.place(row,b)},this)},toggleAddWorkflowButton:function(a){(addWorkflowButton=d("[data-view-id\x3d'queueAdd']")[0])&&(a?m.remove(addWorkflowButton,"disabled"):m.set(addWorkflowButton,"disabled","disabled"))},updateQueueCount:function(a){var b=this.getChildCampaignId(a);
f.get(J.toUrl("automations/get-queue-count",{id:b}),{handleAs:"json"}).then(c.hitch(this,function(b){"error"!=b.status&&r.forEach(d("span[data-queue-count]",a),function(a){s.set(a,b.count)})}),function(a){})},replicateChildCampaign:function(a){C.byId(m.get(d(".email[data-email_id\x3d"+a+"] .dijitComboButton")[0],"id")).closeDropDown();var b=this.parentCampaignId;f.post(J.toUrl("automations/replicate-child-campaign"),{data:{child_campaign_id:a,parent_campaign_id:b,date_based_event:this.isMergeBasedSend},
handleAs:"json"}).then(c.hitch(this,function(a){"error"==a.status?document.location.reload(!0):this.appendChildCampaignSource(a)}),function(a){})},toggleChildCampaignStatus:function(a){var b=this.parentCampaignId,e=this.getChildCampaignStatus(this.getChildCampaignRow(a)),g=d(".email[data-email_id\x3d"+a+"] .dijitComboButton a")[0];if(g)switch(e){case "sending":s.set(g,"Pausing \x26hellip;");break;case "paused":s.set(g,"Resuming \x26hellip;");break;case "draft":s.set(g,"Starting \x26hellip;")}f.post(J.toUrl("automations/toggle-child-campaign-status"),
{data:{child_campaign_id:a,parent_campaign_id:b},handleAs:"json"}).then(c.hitch(this,function(b){var c=this.getChildCampaignRow(a);this.appendChildCampaignSource(b,c);this.source&&(this.source.insertNodes(!1,b),this.source.sync())}),function(a){})},previewLayout:function(a,b,c,d,e,f){this.previewer&&this.previewer.destroy();this.previewer=new E({previewId:a,previewType:c,titleText:b,emailText:e,badgeText:d,showMergeInfo:f,splitsOnSubject:!1});this.previewer.show()},gotoQueueManagement:function(a){a=
J.toUrl("/campaigns/wizard/automation/add-queue-management?id\x3d"+a);window.location.href=a},showImportArContentDialog:function(){var a=new b,c=new D({title:"Import existing Autoresponder content",style:"width:580px;",onHide:function(){c.destroyRecursive()},onDownloadEnd:function(){d(".cancel-button",c.domNode).on("click",function(a){a.stopPropagation();a.preventDefault();c.hide()});d("form",c.domNode).on("submit",function(b){b.stopPropagation();b.preventDefault();b=d("input[type\x3dsubmit]",c.domNode)[0];
M.toggleButtonLoadingState(b,"Importing...");b=u.toObject(this);if(b["autoresponders[]"]){var e=m.get(this,"action");f.post(e,{data:b,handleAs:"json"}).then(function(b){a.resolve(b);window.location.reload();c.hide()},function(b){a.reject(b);c.hide()})}else n.remove(d("[data-no-selection-error]",c.domNode)[0],"hide")})}}),e=J.toUrl("automations/import-ar-content-dialog",{id:this.parentCampaignId});c.setHref(e);c.show();return a}})})},"mojo/views/campaigns/wizard/autoconfirm":function(){define("dojo/_base/declare ./confirm dojo/query dojo/dom-attr mojo/utils mojo/app/wizard".split(" "),
function(h,k,d,g,b,c){return h([k],{campaignId:null,onReady:function(){b.parseEmoji(document.body);c.repositionFlashBlock();c.moveFinalAction(this.$el.deliveryOptions);var f=this;d(".resolve-share-settings").on("click",function(){var b=g.get(this,"data-campaign-id"),c=g.get(this,"data-campaign-title");f.openSocialShare(b,c,"circle-large-color")})}})})},"mojo/views/campaigns/wizard/confirm":function(){define("dojo/_base/declare mojo/views/_base dojo/_base/lang dojo/_base/array dojo/dom dojo/dom-attr dojo/query dojo/dom-class dojo/dom-style dojo/html dojo/fx dojo/_base/fx dojo/request dojo/on dojo/number dijit/registry mojo/utils mojo/url mojo/Pusher mojo/app/pro/segment mojo/app/wizard mojo/freddieanim mojo/neapolitan/utils mojo/neapolitan/ShareSettings mojo/widgets/Clock mojo/widgets/campaigns/CampaignUrlErrorDialog".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s,v,w,u,y,x,A,C,D,E){return h([k],{isRequestMapperDown:!1,campaignId:null,listId:null,title:"",sendCount:0,scheduledUserTime:null,sendCountWaiting:!1,onReady:function(){s.parseEmoji(document.body);y.repositionFlashBlock();y.moveFinalAction(this.$el.deliveryOptions);this.initNotifyDialog();this.setupFreddieSend();this.setupBatchDelivery();this.setupScheduleOptions();this.checkSendCountReady();this.isRequestMapperDown&&new E({campaignUrl:this.campaignUrl,campaignId:this.campaignId})},
setupFreddieSend:function(){this.freddieSend=new x.FreddieSend("freddie-send","confirm-send-button")},setupBatchDelivery:function(){var a=b.byId("batch-count");a&&t(a,"change",d.hitch(this,function(){this.$el.batchCountLabel.innerHTML=q.format(Math.floor((this.sendCount?this.sendCount:0)/a.value),{places:0})}))},setupScheduleOptions:function(){g.forEach(["single-delivery","timewarp-on","optimize-on"],function(a){r.byId(a)&&t(r.byId(a),"click",function(){var b=f(".schedule-meta"),c=f("."+a+" ~ div");
b.forEach(function(a){l.contains(a,"hide")||l.add(a,"hide")});c.forEach(function(a){l.remove(a,"hide")})})});r.byId("optimize-on")&&(t(r.byId("optimize-on"),"click",d.hitch(this,"_getOptimalSendTime")),t(r.byId("schedule-date"),"change",d.hitch(this,function(){r.byId("optimize-on").checked&&this._getOptimalSendTime()})),t(f(".optimize-option")[0],".try-again:click",d.hitch(this,function(){this._getOptimalSendTime(!0)})));this._setupScheduledClock()},checkSendCountReady:function(){this.sendCountWaiting&&
this._pingSendCount()},_pingSendCount:function(a){a||(a=1E3);1E4<a&&(a=1E4);setTimeout(d.hitch(this,function(){p.get(v.toUrl("/campaigns/wizard/check-send-count",{id:this.campaignId}),{handleAs:"json"}).then(d.hitch(this,function(b){b.finished?window.location.reload():this._pingSendCount(2*a)}))}),a)},_setupScheduledClock:function(){var a=this;this.scheduleClock=new D({time:this.scheduledUserTime,width:42,height:42,cborder:"#373737",chand:"#373737",ccolor:"#373737",transition:!1},this.$el.scheduleClock);
b.byId("schedule-hour")&&(t(b.byId("schedule-hour"),"change",function(c){a.scheduleClock.setTime(this.value+":"+b.byId("schedule-minute").value)}),t(b.byId("schedule-minute"),"change",function(c){a.scheduleClock.setTime(b.byId("schedule-hour").value+":"+this.value)}));b.byId("schedule-hour-timewarp")&&(t(b.byId("schedule-hour-timewarp"),"change",function(c){a.scheduleClock.setTime(this.value+":"+b.byId("schedule-minute-timewarp").value)}),t(b.byId("schedule-minute-timewarp"),"change",function(c){a.scheduleClock.setTime(b.byId("schedule-hour-timewarp").value+
":"+this.value)}))},openSocialShare:function(b,d,g){g=g?g:"fill-large";var h="warn-"+g,k="tick-"+g;this.shareSettings&&this.shareSettings.destroy();d=f("[data-social-share\x3d"+b+"]")[0];if(!d)throw Error("No social share container found");var m=f('[data-social-share-el\x3d"pr-container"]',d)[0],n=f('[data-social-share-el\x3d"pr-thumbnail"]',d)[0],p=f('[data-social-share-el\x3d"pr-title"]',d)[0],q=f('[data-social-share-el\x3d"desc"]',d)[0],r=f('[data-social-share-el\x3d"pr-desc"]',d)[0],s=f('[data-social-share-el\x3d"button"]',
d)[0],t=f('[data-social-share-el\x3d"icon"]',d)[0];this.shareSettings=new C({campaignId:b,titleText:this.title,onSave:function(b){b.enabled&&b.description&&b.image_url&&b.title?(l.remove(t,h),l.add(t,k),l.remove(s,"p0"),a.set(s,"edit"),a.set(q,"Excellent! Your social card is ready to roll."),e.set(m,"display",""),c.set(n,"src",b.image_url),a.set(p,b.title),a.set(r,b.description)):b.enabled?(l.remove(t,k),l.add(t,h),l.add(s,"p0"),a.set(s,"resolve"),e.set(m,"display","none"),a.set(q,"Heads up! Your social cards need a few more details.")):
(l.remove(t,k),l.add(t,h),l.add(s,"p0"),a.set(s,"resolve"),e.set(m,"display","none"),a.set(q,"You have not enabled Social Cards for your campaign."))}});this.shareSettings.show()},initNotifyDialog:function(){var a=r.byId("author-finished");if(a)f("form",a.domNode).on("submit",function(b){f("input[type\x3dcheckbox]:checked",a.domNode).length||(b.stopPropagation(),b.preventDefault(),f(".error",a.domNode).html("You must choose at least one person to notify.").style("display",""))})},sendConfirmed:function(a){try{r.byId("confirm-send").set("title",
"Sending..."),r.byId("confirm-send").set("closable",!1),r.byId("confirm-send").onCancel=function(){return!1},e.set("confirm-send-pre","display","none"),e.set("confirm-send-action","display","none"),e.set("confirm-send-post","display","block")}catch(b){}setTimeout(function(){document.location.href=v.toUrl("/campaigns/wizard/send",{id:a})},600)},prepareSchedule:function(a){var c=f(".goToNextStepContainer")[0],g=b.byId("av-content"),h=f(".schedule")[0];m.wipeIn({node:h,duration:500}).play();"none"!==
e.get(c,"display")&&(n.animateProperty({node:g,duration:500,properties:{bottom:0}}).play(),n.animateProperty({node:c,duration:500,properties:{height:0,opacity:0},onEnd:d.hitch(this,function(){this._scrollToBottom()})}).play(),this._toggleSched(a))},cancelSchedule:function(a){var c=f(".goToNextStepContainer")[0],g=b.byId("av-content"),h=f(".schedule")[0];m.wipeOut({node:h,duration:500}).play();0==e.get(c,"opacity")&&(n.animateProperty({node:g,duration:500,properties:{bottom:60}}).play(),n.animateProperty({node:c,
duration:500,properties:{height:60,opacity:1},onEnd:d.hitch(this,function(){this._scrollToBottom();this._toggleSched(a)})}).play())},_scrollToBottom:function(){var a=b.byId("av-content"),c=f(".bottom-page")[0];A.smoothScroll({node:c,win:a,duration:800}).play()},_toggleSched:function(a){if(l.contains("delivery-options","open")){l.add("schedule-"+a,"hide");l.add("schedule-delivery-options","hide");l.remove("delivery-options","open");var c=r.byId("batch-delivery-on");c&&(c.attr("checked",!1),e.set("batch-options",
"display","none"));m.wipeOut({node:b.byId("schedule-"+a+"-panel"),duration:200}).play()}else l.remove("schedule-"+a,"hide"),l.add("delivery-options","open"),l.contains("schedule-delivery-options","hide")&&l.remove("schedule-delivery-options","hide"),m.wipeIn({node:b.byId("schedule-"+a+"-panel"),duration:200}).play()},doSchedule:function(){null!=r.byId("timewarp-on")&&r.byId("timewarp-on").checked?r.byId("confirm-timewarp").show():b.byId("schedule-form").submit()},acceptTermsDialog:function(){var a=
b.byId("accept-terms-signature").value;p.post(v.toUrl("/campaigns/accept-egp-terms"),{data:{sig:a,id:this.campaignId},handleAs:"json"}).then(function(a){"success"==a.status?document.location.reload(!0):(alert(a.message),r.byId("accept-terms-dialog").show())})},savePermissionReminder:function(){var a=b.byId("permission-reminder").value,a=a.replace(/^\s+/,"").replace(/\s+$/,""),c=r.byId("permission-dialog");a||(alert("Please provide a permission reminder"),c.show());p.post(v.toUrl("/lists/set-permission-reminder"),
{data:{id:this.listId,reminder:a},handleAs:"json"}).then(function(a){"success"==a.status?document.location.reload(!0):(alert(a.msg),c.show())})},_getOptimalSendTime:function(a){f(".optimize-option p").addClass("hide");l.remove("optimizing","hide");var c=r.byId("schedule-date").valueNode.value;y.optimizeSendTime(this.campaignId,c,a).then(function(a){if(a.hour){a=parseInt(a.hour,10);var c=12<=a?"PM":"AM",d=a%12;0===d&&(d=12)}"undefined"!==typeof d&&!isNaN(d)?(f("#optimized-hour").html(d+" "+c),f(".optimize-option p").addClass("hide"),
l.remove("optimized","hide"),b.byId("schedule-hour-optimized").value=d,b.byId("schedule-meridiem-optimized").value=c):(f("#optimized-error .message").html("We couldn't find an optimal time for you."),f(".optimize-option p").addClass("hide"),l.remove("optimized-error","hide"))},function(a){var b='There was an unknown error. \x3ca href\x3d"#" class\x3d"try-again"\x3eTry again.\x3c/a\x3e';if(a.message)b=a.message;else switch(a.reason){case "unavailable":b="This feature is currently not available. Try again at a later time."}f("#optimized-error .message").html(b);
f(".optimize-option p").addClass("hide");l.remove("optimized-error","hide")})}})})},"mojo/neapolitan/ShareSettings":function(){define("../../dojo/_base/declare dijit/_Widget dijit/_Templated mojo/FileDrag mojo/widgets/TopSliderPane dojo/text!./templates/socialShare.html dojo/on dojo/_base/event dojo/dom dojo/request dojo/request/iframe dojo/dom-style dojo/dom-attr dojo/html dojo/has dojo/_base/window dojo/_base/lang dojo/_base/array dojo/Deferred dojox/html/entities dojo/dom-construct dojo/dom-class dojo/query dojo/topic mojo/context mojo/widgets/FileManager mojo/url dojo/NodeList-manipulate".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s,v,w,u,y,x,A,C,D,E,G){return h([b],{content:c,badgeText:"Social cards preview",paneClasses:"socialshare-container",campaignId:null,images:[],currentImageIndex:0,promotion:{},onSave:null,constructor:function(){this.actions=this._defaultActions},postMixInProperties:function(){this.inherited(arguments);this.rootUrl=D.rootUrl},postCreate:function(){this.inherited(arguments);setTimeout(function(){A(".pr-preview-link").on("click",function(a){dojo.hasClass(this,
"active")||(A(".pr-preview-link.active").removeClass("active"),A(".pr-preview").style("display","none"),A(this).addClass("active"),e.byId("pr-"+p.get(this,"data-tag")).style.display="block");return!1})},500);var b=this,c=function(a){a&&(b.promotion.image_url=a,a=G.addProxy(a),A(".pr-img").attr("src",a),A(".pr-img-bg").style("backgroundImage","url("+a+")"))},d=function(a){(b.promotion.description=a)&&A(".pr-desc").html(u.encode(a))},g=function(a){a&&A(".pr-subject").html(u.encode(a))},h=function(a){(b.promotion.title=
a)&&A(".pr-title").html(u.encode(a));a.match(/\*\|([\w|\s:]+)\|\*/g)?(x.add(b.socialShareTitle,"invalid"),x.remove(b.invalidTitle,"hide"),x.add(b.saveAndClose,"disabled")):(x.remove(b.socialShareTitle,"invalid"),x.add(b.invalidTitle,"hide"),x.remove(b.saveAndClose,"disabled"))},k=function(a){(b.promotion.enabled=a)?(x.add(b.disabledView,"hide"),x.remove(b.settingsView,"hide"),x.remove(b.promotionPreview,"disabled")):(x.remove(b.disabledView,"hide"),x.add(b.settingsView,"hide"),x.add(b.promotionPreview,
"disabled"))},l=function(){b.currentImageIndex=b.images.indexOf(b.promotion.image_url);var a=-1<b.currentImageIndex;1>b.images.length?(x.add(b.imageDetails,"hide"),x.remove(b.uploadNoImages,"hide"),x.add(b.uploadWithImages,"hide")):(x.remove(b.imageDetails,"hide"),x.add(b.uploadNoImages,"hide"),x.remove(b.uploadWithImages,"hide"));1>b.currentImageIndex?x.add(b.prevImage,"disabled"):x.remove(b.prevImage,"disabled");a&&b.currentImageIndex>=b.images.length-1?x.add(b.nextImage,"disabled"):x.remove(b.nextImage,
"disabled");t.set(b.imageIndex,""+(b.currentImageIndex+1));t.set(b.totalImages,""+b.images.length);a?(x.remove(b.imageCount,"hide"),x.add(b.chooseCampaign,"hide")):(x.add(b.imageCount,"hide"),x.remove(b.chooseCampaign,"hide"))};this.own(f(this.socialShareDescription,"keyup",s.hitch(this,function(){d(this.socialShareDescription.value)})));this.own(f(this.socialShareTitle,"keyup",s.hitch(this,function(){h(this.socialShareTitle.value)})));this.own(f(this.prevImage,"click",s.hitch(this,function(){0<this.currentImageIndex&&
(c(this.images[--this.currentImageIndex]),l())})));this.own(f(this.nextImage,"click",s.hitch(this,function(){this.currentImageIndex<this.images.length-1&&(c(this.images[++this.currentImageIndex]),l())})));this.own(f(this.enableSwitch,"change",s.hitch(this,function(){k(this.enableSwitch.checked)})));this.own(f(this.saveAndClose,"click",s.hitch(this,function(){!this.enableSwitch.checked||this.socialShareTitle.value&&this.socialShareDescription.value&&b.promotion.image_url?this.hide():x.remove(this.incompleteWarning,
"hide")})));this.own(f(this.saveAndCloseAnyway,"click",s.hitch(this,function(){this.hide()})));this.own(f(this.editCampaign,"click",s.hitch(this,function(){this.hide()})));this.own(A(".upload-image").on("click",s.hitch(this,function(){E.show({zIndex:96,actions:"select, rename, copy",allowedFileTypes:"image",onSelect:function(a,b,d){c(a);l();E.hide()},forceOnTop:!0})})));a.post(G.toUrl("campaigns/wizard/social-card"),{handleAs:"json",data:{id:this.campaignId}}).then(s.hitch(this,function(a){if(a){this.images=
a.campaign_images;k(a.enabled);this.enableSwitch.setChecked(a.enabled);a.title&&(this.socialShareTitle.value=a.title,h(a.title));a.description&&(this.socialShareDescription.value=a.description,d(a.description));a.subject&&("string"===typeof a.subject?g(a.subject):g(a.subject["GROUP:A"]));var b=a.from_name;b&&A(".pr-fromname").html(b);b=a.domain;A(".pr-domain").html(b);a.image?(c(a.image),this.currentImageIndex=this.images.indexOf(a.image)):c(this.images[0]);l();n.set(e.byId("share-settings"),"visibility",
"visible");A("body").addClass("slider-editor")}}))},destroy:function(){y.destroy("share-settings");A(".socialshare-container")&&A(".socialshare-container").forEach(y.destroy)},savePromotion:function(){this.promotion.title&&this.promotion.title.match(/\*\|([\w|\s:]+)\|\*/g)&&(this.promotion.title="");return a.post(G.toUrl("campaigns/wizard/social-card/save"),{handleAs:"json",data:{id:this.campaignId,description:this.promotion.description,image_url:this.promotion.image_url,title:this.promotion.title,
enabled:this.promotion.enabled}}).then(s.hitch(this,function(a){A("body").removeClass("slider-editor")}))},_onHideCallback:function(){this.savePromotion();if(this.onSave)this.onSave(this.promotion)}})})},"mojo/views/campaigns/wizard/recipients":function(){define("dojo/_base/declare mojo/views/_base dojo/_base/lang dojo/query dojo/dom dojo/dom-attr dojo/dom-style dojo/dom-class dojo/dom-construct dojo/_base/array dijit/registry dojo/on mojo/utils mojo/user mojo/maps mojo/app/wizard mojo/app/campaigns/recipients mojo/segmentation/Segment mojo/widgets/SubscriberTableOverlay mojo/widgets/LocalNavGroup".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s,v,w,u){return h([k],{userLat:null,userLng:null,userAddr:null,segmentEditors:null,proSegmentAsts:{},onInit:function(){this.segmentEditors={}},onReady:function(){var a=this._getSelectedListId();a&&this._toggleTargetingOption(a);this._handleWizardSubmit();this._attachEventHandlers();this._setupMaps()},hideSegments:function(){b.byId("accordion-active");g(".dijitContentPane, .advanced-segments").style("display","none");this.$group.advancedSegments.style("display",
"none");b.byId("accordion-active").value=""},toggleSegment:function(a,d){d||(d="segmentpane");var e=b.byId("accordion-active").value,f=null,h=this;if(!e||"null"==e){if(m.byId("selectlist-"+a)&&m.byId("selectlist-"+a).setChecked(!0),p.toggleAccordion("segment-"+a,1),f=m.byId(d+"-"+a))f.domNode.style.display="block",f.setHref(f.href).then(function(){if("pastedsegmentpane"===d){var e=b.byId("emails_"+a);e&&s.bindCodeMirror(e)}if("savedsegmentpane"===d){var e=g("[data-prebuilt-input\x3d"+a+"]:checked")[0],
f=g("[data-saved-select\x3d"+a+"]")[0],k=g("[data-saved-input\x3d"+a+"]:checked")[0],l=null;e?l=c.get(e,"data-mc-segname"):f?f.value&&(l=f.options[f.selectedIndex].label):k&&(l=c.get(k,"data-mc-segname"));h._getCurrentRecipientCountBar().selectSavedSegment(l)}"segmentpane"===d&&h._getCurrentRecipientCountBar().reloadCount()})}else e=e.split("-")[1],e==a?(p.toggleAccordion(null,1),g(".goToNextStepContainer").removeClass("disabled"),f=m.byId("segmentpane-"+a),f.domNode.style.display="none"):(b.byId("segment-toggle-"+
e),b.byId("accordion-active").value="",f=m.byId("segmentpane-"+e),f.domNode.style.display="none",this.toggleSegment(a))},toggleSegmentRadio:function(a){var c=b.byId("accordion-active").value;c&&(c=c.split("-")[1])&&c!=a&&this.toggleSegment(c,b.byId("segment-toggle-"+c))},selectListClass:function(a,c){var d=b.byId("list-"+a);this._toggleSegmentOption(a);s.editSegment(a,c,!1);this.clearListClass();g(".send-audience-toggle",d).style("display","");l.add(d,"list-selected")},clearListClass:function(){g(".recipient-list").removeClass("list-selected");
g(".send-segment-toggle").style("display","none");g(".send-audience-toggle").style("display","none")},_attachEventHandlers:function(){var a=this;m.byId("recipient-select").on("change",d.hitch(this,function(a){a?(this.selectListClass(a,this.campaignID),this._toggleTargetingOption(a)):this.clearListClass()}));g(".send-audience-toggle input").on("click",function(){var b=c.get(this,"data-list_id");a._toggleTargetingOption(b)});n(document,"[data-prebuilt-input]:click",function(){var b=c.get(this,"data-prebuilt-input");
a._clearSavedSegmentSelection(b);a._setSelectedSegmentOption(b,"prebuilt");b=c.get(this,"data-mc-segname");a._getCurrentRecipientCountBar().selectSavedSegment(b)});n(document,"[data-saved-input]:click",function(){var b=c.get(this,"data-saved-input");a._clearPrebuiltSelection(b);a._setSelectedSegmentOption(b,"saved");b=c.get(this,"data-mc-segname");a._getCurrentRecipientCountBar().selectSavedSegment(b)});n(document,"[data-saved-select]:change",function(){var b=c.get(this,"data-saved-select");a._clearPrebuiltSelection(b);
a._setSelectedSegmentOption(b,"saved");b=null;this.value&&(b=this.options[this.selectedIndex].label);a._getCurrentRecipientCountBar().selectSavedSegment(b)})},_clearSavedSegmentSelection:function(a){g("[data-saved-select\x3d"+a+"]").attr("value","");g("[data-saved-input\x3d"+a+"]").attr("checked",!1)},_clearPrebuiltSelection:function(a){g("[data-prebuilt-input\x3d"+a+"]").attr("checked",!1)},_handleWizardSubmit:function(){var a=d.hitch(this,function(a){a=this._getSelectedListId();"advanced"===this._getSelectedSegmentOption(a)&&
this._injectAdvancedSegmentsAST(a);b.byId("wizard-form").submit()});window.wizard_formsubmit=a;r.onNextSubmit(a)},_toggleTargetingOption:function(a){var b=this._getSelectTargetOption(a),c=this.$widget.callout;c.hide();this.hideSegments();switch(b){case "no":this._setSelectedSegmentOption(a,b);this.$group.segmentTabContainer.style("display","none");this._getCurrentRecipientCountBar().selectEntireList();c.show();break;case "saved":b=this._getSelectedSegmentOption(a);"saved"!==b&&"prebuilt"!==b&&this._setSelectedSegmentOption(a,
"saved");this.toggleSegment(a,"savedsegmentpane");this.$group.segmentTabContainer.style("display","none");this._getCurrentRecipientCountBar().selectSavedSegment();break;default:this._showSegmentTabContainer(a),this._createNewSegmentTabs(a),this._getCurrentRecipientCountBar().selectNewSegment()}},_createNewSegmentTabs:function(b){var c=this.$el["tabsContainer"+b],f=[];e.empty(c);f.push({label:"New segment",value:"custom"});t.pro&&f.push({label:"Advanced segment",value:"advanced"});f.push({label:"Paste emails",
value:"pasted"});this.tabs=new u({options:f,templateString:'\x3cul class\x3d"flex"\x3e\x3c/ul\x3e'});this.tabs.startup();this.tabs.placeAt(c);var g=this._getSelectedSegmentOption(b),c=a.some(f,function(a){return a.value==g})?g:f[0].value;this.tabs.setSelected(c);f=d.hitch(this,function(a){this._setSelectedSegmentOption(b,a);this._toggleSegmentOption(b)});f(c);this.tabs.on("change",f)},_toggleSegmentOption:function(a){switch(this._getSelectedSegmentOption(a)){case "saved":this.hideSegments();this.toggleSegment(a,
"savedsegmentpane");this._getCurrentRecipientCountBar().selectSavedSegment();break;case "custom":this.hideSegments();this.toggleSegment(a);this._getCurrentRecipientCountBar().selectNewSegment();break;case "pasted":this.hideSegments();this.toggleSegment(a,"pastedsegmentpane");this._getCurrentRecipientCountBar().selectPastedSegment();break;case "advanced":this.hideSegments();this.toggleSegment(a,"advancedsegmentpane");this._showAdvancedSegment(a);this._getCurrentRecipientCountBar().selectNewAdvancedSegment(this.segmentEditors[a]);
break;default:this.hideSegments(),this.toggleSegmentRadio(a),this._getCurrentRecipientCountBar().selectEntireList()}},_showSegmentTabContainer:function(a){a=b.byId("segmentTabContainer-"+a);f.set(a,"display","")},_getSelectTargetOption:function(a){return(a=g("[name\x3dsend-to-target-radio-"+a+"]:checked")[0])?a.value:null},_getSelectedSegmentOption:function(a){return(a=g("[name\x3dsend-to-segment-radio-"+a+"]")[0])?a.value:null},_setSelectedSegmentOption:function(a,b){g("[name\x3dsend-to-segment-radio-"+
a+"]")[0].value=b},_getCurrentRecipientCountBar:function(){var a=this._getSelectedListId();return this.$widget["countBar"+a]},_getSelectedListId:function(){var a=m.byId("recipient-select");return a?a.value:null},_createAdvancedEditor:function(a){if(!this.segmentEditors[a]){var b=new v({listId:a,savedAST:this.proSegmentAsts[a],"class":"border-radius--lv1 border-gray"});b.startup();b.placeAt(this.$el["advancedContainer"+a]);this.segmentEditors[a]=b}},_showAdvancedSegment:function(a){this._createAdvancedEditor(a);
a=b.byId("advancedsegmentpane-"+a);f.set(a,"display","")},_injectAdvancedSegmentsAST:function(a){var b=this.segmentEditors[a];a=g("[name\x3dpro_segment_ast_"+a+"]")[0];b&&a&&(a.value=JSON.stringify(b.getAST()))},_setupMaps:function(){q.def_lat=this.userLat;q.def_lng=this.userLng;q.def_addr=this.userAddr}})})},"mojo/views/campaigns/wizard/setup":function(){define("dojo/_base/declare mojo/views/_base dojo/query dojo/Deferred dojo/debounce dojo/_base/lang dojo/on dojo/dom-class dojo/dom dojo/html dojo/dom-form dojo/request/xhr dojo/dom-style dojo/dom-attr dijit/registry dijit/Dialog mojo/app/conversations mojo/url mojo/utils mojo/validate mojo/app/wizard mojo/widgets/campaigns/CampaignArchiveUrl mojo/widgets/campaigns/CampaignUrlErrorDialog dojo/NodeList-manipulate".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s,v,w,u,y,x,A){return h([k],{isRequestMapperDown:!1,campaignId:null,shortUrlLength:null,listHasFname:null,rootDomain:null,campaignToken:null,brandToken:null,hasEditedCampaignUrl:!1,urlExistResponse:null,onReady:function(){this.initPersonalizeTo();this.initGoogleAnalytics();this.initClickTale();this.initSocialOptions();this.initDigestOptions();this.initConversationOptions();this.setHasEditedCampaignUrl();y.repositionFlashBlock();this.$el.campaignUrlContainer&&
this.$el.campaignTokenEditor&&this.initCampaignArchiveUrl();this.isRequestMapperDown&&new A({campaignUrl:this.campaignUrl,campaignId:this.campaignId})},setHasEditedCampaignUrl:function(){var a=x.prototype.getCampaignTokenFromString(this.$el.campaignTokenInput.value),b=x.prototype.getCampaignTokenFromString(this.$el.subjectData.value);this.hasEditedCampaignUrl=null!==a&&a!==b},updateCampaignToken:function(a){a=x.prototype.getCampaignTokenFromString(a);var b=x.prototype.getCampaignTokenFromString(this.$el.subjectData.value);
a!==b&&(this.hasEditedCampaignUrl=!0,this.$el.hasEditedCampaignUrlInput.value=this.hasEditedCampaignUrl);this.campaignToken=a;this.$widget.campaignTokenEditor.campaignToken=this.campaignToken;this.$widget.campaignTokenEditor.originalInput.value=this.campaignToken;this.$el.campaignToken.innerText=this.campaignToken;this.$el.campaignTokenInput.value=this.campaignToken},updateBrandToken:function(a){this.brandToken=this.$widget.brandTokenSelect.get("value");this.$widget.brandTokenSelect.value=this.brandToken;
this.$el.brandToken.innerText="random"===this.brandToken?"[xxxxxx]":this.brandToken;this.$el.brandTokenInput.value=this.brandToken},checkTextSize:function(a){var b=140;switch(a){case "twitter":b=140;this.shortUrlLength=25;break;case "fb":b=500}var c=e.byId(a+"-characters-left");if(void 0!==e.byId(a+"-text")){var d=e.byId(a+"-text").value;"undefined"!==typeof d&&(b=b-d.length-this.shortUrlLength+7,a=e.byId(a+"-character-check"),c.innerHTML=b,10<=b?(l.remove(a,"warning"),l.remove(a,"error")):0<=b?(l.add(a,
"warning"),l.remove(a,"error")):(l.add(a,"error"),l.remove(a,"warning")))}},initCampaignArchiveUrl:function(){var a=this.$widget.campaignTokenEditor;this.hasEditedCampaignUrl||this.$widget.campaignTokenEditor.set("inputSetter",this.$el.subjectData);null===this.campaignToken&&""!==this.$el.subjectData.value&&this.updateCampaignToken(this.$el.subjectData.value);f(this.$el.campaignArchiveUrlEditButton,"click",c.hitch(this,function(){this.$widget.brandTokenSelect&&this.updateBrandToken(this.$widget.brandTokenSelect.get("value"));
this.updateCampaignToken(this.$el.campaignTokenInput.value);this.$widget.campaignArchiveUrlDialog.show()}));f(this.$el.subjectData,"keyup",c.hitch(this,function(a){this.hasEditedCampaignUrl||this.updateCampaignToken(a.target.value)}));this.$widget.subjectContainer.onBlur=c.hitch(this,function(){var b=this;this.hasEditedCampaignUrl||n(v.toUrl("/campaigns/wizard/generate-campaign-token"),{query:{id:a.campaignId,subject:a.campaignToken},handleAs:"json"}).then(function(c){c.campaign_token!==a.campaignToken&&
(b.updateCampaignToken(c.campaign_token),a.urlTokenInput.value=c.campaign_token,a.refresh(),b.hasEditedCampaignUrl=!1,b.$el.hasEditedCampaignUrlInput.value=b.hasEditedCampaignUrl)})});this.$el.brandTokenSelect&&(this.$widget.brandTokenSelect.onChange=c.hitch(this,function(){this.$widget.campaignTokenEditor.brandToken=this.$widget.brandTokenSelect.get("value");this.$widget.campaignTokenEditor.campaignUrlExists()}));f(this.$el.campaignUrlSave,"click",c.hitch(this,function(b){var c=this,d=this.$el.campaignUrlSave;
""!==a.campaignToken&&(l.add(d,"button-loading"),t.set(d,"disabled",!0),a.campaignUrlExists().then(function(b){l.remove(d,"button-loading");t.set(d,"disabled",!1);b||(c.$widget.brandTokenSelect&&c.updateBrandToken(c.$widget.brandTokenSelect.get("value")),c.updateCampaignToken(a.campaignToken),c.$widget.campaignArchiveUrlDialog.hide())},function(b){l.remove(d,"button-loading");t.set(d,"disabled",!1);c.updateCampaignToken(a.campaignToken);c.$widget.campaignArchiveUrlDialog.hide()}));b.stopPropagation();
b.preventDefault()}));f(this.$el.campaignUrlCancel,"click",c.hitch(this,function(b){a.urlTokenInput.value=this.$el.campaignTokenInput.value;this.$widget.campaignArchiveUrlDialog.hide();b.stopPropagation();b.preventDefault()}))},initPersonalizeTo:function(){var a=q.byId("personalize-to"),b=e.byId("to-email").value;this.listHasFname&&""===b&&(b="*|FNAME|*");a&&f(a,"click",function(){this.checked?(e.byId("to-email").value=b,e.byId("personalize-to-disclose").style.display="block"):(b=e.byId("to-email").value,
e.byId("personalize-to-disclose").style.display="none",e.byId("to-email").value="")})},initGoogleAnalytics:function(){var a=q.byId("analytics"),b=e.byId("analytics-tag"),c=e.byId("google-tag-disclose"),d=this;a&&(f(a,"click",function(){this.checked?(b.value||(b.value=d._getTrackingTag()),c.style.display="block"):c.style.display="none";w.checkInputLength(b,"GA-char-num",50)}),a.checked&&(c.style.display="block"))},initClickTale:function(){var a=q.byId("clicktale"),b=e.byId("clicktale-tag"),c=e.byId("clicktale-tag-disclose"),
d=this;a&&(f(a,"click",function(){this.checked?(b.value||(b.value=d._getTrackingTag()),c.style.display="block"):c.style.display="none"}),a.checked&&(c.style.display="block"))},initSocialOptions:function(){var a=q.byId("auto_tweet");a&&f(a,"click",function(){e.byId("auto_tweet_content").style.display=this.checked?"block":"none"});(a=q.byId("auto_fb_post"))&&f(a,"click",function(){this.checked?(e.byId("facebook-profiles").style.display="block",e.byId("auto_fb_content").style.display="block"):(e.byId("facebook-profiles").style.display=
"none",e.byId("auto_fb_content").style.display="none")});if(a=e.byId("twitter-text"))f(a,"keyup",c.hitch(this,function(){this.checkTextSize("twitter")})),this.checkTextSize("twitter");if(a=e.byId("fb-text"))f(a,"keyup",c.hitch(this,function(){this.checkTextSize("fb")})),this.checkTextSize("fb")},initDigestOptions:function(){var a=d("[data-digest-settings-link]")[0];a&&f(a,"click",c.hitch(this,this.showDigestSettingsDialog))},initConversationOptions:function(){var a=d("[data-conversation-settings-link]")[0];
a&&f(a,"click",c.hitch(this,this.showConversationSettingsDialog));if(a=q.byId("track-conversations")){var b=this.$el.conversationNotifiers;f(a,"change",function(){l.toggle(b,"hide",!this.checked)});l.toggle(b,"hide",!a.checked)}},_getTrackingTag:function(){var a="";if("rss"===this.campaignType)a="RSS_EMAIL_CAMPAIGN";else{a=!e.byId("title").value&&!e.byId("subject").value?"EMAIL_CAMPAIGN_":e.byId("title").value||!e.byId("subject").value?e.byId("title").value.replace(/\W+/g,"_"):e.byId("subject").value.replace(/\W+/g,
"_");40<a.length&&(a=a.substr(0,40));var b=new Date,a=a+(b.getMonth()+1+"_"+b.getDate()+"_"+b.getFullYear())}return a},toggleDigestSettingsPane:function(a){d("[data-digest-settings-pane]")[0].style.display=a?"":"none"},showConversationSettingsDialog:function(b){b.stopPropagation();b.preventDefault();s.notificationSettings({campaign_id:this.campaignId}).then(c.hitch(this,function(b){b=b.count;a.set(this.$el.convoNotifierCount,b+" user"+(1!==b||0===b?"s":""))}))},showDigestSettingsDialog:function(){var b=
new g,c=new r({title:"Digest Settings",onHide:function(){c.destroyRecursive()},onDownloadEnd:function(){d(".cancel-button",c.domNode).on("click",function(a){a.stopPropagation();a.preventDefault();c.hide()});d("form",c.domNode).on("submit",function(e){e.stopPropagation();e.preventDefault();e=m.toObject(this);var f=t.get(this,"action");n.post(f,{data:e,handleAs:"json"}).then(function(e){b.resolve(e);var f=e.count+" user";if(1<e.count||0===e.count)f+="s";a.set(d("[data-report-notification-count]")[0],
f);c.hide()},function(a){b.reject(a);c.hide()})})}}),e=v.toUrl("automations/notification-settings",{id:this.campaignId});c.setHref(e);c.show();return b}})})},"mojo/views/campaigns/wizard/variateconfirm":function(){define("dojo/_base/declare ./confirm dojo/dom-attr dojo/query dojo/on mojo/utils mojo/app/wizard".split(" "),function(h,k,d,g,b,c,f){return h([k],{campaignId:null,onReady:function(){c.parseEmoji(document.body);f.repositionFlashBlock();f.moveFinalAction(this.$el.deliveryOptions);var h=this;
g('[data-social-share-el\x3d"button"]').on("click",function(){var a=d.get(this,"data-campaign-id"),b=d.get(this,"data-campaign-title");h.openSocialShare(a,b,"circle-color")});this.initNotifyDialog();this.setupScheduleOptions();var e=g(".send-button")[2],a=(new Date).getTime();b(e,"click",function(){h.$el.freddieDropper.src="/images/dropper.gif?"+a});this.checkSendCountReady()}})})},"mojo/views/campaigns/wizard/variates":function(){define("dojo/_base/declare mojo/views/_base dojo/_base/lang dojo/query dojo/on dojo/dom-class dojo/dom-style dojo/aspect dojo/number dijit/registry mojo/app/pro/segment mojo/widgets/VariateSelector mojo/widgets/VariateSelectorGroup mojo/widgets/SegmentDial mojo/app/wizard".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q){return h([k],{maxVariation:8,dial:null,selectorGroup:null,proSegmentId:null,showSegmentLoader:!1,listId:null,onReady:function(){this._handleSegmentLoading();this.dial=new t({maxValue:this.maxVariation});this.dial.placeAt(this.$el.dial);this._createVariateSelectors();this._setupPartialControls();this._setupDelayControls();this.$el.numVariation.innerHTML=this.maxVariation},getTestPercent:function(){return+this.$el.testSizeInput.value},getTotalVariants:function(){return+this.selectorGroup.getTotal()},
_createVariateSelectors:function(){var a=this;this.subjectSelector=this._createVariateSelector(this.$el.numSubjectsInput,"Subject line");this.fromNameSelector=this._createVariateSelector(this.$el.numFromNameInput,"From name");this.contentSelector=this._createVariateSelector(this.$el.numContentInput,"Content");this.scheduleSelector=this._createVariateSelector(this.$el.numScheduleInput,"Send time");this.selectorGroup=new p({maxValue:this.maxVariation,selectors:[this.subjectSelector,this.fromNameSelector,
this.contentSelector,this.scheduleSelector]});l.after(this.selectorGroup,"onChange",function(){a._updateDialValue();a._updateSliderCombinations();a._updateRecipientCounts();a._toggleSendPerCombinationMsg()},!0);this._updateDialValue();this._updateSliderCombinations();l.after(this.scheduleSelector,"onChange",d.hitch(this,"_handleScheduleSelection"));this._toggleTestElements();this._handleScheduleSelection()},_updateTestPercent:function(a){10>a&&(a=10);this.$el.testSizeInput.value=a;this._updateRecipientCounts();
this._toggleSendPerCombinationMsg()},_updateDialValue:function(){var a=this.getTotalVariants();this.dial.set("value",1<a?a:0);c.toggle(this.$el.maxCombinationMsg,"invisible",8===a?!1:!0)},_updateSliderCombinations:function(){this.$widget.testSizeSlider.set("numCombinations",this.getTotalVariants())},_setupDelayControls:function(){a.byId("winner-select").on("change",d.hitch(this,"_toggleDelayControls"));this._toggleDelayControls()},_toggleDelayControls:function(){switch(a.byId("winner-select").value){case "manual":c.add(this.$el.waitTimeLabel,
"hide");c.add(a.byId("wait-time").domNode,"hide");c.add(this.$el.ecommMessage,"hide");c.remove(this.$el.manualMessage,"hide");break;case "total_revenue":c.remove(this.$el.waitTimeLabel,"hide");c.remove(a.byId("wait-time").domNode,"hide");c.remove(this.$el.ecommMessage,"hide");c.add(this.$el.manualMessage,"hide");break;default:c.remove(this.$el.waitTimeLabel,"hide"),c.remove(a.byId("wait-time").domNode,"hide"),c.add(this.$el.ecommMessage,"hide"),c.add(this.$el.manualMessage,"hide")}},_updateRecipientCounts:function(){var a=
this.getTestPercent(),b=Math.floor(this.sendCount*(a/100));this.countPerCombination=Math.floor(b/this.getTotalVariants());this.$el.countPerCombination.innerHTML=e.format(this.countPerCombination);this.$el.countRemaining.innerHTML=e.format(this.sendCount-b);this.$el.testCountLabel.innerHTML=e.format(b);this.$el.winningListLabel.innerHTML=100-a+"%";this.$el.testListLabel.innerHTML=a+"%";this.$el.sliderValueLabel.innerHTML=a+"%"},_toggleSendPerCombinationMsg:function(){f.set(this.$el.sendPerCombinationMsg,
"opacity",4E3>this.countPerCombination?1:0.6);c.toggle(this.$el.comboWarningContainer,"hide",5E3<=this.countPerCombination)},_setupPartialControls:function(){var a=this;this.$widget.testSizeSlider.set("value",a.getTestPercent());this.$widget.testSizeSlider.on("change",function(){a._updateTestPercent(a._sliderPercent());a._toggleTestElements()});a._updateRecipientCounts();a._toggleSendPerCombinationMsg()},_sliderPercent:function(){return Math.round(this.$widget.testSizeSlider.value)},_toggleTestElements:function(){100==
this._sliderPercent()?this._onFullTest():this._onPartialTest()},_onPartialTest:function(){this._toggleWinnerControls(!0);this._toggleSends(!0);this._updateTestPercent(this._sliderPercent())},_onFullTest:function(){this._toggleSends(!1);this._updateTestPercent(100);this._toggleWinnerControls(!1)},_toggleWinnerControls:function(a){c.toggle(this.$el.winnerOptionsContainer,"hide",!a)},_toggleSendTimeMsg:function(a){c.toggle(this.$el.sendTimeMsg,"hide",!a)},_toggleSends:function(a){c.toggle(this.$el.remainingContainer,
"hide",!a);c.toggle(this.$el.testSizeContainer,"hide",!a);c.toggle(this.$el.winningListLabel,"hide",!a)},_handleScheduleSelection:function(){var a=0<this.scheduleSelector.value;this._toggleTestElements();this._toggleSendTimeMsg(a);this._toggleTestSlider(!a)},_toggleTestSlider:function(a){a?(this._prevSliderValue&&this.$widget.testSizeSlider.set("value",this._prevSliderValue),this.$widget.testSizeSlider.set("disabled",!1)):(this._prevSliderValue=this.$widget.testSizeSlider.value,this.$widget.testSizeSlider.set("value",
100),this.$widget.testSizeSlider.set("disabled",!0))},_createVariateSelector:function(a,b){return new n({label:b,value:a.value?parseInt(a.value,10):0,name:a.name,maximum:this.maxVariation},a)},_handleSegmentLoading:function(){var a=1,b=this,c=function(){m.getCachedCount(b.listId,b.proSegmentId).then(function(b){null!=b.count?window.location.reload():(b=1E3*a,1E4<b&&(b=1E4),setTimeout(c,b),a++)})};this.showSegmentLoader&&(g(".goToNextStepContainer").addClass("disabled"),setTimeout(c,4E3))}})})},"mojo/views/campaigns/wizard/variatesetup":function(){define("dojo/_base/declare dojo/query dojo/dom-class dojo/_base/array dojo/_base/lang dojo/on ./setup mojo/app/wizard dijit/registry mojo/utils dojo/NodeList-traverse".split(" "),
function(h,k,d,g,b,c,f,l,e,a){return h([f],{onReady:function(){this.initPersonalizeTo();this.initGoogleAnalytics();this.initClickTale();this.initConversationOptions();l.repositionFlashBlock();this.checkSimilarItems();this._checkSubjectDupe();this._checkFromDupe();this._checkSendTimeDupe()},checkSimilarItems:function(){var a=this;this.$group.subjectLine&&g.forEach(this.$group.subjectLine,function(d){c(d,"keyup",b.hitch(a,"_checkSubjectDupe"))});this.$group.fromName&&g.forEach(this.$group.fromName,
function(d){c(d,"change",b.hitch(a,"_checkFromDupe"))});this.$group.sendTime&&g.forEach(this.$group.sendTime,function(d){d=e.byNode(d);c(d,"change",b.hitch(a,"_checkSendTimeDupe"))})},_checkSubjectDupe:function(){var a=this.$group.subjectLine;a&&(a=g.map(a,function(a){return a.value}),d.toggle(this.$el.subjectMessage,"hide",this._isNonEmpty(a)))},_checkFromDupe:function(){var a=this.$group.fromName;a&&(a=g.map(a,function(a){return a.value}),d.toggle(this.$el.fromMessage,"hide",this._isNonEmpty(a)))},
_checkSendTimeDupe:function(){var a=this.$group.sendTime;a&&(a=g.map(a,function(a){return e.byNode(a).value}),d.toggle(this.$el.sendMessage,"hide",this._isNonEmpty(a)))},_isNonEmpty:function(b){b=g.filter(b,function(a){return null!==a&&""!==a});return a.isUniqueArray(b)}})})},"mojo/views/campaigns/wizard/neapolitan/mobile":function(){define(["dojo/_base/declare","dojo/_base/lang","mojo/views/_base"],function(h,k,d){return h([d],{setupMobile:function(){window.webkit={messageHandlers:{mobileSaveAndExit:{postMessage:function(d){}},
webContentDidLoad:{postMessage:function(d){window.app.nativeEvents.entryAnimationComplete()}},mobileReauth:{postMessage:function(d){}}}}}})})},"mojo/views/campaigns/wizard/automation/queue-management":function(){define("dojo/_base/declare mojo/views/_base dojo/query dojo/json dojo/on dojo/_base/lang dojo/request/xhr dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/parser dojo/_base/array dojo/html dojo/dom dojo/aspect dijit/registry mojo/app/campaigns/recipients mojo/utils mojo/custom-workflow mojo/url dojo/NodeList-traverse".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s,v,w,u){return h([k],{campaignId:null,listId:null,queueAction:null,onReady:function(){this.initializeWorkflowForm(this.campaignId,this.listId,this.queueAction,t.byId("workflow-setup"))},initializeWorkflowForm:function(a,e,g,h){var k=this;b(h,"[name\x3dsegment-type]:click",function(){d("[data-mc-segment-options]").style("display","none");d("[data-mc-segment-options\x3d"+this.value+"]").style("display","block");var a;switch(this.value){case "new":a=r.byId("segmentpane-"+
e);break;case "saved":a=r.byId("savedsegmentpane");break;default:throw Error("New segment option does not have a handler");}a.refresh()});var l="segmentpane-"+e;r.byId(l).on("load",function(){s.reloadSegmentCallbacks(l)});b(h,"[data-workflow-calculate-count]:click",function(b){b.preventDefault();b.stopPropagation();k._updateSegmentCount(a,h,g)});var m=t.byId("queue-action-button");b(m,"click",c.hitch(this,function(b){b.preventDefault();b.stopPropagation();k._saveWorkflowValues(a,h,g)}));b(h,"[data-workflow-segment-members]:click",
function(b){b.preventDefault();b.stopPropagation();b=c.mixin({id:a,"queue-action":g,__csrf_token:d("[name\x3d__csrf_token]")[0].value},k._getWorkflowValues(h));f.post(u.toUrl("campaigns/wizard/automation/queue-members"),{data:b,sync:!0,handleAs:"text"});b=u.toUrl("campaigns/segments/popup?id\x3d"+a+"\x26lid\x3d"+e);b=window.open(b,"_blank","toolbar\x3d0,scrollbars\x3d1,location\x3d0,status\x3d1,menubar\x3d0,resizable\x3d1,width\x3d600,height\x3d400");v.checkPopupWin(b)});this._updateSegmentCount(a,
h,g)},_updateSegmentCount:function(a,b,e){var f=d("[data-workflow-segment-count]");if(f.length){this._clearDelayTimer();f.html("\x3cp\x3e\x26nbsp;\x3c/p\x3e");var g;"add"==e&&(g="added to the workflow");"remove"==e&&(g="deleted from the workflow");this.delayTimer=setTimeout(c.hitch(this,function(){f.html("\x3cp\x3eCalculating recipient count...\x3c/p\x3e");this.delayTimer=null}),100);var h=c.hitch(this,function(a){this._clearDelayTimer();a=a.count;f.html("\x3cp\x3e"+('\x3ca href\x3d"#" data-workflow-segment-members\x3e'+
a+" subscriber"+(1!=a?"s":"")+"\x3c/a\x3e will be "+g+". ")+' \x3ca href\x3d"#" data-workflow-calculate-count\x3eRefresh count\x3c/a\x3e\x3c/p\x3e')}),k=c.hitch(this,function(){this._clearDelayTimer();f.html('Failed to get count. \x3ca href\x3d"#" data-workflow-calculate-count\x3eTry again.\x3c/a\x3e')});this._getSegmentCount(a,b,e).then(h,k)}},_clearDelayTimer:function(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)},_saveWorkflowValues:function(a,b,e){button=t.byId("queue-action-button");
button.setAttribute("disabled","disabled");b=c.mixin({id:a,"queue-action":e,__csrf_token:d("[name\x3d__csrf_token]")[0].value},this._getWorkflowValues(b));f.post(u.toUrl("campaigns/wizard/automation/queue-management-post"),{data:b,sync:!0,handleAs:"text"});a=u.toUrl("campaigns/wizard/autocampaigns?id\x3d"+a);window.location.href=a},_getWorkflowValues:function(a){var b={};d("input,select",a).forEach(function(a){var c=a.type||"",d=a.value,e=a.name;"select-multiple"==c&&n.forEach(a.options,function(a){b[e]||
(b[e]=[]);a.selected&&b[e].push(a.value)});if("radio"==c||"checkbox"==c)a.checked||(d=null);"tags"==e&&d&&(b[e]||(b.tags=[]),b.tags.push(d));b[e]||(b[e]=d)});return b},_getSegmentCount:function(a,b,d){a=c.mixin({id:a,"queue-action":d},this._getWorkflowValues(b));return f.post(u.toUrl("campaigns/wizard/automation/queue-management-count"),{data:a,handleAs:"json"})}})})},"mojo/custom-workflow":function(){define("dojo/dom dojo/html dojo/query dijit/registry dojo/_base/lang dojo/_base/array dojo/dom-construct dojo/dom-style dojo/dom-class dojo/on dojo/data/ItemFileReadStore dojo/dom-attr mojo/utils dojo/request/xhr dojo/dom-form dojo/NodeList-traverse".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q){var r={resetForm:function(a){l.set("auto-event-datemerge","display","none");l.set(d(".auto-event-datemerge")[0],"display","none");l.set("draft-campaigns","display","none");l.set("merge-form-fields","display","none");l.set("import_time","display","none");d(".event-only",a).style("display","none");d(".md-tags-container",a).style("display","none");l.set(d(".draft-campaigns-label")[0],"display","none");l.set("widget_campaign-urls","display","none");l.set(d(".campaign-urls")[0],
"display","none");l.set(d(".goal-events-container")[0],"display","none");l.set(d(".auto-event-datemerge-datefield")[0],"display","none");d(".list-merges",a).style("display","none");d(".ecomm-products-container").style("display","none");d(".ecomm-category-container").style("display","none")},_toggleImmediateSend:function(a){var b=d("[data-send-segment-container]")[0];if(b){var c=d("[name\x3dis_segment_send]",b)[0];c&&(c=g.getEnclosingWidget(c),c.set("disabled",!a));l.set(b,"display",a?"":"none")}},
redrawForm:function(a){r.resetForm(a);var b=h.byId("auto-event");l.set(b,"display","");this._toggleEcommMessage(!1);this._toggleImmediateSend(!0);switch(b.value){case "signup":l.set("import_time","display","");break;case "ecommBoughtAny":h.byId("ecomm-analytics-nodata")&&e.remove("ecomm-analytics-nodata","hide");break;case "campaignOpen":case "campaignClicka":case "campaignClicko":l.set("draft-campaigns","display","");l.set(d(".draft-campaigns-label")[0],"display","");"campaignClicko"==b.value&&(r.loadUrls(),
this._toggleImmediateSend(!1));break;case "mergeChanged":d(".list-merges",a).style("display","");l.set("auto-event-datemerge","display","");l.set(d(".auto-event-datemerge")[0],"display","");a.current_event!=b.value&&this._handleMergeSelect("mergeChanged");var c=h.byId("auto-event-datemerge").value;d(".merge-field",h.byId("merge-form-fields")).forEach(function(a){a.id=="merge-field-"+c?l.set(a.id,"display",""):l.set(a.id,"display","none")});l.set("merge-form-fields","display","");break;case "date":case "annual":case "birthday":d(".list-merges",
a).style("display","");l.set("auto-event-datemerge","display","");l.set(d(".auto-event-datemerge-datefield")[0],"display","");"birthday"==b.value&&a.current_event!=b.value&&this._handleMergeSelect("birthday");("date"==b.value||"annual"==b.value)&&a.current_event!=b.value&&this._handleMergeSelect("date");this._toggleImmediateSend(!1);break;case "mdOpen":case "mdClick":case "mdSent":case "mdAny":d(".md-tags-container",a).style("display","");break;case "goal":l.set(d(".goal-events-container")[0],"display",
"");break;case "ecommBoughtProduct":this._toggleEcommMessage(!0)||d(".ecomm-products-container").style("display","");break;case "ecommBoughtCategory":this._toggleEcommMessage(!0)||d(".ecomm-category-container").style("display","");break;default:d(".event-only",a).style("display",""),d(".event-only."+("on"==a.setting_flag?"noton":"on")+"-only",a).style("display","none")}a.current_event=b.value},renderGoalsForm:function(a){var b=d(".goal-url-container.show",a).length,c=d(".add-goal-url")[0];a=d(".goal-events-container",
a)[0];1===b&&(e.remove(c,"hide"),e.remove(a,"multiple-on"));1<b&&3>=b&&(e.remove(c,"hide"),e.add(a,"multiple-on"));4===b&&(e.add(c,"hide"),e.add(a,"multiple-on"))},hookUpForm:function(k){var l=this;k=h.byId(k);var m=d(".add-goal-url")[0],q=d(".goal-events-container",k)[0];a(m,"click",function(){var a=d(".goal-url-container");c.some(a,function(a){if(!p.isVisible(a))return d("input",a)[0].value="",e.add(a,"show"),e.remove(a,"hide"),f.place(a,d(".goal-url-inputs-container",q)[0],"last"),!0});r.renderGoalsForm(k)});
d(".add-delete",q).onclick(function(a){a.preventDefault();a=d(this).parent(".goal-url-container")[0];var b=d("input",a)[0];n.set(b,"value","");e.remove(a,"show");e.add(a,"hide");r.renderGoalsForm(k)});m=h.byId("auto-event").value;""===m&&(m="signup");this._handleMergeSelect(m);"goal"==m&&(d(".goal-url-container").forEach(function(a){var b=""!=d("input",a)[0].value?"show":"hide";d(a).removeClass("hide show").addClass(b)}),r.renderGoalsForm(k));k.current_event=m;r.redrawForm(k);a(h.byId("draft-campaigns"),
"change",function(){g.byId("campaign-urls").set("value","");r.loadUrls()});d("#auto-event",k).onchange(function(a){b.hitch(l,r.redrawForm)(k)});d("#auto-event-datemerge",k).onchange(function(a){b.hitch(l,r.redrawForm)(k)})},loadUrls:function(){var a=h.byId("widget_campaign-urls");l.set(a,"display","none");l.set(d(".campaign-urls")[0],"display","none");if("campaignClicko"==h.byId("auto-event").value){var b=g.byId("campaign-urls").get("data-start-value");g.byId("campaign-urls").set("data-start-value",
null);g.byId("campaign-urls").set("store",new m({url:r.campaign_urls_url+"?id\x3d"+h.byId("draft-campaigns").value,urlPreventCache:!0,clearOnClose:!0}));l.set(a,"display","");l.set(d(".campaign-urls")[0],"display","");null!=b&&g.byId("campaign-urls").set("value",b)}},_toggleEcommMessage:function(a){return h.byId("ecomm-analytics-nodata")?(e.toggle("ecomm-analytics-nodata","hide",!a),!0):!1},_handleMergeSelect:function(a){var b=h.byId("auto-event-datemerge"),d=b.value;"annual"==a||"date"==a?p.copyAllOptions(h.byId("date-merges"),
b):"birthday"==a?p.copyAllOptions(h.byId("birthday-merges"),b):"mergeChanged"==a&&p.copyAllOptions(h.byId("event-merges"),b);c.some(b.options,function(a){return a.value==d})&&(b.value=d)}};return r})},"mojo/views/campaigns/folders/archive":function(){define("dojo/_base/declare mojo/views/_base dojo/_base/array dojo/_base/lang dojo/dom-construct dojo/on mojo/utils dijit/TitlePane".split(" "),function(h,k,d,g,b,c,f,l){return h([k],{folders:null,onReady:function(){this.folders&&d.forEach(this.folders,
g.hitch(this,"_renderFolderCode"))},_renderFolderCode:function(d){var a="folder-"+d.id,g=b.create("textarea",{id:a,innerHTML:d.code});c(g,"click",function(){f.selectAll(a)});d=new l({title:d.name,content:g,open:!1});d.startup();b.place(d.domNode,this.$el.codeContainer)}})})},"mojo/views/automations/explore":function(){define("dojo/_base/declare mojo/views/_base dojo/_base/array dojo/dom dojo/dom-geometry dojo/query dojo/on dojo/request/xhr dojo/topic dojo/dom-class dojo/dom-attr dojo/store/Memory dojo/window dojox/html/entities mojo/url mojo/utils mojo/widgets/FilteredSearch dijit/Dialog velocity/velocity d3/d3 dojo/NodeList-traverse".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s,v,w,u){return h([k],{workflows:null,dataStore:null,defaultArea:null,searchArea:null,isSearchVisible:!1,searchTopic:"workflows",onReady:function(){var h=this;this.dataStore=new n({data:h.workflows,idProperty:"key"});this.filteredSearch=new s({placeholder:"Search Automations",searchTopic:h.searchTopic},this.$el.automationFilterSearch);this.defaultArea=c("[data-show-el\x3d'default']")[0];this.searchArea=c("[data-show-el\x3d'search']")[0];this.searchResultsArea=
c("[data-mc-automations\x3d'search-results']")[0];this.searchResultsStatus=c("[data-mc-automations\x3d'search-results-status']")[0];this.searchResultsEmpty=c("[data-mc-automations\x3d'search-results-empty']")[0];this.categorySidebar=c("[data-mc-automations\x3d'category-sidebar']")[0];this.scrollToSections=c("[data-spy\x3d'scroll']");this.scrollToTopButton=c("[data-mc-automations\x3d'scroll-top']")[0];this.top=c("[data-mc-automations\x3d'top']")[0];this.searchAnchor=c("[data-element\x3d'fixSearchAnchor']")[0];
this.sidebar=c("[data-element\x3d'exploreSidebar']")[0];var k=g.byId("wrap"),l,p=0,u=!1,w=d.map(this.scrollToSections,function(a){return{id:m.get(a,"data-search-offset"),pos:b.position(a).y}});f(k,"scroll",function(d){l=b.position(h.top);p=b.position(h.searchAnchor);90>=p.y?(h.fixSidebar(!0),u=!0):h.fixSidebar(!1);d=-l.y+145;for(var e,f=0;f<w.length;f++)100>=Math.abs(w[f].pos-d)&&(h.clearCategorySidebarActiveItem(),(e=c("[data-element\x3d'cat-"+w[f].id+"']")[0])&&a.add(e,"c-workflowList_item--active"))});
d.forEach(this.categorySidebar.children,function(b,d){f(b,"click",function(){h.clearCategorySidebarActiveItem();a.add(b,"c-workflowList_item--active");var d=m.get(b,"data-element").split("-")[1],d=c("[data-search-offset\x3d'"+d+"']")[0];r.scrollTo(k,d,84)})});f(this.scrollToTopButton,"click",function(a){a.preventDefault();r.scrollTo(k,h.top,60);h.clearCategorySidebarActiveItem()});this.hideSearchArea();this.filteredSearch.getValue();this.filteredSearch.on("clear",function(){h.clearSearch()});f(c("[data-mc-automations-add-workflow]"),
"click",function(a){var b=m.get(this,"data-mc-automations-add-workflow"),d=new v({title:"Add Automation",href:q.toUrl("/automations/add-automation-modal?workflow\x3d"+b),onDownloadEnd:function(){c(".cancel",d.domNode).on("click",function(a){a.stopPropagation();a.preventDefault();d.hide()});if("abandonedBrowse"===b){h.toggleShopifyReauthWarning(d.domNode);var a=c("select",d.domNode)[0];f(a,"change",function(a){h.toggleShopifyReauthWarning(d.domNode)})}},onHide:function(){d.destroyRecursive()}});d.show()});
e.subscribe("search/"+h.searchTopic,function(b){!b&&!0===h.isSearchVisible&&(h.enableCategorySidebar(),h.hideSearchArea());b&&!1===h.isSearchVisible&&(h.disableCategorySidebar(),h.showSearchArea());var d=h.dataStore.query(function(a){var c=b.toLowerCase();return-1<a.name.toLowerCase().indexOf(c)||-1<a.description.toLowerCase().indexOf(c)||a.tags&&-1<a.tags.toLowerCase().indexOf(c)?!0:!1});h.hideSearchCards();d.forEach(function(b){b=c("[data-mc-automations-search-key\x3d'"+b.key+"']")[0];a.remove(b,
"hide")});0<d.length?(h.searchResultsStatus.innerHTML=d.length+" "+(1<d.length?"Results":"Result")+' for "'+t.encode(b)+'"',a.add(h.searchResultsEmpty,"hide"),b&&h.logSearchTerm(b,d.length)):(h.searchResultsStatus.innerHTML='No results for "'+t.encode(b)+'"',a.remove(h.searchResultsEmpty,"hide"),h.logSearchTerm(b,0));u&&setTimeout(function(){r.scrollTo(k,h.top);h.clearCategorySidebarActiveItem();u=!u},500)})},logSearchTerm:function(a,b){l.post(q.toUrl("/automations/search-log"),{data:{search_term:a,
result_count:b},sync:!1,handleAs:"json"})},fixSidebar:function(b){b?(a.add(this.sidebar,"c-automationSearch--fixed"),a.add(this.searchAnchor,"c-automationExploreWrapper--scrolled"),a.remove(this.scrollToTopButton,"hide")):(a.remove(this.sidebar,"c-automationSearch--fixed"),a.remove(this.searchAnchor,"c-automationExploreWrapper--scrolled"),a.add(this.scrollToTopButton,"hide"))},showSearchArea:function(){w(this.defaultArea,"transition.slideDownOut",{duration:100});w(this.searchArea,"transition.slideUpIn",
{duration:100});this.isSearchVisible=!0},hideSearchArea:function(){w(this.searchArea,"transition.slideDownOut",{duration:100});w(this.defaultArea,"transition.slideUpIn",{duration:100});this.isSearchVisible=!1},hideSearchCards:function(){c("[data-mc-automations\x3d'search-result-card']").forEach(function(b){a.add(b,"hide")})},clearSearch:function(){this.hideSearchCards();this.hideSearchArea();this.enableCategorySidebar()},enableCategorySidebar:function(){a.remove(this.categorySidebar,"dim3");a.remove(this.categorySidebar,
"no-clicky")},disableCategorySidebar:function(){a.add(this.categorySidebar,"dim3");a.add(this.categorySidebar,"no-clicky")},clearCategorySidebarActiveItem:function(){d.forEach(this.categorySidebar.children,function(b,c){a.contains(b,"c-workflowList_item--active")&&a.remove(b,"c-workflowList_item--active")})},toggleShopifyReauthWarning:function(a){this.getSelectedStoreShopifyReauthRequired(a)?this.showShopifyReauthWarning():this.hideShopifyReauthWarning()},getSelectedStoreShopifyReauthRequired:function(a){a=
c("select",a)[0];a=c("option:selected",a)[0];return"N"===m.get(a,"data-shopify-injection-permission")},showShopifyReauthWarning:function(){var b=c("[data-mc-el\x3dshopifyReauthWarning]")[0];a.remove(b,"hide")},hideShopifyReauthWarning:function(){var b=c("[data-mc-el\x3dshopifyReauthWarning]")[0];a.add(b,"hide")}})})},"mojo/views/automations/index":function(){define("dojo/_base/declare mojo/views/_base dojo/query dojo/on dojo/topic dojo/dom-class dojo/dom-attr mojo/url dijit/Dialog".split(" "),function(h,
k,d,g,b,c,f,l,e){return h([k],{onReady:function(){g(d("[data-mc-automations-add-workflow]"),"click",function(a){a=f.get(this,"data-mc-automations-add-workflow");var b=new e({title:"Add Automation",href:l.toUrl("/automations/add-automation-modal?workflow\x3d"+a),onDownloadEnd:function(){d(".cancel",b.domNode).on("click",function(a){a.stopPropagation();a.preventDefault();b.hide()})},onHide:function(){b.destroyRecursive()}});b.show()});var a=d("[data-mc-automations\x3d'recommended-block']")[0],h=b.subscribe("mojo/analytics/campaigns-list/ready",
function(){c.remove(a,"hide");h.remove()})},showReplicationModal:function(a){var b=new e({title:"Replicate Automation",href:l.toUrl("/automations/replicate-automation-modal",{id:a}),onDownloadEnd:function(){d(".cancel",b.domNode).on("click",function(a){a.stopPropagation();a.preventDefault();b.hide()})},onHide:function(){b.destroyRecursive()}});b.show()}})})},"mojo/views/automations/transactional/index":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/query dojo/parser dojo/request/xhr dojo/dom-class dojo/dom-attr dojo/html dojo/topic dojo/on dojo/NodeList-traverse dijit/registry dijit/Dialog mojo/views/_base mojo/url mojo/widgets/campaigns/Checklist vendor/pluralize/pluralize".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s,v){return h([q],{campaignId:null,storePlatform:null,onReady:function(){if(p.byId("startTransactionalBtn")){var a=p.byId("startTransactionalBtn").domNode;"bigcommerce"!==this.storePlatform&&("shopify"!==this.storePlatform&&"prestashop"!==this.storePlatform)&&f.add(a,"disabled");this.$el.checkPlatformDisclaimer&&m(this.$el.checkPlatformDisclaimer,"change",function(){f.toggle(a,"disabled")})}this.numStatusEmailSelected=this._getTotalStatusEmailSelected();this._orderStatusEmailSelected()&&
(this.$el.emailsMessage.innerHTML=this._emailsMessage(this.numStatusEmailSelected));this._toggleEmailSelectedTick();this.$group.orderStatusSwitch.on("click",d.hitch(this,function(a){this._toggleEmailSelectedTick();this.numStatusEmailSelected=this._getTotalStatusEmailSelected();this.$el.emailsMessage.innerHTML=this._emailsMessage(this.numStatusEmailSelected)}))},_emailsMessage:function(a){var b="";return b=0===a?"Select which order notifications you'd like to send.":"shopify"===this.storePlatform?
"You've enabled \x3cstrong\x3e"+String(a)+"\x3c/strong\x3e "+v("notification",a)+". "+this._duplicateEmailsMessage():"You've enabled \x3cstrong\x3e"+String(a)+"\x3c/strong\x3e "+v("notification",a)},_duplicateEmailsMessage:function(){return'\x3cp class\x3d"full-width"\x3eWe don\'t want you to send duplicate messages! \x3ca href\x3d"http://kb.mailchimp.com/integrations/e-commerce/use-mailchimp-order-notifications-with-shopify" target\x3d"_blank"\x3eCheck the notification options in your store and other services\x3c/a\x3e.\x3c/p\x3e'},
_getTotalStatusEmailSelected:function(){return k.filter(this.$group.orderStatusSwitch,function(a){return a.checked}).length},_orderStatusEmailSelected:function(){return k.some(this.$group.orderStatusSwitch,function(a){return a.checked})},_toggleEmailSelectedTick:function(){this._orderStatusEmailSelected()?f.replace(this.$el.emailsTick,"v-textColorGreen","dim2"):f.replace(this.$el.emailsTick,"dim2","v-textColorGreen")},openDomainVerification:function(a){a=l.get(a,"data-email");a=r.toUrl("/account/verify-domain/",
{step:"add-new",email:a,cid:this.childId});this.verificationDialog||(this.verificationDialog=new t({title:"Verify Domain",style:"width: 620px;",refreshOnShow:"true",id:"mc-module-dialog",onHide:d.hitch(this,function(){s.refreshItem("from")})}));this.verificationDialog.setHref(a);this.verificationDialog.show()}})})},"mojo/views/automations/abandoned-cart/index":function(){define("dojo/_base/declare mojo/views/_base dijit/Dialog dojo/_base/lang dojo/dom-attr dojo/topic mojo/widgets/Previewer mojo/widgets/campaigns/PlainTextDialog mojo/widgets/campaigns/Checklist mojo/url".split(" "),
function(h,k,d,g,b,c,f,l,e,a){return h([k],{parentId:null,parentTitle:null,childId:null,previewer:null,onReady:function(){c.subscribe(l.successTopic(this.childId),function(){e.refreshItem("content")})},openDomainVerification:function(c){c=b.get(c,"data-email");c=a.toUrl("/account/verify-domain/",{step:"add-new",email:c,cid:this.childId});this.verificationDialog||(this.verificationDialog=new d({title:"Verify Domain",style:"width:620px;",refreshOnShow:"true",id:"mc-module-dialog",onHide:g.hitch(this,
function(){e.refreshItem("from")})}));this.verificationDialog.setHref(c);this.verificationDialog.show()},previewContent:function(){this.previewer||(this.previewer=new f({previewId:this.childId,previewType:"campaign",titleText:this.parentTitle,showMergeInfo:!0}));this.previewer.show()},editPlainText:function(){l.show(this.childId)}})})},"mojo/views/automations/abandoned-browse/index":function(){define("dojo/_base/declare mojo/views/_base dojo/_base/lang dojo/on dijit/registry dojo/query dojo/dom-style dojo/dom-attr mojo/url dijit/Dialog mojo/widgets/campaigns/Checklist mojo/widgets/Previewer mojo/widgets/campaigns/PlainTextDialog".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p){return h([k],{onReady:function(){this._productTypeSelect()},_productTypeSelect:function(){g(window.document,g.selector("[data-mc-el\x3d'productType']","attrmodified-value"),function(a){a=b.getEnclosingWidget(a.target);var d=c("[data-mc-el\x3d'newestProducts']")[0],e=c("[data-mc-el\x3d'bestProducts']")[0];if(a)switch(a.value){case "best_selling":f.set(e,"display","block");f.set(d,"display","none");break;default:f.set(d,"display","block"),f.set(e,"display","none")}})},
openDomainVerification:function(b){b=l.get(b,"data-email");b=e.toUrl("/account/verify-domain/",{step:"add-new",email:b,cid:this.childId});this.verificationDialog||(this.verificationDialog=new a({title:"Verify Domain",style:"width:620px;",refreshOnShow:"true",id:"mc-module-dialog",onHide:d.hitch(this,function(){m.refreshItem("from")})}));this.verificationDialog.setHref(b);this.verificationDialog.show()},previewContent:function(){this.previewer||(this.previewer=new n({previewId:this.childId,previewType:"campaign",
titleText:this.parentTitle,showMergeInfo:!0}));this.previewer.show()},editPlainText:function(){p.show(this.childId)}})})},"mojo/views/ads/edit":function(){define("dojo/_base/declare mojo/views/_base dojo/request dojo/query dojo/on dojo/_base/array dojo/_base/lang dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-prop dojo/number dojo/topic mojo/user mojo/flags mojo/url mojo/app/placards mojo/app/placards/checklist/facebook mojo/app/placards/checklist/google mojo/app/account/billing mojo/Pusher mojo/utils mojo/widgets/ads/RetargetingPreview dojo/NodeList-traverse".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s,v,w,u,y,x,A){return h([k],{_attachBillingSummaryEventHandlers:function(){var a=this,d=g("[data-action\x3d'edit-payment-info']");c.forEach(d,function(c){b(c,"click",function(b){b.preventDefault();b.stopPropagation();u.editBillingInfo().then(function(){a.refreshBillingSummary()})})})},refreshBillingSummary:function(){var a=this.ad,b=this;d.post(r.toUrl("ads/billing-summary"),{data:{type:a.type,id:a.id},handleAs:"text"}).then(function(a){l.byId("plan-total-wrapper").innerHTML=
a;b._attachBillingSummaryEventHandlers();b.parse(l.byId("plan-total-wrapper"));if((a=l.byId("ad-budget"))&&b.$el.adBudgetConfirm)b.$el.adBudgetConfirm.innerHTML=a.innerHTML})},onReady:function(){var c=this.ad,h;switch(c.type){case "facebook":h=v();break;case "google":h=w()}h.setup(c);var k=this.channel,l=this;x.checkIfBlocked(function(a){a&&l.showFeedback("Looks like you're using an ad blocker.","To continue using our Ad Builder, please disable your ad blocker. ","warning")});p.subscribe("campaigns/checklist-item",
function(a){"success"===a.status&&(l.refreshBillingSummary(),"budget"===a.itemId&&(m.set(l.$el.confirmDuration,"textContent",a.durationInDays),m.set(l.$el.confirmStartDate,"textContent",a.startDate),m.set(l.$el.confirmStartTime,"textContent",a.startTime)))});b(window.document,b.selector("[data-mc-el\x3dfacebookLocationTagList]","change"),function(){p.subscribe("ads/facebook-location-taglist",function(b){b.conflicts?a.add(g("[data-mc-el\x3dsaveAudience]")[0],"disabled"):a.contains(g("[data-mc-el\x3dsaveAudience]")[0],
"disabled")&&a.remove(g("[data-mc-el\x3dsaveAudience]")[0],"disabled")})});b(window.document,".c-button--loading:click",function(b){a.add(b.target,"button-loading disabled")});l.refreshBillingSummary();b(l.$el.editAdName,"click",function(a){a.preventDefault();l.$widget.editAdNameDialog.show()});b(l.$el.cancelAdRename,"click",function(a){a.preventDefault();l.$widget.editAdNameDialog.hide()});b(l.$el.saveAdRename,"click",function(){var a=l.$el.newAdName.value;d.post(r.toUrl("/ads/rename"),{handleAs:"json",
data:{id:c.id,type:c.type,name:a}}).then(function(a){l.$el.adName.textContent=a.name;l.$widget.editAdNameDialog.hide()});window.ga("send","event","Ad Builder","Rename Ad",a)});this.$widget.tosDialog&&(this.$widget.tosDialog.show(),b(this.$el.cancelTos,"click",function(){l.$widget.tosDialog.hide()}),b(this.$el.acceptTos,"click",function(a){a.preventDefault();d.post(r.toUrl("/ads/"+c.type+"/accept-terms"),{handleAs:"json"}).then(function(a){if("success"===a.status)l.$widget.tosDialog.hide(),window.location.reload(!0);
else throw Error("Unknown error "+JSON.stringify(a));})}),b(window.document,b.selector("[data-mc-el\x3dshowTos]","click"),function(a){a.preventDefault();l.$widget.tosDialog.show()}));b(window.document,b.selector("[data-mc-el\x3dsubmitAd]","click"),function(){if(l.$el.ccSecurity&&3>l.$el.ccSecurity.value.length)a.remove(l.$el.ccSecurityError,"hide"),a.add(l.$el.ccSecurity,"invalid"),l.$el.ccSecurity.focus();else{l.$el.ccSecurity&&(a.add(l.$el.ccSecurityError,"hide"),a.remove(l.$el.ccSecurity,"invalid"));
window.ga("send","event","Ad Builder","Submit Ad");l.$widget.confirmAdDialog.show();e.has(l.$el.confirmAd,"disabled")&&(e.remove(l.$el.confirmAd,"disabled"),a.remove(l.$el.confirmAd,"button-loading disabled"));var b=document.getElementById("canvas"),c=new window.lib.animateslingshotv4,b=new window.createjs.Stage(b);b.addChild(c);b.update();window.createjs.Ticker.setFPS(window.lib.properties.fps);window.createjs.Ticker.addEventListener("tick",b)}});b(window.document,b.selector("[data-mc-el\x3dcancelAd]",
"click"),function(){window.ga("send","event","Ad Builder","Cancel");s.confirmCancel(c.id,c.type).then(function(){window.location.reload(!0)})});b(window.document,b.selector("[data-mc-el\x3dresumeAd]","click"),function(){s.unpauseAd(c.id,c.type).then(function(){window.ga("send","event","Ad Builder","Resume Ad");window.location.reload(!0)})});b(window.document,b.selector("[data-mc-el\x3dpauseAd]","click"),function(){s.pauseAd(c.id,c.type).then(function(){window.ga("send","event","Ad Builder","Pause Ad");
window.location.reload(!0)})});b(l.$el.closeAdDialog,"click",function(a){a.preventDefault();l.$widget.confirmAdDialog.hide()});b(l.$el.confirmAd,"click",function(a){a.preventDefault();e.set(this,"disabled","disabled");window.ga("send","event","Ad Builder","Confirm Order");d.get(r.toUrl("/ads/post-publish"),{handleAs:"json",query:{id:c.id,type:c.type,"cc-security":l.$el.ccSecurity?l.$el.ccSecurity.value:null}}).then(function(a){switch(a.status){case "success":a=r.toUrl("/ads/finished-sent",{id:c.id,
type:c.type});window.location=a;break;case "error":for(var b in a.errors)if({}.hasOwnProperty.call(a.errors,b)){l.showFlash(a.errors[b]);l.$widget.confirmAdDialog.hide();break}break;default:throw Error("Unknown state "+a.status);}})});y.load().then(f.hitch(this,function(a){a.subscribe(k).bind("audience-ready",f.hitch(this,function(){d.get(r.toUrl("/ads/reach-estimate"),{handleAs:"json",query:{id:c.id}}).then(function(a){var b="",c="";t.flagIsOn(q.GOOGLE_ADS_ESSENTIALS)&&500>a.users?(b="Estimated reach: Less than 500",
c="Less than 500"):(a=n.format(a.users,{pattern:"#,###"}),b="Estimated reach: "+a+" out of "+a+" potential",c=a);l.updateReachEstimateContent(b,c)})}))}))},updateReachEstimateContent:function(a,b){e.set(this.$el.reachEstimateHead,"title",a);m.set(this.$el.reachEstimateUserCount,"textContent",b);this.$el.reachUnavailable.style.display="none";this.$el.reachAvailable.style.display="block"},showFeedback:function(b,c,d){d=d||"error";var e=this.$el.feedback;["warning","error"].forEach(function(b){a.remove(e,
b)});a.add(e,d);m.set(this.$el.feedbackTitle,"textContent",b);m.set(this.$el.feedbackMessage,"textContent",c);a.remove(e,"hide")},hideFeedback:function(){a.add(this.$el.feedback,"hide")},showFlash:function(b){var c=this.$el.flash;m.set(this.$el.flashMessage,"textContent",b);a.remove(c,"hide")},hideFlash:function(){a.add(this.$el.flash,"hide")}})})},"mojo/views/ads/finished-sent":function(){define(["dojo/_base/declare","mojo/views/_base"],function(h,k){return h([k],{onReady:function(){var d,g;d=document.getElementById("canvas");
g=new window.lib.animateslingshotstep2;d=new window.createjs.Stage(d);d.addChild(g);d.update();window.createjs.Ticker.setFPS(window.lib.properties.fps);window.createjs.Ticker.addEventListener("tick",d)}})})},"mojo/views/account/billing-contact":function(){define("dojo/_base/declare mojo/views/_base dojo/on mojo/user mojo/flags dojo/_base/lang".split(" "),function(h,k,d,g,b,c){return h([k],{redirectedFromLogin:null,onReady:function(){this.redirectedFromLogin&&this.$el.vatId.focus();d(this.$el.vatStatusYes,
"change",c.hitch(this,function(){this.$el.vatStatusYes.checked&&this.$el.vatId.focus()}))}})})},"mojo/views/account/billing-plan":function(){define("dojo/_base/declare mojo/views/_base dojo/Deferred dojo/dom dojo/query dojo/on dojo/dom-attr dojo/dom-style dojo/dom-class dojo/html dojo/dom-construct dojo/dom-form dojo/dom-geometry dojo/_base/lang dojo/_base/array dojo/request/xhr dojo/window dijit/registry dijit/Dialog mojo/currency-exchange mojo/url mojo/utils mojo/app/account/billing mojo/app/account/mctx mojo/app/account/paypal mojo/marketing/Overlay dojo/number dojo/request velocity/velocity velocity/velocity.ui".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s,v,w,u,y,x,A,C,D,E,G,H,M){var J=function(a){b(".cancel-button",a.domNode).on("click",function(b){b.stopPropagation();b.preventDefault();a.hide()})};return h([k],{hasSocialPro:null,itemsPreSelected:null,monthly_t:null,currentCurrency:null,mctxEmailsPerBlock:25E3,mctxEmailsPerMonth:0,mctxMonthlyBlocks:0,mctxOpenConnectModal:null,mctxOpenStartTrialModal:null,mctxLinked:null,onReady:function(){var d=this,f=b("[name\x3d'billing-plan']");d.mctxOpenStartTrialModal&&
!this.mctxLinked&&d._startMandrillTrial();this.$el.addMandrill&&c(this.$el.addMandrill,"click",function(a){a.stopPropagation();a.preventDefault();d._startMandrillTrial()});d.mctxOpenConnectModal&&!this.mctxLinked&&d._connectMandrill().then(function(a){a.success&&d._continueMctxLinking()});this.$el.connectMandrillLink&&c(this.$el.connectMandrillLink,"click",function(a){a.stopPropagation();a.preventDefault();d._connectMandrill().then(function(a){a.success&&d._continueMctxLinking()})});this.$el.editTransactionalBtn&&
c(this.$el.editTransactionalBtn,"click",function(a){a.preventDefault();d.$el.setTransactional&&e.remove(d.$el.setTransactional,"hide");d.$el.transactionalRemaining&&e.add(d.$el.transactionalRemaining,"hide")});this.$el.setTransactionalBtn&&c(this.$el.setTransactionalBtn,"click",function(a){a.preventDefault();d.$el.setTransactional&&e.remove(d.$el.setTransactional,"hide");d.$el.transactionalRemaining&&e.add(d.$el.transactionalRemaining,"hide")});this.$el.closeSetTransactional&&c(this.$el.closeSetTransactional,
"click",function(a){a.preventDefault();d.$el.setTransactional&&e.add(d.$el.setTransactional,"hide");d.$el.transactionalRemaining&&e.remove(d.$el.transactionalRemaining,"hide")});this.$el.saveSetTransactional&&c(this.$el.saveSetTransactional,"click",function(a){a.preventDefault();a.stopPropagation();0>=d.$el.blocks.value&&x.toast("Please input at least one block for your monthly transactional plan.");b("input[name\x3dbilling-plan][value\x3dmonthly]")[0].click();var c=v.byId("low-send-threshold").value;
a=b('[name\x3d"user\\[mctx\\]\\[low_send_threshold_action\\]"]:checked')[0];var e="notification";a&&(e=a.value);var f=v.byId("low-send-autorefill-blocks").value,g=0<b("input[name\x3dlink-mandrill][value\x3dY]").length;b("[data-action\x3d'remove-mailchimp-pro']");(d.mctxMonthlyBlocks!=d.$el.blocks.value||(d.lowSendThreshold!=c||d.lowSendThresholdAction!=e||d.lowSendAutorefillBlocks!=f)||g)&&r.post(y.toUrl("transactional/updateMctxThresholdPost"),{handleAs:"json",data:{"mctx-monthly-blocks":d.$el.blocks.value,
"low-send-threshold":c,"low-send-threshold-action":e,"low-send-autorefill-blocks":f}}).then(function(a){!0==a.success&&(d.calculatePurchase(),g?g?0<d.$el.blocks.value&&scroll(0,0):d.$el.closeSetTransactional.click():(d.$el.nextCycleMonthlyEmails?(d.$el.nextCycleMonthlyEmails.innerHTML=G.format(d.$el.blocks.value*d.mctxEmailsPerBlock),(d.lowSendThreshold!=c||d.lowSendThresholdAction!=e||d.lowSendAutorefillBlocks!=f)&&d.mctxMonthlyBlocks==d.$el.blocks.value?x.toast("Your threshold settings have been saved."):
(d.lowSendThreshold!=c||d.lowSendThresholdAction!=e||d.lowSendAutorefillBlocks!=f)&&d.mctxMonthlyBlocks!=d.$el.blocks.value?x.toast("Your settings have been saved."):x.toast("Your changes will be reflected during next month\x26#39;s billing cycle."),d.$el.closeSetTransactional.click()):0<d.$el.blocks.value&&(x.toast("Please continue to checkout."),scroll(0,0)),d.mctxMonthlyBlocks=d.$el.blocks.value,d.lowSendThreshold=c,d.lowSendThresholdAction=e,d.lowSendAutorefillBlocks=f))})});this.$el.setTopOffBtn&&
c(this.$el.setTopOffBtn,"click",function(a){a.preventDefault();d.$el.setManualTopOff&&e.remove(d.$el.setManualTopOff,"hide");d.$el.transactionalRemaining&&e.add(d.$el.transactionalRemaining,"hide")});this.$el.closeManualTopOff&&c(this.$el.closeManualTopOff,"click",function(a){a.preventDefault();d.$el.setManualTopOff&&e.add(d.$el.setManualTopOff,"hide");d.$el.transactionalRemaining&&e.remove(d.$el.transactionalRemaining,"hide")});var h=function(c){c=v.byId("low-send-threshold").value;b('[name\x3d"user\\[mctx\\]\\[low_send_threshold_action\\]"]:checked');
var f=v.byId("low-send-autorefill-blocks").value,h=g.byId("autoTopoffMsg");d.$el.autoTopoff.checked?(a.set(dojo.byId("autoTopoffMsgThreshold"),c),a.set(dojo.byId("autoTopoffMsgBlocks"),f),e.remove(h,"hide"),1==f?a.set(dojo.byId("blockPlurality"),"block"):a.set(dojo.byId("blockPlurality"),"blocks")):e.add(h,"hide")};this.$el.mctxAutoTopoff&&(b("input[name\x3d'user\\[mctx\\]\\[low_send_threshold_action\\]']").on("change",h),v.byId("low-send-threshold").on("change",h),v.byId("low-send-autorefill-blocks").on("change",
h));h=b("[data-action\x3d'add-social-pro']");q.forEach(h,function(a,b){c(a,"click",function(){e.contains(a,"added")?d._cancelListSocialPro(a):d._addListSocialPro(a);d.calculatePurchase()})});(h=b("[data-action\x3d'remove-social-pro']"))&&q.forEach(h,function(a,b){c(a,"click",function(){d._deleteListSocialPro(a)})});(h=b("[data-action\x3d'add-mailchimp-pro']"))&&q.forEach(h,function(a,b){c(a,"click",function(){e.contains(a,"added")?d._cancelMailChimpPro(a):d._addMailChimpPro(a);d.calculatePurchase()})});
h=b("[data-action\x3d'add-mctx-monthly']");h.length&&q.forEach(h,function(a,b){c(a,"click",function(){e.contains(a,"added")?d._cancelMctxMonthly(a):(d._addMctxMonthly(a),d.$el.setTransactional&&e.remove(d.$el.setTransactional,"hide"),d.$el.transactionalRemaining&&e.add(d.$el.transactionalRemaining,"hide"));d.calculatePurchase()})});h=b("[data-action\x3d'remove-mctx-monthly']");h.length&&q.forEach(h,function(a,b){c(a,"click",function(){d._deleteMctxMonthly(a)})});h=b("[data-action\x3d'update-mctx-monthly']");
h.length&&q.forEach(h,function(a,e){c(a,"click",function(){b("input[name\x3dbilling-plan][value\x3dmonthly]")[0].click();var a=dojo.byId("blocks").value;r.post(y.toUrl("transactional/updateMctxMonthlyBlocks"),{data:{"mctx-monthly-blocks":a},handleAs:"json"}).then(function(a){a.success&&(d.calculatePurchase(),d.$el.closeSetTransactional.click())})})});b("input[name\x3dbilling-plan]").on("change",function(){"monthly"!==this.value&&g.byId("blocks")&&(g.byId("blocks").value="")});h=b("[data-action\x3d'mctx-manual-topoff']");
h.length&&q.forEach(h,function(a,b){c(a,"click",function(){d.calculatePurchase();d.$el.closeManualTopOff.click();""!=d.$el.refillBlocks.value&&scroll(0,0)})});this.$el.creditsGrid&&l.set(this.$el.creditsGrid,{display:"none",opacity:0});this.$el.monthlyCalcLink&&c(this.$el.monthlyCalcLink,"click",function(){v.byId("monthly-calc-dialog").show();d.calculateMonthly()});this.$el.calcMonthlyInput&&c(this.$el.calcMonthlyInput,"keyup",function(){d.calculateMonthly()});b("[name\x3dcredit-select]").on("change",
t.hitch(this,function(){this.calculatePurchase()}));f.on("change",t.hitch(this,function(){this.calculatePurchase();this.doCreditsGridVisibility()}));b("form#payment-form").on("submit",function(a){var c=this,d=n.toObject(c);if(d["social_pro_lists[]"]&&!d["terms-sign"]){a.preventDefault();a.stopPropagation();var f=new w({id:"module-terms-dialog",title:"Accept Terms of Use",onHide:function(){f.destroyRecursive()},onDownloadEnd:function(){J(f)}});f.setHref(y.toUrl("account/accept-module-terms-modal"));
f.show().then(function(){b("form",f.domNode).on("submit",function(a){a.preventDefault();a.stopPropagation();b(".invalid-error",this).forEach(function(a){e.add(a,"hide")});e.remove("terms-sign","invalid");(a=n.toObject(this)["terms-sign"])?(a=m.toDom('\x3cinput type\x3d"hidden" name\x3d"terms-sign" value\x3d"'+a+'"\x3e'),m.place(a,c),b("button[type\x3dsubmit]",c).forEach(function(a){a.click()}),f.hide()):(e.add("terms-sign","invalid"),b(".invalid-error",this).forEach(function(a){e.remove(a,"hide")}))})})}else b('[type\x3d"submit"]',
this).forEach(function(a){a.disabled=!0})});this.doCreditsGridVisibility();this.calculatePurchase();this.$el.proAd&&c(this.$el.proAd,"click",function(a){a.stopPropagation();a.preventDefault();E.overlay().load("billing_overview_pro",{adDisplay:"copy-block",adConditions:{id:"billing_overview_pro"}})});this.$el.blocks.value=this.mctxMonthlyBlocks||0;this.$el.emailsPerBlock.innerHTML=G.format(this.mctxEmailsPerBlock);this.$el.emailsPerMonth.innerHTML=G.format(this.$el.blocks.value*this.mctxEmailsPerBlock);
c(this.$el.refillBlocks,"keypress",function(a){d._preventEnterSubmit(a)});this._blockInputEvents(this.$el.blocks,this.$el.emailsPerMonth,this.$el.blockCostPerMonth,this.$el.emailCostPerMonth);this.$el.refillBlocks.value="";this.$el.emailsPerRefillBlock.innerHTML=G.format(this.mctxEmailsPerBlock);this.$el.emailsPerRefillMonth.innerHTML=G.format(this.$el.refillBlocks.value*this.mctxEmailsPerBlock)||0;c(this.$el.refillBlocks,"keyup",function(){var a=d.$el.refillBlocks.value;d._isNumber(a)||(d.$el.refillBlocks.value=
a.substring(0,a.length-1));d._updateMctxCost(d.$el.refillBlocks.value,"transactional/refillBlockPrice").then(function(a){d.$el.blockCostPerRefillMonth.innerHTML=a.costLocalizedString;d.$el.emailCostPerRefillMonth.innerHTML=a.symbol+a.costPerEmailLocalized});d.$el.emailsPerRefillMonth.innerHTML=d._updateMctxEmailsPerMonth(a,d.$el.refillBlocks)})},_blockInputEvents:function(a,d,e,f){var g=this;c(a,"keypress",function(a){g._preventEnterSubmit(a);a=a.charCode||a.keyCode;var c=b(".mctx-modal").length;
46==a&&(this.value="",1>c&&x.toast("Please enter a whole number."))});c(a,"keyup",function(){var b=a.value;g._isNumber(b)||(a.value=b.substring(0,b.length-1));g._updateMctxCost(a.value,"transactional/monthlyBlockPrice").then(function(a){e.innerHTML=a.costLocalizedString;f.innerHTML=a.symbol+a.costPerEmailLocalized});d.innerHTML=g._updateMctxEmailsPerMonth(b,a)})},_preventEnterSubmit:function(a){if(13===(a.charCode||a.keyCode))a.stopPropagation(),a.preventDefault()},_updateMctxCost:function(a,b){return H.get(y.toUrl(b,
{blocks:a}),{handleAs:"json"})},_updateMctxEmailsPerMonth:function(a,b){return 0<a?G.format(b.value*this.mctxEmailsPerBlock):0},_isNumber:function(a){return parseFloat(a)==a},_startMandrillTrial:function(){var a=function(a){mojo.utils.toggleButtonLoadingState(a);e.add(a,"disabled");r.post(y.toUrl("transactional/startMctxTrialPost"),{handleAs:"json"}).then(function(b){!0==b.success?window.location=y.toUrl("/transactional"):(mojo.utils.toggleButtonLoadingState(a),e.remove(a,"disabled"))})},c=new w({title:"Add Mandrill",
onHide:function(){c.destroyRecursive()},onDownloadEnd:function(){b(".confirmMctxTrialBtn",c.domNode).on("click",function(b){b.stopPropagation();b.preventDefault();a(this)});J(c)}});c.setHref(y.toUrl("transactional/start-mctx-trial-modal"));c.show()},_connectMandrill:function(){var a=this,c=new d,f=new w({title:"Add Mandrill","class":"mctx-modal",onHide:function(){f.destroyRecursive()},onDownloadEnd:function(){b(".cancel-button",f.domNode).on("click",function(a){a.stopPropagation();a.preventDefault();
f.hide();c.resolve({success:!1,reason:"cancelled"})});var d=function(a){mojo.utils.toggleButtonLoadingState(a);e.add(a,"disabled");r.post(y.toUrl("transactional/startMctxTrialPost"),{handleAs:"json"}).then(function(b){!0==b.success?window.location=y.toUrl("/transactional"):(mojo.utils.toggleButtonLoadingState(a),e.remove(a,"disabled"),b=b.reason,e.remove("link-mctx-error","hide"),g.byId("link-mctx-error-msg").innerHTML=b)})},h=function(b){e.add("link-mctx-error","hide");var c=g.byId("mandrill_username").value,
d=g.byId("mandrill_password").value,f=g.byId("multi_auth").value;a.validateMandrill(c,d,f).then(function(a){x.toggleButtonLoadingState(b);!0==a.success?(e.add("step1","hide"),e.add("step2","hide"),e.remove("step_add_blocks","hide")):"tfa required"==a.reason?(e.add("step1","hide"),e.remove("step2","hide")):"tfa invalid"==a.reason?(e.remove("link-mctx-error","hide"),g.byId("link-mctx-error-msg").innerHTML="Invalid two-factor authentication code"):"unknown username password combination"==a.reason?(e.remove("link-mctx-error",
"hide"),g.byId("link-mctx-error-msg").innerHTML='A username with that password could not be found. Please make sure you\'re not using an API key or SMTP password to connect. \x3ca href\x3d"https://mandrill.zendesk.com/hc/en-us/articles/218077987" target\x3d"_blank"\x3eLearn more\x3c/a\x3e',e.remove("step1","hide"),e.add("step2","hide")):"mandrill already connected"==a.reason?(e.remove("link-mctx-error","hide"),g.byId("link-mctx-error-msg").innerHTML="This Mandrill account has already been connected to another MailChimp account.",
e.remove("step1","hide"),e.add("step2","hide")):"user bad"==a.reason?(e.remove("link-mctx-error","hide"),g.byId("link-mctx-error-msg").innerHTML='Your account cannot be linked at this time. This may be due to a negative Mandrill balance, account suspension, or account closure. \x3ca href\x3d"https://mandrill.zendesk.com/hc/en-us/articles/218077987" target\x3d"_blank"\x3eLearn More\x3c/a\x3e',e.remove("step1","hide"),e.add("step2","hide")):(e.remove("link-mctx-error","hide"),g.byId("link-mctx-error-msg").innerHTML=
"An unexpected error occurred.")})};b("#submit_no_mandrill",f.domNode).on("click",function(a){a.stopPropagation();a.preventDefault();e.remove("step_start_trial","hide");e.add("step1","hide")});b("#submit_start_trial",f.domNode).on("click",function(a){a.stopPropagation();a.preventDefault();d(this)});b("#submit_step_1,#submit_step_2",f.domNode).on("click",function(a){a.stopPropagation();a.preventDefault();h(this)});b("#submit_add_blocks",f.domNode).on("click",function(d){d.stopPropagation();d.preventDefault();
""==b("[data-id\x3dblocks]")[0].value||0==b("[data-id\x3dblocks]")[0].value?e.remove("min_block_msg","hide"):(f.hide().then(function(){scroll(0,0)}),a.$el.blocks.value=b("[data-id\x3dblocks]",f.domNode)[0].value,a.$el.emailsPerBlock.innerHTML=b("[data-id\x3demailPerBlock]",f.domNode)[0].innerHTML,a.$el.emailsPerMonth.innerHTML=b("[data-id\x3demailsPerMonth]",f.domNode)[0].innerHTML,a.$el.blockCostPerMonth.innerHTML=b("[data-id\x3dblockCostPerMonth]",f.domNode)[0].innerHTML,a.$el.emailCostPerMonth.innerHTML=
b("[data-id\x3demailCostPerMonth]",f.domNode)[0].innerHTML,c.resolve({success:!0}))});b("#submit_add_blocks_needs_monthly",f.domNode).on("click",function(a){a.stopPropagation();a.preventDefault();e.remove("step_add_mc_monthly","hide");e.add("step_add_blocks","hide")});b("#submit_add_mc_monthly",f.domNode).on("click",function(d){d.stopPropagation();d.preventDefault();a.$el.blocks.value=b("[data-id\x3dblocks]",f.domNode)[0].value;a.$el.emailsPerBlock.innerHTML=b("[data-id\x3demailPerBlock]",f.domNode)[0].innerHTML;
a.$el.emailsPerMonth.innerHTML=b("[data-id\x3demailsPerMonth]",f.domNode)[0].innerHTML;a.$el.blockCostPerMonth.innerHTML=b("[data-id\x3dblockCostPerMonth]",f.domNode)[0].innerHTML;a.$el.emailCostPerMonth.innerHTML=b("[data-id\x3demailCostPerMonth]",f.domNode)[0].innerHTML;f.hide();c.resolve({success:!0})});var k=b("[data-mc-el\x3d'continueSetupBtn']"),l=b("[data-mc-el\x3d'setTransactional']")[0],m=b("[data-mc-el\x3d'transactionalRemaining']")[0];b(k,f.domNode).on("click",function(a){a.stopPropagation();
a.preventDefault();l&&e.remove(l,"hide");m&&e.add(m,"hide");f.hide()});var k=b("[data-id\x3dblocks]",f.domNode)[0],n=b("[data-id\x3demailsPerMonth]",f.domNode)[0],p=b("[data-id\x3dblockCostPerMonth]",f.domNode)[0],q=b("[data-id\x3demailCostPerMonth]",f.domNode)[0];k&&(b("[data-id\x3demailPerBlock]",f.domNode)[0].innerHTML=G.format(a.mctxEmailsPerBlock),a._blockInputEvents(k,n,p,q))}});f.setHref(y.toUrl("transactional/connect-mandrill"));f.show();return c},_continueMctxLinking:function(){var a=g.byId("payment-form"),
c=m.toDom('\x3cinput type\x3d"hidden" name\x3d"link-mandrill" value\x3d"Y"\x3e');m.place(c,a);b("input[name\x3dbilling-plan][value\x3dmonthly]")[0].click();this.$el.setTransactional&&e.remove(this.$el.setTransactional,"hide");0<b("input[name\x3dlink-mandrill][value\x3dY]").length&&(e.remove(this.$el.linkMctxFeedback,"hide"),this.$el.saveSetTransactional.innerHTML="Add Blocks to Checkout");e.add(this.$el.connectMandrillLink,"hide");e.add(this.$el.closeSetTransactional,"hide");this.calculatePurchase()},
validateMandrill:function(a,b,c){return r.post(y.toUrl("transactional/validateMctxAccountPost"),{handleAs:"json",data:{mandrill_username:a,mandrill_password:b,multi_auth:c}})},_attachSidebarEventHandlers:function(){var a=this;this.$el.confirmBillingInfo&&c(this.$el.confirmBillingInfo,"click",function(c){if("downgrade"==f.get(a.$el.confirmBillingInfo,"data-action"))dijit.byId("confirm-downgrade").show(),c.preventDefault();else if(g.byId("cc-security-wrapper")&&!e.contains("cc-security-wrapper","hide")){var d=
b("[data-mc-el\x3d'ccSecurity']")[0];if(d&&""==d.value){var h=b("[data-mc-el\x3d'ccSecurityError']")[0];e.remove(h,"hide");e.add(d,"invalid");c.preventDefault()}}});var d=b("[data-action\x3d'edit-payment-info']");q.forEach(d,function(b){c(b,"click",function(b){b.preventDefault();b.stopPropagation();A.editBillingInfo().then(function(){a.calculatePurchase()})})});c(b("[data-action\x3d'remove-card']"),"click",function(b){A.removeBillingInfo().then(function(){a.calculatePurchase()})})},_addListSocialPro:function(b){a.set(b,
"Remove");e.add(b,"added");var c=m.toDom('\x3cinput id\x3d"listid_'+f.get(b,"data-value")+'" type\x3d"hidden" name\x3d"social_pro_lists[]" value\x3d"'+f.get(b,"data-value")+'"\x3e');m.place(c,b,"after")},_cancelListSocialPro:function(b){a.set(b,"Add");e.remove(b,"added");m.destroy("listid_"+f.get(b,"data-value"))},_deleteListSocialPro:function(a){var b=new w({title:"Delete list from Social Profiles",onHide:function(){b.destroyRecursive()},onDownloadEnd:function(){J(b)}});b.setHref(y.toUrl("account/delete-social-pro-modal",
{id:f.get(a,"data-value")}));b.show()},_addMailChimpPro:function(b){a.set(b,"Remove");e.add(b,"added");f.set(this.$el.mailchimpPro,"value","Y")},_cancelMailChimpPro:function(b){a.set(b,"Add for $199 / month");e.remove(b,"added");f.set(this.$el.mailchimpPro,"value","N")},_addMctxMonthly:function(a){e.add(a,"added");f.set(this.$el.mctxMonthly,"value","Y");""==g.byId("blocks").value&&(g.byId("blocks").value=1)},_cancelMctxMonthly:function(b){a.set(b,"Add");e.remove(b,"added");f.set(this.$el.mctxMonthly,
"value","N");g.byId("blocks")&&(g.byId("blocks").value="")},_deleteMctxMonthly:function(){var a=new w({title:"Disable Mandrill",onHide:function(){a.destroyRecursive()},onDownloadEnd:function(){J(a)}});a.setHref(y.toUrl("transactional/delete-mctx-monthly-modal"));a.show()},calculatePurchase:function(){var a=r.post(y.toUrl("account/calculate-purchase"),{data:n.toObject(this.$el.form),handleAs:"text"});a.then(t.hitch(this,function(a){g.byId("plan-total-wrapper").innerHTML=a;this.parse(g.byId("plan-total-wrapper"));
this._attachSidebarEventHandlers()}));return a},getSelectedBillingPlan:function(){var a=b("input[name\x3dbilling-plan]:checked")[0];return!a?null:a.value},doCreditsGridVisibility:function(){this.$el.creditsGrid&&("payg"===this.getSelectedBillingPlan()?(l.set(this.$el.creditsGrid,"display",""),M(this.$el.creditsGrid,{opacity:1},{duration:350})):M(this.$el.creditsGrid,{opacity:0},{duration:350,complete:t.hitch(this,function(){l.set(this.$el.creditsGrid,"display","none")})}))},calculateMonthly:function(){this.monthly_t&&
clearTimeout(this.monthly_t);this.monthly_t=setTimeout(function(){var a=[];a.currency=this.currentCurrency;a.members=parseInt(b("[data-mc-el\x3d'calcMonthlyInput']")[0].value.replace(/[^\d]/g,""));dojo.xhrPost({url:y.toUrl("account/plans-tables"),content:a,handleAs:"json",load:function(a){dojo.byId("plans-table")&&(dojo.byId("plans-table").innerHTML=a.plans)}});this.monthly_t=null},500)}})})},"mojo/views/account/billinginfo":function(){define("dojo/_base/declare mojo/views/_base mojo/url mojo/utils dojo/request/xhr dojo/dom dojo/query dojo/on dojo/dom-attr dojo/dom-style dojo/dom-class dojo/html dojo/_base/array mojo/app/account/billing".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t){return h([k],{onReady:function(){this.attachEventHandlers()},attachEventHandlers:function(){var a=this;this.parse(c.byId("current-billing-info"));this.updateCheckboxDescription();if(this.$group.notificationInputs){var b=[this.$el.invoiceNotification.checked,this.$el.billingNotification.checked];this.$el.paygNotification&&b.push(this.$el.paygNotification.checked,this.$el.paygNotificationThreshold.value);this.$group.notificationInputs.on(["change","keyup"],function(){var c=
[a.$el.invoiceNotification.checked,a.$el.billingNotification.checked];a.$el.paygNotification&&c.push(a.$el.paygNotification.checked,a.$el.paygNotificationThreshold.value);a.updateCheckboxDescription();m.toggle(a.$el.billingNotificationsSaveButton,"hide",!g.arraysMatch(c,b))})}if(this.$group.paygRefillInputs){var h=[this.$el.paygRefillCheckbox.checked,this.$el.paygRefillSelect.value,this.$el.paygRefillThreshold.value];this.$group.paygRefillInputs.on(["change","keyup"],function(){var b=[a.$el.paygRefillCheckbox.checked,
a.$el.paygRefillSelect.value,a.$el.paygRefillThreshold.value];a.updateCheckboxDescription();m.toggle(a.$el.paygRefillSaveButton,"hide",!g.arraysMatch(b,h))})}if(this.$el.currency){var k=e.get(this.$el.currency,"value");l(this.$el.currency,"change",function(b){m.remove(a.$el.currencySaveButton,"hide");e.get(a.$el.currency,"value")==k&&m.add(a.$el.currencySaveButton,"hide")})}l(f("[data-action\x3d'edit-payment-info']"),"click",function(b){t.editBillingInfo().then(function(b){"adyen"==b["payment-method"]&&
!b.is_adyen_already&&(window.location=d.toUrl("account/adyen-setup"));t.refreshPaymentInfo("billinginfo").then(function(){a.attachEventHandlers()})})});l(f("[data-action\x3d'remove-card']"),"click",function(b){t.removeBillingInfo().then(function(){t.refreshPaymentInfo("billinginfo").then(function(){a.attachEventHandlers()})})});this.$el.editBillingEmailLink&&l(this.$el.editBillingEmailLink,"click",function(){t.updateBillingEmail().then(function(){t.refreshPaymentInfo("billinginfo").then(function(){a.attachEventHandlers()})})});
this.$el.paygNotificationThreshold&&l(this.$el.paygNotificationThreshold,"keypress",function(b){a.validateNumberInput(b)});this.$el.paygRefillThreshold&&l(this.$el.paygRefillThreshold,"keypress",function(b){a.validateNumberInput(b)})},updateCheckboxDescription:function(){if(this.$el.paygNotification||this.$group.paygRefillInputs)m.toggle(this.$el.paygNotificationDesc,"dim3 no-clicky",!this.$el.paygNotification.checked),m.toggle(this.$el.paygRefillDesc,"dim3 no-clicky",!this.$el.paygRefillCheckbox.checked)},
validateNumberInput:function(a){var b=/[0-9]/,c=a.keyCode||a.which;-1===[8,37,38,39,40].indexOf(c)&&(b.test(String.fromCharCode(c))||a.preventDefault(a))}})})},"mojo/views/account/close-survey":function(){define("dojo/_base/declare mojo/views/_base dojo/dom dojo/query dojo/on dojo/dom-attr dojo/dom-style dojo/dom-class".split(" "),function(h,k,d,g,b,c,f,l){return h([k],{onReady:function(){this.attachEventHandlers()},validateRequiredFields:function(){0<g("[name\x3dwhyClose]:checked").length&&0<g("[name\x3dmakesMeFeel]:checked").length&&
(l.remove(this.$el.deleteButton,"disabled"),l.add(this.$el.requiredStatus,"hide"))},hidePlatformQuestion:function(){l.add(this.$el.platformQuestion,"hide");l.add(this.$el.otherReasonInput,"hide");this.$el.otherReasonInput.value="";this.$el.platformQuestionInput.value=""},attachEventHandlers:function(){var c=this;b(g("[name\x3dwhyClose]"),"change",function(a){switch(a.target.id){case "whyClose_14":l.remove(c.$el.otherReasonInput,"hide");l.remove(c.$el.platformQuestion,"hide");break;case "whyClose_4":c.hidePlatformQuestion();
break;case "whyClose_5":c.hidePlatformQuestion();break;case "whyClose_10":c.hidePlatformQuestion();break;default:l.add(c.$el.otherReasonInput,"hide"),l.remove(c.$el.platformQuestion,"hide"),c.$el.otherReasonInput.value=""}});b(g("input[type\x3dradio]"),"change",function(){c.validateRequiredFields()})}})})},"mojo/views/account/details":function(){define("dojo/_base/declare dojo/_base/lang mojo/views/_base dojo/on dijit/registry mojo/utils mojo/user mojo/flags".split(" "),function(h,k,d,g,b,c,f,l){return h([d],
{isAgency:null,onReady:function(){g(this.$el.agencyForm,"submit",k.hitch(this,function(b){this._submitAgencySetting(b)}))},_submitAgencySetting:function(d){"Y"===this.isAgency&&!1===this.$el.agencyCheck.checked&&(d.stopPropagation(),d.preventDefault(),c.toggleButtonLoadingState(this.$el.agencyFormButton),b.byId("disable-agency-dialog").show())}})})},"mojo/views/account/domains":function(){define("dojo/_base/declare mojo/views/_base dijit/registry mojo/url velocity/velocity dijit/Dialog dojo/dom dojo/query dojo/dom-class dojo/dom-attr dojo/on dojo/request/xhr mojo/utils dojo/dom-construct".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t){return h([k],{enableAuthenticationModal:null,disableAuthenticationModal:null,domainDeleteModal:null,disableAuthentication:null,selectedDomain:null,errorsContainer:null,onReady:function(){this.enableAuthenticationModal=d.byId("configure-modal");this.disableAuthenticationModal=d.byId("disable-authentication");this.domainDeleteModal=d.byId("domain-delete");this.errorsContainer=f.byId("errors");var a=this;m(l("[data-action\x3d'try-authentication']")[0],"click",function(b){p.toggleButtonLoadingState(this);
b.preventDefault();a.tryAuthentication(a.selectedDomain,this)});m(l("[data-action\x3d'disable-authentication']")[0],"click",function(b){p.toggleButtonLoadingState(this);b.preventDefault();a.disableAuthentication(a.selectedDomain,this)});m(l("#delete-domain-form"),"submit",function(b){p.toggleButtonLoadingState(l("[data-action\x3d'delete-domain']")[0]);b.preventDefault();t.place(t.create("input",{name:"domain",type:"hidden",value:escape(a.selectedDomain)}),this);this.submit()})},showDomainDeleteModal:function(a){this.selectedDomain=
a;l(".domain-name").attr("innerHTML",a);domainDeleteModal.show()},showEnableDomainAuthenticationModal:function(a){this.selectedDomain=a;this.errorsContainer.innerHTML="";e.add("authentication-errors","hide");l(".domain-name").attr("innerHTML",a);this.enableAuthenticationModal.show()},showDisableDomainAuthenticationModal:function(a){this.selectedDomain=a;l(".domain-name").attr("innerHTML",a);disableAuthenticationModal.show()},tryAuthentication:function(a,c){var d=this;n(g.toUrl("/account/check-authentication"),
{handleAs:"json",query:{domain:a}}).then(function(a){if(a.success)window.location.reload();else{var g="";p.toggleButtonLoadingState(c);a.errors.dkim&&(g+="\x3cp\x3e\x3cstrong\x3eDKIM:\x3c/strong\x3e "+a.errors.dkim+"\x3cp/\x3e");a.errors.spf&&(g+="\x3cp\x3e\x3cstrong\x3eSPF:\x3c/strong\x3e "+a.errors.spf+"\x3cp/\x3e");d.errorsContainer.innerHTML=g;e.remove("authentication-errors","hide");b(f.byId("top"),"scroll",{container:l(".dijitDialogPaneContentArea")[0],duration:250,offset:-50})}})},disableAuthentication:function(a,
b){var c=this;n(g.toUrl("/account/disable-authentication"),{handleAs:"json",query:{domain:a}}).then(function(a){e.remove("authentication-errors","hide");a.success?window.location.reload():(p.toggleButtonLoadingState(b),c.errorsContainer.innerHTML="There was an error disabling authentication for this domain.")})}})})},"mojo/views/account/index-old":function(){define("dojo/_base/declare mojo/views/_base mojo/url mojo/utils dojo/dom dojo/query dojo/on dojo/dom-attr dojo/dom-style dojo/dom-class dojo/html dojo/topic dojo/_base/array mojo/app/account/billing dijit/Dialog dijit/registry velocity/velocity velocity/velocity.ui".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s){return h([k],{creditsGrid:null,creditsGridToggle:null,buyCredits:null,cancelBuyCredits:null,creditSelect:null,numCredits:null,creditsGridOpen:null,onReady:function(){this.creditsGrid=c("[data-element\x3d'credits-grid']")[0];this.creditsGridToggle=c("[data-action\x3d'credits-grid-toggle']")[0];this.buyCredits=c("[data-action\x3d'buy-credits']")[0];this.cancelBuyCredits=c("[data-action\x3d'cancel-buy-credits']")[0];this.creditSelect=c("[name\x3d'credit-select']");
this.numCredits=c("[data-content\x3d'num-credits']")[0];this.creditsGridOpen=!1;var b=this;null!==this.creditsGrid&&(f(this.creditsGridToggle,"click",function(a){b.showCreditsGrid()}),f(this.cancelBuyCredits,"click",function(){b.hideCreditsGrid()}),f(this.creditSelect,"change",function(){a.remove(b.buyCredits,"disabled");m.set(b.numCredits,l.get(this,"data-content"))}),f(this.buyCredits,"click",function(){var a=c(c("[name\x3d'credit-select']:checked"));a&&(window.location=d.toUrl("/account/billing-plan",
{credits:a[0].value}))}));n.subscribe(r.byId("account-issues").getTopic(),function(){g.parseEmoji(r.byId("account-issues").domNode)})},showCreditsGrid:function(){this.creditsGridOpen||(e.set(this.creditsGrid,"display",""),s(this.creditsGrid,"transition.slideDownIn",500),this.creditsGridOpen=!0,a.add(this.creditsGridToggle,"hide"),a.remove(this.buyCredits,"hide"),a.remove(this.cancelBuyCredits,"hide"))},hideCreditsGrid:function(){var b=this;s(b.creditsGrid,"reverse",{duration:250});s(b.creditsGrid,
{height:0},{easing:"easeInOut",duration:200,complete:function(){e.set(b.creditsGrid,"display","none");e.set(b.creditsGrid,"height","auto");b.creditsGridOpen=!1;a.remove(b.creditsGridToggle,"hide");a.add(b.buyCredits,"disabled");a.add(b.buyCredits,"hide");a.add(b.cancelBuyCredits,"hide");p.forEach(b.creditSelect,function(a){l.get(a,"checked")&&(l.set(a,"checked",!1),m.set(b.numCredits,""))})}})}})})},"mojo/views/account/index":function(){define("dojo/_base/declare mojo/views/_base mojo/url mojo/utils dojo/dom dojo/query dojo/on dojo/dom-attr dojo/dom-style dojo/dom-class dojo/html dojo/topic dojo/_base/array mojo/app/account/billing dijit/Dialog dijit/registry velocity/velocity velocity/velocity.ui".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s){return h([k],{creditsGrid:null,creditsGridToggle:null,buyCredits:null,cancelBuyCredits:null,creditSelect:null,numCredits:null,creditsGridOpen:null,onReady:function(){this.creditsGrid=c("[data-element\x3d'credits-grid']")[0];this.creditsGridToggle=c("[data-action\x3d'credits-grid-toggle']")[0];this.buyCredits=c("[data-action\x3d'buy-credits']")[0];this.cancelBuyCredits=c("[data-action\x3d'cancel-buy-credits']")[0];this.creditSelect=c("[name\x3d'credit-select']");
this.numCredits=c("[data-content\x3d'num-credits']")[0];this.creditsGridOpen=!1;var b=this;null!=this.creditsGrid&&(f(this.creditsGridToggle,"click",function(a){b.showCreditsGrid()}),f(this.cancelBuyCredits,"click",function(){b.hideCreditsGrid()}),f(this.creditSelect,"change",function(){a.remove(b.buyCredits,"disabled");m.set(b.numCredits,l.get(this,"data-content"))}),f(this.buyCredits,"click",function(){var a=c(dojo.query("[name\x3dcredit-select]:checked"));a&&(window.location=d.toUrl("/account/billing-plan",
{credits:a[0].value}))}));n.subscribe(r.byId("account-issues").getTopic(),function(){g.parseEmoji(r.byId("account-issues").domNode)})},showCreditsGrid:function(){this.creditsGridOpen||(e.set(this.creditsGrid,"display",""),s(this.creditsGrid,"transition.slideDownIn",500),this.creditsGridOpen=!0,a.add(this.creditsGridToggle,"hide"),a.remove(this.buyCredits,"hide"),a.remove(this.cancelBuyCredits,"hide"))},hideCreditsGrid:function(){var b=this;s(b.creditsGrid,"reverse",{duration:250});s(b.creditsGrid,
{height:0},{easing:"easeInOut",duration:200,complete:function(){e.set(b.creditsGrid,"display","none");e.set(b.creditsGrid,"height","auto");b.creditsGridOpen=!1;a.remove(b.creditsGridToggle,"hide");a.add(b.buyCredits,"disabled");a.add(b.buyCredits,"hide");a.add(b.cancelBuyCredits,"hide");p.forEach(b.creditSelect,function(a){l.get(a,"checked")&&(l.set(a,"checked",!1),m.set(b.numCredits,""))})}})}})})},"mojo/views/account/pro-remove-survey":function(){define("dojo/_base/declare mojo/views/_base dojo/dom dojo/query dojo/on dojo/dom-attr dojo/dom-style dojo/dom-class".split(" "),
function(h,k,d,g,b,c,f,l){return h([k],{onReady:function(){this.attachEventHandlers()},validateRequiredFields:function(){0<g("[name\x3dwhyRemovePro]:checked").length&&(l.remove(this.$el.removeButton,"disabled"),l.add(this.$el.requiredStatus,"hide"))},attachEventHandlers:function(){var c=this;b(g("[name\x3dwhyRemovePro]"),"change",function(){"Other"==this.value?l.remove(c.$el.otherReasonInput,"hide"):l.add(c.$el.otherReasonInput,"hide");"Too hard to figure out"==this.value?l.remove(c.$el.featuresTroubleInput,
"hide"):l.add(c.$el.featuresTroubleInput,"hide");"Doesn't meet my needs"==this.value?l.remove(c.$el.featuresShortInput,"hide"):l.add(c.$el.featuresShortInput,"hide");c.validateRequiredFields()})}})})},"mojo/views/account/users/index":function(){define("dojo/_base/declare mojo/views/_base dojo/_base/lang dojo/dom-attr dojo/on dijit/registry mojo/user mojo/url mojo/app/account/clients/revokeAccess".split(" "),function(h,k,d,g,b,c,f,l,e){return h([k],{inviteId:null,loginId:null,onReady:function(){this.$group.removeAccountBtn&&
b(this.$group.removeAccountBtn,"click",d.hitch(this,function(a){e.showRemoveAgencyDialog(g.get(a.target,"data-agency-id"))}));this.$group.revokeAccessBtn&&b(this.$group.revokeAccessBtn,"click",d.hitch(this,function(a){var b=g.get(a.target,"data-agency-id");a=g.get(a.target,"data-login-id");null===a?e.showRemoveAgencyDialog(b):e.showRemoveAgencyUserDialog(b,a)}))},submitRemoveUser:function(){e.doRemoveAgencyUser()},submitRemoveAccount:function(){e.doRemoveAgencyAccount()},showDeleteConfirmation:function(a){this.loginId=
a;c.byId("delete-user-dialog").show()},doDeleteLogin:function(){window.location=l.toUrl("/account/users/delete",{login_id:this.loginId,__csrf_token:f.__csrfToken})},showRevokeInviteConfirmation:function(a){this.inviteId=a;c.byId("delete-invite-dialog").show()},doDeleteInvite:function(){window.location=l.toUrl("/account/users/revoke-invitation",{key:this.inviteId,__csrf_token:f.__csrfToken})}})})},"mojo/views/account/users/view":function(){define("dojo/_base/declare mojo/views/_base dojo/_base/lang dojo/dom-attr dojo/on mojo/app/account/clients/revokeAccess".split(" "),
function(h,k,d,g,b,c){return h([k],{onReady:function(){this.$el.revokeAccessBtn&&b(this.$el.revokeAccessBtn,"click",d.hitch(this,function(b){var d=g.get(b.target,"data-agency-id");b=g.get(b.target,"data-login-id");null===b?c.showRemoveAgencyDialog(d):c.showRemoveAgencyUserDialog(d,b)}))},submitRemoveUser:function(){c.doRemoveAgencyUser()},submitRemoveAccount:function(){c.doRemoveAgencyAccount()}})})},"mojo/views/account/status/index":function(){define("dojo/_base/declare mojo/views/_base mojo/url mojo/utils dojo/request/xhr dojo/dom dojo/on dojo/dom-attr dojo/dom-class dijit/Dialog dojo/query".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m){var n=function(a){m(".cancel-button",a.domNode).on("click",function(b){b.stopPropagation();b.preventDefault();a.hide()})};return h([k],{onReady:function(){this.initAcknowledgementCheckMark();this.initDismissReconfirmModal();g.parseEmoji(c.byId("issue-detail"))},initAcknowledgementCheckMark:function(){var a=this.$el.acknowledgeCheckmark,b=this.$el.ignoreWarning;a&&f(a,"change",function(){e.toggle(b,"disabled")})},initDismissReconfirmModal:function(){var a=this,b=this.$el.confirmDismissReconfirm;
b&&f(b,"click",function(){a._dismissReconfirmModal(b)})},_dismissReconfirmModal:function(b){var c=new a({title:"Are you sure?",onHide:function(){c.destroyRecursive()},onDownloadEnd:function(){n(c)}});c.setHref(d.toUrl("account/status/dismiss-reconfirm-modal",{id:l.get(b,"data-value")}));c.show()}})})},"mojo/views/account/integrations/index":function(){define("dojo/_base/declare mojo/views/_base dojo/dom dojo/dom-class dojo/dom-attr dojo/dom-style dojo/_base/array dojo/on dojo/query dojo/ready dojo/_base/lang dojo/dom-construct dojo/request/xhr dojo/Deferred mojo/url velocity/velocity mojo/widgets/CircularLoader mojo/Pusher mojo/utils".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s,v,w){return h([k],{onReady:function(){d.byId("isShopify").value&&(w.disclosureElement("shopify-panel",this,!1),g.replace("shopify-disclosure","disclosure-open","disclosure-closed"));this.iconContainer=e("[data-mc-el\x3d'syncingIcon']")[0];this._initializePusher();this._initializeHealthCheck();this.iconContainer&&this._insertIcon()},switchList:function(a){var b=this;this.currentContainer=e("[data-mc-el\x3d'slatContainer-"+a+"']")[0];this.listId=this._getListId(this.currentContainer);
this.feedBlock=this._findFeedbackBlock(a);if(this.listId){if("0"===this.listId){this.listNameInput=e(".js-shopify-list-name",this.currentContainer)[0];if(!this._checkNameField(this.listNameInput.value,this.feedBlock))return;this.deferred=this._postAction("account/integrations/shopify-change-list-post}?id\x3d"+a+"\x26list_id\x3d"+this.listId+"\x26list_name\x3d"+this.listNameInput.value)}else this.deferred=this._postAction("account/integrations/shopify-change-list-post}?id\x3d"+a+"\x26list_id\x3d"+
this.listId);this.deferred.then(function(a){b._swapSlats(b.currentContainer,a)},function(a){})}else this.errMsg="Please choose a list to sync your Shopify customers.",this.feedBlock=this._findFeedbackBlock(a),this._showFeedback(this.errMsg,this.feedBlock)},syncStore:function(){this.urlInput=e("[data-mc-el\x3d'shopUrl']")[0];this.listSelect=e(".js-shopify-lists")[0];this.feedBlock=this._findFeedbackBlock(0);this.shopifyUrl="myshopify";this.urlIndex=f.indexOf(this.urlInput.value.split("."),this.shopifyUrl);
this.subDomain=this.urlInput.value.split(".",1);!this.urlInput||""===this.subDomain[0]||0>this.urlIndex?(this.errMsg="Please enter a URL with the format store-name.myshopify.com",this._showFeedback(this.errMsg,this.feedBlock)):(/^(f|ht)tps?:\/\//i.test(this.subDomain[0])&&(this.urlArray=this.subDomain[0].split("//"),this.subDomain[0]=this.urlArray[1]),this._hideFeedback(this.feedBlock),window.location=q.toUrl("/account/integrations/shopify-oauth-authorize}?shop\x3d"+this.subDomain[0]+"."+this.shopifyUrl+
".com\x26list_id\x3d-1"))},draftSync:function(a){var b=this;this.currentContainer=e("[data-mc-el\x3d'slatContainer-"+a+"']")[0];this.feedBlock=this._findFeedbackBlock(a);(this.listId=this._getListId(this.currentContainer))?"0"===this.listId?(this.listNameInput=e(d.byId("shopify-list-name"),this.currentContainer)[0],this._checkNameField(this.listNameInput.value,this.feedBlock)&&(this.deferred=this._postAction("/account/integrations/shopify-draft-sync?id\x3d"+a+"\x26list_name\x3d"+this.listNameInput.value),
this.deferred.then(function(a){b._swapSlats(b.currentContainer,a)},function(a){}))):(this.deferred=this._postAction("/account/integrations/shopify-draft-sync?id\x3d"+a+"\x26list_id\x3d"+this.listId),this.deferred.then(function(a){b._swapSlats(b.currentContainer,a)},function(a){})):(this.errMsg="Please choose a list to sync your Shopify customers.",this.feedBlock=this._findFeedbackBlock(a),this._showFeedback(this.errMsg,this.feedBlock))},switchState:function(a,b){var c=this;this.currentContainer=e("[data-mc-el\x3d'slatContainer-"+
b+"']")[0];this.deferred=this._postAction("/account/integrations/shopify-"+a+"?id\x3d"+b);this.deferred.then(function(a){c._swapSlats(c.currentContainer,a)},function(a){})},newState:function(a){var b=this;this.currentContainer=e("[data-mc-el\x3d'slatContainer-0']")[0];this.deferred=this._postAction("/account/integrations/shopify-"+a);this.deferred.then(function(a){b._swapSlats(b.currentContainer,a)},function(a){})},showListInput:function(a){this.currentContainer=e("[data-mc-el\x3d'slatContainer-"+
a+"']")[0];this.listNameContainer=e(".js-shopify-list-container",this.currentContainer)[0];(this.feedBlock=this._findFeedbackBlock(a))&&this._hideFeedback(this.feedBlock);this.listId=this._getListId(this.currentContainer);"0"===this.listId?r(this.listNameContainer,"transition.slideUpIn",{duration:100}):r(this.listNameContainer,"transition.slideDownOut",{duration:100})},_findFeedbackBlock:function(a){this.feedContainer=e("[data-mc-el\x3d'slatContainer-"+a+"']")[0];return e(".feedback-block",this.feedContainer)[0]},
_showFeedback:function(a,b){this.msgBlock=e(".message-block",b)[0];this.msgBlock.innerHTML=a;r(b,"transition.slideUpIn",{duration:100})},_hideFeedback:function(a){r(a,"transition.slideDownOut",{duration:100});this.errMsg=""},_insertIcon:function(){this.syncIcon=new s({loaderSize:"36",title:"Syncing"},this.iconContainer)},_checkNameField:function(a,b){if(a)return this._hideFeedback(b),!0;this.errMsg="Please enter a name for your new list.";this._showFeedback(this.errMsg,b);return!1},_getListId:function(a){this.listIdSelect=
e(".js-shopify-lists",a)[0];return this.listIdSelect.value},_initializePusher:function(){var a=this;(this.channel=d.byId("shopifyChannel").value)&&v.load().then(m.hitch(this,function(b){a.channel=b.subscribe(a.channel);a.channel.bind("update",function(b){a.switchState("state",b.store_id)},this)}))},_initializeHealthCheck:function(){this._postAction("account/integrations/shopify-health-check")},_swapSlats:function(a,b){b.html&&n.place(b.html,a,"after");n.destroy(a);(this.iconContainer=e("[data-mc-el\x3d'syncingIcon']")[0])&&
this._insertIcon()},_postAction:function(a){var b=new t;p.get(q.toUrl(a),{handleAs:"json",sync:!1}).then(m.hitch(this,function(a){b.resolve(a)}),function(a){b.reject(a)});return b}})})},"mojo/views/account/connected-sites/index":function(){define("dojo/_base/declare mojo/views/_base mojo/url dojo/on dijit/Dialog dojo/query".split(" "),function(h,k,d,g,b,c){var f=function(b){c(".cancel-button",b.domNode).on("click",function(c){c.stopPropagation();c.preventDefault();b.hide()})};return h([k],{showRemoveConfirmModal:function(c){var e=
new b({title:"Are you sure?",onHide:function(){e.destroyRecursive()},onDownloadEnd:function(){f(e)}});e.setHref(d.toUrl("account/connected-sites/remove-confirm-modal",{id:c}));e.show()}})})},"mojo/views/account/connected-sites/site-detail":function(){define("dojo/_base/declare mojo/views/_base dojo/_base/array dojo/html dojo/on dojo/dom-form dojo/dom-style dojo/dom-attr dojo/dom-class dojo/request/xhr dojo/_base/lang dojo/query mojo/utils velocity/velocity mojo/Clipboard mojo/Pusher mojo/url".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s){return h([k],{shopifyChannel:null,isSyncing:null,siteId:null,listSelected:null,store:null,onReady:function(){this._initializePusher();this.$el.openChangeList&&this.controlChangeList();this.store&&(!this.listSelected&&this.$el.openChangeList)&&(this._showChangeList(),e.add(this.$el.cancelChangeList,"hide"));this.$el.copyCode&&b(this.$el.copyCode,"click",m.hitch(this,function(a){this._copyCode(a)}));this.$el.listSelect&&b(this.$el.listSelect,"change",m.hitch(this,
function(){"0"===this.$el.listSelect.value?t(this.$el.listSelectContainer,"transition.slideUpIn",{duration:100}):t(this.$el.listSelectContainer,"transition.slideDownOut",{duration:100});this.$el.listSelect.value?e.remove(this.$el.changeListSubmitEl,"disabled"):e.add(this.$el.changeListSubmitEl,"disabled")}));if(this.$el.changeListSubmitEl){e.add(this.$el.changeListSubmitEl,"disabled");var c=n("[data-current-list-option]");0<c.length&&l.set(c[0],"selected","selected");b.once(this.$el.changeListSubmitEl,
"click",m.hitch(this,function(a){a.stopPropagation();a.preventDefault();a=n("#list-name",this.$el.listSelectContainer)[0];var b=m.trim(a.value);"0"===this.$el.listSelect.value&&!b?p.addError(a,"Please enter a name for your new list."):(p.removeErrors(a),this.changeList())}))}this.$el.siteTrackingSwitch&&b(this.$el.siteTrackingSwitch,"change",m.hitch(this,function(){a.post(s.toUrl("account/connected-sites/set-site-tracking",{id:this.siteId,enabled:this.$el.siteTrackingSwitch.checked?"enabled":"disabled"}),
{handleAs:"json"}).then(m.hitch(this,function(a){a.siteTrackingEnabled?p.toast("Site tracking enabled!","success"):p.toast("Site tracking disabled!","success")}))}));this.store?this.storeHealthCheck():this.verifyCodeInjection()},_copyCode:function(a){a.preventDefault();a.stopPropagation();q.copy(this.$el.trackingCode.innerText);p.toast("Tracking code copied!")},controlChangeList:function(){var a=this.$el.openChangeList,c=this.$el.cancelChangeList;a&&c&&(b(c,"click",m.hitch(this,function(a){a.preventDefault();
this._hideChangeList()})),b(a,"click",m.hitch(this,function(a){a.preventDefault();this._showChangeList()})))},changeList:function(){var b=this,d=c.toObject(this.$el.changeListInput),f=l.get(this.$el.changeListInput,"action");a.post(f,{data:d,handleAs:"json"}).then(function(a){a&&"success"===a.status&&(g.set(b.$el.currentListName,a.newListName),a=b.$el.listCheckMark,e.remove(a,"dim2"),e.add(a,"v-textColorGreen"),(a=n("[data-current-list-option]")[0])&&g.set(a,l.get(a,"data-current-list-option")),b._initializePusher(),
b._hideChangeList(),e.remove(b.$el.cancelChangeList,"hide"),b.setState({status:"syncing"}))})},setState:function(a){var b={testing:this.$group["status-testing"],syncing:this.$group["status-syncing"],connected:this.$group["status-connected"],disconnected:this.$group["status-disconnected"],error:this.$group["status-error"],error_no_list:this.$group["status-error"]};if(this.$el.lastPingedString){var c=this.$el.lastPingedString;"connected"===a.status?null!==a.store_sync_finished_at&&g.set(c,"updated "+
a.store_sync_finished_at):"syncing"===a.status?g.set(c,"is currently syncing"):g.set(c,"")}Object.keys(b).forEach(function(c){d.forEach(b[c],function(b){c===a.status?e.remove(b,"hide"):e.add(b,"hide")})})},_showChangeList:function(){var a=this.$el.changeListContainer,b=this.$el.syncedList;e.toggle(this.$el.openChangeList,"hide");e.toggle(b,"hide");t(a,"transition.slideUpIn",{duration:100})},_hideChangeList:function(){var a=this.$el.openChangeList,b=this.$el.syncedList;t(this.$el.changeListContainer,
"transition.slideDownOut",{duration:100});e.toggle(a,"hide");e.toggle(b,"hide")},verifyCodeInjection:function(){this.setState({status:"testing"});a(s.toUrl("account/connected-sites/verify-code-injection?id\x3d"+this.siteId),{handleAs:"json"}).then(m.hitch(this,function(a){a.verified?(this.setState({status:"connected"}),p.toast("Tracking code was found on your site!","success")):this.setState({status:"error"})}))},storeHealthCheck:function(){this.setState({status:"testing"});a(s.toUrl("account/connected-sites/store-health-check?id\x3d"+
this.siteId),{handleAs:"json"}).then(m.hitch(this,function(a){a.success||this.setState({status:"error"})}))},_initializePusher:function(){var a=this;if(a.channel)return!1;r.load().then(function(b){a.channel=b.subscribe(a.shopifyChannel);a.channel.bind("update",function(b){a.setState(b)},this)})}})})},"mojo/views/account/connected-sites/wizard/connection-settings":function(){define("dojo/_base/declare mojo/views/_base dojo/dom-attr dojo/query dojo/on dojo/html dojo/_base/lang mojo/app/account/connected-sites".split(" "),
function(h,k,d,g,b,c,f,l){return h([k],{onReady:function(){l.enableNext()}})})},"mojo/views/account/connected-sites/wizard/connection-success":function(){define("dojo/_base/declare mojo/views/_base dojo/dom-attr dojo/query dojo/on dojo/html dojo/_base/lang mojo/app/account/connected-sites".split(" "),function(h,k,d,g,b,c,f,l){return h([k],{onReady:function(){c.set(l.nextButton,"All Done");l.enableNext();b(l.nextButton,"click",function(b){b.stopPropagation();b.preventDefault();l.completeWizard()})}})})},
"mojo/views/account/connected-sites/wizard/index":function(){define("dojo/_base/declare mojo/views/_base dojo/dom-attr dojo/query dojo/on mojo/app/account/connected-sites".split(" "),function(h,k,d,g,b,c){return h([k],{onReady:function(){this.$group.platformOptions&&b(this.$group.platformOptions,"click",function(){c.enableNext()})}})})},"mojo/views/account/connected-sites/wizard/manualcode":function(){define("dojo/_base/declare mojo/views/_base dojo/dom-style dojo/dom-class dojo/dom-attr dojo/dom dojo/query dojo/on mojo/widgets/KbSearch dojo/_base/lang mojo/utils dojo/request/xhr mojo/Pusher mojo/Clipboard mojo/url velocity/velocity dojo/html mojo/app/account/connected-sites".split(" "),
function(h,k,d,g,b,c,f,l,e,a,m,n,p,t,q,r,s,v){return h([k],{siteId:null,onReady:function(){var b=this;this.$el.copyCode&&l(this.$el.copyCode,"click",a.hitch(this,function(a){this._copyCode(a)}));s.set(v.nextButton,"Connect");v.enableNext();l(v.nextButton,"click",function(a){a.stopPropagation();a.preventDefault();b.verifyCodeInjection()})},_copyCode:function(a){a.preventDefault();a.stopPropagation();t.copy(this.$el.trackingCode.innerText);m.toast("Tracking code copied!")},verifyCodeInjection:function(){var a=
this;d.set(this.$el.feedbackBlock,"display","none");d.set(this.$el.scriptContainer,"display","none");r(this.$el.pingingContainer,"transition.slideUpIn",{duration:500});n(q.toUrl("account/connected-sites/wizard/verify-code-injection?id\x3d"+this.siteId),{handleAs:"json"}).then(function(b){b.verified?c.byId("wizard-form").submit():(d.set(a.$el.pingingContainer,"display","none"),d.set(a.$el.feedbackBlock,"display","block"),r(a.$el.scriptContainer,"transition.slideUpIn",{duration:500}))})}})})},"mojo/views/account/connected-sites/wizard/select-list":function(){define("dojo/_base/declare mojo/views/_base dojo/dom-attr dojo/query dojo/on dojo/html mojo/utils dojo/_base/lang velocity/velocity mojo/app/account/connected-sites".split(" "),
function(h,k,d,g,b,c,f,l,e,a){return h([k],{onReady:function(){var c=this;this.$el.listSelect&&b(this.$el.listSelect,"change",function(){"0"===c.$el.listSelect.value?e(c.$el.listSelectContainer,"transition.slideUpIn",{duration:100}):e(c.$el.listSelectContainer,"transition.slideDownOut",{duration:100});c.$el.listSelect.value?a.enableNext():a.disableNext()});b(a.nextButton,"click",function(a){var b=g("#list-name",c.$el.listSelectContainer)[0];"0"===c.$el.listSelect.value&&!b.value&&(a.stopPropagation(),
a.preventDefault(),f.addError(b,"Please enter a name for your new list."))})}})})},"mojo/views/account/connected-sites/wizard/site-url":function(){define("dojo/_base/declare mojo/views/_base dojo/dom-attr dojo/query dojo/on dojo/_base/lang dojo/_base/array mojo/utils dojo/keys dojo/debounce dojo/_base/event mojo/app/account/connected-sites".split(" "),function(h,k,d,g,b,c,f,l,e,a,m,n){return h([k],{errMsg:"",shopUrl:"",urlInput:"",urlIndex:"",subDomain:"",onReady:function(){var a=this;b(this.$el.siteUrl,
"focus",function(){n.enableNext();g(".invalid-error")[0]&&a.hideErrMessage()});b(n.nextButton,"click",function(b){a._validateUrl()||(b.stopPropagation(),b.preventDefault())})},_validateUrl:function(){this.urlInput=this.$el.siteUrl;switch(this.$el.platform.value){case "shopify":this.shopUrl="myshopify";this.urlIndex=f.indexOf(this.urlInput.value.split("."),this.shopUrl);this.subDomain=this.urlInput.value.split(".",1);if(""===this.subDomain[0]||0>this.urlIndex){this.errMsg="Please enter a URL with the format store-name.myshopify.com";
this.showErrMessage();return}break;case "bigcommerce":this.shopUrl="mybigcommerce";this.urlIndex=f.indexOf(this.urlInput.value.split("."),this.shopUrl);this.subDomain=this.urlInput.value.split(".",1);if(!this.urlInput||""===this.subDomain[0]||0>this.urlIndex){this.errMsg="Please enter a URL with the format store-name.mybigcommerce.com";this.showErrMessage();return}break;default:if(!/^(https?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \.-]*)*\/?$/.test(this.urlInput.value)){this.errMsg="Please enter a valid URL";
this.showErrMessage();return}}return!0},showErrMessage:function(){l.addError(this.urlInput,this.errMsg);n.disableNext()},hideErrMessage:function(){l.removeErrors(this.urlInput);n.enableNext()}})})},"mojo/views/account/connected-sites/wizard/sync":function(){define("dojo/_base/declare mojo/views/_base dojo/dom dojo/query dojo/_base/lang dojo/request/xhr mojo/Pusher mojo/url mojo/app/wizard".split(" "),function(h,k,d,g,b,c,f,l,e){return h([k],{shopifyChannel:null,siteId:null,onReady:function(){this._initializePusher();
window.setTimeout(b.hitch(this,function(){c(l.toUrl("account/connected-sites/wizard/store-sync-status?id\x3d"+this.siteId),{handleAs:"json"}).then(b.hitch(this,function(a){a.complete&&this.goToNextStep()}))}),3E3)},goToNextStep:function(){var a=g(".goToNextStepContainer a")[0];e.goToNextStep(a)},_initializePusher:function(){var a=this;f.load().then(function(b){a.channel=b.subscribe(a.shopifyChannel);a.channel.bind("update",this.goToNextStep,this)})}})})},"mojo/views/account/clients/add-user":function(){define("dojo/_base/declare mojo/views/_base dojo/_base/lang dojo/dom-attr dojo/store/Memory dijit/form/FilteringSelect dijit/form/RadioButton dojo/text!./templates/FilteringSelectUser.html".split(" "),
function(h,k,d,g,b,c,f,l){return h([k],{onReady:function(){var e=this,a=new c({autoComplete:!1,queryExpr:"*${0}*",name:"login_id",searchAttr:"fullname",labelAttr:"label",labelType:"html",placeHolder:"Search by name",invalidMessage:"No user found.",required:!0,onChange:function(){""===this.value?g.set(e.$el.submitBtn,"disabled",!0):g.remove(e.$el.submitBtn,"disabled")}},e.$el.userSearch);a.startup();var f=this.userList.map(function(a){return{user:a,id:a.login_id,login_id:a.login_id,fullname:a.fname+
" "+a.lname,label:d.replace(l,a)}});a.store=new b({data:f})}})})},"mojo/views/account/clients/edit-user":function(){define("dojo/_base/declare mojo/views/_base dojo/_base/lang dojo/dom-attr dojo/on mojo/app/account/clients/revokeAccess".split(" "),function(h,k,d,g,b,c){return h([k],{onReady:function(){b(this.$el.revokeAccessBtn,"click",d.hitch(this,function(b){var d=g.get(b.target,"data-client-id");b=g.get(b.target,"data-login-id");null===b?c.showRemoveAccountConfirmation(d):c.showRemoveUserConfirmation(d,
b)}))},submitRemoveUser:function(){c.doRemoveUser()},submitRemoveAccount:function(){c.doRemoveAccount()}})})},"mojo/views/account/clients/index":function(){define("dojo/_base/declare mojo/views/_base dojo/_base/lang dojo/dom-attr dojo/on mojo/url dijit/registry mojo/app/account/clients/revokeAccess".split(" "),function(h,k,d,g,b,c,f,l){return h([k],{requestKey:null,onReady:function(){this.$group.removeAccountBtn&&b(this.$group.removeAccountBtn,"click",d.hitch(this,function(b){l.showRemoveAccountConfirmation(g.get(b.target,
"data-client-id"))}))},submitRemoveAccount:function(){l.doRemoveAccount()},showCancelRequestConfirmation:function(b){this.requestKey=b;f.byId("cancel-request-dialog").show()},doCancelRequest:function(){window.location=c.toUrl("/account/clients/cancel-request?key\x3d{$request-\x3erequest_key}",{key:this.requestKey})}})})},"mojo/views/account/clients/manage":function(){define("dojo/_base/declare mojo/views/_base dojo/_base/lang dojo/dom-attr dojo/on mojo/app/account/clients/revokeAccess".split(" "),
function(h,k,d,g,b,c){return h([k],{onReady:function(){b(this.$group.revokeAccessBtn,"click",d.hitch(this,function(b){var d=g.get(b.target,"data-client-id");b=g.get(b.target,"data-login-id");null===b?c.showRemoveAccountConfirmation(d):c.showRemoveUserConfirmation(d,b)}))},submitRemoveUser:function(){c.doRemoveUser()},submitRemoveAccount:function(){c.doRemoveAccount()}})})},"mojo/views/account/buy/index":function(){define(["dojo/_base/declare","mojo/views/_base","dojo/query","dojo/on","mojo/app/account/billing"],
function(h,k,d,g,b){return h([k],{onReady:function(){this.attachEventHandlers()},attachEventHandlers:function(){g(d("[data-action\x3d'edit-payment-info']"),"click",function(c){b.editBillingInfo().then(function(){location.reload()})})}})})},"mojo/analytics/parts/Coachmark":function(){define("dojo/_base/declare dojo/_base/lang dojo/query dojo/dom-class dojo/on mojo/widgets/Coachmark ./_Part".split(" "),function(h,k,d,g,b,c,f){return h([c,f],{onShow:function(){}})})},"mojo/analytics/parts/ListMemberPagingTotal":function(){define("dojo/_base/declare ./_Part dijit/_Templated dojo/_base/lang dojo/number dojox/mvc/sync dojo/text!./templates/listMemberPagingTotal.html".split(" "),
function(h,k,d,g,b,c,f){return h([k,d],{templateString:f,init:function(){c(this.target,"total",this,"total");c(this.target,"type",this,"type");this._updateTotal();this.watch("total",g.hitch(this,"_updateTotal"))},_updateTotal:function(){this.totalCount.innerHTML=b.format(this.total,{pattern:"#,###"})}})})},"mojo/analytics/parts/NoDataPane":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/dom-style","./_Part"],function(h,k,d,g){return h([g],{canDisplay:function(){return this.target.hasFilters?
0==this.target.total&&!this.target.hasFilters():0==this.target.total}})})},"mojo/analytics/parts/Search":function(){define("dojo/_base/declare ./_Part dijit/_Templated dojo/text!./templates/search.html dojo/_base/array dojo/on dojo/_base/lang dojox/mvc/sync dojo/dom-attr dojo/keys".split(" "),function(h,k,d,g,b,c,f,l,e,a){return h([k,d],{templateString:g,label:"",placeholder:"Search",syncAttr:"search",alwaysVisible:!0,init:function(){e.set(this.search,"placeholder",this.placeholder);var b=this.target.getFilter(this.syncAttr)||
"";e.set(this.search,"value",b);this._watches.push(this.target.watchFilter(this.syncAttr,f.hitch(this,function(a,b,c){e.set(this.search,"value",c)})));c(this.submit,"click",f.hitch(this,"_setValue"));var d=this;c(this.search,"keyup",function(b){b=b.charCode||b.keyCode;(b===a.ENTER||""===this.value)&&d._setValue();b===a.ESCAPE&&(this.value="",d._setValue())})},_setValue:function(){this.target.setFilter(this.syncAttr,e.get(this.search,"value"))},canDisplay:function(){return this.alwaysVisible||this.inherited(arguments)},
onChange:function(a){}})})},"mojo/analytics/parts/SelectAll":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/on","./_Part","dojox/form/TriStateCheckBox"],function(h,k,d,g,b){return h([g],{init:function(){this.checkbox=new b({checked:!1});this.checkbox.placeAt(this.domNode);d(this.checkbox,"click",k.hitch(this,function(b){"mixed"==this.checkbox.get("value")&&this.checkbox.set("value","on");this.toggleCheck()}));this.target.selected.watch(k.hitch(this,function(){this.target.isAllSelected()?
this.checkbox.set("value","on"):this.target.hasSelection()?this.checkbox.set("value","mixed"):this.checkbox.set("value",!1)}))},toggleCheck:function(){"on"==this.checkbox.get("value")?this.target.toggleAll(!0):!1===this.checkbox.get("value")&&this.target.toggleAll(!1)}})})},"dojox/form/TriStateCheckBox":function(){define("dojo/_base/kernel dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/_base/event dojo/query dojo/dom-attr dojo/text!./resources/TriStateCheckBox.html dijit/form/Button dijit/form/_ToggleButtonMixin dojo/NodeList-dom".split(" "),
function(h,k,d,g,b,c,f,l,e,a){return k("dojox.form.TriStateCheckBox",[e,a],{templateString:l,baseClass:"dojoxTriStateCheckBox",type:"checkbox",states:"",_stateLabels:null,stateValue:null,_currentState:0,_stateType:"False",readOnly:!1,checked:"",_aria_attr:"aria-checked",constructor:function(){this.states=[!1,"mixed",!0];this.checked=!1;this._stateLabels={False:"\x26#9633;",True:"\x26#8730;",Mixed:"\x26#9632;"};this.stateValues={False:!1,True:"on",Mixed:"mixed"}},_fillContent:function(a){},postCreate:function(){f.set(this.stateLabelNode,
"innerHTML",this._stateLabels[this._stateType]);this.inherited(arguments)},startup:function(){this.set("checked",this.params.checked||this.states[this._currentState]);f.set(this.stateLabelNode,"innerHTML",this._stateLabels[this._stateType]);this.inherited(arguments)},_setIconClassAttr:null,_setCheckedAttr:function(a,b){var c=d.indexOf(this.states,a);0<=c&&(this._currentState=c,this._stateType=this._getStateType(a),f.set(this.focusNode,"value",this.stateValues[this._stateType]),f.set(this.stateLabelNode,
"innerHTML",this._stateLabels[this._stateType]),this.inherited(arguments))},setChecked:function(a){h.deprecated("setChecked("+a+") is deprecated. Use set('checked',"+a+") instead.","","2.0");this.set("checked",a)},_setStatesAttr:function(a){if(g.isArray(a))this._set("states",a);else if(g.isString(a)){var b={"true":!0,"false":!1,mixed:"mixed"};a=a.split(/\s*,\s*/);for(var c=0;c<a.length;c++)a[c]=void 0!==b[a[c]]?b[a[c]]:!1;this._set("states",a)}},_setReadOnlyAttr:function(a){this._set("readOnly",a);
f.set(this.focusNode,"readOnly",a)},_setValueAttr:function(a,b){"string"==typeof a&&0>d.indexOf(this.states,a)&&(""==a&&(a="on"),this.stateValues.True=a,a=!0);this._created&&(this._currentState=d.indexOf(this.states,a),this.set("checked",a,b),f.set(this.focusNode,"value",this.stateValues[this._stateType]))},_setValuesAttr:function(a){this.stateValues.True=a[0]?a[0]:this.stateValues.True;this.stateValues.Mixed=a[1]?a[1]:this.stateValues.Mixed},_getValueAttr:function(){return this.stateValues[this._stateType]},
reset:function(){this._hasBeenBlurred=!1;this.set("states",this.params.states||[!1,"mixed",!0]);this.stateValues=this.params.stateValues||{False:!1,True:"on",Mixed:"mixed"};this.set("values",this.params.values||[]);this.set("checked",this.params.checked||this.states[0])},_onFocus:function(){this.id&&c("label[for\x3d'"+this.id+"']").addClass("dijitFocusedLabel");this.inherited(arguments)},_onBlur:function(){this.id&&c("label[for\x3d'"+this.id+"']").removeClass("dijitFocusedLabel");this.mouseFocus=
!1;this.inherited(arguments)},_onClick:function(a){if(this.readOnly||this.disabled)return b.stop(a),!1;this.click();return this.onClick(a)},click:function(){this._currentState>=this.states.length-1?this._currentState=0:-1==this._currentState?this.fixState():this._currentState++;var a=this._currentState;this.set("checked",this.states[this._currentState]);this._currentState=a;f.set(this.stateLabelNode,"innerHTML",this._stateLabels[this._stateType])},fixState:function(){this._currentState=this.states.length-
1},_getStateType:function(a){return a?"mixed"==a?"Mixed":"True":"False"},_onMouseDown:function(){this.mouseFocus=!0}})})},"mojo/analytics/parts/SelectCheckBox":function(){define("dojo/_base/declare dojo/_base/lang dojo/aspect dojo/query dijit/registry dijit/form/CheckBox".split(" "),function(h,k,d,g,b,c){var f=null;return h([c],{baseClass:"dijitCheckBox selectCheckBox",postCreate:function(){this.inherited(arguments);d.after(this,"onClick",k.hitch(this,function(c){if(c.shiftKey&&null!=f){c=g(".selectCheckBox");
var d=this.domNode,a=null,h=null;if(c.some(function(b,c){if(b==d||f==b)null==a?a=c:h=c;return null!=a&&null!=h}))for(var k=a;k<=h;k++){var p=b.byNode(c[k]);p.disabled||p.set("value",this.get("value"))}}f=this.domNode}),!0)}})})},"mojo/analytics/parts/SelectPane":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/dom-style","velocity/velocity","./_Part"],function(h,k,d,g,b){return h([b],{init:function(){this.target.selected.watch(k.hitch(this,"_toggleDisplay"))},_toggleDisplay:function(){"none"===
this.domNode.style.display?this.canDisplay()&&(g(this.domNode,"stop"),g(this.domNode,{opacity:[1,[0.7,0,0.175,1],0]},{duration:225,display:"inline"})):this.canDisplay()||(g(this.domNode,"stop"),g(this.domNode,{opacity:[0,[0.7,0,0.175,1],1]},{duration:225,display:"none"}))},canDisplay:function(){return this.hideOnSelect?!this.inherited(arguments)||!this.target.hasSelection():this.inherited(arguments)&&this.target.hasSelection()}})})},"mojo/analytics/parts/SortDirection":function(){define("dojo/_base/declare ./_Part dojo/_base/lang dojo/dom-style dojox/mvc/sync dijit/form/Button".split(" "),
function(h,k,d,g,b,c){return h([k],{init:function(){b(this.target,"asc",this,"asc");this.button=(new c({"class":this.buttonClass?this.buttonClass:"button",label:this.asc?'\x3cspan class\x3d"!margin-right--lv0 freddicon arrow-down" title\x3d"Change sort direction"\x3e\x3c/span\x3e':'\x3cspan class\x3d"!margin-right--lv0 freddicon arrow-up" title\x3d"Change sort direction"\x3e\x3c/span\x3e'})).placeAt(this.domNode);this.button.startup();this.connect(this.button,"onClick",function(){this.set("asc",!this.get("asc"))});
this.watch("asc",d.hitch(this,function(){this.button.set("label",this.asc?'\x3cspan class\x3d"!margin-right--lv0 freddicon arrow-down" title\x3d"Change sort direction"\x3e\x3c/span\x3e':'\x3cspan class\x3d"!margin-right--lv0 freddicon arrow-up" title\x3d"Change sort direction"\x3e\x3c/span\x3e')}));this.target.watch("sort",d.hitch(this,"_toggleDisplay"));this._toggleDisplay()},canDisplay:function(){return this.inherited(arguments)&&this.target.sort},_toggleDisplay:function(){g.set(this.domNode,"display",
this.canDisplay()?"":"none")}})})},"url:dijit/layout/templates/TabContainer.html":'\x3cdiv class\x3d"dijitTabContainer"\x3e\n\t\x3cdiv class\x3d"dijitTabListWrapper" data-dojo-attach-point\x3d"tablistNode"\x3e\x3c/div\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"tablistSpacer" class\x3d"dijitTabSpacer ${baseClass}-spacer"\x3e\x3c/div\x3e\n\t\x3cdiv class\x3d"dijitTabPaneWrapper ${baseClass}-container" data-dojo-attach-point\x3d"containerNode"\x3e\x3c/div\x3e\n\x3c/div\x3e\n',"url:dijit/form/templates/Button.html":'\x3cspan class\x3d"dijit dijitReset dijitInline" role\x3d"presentation"\n\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitButtonNode"\n\t\tdata-dojo-attach-event\x3d"ondijitclick:__onClick" role\x3d"presentation"\n\t\t\x3e\x3cspan class\x3d"dijitReset dijitStretch dijitButtonContents"\n\t\t\tdata-dojo-attach-point\x3d"titleNode,focusNode"\n\t\t\trole\x3d"button" aria-labelledby\x3d"${id}_label"\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitToggleButtonIconChar"\x3e\x26#x25CF;\x3c/span\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitButtonText"\n\t\t\t\tid\x3d"${id}_label"\n\t\t\t\tdata-dojo-attach-point\x3d"containerNode"\n\t\t\t\x3e\x3c/span\n\t\t\x3e\x3c/span\n\t\x3e\x3c/span\n\t\x3e\x3cinput ${!nameAttrSetting} type\x3d"${type}" value\x3d"${value}" class\x3d"dijitOffScreen"\n\t\tdata-dojo-attach-event\x3d"onclick:_onClick"\n\t\ttabIndex\x3d"-1" role\x3d"presentation" aria-hidden\x3d"true" data-dojo-attach-point\x3d"valueNode"\n/\x3e\x3c/span\x3e\n',
"url:dijit/templates/Menu.html":'\x3ctable class\x3d"dijit dijitMenu dijitMenuPassive dijitReset dijitMenuTable" role\x3d"menu" tabIndex\x3d"${tabIndex}"\n\t   cellspacing\x3d"0"\x3e\n\t\x3ctbody class\x3d"dijitReset" data-dojo-attach-point\x3d"containerNode"\x3e\x3c/tbody\x3e\n\x3c/table\x3e\n',"url:dijit/templates/MenuItem.html":'\x3ctr class\x3d"dijitReset" data-dojo-attach-point\x3d"focusNode" role\x3d"menuitem" tabIndex\x3d"-1"\x3e\n\t\x3ctd class\x3d"dijitReset dijitMenuItemIconCell" role\x3d"presentation"\x3e\n\t\t\x3cspan role\x3d"presentation" class\x3d"dijitInline dijitIcon dijitMenuItemIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\x3e\n\t\x3c/td\x3e\n\t\x3ctd class\x3d"dijitReset dijitMenuItemLabel" colspan\x3d"2" data-dojo-attach-point\x3d"containerNode,textDirNode"\n\t\trole\x3d"presentation"\x3e\x3c/td\x3e\n\t\x3ctd class\x3d"dijitReset dijitMenuItemAccelKey" style\x3d"display: none" data-dojo-attach-point\x3d"accelKeyNode"\x3e\x3c/td\x3e\n\t\x3ctd class\x3d"dijitReset dijitMenuArrowCell" role\x3d"presentation"\x3e\n\t\t\x3cspan data-dojo-attach-point\x3d"arrowWrapper" style\x3d"visibility: hidden"\x3e\n\t\t\t\x3cspan class\x3d"dijitInline dijitIcon dijitMenuExpand"\x3e\x3c/span\x3e\n\t\t\t\x3cspan class\x3d"dijitMenuExpandA11y"\x3e+\x3c/span\x3e\n\t\t\x3c/span\x3e\n\t\x3c/td\x3e\n\x3c/tr\x3e\n',
"url:dijit/layout/templates/_TabButton.html":'\x3cdiv role\x3d"presentation" data-dojo-attach-point\x3d"titleNode,innerDiv,tabContent" class\x3d"dijitTabInner dijitTabContent"\x3e\n\t\x3cspan role\x3d"presentation" class\x3d"dijitInline dijitIcon dijitTabButtonIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\x3e\n\t\x3cspan data-dojo-attach-point\x3d\'containerNode,focusNode\' class\x3d\'tabLabel sentence-case\'\x3e\x3c/span\x3e\n\t\x3cspan class\x3d"dijitInline dijitTabCloseButton dijitTabCloseIcon" data-dojo-attach-point\x3d\'closeNode\'\n\t\t  role\x3d"presentation"\x3e\n\t\t\x3cspan data-dojo-attach-point\x3d\'closeText\' class\x3d\'dijitTabCloseText\'\x3e[x]\x3c/span\n\t\t\t\t\x3e\x3c/span\x3e\n\x3c/div\x3e\n',
"url:dijit/layout/templates/ScrollingTabController.html":'\x3cdiv class\x3d"dijitTabListContainer-${tabPosition}" style\x3d"visibility:hidden"\x3e\n\t\x3cdiv data-dojo-type\x3d"dijit.layout._ScrollingTabControllerMenuButton"\n\t\t class\x3d"tabStripButton-${tabPosition} !margin--lv0"\n\t\t id\x3d"${id}_menuBtn"\n\t\t data-dojo-props\x3d"containerId: \'${containerId}\', iconClass: \'dijitTabStripMenuIcon block alignc height-inherit\',\n\t\t\t\t\tdropDownPosition: [\'below-alt\', \'above-alt\']"\n\t\t data-dojo-attach-point\x3d"_menuBtn" showLabel\x3d"false" title\x3d""\x3e\x26#9660;\x3c/div\x3e\n\t\x3cdiv data-dojo-type\x3d"dijit.layout._ScrollingTabControllerButton"\n\t\t class\x3d"tabStripButton-${tabPosition} hide"\n\t\t id\x3d"${id}_leftBtn"\n\t\t data-dojo-props\x3d"iconClass:\'dijitTabStripSlideLeftIcon\', showLabel:false, title:\'\'"\n\t\t data-dojo-attach-point\x3d"_leftBtn" data-dojo-attach-event\x3d"onClick: doSlideLeft"\x3e\x26#9664;\x3c/div\x3e\n\t\x3cdiv data-dojo-type\x3d"dijit.layout._ScrollingTabControllerButton"\n\t\t class\x3d"tabStripButton-${tabPosition} hide"\n\t\t id\x3d"${id}_rightBtn"\n\t\t data-dojo-props\x3d"iconClass:\'dijitTabStripSlideRightIcon\', showLabel:false, title:\'\'"\n\t\t data-dojo-attach-point\x3d"_rightBtn" data-dojo-attach-event\x3d"onClick: doSlideRight"\x3e\x26#9654;\x3c/div\x3e\n\t\x3cdiv class\x3d\'dijitTabListWrapper\' data-dojo-attach-point\x3d\'tablistWrapper\'\x3e\n\t\t\x3cdiv role\x3d\'tablist\' data-dojo-attach-event\x3d\'onkeydown:onkeydown\'\n\t\t\t data-dojo-attach-point\x3d\'containerNode\' class\x3d\'nowrapTabStrip\'\x3e\x3c/div\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e\n',
"url:dijit/layout/templates/_ScrollingTabControllerButton.html":'\x3cdiv data-dojo-attach-event\x3d"ondijitclick:_onClick" class\x3d"dijitTabInnerDiv dijitTabContent dijitButtonContents"  data-dojo-attach-point\x3d"focusNode" role\x3d"button"\x3e\n\t\x3cspan role\x3d"presentation" class\x3d"dijitInline dijitTabStripIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\x3e\n\t\x3cspan data-dojo-attach-point\x3d"containerNode,titleNode" class\x3d"dijitButtonText"\x3e\x3c/span\x3e\n\x3c/div\x3e',"url:dijit/templates/Dialog.html":'\x3cdiv class\x3d"dijitDialog" role\x3d"dialog" aria-labelledby\x3d"${id}_title"\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"titleBar" class\x3d"dijitDialogTitleBar"\x3e\n\t\t\x3cspan data-dojo-attach-point\x3d"titleNode" class\x3d"dijitDialogTitle" id\x3d"${id}_title"\n\t\t\t\trole\x3d"heading" level\x3d"1"\x3e\x3c/span\x3e\n\t\t\x3cspan data-dojo-attach-point\x3d"closeButtonNode" class\x3d"dijitDialogCloseIcon" data-dojo-attach-event\x3d"ondijitclick: onCancel" title\x3d"${buttonCancel}" role\x3d"button" tabindex\x3d"-1"\x3e\n\t\t\t\x3cspan data-dojo-attach-point\x3d"closeText" class\x3d"closeText" title\x3d"${buttonCancel}"\x3ex\x3c/span\x3e\n\t\t\x3c/span\x3e\n\t\x3c/div\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"containerNode" class\x3d"dijitDialogPaneContent"\x3e\x3c/div\x3e\n\t${!actionBarTemplate}\n\x3c/div\x3e\n\n',
"url:dijit/templates/Tooltip.html":'\x3cdiv class\x3d"dijitTooltip dijitTooltipLeft" id\x3d"dojoTooltip" data-dojo-attach-event\x3d"mouseenter:onMouseEnter,mouseleave:onMouseLeave"\n\t\x3e\x3cdiv class\x3d"dijitTooltipConnector" data-dojo-attach-point\x3d"connectorNode"\x3e\x3c/div\n\t\x3e\x3cdiv class\x3d"dijitTooltipContainer dijitTooltipContents" data-dojo-attach-point\x3d"containerNode" role\x3d\'alert\'\x3e\x3c/div\n\x3e\x3c/div\x3e\n',"url:dijit/form/templates/CheckBox.html":'\x3cdiv class\x3d"dijit dijitReset dijitInline" role\x3d"presentation"\n\t\x3e\x3cinput\n\t \t${!nameAttrSetting} type\x3d"${type}" role\x3d"${type}" aria-checked\x3d"false" ${checkedAttrSetting}\n\t\tclass\x3d"dijitReset dijitCheckBoxInput"\n\t\tdata-dojo-attach-point\x3d"focusNode"\n\t \tdata-dojo-attach-event\x3d"ondijitclick:_onClick"\n/\x3e\x3c/div\x3e\n',
"url:dijit/templates/MenuSeparator.html":'\x3ctr class\x3d"dijitMenuSeparator" role\x3d"separator"\x3e\n\t\x3ctd class\x3d"dijitMenuSeparatorIconCell"\x3e\n\t\t\x3cdiv class\x3d"dijitMenuSeparatorTop"\x3e\x3c/div\x3e\n\t\t\x3cdiv class\x3d"dijitMenuSeparatorBottom"\x3e\x3c/div\x3e\n\t\x3c/td\x3e\n\t\x3ctd colspan\x3d"3" class\x3d"dijitMenuSeparatorLabelCell"\x3e\n\t\t\x3cdiv class\x3d"dijitMenuSeparatorTop dijitMenuSeparatorLabel"\x3e\x3c/div\x3e\n\t\t\x3cdiv class\x3d"dijitMenuSeparatorBottom"\x3e\x3c/div\x3e\n\t\x3c/td\x3e\n\x3c/tr\x3e\n',
"url:dijit/form/templates/Select.html":'\x3ctable class\x3d"dijit dijitReset dijitInline dijitLeft"\n\tdata-dojo-attach-point\x3d"_buttonNode,tableNode,focusNode,_popupStateNode" cellspacing\x3d\'0\' cellpadding\x3d\'0\'\n\trole\x3d"listbox" aria-haspopup\x3d"true"\n\t\x3e\x3ctbody role\x3d"presentation"\x3e\x3ctr role\x3d"presentation"\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitStretch dijitButtonContents" role\x3d"presentation"\n\t\t\t\x3e\x3cdiv class\x3d"dijitReset dijitInputField dijitButtonText"  data-dojo-attach-point\x3d"containerNode,textDirNode" role\x3d"presentation"\x3e\x3c/div\n\t\t\t\x3e\x3cdiv class\x3d"dijitReset dijitValidationContainer"\n\t\t\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField dijitValidationIcon dijitValidationInner" value\x3d"\x26#935; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\n\t\t\t/\x3e\x3c/div\n\t\t\t\x3e\x3cinput type\x3d"hidden" ${!nameAttrSetting} data-dojo-attach-point\x3d"valueNode" value\x3d"${value}" aria-hidden\x3d"true"\n\t\t/\x3e\x3c/td\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer"\n\t\t\tdata-dojo-attach-point\x3d"titleNode" role\x3d"presentation"\n\t\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField dijitArrowButtonInner" value\x3d"\x26#9660; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\n\t\t\t\t${_buttonInputDisabled}\n\t\t/\x3e\x3c/td\n\t\x3e\x3c/tr\x3e\x3c/tbody\n\x3e\x3c/table\x3e\n',
"url:dijit/form/templates/DropDownButton.html":'\x3cspan class\x3d"dijit dijitReset dijitInline"\n\t\x3e\x3cspan class\x3d\'dijitReset dijitInline dijitButtonNode\'\n\t\tdata-dojo-attach-event\x3d"ondijitclick:__onClick" data-dojo-attach-point\x3d"_buttonNode"\n\t\t\x3e\x3cspan class\x3d"dijitReset dijitStretch dijitButtonContents"\n\t\t\tdata-dojo-attach-point\x3d"focusNode,titleNode,_arrowWrapperNode,_popupStateNode"\n\t\t\trole\x3d"button" aria-haspopup\x3d"true" aria-labelledby\x3d"${id}_label"\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitIcon"\n\t\t\t\tdata-dojo-attach-point\x3d"iconNode"\n\t\t\t\x3e\x3c/span\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitButtonText"\n\t\t\t\tdata-dojo-attach-point\x3d"containerNode"\n\t\t\t\tid\x3d"${id}_label"\n\t\t\t\x3e\x3c/span\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitArrowButtonInner"\x3e\x3c/span\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitArrowButtonChar"\x3e\x26#9660;\x3c/span\n\t\t\x3e\x3c/span\n\t\x3e\x3c/span\n\t\x3e\x3cinput ${!nameAttrSetting} type\x3d"${type}" value\x3d"${value}" class\x3d"dijitOffScreen" tabIndex\x3d"-1"\n\t\tdata-dojo-attach-event\x3d"onclick:_onClick"\n\t\tdata-dojo-attach-point\x3d"valueNode" role\x3d"presentation" aria-hidden\x3d"true"\n/\x3e\x3c/span\x3e\n',
"url:dijit/form/templates/ComboButton.html":'\x3ctable class\x3d"dijit dijitReset dijitInline dijitLeft"\n\tcellspacing\x3d\'0\' cellpadding\x3d\'0\' role\x3d"presentation"\n\t\x3e\x3ctbody role\x3d"presentation"\x3e\x3ctr role\x3d"presentation"\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitStretch dijitButtonNode" data-dojo-attach-point\x3d"buttonNode" data-dojo-attach-event\x3d"ondijitclick:_onClick,onkeydown:_onButtonKeyDown"\n\t\t\x3e\x3cdiv id\x3d"${id}_button" class\x3d"dijitReset dijitButtonContents"\n\t\t\tdata-dojo-attach-point\x3d"titleNode"\n\t\t\trole\x3d"button" aria-labelledby\x3d"${id}_label"\n\t\t\t\x3e\x3cdiv class\x3d"dijitReset dijitInline dijitIcon" data-dojo-attach-point\x3d"iconNode" role\x3d"presentation"\x3e\x3c/div\n\t\t\t\x3e\x3cdiv class\x3d"dijitReset dijitInline dijitButtonText" id\x3d"${id}_label" data-dojo-attach-point\x3d"containerNode" role\x3d"presentation"\x3e\x3c/div\n\t\t\x3e\x3c/div\n\t\t\x3e\x3c/td\n\t\t\x3e\x3ctd id\x3d"${id}_arrow" class\x3d\'dijitReset dijitRight dijitButtonNode dijitArrowButton\'\n\t\t\tdata-dojo-attach-point\x3d"_popupStateNode,focusNode,_buttonNode"\n\t\t\tdata-dojo-attach-event\x3d"onkeydown:_onArrowKeyDown"\n\t\t\ttitle\x3d"${optionsTitle}"\n\t\t\trole\x3d"button" aria-haspopup\x3d"true"\n\t\t\t\x3e\x3cdiv class\x3d"dijitReset dijitArrowButtonInner" role\x3d"presentation"\x3e\x3c/div\n\t\t\t\x3e\x3cdiv class\x3d"dijitReset dijitArrowButtonChar" role\x3d"presentation"\x3e\x26#9660;\x3c/div\n\t\t\x3e\x3c/td\n\t\t\x3e\x3ctd style\x3d"display:none !important;"\n\t\t\t\x3e\x3cinput ${!nameAttrSetting} type\x3d"${type}" value\x3d"${value}" data-dojo-attach-point\x3d"valueNode"\n\t\t\t\tclass\x3d"dijitOffScreen"\n\t\t\t\trole\x3d"presentation" aria-hidden\x3d"true"\n\t\t\t\tdata-dojo-attach-event\x3d"onclick:_onClick"\n\t\t/\x3e\x3c/td\x3e\x3c/tr\x3e\x3c/tbody\n\x3e\x3c/table\x3e\n',
"url:dijit/form/templates/TextBox.html":'\x3cdiv class\x3d"dijit dijitReset dijitInline dijitLeft" id\x3d"widget_${id}" role\x3d"presentation"\n\t\x3e\x3cdiv class\x3d"dijitReset dijitInputField dijitInputContainer"\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputInner" data-dojo-attach-point\x3d\'textbox,focusNode\' autocomplete\x3d"off"\n\t\t\t${!nameAttrSetting} type\x3d\'${type}\'\n\t/\x3e\x3c/div\n\x3e\x3c/div\x3e\n',"url:dijit/form/templates/ValidationTextBox.html":'\x3cdiv class\x3d"dijit dijitReset dijitInline dijitLeft"\n\tid\x3d"widget_${id}" role\x3d"presentation"\n\t\x3e\x3cdiv class\x3d\'dijitReset dijitValidationContainer\'\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField dijitValidationIcon dijitValidationInner" value\x3d"\x26#935; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\n\t/\x3e\x3c/div\n\t\x3e\x3cdiv class\x3d"dijitReset dijitInputField dijitInputContainer"\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputInner" data-dojo-attach-point\x3d\'textbox,focusNode\' autocomplete\x3d"off"\n\t\t\t${!nameAttrSetting} type\x3d\'${type}\'\n\t/\x3e\x3c/div\n\x3e\x3c/div\x3e\n',
"url:dijit/form/templates/DropDownBox.html":'\x3cdiv class\x3d"dijit dijitReset dijitInline dijitLeft"\n\tid\x3d"widget_${id}"\n\trole\x3d"combobox"\n\taria-haspopup\x3d"true"\n\tdata-dojo-attach-point\x3d"_popupStateNode"\n\t\x3e\x3cdiv class\x3d\'dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer\'\n\t\tdata-dojo-attach-point\x3d"_buttonNode" role\x3d"presentation"\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField dijitArrowButtonInner" value\x3d"\x26#9660; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"button presentation" aria-hidden\x3d"true"\n\t\t\t${_buttonInputDisabled}\n\t/\x3e\x3c/div\n\t\x3e\x3cdiv class\x3d\'dijitReset dijitValidationContainer\'\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField dijitValidationIcon dijitValidationInner" value\x3d"\x26#935; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\n\t/\x3e\x3c/div\n\t\x3e\x3cdiv class\x3d"dijitReset dijitInputField dijitInputContainer"\n\t\t\x3e\x3cinput class\x3d\'dijitReset dijitInputInner\' ${!nameAttrSetting} type\x3d"text" autocomplete\x3d"off"\n\t\t\tdata-dojo-attach-point\x3d"textbox,focusNode" role\x3d"textbox"\n\t/\x3e\x3c/div\n\x3e\x3c/div\x3e\n',
"url:dijit/templates/TitlePane.html":'\x3cdiv\x3e\n\t\x3cdiv data-dojo-attach-event\x3d"ondijitclick:_onTitleClick, onkeydown:_onTitleKey"\n\t\t\tclass\x3d"dijitTitlePaneTitle" data-dojo-attach-point\x3d"titleBarNode" id\x3d"${id}_titleBarNode"\x3e\n\t\t\x3cdiv class\x3d"dijitTitlePaneTitleFocus" data-dojo-attach-point\x3d"focusNode"\x3e\n\t\t\t\x3cspan data-dojo-attach-point\x3d"arrowNode" class\x3d"dijitInline dijitArrowNode" role\x3d"presentation"\x3e\x3c/span\n\t\t\t\x3e\x3cspan data-dojo-attach-point\x3d"arrowNodeInner" class\x3d"dijitArrowNodeInner"\x3e\x3c/span\n\t\t\t\x3e\x3cspan data-dojo-attach-point\x3d"titleNode" class\x3d"dijitTitlePaneTextNode"\x3e\x3c/span\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d"dijitTitlePaneContentOuter" data-dojo-attach-point\x3d"hideNode" role\x3d"presentation"\x3e\n\t\t\x3cdiv class\x3d"dijitReset" data-dojo-attach-point\x3d"wipeNode" role\x3d"presentation"\x3e\n\t\t\t\x3cdiv class\x3d"dijitTitlePaneContentInner" data-dojo-attach-point\x3d"containerNode" role\x3d"region" id\x3d"${id}_pane" aria-labelledby\x3d"${id}_titleBarNode"\x3e\n\t\t\t\t\x3c!-- nested divs because wipeIn()/wipeOut() doesn\'t work right on node w/padding etc.  Put padding on inner div. --\x3e\n\t\t\t\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e\n',
"url:dijit/templates/Calendar.html":'\x3ctable cellspacing\x3d"0" cellpadding\x3d"0" class\x3d"dijitCalendarContainer" role\x3d"grid" aria-labelledby\x3d"${id}_mddb ${id}_year" data-dojo-attach-point\x3d"gridNode"\x3e\n\t\x3cthead\x3e\n\t\t\x3ctr class\x3d"dijitReset dijitCalendarMonthContainer" valign\x3d"top"\x3e\n\t\t\t\x3cth class\x3d\'dijitReset dijitCalendarArrow\' data-dojo-attach-point\x3d"decrementMonth" scope\x3d"col"\x3e\n\t\t\t\t\x3cspan class\x3d"dijitInline dijitCalendarIncrementControl dijitCalendarDecrease" role\x3d"presentation"\x3e\x3c/span\x3e\n\t\t\t\t\x3cspan data-dojo-attach-point\x3d"decreaseArrowNode" class\x3d"dijitA11ySideArrow"\x3e-\x3c/span\x3e\n\t\t\t\x3c/th\x3e\n\t\t\t\x3cth class\x3d\'dijitReset\' colspan\x3d"5" scope\x3d"col"\x3e\n\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"monthNode"\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\x3c/th\x3e\n\t\t\t\x3cth class\x3d\'dijitReset dijitCalendarArrow\' scope\x3d"col" data-dojo-attach-point\x3d"incrementMonth"\x3e\n\t\t\t\t\x3cspan class\x3d"dijitInline dijitCalendarIncrementControl dijitCalendarIncrease" role\x3d"presentation"\x3e\x3c/span\x3e\n\t\t\t\t\x3cspan data-dojo-attach-point\x3d"increaseArrowNode" class\x3d"dijitA11ySideArrow"\x3e+\x3c/span\x3e\n\t\t\t\x3c/th\x3e\n\t\t\x3c/tr\x3e\n\t\t\x3ctr role\x3d"row"\x3e\n\t\t\t${!dayCellsHtml}\n\t\t\x3c/tr\x3e\n\t\x3c/thead\x3e\n\t\x3ctbody data-dojo-attach-point\x3d"dateRowsNode" data-dojo-attach-event\x3d"ondijitclick: _onDayClick" class\x3d"dijitReset dijitCalendarBodyContainer"\x3e\n\t\t\t${!dateRowsHtml}\n\t\x3c/tbody\x3e\n\t\x3ctfoot class\x3d"dijitReset dijitCalendarYearContainer"\x3e\n\t\t\x3ctr\x3e\n\t\t\t\x3ctd class\x3d\'dijitReset\' valign\x3d"top" colspan\x3d"7" role\x3d"presentation"\x3e\n\t\t\t\t\x3cdiv class\x3d"dijitCalendarYearLabel"\x3e\n\t\t\t\t\t\x3cspan data-dojo-attach-point\x3d"previousYearLabelNode" class\x3d"dijitInline dijitCalendarPreviousYear" role\x3d"button"\x3e\x3c/span\x3e\n\t\t\t\t\t\x3cspan data-dojo-attach-point\x3d"currentYearLabelNode" class\x3d"dijitInline dijitCalendarSelectedYear" role\x3d"button" id\x3d"${id}_year"\x3e\x3c/span\x3e\n\t\t\t\t\t\x3cspan data-dojo-attach-point\x3d"nextYearLabelNode" class\x3d"dijitInline dijitCalendarNextYear" role\x3d"button"\x3e\x3c/span\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\x3c/td\x3e\n\t\t\x3c/tr\x3e\n\t\x3c/tfoot\x3e\n\x3c/table\x3e\n',
"url:dijit/templates/ProgressBar.html":'\x3cdiv class\x3d"dijitProgressBar dijitProgressBarEmpty" role\x3d"progressbar"\n\t\x3e\x3cdiv  data-dojo-attach-point\x3d"internalProgress" class\x3d"dijitProgressBarFull"\n\t\t\x3e\x3cdiv class\x3d"dijitProgressBarTile" role\x3d"presentation"\x3e\x3c/div\n\t\t\x3e\x3cspan style\x3d"visibility:hidden"\x3e\x26#160;\x3c/span\n\t\x3e\x3c/div\n\t\x3e\x3cdiv data-dojo-attach-point\x3d"labelNode" class\x3d"dijitProgressBarLabel" id\x3d"${id}_label"\x3e\x3c/div\n\t\x3e\x3cspan data-dojo-attach-point\x3d"indeterminateHighContrastImage"\n\t\t   class\x3d"dijitInline dijitProgressBarIndeterminateHighContrastImage"\x3e\x3c/span\n\x3e\x3c/div\x3e\n',
"url:dijit/templates/TooltipDialog.html":'\x3cdiv role\x3d"alertdialog" tabIndex\x3d"-1"\x3e\n\t\x3cdiv class\x3d"dijitTooltipContainer" role\x3d"presentation"\x3e\n\t\t\x3cdiv data-dojo-attach-point\x3d"contentsNode" class\x3d"dijitTooltipContents dijitTooltipFocusNode"\x3e\n\t\t\t\x3cdiv data-dojo-attach-point\x3d"containerNode"\x3e\x3c/div\x3e\n\t\t\t${!actionBarTemplate}\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d"dijitTooltipConnector" role\x3d"presentation" data-dojo-attach-point\x3d"connectorNode"\x3e\x3c/div\x3e\n\x3c/div\x3e\n',
"url:dijit/templates/CheckedMenuItem.html":'\x3ctr class\x3d"dijitReset" data-dojo-attach-point\x3d"focusNode" role\x3d"${role}" tabIndex\x3d"-1" aria-checked\x3d"${checked}"\x3e\n\t\x3ctd class\x3d"dijitReset dijitMenuItemIconCell" role\x3d"presentation"\x3e\n\t\t\x3cspan class\x3d"dijitInline dijitIcon dijitMenuItemIcon dijitCheckedMenuItemIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\x3e\n\t\t\x3cspan class\x3d"dijitMenuItemIconChar dijitCheckedMenuItemIconChar"\x3e${!checkedChar}\x3c/span\x3e\n\t\x3c/td\x3e\n\t\x3ctd class\x3d"dijitReset dijitMenuItemLabel" colspan\x3d"2" data-dojo-attach-point\x3d"containerNode,labelNode,textDirNode"\x3e\x3c/td\x3e\n\t\x3ctd class\x3d"dijitReset dijitMenuItemAccelKey" style\x3d"display: none" data-dojo-attach-point\x3d"accelKeyNode"\x3e\x3c/td\x3e\n\t\x3ctd class\x3d"dijitReset dijitMenuArrowCell" role\x3d"presentation"\x3e\x26#160;\x3c/td\x3e\n\x3c/tr\x3e\n',
"url:dojox/form/resources/Uploader.html":'\x3cspan class\x3d"dijit dijitReset dijitInline"\n\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitButtonNode"\n\t\tdata-dojo-attach-event\x3d"ondijitclick:_onClick"\n\t\t\x3e\x3cspan class\x3d"dijitReset dijitStretch dijitButtonContents"\n\t\t\tdata-dojo-attach-point\x3d"titleNode,focusNode"\n\t\t\trole\x3d"button" aria-labelledby\x3d"${id}_label"\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitToggleButtonIconChar"\x3e\x26#x25CF;\x3c/span\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitButtonText"\n\t\t\t\tid\x3d"${id}_label"\n\t\t\t\tdata-dojo-attach-point\x3d"containerNode"\n\t\t\t\x3e\x3c/span\n\t\t\x3e\x3c/span\n\t\x3e\x3c/span\n\t\x3e \n\t\x3cinput ${!nameAttrSetting} type\x3d"${type}" value\x3d"${value}" class\x3d"dijitOffScreen" tabIndex\x3d"-1" data-dojo-attach-point\x3d"valueNode" /\x3e\n\x3c/span\x3e\n',
"url:mojo/widgets/templates/ActionButtonPane.html":'\x3cdiv class\x3d"c-actionButtonsPane"\x3e\n    \x3cdiv class\x3d"flex" data-dojo-attach-point\x3d"actionpFlexPaneEl"\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',"url:mojo/widgets/templates/sliderPaneWrapper.html":'\x3cdiv class\x3d"c-topSliderPane fixed pos-tb0 pos-lr0 bg-white overflow-hidden" style\x3d"display:none;"\x3e\n    \x3cdiv class\x3d"c-wizardNavigation c-wizardNavigation--overlay full-width textcolor border-bottom bg-gray small-meta fwb zin-lv2 absolute pos-t0 selfclear"\x3e\n\n        \x3c!-- WIZARD LEFT --\x3e\n        \x3cdiv class\x3d"wizard-menu float-left selfclear"\x3e\n            \x3cdiv class\x3d"wizard-title textcolor padding--lv3 !padding-top-bottom--lv0 float-left"\x3e\n                \x3cdiv class\x3d"wizard-header"\x3e\n                    \x3cspan data-dojo-attach-point\x3d"badge" class\x3d"badge textcolor !margin-left--lv0"\x3e\x3c/span\x3e\n                    \x3cspan data-dojo-attach-point\x3d"title" class\x3d"textcolor"\x3e\x3c/span\x3e\n                    \x3cspan data-dojo-attach-point\x3d"emailTitle" class\x3d"emailTitle textcolor"\x3e\x3c/span\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3c!-- WIZARD RIGHT --\x3e\n        \x3cdiv class\x3d"float-right"\x3e\n           \x3cnav\x3e\n                \x3cul class\x3d"linear-list small-meta selfclear" data-dojo-attach-point\x3d"topBarActions"\x3e\n                    \x3cli class\x3d"hover-item noborder"\x3e\n                        \x3ca href\x3d"#" data-dojo-attach-point\x3d"closeLink" class\x3d"c-wizardLink--overlay nolink padding--lv3"\x3e\n                            \x3cspan class\x3d"freddicon cross"\x3e\x3c/span\x3e\n                        \x3c/a\x3e\n                    \x3c/li\x3e\n                \x3c/ul\x3e\n            \x3c/nav\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"content" class\x3d"c-topSliderPane_content absolute pos-lr0 pos-b0 full-width"\x3e{_content}\x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/templates/AddSegmentPane.html":'\x3cdiv class\x3d"padding--lv6 alignc"\x3e\n    \x3ch1\x3eAdd Segment views go here\x3c/h1\x3e\n\x3c/div\x3e',"url:mojo/widgets/templates/Autocomplete.html":'\x3cform class\x3d"c-autocomplete relative" autocomplete\x3d"off"\x3e\n    \x3cdiv \n        data-dojo-attach-point\x3d"SearchBox" \n        data-dojo-type\x3d"mojo/widgets/FilteredSearch" \n        data-dojo-props\x3d"placeholder: \'${placeholder}\', wait: \'${wait}\', searchTopic: \'${searchTopic}\'"\n        class\x3d"relative margin-bottom--lv0"\n    \x3e\n    \x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"node_autoCompleteResults" class\x3d"position--absolute left--0 zin-lv1 bg-white border-gray hide full-width"\x3e\n        \n    \x3c/div\x3e\n    \x3cscript type\x3d"text/template" data-dojo-attach-point\x3d"template_divider"\x3e\n        \x3cdiv class\x3d"c-autocomplete_divider small-meta padding--lv2 font-weight--bold"\x3eTry searching for\x3c/div\x3e\n    \x3c/script\x3e\n    \x3cscript type\x3d"text/template" data-dojo-attach-point\x3d"template_result"\x3e\n        \x3ca href\x3d"#0" class\x3d"block full-width padding--lv2 textcolor font-weight--bold normal-meta"\x3e\n            \x3cspan class\x3d"freddicon {icon} c-autocomplete_suggestion_icon padding-right--lv2"\x3e\x3c/span\x3e {label}\n        \x3c/a\x3e                  \n    \x3c/script\x3e\n\x3c/form\x3e\n',
"url:mojo/widgets/input/templates/tag.html":'\x3cli class\x3d"c-tagList_item view-mode relative inline-block border-radius--lv1 valign-middle small-meta fwb textcolor" data-dojo-attach-point\x3d"tagDom"\x3e\n    \x3cdiv class\x3d"c-tagList_inner float-left padding--lv1 padding-top-bottom--lv0"\x3e\n        \x3cdiv class\x3d"c-tagList_label" data-dojo-attach-point\x3d"tagLabel"\x3e\x3c/div\x3e\n\n        \x3cdiv class\x3d"c-tagList_input small-meta fwb textcolor absolute pos-t0 pos-l0"\x3e\n            \x3cinput type\x3d"text" data-dojo-attach-point\x3d"textInput" class\x3d"small-meta fwb"/\x3e\n        \x3c/div\x3e\n\n    \x3c/div\x3e\n    \x3cbutton class\x3d"c-tagList_remove float-left padding--lv1 padding-top-bottom--lv0 margin--lv0" data-dojo-attach-point\x3d"removeBtn" tabindex\x3d"-1"\x3e\n        \x3cspan class\x3d"freddicon cross !margin-right--lv0"\x3e\x3c/span\x3e\n    \x3c/button\x3e\n\x3c/li\x3e\n',
"url:mojo/widgets/input/templates/tagList.html":'\x3cdiv class\x3d"field-wrapper condition-value"\x3e\n    \x3cdiv class\x3d"c-tagInput" tabindex\x3d"-1" data-dojo-attach-point\x3d"tagInputDom" data-mc-name\x3d"tagInput"\x3e\n        \x3cdiv class\x3d"c-tagListDropdown small-meta fwb textcolor absolute border-radius--lv0 padding--lv0" data-dojo-attach-point\x3d"operatorDom"\x3e\x3c/div\x3e\n        \x3cul class\x3d"c-tagList" data-dojo-attach-point\x3d"containerNode"\x3e\x3c/ul\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/templates/BillingInfo.html":'\x3cdiv\x3e\n    \x3cdiv data-dojo-attach-point\x3d"paymentInfoContainer"\x3e\x3c!-- getPaymentInfoAction response goes here --\x3e\x3c/div\x3e\n\x3c/div\x3e\n',"url:mojo/widgets/templates/previewer.html":'\x3cdiv class\x3d"template-previewer" data-dojo-attach-point\x3d"contentDom"\x3e\n    \x3cdiv data-dojo-attach-point\x3d"previewPane" id\x3d"desktop-view" class\x3d"viewcol preview-split--wide preview-split--left"\x3e\n        \x3cdiv data-dojo-attach-point\x3d"desktopViewInner" class\x3d"desktop-view-inner"\x3e\n            \x3cdiv class\x3d"iframe-wrapper full-height"\x3e\n                \x3cdiv class\x3d"wizard-header border-bottom"\x3e\n                    \x3cul data-dojo-attach-point\x3d"viewToggler"\x3e\x3c/ul\x3e\n                \x3c/div\x3e\n\n                \x3cdiv class\x3d"iframe-loading-message" data-dojo-attach-point\x3d"previewLoader"\x3e\n                    \x3cdiv class\x3d"loadingbar alignc"\x3e\n                        \x3cimg src\x3d"/css/icons/pulse.gif" class\x3d"pulse margin--lv2"\x3e\x3cbr /\x3e\n                        \x3cstrong\x3ePlease wait, loading \x26hellip;\x3c/strong\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n\n                \x3cdiv data-dojo-attach-point\x3d"bananaPhone" class\x3d"full-height"\x3e\n                    \x3ciframe data-dojo-attach-point\x3d"previewIframe" class\x3d"preview-frame full-height" src\x3d""\x3e\x3c/iframe\x3e\n                \x3c/div\x3e\n\n                \x3cdiv data-dojo-attach-point\x3d"inboxPreviewContainer" class\x3d"full-height overflow-auto alignc padding--lv3"\x3e\x3c/div\x3e\n            \x3c/div\x3e\n\n            \x3cdiv data-dojo-attach-point\x3d"approxMessage" class\x3d"absolute pos-b0 full-width bg-white padding--lv3 alignc hide"\x3e\n                \x3cp class\x3d"fwb dim-el !margin--lv0 small-meta full-width"\x3eThis is an approximation of how your design will appear on mobile. \x3ca href\x3d"http://kb.mailchimp.com/campaigns/design/edit-and-test-mobile-styles-in-a-campaign?#Preview-Mobile-Design" class\x3d"noborder" target\x3d"_blank" title\x3d"learn more about mobile preview accuracy"\x3eLearn more\x3c/a\x3e\x3c/p\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n\n    \x3c/div\x3e\n\n    \x3cdiv class\x3d"viewcol preview-split--narrow preview-split--right"\x3e\n        \x3cdiv data-dojo-attach-point\x3d"sidePane"\x3e\x3c/div\x3e\n        \x3cdiv data-dojo-attach-point\x3d"editorPane" style\x3d"display:none;"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',
"url:mojo/widgets/previewer/templates/headerInfoPane.html":'\x3cdiv class\x3d"mojoStyleEditor"\x3e\n    \x3cdiv class\x3d"drillnavbar alignc border-bottom"\x3e\n        \x3ch4\x3eHeader Info\x3c/h4\x3e\n    \x3c/div\x3e\n\n    \x3cdiv class\x3d"editorscroll"\x3e\n        \x3cdiv class\x3d"padding--lv3 border-bottom selfclear"\x3e\n            \x3cp class\x3d"float-left fwb !margin--lv0"\x3eEnable live merge tag info\x3c/p\x3e\n            \x3cinput class\x3d"float-right" type\x3d"checkbox" data-dojo-attach-point\x3d"liveMergeSwitch" data-dojo-type\x3d"mojo/widgets/Switch" data-dojo-props\x3d"sizeClass:\'switch-small !margin-right--lv0\'"/\x3e\n        \x3c/div\x3e\n\n        \x3cdiv class\x3d"padding--lv3 !padding-bottom--lv0 selfclear"\x3e\n            \x3cdiv class\x3d"float-right button-group regular !margin-bottom--lv3"\x3e\n                \x3cbutton class\x3d"button" data-dojo-attach-point\x3d"mergePrevBtn"\x3e\x3cspan class\x3d"freddicon menu-left"\x3e\x3c/span\x3e\x3c/button\x3e\n                \x3cbutton class\x3d"button" data-dojo-attach-point\x3d"mergeNextBtn"\x3e\x3cspan class\x3d"freddicon menu-right on-right"\x3e\x3c/span\x3e\x3c/button\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"float-left" data-dojo-attach-point\x3d"body"\x3e\x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3cdiv class\x3d"padding--lv3 border-top selfclear hide" data-dojo-attach-point\x3d"feedbackContainer"\x3e\n            \x3cp class\x3d"small-meta" data-dojo-attach-point\x3d"feedbackBody"\x3e\x3c/p\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',
"url:mojo/widgets/previewer/inbox-preview/templates/clientPane.html":'\x3cdiv class\x3d"inbox-preview-pane viewcol full-width"\x3e\n\n    \x3cdiv class\x3d"wizard-header border-bottom"\x3e\n        \x3cul class\x3d"flex full-height full-width"\x3e\n            \x3cli class\x3d"c-buttonGroupItem v-buttonGroupItemFlex height-inherit"\x3e\n                \x3cbutton data-dojo-attach-point\x3d"tokensBtn"\n                    class\x3d"c-buttonGroupButton\n                        v-buttonGroupBasic\n                        v-buttonGroupButtonFlex\n                        height-inherit"\x3e\n                    \x3cspan data-dojo-attach-point\x3d"tokensCount" class\x3d"hide-mobile"\x3e\x3c/span\x3e\x26nbsp;\n                    \x3cspan data-dojo-attach-point\x3d"tokensBtnText"\x3eTokens\x3c/span\x3e\n                \x3c/button\x3e\n            \x3c/li\x3e\n            \x3cli class\x3d"c-buttonGroupItem v-buttonGroupItemFlex height-inherit"\x3e\n                \x3cbutton data-dojo-attach-point\x3d"updateBtn"\n                    class\x3d"c-buttonGroupButton\n                    v-buttonGroupBasic\n                    v-buttonGroupButtonFlex\n                    height-inherit"\x3e\n                    \x3cspan class\x3d"padding--lv1 !padding-top-bottom--lv0 !padding-left--lv0"\x3e\n                        \x3cspan data-dojo-attach-point\x3d"updateBtnIcon" class\x3d"freddicon refresh hide-mobile" role\x3d"presentation"\x3e\x3c/span\x3e\n                    \x3c/span\x3e\n                    \x3cspan data-dojo-attach-point\x3d"updateBtnText"\x3eUpdate\x3c/span\x3e\x26nbsp;\n                    \x3cspan data-dojo-attach-point\x3d"updateCount" class\x3d"hide-mobile"\x3e\x3c/span\x3e\n                \x3c/button\x3e\n            \x3c/li\x3e\n            \x3cli class\x3d"c-buttonGroupItem v-buttonGroupItemFlex height-inherit"\x3e\n                \x3cbutton data-dojo-attach-point\x3d"addClientBtn"\n                    class\x3d"c-buttonGroupButton\n                        v-buttonGroupBasic\n                        v-buttonGroupButtonFlex\n                        height-inherit"\x3e\n                    \x3cspan class\x3d"freddicon add-circle padding--lv1 !padding-top-bottom--lv0 !padding-left--lv0 hide-mobile" role\x3d"presentation"\x3e\x3c/span\x3e\n                    Add Client\n                \x3c/button\x3e\n            \x3c/li\x3e\n        \x3c/ul\x3e\n    \x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"previewsErrorContainer" class\x3d"feedback-block error hide" style\x3d"border-radius:0;"\x3e\n        \x3cdiv class\x3d"lastUnit size1of1"\x3e\n            \x3cdiv class\x3d"media"\x3e\n                \x3cdiv class\x3d"media-image"\x3e\n                    \x3cspan class\x3d"freddicon not-allowed"\x3e\x3c/span\x3e\n                \x3c/div\x3e\n                \x3cdiv class\x3d"media-body"\x3e\n                    \x3ch4\x3eWe\'re having trouble running your previews\x3c/h4\x3e\n                    \x3cp data-dojo-attach-point\x3d"previewsErrorMsg"\x3e\x3c/p\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n\n    \x3cdiv class\x3d"lastUnit size1of1 padding--lv3 margin--lv6 !margin-left--lv0 !margin-right--lv0" data-dojo-attach-point\x3d"noDataContainer"\x3e\n        \x3cdiv class\x3d"no-data noborder alignc"\x3e\n            \x3cimg class\x3d"icon" src\x3d"/css/icons/no-data/no-inspect.svg" role\x3d"presentation"\x3e\n            \x3ch4\x3eInbox Previews\x3c/h4\x3e\n            \x3cp class\x3d"full-width !margin-bottom--lv2"\x3eGenerate previews of how your campaigns \x3cbr /\x3ewill look in various email clients.\x3c/p\x3e\n\n            \x3cp class\x3d"small-meta fwb"\x3e\x3ca href\x3d"http://kb.mailchimp.com/campaigns/previews-and-tests/test-with-inbox-preview" target\x3d"_blank"\x3eLearn more about Inbox Previews\x3c/a\x3e\x3c/p\x3e\n\n            \x3cdiv class\x3d"padding--lv4"\x3e\n                \x3ca href\x3d"#" data-dojo-attach-point\x3d"getStartedBtn" class\x3d"button p0 !margin--lv0 !margin-bottom--lv2"\x3e\x3c/a\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3cdiv class\x3d"overflow-auto full-height"\x3e\n        \x3c!-- REPEATING UNIT IN RIGHT PANEL --\x3e\n        \x3cdiv class\x3d"wizard-header-offset" data-dojo-attach-point\x3d"clientLists"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/previewer/inbox-preview/templates/clientPane/section.html":'\x3cdiv class\x3d"pane-row"\x3e\n    \x3ch4 class\x3d"inbox-preview-row-header p !margin--lv0 bg-gray full-width"\x3e${sectionName}\x3c/h4\x3e\n    \x3cul data-dojo-attach-point\x3d"rowContainer"\x3e\x3c/ul\x3e\n\x3c/div\x3e',"url:mojo/widgets/previewer/inbox-preview/templates/clientPane/row.html":'\x3cli class\x3d"inbox-preview-row media unread border-bottom selfclear"\x3e\n    \x3cdiv class\x3d"media-image"\x3e\n        \x3cinput id\x3d"${id}-select" type\x3d"checkbox" data-dojo-type\x3d"dijit/form/CheckBox" data-dojo-attach-point\x3d"selectedBox" class\x3d"!margin--lv0"/\x3e\n\n        \x3cdiv data-dojo-attach-point\x3d"loadingIndicator" class\x3d"hide" role\x3d"presentation" aria-hidden\x3d"true"\x3e\n            \x3cspan class\x3d"freddicon refresh-circle-large is-running"\x3e\x3c/span\x3e\n        \x3c/div\x3e\n\n        \x3cspan data-dojo-attach-point\x3d"failedIcon" class\x3d"freddicon warn-circle"\x3e\x3c/span\x3e\n    \x3c/div\x3e\n\n    \x3cdiv class\x3d"media-body"\x3e\n        \x3clabel for\x3d"${id}-select" class\x3d"!margin-bottom--lv1 !padding--lv0 inline"\x3e${client.name}\x3c/label\x3e\n\n        \x3cp class\x3d"small-meta !margin--lv0" data-dojo-attach-point\x3d"statusMessage"\x3e\x3c/p\x3e\n\n        \x3cdiv class\x3d"small-meta !margin--lv0" data-dojo-attach-point\x3d"actionsContainer"\x3e\n            \x3cspan data-dojo-attach-point\x3d"rerunContainer"\x3e\n                \x3ca href\x3d"#" data-dojo-attach-point\x3d"rerunLink" class\x3d"fwb"\x3e\x3c/a\x3e \x26middot;\n            \x3c/span\x3e\n\n            \x3ca href\x3d"#" data-dojo-attach-point\x3d"historyLink" class\x3d"fwb"\x3eView history\x3c/a\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n\x3c/li\x3e',
"url:mojo/widgets/previewer/inbox-preview/templates/clientEditor.html":'\x3cdiv class\x3d"mojoStyleEditor"\x3e\n    \x3cdiv class\x3d"drillnavbar alignc border-bottom"\x3e\n        \x3ch4\x3eChoose clients\x3c/h4\x3e\n        \x3ca data-dojo-attach-point\x3d"backBtn" class\x3d"button-small drillback imgrpl-inline" href\x3d"#"\x3e\n            \x3cspan class\x3d"freddicon arrow-left" data-dojo-attach-event\x3d"onclick:_onDone"\x3e\x3c/span\x3e\n        \x3c/a\x3e\n    \x3c/div\x3e\n\n    \x3cdiv class\x3d"editorscroll"\x3e\n\n        \x3cdiv data-dojo-attach-point\x3d"topClientsContainer" class\x3d"hide"\x3e\n            \x3cdiv class\x3d"padding--lv3"\x3e\n                \x3cp data-dojo-attach-point\x3d"preselectedClientsText" class\x3d"hide"\x3e\x3c/p\x3e\n                \x3ca data-dojo-attach-point\x3d"topClientsLink" href\x3d"#" class\x3d"disclosure-closed fwb hide" onclick\x3d"mojo.utils.disclosureElement(\'top-clients\', this, true); return false;"\x3eTop client usage from your list\x3c/a\x3e\n            \x3c/div\x3e\n            \x3cul id\x3d"top-clients" data-dojo-attach-point\x3d"topClients" class\x3d"top-clients" style\x3d"display: none"\x3e\x3c/ul\x3e\n        \x3c/div\x3e\n\n        \x3cdiv data-dojo-attach-point\x3d"body"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3cdiv class\x3d"c-actionButtonsPane"\x3e\n        \x3cbutton class\x3d"button p0" disabled\x3d"disabled" data-dojo-attach-point\x3d"addClientsBtn"\x3eAdd clients\x3c/button\x3e\n        \x3ca href\x3d"#" data-dojo-attach-event\x3d"onclick:_onDone"\x3eCancel\x3c/a\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',
"url:mojo/widgets/previewer/inbox-preview/templates/clientEditor/section.html":'\x3cfieldset class\x3d"border-top"\x3e\n    \x3ch4 class\x3d"inbox-preview-row-header p !margin--lv0 bg-gray full-width"\x3e\n        ${sectionName}\n        \x3ca href\x3d"#" class\x3d"small-meta fwb float-right !padding-top-bottom--lv0 nolink underline" data-dojo-attach-point\x3d"selectionLink"\x3eSelect All\x3c/a\x3e\n    \x3c/h4\x3e\n\n    \x3cul data-dojo-attach-point\x3d"rowContainer"\x3e\x3c/ul\x3e\n\x3c/fieldset\x3e',
"url:mojo/widgets/previewer/inbox-preview/templates/clientEditor/row.html":'\x3cli class\x3d"inbox-preview-row media padding--lv3 !padding-top-bottom--lv0 selfclear"\x3e\n    \x3cdiv class\x3d"padding--lv2 !padding-left-right--lv0"\x3e\n        \x3cdiv class\x3d"media-image"\x3e\n            \x3cinput id\x3d"checkbox-${id}" type\x3d"checkbox" data-dojo-type\x3d"dijit/form/CheckBox" data-dojo-attach-point\x3d"checkBox" class\x3d"!margin--lv0"/\x3e\n        \x3c/div\x3e\n\n        \x3cdiv class\x3d"media-body"\x3e\n            \x3cspan class\x3d"!margin-bottom--lv1 fwb !padding--lv0"\x3e${client.name}\x3c/span\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/li\x3e',
"url:mojo/widgets/previewer/inbox-preview/templates/clientHistoryEditor.html":'\x3cdiv class\x3d"mojoStyleEditor"\x3e\n    \x3cdiv class\x3d"drillnavbar alignc border-bottom"\x3e\n        \x3ch4\x3e${client.name}\x3c/h4\x3e\n        \x3ca data-dojo-attach-point\x3d"backBtn" class\x3d"button-small drillback imgrpl-inline" href\x3d"#"\x3e\n            \x3cspan class\x3d"freddicon arrow-left" data-dojo-attach-event\x3d"onclick:_onDone"\x3e\x3c/span\x3e\n        \x3c/a\x3e\n    \x3c/div\x3e\n\n    \x3cdiv class\x3d"editorscroll" data-dojo-attach-point\x3d"body"\x3e\n        \x3cul data-dojo-attach-point\x3d"rowContainer"\x3e\x3c/ul\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',
"url:mojo/widgets/previewer/inbox-preview/templates/clientHistoryEditor/row.html":'\x3cli class\x3d"inbox-preview-row border-bottom padding--lv3 selfclear"\x3e\n    \x3cp class\x3d"!margin--lv0"\x3e\n        Created on \x3cspan data-dojo-attach-point\x3d"formattedDate"\x3e\x3c/span\x3e\n    \x3c/p\x3e\n\x3c/li\x3e',"url:mojo/widgets/previewer/inbox-preview/templates/tokensEditor.html":'\x3cdiv class\x3d"mojoStyleEditor"\x3e\n    \x3cdiv class\x3d"drillnavbar alignc border-bottom"\x3e\n        \x3ch4\x3ePurchase Tokens\x3c/h4\x3e\n        \x3ca data-dojo-attach-point\x3d"backBtn" class\x3d"button-small drillback imgrpl-inline" href\x3d"#"\x3e\n            \x3cspan class\x3d"freddicon arrow-left" data-dojo-attach-event\x3d"onclick:_onDone"\x3e\x3c/span\x3e\n        \x3c/a\x3e\n    \x3c/div\x3e\n\n    \x3cdiv class\x3d"editorscroll" data-dojo-attach-point\x3d"body"\x3e\n        \x3cdiv data-dojo-attach-point\x3d"tokensStatusContainer" class\x3d"padding--lv3 border-bottom"\x3e\n            \x3cdiv class\x3d"media"\x3e\n                \x3cdiv class\x3d"media-image"\x3e\n                    \x3cimg data-dojo-attach-point\x3d"staticTokenImg" src\x3d"/images/campaigns/freddie-token-tilt.svg" width\x3d"60px"/\x3e\n                    \x3cimg data-dojo-attach-point\x3d"spinningTokenImg" src\x3d"/images/campaigns/freddie-token-spinning.gif" width\x3d"60px" class\x3d"hide"/\x3e\n                \x3c/div\x3e\n                \x3cdiv class\x3d"media-body"\x3e\n                    \x3cdiv data-dojo-attach-point\x3d"tokensStatusContainer"\x3e\n                        \x3cdiv class\x3d"padding--lv3 !padding-left-right--lv0"\x3e\n                            \x3cdiv data-dojo-attach-point\x3d"tokenStatusMsg"\x3e\n                                \x3cp class\x3d"fwb !margin--lv0"\x3eYou have \x3cspan data-dojo-attach-point\x3d"tokensCount"\x3e\x3c/span\x3e tokens\x3c/p\x3e\n                            \x3c/div\x3e\n                            \x3cp data-dojo-attach-point\x3d"processingMsg" class\x3d"fwb !margin--lv0" style\x3d"display: none;"\x3e\n                                We\'re processing your order...\n                            \x3c/p\x3e\n                        \x3c/div\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3cdiv class\x3d"padding--lv3"\x3e\n\n            \x3cdiv data-dojo-attach-point\x3d"purchaseErrorContainer" class\x3d"feedback-block error !margin-bottom--lv2 hide"\x3e\n                \x3cdiv class\x3d"lastUnit size1of1"\x3e\n                    \x3cdiv class\x3d"c-media"\x3e\n                        \x3cdiv class\x3d"c-mediaImage v-isFreddicon"\x3e\n                            \x3cspan class\x3d"freddicon not-allowed"\x3e\x3c/span\x3e\n                        \x3c/div\x3e\n                        \x3cdiv class\x3d"c-mediaBody--centered"\x3e\n                            \x3ch4\x3eThere\'s a problem with your purchase\x3c/h4\x3e\n                            \x3cp data-dojo-attach-point\x3d"purchaseErrorMsg"\x3e\x3c/p\x3e\n                        \x3c/div\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n\n            \x3cdiv class\x3d"feedback-block warning !margin-bottom--lv2 hide" data-dojo-attach-point\x3d"noTokensContainer"\x3e\n                \x3cdiv class\x3d"lastUnit size1of1"\x3e\n                    \x3cdiv class\x3d"c-media"\x3e\n                        \x3cdiv class\x3d"c-mediaImage v-isFreddicon"\x3e\n                            \x3cspan class\x3d"freddicon warn-circle"\x3e\x3c/span\x3e\n                        \x3c/div\x3e\n                        \x3cdiv class\x3d"c-mediaBody--centered"\x3e\n                            \x3ch4\x3ePurchase tokens to run a preview of the \x3cstrong data-dojo-attach-point\x3d"selectedClientsCount"\x3e\x3c/strong\x3e email clients you selected.\x3c/h4\x3e\n                        \x3c/div\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n\n            \x3cp class\x3d"fwb"\x3eWould you like to purchase more?\x3c/p\x3e\n\n            \x3cul class\x3d"radio-grid small-grid" data-dojo-attach-point\x3d"blockContainer"\x3e\x3c/ul\x3e\n\n            \x3cp class\x3d"small-meta dim6 fwb !margin-bottom--lv6 hide" data-dojo-attach-point\x3d"numFreeMonthlyText"\x3eAs part of your monthly plan we\'ll give you \x3cspan\x3e${numFreeMonthly}\x3c/span\x3e tokens each month. These will expire at the end of the billing cycle.\x3c/p\x3e\n\n            \x3cp class\x3d"fwb"\x3eBilling Information\x3c/p\x3e\n            \x3cdiv data-dojo-type\x3d"mojo/widgets/BillingInfo" id\x3d"billingInfo"\x3e\x3c/div\x3e\n\n        \x3c/div\x3e\n\n    \x3c/div\x3e\n\n    \x3cdiv class\x3d"c-actionButtonsPane"\x3e\n        \x3cbutton class\x3d"button p0" disabled\x3d"disabled" data-dojo-attach-point\x3d"purchaseTokensBtn"\x3ePurchase Tokens\x3c/button\x3e\n        \x3ca href\x3d"#" data-dojo-attach-event\x3d"onclick:_onDone"\x3eCancel\x3c/a\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',
"url:mojo/widgets/previewer/inbox-preview/templates/tokensEditor/block.html":'\x3cli\x3e\n    \x3cinput type\x3d"radio" id\x3d"block-${block.block_id}" name\x3d"block" value\x3d"100"\x3e\n    \x3clabel class\x3d"border-radius--lv1 alignc padding--lv4 cursor-pointer" for\x3d"block-${block.block_id}"\x3e\n        \x3cdiv class\x3d"fwn !margin-bottom--lv2"\x3e${block.tokens} tokens\x3c/div\x3e\n        \x3cdiv class\x3d"fwb"\x3e$${block.amount}\x3c/div\x3e\n    \x3c/label\x3e\n\x3c/li\x3e\n',"url:mojo/widgets/previewer/inbox-preview/templates/contentPane.html":'\x3cdiv class\x3d"relative"\x3e\n    \x3cdiv class\x3d"lastUnit size1of1 padding--lv3" data-dojo-attach-point\x3d"loadingContainer"\x3e\n        \x3cimg src\x3d"/images/inbox-preview/content-holder.svg" role\x3d"presentation" class\x3d"inbox-preview-nodata-icon"/\x3e\n    \x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"contentContainer"\x3e\x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"litmusMsgContainer" class\x3d"alignc !margin-bottom--lv8"\x3e\n        \x3cp class\x3d"full-width small-meta dim3 fwb !margin--lv0"\x3ePowered by\x3c/p\x3e\n        \x3ca href\x3d"https://litmus.com/partners/mailchimp" title\x3d"Learn more about Litmus" target\x3d"_blank"\x3e\n            \x3cimg src\x3d"/images/third-party-logos/litmuslogo.svg" alt\x3d"Litmus logo" width\x3d"80px" class\x3d"!margin-bottom--lv2"/\x3e\n        \x3c/a\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',
"url:mojo/analytics/parts/templates/select.html":'\x3cdiv class\x3d"inline-block valign-top" style\x3d"display: none !important;"\x3e\n    \x3cspan class\x3d"sort-selector-label small-meta fwb valign-middle margin--lv1 !margin-top-bottom--lv0 !margin-left--lv0 hide-mobile"\x3e${label}\x3c/span\x3e\n    \x3cselect data-dojo-attach-point\x3d"select"\x3e\x3c/select\x3e\n\x3c/div\x3e\n',"url:dojox/widget/ColorPicker/ColorPicker.html":'\x3ctable class\x3d"dojoxColorPicker" dojoAttachEvent\x3d"onkeypress: _handleKey" cellpadding\x3d"0" cellspacing\x3d"0" role\x3d"presentation"\x3e\n\t\x3ctr\x3e\n\t\t\x3ctd valign\x3d"top" class\x3d"dojoxColorPickerRightPad"\x3e\n\t\t\t\x3cdiv class\x3d"dojoxColorPickerBox"\x3e\n\t\t\t\t\x3c!-- Forcing ABS in style attr due to dojo DND issue with not picking it up form the class. --\x3e\n\t\t\t\t\x3cimg title\x3d"${saturationPickerTitle}" alt\x3d"${saturationPickerTitle}" class\x3d"dojoxColorPickerPoint" src\x3d"${_pickerPointer}" tabIndex\x3d"0" dojoAttachPoint\x3d"cursorNode" style\x3d"position: absolute; top: 0px; left: 0px;"\x3e\n\t\t\t\t\x3cimg role\x3d"presentation" alt\x3d"" dojoAttachPoint\x3d"colorUnderlay" dojoAttachEvent\x3d"onclick: _setPoint, onmousedown: _stopDrag" class\x3d"dojoxColorPickerUnderlay" src\x3d"${_underlay}" ondragstart\x3d"return false"\x3e\n\t\t\t\x3c/div\x3e\n\t\t\x3c/td\x3e\n\t\t\x3ctd valign\x3d"top" class\x3d"dojoxColorPickerRightPad"\x3e\n\t\t\t\x3cdiv class\x3d"dojoxHuePicker"\x3e\n\t\t\t\t\x3c!-- Forcing ABS in style attr due to dojo DND issue with not picking it up form the class. --\x3e\n\t\t\t\t\x3cimg dojoAttachPoint\x3d"hueCursorNode" tabIndex\x3d"0" class\x3d"dojoxHuePickerPoint" title\x3d"${huePickerTitle}" alt\x3d"${huePickerTitle}" src\x3d"${_huePickerPointer}" style\x3d"position: absolute; top: 0px; left: 0px;"\x3e\n\t\t\t\t\x3cdiv class\x3d"dojoxHuePickerUnderlay" dojoAttachPoint\x3d"hueNode"\x3e\n\t\t\t\t    \x3cimg role\x3d"presentation" alt\x3d"" dojoAttachEvent\x3d"onclick: _setHuePoint, onmousedown: _stopDrag" src\x3d"${_hueUnderlay}"\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t\t\x3c/td\x3e\n\t\t\x3ctd valign\x3d"top"\x3e\n\t\t\t\x3ctable cellpadding\x3d"0" cellspacing\x3d"0" role\x3d"presentation"\x3e\n\t\t\t\t\x3ctr\x3e\n\t\t\t\t\t\x3ctd valign\x3d"top" class\x3d"dojoxColorPickerPreviewContainer"\x3e\n\t\t\t\t\t\t\x3ctable cellpadding\x3d"0" cellspacing\x3d"0" role\x3d"presentation"\x3e\n\t\t\t\t\t\t\t\x3ctr\x3e\n\t\t\t\t\t\t\t\t\x3ctd valign\x3d"top" class\x3d"dojoxColorPickerRightPad"\x3e\n\t\t\t\t\t\t\t\t\t\x3cdiv dojoAttachPoint\x3d"previewNode" class\x3d"dojoxColorPickerPreview"\x3e\x3c/div\x3e\n\t\t\t\t\t\t\t\t\x3c/td\x3e\n\t\t\t\t\t\t\t\t\x3ctd valign\x3d"top"\x3e\n\t\t\t\t\t\t\t\t\t\x3cdiv dojoAttachPoint\x3d"safePreviewNode" class\x3d"dojoxColorPickerWebSafePreview"\x3e\x3c/div\x3e\n\t\t\t\t\t\t\t\t\x3c/td\x3e\n\t\t\t\t\t\t\t\x3c/tr\x3e\n\t\t\t\t\t\t\x3c/table\x3e\n\t\t\t\t\t\x3c/td\x3e\n\t\t\t\t\x3c/tr\x3e\n\t\t\t\t\x3ctr\x3e\n\t\t\t\t\t\x3ctd valign\x3d"bottom"\x3e\n\t\t\t\t\t\t\x3ctable class\x3d"dojoxColorPickerOptional" cellpadding\x3d"0" cellspacing\x3d"0" role\x3d"presentation"\x3e\n\t\t\t\t\t\t\t\x3ctr\x3e\n\t\t\t\t\t\t\t\t\x3ctd\x3e\n\t\t\t\t\t\t\t\t\t\x3cdiv class\x3d"dijitInline dojoxColorPickerRgb" dojoAttachPoint\x3d"rgbNode"\x3e\n\t\t\t\t\t\t\t\t\t\t\x3ctable cellpadding\x3d"1" cellspacing\x3d"1" role\x3d"presentation"\x3e\n\t\t\t\t\t\t\t\t\t\t\x3ctr\x3e\x3ctd\x3e\x3clabel for\x3d"${_uId}_r"\x3e${redLabel}\x3c/label\x3e\x3c/td\x3e\x3ctd\x3e\x3cinput id\x3d"${_uId}_r" dojoAttachPoint\x3d"Rval" size\x3d"1" dojoAttachEvent\x3d"onchange: _colorInputChange"\x3e\x3c/td\x3e\x3c/tr\x3e\n\t\t\t\t\t\t\t\t\t\t\x3ctr\x3e\x3ctd\x3e\x3clabel for\x3d"${_uId}_g"\x3e${greenLabel}\x3c/label\x3e\x3c/td\x3e\x3ctd\x3e\x3cinput id\x3d"${_uId}_g" dojoAttachPoint\x3d"Gval" size\x3d"1" dojoAttachEvent\x3d"onchange: _colorInputChange"\x3e\x3c/td\x3e\x3c/tr\x3e\n\t\t\t\t\t\t\t\t\t\t\x3ctr\x3e\x3ctd\x3e\x3clabel for\x3d"${_uId}_b"\x3e${blueLabel}\x3c/label\x3e\x3c/td\x3e\x3ctd\x3e\x3cinput id\x3d"${_uId}_b" dojoAttachPoint\x3d"Bval" size\x3d"1" dojoAttachEvent\x3d"onchange: _colorInputChange"\x3e\x3c/td\x3e\x3c/tr\x3e\n\t\t\t\t\t\t\t\t\t\t\x3c/table\x3e\n\t\t\t\t\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\t\t\t\x3c/td\x3e\n\t\t\t\t\t\t\t\t\x3ctd\x3e\n\t\t\t\t\t\t\t\t\t\x3cdiv class\x3d"dijitInline dojoxColorPickerHsv" dojoAttachPoint\x3d"hsvNode"\x3e\n\t\t\t\t\t\t\t\t\t\t\x3ctable cellpadding\x3d"1" cellspacing\x3d"1" role\x3d"presentation"\x3e\n\t\t\t\t\t\t\t\t\t\t\x3ctr\x3e\x3ctd\x3e\x3clabel for\x3d"${_uId}_h"\x3e${hueLabel}\x3c/label\x3e\x3c/td\x3e\x3ctd\x3e\x3cinput id\x3d"${_uId}_h" dojoAttachPoint\x3d"Hval"size\x3d"1" dojoAttachEvent\x3d"onchange: _colorInputChange"\x3e ${degLabel}\x3c/td\x3e\x3c/tr\x3e\n\t\t\t\t\t\t\t\t\t\t\x3ctr\x3e\x3ctd\x3e\x3clabel for\x3d"${_uId}_s"\x3e${saturationLabel}\x3c/label\x3e\x3c/td\x3e\x3ctd\x3e\x3cinput id\x3d"${_uId}_s" dojoAttachPoint\x3d"Sval" size\x3d"1" dojoAttachEvent\x3d"onchange: _colorInputChange"\x3e ${percentSign}\x3c/td\x3e\x3c/tr\x3e\n\t\t\t\t\t\t\t\t\t\t\x3ctr\x3e\x3ctd\x3e\x3clabel for\x3d"${_uId}_v"\x3e${valueLabel}\x3c/label\x3e\x3c/td\x3e\x3ctd\x3e\x3cinput id\x3d"${_uId}_v" dojoAttachPoint\x3d"Vval" size\x3d"1" dojoAttachEvent\x3d"onchange: _colorInputChange"\x3e ${percentSign}\x3c/td\x3e\x3c/tr\x3e\n\t\t\t\t\t\t\t\t\t\t\x3c/table\x3e\n\t\t\t\t\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\t\t\t\x3c/td\x3e\n\t\t\t\t\t\t\t\x3c/tr\x3e\n\t\t\t\t\t\t\t\x3ctr\x3e\n\t\t\t\t\t\t\t\t\x3ctd colspan\x3d"2"\x3e\n\t\t\t\t\t\t\t\t\t\x3cdiv class\x3d"dojoxColorPickerHex" dojoAttachPoint\x3d"hexNode" aria-live\x3d"polite"\x3e\t\n\t\t\t\t\t\t\t\t\t\t\x3clabel for\x3d"${_uId}_hex"\x3e\x26nbsp;${hexLabel}\x26nbsp;\x3c/label\x3e\x3cinput id\x3d"${_uId}_hex" dojoAttachPoint\x3d"hexCode, focusNode, valueNode" size\x3d"6" class\x3d"dojoxColorPickerHexCode" dojoAttachEvent\x3d"onchange: _colorInputChange"\x3e\n\t\t\t\t\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\t\t\t\x3c/td\x3e\n\t\t\t\t\t\t\t\x3c/tr\x3e\n\t\t\t\t\t\t\x3c/table\x3e\n\t\t\t\t\t\x3c/td\x3e\n\t\t\t\t\x3c/tr\x3e\n\t\t\t\x3c/table\x3e\n\t\t\x3c/td\x3e\n\t\x3c/tr\x3e\n\x3c/table\x3e\n\n',
"url:mojo/neapolitan/widgets/templates/ColorPicker.html":'\x3cdiv class\x3d"dojoxColorPicker" dojoAttachEvent\x3d"onkeypress: _handleKey" cellpadding\x3d"0" cellspacing\x3d"0"\x3e\n    \x3cdiv class\x3d"dojoxColorPickers"\x3e\n        \x3cdiv class\x3d"dojoxColorPickerBox"\x3e\n            \x3c!-- Forcing absolute positioning in style attr due to dojo DND issue with not picking it up from the class. --\x3e\n            \x3cdiv role\x3d"status" title\x3d"${saturationPickerTitle}" alt\x3d"${saturationPickerTitle}" class\x3d"dojoxColorPickerPoint" tabIndex\x3d"0" dojoAttachPoint\x3d"cursorNode"  style\x3d"position: absolute; top: 0px; left: 0px;"\x3e\x3c/div\x3e\n            \x3cimg role\x3d"presentation" alt\x3d"" dojoAttachPoint\x3d"colorUnderlay" class\x3d"dojoxColorPickerUnderlay" src\x3d"${_underlay}" ondragstart\x3d"return false"\x3e\n        \x3c/div\x3e\n\n        \x3cdiv class\x3d"dojoxHuePicker"\x3e\n            \x3c!-- Forcing absolute positioning in style attr due to dojo DND issue with not picking it up from the class. --\x3e\n            \x3cdiv class\x3d"dojoxHuePickerPoint" dojoattachpoint\x3d"hueCursorNode" role\x3d"status" style\x3d"position: absolute; top: 65.15px; left: 0px;"\x3e\x3c/div\x3e\n            \x3cdiv class\x3d"dojoxHuePickerUnderlay" dojoattachpoint\x3d"hueNode" dojoattachevent\x3d"onclick: _setHuePoint, onmousedown: _stopDrag" role\x3d"presentation"\x3e\x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3cdiv dojoAttachPoint\x3d"previewNode" class\x3d"dojoxColorPickerPreview" style\x3d"display:none;"\x3e\x3c/div\x3e\n        \x3cdiv dojoAttachPoint\x3d"safePreviewNode" class\x3d"dojoxColorPickerWebSafePreview" style\x3d"display:none;"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3cdiv class\x3d"dojoxColorPickerOptional"\x3e\n        \x3clabel class\x3d"dojoxColorPickerControl dojoxColorPickerHex" aria-live\x3d"polite" dojoattachpoint\x3d"hexNode"\x3e\n            Hex\n            \x3cinput class\x3d"dojoxColorPickerHexCode" dojoAttachPoint\x3d"hexCode, focusNode, valueNode" type\x3d"text"  id\x3d"${_uId}_hex" placeholder\x3d"#000000" dojoAttachEvent\x3d"onchange: _colorInputChange"\x3e\n        \x3c/label\x3e\n        \x3cdiv class\x3d"dojoxColorPickerRgb" dojoAttachPoint\x3d"rgbNode"\x3e\n            \x3clabel class\x3d"dojoxColorPickerControl"\x3e\n                ${redLabel}\n                \x3cinput id\x3d"${_uId}_r" class\x3d"dojoxColorPickerRgbInput dojoxColorPickerRgbInput--left" dojoAttachPoint\x3d"Rval" size\x3d"1" dojoAttachEvent\x3d"onchange: _colorInputChange" type\x3d"number" placeholder\x3d"0"\x3e\n            \x3c/label\x3e\n            \x3clabel class\x3d"dojoxColorPickerControl"\x3e\n                ${greenLabel}\n                \x3cinput id\x3d"${_uId}_g" class\x3d"dojoxColorPickerRgbInput dojoxColorPickerRgbInput--middle" dojoAttachPoint\x3d"Gval" size\x3d"1" dojoAttachEvent\x3d"onchange: _colorInputChange" type\x3d"number" placeholder\x3d"0"\x3e\n            \x3c/label\x3e\n            \x3clabel class\x3d"dojoxColorPickerControl"\x3e\n                ${blueLabel}\n                \x3cinput id\x3d"${_uId}_b" class\x3d"dojoxColorPickerRgbInput dojoxColorPickerRgbInput--right"  dojoAttachPoint\x3d"Bval" size\x3d"1" dojoAttachEvent\x3d"onchange: _colorInputChange" type\x3d"number" placeholder\x3d"0"\x3e\n            \x3c/label\x3e\n        \x3c/div\x3e\n        \x3cdiv class\x3d"dojoxColorPickerHsv" dojoAttachPoint\x3d"hsvNode"\x3e\n            \x3clabel for\x3d"${_uId}_h"\x3e${hueLabel}\x3c/label\x3e\x3cinput id\x3d"${_uId}_h" dojoAttachPoint\x3d"Hval"size\x3d"1" dojoAttachEvent\x3d"onchange: _colorInputChange"\x3e ${degLabel}\x3cbr/\x3e\n            \x3clabel for\x3d"${_uId}_s"\x3e${saturationLabel}\x3c/label\x3e\x3cinput id\x3d"${_uId}_s" dojoAttachPoint\x3d"Sval" size\x3d"1" dojoAttachEvent\x3d"onchange: _colorInputChange"\x3e ${percentSign}\x3cbr /\x3e\n            \x3clabel for\x3d"${_uId}_v"\x3e${valueLabel}\x3c/label\x3e\x3cinput id\x3d"${_uId}_v" dojoAttachPoint\x3d"Vval" size\x3d"1" dojoAttachEvent\x3d"onchange: _colorInputChange"\x3e ${percentSign}\x3cbr /\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3cdiv class\x3d"mojoCustomColorContainer" data-dojo-attach-point\x3d"defaultColorNode"\x3e\n        \x3cul class\x3d"mojoCustomColors"\x3e\x3c/ul\x3e\n    \x3c/div\x3e\n\n    \x3cdiv class\x3d"mojoCustomColorContainer mojoCustomColorContainer--special" data-dojo-attach-point\x3d"noColorNode" style\x3d"display:none;"\x3e\n        \x3cul class\x3d"mojoCustomColors mojoCustomColors--special"\x3e\n            \x3cli class\x3d"mojoCustomColor mojoCustomColor--special"\x3eNo Color\x3c/li\x3e\n        \x3c/ul\x3e\n    \x3c/div\x3e\n\n    \x3c!-- If we have site colors --\x3e\n    \x3cdiv class\x3d"mojoCustomColorContainer" data-dojo-attach-point\x3d"siteColorNode"\x3e\n        \x3clabel class\x3d"mojoCustomColorLabel" title\x3d"Colors from http://www.yoursite.com"\x3eYour Site Colors \x3cspan\x3e(\x3ca href\x3d"#"\x3eSelect Site\x3c/a\x3e)\x3c/span\x3e\x3c/label\x3e\n        \x3cul class\x3d"mojoCustomColors"\x3e\x3cli style\x3d"background:#03050C" class\x3d"mojoCustomColor"\x3e\x26nbsp;\x3c/li\x3e\x3cli style\x3d"background:#080A16" class\x3d"mojoCustomColor"\x3e\x26nbsp;\x3c/li\x3e\x3cli style\x3d"background:#202035" class\x3d"mojoCustomColor"\x3e\x26nbsp;\x3c/li\x3e\x3cli style\x3d"background:#070916" class\x3d"mojoCustomColor"\x3e\x26nbsp;\x3c/li\x3e\x3cli style\x3d"background:#00010D" class\x3d"mojoCustomColor"\x3e\x26nbsp;\x3c/li\x3e\x3cli style\x3d"background:#FFCCCC" class\x3d"mojoCustomColor"\x3e\x26nbsp;\x3c/li\x3e\x3cli style\x3d"background:#18192A" class\x3d"mojoCustomColor"\x3e\x26nbsp;\x3c/li\x3e\x3cli style\x3d"background:#FFFFFF" class\x3d"mojoCustomColor"\x3e\x26nbsp;\x3c/li\x3e\x3cli style\x3d"background:#000000" class\x3d"mojoCustomColor"\x3e\x26nbsp;\x3c/li\x3e\x3cli style\x3d"background:#501254" class\x3d"mojoCustomColor"\x3e\x26nbsp;\x3c/li\x3e\x3cli style\x3d"background:#090B17" class\x3d"mojoCustomColor"\x3e\x26nbsp;\x3c/li\x3e\x3c/ul\x3e\n    \x3c/div\x3e\n    \x3c!-- If we don\'t have site colors --\x3e\n    \x3cdiv class\x3d"mojoCustomColorContainer" data-dojo-attach-point\x3d"siteColorForm"\x3e\n        \x3clabel class\x3d"mojoCustomColorLabel"\x3eGet Site Colors From\x3c/label\x3e\n        \x3cinput type\x3d"url" /\x3e\n        \x3ca href\x3d"#"\x3eGo\x3c/a\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"dojoxColorPickerArrow" data-dojo-attach-point\x3d"arrow"\x3e\x3c/div\x3e\n\x3c/div\x3e',
"url:mojo/widgets/content-manager/templates/ContentManager.html":'\x3cdiv data-dojo-attach-point\x3d"dropTarget" class\x3d"file-drop-target position--absolute bg-white full-height full-width"\x3e\n    \x3cdiv class\x3d"dead-center text-align--center position--absolute"\x3e\n        \x3cimg class\x3d"margin--lv2" src\x3d"/images/files/file-manager-add.svg" height\x3d"90" /\x3e\n        \x3cp\x3eYou can also drop files on this window to upload\x3c/p\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n\n\x3cdiv class\x3d"flex"\x3e\n    \x3cdiv class\x3d"flex flex-col c-fileMgrSidebarContainer padding--lv2 padding-top-bottom--lv0 display--none@tablet"\x3e\n        \x3cdiv class\x3d"full-width padding--lv3 padding-left-right--lv0" data-dojo-attach-point\x3d"sourceButtons"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3cdiv class\x3d"flex flex-col flex--1"\x3e\n        \x3cdiv data-dojo-attach-point\x3d"listControls"\x3e\n            \x3cdiv class\x3d"line padding--lv3 padding-left-right--lv0 padding-bottom--lv0"\x3e\n                \x3cdiv class\x3d"lastUnit size1of1 action-bar"\x3e\n                    \x3cdiv class\x3d"flex justify-content--space-between"\x3e\n                        \x3c!--Flex Item--\x3e\n                        \x3cdiv class\x3d"display--none@phone"\x3e\n                            \x3cdiv data-dojo-attach-point\x3d"filterFolderButtons"\x3e\n                                \x3cdiv class\x3d"filter-btn" data-dojo-attach-point\x3d"filterButton"\x3e\x3c!--Filled via JS--\x3e\x3c/div\x3e\n                                \x3cdiv class\x3d"folders-btn" data-dojo-attach-point\x3d"folderButton"\x3e\x3c!--Filled via JS--\x3e\x3c/div\x3e\n                            \x3c/div\x3e\n                        \x3c/div\x3e\n                        \x3c!--Flex Item--\x3e\n                        \x3cdiv class\x3d"margin-left--auto"\x3e\n                            \x3cdiv class\x3d"sort-selector display--inline-block vertical-align--top" data-dojo-attach-point\x3d"sortButton"\x3e\x3c/div\x3e\n                            \x3cdiv class\x3d"display--inline-block" data-dojo-type\x3d"mojo/widgets/content-manager/DisplayToggle" data-dojo-props\x3d"target: \'files-list\', displayGrid: true"\x3e\x3c/div\x3e\n                        \x3c/div\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"line margin-bottom--lv3"\x3e\n                \x3cdiv class\x3d"lastUnit size1of1" data-dojo-attach-point\x3d"filterMessage"\x3e\x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n        \n        \x3c!--  files list --\x3e\n        \x3cdiv class\x3d"overflow--auto padding--lv3 padding-top-bottom--lv0" data-dojo-attach-point\x3d"listContainer" id\x3d"list-container"\x3e\n            \x3cdiv class\x3d"lastGroup size1of1"\x3e\n\n                \x3cdiv data-dojo-attach-point\x3d"filesListContainer"\x3e\n                    \x3cul class\x3d"flex flex-row" data-dojo-attach-point\x3d"fileList" data-dojo-type\x3d"mojo/widgets/content-manager/ContentList" id\x3d"files-list" data-dojo-props\x3d"\'lazy\': true, url:\'${rootUrl}content\', sort: \'created_at\', asc: false"\x3e\x3c/ul\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n            \x3cdiv data-dojo-attach-point\x3d"paginationControls" class\x3d"fm-pagination bg-white position--absolute border-top padding--lv2 !padding-left-right--lv0"\x3e\n                \x3cdiv class\x3d"unit size1of2 nochange"\x3e\n                    \x3cdiv data-dojo-type\x3d"mojo/analytics/parts/PageSizeSelect" data-dojo-props\x3d"target: \'files-list\'"\x3e\x3c/div\x3e\n                \x3c/div\x3e\n\n                \x3cdiv class\x3d"lastUnit paging-controls size1of2 nochange float-right"\x3e\n                    \x3cdiv data-dojo-type\x3d"mojo/analytics/parts/Paging" data-dojo-props\x3d"target: \'files-list\', container: \'list-container\'"\x3e\x3c/div\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n\n            \x3c!--Mobile view of select pane--\x3e\n            \x3cdiv class\x3d"show-mobile"\x3e\n                \x3cdiv data-dojo-type\x3d"mojo/analytics/parts/SelectPane"\n                     data-dojo-props\x3d"target: \'files-list\'"\n                     class\x3d"position--absolute zin-lv2 bottom--0 left-right--0 bg-white border-top padding--lv3 padding-left-right--lv0"\x3e\n\n                    \x3cdiv class\x3d"line"\x3e\n                        \x3cdiv class\x3d"lastUnit size1of2"\x3e\n                            \x3cdiv data-dojo-type\x3d"mojo/widgets/content-manager/DeselectAll" data-dojo-props\x3d"target: \'files-list\'"\x3e\x3c/div\x3e\n                        \x3c/div\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n\x3cdiv data-dojo-type\x3d"mojo/widgets/content-manager/UploadProgressWindow"\x3e\x3c/div\x3e\n',
"url:mojo/widgets/content-manager/templates/SliderPaneWrapper.html":'\x3cdiv class\x3d"c-topSliderPane position--fixed top-bottom--0 left-right--0 bg-white overflow--hidden" style\x3d"display:none;"\x3e\n    \x3cdiv class\x3d"full-width textcolor zin-lv2 position--absolute top--0 selfclear"\x3e\n\n        \x3cdiv class\x3d"flex"\x3e\n            \x3cdiv class\x3d"c-fileMgrSidebarContainer display--none@xlphone"\x3e\n                \x3cp class\x3d"margin-bottom--lv0 padding--lv3 small-meta font-weight--bold"\x3eContent Manager\x3c/p\x3e\n            \x3c/div\x3e\n\n            \x3cdiv class\x3d"flex flex--1 position--relative"\x3e\n                \x3cdiv class\x3d"line full-width"\x3e\n                    \x3cdiv class\x3d"unit size1of2 padding--lv3"\x3e\n                        \x3cdiv class\x3d"full-width flex"\x3e\n                            \x3cdiv class\x3d"flex--1" data-dojo-type\x3d"mojo/analytics/parts/Search" data-dojo-props\x3d"target: \'files-list\', placeholder: \'Search files\'"\x3e\x3c/div\x3e\n                            \x3cbutton class\x3d"button p0 show-phone margin--lv2 margin-top-bottom--lv0 margin-right--lv0" data-dojo-attach-point\x3d"uploadButtonMobile"\x3eUpload\x3c/button\x3e\n                        \x3c/div\x3e\n                    \x3c/div\x3e\n\n                    \x3cdiv class\x3d"lastUnit size1of2 padding--lv0"\x3e\n                        \x3cdiv class\x3d"float--right"\x3e\n                            \x3cdiv class\x3d"float--left padding--lv3 padding-left-right--lv0 display--none@phone"\x3e\n                                \x3cdiv class\x3d"button p0" data-dojo-type\x3d"dijit/form/ComboButton" data-dojo-attach-point\x3d"uploadButton"\x3e\n                                    \x3cspan\x3e\x3ca href\x3d"#"\x3eUpload\x3c/a\x3e\x3c/span\x3e\n                                    \x3cdiv data-dojo-type\x3d"dijit/DropDownMenu"\x3e\n                                        \x3cdiv data-dojo-type\x3d"dijit/MenuItem" data-dojo-attach-point\x3d"importUrlButton"\x3eImport from URL\x3c/div\x3e\n                                    \x3c/div\x3e\n                                \x3c/div\x3e\n                            \x3c/div\x3e\n                        \x3c/div\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n\n                \x3cdiv data-dojo-type\x3d"mojo/analytics/parts/SelectPane"\n                     data-dojo-props\x3d"target: \'files-list\'"\n                     class\x3d"position--absolute zin-lv2 top-bottom--0 left-right--0 bg-white"\x3e\n                    \x3cdiv class\x3d"padding--lv3 padding-right--lv0"\x3e\n                        \x3cdiv class\x3d"float--left display--none@tablet"\x3e\n                            \x3cdiv data-dojo-type\x3d"mojo/widgets/content-manager/DeselectAll" data-dojo-props\x3d"target: \'files-list\'" class\x3d"hide-phone"\x3e\x3c/div\x3e\n                        \x3c/div\x3e\n\n                        \x3cdiv class\x3d"float--right"\x3e\n                            \x3cdiv class\x3d"flex justify-content--flex-end"\x3e\n                                \x3cdiv class\x3d"display--none@phone"\x3e\n                                    \x3cdiv class\x3d"button" data-dojo-type\x3d"dijit/form/ComboButton" data-dojo-attach-point\x3d"viewDetailsButton"\x3e\n                                        \x3cspan\x3e\x3ca href\x3d"#0"\x3eView Details\x3c/a\x3e\x3c/span\x3e\n                                        \x3cdiv data-dojo-type\x3d"dijit/DropDownMenu"\x3e\n                                            \x3cdiv data-dojo-type\x3d"dijit/MenuItem" data-dojo-attach-point\x3d"editButton"\x3eEdit Image\x3c/div\x3e\n                                            \x3cdiv data-dojo-type\x3d"dijit/MenuItem" data-dojo-attach-point\x3d"copyUrlButton"\x3eCopy URL\x3c/div\x3e\n                                        \x3c/div\x3e\n                                    \x3c/div\x3e\n                                    \x3cdiv class\x3d"display--inline-block"\x3e\n                                        \x3cdiv data-dojo-attach-point\x3d"moveToFolderContainer"\x3e\n                                            \x3cdiv class\x3d"folders-btn" data-dojo-attach-point\x3d"moveToFolderButton"\x3e\x3c/div\x3e\n                                        \x3c/div\x3e\n                                    \x3c/div\x3e\n                                \x3c/div\x3e\n                                \x3cbutton class\x3d"button show-phone" data-dojo-attach-point\x3d"copyUrlButtonMobile"\x3eCopy URL\x3c/button\x3e\n                                \x3cbutton class\x3d"button" type\x3d"button" data-dojo-attach-point\x3d"deleteButton"\x3e\n                                    \x3cspan class\x3d"hide-mobile"\x3eDelete\x3c/span\x3e\n                                    \x3cspan class\x3d"show-mobile hide-desktop freddicon trash !margin--lv0"\x3e\x3c/span\x3e\n                                \x3c/button\x3e\n                                \x3cbutton class\x3d"button p1" data-dojo-attach-point\x3d"insertButton"\x3eInsert\x3c/button\x3e\n                            \x3c/div\x3e\n                        \x3c/div\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"flex"\x3e\n                \x3cul class\x3d"linear-list small-meta selfclear" data-dojo-attach-point\x3d"topBarActions"\x3e\n                    \x3cli class\x3d"hover-item noborder"\x3e\n                        \x3ca href\x3d"#" data-dojo-attach-point\x3d"closeLink" class\x3d"c-wizardLink--overlay nolink padding--lv3"\x3e\n                            \x3cspan class\x3d"freddicon cross"\x3e\x3c/span\x3e\n                        \x3c/a\x3e\n                    \x3c/li\x3e\n                \x3c/ul\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"content" class\x3d"c-topSliderPane_content position--absolute left-right--0 bottom--0 full-width"\x3e{_content}\x3c/div\x3e\n    \x3cform\x3e\n        \x3cinput data-dojo-attach-point\x3d"fileBrowse" type\x3d"file" name\x3d"upload-file[]" multiple\x3d"multiple" style\x3d"display: none;"\x3e\n    \x3c/form\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/content-manager/templates/ContentSourceButton.html":'\x3cli class\x3d"c-buttonGroupItem"\x3e\n    \x3cbutton\n        class\x3d"c-buttonGroupButton v-buttonGroupList v-buttonGroupList--animColor full-width text-align--left normal-meta height-inherit border-radius--lv1 padding--lv2"\n        data-mc-value\x3d"{value}" title\x3d"{title}"\x3e\n        \x3cdiv class\x3d"c-media"\x3e\n            \x3cdiv class\x3d"c-mediaImage v-imageThumb--animGrayscale"\x3e\n                \x3cimg src\x3d"/images/files/source-icon-{value}.svg" alt\x3d"{label} icon" class\x3d"v-contentSourceBtnImg"\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"c-mediaBody--centered small-meta"\x3e{label}\x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/button\x3e\n\x3c/li\x3e\n',
"url:mojo/widgets/templates/folder.html":'\x3cdiv class\x3d"folders-btn"\x3e\n    \x3cdiv data-dojo-type\x3d"dijit/form/DropDownButton" data-dojo-attach-point\x3d"dropdown"\x3e\n        \x3cspan\x3e${buttonText}\x3c/span\x3e\n        \x3cdiv data-dojo-type\x3d"dijit/TooltipDialog" data-dojo-attach-point\x3d"foldersMenu" class\x3d"mc-dijitMenu"\x3e\n            \x3ch4 class\x3d"title show-phone alignc full-width !margin--lv0"\x3eFolders\x3c/h4\x3e\n            \x3cul class\x3d"popup-list relative" data-dojo-attach-point\x3d"folderList"\x3e\n                \x3cli style\x3d"display:none;" data-dojo-attach-point\x3d"emptyMessage" class\x3d"empty-message"\x3eYou have no folders\x3c/li\x3e\n                \x3cli data-folder-id\x3d"" data-dojo-attach-point\x3d"allOption"\x3eAll\x3c/li\x3e\n            \x3c/ul\x3e\n\n            \x3cdiv class\x3d"cp-footer" data-dojo-attach-point\x3d"actionsContainer"\x3e\n                \x3cdiv class\x3d"line"\x3e\n                    \x3cdiv class\x3d"${addBtnCss}"\x3e\n                        \x3ca class\x3d"button-small full-width full-height" href\x3d"#" data-dojo-attach-point\x3d"addBtn"\x3eAdd Folder\x3c/a\x3e\n                    \x3c/div\x3e\n                    \x3cdiv class\x3d"${editBtnCss}"\x3e\n                        \x3ca class\x3d"button-small full-width full-height" href\x3d"#" data-dojo-attach-point\x3d"editBtn"\x3e\x3cspan data-dojo-attach-point\x3d"editText"\x3eEdit Folder\x3c/span\x3e\x3c/a\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n\n            \x3cdiv class\x3d"close-popover show-phone cursor-pointer" data-dojo-attach-point\x3d"closeFolderMenu"\x3e\n                \x3cdiv class\x3d"freddicon cross-fill"\x3e\x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:dijit/templates/InlineEditBox.html":'\x3cspan data-dojo-attach-point\x3d"editNode" role\x3d"presentation" class\x3d"dijitReset dijitInline dijitOffScreen"\n\t\x3e\x3cspan data-dojo-attach-point\x3d"editorPlaceholder"\x3e\x3c/span\n\t\x3e\x3cspan data-dojo-attach-point\x3d"buttonContainer"\n\t\t\x3e\x3cbutton data-dojo-type\x3d"./form/Button" data-dojo-props\x3d"label: \'${buttonSave}\', \'class\': \'saveButton\'"\n\t\t\tdata-dojo-attach-point\x3d"saveButton" data-dojo-attach-event\x3d"onClick:save"\x3e\x3c/button\n\t\t\x3e\x3cbutton data-dojo-type\x3d"./form/Button"  data-dojo-props\x3d"label: \'${buttonCancel}\', \'class\': \'cancelButton\'"\n\t\t\tdata-dojo-attach-point\x3d"cancelButton" data-dojo-attach-event\x3d"onClick:cancel"\x3e\x3c/button\n\t\x3e\x3c/span\n\x3e\x3c/span\x3e\n',
"url:mojo/analytics/parts/templates/filterMenu.html":'\x3cdiv\x3e\n    \x3cdiv data-dojo-type\x3d"dijit/form/DropDownButton" data-dojo-attach-point\x3d"dropdown"\x3e\n        \x3cspan\x3eFilter\x3c/span\x3e\n        \x3cdiv data-dojo-type\x3d"dijit/TooltipDialog" data-dojo-attach-point\x3d"filtersMenu" class\x3d"mc-dijitMenu"\x3e\n            \x3ch4 class\x3d"title show-phone alignc full-width !margin--lv0"\x3eFilter\x3c/h4\x3e\n            \x3cul class\x3d"cp-filter filter-list relative" data-dojo-attach-point\x3d"filterList"\x3e\x3c/ul\x3e\n            \x3cdiv\x3e\n                \x3ca href\x3d"#" data-dojo-attach-point\x3d"okBtn" class\x3d"inline-block-i button-small p0"\x3eApply\x3c/a\x3e\n                \x3ca href\x3d"#" data-dojo-attach-point\x3d"resetLink" class\x3d"inline-block-i fwn !padding-left--lv0"\x3eReset\x3c/a\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"close-popover show-phone cursor-pointer" data-dojo-attach-point\x3d"closeFilterMenu"\x3e\n                \x3cdiv class\x3d"freddicon cross-fill"\x3e\x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/analytics/parts/templates/filterMessage.html":'\x3cdiv class\x3d"feedback-block info margin--lv3 !margin-left-right--lv0 !margin-bottom--lv0"\x3e\n    \x3cdiv class\x3d"lastUnit size1of1"\x3e\n        \x3cdiv class\x3d"c-media"\x3e\n            \x3cdiv class\x3d"c-mediaImage v-isFreddicon"\x3e\n                \x3ca href\x3d"#" class\x3d"dim-el" data-dojo-attach-point\x3d"resetFilter"\x3e\x3cspan class\x3d"freddicon cross-fill margin--lv1 !margin-top-bottom--lv0"\x3e\x3c/span\x3e\x3c/a\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"c-mediaBody--centered"\x3e\n                \x3cp data-dojo-attach-point\x3d"message"\x3e\x3c/p\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',
"url:mojo/widgets/templates/NoDataBlock.html":'\x3cdiv class\x3d"c-noDataBlock text-align--center border-gray border-radius--lv2"\x3e\n    \x3cdiv data-dojo-attach-point\x3d"containerNode"\x3e\n        \x3cdiv class\x3d"c-noDataBlock_icon" style\x3d"background: url(/css/icons/no-data/${!icon}.svg)" data-dojo-attach-point\x3d"noDataIcon"\x3e\x3c/div\x3e\n        \x3ch2 class\x3d"c-noDataBlock_title" data-dojo-attach-point\x3d"noDataTitle"\x3e${!title}\x3c/h2\x3e\n        \x3cp class\x3d"c-noDataBlock_message" data-dojo-attach-point\x3d"noDataMessage"\x3e${!message}\x3c/p\x3e\n        \x3ca href\x3d"${!buttonLink}" class\x3d"c-noDataBlock_action button p0 float--none" data-dojo-attach-point\x3d"noDataButton"\x3e${!buttonText}\x3c/a\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/content-manager/templates/ContentListItem.html":'\x3cli class\x3d"c-fileItem"\x3e\n    \x3clabel data-dojo-attach-point\x3d"itemLabel" class\x3d"padding--lv0 position--relative full-width full-height cursor--pointer"\x3e\n        \x3c!-- Checkbox --\x3e\n        \x3cinput data-dojo-attach-point\x3d"itemInput" class\x3d"u-hide@GridActive position--absolute top-0 left-right--0 margin--lv3" type\x3d"checkbox" data-dojo-type\x3d"mojo/analytics/parts/SelectCheckBox" value\x3d"${contentId}"\x3e\n\n        \x3c!-- Grid view --\x3e\n        \x3cdiv data-dojo-attach-point\x3d"gridImage" class\x3d"c-fileGridItem u-hide@listActive c-fileTypeIcons--large full-height"\x3e\n            \x3cdiv class\x3d"c-fauxCheckmark c-fauxCheckmark--checked c-fileGridItemCheckmark position--absolute top-0 left-right--0 margin--lv2"\x3e\x3c/div\x3e\n            \x3cdiv class\x3d"c-fileGridItemImage full-height flex flex-direction--column justify-content--center align-items--center"\x3e\n                \x3cdiv class\x3d"flex-shrink--0 full-width text-align--center"\x3e\n                    \x3cimg src\x3d"${thumbnailUrl}" alt\x3d"${name}" data-dojo-attach-point\x3d"gridImageNode" class\x3d"c-fileGridItemImage_img"\x3e\n                \x3c/div\x3e\n                \x3cdiv class\x3d"position--absolute top-bottom--0 left-right--0 c-fileTypeIcons_icon ${contentType}"\x3e\x3c/div\x3e\n                \x3cdiv class\x3d"position--absolute top-bottom--0 left-right--0 c-fileGridItemImage_overlay bg-white"\x3e\x3c/div\x3e\n            \x3c/div\x3e\n            \x3cspan data-dojo-attach-point\x3d"gridBadge" class\x3d"badge v-textColorWhite v-versionsBadgeBackground position--absolute bottom--0 right--0 margin--lv2"\x3e${numVersions}\x3c/span\x3e\n        \x3c/div\x3e\n\n        \x3c!-- List view --\x3e\n        \x3cdiv class\x3d"u-hide@GridActive v-buttonGroupMenuItem border-radius--lv2 padding--lv2 c-fileTypeIcons--small"\x3e\n            \x3cdiv class\x3d"c-media margin--lv8 margin-top-bottom--lv0 margin-right--lv0 padding--lv2 padding-top-bottom--lv0 padding-left-right--lv0"\x3e\n                \x3cdiv class\x3d"c-mediaImage position--relative"\x3e\n                    \x3cdiv class\x3d"c-listViewImgThumbnail v-bg-gray-lightest border-gray position--relative"\x3e\n                        \x3cdiv data-dojo-attach-point\x3d"listImageNode" class\x3d"position--absolute top-bottom--0 left-right--0 v-containedBackgroundImage" style\x3d"background-image: url(${thumbnailUrl});"\x3e\x3c/div\x3e\n                        \x3cdiv class\x3d"position--absolute top-bottom--0 left-right--0 c-fileTypeIcons_icon ${contentType}"\x3e\x3c/div\x3e\n                    \x3c/div\x3e\n                    \x3cspan data-dojo-attach-point\x3d"listBadge" class\x3d"badge c-listViewVersionBadge v-textColorWhite v-versionsBadgeBackground position--absolute bottom--0 right--0"\x3e${numVersions}\x3c/span\x3e\n                \x3c/div\x3e\n                \x3cdiv class\x3d"c-mediaBody--centered"\x3e\n                    \x3cp class\x3d"margin-bottom--lv0 small-meta word-wrap--break-all"\x3e${name}\x3c/p\x3e\n                    \x3cp class\x3d"margin-bottom--lv0 font-weight--normal small-meta"\x3e${meta}\x3c/p\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/label\x3e\n\x3c/li\x3e\n',
"url:mojo/widgets/content-manager/templates/UrlImportDialog.html":'\x3cdiv\x3e\n    \x3cdiv class\x3d"dijitDialogPaneContentArea"\x3e\n        \x3cinput type\x3d"hidden" id\x3d"image-url" name\x3d"image-url" value\x3d"{$image[\'url\']}"/\x3e\n        \x3cdiv class\x3d"field-wrapper"\x3e\n            \x3clabel for\x3d"import"\x3eImport a file from a URL:\x3c/label\x3e\n            \x3cinput type\x3d"text" class\x3d"av-text !margin-bottom--lv0"  data-dojo-attach-point\x3d"importInput" id\x3d"import"\x3e\n        \x3c/div\x3e\n        \x3cdiv class\x3d"dijitDialogPaneActionBar"\x3e\n            \x3ca class\x3d"button p0" data-dojo-attach-point\x3d"importButton"\x3eImport\x3c/a\x3e\n            \x3ca class\x3d"small-meta fwb" href\x3d"javascript:;" data-dojo-attach-point\x3d"cancelLink"\x3eCancel\x3c/a\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/content-manager/templates/RenameDialog.html":'\x3cdiv\x3e\n    \x3cdiv class\x3d"dijitDialogPaneContentArea"\x3e\n\n        \x3cinput type\x3d"hidden" name\x3d"save-type" id\x3d"save-type" value\x3d"new" /\x3e\n        \x3clabel for\x3d"file-name"\x3eRename file to:\x3c/label\x3e\n        \x3cinput type\x3d"text" data-dojo-attach-point\x3d"nameInput" name\x3d"file-name" /\x3e\n\n        \x3cdiv class\x3d"dijitDialogPaneActionBar"\x3e\n            \x3ca class\x3d"button p0" data-dojo-attach-point\x3d"renameButton"\x3eRename\x3c/a\x3e\n            \x3ca href\x3d"#" data-dojo-attach-point\x3d"cancelButton" class\x3d"small-meta fwb"\x3eCancel\x3c/a\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/content-manager/templates/DeleteDialog.html":'\x3cdiv\x3e\n    \x3cdiv class\x3d"dijitDialogPaneContentArea"\x3e\n        \x3cp class\x3d"!margin--lv0" data-dojo-attach-point\x3d"deleteText"\x3eAre you sure you want to delete ${pluralizedFile}? This will not affect draft or sent campaigns, or active automations that include or link to ${pluralizedFile}.\x3c/p\x3e\n        \x3cdiv class\x3d"dijitDialogPaneActionBar"\x3e\n            \x3cbutton data-dojo-attach-point\x3d"deleteButton" type\x3d"button" class\x3d"button p0"\x3eDelete\x3c/button\x3e\n            \x3ca href\x3d"#" data-dojo-attach-point\x3d"cancelButton" class\x3d"small-meta fwb"\x3eCancel\x3c/a\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/content-manager/templates/DetailsView.html":'\x3cdiv class\x3d"c-detailViewBackground position--fixed top-bottom--0 left-right--0 overflow-y--auto overflow-x--hidden dim2 selfclear" role\x3d"search" aria-hidden\x3d"true"\x3e\n    \x3cdiv class\x3d"c-detailViewContainer flex flex-wrap--wrap full-height"\x3e\n\n        \x3c!--Item Preview--\x3e\n        \x3cdiv class\x3d"c-detailViewItemPreview flex flex-direction--column"\x3e\n\n            \x3c!--Action bar--\x3e\n            \x3cdiv class\x3d"flex justify-content--space-between padding--lv2 full-width"\x3e\n\n                \x3c!-- Close Overlay --\x3e\n                \x3cbutton class\x3d"p0" data-dojo-attach-point\x3d"closeButton"\x3eBack\x3c/button\x3e\n\n                \x3c!--Flex item--\x3e\n                \x3cnav\x3e\n                    \x3cbutton class\x3d"button" data-dojo-attach-point\x3d"editImageBtn"\x3eEdit image\x3c/button\x3e\n                    \x3cbutton class\x3d"button" data-dojo-attach-point\x3d"copyUrlBtn"\x3eCopy URL\x3c/button\x3e\n                    \x3cbutton class\x3d"button p1 margin-right--lv0" data-dojo-attach-point\x3d"insertBtn"\x3eInsert\x3c/button\x3e\n                \x3c/nav\x3e\n            \x3c/div\x3e\n\n            \x3c!--Image Container--\x3e\n            \x3cdiv class\x3d"flex flex--1 flex-direction--column padding-top--lv2 padding-right--lv2 padding-left--lv2 padding-bottom--lv8"\x3e\n                \x3cdiv class\x3d"flex flex--1 position--relative full-height full-width"\x3e\n                    \x3cimg data-dojo-attach-point\x3d"imageNode" src\x3d"" class\x3d"position--absolute margin--auto max-height--100 max-width--100 top-bottom--0 left-right--0"/\x3e\n\n                    \x3cdiv data-dojo-attach-point\x3d"fileMetaContainer" class\x3d"flex align-items--center justify-content--center position--absolute margin--auto max-height--100 max-width--100 top-bottom--0 left-right--0"\x3e\n                        \x3cdiv class\x3d"text-align--center"\x3e\n                            \x3cimg data-dojo-attach-point\x3d"fileIcon" src\x3d"" class\x3d"c-fileTypeIcon--large margin-bottom--lv2"/\x3e\n                            \x3cp data-dojo-attach-point\x3d"fileDescription" class\x3d"v-textColorWhite large-meta font-weight--bold full-width word-wrap--break-all"\x3e\x3c/p\x3e\n                        \x3c/div\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n\n        \x3c/div\x3e\n\n        \x3c!--Item Details Pane--\x3e\n        \x3cdiv class\x3d"c-detailViewDetailPane flex flex-direction--column bg-white"\x3e\n            \x3cdiv class\x3d"border-bottom"\x3e\n                \x3cdiv class\x3d"margin--lv4 margin-left-right--lv0 padding--lv4 padding-top-bottom--lv0"\x3e\n                    \x3cp data-dojo-attach-point\x3d"nameNode" class\x3d"font-weight--bold word-wrap--break-all"\x3e\x3c/p\x3e\n\n                    \x3cnav data-dojo-attach-point\x3d"actionLinks" class\x3d"font-weight--bold small-meta"\x3e\n                        \x3ca href\x3d"#" data-dojo-attach-point\x3d"renameLink"\x3eRename\x3c/a\x3e\n                        \x26middot;\n                        \x3ca href\x3d"#" download\x3d"" data-dojo-attach-point\x3d"downloadNode"\x3eDownload\x3c/a\x3e\n                        \x26middot;\n                        \x3ca href\x3d"#" data-dojo-attach-point\x3d"deleteLink"\x3eDelete\x3c/a\x3e\n                    \x3c/nav\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n\n            \x3cdiv class\x3d"border-bottom"\x3e\n                \x3cdiv data-dojo-attach-point\x3d"properties" class\x3d"margin--lv4 margin-left-right--lv0 padding--lv4 padding-top-bottom--lv0"\x3e\x3c/div\x3e\n            \x3c/div\x3e\n\n            \x3cdiv data-dojo-attach-point\x3d"revisionContainer" class\x3d"margin--lv4 margin-left-right--lv0 padding--lv3 padding-top-bottom--lv0 hide"\x3e\n                \x3cp data-dojo-attach-point\x3d"revisionLabel" class\x3d"font-weight--bold margin-bottom--lv3 padding--lv1 padding-top-bottom--lv0"\x3e\x3c/p\x3e\n                \x3cdiv data-dojo-attach-point\x3d"revisions"\x3e\x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/content-manager/templates/VersionButton.html":'\x3cli class\x3d"c-buttonGroupItem margin-bottom--lv1"\x3e\n    \x3cbutton data-mc-value\x3d"{value}" class\x3d"c-buttonGroupButton v-buttonGroupMenuItem full-width text-align--left height-inherit padding--lv1 border-radius--lv1 text-transform--none"\x3e\n        \x3cdiv class\x3d"c-media"\x3e\n            \x3cdiv class\x3d"c-mediaImage--centered"\x3e\n                \x3cdiv class\x3d"v-contentVariantBtnImg border-gray bg-white" style\x3d"background-image: url({thumbnailUrl});  background-position: 50% 50%; background-size: contain; background-repeat: no-repeat"\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"c-mediaBody"\x3e\n                \x3cp class\x3d"margin-bottom--lv0 small-meta"\x3e{createdAt}\x3c/p\x3e\n                \x3cp class\x3d"margin-bottom--lv0 font-weight--normal small-meta"\x3e{meta}\x3c/p\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/button\x3e\n\x3c/li\x3e\n',
"url:mojo/widgets/content-manager/templates/PropertyRow.html":'\x3cp class\x3d"small-meta margin-bottom--lv1 full-width"\x3e\n    ${label}\n    \x3cspan class\x3d"float--right font-weight--bold"\x3e${value}\x3c/span\x3e\n\x3c/p\x3e\n',"url:mojo/widgets/content-manager/templates/UploadProgressWindow.html":'\x3cdiv class\x3d"file-upload bg-white hide"\x3e\n    \x3cdiv class\x3d"header-bar selfclear padding--lv2 small-meta fwb"\x3e\n        \x3cspan data-dojo-attach-point\x3d"title"\x3e\x3c/span\x3e\n        \x3ca href\x3d"#" data-dojo-attach-point\x3d"minimizeButton" style\x3d"display: none;"\x3e\x3cspan data-dojo-attach-point\x3d"minToggle" class\x3d"freddicon menu-down float-right"\x3e\x3c/span\x3e\x3c/a\x3e\n        \x3ca href\x3d"#" data-dojo-attach-point\x3d"closeButton"\x3e\x3cspan class\x3d"freddicon cross-fill float-right"\x3e\x3c/span\x3e\x3c/a\x3e\n    \x3c/div\x3e\n\n    \x3cul class\x3d"upload-list" data-dojo-attach-point\x3d"uploadList"\x3e\x3c/ul\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/content-manager/templates/UploadProgressItem.html":'\x3cli class\x3d"selfclear padding--lv2 border-bottom"\x3e\n    \x3cdiv class\x3d"group size2of3"\x3e\n        \x3cdiv data-dojo-attach-point\x3d"thumbnail" class\x3d"thumbnail bg-gray border-gray float-left margin--lv2 !margin-top-bottom--lv0 !margin-left--lv0"\x3e\x3c/div\x3e\n        \x3cp class\x3d"!margin--lv0" data-dojo-attach-point\x3d"fileName"\x3e\x3c/p\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"lastGroup size1of3 alignr"\x3e\n        \x3cdiv class\x3d"group size2of3"\x3e\n            \x3cdiv data-dojo-attach-point\x3d"progressMeter" class\x3d"meter !margin-right--lv0"\x3e\n                \x3cspan class\x3d"border-radius--lv3" data-dojo-attach-point\x3d"progress" style\x3d"width:0%"\x3e\x3c/span\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n        \x3cdiv class\x3d"lastGroup"\x3e\n            \x3cp class\x3d"alignr !margin--lv0"\x3e\x3ca class\x3d"capitalize" data-dojo-attach-point\x3d"link" href\x3d"#"\x3e\x3c/a\x3e\x3c/p\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/li\x3e\n',
"url:mojo/widgets/content-manager/templates/CKContentForm.html":'\x3cdiv class\x3d"line main-section padding--lv3" style\x3d"overflow: auto;"\x3e\n    \x3cdiv class\x3d"header"\x3e\n        \x3ca data-dojo-attach-point\x3d"backToFilesBtn" class\x3d"!margin-bottom--lv3" href\x3d"#"\x3e\x3cspan class\x3d"freddicon menu-left"\x3e\x3c/span\x3eBack to files\x3c/a\x3e\n        \x3ch4 data-dojo-attach-point\x3d"imageTitle"\x3e\x3c/h4\x3e\n    \x3c/div\x3e\n\n    \x3cdiv class\x3d"unit size1of2 padding--lv0"\x3e\n        \x3ch4 class\x3d"!margin-bottom--lv2"\x3eEdit Image\x3c/h4\x3e\n        \x3cdiv class\x3d"selfclear !padding--lv0"\x3e\n            \x3cdiv class\x3d"unit size1of4 !padding-left--lv0"\x3e\n                \x3clabel\x3eWidth\x3c/label\x3e\n                \x3cinput class\x3d"!margin-bottom--lv0" type\x3d"text" data-dojo-attach-point\x3d"imageWidth" name\x3d"image-width" /\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"unit size1of4 !padding-left--lv0"\x3e\n                \x3clabel\x3eHeight\x3c/label\x3e\n                \x3cinput class\x3d"!margin-bottom--lv0" type\x3d"text" data-dojo-attach-point\x3d"imageHeight" name\x3d"image-height" /\x3e\n            \x3c/div\x3e\n\n            \x3cdiv\x3e\n            \x3clabel\x3e\x26nbsp;\x3c/label\x3e\n            \x3clabel class\x3d"lastUnit size2of4 checkbox-group padding--lv1 !margin-bottom--lv0"\x3e\n                \x3cinput data-dojo-type\x3d"dijit/form/CheckBox" data-dojo-attach-point\x3d"proportionCheckbox" type\x3d"checkbox" value\x3d"1" checked /\x3eKeep proportions\n            \x3c/label\x3e\n            \x3c/div\x3e\n\n            \x3cdiv class\x3d"!margin-bottom--lv4"\x3e\n                \x3ca href\x3d"#" class\x3d"small-meta" data-dojo-attach-point\x3d"resetImageDimensionsBtn"\x3eReset image dimensions\x3c/a\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3cdiv class\x3d"section clear !margin-bottom--lv2"\x3e\n            \x3cdiv\x3e\n                \x3clabel\x3e\n                    Link to URL\n                    \x3ca href\x3d"#" class\x3d"small-meta float-right" data-dojo-attach-point\x3d"linkToSelfBtn"\x3eUse image URL\x3c/a\x3e\n                \x3c/label\x3e\n                \x3cinput type\x3d"url" data-dojo-attach-point\x3d"ckImageLink" name\x3d"image-link" class\x3d"!margin-bottom--lv0" /\x3e\n            \x3c/div\x3e\n            \x3clabel class\x3d"checkbox-group margin--lv2 !margin-left-right--lv0 !margin-bottom--lv0"\x3e\n                \x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"ckLinkTarget" name\x3d"image-target" data-dojo-type\x3d"dijit/form/CheckBox"/\x3eOpen in a new window\n            \x3c/label\x3e\n        \x3c/div\x3e\n\n\n        \x3cdiv class\x3d"section"\x3e\n            \x3ca href\x3d"#" class\x3d"section" data-dojo-attach-point\x3d"showMoreStylesBtn"\x3eshow image style options\x3c/a\x3e\n        \x3c/div\x3e\n        \x3cdiv class\x3d"hide" data-dojo-attach-point\x3d"moreImageStyles"\x3e\n            \x3cdiv class\x3d"section"\x3e\n                \x3clabel\x3eImage border\x3c/label\x3e\n                \x3cinput type\x3d"number" data-dojo-attach-point\x3d"ckBorderWidth" name\x3d"image-border-width"  maxlength\x3d"3" class\x3d"!margin-bottom--lv0" style\x3d"width:30px" /\x3e\n                \x3cspan class\x3d"small-meta" style\x3d"margin-right: 18px;"\x3epx\x3c/span\x3e\n                \x3cselect data-dojo-type\x3d"dijit/form/Select" data-dojo-attach-point\x3d"ckBorderStyle" name\x3d"image-border-style" class\x3d"!margin-bottom--lv0" style\x3d"width:120px;"\x3e\n                    \x3coption value\x3d"none"\x3enone\x3c/option\x3e\n                    \x3coption value\x3d"solid"\x3esolid\x3c/option\x3e\n                    \x3coption value\x3d"dotted"\x3edotted\x3c/option\x3e\n                    \x3coption value\x3d"dashed"\x3edashed\x3c/option\x3e\n                    \x3coption value\x3d"double"\x3edouble\x3c/option\x3e\n                    \x3coption value\x3d"groove"\x3egroove\x3c/option\x3e\n                    \x3coption value\x3d"outset"\x3eoutset\x3c/option\x3e\n                    \x3coption value\x3d"inset"\x3einset\x3c/option\x3e\n                    \x3coption value\x3d"ridge"\x3eridge\x3c/option\x3e\n                \x3c/select\x3e\n                \x3cinput type\x3d"text" data-dojo-type\x3d"dijit/form/TextBox" data-dojo-attach-point\x3d"ckBorderColor" name\x3d"image-border-color" class\x3d"size1of4 !margin-bottom--lv0 color-picker" style\x3d"width:100px" /\x3e\n                \x3cp class\x3d"small-meta"\x3e(border width, style \x26amp; color)\x3c/p\x3e\n            \x3c/div\x3e\n\n            \x3cdiv class\x3d"section"\x3e\n                \x3cdiv class\x3d"unit size1of3 clear !padding-left--lv0"\x3e\n                    \x3clabel\x3eAlign\x3c/label\x3e\n                    \x3cselect data-dojo-attach-point\x3d"ckImageAlign" data-dojo-type\x3d"dijit/form/Select" name\x3d"image-align"\x3e\n                        \x3coption value\x3d"none"\x3enone\x3c/option\x3e\n                        \x3coption value\x3d"left"\x3eleft\x3c/option\x3e\n                        \x3coption value\x3d"center"\x3ecenter\x3c/option\x3e\n                        \x3coption value\x3d"right"\x3eright\x3c/option\x3e\n                    \x3c/select\x3e\n                \x3c/div\x3e\n                \x3cdiv class\x3d"unit size1of3 !padding-left--lv0"\x3e\n                    \x3clabel\x3eAlt text\x3c/label\x3e\n                    \x3cdiv class\x3d"field-wrapper"\x3e\n                        \x3cinput data-dojo-attach-point\x3d"ckImageAlt" type\x3d"text" name\x3d"$image[\'alt\']" name\x3d"image-alt" /\x3e\n                        \x3cdiv class\x3d"field-help always-show"\x3eAlt text shows when images are disabled.\x3c/div\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n\n            \x3cdiv class\x3d"section size1of2"\x3e\n                \x3clabel\x3eMargin\x3c/label\x3e\n                \x3cdiv class\x3d"unit size1of4 !padding-left--lv0"\x3e\n                    \x3clabel  class\x3d"small-meta"\x3etop\x3c/label\x3e \n                    \x3cinput type\x3d"text" data-dojo-attach-point\x3d"ckMarginTop" class\x3d"!margin-bottom--lv0" name\x3d"image-margin-t" maxlength\x3d"3" size\x3d"3"/\x3e\n                \x3c/div\x3e\n                \x3cdiv class\x3d"unit size1of4 !padding-left--lv0"\x3e\n                    \x3clabel class\x3d"small-meta"\x3eright\x3c/label\x3e\n                    \x3cinput type\x3d"text" data-dojo-attach-point\x3d"ckMarginRight" class\x3d"!margin-bottom--lv0" name\x3d"image-margin-r" maxlength\x3d"3"/\x3e\n                \x3c/div\x3e\n                \x3cdiv class\x3d"unit size1of4 !padding-left--lv0"\x3e\n                    \x3clabel  class\x3d"small-meta"\x3ebottom\x3c/label\x3e\n                    \x3cinput type\x3d"text" data-dojo-attach-point\x3d"ckMarginBottom" class\x3d"!margin-bottom--lv0" name\x3d"image-margin-b" maxlength\x3d"3"/\x3e\n                \x3c/div\x3e\n                \x3cdiv class\x3d"unit size1of4 !padding-left--lv0"\x3e\n                    \x3clabel class\x3d"small-meta"\x3eleft\x3c/label\x3e\n                    \x3cinput type\x3d"text" data-dojo-attach-point\x3d"ckMarginLeft"  class\x3d"!margin-bottom--lv0" name\x3d"image-margin-l" maxlength\x3d"3"/\x3e\n                \x3c/div\x3e\n                \x3cp class\x3d"small-meta clear"\x3eValues should be numbers. Type 15 in the \'right\' box to add 15 pixels on the right.\x3c/p\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n\n        \x3cdiv class\x3d"clear"\x3e\n            \x3ca data-dojo-attach-point\x3d"saveBtn" class\x3d"button p0"\x3eSave \x26amp; Insert Image\x3c/a\x3e\n        \x3c/div\x3e\n\n    \x3c/div\x3e\n\n    \x3cdiv class\x3d"lastUnit size1of2"\x3e\n        \x3cdiv data-dojo-attach-point\x3d"ckImage" style\x3d"background-size: contain; background-color: #f1f1f1; width: 300px; height: 300px; border: 1px solid #e0e0e0; background-position: 50% 50%; background-repeat: no-repeat;"\x3e\x3c/div\x3e\n        \x3cdiv class\x3d"padding--lv3 !padding-left-right--lv0"\x3e\n            \x3cbutton class\x3d"button-small" data-dojo-attach-point\x3d"editImageBtn"\x3eEdit with photo editor\x3c/button\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/content-manager/templates/CKContentFormWrapper.html":'\x3cdiv class\x3d"c-topSliderPane position--fixed top-bottom--0 left-right--0 bg-white overflow--hidden overflow--scroll" style\x3d"display:none;"\x3e\n    \x3cdiv class\x3d"full-width textcolor zin-lv2 position--absolute top--0 selfclear border-bottom bg-gray"\x3e\n\n        \x3cdiv class\x3d"flex"\x3e\n            \x3cdiv class\x3d"c-fileMgrSidebarContainer display--none@tablet"\x3e\n                \x3cp class\x3d"margin-bottom--lv0 padding--lv3 small-meta font-weight--bold"\x3eContent Manager\x3c/p\x3e\n            \x3c/div\x3e\n\n            \x3cdiv class\x3d"flex flex--1 position--relative"\x3e\n                \x3cdiv class\x3d"line full-width"\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"flex"\x3e\n                \x3cul class\x3d"linear-list small-meta selfclear" data-dojo-attach-point\x3d"topBarActions"\x3e\n                    \x3cli class\x3d"hover-item noborder"\x3e\n                        \x3ca href\x3d"#" data-dojo-attach-point\x3d"closeLink" class\x3d"c-wizardLink--overlay nolink padding--lv3"\x3e\n                            \x3cspan class\x3d"freddicon cross"\x3e\x3c/span\x3e\n                        \x3c/a\x3e\n                    \x3c/li\x3e\n                \x3c/ul\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"content" class\x3d"c-topSliderPane_content position--absolute left-right--0 bottom--0 full-width"\x3e{_content}\x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/templates/ChatButtonZopim.html":'\x3cdiv data-dojo-attach-point\x3d"chatButtonContainer" style\x3d"display:none;"\x3e\n    \x3ca href\x3d"javascript:;" data-dojo-attach-point\x3d"chatWithUs" class\x3d"button js-hide" target\x3d"_blank"\x3eChat with us\x3c/a\x3e\n\x3c/div\x3e\n',"url:mojo/widgets/templates/coachmark.html":'\x3cdiv class\x3d"coachmark-item"\x3e\n    \x3cdiv class\x3d"coachmark block"\x3e\n        \x3cdiv class\x3d"head alignc"\x3e\n            \x3ch4 class\x3d"!margin--lv0"\x3e{header}\x3c/h4\x3e\n        \x3c/div\x3e\n        \x3cdiv class\x3d"msg-wrap"\x3e\n            \x3cp class\x3d"msg h4 fwl !margin--lv0 full-width"\x3e{body}\x3c/p\x3e\n            \x3cp class\x3d"btn !margin--lv0 selfclear full-width"\x3e\n                \x3cbutton class\x3d"btn button !margin--lv0 next float-right next-button"\x3e{actionText}\x3c/button\x3e\n            \x3c/p\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',
"url:mojo/widgets/templates/CodeEditor.html":'\x3cdiv\x3e\n    \x3cdiv class\x3d"c-codeEditor full-width pos-lr0 zin-lv1" data-dojo-attach-point\x3d"codeEditor"\x3e\n        \x3ctextarea data-dojo-attach-point\x3d"editorTextarea" name\x3d"html" id\x3d"html"\x3e\x3c/textarea\x3e\n        \x3cdiv class\x3d"c-actionButtonsPane"\x3e\n            \x3cbutton data-dojo-attach-point\x3d"saveButton" title\x3d"Save changes. Hit \'ctrl + s\' (or \'cmd + s\' on a Mac) to save." class\x3d"button p0 save-button"\x3eSave\x3c/button\x3e\n            \x3ca class\x3d"button !margin-right--lv0 hide-phone" data-dojo-attach-point\x3d"fileManagerButton"\x3eContent Manager\x3c/a\x3e\n            \x3cbutton class\x3d"button float-right margin--lv2 !margin-right--lv0" data-dojo-attach-point\x3d"fullScreenButton"\x3e\x3cspan class\x3d"freddicon maximize !margin-right--lv0"\x3e\x3c/span\x3e\x3c/button\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/templates/confirmInput.html":'\x3cdiv\x3e\n    \x3c!-- Google\'s notranslate class is applied to prevent the required word from being translated to one that wont pass validation --\x3e\n    \x3clabel for\x3d"${id}-confirm-text"\x3eType \x3cspan class\x3d"notranslate"\x3e${confirm}\x3c/span\x3e to confirm\x3c/label\x3e\n    \x3cdiv class\x3d"field-wrapper"\x3e\n        \x3cinput type\x3d"text" class\x3d"!margin-bottom--lv0" name\x3d"confirm-text" id\x3d"${id}-confirm-text" value\x3d"" tabindex\x3d"1" data-dojo-attach-point\x3d"confirmInput"/\x3e\n        \x3cdiv class\x3d"field-help !margin--lv0"\x3e${helptip}\x3c/div\x3e\n        \x3cspan class\x3d"invalid-error !margin-top-bottom--lv0" style\x3d"display:none;" data-dojo-attach-point\x3d"confirmError"\x3e\x3c/span\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',
"url:mojo/widgets/templates/contact-support-form.html":'\x3cdiv class\x3d"!padding-left-right--lv0 !padding-bottom--lv0"\x3e\n    \x3cform data-dojo-attach-point\x3d"formNode" action\x3d"/kb/contact-form-post" method\x3d"post" enctype\x3d"multipart/form-data" novalidate\x3e\n\n        \x3c!-- Related to --\x3e\n        \x3cdiv class\x3d"line"\x3e\n            \x3cdiv class\x3d"lastUnit size1of2"\x3e\n                \x3cfieldset\x3e\n                    \x3clabel for\x3d"topic"\x3eWhat is your question related to?\x3c/label\x3e\n                    \x3cselect name\x3d"topic" id\x3d"topic" class\x3d"small-select size1of1" maxheight\x3d"-1" data-dojo-type\x3d"dijit/form/Select"\x3e\n                        \x3coption value\x3d"other"\x3eSelect a topic\x3c/option\x3e\n                        \x3coption value\x3d"dashboard"\x3eMain MailChimp Dashboard\x3c/option\x3e\n                        \x3coption value\x3d"lists"\x3eList Imports/Management\x3c/option\x3e\n                        \x3coption value\x3d"signup-forms"\x3eSignup Forms\x3c/option\x3e\n                        \x3coption value\x3d"campaigns"\x3eCampaigns\x3c/option\x3e\n                        \x3coption value\x3d"templates"\x3eTemplates\x3c/option\x3e\n                        \x3coption value\x3d"reports"\x3eReports\x3c/option\x3e\n                        \x3coption value\x3d"accounts"\x3eAccounts\x3c/option\x3e\n                        \x3coption value\x3d"account-settings"\x3eAccount Settings\x3c/option\x3e\n                        \x3coption value\x3d"account-upgrades"\x3eAccount Upgrades\x3c/option\x3e\n                        \x3coption value\x3d"account-login"\x3eAccount login and recovery\x3c/option\x3e\n                        \x3coption value\x3d"automation-rss"\x3eAutomation and RSS\x3c/option\x3e\n                        \x3coption value\x3d"integrations"\x3eIntegrations\x3c/option\x3e\n                        \x3coption value\x3d"billing"\x3eBilling Assistance\x3c/option\x3e\n                        \x3coption value\x3d"compliance"\x3eCompliance\x3c/option\x3e\n                        \x3coption value\x3d"other"\x3eOther\x3c/option\x3e\n                    \x3c/select\x3e\n                \x3c/fieldset\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3c!-- Recommended articles data-element\x3d"recommended-articles" --\x3e\n        \x3cdiv class\x3d"line !margin-bottom--lv4 hide" id\x3d"recommended-articles" style\x3d"min-height: 120px;"\x3e\n            \x3cdiv class\x3d"lastUnit size1of1"\x3e\n                \x3clabel\x3eThese articles might be able to resolve your issue\x3c/label\x3e\n                \x3c!--  Main MailChimp Dashboard --\x3e\n                \x3cul data-element\x3d"dashboard" style\x3d"display:none;"\x3e\n                    \x3cli\x3e\x3ca href\x3d"http://kb.mailchimp.com/accounts/account-setup/getting-started-with-mailchimp" target\x3d"_blank"\x3eGetting Started with MailChimp\x3c/a\x3e\x3c/li\x3e\n                    \x3cli\x3e\x3ca href\x3d"http://kb.mailchimp.com/lists/signup-forms/create-signup-forms-and-response-emails" target\x3d"_blank"\x3eCreate Signup Forms and Response Emails\x3c/a\x3e\x3c/li\x3e\n                    \x3cli\x3e\x3ca href\x3d"http://kb.mailchimp.com/integrations/facebook/integrate-facebook-with-mailchimp" target\x3d"_blank"\x3eIntegrate Facebook with MailChimp\x3c/a\x3e\x3c/li\x3e\n                    \x3cli\x3e\x3ca href\x3d"http://kb.mailchimp.com/accounts/management/about-browser-cookies-and-cache" target\x3d"_blank"\x3eAbout Browser Cookies and Cache\x3c/a\x3e\x3c/li\x3e\n                \x3c/ul\x3e\n                \x3c!-- Lists Articles --\x3e\n                \x3cul data-element\x3d"lists" style\x3d"display:none;"\x3e\n                    \x3cli\x3e\x3ca href\x3d"http://kb.mailchimp.com/lists/growth/getting-started-with-lists" target\x3d"_blank"\x3eGetting Started with Lists\x3c/a\x3e\x3c/li\x3e\n                    \x3cli\x3e\x3ca href\x3d"http://kb.mailchimp.com/lists/growth/create-a-new-list" target\x3d"_blank"\x3eCreate a New List\x3c/a\x3e\x3c/li\x3e\n                    \x3cli\x3e\x3ca href\x3d"http://kb.mailchimp.com/lists/growth/import-subscribers-to-a-list" target\x3d"_blank"\x3eImport Subscribers to a List\x3c/a\x3e\x3c/li\x3e\n                    \x3cli\x3e\x3ca href\x3d"http://kb.mailchimp.com/lists/groups-and-segments/about-segments-and-groups" target\x3d"_blank"\x3eAbout Segments and Groups\x3c/a\x3e\x3c/li\x3e\n                \x3c/ul\x3e\n                \x3c!-- Signup forms --\x3e\n                \x3cul data-element\x3d"signup-forms" style\x3d"display:none;"\x3e\n                    \x3cli\x3e\x3ca href\x3d"http://kb.mailchimp.com/lists/signup-forms/create-signup-forms-and-response-emails" target\x3d"_blank"\x3eCreate signup forms and response emails\x3c/a\x3e\x3c/li\x3e\n                    \x3cli\x3e\x3ca href\x3d"http://kb.mailchimp.com/lists/signup-forms/share-your-signup-form" target\x3d"_blank"\x3eShare your signup form\x3c/a\x3e\x3c/li\x3e\n                    \x3cli\x3e\x3ca href\x3d"http://kb.mailchimp.com/lists/signup-forms/add-a-signup-form-to-your-website" target\x3d"_blank"\x3eAdd a signup form to your website\x3c/a\x3e\x3c/li\x3e\n                    \x3cli\x3e\x3ca href\x3d"http://kb.mailchimp.com/lists/signup-forms/my-embedded-signup-form-isnt-working" target\x3d"_blank"\x3eMy embedded signup form isn\'t working\x3c/a\x3e\x3c/li\x3e\n                \x3c/ul\x3e\n                \x3c!-- Campaigns --\x3e\n                \x3cul data-element\x3d"campaigns" style\x3d"display:none;"\x3e\n                    \x3cli\x3e\x3ca href\x3d"http://kb.mailchimp.com/campaigns/ways-to-build/getting-started-with-campaigns" target\x3d"_blank"\x3eGetting Started with Campaigns\x3c/a\x3e\x3c/li\x3e\n                    \x3cli\x3e\x3ca href\x3d"http://kb.mailchimp.com/campaigns/ways-to-build/create-a-campaign-with-campaign-builder" target\x3d"_blank"\x3eCreate a Campaign with Campaign Builder\x3c/a\x3e\x3c/li\x3e\n                    \x3cli\x3e\x3ca href\x3d"http://kb.mailchimp.com/campaigns/design/design-a-campaign-in-mailchimp" target\x3d"_blank"\x3eDesign a Campaign in MailChimp\x3c/a\x3e\x3c/li\x3e\n                    \x3cli\x3e\x3ca href\x3d"http://kb.mailchimp.com/campaigns/confirmation-and-sending/first-time-senders-checklist" target\x3d"_blank"\x3eFirst Time Senders Checklist\x3c/a\x3e\x3c/li\x3e\n                \x3c/ul\x3e\n                \x3c!-- Templates --\x3e\n                \x3cul data-element\x3d"templates" style\x3d"display:none;"\x3e\n                    \x3cli\x3e\x3ca href\x3d"http://kb.mailchimp.com/campaigns/ways-to-build/templates-vs-campaigns" target\x3d"_blank"\x3eTemplates vs. Campaigns\x3c/a\x3e\x3c/li\x3e\n                    \x3cli\x3e\x3ca href\x3d"http://kb.mailchimp.com/templates/basic-and-themes/types-of-templates" target\x3d"_blank"\x3eTypes of Templates\x3c/a\x3e\x3c/li\x3e\n                    \x3cli\x3e\x3ca href\x3d"http://kb.mailchimp.com/templates/basic-and-themes/access-your-templates" target\x3d"_blank"\x3eAccess Your Templates\x3c/a\x3e\x3c/li\x3e\n                    \x3cli\x3e\x3ca href\x3d"http://kb.mailchimp.com/templates/basic-and-themes/options-for-creating-templates" target\x3d"_blank"\x3eOptions for Creating Templates\x3c/a\x3e\x3c/li\x3e\n                \x3c/ul\x3e\n                \x3c!-- Reports --\x3e\n                \x3cul data-element\x3d"reports" style\x3d"display:none;"\x3e\n                    \x3cli\x3e\x3ca href\x3d"http://kb.mailchimp.com/reports/statistics-in-campaign-reports" target\x3d"_blank"\x3eStatistics in Campaign Reports\x3c/a\x3e\x3c/li\x3e\n                    \x3cli\x3e\x3ca href\x3d"http://kb.mailchimp.com/reports/about-open-and-click-rates" target\x3d"_blank"\x3eAbout Open and Click Rates\x3c/a\x3e\x3c/li\x3e\n                    \x3cli\x3e\x3ca href\x3d"http://kb.mailchimp.com/reports/export-and-share-campaign-reports" target\x3d"_blank"\x3eExport and Share Campaign Reports\x3c/a\x3e\x3c/li\x3e\n                    \x3cli\x3e\x3ca href\x3d"http://kb.mailchimp.com/accounts/compliance-tips/about-bounces" target\x3d"_blank"\x3eAbout Bounces\x3c/a\x3e\x3c/li\x3e\n                \x3c/ul\x3e\n                \x3c!-- Accounts --\x3e\n                \x3cul data-element\x3d"accounts" style\x3d"display:none;"\x3e\n                    \x3cli\x3e\x3ca href\x3d"http://kb.mailchimp.com/accounts/billing/change-or-update-billing-details" target\x3d"_blank"\x3eChange or Update Billing Details\x3c/a\x3e\x3c/li\x3e\n                    \x3cli\x3e\x3ca href\x3d"http://kb.mailchimp.com/accounts/account-setup/how-can-i-set-my-account-defaults" target\x3d"_blank"\x3eHow to Set Account Defaults\x3c/a\x3e\x3c/li\x3e\n                    \x3cli\x3e\x3ca href\x3d"http://kb.mailchimp.com/accounts/compliance-tips/general-compliance-tips" target\x3d"_blank"\x3eGeneral Compliance Tips\x3c/a\x3e\x3c/li\x3e\n                    \x3cli\x3e\x3ca href\x3d"http://kb.mailchimp.com/accounts/management/about-error-messages" target\x3d"_blank"\x3eAbout Error Messages\x3c/a\x3e\x3c/li\x3e\n                \x3c/ul\x3e\n                \x3c!-- Account settings --\x3e\n                \x3cul data-element\x3d"account-settings" style\x3d"display:none;"\x3e\n                    \x3cli\x3e\x3ca href\x3d"http://kb.mailchimp.com/accounts/management/account-has-been-compromised" target\x3d"_blank"\x3eI think my account has been compromised\x3c/a\x3e\x3c/li\x3e\n                    \x3cli\x3e\x3ca href\x3d"http://kb.mailchimp.com/accounts/compliance-reviews/my-account-was-deactivated" target\x3d"_blank"\x3eMy account was deactivated\x3c/a\x3e\x3c/li\x3e\n                    \x3cli\x3e\x3ca href\x3d"http://kb.mailchimp.com/accounts/account-setup/how-can-i-set-my-account-defaults" target\x3d"_blank"\x3eHow to set account defaults\x3c/a\x3e\x3c/li\x3e\n                    \x3cli\x3e\x3ca href\x3d"http://kb.mailchimp.com/accounts/management/manage-account-login-and-profile" target\x3d"_blank"\x3eManage account login and profile\x3c/a\x3e\x3c/li\x3e\n                \x3c/ul\x3e\n                \x3c!-- Account upgrades --\x3e\n                \x3cul data-element\x3d"account-upgrades" style\x3d"display:none;"\x3e\n                    \x3cli\x3e\x3ca href\x3d"http://kb.mailchimp.com/accounts/billing/upgrade-your-account" target\x3d"_blank"\x3eUpgrade your account\x3c/a\x3e\x3c/li\x3e\n                    \x3cli\x3e\x3ca href\x3d"http://kb.mailchimp.com/accounts/billing/change-or-update-billing-details" target\x3d"_blank"\x3eChange or update billing details\x3c/a\x3e\x3c/li\x3e\n                    \x3cli\x3e\x3ca href\x3d"http://kb.mailchimp.com/lists/growth/view-your-list-import-results" target\x3d"_blank"\x3eView your list import results\x3c/a\x3e\x3c/li\x3e\n                    \x3cli\x3e\x3ca href\x3d"http://kb.mailchimp.com/quick-answers/accounts-answers/what-happens-if-im-on-the-forever-free-plan-and-i-purchase-credits" target\x3d"_blank"\x3eWhat happens if I\u2019m on the Forever Free plan and I purchase credits?\x3c/a\x3e\x3c/li\x3e\n                \x3c/ul\x3e\n                \x3c!-- Account login --\x3e\n                \x3cul data-element\x3d"account-login" style\x3d"display:none;"\x3e\n                    \x3cli\x3e\x3ca href\x3d"http://kb.mailchimp.com/accounts/management/i-cant-log-in" target\x3d"_blank"\x3eI can\'t log in\x3c/a\x3e\x3c/li\x3e\n                    \x3cli\x3e\x3ca href\x3d"http://kb.mailchimp.com/accounts/management/reset-your-username-or-password" target\x3d"_blank"\x3eReset your username or password\x3c/a\x3e\x3c/li\x3e\n                    \x3cli\x3e\x3ca href\x3d"http://kb.mailchimp.com/accounts/account-setup/best-practices-for-passwords" target\x3d"_blank"\x3eBest practices for passwords\x3c/a\x3e\x3c/li\x3e\n                    \x3cli\x3e\x3ca href\x3d"http://kb.mailchimp.com/accounts/management/account-has-been-compromised" target\x3d"_blank"\x3eI think my account has been compromised\x3c/a\x3e\x3c/li\x3e\n                \x3c/ul\x3e\n                \x3c!-- Automation RSS --\x3e\n                \x3cul data-element\x3d"automation-rss" style\x3d"display:none;"\x3e\n                    \x3cli\x3e\x3ca href\x3d"http://kb.mailchimp.com/automation/getting-started-with-automation" target\x3d"_blank"\x3eGetting Started With Automation\x3c/a\x3e\x3c/li\x3e\n                    \x3cli\x3e\x3ca href\x3d"http://kb.mailchimp.com/automation/create-an-automation-workflow" target\x3d"_blank"\x3eCreate an Automation Workflow\x3c/a\x3e\x3c/li\x3e\n                    \x3cli\x3e\x3ca href\x3d"http://kb.mailchimp.com/campaigns/rss-in-campaigns/troubleshooting-rss-in-campaigns" target\x3d"_blank"\x3eTroubleshooting RSS in Campaigns\x3c/a\x3e\x3c/li\x3e\n                    \x3cli\x3e\x3ca href\x3d"http://kb.mailchimp.com/campaigns/rss-in-campaigns/create-an-rss-driven-campaign" target\x3d"_blank"\x3eCreate a RSS-Driven Campaign\x3c/a\x3e\x3c/li\x3e\n                \x3c/ul\x3e\n                \x3c!-- Integrations --\x3e\n                \x3cul data-element\x3d"integrations" style\x3d"display:none;"\x3e\n                    \x3cli\x3e\x3ca href\x3d"http://kb.mailchimp.com/integrations/other-integrations/disconnect-an-integration" target\x3d"_blank"\x3eDisconnect an integration\x3c/a\x3e\x3c/li\x3e\n                    \x3cli\x3e\x3ca href\x3d"http://kb.mailchimp.com/integrations/other-integrations/check-integration-status" target\x3d"_blank"\x3eCheck integration status\x3c/a\x3e\x3c/li\x3e\n                    \x3cli\x3e\x3ca href\x3d"http://kb.mailchimp.com/integrations/other-integrations/view-integration-options" target\x3d"_blank"\x3eView integration options\x3c/a\x3e\x3c/li\x3e\n                    \x3cli\x3e\x3ca href\x3d"http://kb.mailchimp.com/lists/managing-subscribers/find-your-list-id" target\x3d"_blank"\x3eFind your list ID\x3c/a\x3e\x3c/li\x3e\n                \x3c/ul\x3e\n                \x3c!-- Billing --\x3e\n                \x3cul data-element\x3d"billing" style\x3d"display:none;"\x3e\n                    \x3cli\x3e\x3ca href\x3d"http://kb.mailchimp.com/quick-answers/accounts-answers/what-happens-if-im-on-the-forever-free-plan-and-i-purchase-credits" target\x3d"_blank"\x3eWhat happens if I\u2019m on the Forever Free plan and I purchase credits?\x3c/a\x3e\x3c/li\x3e\n                    \x3cli\x3e\x3ca href\x3d"http://kb.mailchimp.com/accounts/billing/credit-card-problems-rejection-errors" target\x3d"_blank"\x3eTroubleshooting credit card issues\x3c/a\x3e\x3c/li\x3e\n                    \x3cli\x3e\x3ca href\x3d"http://kb.mailchimp.com/accounts/billing/upgrade-your-account" target\x3d"_blank"\x3eUpgrade your account\x3c/a\x3e\x3c/li\x3e\n                    \x3cli\x3e\x3ca href\x3d"http://kb.mailchimp.com/accounts/billing/pause-monthly-billing" target\x3d"_blank"\x3ePause monthly billing\x3c/a\x3e\x3c/li\x3e\n                \x3c/ul\x3e\n                \x3c!-- Compliance --\x3e\n                \x3cul data-element\x3d"compliance" style\x3d"display:none;"\x3e\n                    \x3cli\x3e\x3ca href\x3d"http://kb.mailchimp.com/accounts/compliance-tips/general-compliance-tips" target\x3d"_blank"\x3eGeneral compliance tips\x3c/a\x3e\x3c/li\x3e\n                    \x3cli\x3e\x3ca href\x3d"http://kb.mailchimp.com/accounts/compliance-reviews/about-list-suspension" target\x3d"_blank"\x3eAbout list suspension\x3c/a\x3e\x3c/li\x3e\n                    \x3cli\x3e\x3ca href\x3d"http://kb.mailchimp.com/accounts/compliance-tips/about-warnings" target\x3d"_blank"\x3eAbout warnings\x3c/a\x3e\x3c/li\x3e\n                    \x3cli\x3e\x3ca href\x3d"http://kb.mailchimp.com/accounts/compliance-reviews/about-no-outside-unsubscribe-link-suspension" target\x3d"_blank"\x3eAbout no outside unsubscribe link suspension\x3c/a\x3e\x3c/li\x3e\n                \x3c/ul\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3c!-- Ticket open --\x3e\n        \x3cdiv class\x3d"line"\x3e\n            \x3cdiv class\x3d"lastUnit size1of2"\x3e\n                \x3cfieldset\x3e\n                    \x3clabel\x3eDo you currently have a ticket open?\x3c/label\x3e\n                    \x3clabel class\x3d"radio inline-block margin--lv3 !margin-left--lv0 !margin-top-bottom--lv0"\x3e\n                        \x3cinput type\x3d"radio" value\x3d"yes" name\x3d"have-ticket" data-dojo-type\x3d"dijit/form/RadioButton"\x3eYes\n                    \x3c/label\x3e\n                    \x3clabel class\x3d"radio inline-block"\x3e\n                        \x3cinput type\x3d"radio" value\x3d"no" name\x3d"have-ticket" data-dojo-type\x3d"dijit/form/RadioButton" checked\x3eNo\n                    \x3c/label\x3e\n                \x3c/fieldset\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3c!-- Name --\x3e\n        \x3cdiv class\x3d"line"\x3e\n            \x3cdiv class\x3d"unit size1of2"\x3e\n                \x3cfieldset\x3e\n                    \x3clabel\x3eName\x3c/label\x3e\n                    \x3cinput name\x3d"name" id\x3d"name" type\x3d"text" class\x3d"full-width" placeholder\x3d""\x3e\n                \x3c/fieldset\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"lastUnit size1of2"\x3e\n                \x3cfieldset\x3e\n                    \x3clabel\x3eUsername\x3c/label\x3e\n                    \x3cinput name\x3d"username" id\x3d"username" type\x3d"text" class\x3d"full-width" placeholder\x3d""\x3e\n                \x3c/fieldset\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3c!-- Email --\x3e\n        \x3cdiv class\x3d"line"\x3e\n            \x3cdiv class\x3d"lastUnit size1of1"\x3e\n                \x3cfieldset\x3e\n                    \x3clabel\x3eEmail address\x3c/label\x3e\n                    \x3cinput name\x3d"email" id\x3d"email" type\x3d"text" class\x3d"full-width" /\x3e\n                \x3c/fieldset\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3c!-- Subject--\x3e\n        \x3cdiv class\x3d"line"\x3e\n            \x3cdiv class\x3d"lastUnit size1of1"\x3e\n                \x3cfieldset data-element\x3d"subject"\x3e\n                    \x3clabel\x3eSubject\x3c/label\x3e\n                    \x3cinput name\x3d"subject" id\x3d"subject" type\x3d"text" class\x3d"full-width" /\x3e\n                \x3c/fieldset\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3c!-- Message --\x3e\n        \x3cdiv class\x3d"line"\x3e\n            \x3cdiv class\x3d"lastUnit size1of1"\x3e\n                \x3cfieldset\x3e\n                    \x3clabel\x3eMessage\x3c/label\x3e\n                    \x3ctextarea name\x3d"message" id\x3d"message" class\x3d"full-width" cols\x3d"30" rows\x3d"10"\x3e\x3c/textarea\x3e\n                \x3c/fieldset\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3c!-- List name or ID --\x3e\n        \x3cdiv class\x3d"line"\x3e\n            \x3cdiv class\x3d"lastUnit size1of1"\x3e\n                \x3cfieldset data-topics\x3d\'["lists","signup-forms","other"]\'\x3e\n                    \x3clabel\x3eList name or ID\x3c/label\x3e\n                    \x3cinput name\x3d"list" id\x3d"list" type\x3d"text" class\x3d"full-width" /\x3e\n                \x3c/fieldset\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3c!-- Affected subscribers domain --\x3e\n        \x3cdiv class\x3d"line"\x3e\n            \x3cdiv class\x3d"lastUnit size1of1"\x3e\n                \x3cfieldset data-topics\x3d\'["list-imports","campaigns","reports","automation-rss","other"]\'\x3e\n                    \x3clabel\x3eAffected subscribers or domains\x3c/label\x3e\n                    \x3cinput name\x3d"affected" id\x3d"affected" type\x3d"text" class\x3d"full-width" /\x3e\n                    \x3cdiv class\x3d"field-help always-show"\x3eIf using multiple addresses, separate them with a comma.\x3c/div\x3e\n                \x3c/fieldset\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3c!-- Form Url --\x3e\n        \x3cdiv class\x3d"line"\x3e\n            \x3cdiv class\x3d"lastUnit size1of1"\x3e\n                \x3cfieldset data-topics\x3d\'["signup-forms"]\'\x3e\n                    \x3clabel\x3eForm Url\x3c/label\x3e\n                    \x3cinput name\x3d"form_url" id\x3d"form_url" type\x3d"text" class\x3d"full-width" /\x3e\n                \x3c/fieldset\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3c!-- Campaign name or ID --\x3e\n        \x3cdiv class\x3d"line"\x3e\n            \x3cdiv class\x3d"lastUnit size1of1"\x3e\n                \x3cfieldset data-topics\x3d\'["campaigns","reports","automation-rss","other"]\'\x3e\n                    \x3clabel\x3eCampaign name or ID\x3c/label\x3e\n                    \x3cinput name\x3d"campaign" id\x3d"campaign" type\x3d"text" class\x3d"full-width" /\x3e\n                \x3c/fieldset\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3c!-- Template name or ID --\x3e\n        \x3cdiv class\x3d"line"\x3e\n            \x3cdiv class\x3d"lastUnit size1of1"\x3e\n                \x3cfieldset data-topics\x3d\'["templates"]\'\x3e\n                    \x3clabel\x3eTemplate name or ID\x3c/label\x3e\n                    \x3cinput name\x3d"template" id\x3d"template" type\x3d"text" class\x3d"full-width" /\x3e\n                \x3c/fieldset\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n         \x3c!-- Website Url --\x3e\n        \x3cdiv class\x3d"line"\x3e\n            \x3cdiv class\x3d"lastUnit size1of1"\x3e\n                \x3cfieldset data-topics\x3d\'["other"]\'\x3e\n                    \x3clabel\x3eWebsite Url\x3c/label\x3e\n                    \x3cinput name\x3d"website" id\x3d"website" type\x3d"text" class\x3d"full-width" /\x3e\n                \x3c/fieldset\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3c!-- Upload screenshot --\x3e\n        \x3cdiv class\x3d"line !margin-bottom--lv5"\x3e\n            \x3cdiv class\x3d"lastUnit size1of1"\x3e\n                \x3cfieldset\x3e\n                    \x3clabel\x3eUpload a screenshot (.jpg, .png, .gif)\x3c/label\x3e\n                    \x3cdiv class\x3d"faux-file-field full-width" style\x3d"padding-bottom:15px;"\x3e\n                        \x3cdiv class\x3d"faux-file !margin-bottom--lv1"\x3e\n                            \x3cbutton class\x3d"button"\x3eBrowse\x3c/button\x3e\n                            \x3cinput type\x3d"file" value\x3d"" onchange\x3d"mojo.utils.setCleanFileName(this);" name\x3d"screenshot" id\x3d"screenshot" accept\x3d"image/*" /\x3e\n                        \x3c/div\x3e\n                        \x3cdiv class\x3d"faux-selected"\x3e\x26nbsp;\x3c/div\x3e\n                        \x3cdiv class\x3d"small-meta fwb"\x3e\n                            \x3ca target\x3d"_blank" href\x3d"http://kb.mailchimp.com/campaigns/previews-and-tests/if-you-need-to-send-a-screenshot-to-support"\x3eHelp on uploading a Screenshot?\x3c/a\x3e\n                        \x3c/div\x3e\n                    \x3c/div\x3e\n                \x3c/fieldset\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3c!--  Submit --\x3e\n        \x3cdiv class\x3d"line padding--lv5 !padding-left-right--lv0 !padding-top--lv0"\x3e\n            \x3cdiv class\x3d"lastUnit size1of1"\x3e\n                \x3cbutton id\x3d"submit" class\x3d"button p0"\x3eSubmit Question\x3c/button\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/form\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/templates/DeliveryStatus.html":'\x3cdiv style\x3d"display:none;"\x3e\n    \x3cdiv class\x3d"line sub-section"\x3e\n        \x3cdiv class\x3d"lastUnit size1of1 alignc"\x3e\n            \x3cdiv class\x3d"delivery-insight border-radius--lv1 padding--lv6 bg-gray"\x3e\n                \x3cdiv class\x3d"progress !margin-bottom--lv1"\x3e\n                    \x3cdiv data-dojo-attach-point\x3d"progressMeterContainer"\x3e\x3c/div\x3e\n                \x3c/div\x3e\n                \x3ch4 data-dojo-attach-point\x3d"statusMessagePrimary" class\x3d"!margin-bottom--lv1"\x3e\x3c/h4\x3e\n                \x3cp data-dojo-attach-point\x3d"statusMessageSecondary" class\x3d"full-width" style\x3d"display:none;"\x3e\x3c/p\x3e\n                \x3cdiv data-dojo-attach-point\x3d"cancellationMessage" class\x3d"small-meta"\x3e\n                    \x3ca data-dojo-attach-point\x3d"cancelSendLink" style\x3d"outline:none;" href\x3d"javascript:;"\x3eNeed to stop this delivery?\x3c/a\x3e\n                    \x3cspan data-dojo-attach-point\x3d"whyNotCanCancelMessage"\x3e\x3c/span\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/templates/ProgressCircle.html":'\x3cdiv class\x3d"line relative"\x3e\n    \x3cdiv data-dojo-attach-point\x3d"progressCircle"\x3e\x3c/div\x3e\n    \x3cimg data-dojo-attach-point\x3d"successImage" src\x3d"/images/check.svg" alt\x3d"" width\x3d"${circleSize}" style\x3d"position: absolute; top: 0; left: 50%; margin-left: -36px; opacity: 0; transform: scale(0.3)"\x3e\n    \x3cimg data-dojo-attach-point\x3d"cancelImage" src\x3d"/images/cross.svg" alt\x3d"" width\x3d"${circleSize}" style\x3d"position: absolute; top: 0; left: 50%; margin-left: -36px; opacity: 0; transform: scale(0.3)"\x3e\n\x3c/div\x3e',
"url:mojo/app/templates/unpauseAutoresponderDialog.html":'\x3cdiv\x3e\n    \x3cp\x3e\n        Unpausing will send to {count} who signed up while the campaign was paused.\x3cbr/\x3e\n        Would you like to send to them also?\n    \x3c/p\x3e\n\n    \x3cdiv class\x3d"save-cancel-group"\x3e\n        \x3cbutton id\x3d"unpause-send" data-dojo-type\x3d"dijit/form/Button" type\x3d"button" class\x3d"button"\x3esend to {count}\x3c/button\x3e\n        \x3cbutton id\x3d"unpause-no-send" data-dojo-type\x3d"dijit/form/Button" type\x3d"button" class\x3d"button"\x3edon\'t send to {count}\x3c/button\x3e\n        \x3cbutton data-dojo-type\x3d"dijit/form/Button" type\x3d"button" class\x3d"button cancel-button"\x3ecancel\x3c/button\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',
"url:mojo/widgets/templates/drillNav.html":'\x3cdiv\x3e\n    \x3cul data-dojo-attach-point\x3d"mainNav" class\x3d"drillnav block relative"\x3e\x3c/ul\x3e\n\x3c/div\x3e',"url:mojo/widgets/templates/EmojiPicker.html":'\x3cdiv\x3e\n    \x3cdiv data-dojo-attach-point\x3d"fauxInput" class\x3d"faux-file" contenteditable style\x3d"padding-right:30px;"\x3e\x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"emojiDropDown" class\x3d"float-right emojibutton" data-dojo-type\x3d"dijit/form/DropDownButton" data-dojo-props\x3d\'dropDownPosition:["below-alt","above-alt","below","above"]\'\x3e\n        \x3cspan\x3e\x3ci class\x3d"esprite e-cat-icon e-mc-people"\x3e\x3c/i\x3e\x3c/span\x3e\n        \x3cdiv data-dojo-attach-point\x3d"emojiTooltip" data-dojo-type\x3d"dijit/TooltipDialog" position\x3d"[]" class\x3d"mc-dijitMenu emoji-pop"\x3e\n            \x3cdiv class\x3d"e-cat-nav" data-dojo-attach-point\x3d"catNavContainer"\x3e\x3c/div\x3e\n            \x3cdiv class\x3d"emojiscroll" data-dojo-attach-point\x3d"catEmojiContainer"\x3e\x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"containerNode"\x3e\x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/templates/FeedbackBlock.html":'\x3cdiv class\x3d"feedback-block section" role\x3d"status"\x3e\n  \x3cdiv class\x3d"lastUnit size1of1"\x3e\n    \x3cdiv class\x3d"c-media"\x3e\n      \x3cdiv class\x3d"c-mediaImage v-isFreddicon"\x3e\n        \x3cspan class\x3d"freddicon" data-dojo-attach-point\x3d"icon"\x3e\x3c/span\x3e\n      \x3c/div\x3e\n      \x3cdiv class\x3d"c-mediaBody--centered" data-dojo-attach-point\x3d"containerNode"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n  \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/templates/file-uploader.html":'\x3cdiv class\x3d"file-upload bg-white" style\x3d"display: none;"\x3e\n    \x3cdiv class\x3d"header-bar selfclear padding--lv2 small-meta fwb"\x3e\n        \x3cspan data-dojo-attach-point\x3d"status"\x3eUpload Manager\x3c/span\x3e\n        \x3ca href\x3d"#" data-dojo-attach-point\x3d"min" style\x3d"display: none;"\x3e\x3cspan data-dojo-attach-point\x3d"minToggle" class\x3d"freddicon menu-down float-right"\x3e\x3c/span\x3e\x3c/a\x3e\n        \x3ca href\x3d"#" data-dojo-attach-point\x3d"close"\x3e\x3cspan class\x3d"freddicon cross-fill float-right"\x3e\x3c/span\x3e\x3c/a\x3e\n    \x3c/div\x3e\n\n    \x3cul class\x3d"upload-list" data-dojo-attach-point\x3d"uploadList"\x3e\x3c/ul\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/templates/_file-list-item.html":'\x3cli class\x3d"selfclear padding--lv2 border-bottom"\x3e\n    \x3cdiv class\x3d"group size2of3"\x3e\n        \x3cdiv data-dojo-attach-point\x3d"thumbnail" class\x3d"thumbnail bg-gray border-gray float-left margin--lv2 !margin-top-bottom--lv0 !margin-left--lv0"\x3e\x3c/div\x3e\n        \x3cp class\x3d"!margin--lv0" data-dojo-attach-point\x3d"fileName"\x3e\x3c/p\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"lastGroup size1of3 alignr"\x3e\n        \x3cdiv class\x3d"group size2of3"\x3e\n            \x3cdiv data-dojo-attach-point\x3d"progressMeter" class\x3d"meter !margin-right--lv0"\x3e\n                \x3cspan class\x3d"border-radius--lv3" data-dojo-attach-point\x3d"progress" style\x3d"width:0%"\x3e\x3c/span\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n        \x3cdiv class\x3d"lastGroup size1of3"\x3e\n            \x3cp class\x3d"alignr !margin--lv0"\x3e\x3ca class\x3d"capitalize" data-dojo-attach-point\x3d"link" href\x3d"#"\x3e\x3c/a\x3e\x3c/p\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/li\x3e\n',
"url:mojo/widgets/templates/FilteredSearch.html":'\x3cdiv\x3e\n    \x3cdiv class\x3d"c-filteredSearch relative"\x3e\n        \x3cspan class\x3d"c-filteredSearch_icon freddicon search absolute dim3"\x3e\x3c/span\x3e\n        \x3clabel for\x3d"filtered-input" class\x3d"v-visuallyHidden"\x3e${placeholder}\x3c/label\x3e\n        \x3cinput tabindex\x3d"1" id\x3d"filtered-input" type\x3d"search" name\x3d"filtered-search" data-dojo-attach-point\x3d"filteredInput" placeholder\x3d"${placeholder}" class\x3d"!margin-bottom--lv0"\x3e\n        \x3cimg class\x3d"c-filteredSearch_clear absolute hide" data-dojo-attach-point\x3d"filteredClear" src\x3d"/css/icons/clear-input-icon.svg" width\x3d"16" height\x3d"16" role\x3d"button"\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/templates/HelpTip.html":'\x3cdiv\x3e\n    \x3cdiv data-dojo-type\x3d"dijit/form/DropDownButton" class\x3d"help help-tip margin--lv1 !margin-top-bottom--lv0 !margin-right--lv0"\x3e\n        \x3cdiv\x3e\n            \x3cspan class\x3d"freddicon info-circle margin--lv1 !margin-top-bottom--lv0 !margin-left--lv0"\x3e\x3c/span\x3e\n            \x3cspan class\x3d"valign-top"\x3e${label}\x3c/span\x3e\n        \x3c/div\x3e\n        \x3cdiv data-dojo-type\x3d"dijit/TooltipDialog" class\x3d"help-tip-dialog" style\x3d"display:none;"\x3e\n            \x3cdiv data-dojo-attach-point\x3d"containerNode"\x3e\x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',
"url:dijit/form/templates/HorizontalSlider.html":'\x3ctable class\x3d"dijit dijitReset dijitSlider dijitSliderH" cellspacing\x3d"0" cellpadding\x3d"0" border\x3d"0" rules\x3d"none" data-dojo-attach-event\x3d"onkeydown:_onKeyDown, onkeyup:_onKeyUp"\n\trole\x3d"presentation"\n\t\x3e\x3ctr class\x3d"dijitReset"\n\t\t\x3e\x3ctd class\x3d"dijitReset" colspan\x3d"2"\x3e\x3c/td\n\t\t\x3e\x3ctd data-dojo-attach-point\x3d"topDecoration" class\x3d"dijitReset dijitSliderDecoration dijitSliderDecorationT dijitSliderDecorationH"\x3e\x3c/td\n\t\t\x3e\x3ctd class\x3d"dijitReset" colspan\x3d"2"\x3e\x3c/td\n\t\x3e\x3c/tr\n\t\x3e\x3ctr class\x3d"dijitReset"\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitSliderButtonContainer dijitSliderButtonContainerH"\n\t\t\t\x3e\x3cdiv class\x3d"dijitSliderDecrementIconH" style\x3d"display:none" data-dojo-attach-point\x3d"decrementButton"\x3e\x3cspan class\x3d"dijitSliderButtonInner"\x3e-\x3c/span\x3e\x3c/div\n\t\t\x3e\x3c/td\n\t\t\x3e\x3ctd class\x3d"dijitReset"\n\t\t\t\x3e\x3cdiv class\x3d"dijitSliderBar dijitSliderBumper dijitSliderBumperH dijitSliderLeftBumper" data-dojo-attach-event\x3d"press:_onClkDecBumper"\x3e\x3c/div\n\t\t\x3e\x3c/td\n\t\t\x3e\x3ctd class\x3d"dijitReset"\n\t\t\t\x3e\x3cinput data-dojo-attach-point\x3d"valueNode" type\x3d"hidden" ${!nameAttrSetting}\n\t\t\t/\x3e\x3cdiv class\x3d"dijitReset dijitSliderBarContainerH" role\x3d"presentation" data-dojo-attach-point\x3d"sliderBarContainer"\n\t\t\t\t\x3e\x3cdiv role\x3d"presentation" data-dojo-attach-point\x3d"progressBar" class\x3d"dijitSliderBar dijitSliderBarH dijitSliderProgressBar dijitSliderProgressBarH" data-dojo-attach-event\x3d"press:_onBarClick"\n\t\t\t\t\t\x3e\x3c!-- attach-point for slider label--\x3e\x3cdiv data-dojo-attach-point\x3d"sliderComponents" class\x3d"dijitSliderMoveable dijitSliderMoveableH"\n\t\t\t\t\t\t\x3e\x3cdiv data-dojo-attach-point\x3d"sliderHandle,focusNode" class\x3d"dijitSliderImageHandle dijitSliderImageHandleH" data-dojo-attach-event\x3d"press:_onHandleClick" role\x3d"slider"\x3e\x3c/div\n\t\t\t\t\t\x3e\x3c/div\n\t\t\t\t\x3e\x3c/div\n\t\t\t\t\x3e\x3cdiv role\x3d"presentation" data-dojo-attach-point\x3d"remainingBar" class\x3d"dijitSliderBar dijitSliderBarH dijitSliderRemainingBar dijitSliderRemainingBarH" data-dojo-attach-event\x3d"press:_onBarClick"\x3e\x3c/div\n\t\t\t\x3e\x3c/div\n\t\t\x3e\x3c/td\n\t\t\x3e\x3ctd class\x3d"dijitReset"\n\t\t\t\x3e\x3cdiv class\x3d"dijitSliderBar dijitSliderBumper dijitSliderBumperH dijitSliderRightBumper" data-dojo-attach-event\x3d"press:_onClkIncBumper"\x3e\x3c/div\n\t\t\x3e\x3c/td\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitSliderButtonContainer dijitSliderButtonContainerH"\n\t\t\t\x3e\x3cdiv class\x3d"dijitSliderIncrementIconH" style\x3d"display:none" data-dojo-attach-point\x3d"incrementButton"\x3e\x3cspan class\x3d"dijitSliderButtonInner"\x3e+\x3c/span\x3e\x3c/div\n\t\t\x3e\x3c/td\n\t\x3e\x3c/tr\n\t\x3e\x3ctr class\x3d"dijitReset"\n\t\t\x3e\x3ctd class\x3d"dijitReset" colspan\x3d"2"\x3e\x3c/td\n\t\t\x3e\x3ctd data-dojo-attach-point\x3d"containerNode,bottomDecoration" class\x3d"dijitReset dijitSliderDecoration dijitSliderDecorationB dijitSliderDecorationH"\x3e\x3c/td\n\t\t\x3e\x3ctd class\x3d"dijitReset" colspan\x3d"2"\x3e\x3c/td\n\t\x3e\x3c/tr\n\x3e\x3c/table\x3e\n',
"url:mojo/widgets/templates/ImportLoader.html":'\x3cdiv style\x3d"display:none;"\x3e\n    \x3cdiv class\x3d"!margin-bottom--lv5"\x3e\n        \x3cdiv class\x3d"alignc"\x3e\n            \x3cdiv class\x3d"delivery-insight border-radius--lv1 padding--lv6 bg-gray"\x3e\n                \x3cdiv class\x3d"progress !margin-bottom--lv1"\x3e\n                    \x3cdiv data-dojo-attach-point\x3d"progressMeterContainer"\x3e\x3c/div\x3e\n                \x3c/div\x3e\n                \x3ch4 data-dojo-attach-point\x3d"statusMessagePrimary" class\x3d"!margin-bottom--lv1"\x3e\x3c/h4\x3e\n                \x3cp data-dojo-attach-point\x3d"statusMessageSecondary" class\x3d"full-width" style\x3d"display:none;"\x3e\x3c/p\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/templates/linkPicker.html":'\x3cfieldset\x3e\n    \x3cdiv class\x3d"dijitDialogPaneContentArea"\x3e\n        \x3cdiv class\x3d"padding--lv3 !padding-left-right--lv0"\x3e\n            \x3clabel\x3eLink to\x3c/label\x3e\n            \x3cselect class\x3d"!margin--lv0" data-dojo-type\x3d"dijit/form/Select" data-dojo-attach-point\x3d"linkType"\x3e\n                \x3coption value\x3d"regularLink"\x3eWeb address\x3c/option\x3e\n                \x3coption value\x3d"abandonCartLink"\x3eAbandoned cart page\x3c/option\x3e\n                \x3coption value\x3d"emailLink"\x3eEmail address\x3c/option\x3e\n                \x3coption value\x3d"anchorLink"\x3eAnchor link\x3c/option\x3e\n                \x3coption value\x3d"fileLink"\x3eFile\x3c/option\x3e\n            \x3c/select\x3e\n        \x3c/div\x3e\n\n        \x3cdiv class\x3d"linkType regularLink hide"\x3e\n            \x3clabel for\x3d"href_${id}"\x3eWeb address (URL)\x3c/label\x3e\n            \x3cinput type\x3d"url" data-dojo-attach-point\x3d"hrefInput" tabIndex\x3d"1" id\x3d"href_${id}" class\x3d"fullwidth full-width" /\x3e\n        \x3c/div\x3e\n\n        \x3cdiv class\x3d"linkType fileLink hide"\x3e\n            \x3clabel for\x3d"file_${id}"\x3eFile URL (\x3ca href\x3d"#" data-dojo-attach-point\x3d"changeFileLink"\x3eChange file\x3c/a\x3e)\x3c/label\x3e\n            \x3cinput type\x3d"text" data-dojo-attach-point\x3d"fileUrlInput" id\x3d"file_${id}"/\x3e\n        \x3c/div\x3e\n\n        \x3cdiv class\x3d"linkType emailLink hide"\x3e\n            \x3clabel for\x3d"email_${id}"\x3eEmail address\x3c/label\x3e\n            \x3cinput type\x3d"email" data-dojo-attach-point\x3d"emailInput" id\x3d"email_${id}" class\x3d"fullwidth full-width" /\x3e\n            \x3clabel for\x3d"subject_${id}"\x3eMessage subject\x3c/label\x3e\n            \x3cinput type\x3d"text" data-dojo-attach-point\x3d"subjectInput" id\x3d"subject_${id}" class\x3d"fullwidth full-width" /\x3e\n            \x3clabel for\x3d"emailBody_${id}"\x3eMessage body\x3c/label\x3e\n            \x3ctextarea style\x3d"height:50px;" data-dojo-attach-point\x3d"emailBodyInput" id\x3d"emailBody_${id}" class\x3d"fullwidth full-width"\x3e\x3c/textarea\x3e\n        \x3c/div\x3e\n\n        \x3cdiv class\x3d"linkType anchorLink hide"\x3e\n            \x3clabel for\x3d"anchorSelect_${id}"\x3eSelect an anchor to link to\x3c/label\x3e\n            \x3cselect data-dojo-attach-point\x3d"selectAnchor" id\x3d"anchorSelect_${id}" class\x3d"fullwidth full-width"\x3e\n                \x3coption value\x3d""\x3eYou have no anchors in your email\x3c/option\x3e\n            \x3c/select\x3e\n        \x3c/div\x3e\n\n        \x3ca class\x3d"disclosure-closed inline-block-i normal-meta" data-dojo-attach-point\x3d"advancedToggle" href\x3d"#"\x3eAdvanced options\x3c/a\x3e\n\n        \x3cspan data-dojo-attach-point\x3d"removeLinkContainer"\x3e\n            \x3cspan class\x3d"normal-meta" style\x3d"padding:0 5px;"\x3e|\x3c/span\x3e\n            \x3ca href\x3d"#" class\x3d"normal-meta" data-dojo-attach-point\x3d"removeLink"\x3eRemove Link\x3c/a\x3e\n        \x3c/span\x3e\n\n        \x3cdiv data-dojo-attach-point\x3d"advancedOptions" class\x3d"padding--lv3 !padding-left-right--lv0" style\x3d"display:none"\x3e\n            \x3clabel class\x3d"checkbox" for\x3d"target_${id}"\x3e\n                \x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"targetCheckbox" value\x3d"_blank" id\x3d"target_${id}" data-dojo-type\x3d"dijit/form/CheckBox"/\x3e\n                Open in a new window\n             \x3c/label\x3e\n\n            \x3clabel for\x3d"title_${id}"\x3eTitle attribute\x3c/label\x3e\n            \x3cinput type\x3d"text" data-dojo-attach-point\x3d"titleInput" id\x3d"title_${id}"\x3e\n\n            \x3clabel for\x3d"class_${id}"\x3eCSS class\x3c/label\x3e\n            \x3cinput type\x3d"text" data-dojo-attach-point\x3d"linkClassInput" id\x3d"class_${id}"\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"dijitDialogPaneActionBar" data-dojo-attach-point\x3d"buttonGroup"\x3e\n        \x3cbutton class\x3d"button p0" data-dojo-attach-point\x3d"saveBtn"\x3eInsert\x3c/button\x3e\n        \x3ca href\x3d"#" data-dojo-attach-point\x3d"cancelBtn" class\x3d"small-meta fwb"\x3eCancel\x3c/a\x3e\n    \x3c/div\x3e\n\x3c/fieldset\x3e\n',
"url:mojo/widgets/templates/MeterLarge.html":'\x3cdiv\x3e\n    \x3cdiv class\x3d"alignr !margin-bottom--lv1"\x3e\n        \x3cspan class\x3d"fwb small-meta float-left"\x3e${leftLabel}\x3c/span\x3e\n        \x3cspan class\x3d"fwb small-meta"\x3e${rightLabel}\x3c/span\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"meter meter--large !margin--lv0 !margin-bottom--lv1 overflow-visible" data-dojo-attach-point\x3d"meterBarNode"\x3e\n        \x3cdiv class\x3d"c-meterAverageRange absolute hide" style\x3d"left:65%; width:15%;" data-dojo-attach-point\x3d"meterAverage"\x3e\x3c/div\x3e\n        \x3cdiv class\x3d"meterFill c-meterToolTip overflow-visible" data-dojo-attach-point\x3d"meterFill" style\x3d"width: 0;"\x3e\n            \x3cdiv class\x3d"c-meterToolTip_bubble absolute v-bg-gray-dark border-radius--lv1 padding--lv2 !padding-top-bottom--lv0" data-dojo-attach-point\x3d"popover"\x3e\n                \x3cspan class\x3d"small-meta fwb valign-top v-textColorWhite v-textColorWhite--print"\x3e${label}\x3c/span\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/predicted-demographics/templates/predictedDemographics.html":'\x3cdiv class\x3d"border-gray border-radius--lv2 selfclear"\x3e\n    \x3cdiv class\x3d"line flex flex-stretch flex-col-tablet"\x3e\n        \x3cdiv class\x3d"unit size3of8 full-width-mobile border-bottom-tablet"\x3e\n            \x3cdiv class\x3d"line padding--lv5 !padding-left-right--lv0"\x3e\n                \x3c!-- Gender Widget --\x3e\n                \x3cdiv data-dojo-attach-point\x3d"genderChartContainer"\x3e\x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3cdiv class\x3d"lastUnit size5of8 full-width-mobile border-left noborder-tablet"\x3e\n            \x3cdiv class\x3d"line padding--lv5 !padding-left-right--lv0"\x3e\n                \x3cdiv class\x3d"lastUnit size1of1"\x3e\n                    \x3c!-- Age Range Widget --\x3e\n                    \x3cdiv data-dojo-attach-point\x3d"ageRangeChartContainer"\x3e\x3c/div\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/predicted-demographics/templates/genderChart.html":'\x3cdiv\x3e\n    \x3cdiv class\x3d"lastUnit size1of1 !margin-bottom--lv4"\x3e\n        \x3ch4 class\x3d"float-left !margin--lv0"\x3eGender\x3c/h4\x3e\n        \x3cdiv data-dojo-attach-point\x3d"metricToggler" class\x3d"float-right"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3cdiv class\x3d"lastUnit size1of1 !margin-bottom--lv4"\x3e\n        \x3cdiv id\x3d"genderChartContainer" data-dojo-attach-point\x3d"chartContainer"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3cdiv class\x3d"lastUnit size7of8 size1of3@tablet size1of2@xlphone centered"\x3e\n        \x3cdiv id\x3d"genderLegendContainer" data-dojo-attach-point\x3d"chartLegend"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/predicted-demographics/templates/ageRangeChart.html":'\x3cdiv\x3e\n    \x3cdiv class\x3d"selfclear !margin-bottom--lv4"\x3e\n        \x3ch4 class\x3d"float-left !margin--lv0"\x3eAge Range\x3c/h4\x3e\n        \x3cdiv data-dojo-attach-point\x3d"metricToggler" class\x3d"float-right"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3cdiv data-dojo-attach-point\x3d"chartContainer"\x3e\x3c/div\x3e\n\x3c/div\x3e',"url:mojo/widgets/predicted-demographics/templates/meterRow.html":'\x3cdiv class\x3d"flex c-inlineMeter !margin-bottom--lv2"\x3e\n    \x3cdiv class\x3d"flex c-inlineMeter_range"\x3e\n        \x3cp class\x3d"!margin--lv0 small-meta" data-dojo-attach-point\x3d"meterLabel"\x3e\x3c/p\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"flex flex-auto padding--lv2 !padding-top-bottom--lv0"\x3e\n        \x3cdiv class\x3d"meter !margin-bottom--lv0 full-width"\x3e\n            \x3cdiv style\x3d"width:0%;" data-dojo-attach-point\x3d"meterContainer" class\x3d"flex full-height"\x3e\x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"flex c-inlineMeter_perc"\x3e\n        \x3cp class\x3d"!margin--lv0 fwb small-meta"\x3e\n            \x3cspan data-dojo-attach-point\x3d"meterValue"\x3e\x3c/span\x3e%\n        \x3c/p\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',
"url:mojo/widgets/templates/ProgressDots.html":'\x3cdiv\x3e\n    \x3cdiv class\x3d"text-align--center@tablet"\x3e\n        \x3cdiv data-dojo-attach-point\x3d"progressContainer" class\x3d"c-progress overflow--visible inline-block"\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',"url:mojo/widgets/templates/segmentDial.html":'\x3cdiv\x3e\n    \x3cdiv data-dojo-attach-point\x3d"segmentDial" class\x3d"full-width padding--lv3 !padding-left-right--lv0 border-bottom"\x3e\x3c/div\x3e\n    \x3cdiv class\x3d"mv-dial-info absolute full-width padding--lv6 !padding-left-right--lv0 fwb" style\x3d"top: 72px; left: 0"\x3e\n        \x3cspan data-dojo-attach-point\x3d"valueLabel" class\x3d"h1 block !margin--lv0"\x3e0\x3c/span\x3e\n        \x3cspan class\x3d"block !margin--lv0"\x3eCombinations\x3c/span\x3e\n        \x3cspan data-dojo-attach-point\x3d"maxLabel" class\x3d"dim-el !margin--lv0 small-meta hide"\x3eMax\x3c/span\x3e\n        \x3cspan data-dojo-attach-point\x3d"maxZeroLabel" class\x3d"dim-el !margin--lv0 small-meta"\x3eMax of ${maxValue}\x3c/span\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',
"url:mojo/widgets/templates/segmentsDropdown.html":'\x3cdiv class\x3d"segment-block segment-field float-left"\x3e\n    \x3clabel for\x3d"segmentSelect" class\x3d"v-visuallyHidden"\x3eChoose a segment\x3c/label\x3e\n    \x3cselect data-dojo-attach-point\x3d"segmentSelect" id\x3d"segmentSelect" class\x3d"select-small !margin-bottom--lv0 hide"\x3e\x3c/select\x3e\n    \x3cp data-dojo-attach-point\x3d"noSegments" class\x3d"margin-bottom--lv0 hide"\x3eYou have no saved segments for this list. Would you like to \x3ca data-dojo-attach-point\x3d"createSegment" href\x3d"/lists/members?id\x3d{$list-\x3egetID()}\x26open_segment\x3d1"\x3ecreate one\x3c/a\x3e?\x3c/p\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/templates/SubscriberTableOverlay.html":'\x3cdiv class\x3d"subscriber-table-overlay-container c-baseOverlay selfclear" aria-hidden\x3d"true"\x3e\n\n    \x3c!-- CLOSE OVERLAY --\x3e\n    \x3cdiv title\x3d"Close menu" data-dojo-attach-point\x3d"closeButton" class\x3d"close-overlay close-right freddicon cross absolute cursor-pointer"\x3e\x3c/div\x3e\n\n    \x3cdiv class\x3d"subscriber-table-overlay-container selfclear visible opaque"\x3e\n\n        \x3cdiv class\x3d"padding--lv3"\x3e\n            \x3cdiv class\x3d"line"\x3e\n                \x3cdiv class\x3d"lastUnit size1of1"\x3e\n                    \x3ch2 class\x3d"!margin-bottom--lv3" id\x3d"page-heading"\x3eSegmented Subscribers\x3c/h2\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n\n            \x3cdiv class\x3d"activity-t content"\x3e\n                \x3cdiv data-dojo-attach-point\x3d"memberDescriptionContainer" class\x3d"lastUnit size1of1 margin-bottom--lv4"\x3e\n                \x3c/div\x3e\n                \x3cdiv data-dojo-attach-point\x3d"memberGridContainer" id\x3d"member-grid"\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/analytics/templates/listMembersTable.html":'\x3cdiv\x3e\n    \x3cdiv data-dojo-attach-point\x3d"noData" class\x3d"hide"\x3e\x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"dataTable" class\x3d"subscriber-table-wrap sub-section"\x3e\n        \x3cdiv class\x3d"subscriber-table full-width !margin-bottom--lv3"\x3e\n            \x3cdiv class\x3d"st fixed-header selfclear relative"\x3e\n                \x3cdiv class\x3d"full-width inner" data-dojo-attach-point\x3d"accessibleTableHeaderBody"\x3e\n                    \x3ctable class\x3d"table-header" role\x3d"presentation" data-dojo-attach-point\x3d"accessibleTableHeader"\x3e\x3c/table\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"st table-body selfclear relative"\x3e\n                \x3cdiv class\x3d"full-width inner" data-dojo-attach-point\x3d"accessibleTableBody"\x3e\n                    \x3ctable class\x3d"table-contents" data-dojo-attach-point\x3d"accessibleTable"\x3e\x3c/table\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n        \x3cdiv class\x3d"line overflow-visible table-pagination !margin-bottom--lv4 selfclear"\x3e\n            \x3cdiv class\x3d"unit size1of2 maintain-width nochange !margin-bottom--lv3"\x3e\n                \x3cdiv data-dojo-attach-point\x3d"bottomPageSizeSelect"\x3e\x3c/div\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"lastUnit size1of2 nochange alignr !margin-bottom--lv3"\x3e\n                \x3cdiv data-dojo-attach-point\x3d"bottomPaging"\x3e\x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n        \x3cdiv data-dojo-attach-point\x3d"subscriberTableOverlay" class\x3d"st-overlay"\x3e\n            \x3cdiv class\x3d"margin--lv8"\x3e\n                \x3cdiv class\x3d"alignc padding--lv6" data-dojo-attach-point\x3d"loaderDom"\x3e\x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/analytics/templates/table.html":'\x3cdiv\x3e\n    \x3cdiv class\x3d"line overflow-visible table-pagination"\x3e\n        \x3cdiv class\x3d"unit size1of2 maintain-width nochange !margin-bottom--lv3"\x3e\n            \x3cdiv data-dojo-attach-point\x3d"topPageSizeSelect"\x3e\x3c/div\x3e\n        \x3c/div\x3e\n        \x3cdiv class\x3d"lastUnit size1of2 nochange alignr !margin-bottom--lv3"\x3e\n            \x3cdiv data-dojo-attach-point\x3d"topPaging"\x3e\x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3cdiv class\x3d"lastUnit size1of1"\x3e\n        \x3ctable class\x3d"mc-table !margin-bottom--lv3"\x3e\n            \x3cthead data-dojo-attach-point\x3d"header"\x3e\x3c/thead\x3e\n            \x3ctbody data-dojo-attach-point\x3d"body"\x3e\x3c/tbody\x3e\n        \x3c/table\x3e\n    \x3c/div\x3e\n\n    \x3cdiv class\x3d"line overflow-visible table-pagination"\x3e\n        \x3cdiv class\x3d"unit size1of2 maintain-width nochange !margin-bottom--lv3"\x3e\n            \x3cdiv data-dojo-attach-point\x3d"bottomPageSizeSelect"\x3e\x3c/div\x3e\n        \x3c/div\x3e\n        \x3cdiv class\x3d"lastUnit size1of2 nochange alignr !margin-bottom--lv3"\x3e\n            \x3cdiv data-dojo-attach-point\x3d"bottomPaging"\x3e\x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',
"url:mojo/analytics/templates/noData.html":'\x3cdiv class\x3d"line section"\x3e\n    \x3cdiv class\x3d"lastUnit size1of1"\x3e\n        \x3cdiv class\x3d"no-data no-border-radius-top alignc"\x3e\n            \x3cimg class\x3d"icon" src\x3d"/css/icons/no-data/goose-egg.svg" role\x3d"presentation" alt\x3d""\x3e\n            \x3ch2\x3eGoose egg.\x3c/h2\x3e\n            \x3cp\x3eNo subscribers match your selection.\x3c/p\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',"url:mojo/analytics/parts/templates/paging.html":'\x3cdiv class\x3d"alignr selfclear"\x3e\n    \x3cdiv aria-label\x3d"Number of results" class\x3d"inline-block-i small-meta valign-middle padding--lv1 !padding-left-right--lv0 margin--lv2 !margin-top-bottom--lv0 !margin-left--lv0"\x3e\n        \x3cspan class\x3d"fwb"\x3e\x3cspan data-dojo-attach-point\x3d"startLabel"\x3e1\x3c/span\x3e \x26ndash; \x3cspan data-dojo-attach-point\x3d"endLabel"\x3e1\x3c/span\x3e\x3c/span\x3e\n        \x3cspan\x3eof\x3c/span\x3e\n        \x3cspan class\x3d"fwb" data-dojo-attach-point\x3d"totalPagesLabel"\x3e1\x3c/span\x3e\n    \x3c/div\x3e\n\n    \x3cdiv class\x3d"float-right"\x3e\n        \x3cbutton aria-label\x3d"Previous results" data-dojo-attach-point\x3d"prevButton" class\x3d"button-small freddicon menu-left padding--lv1 !padding-top-bottom--lv0" title\x3d"Previous"\x3e\x3c/button\x3e\n        \x3cbutton aria-label\x3d"Next set of results" data-dojo-attach-point\x3d"nextButton" class\x3d"button-small freddicon menu-right !margin--lv0 padding--lv1 !padding-top-bottom--lv0" title\x3d"Next"\x3e\x3c/button\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',
"url:mojo/analytics/parts/templates/pageSizeSelect.html":'\x3cdiv\x3e\n    \x3cspan class\x3d"view-label small-meta hide-phone fwb margin--lv2 !margin-top-bottom--lv0 !margin-left--lv0"\x3eView\x3c/span\x3e\n    \x3cselect data-dojo-attach-point\x3d"pageOptions"\x3e\x3c/select\x3e\n\x3c/div\x3e',"url:mojo/analytics/parts/templates/visRowSelector.html":'\x3cdiv class\x3d"profile-select overflow-visible"\x3e\n    \x3cul class\x3d"hover-list click-to-open"\x3e\n        \x3cli\x3e\x3ca href\x3d"javascript:;"\x3e\x3c/a\x3e\n            \x3cul\x3e\n                \x3cli\x3e\n                    \x3ca href\x3d"#" id\x3d"bulk-action-selectall" data-dojo-attach-point\x3d"selectVisible" title\x3d"select all subscribers visible on this page"\x3eSelect Visible\x3c/a\x3e\n                \x3c/li\x3e\n                \x3cli\x3e\n                    \x3ca href\x3d"#" id\x3d"select-all-link" data-dojo-attach-point\x3d"selectAll" title\x3d"select all subscribers in all pages of this list or segment"\x3eSelect All\x3c/a\x3e\n                \x3c/li\x3e\n                \x3cli class\x3d"hide"\x3e\n                    \x3ca href\x3d"#" id\x3d"deselect-all-link" data-dojo-attach-point\x3d"deselectAll" \x3eDeselect All\x3c/a\x3e\n                \x3c/li\x3e\n            \x3c/ul\x3e\n        \x3c/li\x3e\n    \x3c/ul\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/templates/Switch.html":'\x3cdiv class\x3d"${baseClass}" title\x3d"${title}"\x3e\n    \x3cdiv class\x3d"switch ${sizeClass}" data-dojo-attach-point\x3d"switchNode"\x3e\n        \x3cinput\n        ${!nameAttrSetting} type\x3d"${type}" role\x3d"${type}" aria-checked\x3d"false" ${checkedAttrSetting}\n        class\x3d"dijitReset dijitCheckBoxInput"\n        data-dojo-attach-point\x3d"focusNode"\n        data-dojo-attach-event\x3d"ondijitclick:_onClick"\n        /\x3e\n        \x3clabel\x3e\x3cspan\x3e\x3c/span\x3e\x3c/label\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"switchDescription"\x3e\x3cp\x3e${description}\x3c/p\x3e\x3c/div\x3e\n\x3c/div\x3e',
"url:mojo/widgets/templates/ThumbnailPreview.html":'\x3cdiv class\x3d"c-thumbnailPreview padding--lv1 v-textColorWhite border-gray border-radius--lv2 cursor-pointer position--relative overflow-hidden"\x3e\n  \x3cimg class\x3d"c-thumbnailPreview_image full-width" src\x3d"${imageUrl}" \x3e\n  \x3cdiv class\x3d"c-thumbnailPreview_overlay flex flex-center justify-content--center position--absolute top--0 left--0 full-width full-height zin-lv2"\x3e\n      \x3cdiv class\x3d"flex-grow-1 alignc" data-dojo-attach-point\x3d"containerNode"\x3e\n          \x3cspan class\x3d"freddicon search"\x3e\x3c/span\x3e\n          \x3cp class\x3d"!margin--lv0 small-meta flex-shrink flex-shrink-none"\x3e\x3cstrong\x3ePreview\x3c/strong\x3e\x3c/p\x3e\n      \x3c/div\x3e\n  \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/templates/variateDelayInput.html":'\x3cdiv\x3e\n    \x3cinput data-dojo-attach-point\x3d"valueInput" name\x3d"${name}" type\x3d"hidden" aria-hidden\x3d"true" value\x3d"${value}"\x3e\n\n    \x3cdiv class\x3d"selfclear"\x3e\n        \x3cdiv class\x3d"segment-block float-left"\x3e\n            \x3cinput type\x3d"text" data-dojo-attach-point\x3d"delayInput" class\x3d"inline-block !margin--lv0" maxlength\x3d"3" style\x3d"width: 48px"\x3e\n        \x3c/div\x3e\n\n        \x3cdiv class\x3d"segment-block float-left"\x3e\n            \x3cselect data-dojo-attach-point\x3d"unitSelect" data-dojo-type\x3d"dijit/form/Select" class\x3d"select-small inline-block !margin--lv0"\x3e\n                \x3coption value\x3d"hour"\x3ehours\x3c/option\x3e\n                \x3coption value\x3d"day"\x3edays\x3c/option\x3e\n            \x3c/select\x3e\n        \x3c/div\x3e\n\n        \x3cdiv class\x3d"inline-block hide" data-dojo-attach-point\x3d"errorContainer"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n\n\n    \x3cdiv class\x3d"line selfclear field-help hide !margin-top--lv0" data-dojo-attach-point\x3d"delayMessage"\x3eWe recommend waiting at least 4 hours to gather all the results.\x3c/div\x3e\n\x3c/div\x3e',
"url:mojo/widgets/templates/variateSelector.html":'\x3cdiv class\x3d"flex-equal"\x3e\n    \x3cinput data-dojo-attach-point\x3d"variateName" name\x3d"${name}" type\x3d"hidden" aria-hidden\x3d"true" value\x3d"0"\x3e\n\n    \x3cdiv class\x3d"mv-option-select alignc padding--lv6 !padding-left-right--lv0 !padding-bottom--lv0 border-radius--lv2"\x3e\n        \x3ca href\x3d"#" data-dojo-attach-point\x3d"variateSelect"\x3e\n            \x3cdiv\x3e\n                \x3cp class\x3d"freddicon add-circle !margin-bottom--lv1 !margin-right--lv0" role\x3d"presentation"\x3e\x3c/p\x3e\n                \x3cp class\x3d"fwb"\x3e${label}\x3c/p\x3e\n            \x3c/div\x3e\n        \x3c/a\x3e\n        \x3cp class\x3d"padding--lv3 !margin--lv0"\x3e\x3c/p\x3e\n    \x3c/div\x3e\n\n    \x3cdiv data-dojo-attach-point\x3d"variateControls" class\x3d"mv-option-control alignc padding--lv6 !padding-left-right--lv0 !padding-bottom--lv0 border-radius--lv2 bg-white absolute"\x3e\n        \x3cp data-dojo-attach-point\x3d"variateValue" class\x3d"mv-value fwb !margin-bottom--lv1"\x3e${minimum}\x3c/p\x3e\n\n        \x3cp class\x3d"fwb"\x3e${label}s\x3c/p\x3e\n\n        \x3cdiv class\x3d"mv-buttons line absolute full-width"\x3e\n            \x3cdiv class\x3d"flex"\x3e\n                \x3ca data-dojo-attach-point\x3d"variateMinus" href\x3d"#" class\x3d"mv-button mv-button--less flex-equal button border-radius--lv0 !margin--lv0 !padding--lv0" title\x3d"Decrease this variation count by one" aria-label\x3d"Click to decrease this variation count by one"\x3e\x3cspan class\x3d"freddicon minus-small !margin--lv0" role\x3d"presentation"\x3e\x3c/span\x3e\x3c/a\x3e\n                \x3ca data-dojo-attach-point\x3d"variatePlus" href\x3d"#" class\x3d"mv-button mv-button--more flex-equal button border-radius--lv0 !margin--lv0 !padding--lv0" title\x3d"Increase this variation count by one" aria-label\x3d"Click to increase this variation count by one"\x3e\x3cspan class\x3d"freddicon plus-small !margin--lv0" role\x3d"presentation"\x3e\x3c/span\x3e\x3c/a\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/templates/variateWinner.html":'\x3cdiv\x3e\n    \x3cdiv data-dojo-attach-point\x3d"selectionContainer" class\x3d"pick-final border-gray border-radius--lv2 alignc padding--lv4 !padding-left-right--lv0 hide"\x3e\n        \x3cp class\x3d"fwb full-width !margin--lv0 padding--lv6 !padding-left-right--lv0"\x3eWinning Combination\x3c/p\x3e\n    \x3c/div\x3e\n\n    \x3cdiv data-dojo-attach-point\x3d"winnerContainer" class\x3d"test-winner border-top border-bottom padding--lv3 !padding-left-right--lv0 hide"\x3e\n        \x3cdiv class\x3d"media"\x3e\n            \x3cdiv data-dojo-attach-point\x3d"screenshot" class\x3d"media-image border-gray" role\x3d"presentation" aria-hidden\x3d"true" style\x3d"width: 86px; height: 108px;"\x3e\x3c/div\x3e\n\n            \x3cdiv class\x3d"media-body"\x3e\n                \x3cdiv class\x3d"group size1of2"\x3e\n                    \x3ch4 class\x3d"!margin--lv0" data-dojo-attach-point\x3d"subject"\x3e\x3c/h4\x3e\n                    \x3cp class\x3d"!margin--lv0" data-dojo-attach-point\x3d"fromName"\x3e\x3c/p\x3e\n                    \x3cp class\x3d"fsi fwb small-meta dim-el" data-dojo-attach-point\x3d"contentDescription"\x3e\x3c/p\x3e\n                \x3c/div\x3e\n                \x3cdiv class\x3d"lastGroup size1of2 alignr left-on-small"\x3e\n                    \x3ca href\x3d"javascript:;" class\x3d"button p0 !margin--lv0" data-dojo-attach-point\x3d"sendBtn"\x3eSend to remaining recipients\x3c/a\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/templates/callout.html":'\x3cdiv class\x3d"c-callout-card c-media card-content"\x3e\n    \x3cdiv class\x3d"c-mediaImage--centered v-isFreddicon margin--lv2 margin-top-bottom--lv0 margin-left--lv0"\x3e\n        \x3cspan class\x3d"freddicon ${icon} margin--lv1 margin-top-bottom--lv0"\x3e\x3c/span\x3e\n    \x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"tipContainerNode" class\x3d"c-mediaBody--centered line-height--inherit"\x3e\n        \x3cp class\x3d"margin-bottom--lv0 small-meta link-underline"\x3e\n            \x3cspan class\x3d"fwb"\x3eTip:\x3c/span\x3e\n            \x3cspan data-dojo-attach-point\x3d"containerNode"\x3e\x3c/span\x3e\n        \x3c/p\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/shareOverlay/templates/email-add-viewers.html":'\x3cdiv data-element\x3d"add-emails-container" style\x3d"display: block"\x3e\n\t\x3cp class\x3d"fwb !margin-bottom--lv1"\x3eAdd viewers\x3c/span\x3e\x3c/p\x3e\n\n    \x3cdiv class\x3d"!margin-bottom--lv1" data-dojo-attach-point\x3d"shareListContainer"\x3e\x3c/div\x3e\n\n    \x3cp class\x3d"small-meta fwb !margin-bottom--lv2"\x3e\n    \tEach viewer will receive an email with a secure link to this report.\n    \t\x3ca data-action\x3d"show-note" class\x3d"cursor-pointer"\x3eAdd Message (Optional)\x3c/a\x3e\n    \x3c/p\x3e\n    \n    \x3cfieldset data-element\x3d"email-note-text" style\x3d"display: none"\x3e\n        \x3clabel\x3eMessage\x3c/label\x3e\n        \x3ctextarea class\x3d"av-text !margin-bottom--lv1" name\x3d"share-note" data-dojo-attach-point\x3d"shareNote" placeholder\x3d"Check out this report from our MailChimp campaign."\x3e\x3c/textarea\x3e\n    \x3c/fieldset\x3e\n    \x3ca data-action\x3d"cancel-note" style\x3d"display: none" class\x3d"small-meta cursor-pointer fwb !margin-bottom--lv2"\x3eCancel Message\x3c/a\x3e\n\x3c/div\x3e',
"url:mojo/widgets/input/templates/shareList.html":'\x3cdiv\x3e\n    \x3cdiv class\x3d"field-wrapper condition-value"\x3e\n        \x3cdiv class\x3d"c-tagInput" tabindex\x3d"-1" data-dojo-attach-point\x3d"tagInputDom"\x3e\n            \x3cdiv class\x3d"c-tagListDropdown small-meta fwb textcolor absolute border-radius--lv0 padding--lv0" data-dojo-attach-point\x3d"operatorDom"\x3e\x3c/div\x3e\n            \x3cul class\x3d"c-tagList" data-dojo-attach-point\x3d"containerNode"\x3e\x3c/ul\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3cdiv class\x3d"relative" data-dojo-attach-point\x3d"dropDownPopup" style\x3d"display: none;"\x3e\n        \x3cdiv class\x3d"absolute !margin-bottom--lv6 full-width zin-lv4 bg-white border-radius--lv2 border-gray popover-shadow" style\x3d"max-height: 300px; overflow-y: scroll"\x3e\n        \x3cul class\x3d"regular popover-shadow" data-dojo-attach-point\x3d"selectOptions"\x3e\x3c/ul\x3e\n\n            \x3cul data-dojo-attach-point\x3d\'getGoogleData\' class\x3d"media-list v-bg-base-gray padding--lv2 textcolor cursor-pointer" style\x3d"border-radius: 0px 0px 6px 6px; display: none"\x3e\n                \x3cli\x3e\n                    \x3ca data-dojo-attach-point\x3d\'googleAuthLink\' href\x3d"#" class\x3d"textcolor"\x3e\n                        \x3cdiv class\x3d"media"\x3e\n                            \x3cdiv class\x3d"media-image"\x3e\n                                \x3cimg height\x3d"48" width\x3d"48" src\x3d"/images/icons/Google_Contacts_logo.png"\x3e\n                            \x3c/div\x3e\n                            \x3cdiv data-dojo-attach-point\x3d"googleText" class\x3d"media-body"\x3e\n                                \x3cspan class\x3d\'fwb block\'\x3eImport Google Contacts\x3c/span\x3e\n                                \x3cspan\x3eShare this with contacts from your Google account.\x3c/span\x3e\n                            \x3c/div\x3e\n                        \x3c/div\x3e\n                    \x3c/a\x3e\n                \x3c/li\x3e\n            \x3c/ul\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3cinput type\x3d"hidden" data-dojo-attach-point\x3d"emailListInput" name\x3d"emails" /\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/input/templates/shareListOption.html":'\x3cli\x3e\n    \x3ca data-dojo-attach-point\x3d"anchor" class\x3d"!margin--lv0" href\x3d"javascript:;" dropdown-option\x3d"true"\x3e\n        \x3cspan data-dojo-attach-point\x3d"boldText" class\x3d"fwb inline-block"\x3e\x3c/span\x3e\n        \x3cspan data-dojo-attach-point\x3d"subText"\x3e\x3c/span\x3e\n    \x3c/a\x3e\n\x3c/li\x3e\n',"url:mojo/widgets/shareOverlay/templates/email-manage-viewers.html":'\n\x3cdiv class\x3d"!margin-bottom--lv3 full-width float-left"\x3e\n\t\x3cp class\x3d"fwb large-meta"\x3eYour report has been shared with:\x3c/p\x3e\n\n\t\x3chr class\x3d"!margin-bottom--lv2" /\x3e\n\n\t\x3cul class\x3d"!margin-bottom--lv1" data-dojo-attach-point\x3d"listOfViewers"\x3e\n\t    \x3c!-- filled with viewers by JS --\x3e\n\t\x3c/ul\x3e\n\n\t\x3chr class\x3d"full-width" /\x3e\n\x3c/div\x3e',
"url:mojo/widgets/shareOverlay/templates/email-viewer.html":'\x3cli class\x3d"full-width float-left"\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"displayMode"\x3e\n\t\t\x3cdiv class\x3d"float-left display-inline-block"\x3e\n\t\t\t\x3cdiv class\x3d"block"\x3e\n\t\t\t\t\x3cstrong data-dojo-attach-point\x3d"boldText"\x3e\x3c/strong\x3e\n\t\t\t\t\x3cspan data-dojo-attach-point\x3d"lightText"\x3e\x3c/span\x3e\n\t\t\t\x3c/div\x3e\n\n\t\t\t\x3cdiv class\x3d"!margin-bottom--lv2 block small-meta"\x3e\n\t\t\t\t\x3cspan data-dojo-attach-point\x3d"statusFreddicon" class\x3d""\x3e\x3c/span\x3e\n\t\t\t\t\x3cspan data-dojo-attach-point\x3d"statusText"\x3e\x3c/span\x3e\n\t\t\t\t\x3ca data-dojo-attach-point\x3d"resendReportLink" data-action\x3d"resend-report" class\x3d"cursor-pointer" style\x3d"display: none"\x3eResend report.\x3c/a\x3e\n\t\t\t\x3c/div\x3e\n\t\t\x3c/div\x3e\n\n\t\t\x3cdiv class\x3d"float-right display-inline-block"\x3e\n\t\t\t\x3ca data-action\x3d"revoke-share" data-dojo-attach-point\x3d"revokeAccessLink" class\x3d"underline cursor-pointer"\x3eRevoke Access\x3c/a\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\n\t\x3cdiv data-dojo-attach-point\x3d"revokeMode" style\x3d"display: none"\x3e\n\t\t\x3cp\x3eReport access for \x3cstrong data-dojo-attach-point\x3d"revokedEmail"\x3e\x3c/strong\x3e has been revoked.\x3c/p\x3e\n\t\x3c/div\x3e\n\x3c/li\x3e',
"url:mojo/widgets/shareOverlay/templates/permissions-sharing.html":' \x3cdiv class\x3d"!margin-bottom--lv3"\x3e\n    \x3cdiv style\x3d"display: block;"\x3e\n        \x3cfieldset\x3e\n            \x3clabel class\x3d"fwb !margin-bottom--lv1 !padding--lv0 inline-block float-left"\x3eSet password\x3c/label\x3e\n\n            \x3cdiv class\x3d"float-right"\x3e\n                \x3ca data-action\x3d"toggle-password-visibility" class\x3d"c-showPassword c-showPassword--showIcon fwb !margin-bottom--lv1 inline-block relative cursor-pointer"\x3eShow\x3c/a\x3e\n            \x3c/div\x3e\n\n            \x3cinput data-dojo-attach-point\x3d"passwordInput" type\x3d"password" class\x3d"av-text !margin-bottom--lv1" placeholder\x3d"" /\x3e\n\n            \x3cdiv class\x3d"feedback-block warning section hide" role\x3d"status" data-dojo-attach-point\x3d"passChangeWarning"\x3e\n                \x3cdiv class\x3d"lastUnit size1of1"\x3e\n                    \x3cdiv class\x3d"c-media"\x3e\n                        \x3cdiv class\x3d"c-mediaImage v-isFreddicon"\x3e\n                            \x3cspan class\x3d"freddicon warn-circle"\x3e\x3c/span\x3e\n                        \x3c/div\x3e\n                        \x3cdiv class\x3d"c-mediaBody--centered"\x3e\n                            \x3ch4\x3eAre you sure you want to change the report password?\x3c/h4\x3e\n                            \x3cp\x3eChanging the password will affect all previous shares. You will need to individually email previous viewers with the new password.\n                            \x3c/p\x3e\n                        \x3c/div\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n\n            \x3cp class\x3d"small-meta fwb"\x3eWe\'ll share the password when we send the report to your viewers.\x3c/p\x3e\n\n        \x3c/fieldset\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/shareOverlay/templates/social-sharing.html":'\x3cdiv\x3e\n    \x3cp class\x3d"fwb !margin-bottom--lv2"\x3eSocial Sharing\x3c/span\x3e\x3c/p\x3e\n\n    \x3cdiv\x3e\n        \x3ca class\x3d"button" href\x3d"" target\x3d"_blank" data-dojo-attach-point\x3d"shareFacebook"\x3eFacebook\x3c/a\x3e\n        \x3ca class\x3d"button" href\x3d"" target\x3d"_blank" data-dojo-attach-point\x3d"shareTwitter"\x3eTwitter\x3c/a\x3e\n        \x3ca class\x3d"button" href\x3d"" target\x3d"_blank" data-dojo-attach-point\x3d"sharePinterest"\x3ePintrest\x3c/a\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',
"url:mojo/widgets/shareOverlay/templates/share-overlay.html":'\x3cdiv data-element\x3d"share-overlay" class\x3d"c-baseOverlay selfclear" aria-hidden\x3d"true"\x3e\n\n    \x3c!-- CLOSE OVERLAY --\x3e\n    \x3cdiv data-dojo-attach-point\x3d"closeButton" title\x3d"Close menu" class\x3d"close-overlay close-right freddicon cross absolute cursor-pointer"\x3e\x3c/div\x3e\n\n    \x3cdiv data-dojo-attach-point\x3d"viewContainer" class\x3d"mc-small-content centered"\x3e\n\n        \x3c!-- Overlay header --\x3e\n        \x3cdiv\x3e\n            \x3ch1 class\x3d"alignc !margin-bottom--lv0 fwb capitalize"\x3e\n                Share \x3cspan data-document-type\x3d"unset"\x3eDocument\x3c/span\x3e\n            \x3c/h1\x3e\n            \x3cp class\x3d"alignc dim-el !margin-bottom--lv6"\x3e\n                \x3cspan class\x3d"fwb"\x3eCampaign: \x3c/span\x3e\x3cspan data-dojo-attach-point\x3d"title"\x3eDocument Title\x3c/span\x3e\n                \x3cbr /\x3e\n                \x3cspan class\x3d"fwb"\x3eSent on: \x3c/span\x3e\x3cspan data-dojo-attach-point\x3d"sendTime"\x3e\x3c/span\x3e\n            \x3c/p\x3e\n        \x3c/div\x3e\n        \x3c!-- end header --\x3e\n\n        \x3cdiv data-dojo-attach-point\x3d"successBlock" class\x3d"feedback-block success section" style\x3d"display: none" role\x3d"status"\x3e\n            \x3cdiv class\x3d"lastUnit size1of1"\x3e\n                \x3cdiv class\x3d"c-media"\x3e\n                    \x3cdiv class\x3d"c-mediaImage v-isFreddicon"\x3e\n                        \x3cspan class\x3d"freddicon tick-circle"\x3e\x3c/span\x3e\n                    \x3c/div\x3e\n                    \x3cdiv class\x3d"c-mediaBody--centered"\x3e\n                        \x3ch4\x3eYour report has been sent!\x3c/h4\x3e\n                        \x3cp\x3eYou can manage or add viewers from this page.\x3c/p\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3cdiv data-dojo-attach-point\x3d"errorBlock" class\x3d"feedback-block error section" style\x3d"display: none" role\x3d"status"\x3e\n            \x3cdiv class\x3d"lastUnit size1of1"\x3e\n                \x3cdiv class\x3d"c-media"\x3e\n                    \x3cdiv class\x3d"c-mediaImage v-isFreddicon"\x3e\n                        \x3cspan class\x3d"freddicon not-allowed"\x3e\x3c/span\x3e\n                    \x3c/div\x3e\n                    \x3cdiv class\x3d"c-mediaBody--centered"\x3e\n                        \x3ch4\x3eUh oh, something went wrong!\x3c/h4\x3e\n                        \x3cp data-dojo-attach-point\x3d"errorText"\x3e\x3c/p\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3c!-- Dynamically loaded widgets based on resource type --\x3e\n        \x3cdiv data-mc-group\x3d"overlay-content"\x3e\n            \n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/shareOverlay/templates/share-overlay-caller.html":'\x3cspan data-dojo-attach-point\x3d"containerNode"\x3e\x3c/span\x3e',"url:mojo/widgets/input/templates/backgroundInput.html":'\x3cdiv class\x3d"line style-field"\x3e\n\n    \x3clabel\x3eBackground\x3c/label\x3e\n\n    \x3cdiv data-dojo-attach-point\x3d"noImageContainer"\x3e\n        \x3cp class\x3d"c-paneLabel--small"\x3e\n            Color\n            \x3ca href\x3d"#" data-dojo-attach-point\x3d"chooseImageLink" class\x3d"fwb noborder margin--lv2 margin-top-bottom--lv0 margin-right--lv0"\x3eAdd an image instead\x3c/a\x3e\n        \x3c/p\x3e\n\n        \x3cdiv data-dojo-type\x3d"mojo/widgets/input/Color"\n             data-dojo-attach-point\x3d"colorInput"\n             data-dojo-props\x3d"skipContainer:true, valueOnEmpty:\'transparent\', noColorEnabled: true"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3cdiv data-dojo-attach-point\x3d"withImageContainer" class\x3d"hide"\x3e\n        \x3cdiv data-dojo-attach-point\x3d"imageRowNode"\x3e\n            \x3cdiv data-dojo-type\x3d"mojo/widgets/input/BackgroundImage"\n                 data-dojo-attach-point\x3d"imageInput"\x3e\x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3cdiv data-dojo-attach-point\x3d"imageInputContainer" class\x3d"style-field"\x3e\n            \x3cdiv data-dojo-attach-point\x3d"sizeNode" class\x3d"unit size1of3 padding-left--lv0"\x3e\n                \x3cp class\x3d"c-paneLabel--small"\x3eSize\x3c/p\x3e\n\n                \x3cdiv data-dojo-type\x3d"mojo/widgets/input/BackgroundSize"\n                     data-dojo-attach-point\x3d"sizeInput"\n                     data-dojo-props\x3d"skipContainer:true, class:\'!margin--lv0\'"\x3e\x3c/div\x3e\n            \x3c/div\x3e\n\n            \x3cdiv data-dojo-attach-point\x3d"positionNode" class\x3d"unit size1of3 padding-left--lv0"\x3e\n                \x3cp class\x3d"c-paneLabel--small"\x3ePosition\x3c/p\x3e\n\n                \x3cdiv data-dojo-type\x3d"mojo/widgets/input/BackgroundPosition"\n                     data-dojo-attach-point\x3d"positionInput"\n                     data-dojo-props\x3d"skipContainer:true, class:\'!margin--lv0\'"\x3e\x3c/div\x3e\n            \x3c/div\x3e\n\n            \x3cdiv data-dojo-attach-point\x3d"repeatNode" class\x3d"lastUnit size1of3 padding-left--lv0"\x3e\n                \x3cp class\x3d"c-paneLabel--small"\x3eRepeat\x3c/p\x3e\n\n                \x3cdiv data-dojo-type\x3d"mojo/widgets/input/BackgroundRepeat"\n                     data-dojo-attach-point\x3d"repeatInput"\n                     data-dojo-props\x3d"skipContainer:true, class:\'!margin--lv0\'"\x3e\x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3cdiv data-dojo-attach-point\x3d"fallbackColorNode" class\x3d"margin-bottom--lv1"\x3e\n            \x3cp class\x3d"c-paneLabel--small"\x3eFallback color\x3c/p\x3e\n\n            \x3cdiv data-dojo-type\x3d"mojo/widgets/input/Color"\n                 data-dojo-attach-point\x3d"fallbackColorInput"\n                 data-dojo-props\x3d"skipContainer:true, valueOnEmpty:\'transparent\', noColorEnabled: true" class\x3d"margin-bottom--lv1"\x3e\x3c/div\x3e\n\n            \x3cdiv class\x3d"field-help margin--lv0"\x3e\n                \x3cspan class\x3d"block"\x3eUsed if background images are \x3ca href\x3d"http://kb.mailchimp.com/campaigns/design/add-a-background-image-to-a-campaign#About-Background-Images" target\x3d"_blank"\x3enot supported\x3c/a\x3e.\x3c/span\x3e\n                \x3cspan class\x3d"block"\x3eChoose a color that will display your text properly.\x3c/span\x3e\n            \x3c/div\x3e\n\n        \x3c/div\x3e\n\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/input/templates/backgroundImageInput.html":'\x3cdiv class\x3d"style-field selfclear style-backgroundimage"\x3e\n    \x3cp class\x3d"c-paneLabel--small"\x3e\n        Image\n        \x3ca href\x3d"#" class\x3d"fwb noborder fwb noborder margin--lv2 margin-top-bottom--lv0 margin-right--lv0 hide" data-dojo-attach-point\x3d"removeLink"\x3eRemove image\x3c/a\x3e\n    \x3c/p\x3e\n\n    \x3cdiv data-dojo-attach-point\x3d"imageRowContainer"\x3e\x3c/div\x3e\n\x3c/div\x3e',"url:mojo/neapolitan/widgets/templates/imageRow.html":'\x3cdiv class\x3d"relative dojoDndItem" dndType\x3d"dndImageListItem"\x3e\n    \x3cdiv class\x3d"mojoImageItem"\x3e\n        \x3cdiv data-dojo-attach-point\x3d"dndHandle" class\x3d"hide mojoItemListItemHandle dojoDndHandle padding--lv2 absolute hide-dnd-avatar" title\x3d"Drag to Sort"\x3e\n            \x3cspan class\x3d"freddicon vellip"\x3e\x3c/span\x3e\n        \x3c/div\x3e\n\n        \x3cdiv class\x3d"c-media"\x3e\n\n            \x3cdiv class\x3d"c-mediaImage"\x3e\n                \x3cimg data-dojo-attach-point\x3d"imageNode" class\x3d"mojoImageItemIcon" src\x3d"/images/icons/empty-image.svg"\x3e\n            \x3c/div\x3e\n\n            \x3cdiv class\x3d"c-mediaBody"\x3e\n                \x3cp class\x3d"!margin-bottom--lv0 fwb overflow-ellipsis breakall wsnormal" data-dojo-attach-point\x3d"titleNode"\x3e\x3c/p\x3e\n                \x3cp class\x3d"!margin-bottom--lv0 small-meta overflow-ellipsis" data-dojo-attach-point\x3d"subtitleNode"\x3e\x3c/p\x3e\n                \x3cp class\x3d"!margin-bottom--lv0 small-meta overflow-ellipsis" data-dojo-attach-point\x3d"dimensionNode"\x3e\x3c/p\x3e\n\n                \x3cul data-dojo-attach-point\x3d"actionList" class\x3d"linear-list dots small-meta fwb selfclear hide-dnd-avatar"\x3e\x3c/ul\x3e\n\n                \x3cdiv data-dojo-attach-point\x3d"altTextContainer" class\x3d"imageAlt selfclear hide margin--lv2 !margin-left-right--lv0 hide-dnd-avatar"\x3e\n                    \x3clabel for\x3d"imagealt_${id}"\x3eImage Alt-Text \x3cspan class\x3d"small-meta"\x3e(\x3ca href\x3d"http://kb.mailchimp.com/article/what-is-alt-text" target\x3d"_blank"\x3eWhat\'s this?\x3c/a\x3e)\x3c/span\x3e\x3c/label\x3e\n\n                    \x3cinput data-dojo-attach-point\x3d"altTextInput" type\x3d"text" class\x3d"float-left altTextInput !margin-bottom--lv0" style\x3d"width:60%;" id\x3d"imagealt_${id}" value\x3d""\x3e\n\n                    \x3ca data-dojo-attach-point\x3d"altTextBtn" class\x3d"button float-left margin--lv2 !margin-top-bottom--lv0 !margin-right--lv0" href\x3d"#"\x3eUpdate\x3c/a\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3cdiv data-dojo-attach-point\x3d"feedbackContainer" class\x3d"feedback-block warning margin--lv2 !margin-left-right--lv0 hide-dnd-avatar hide" role\x3d"status"\x3e\n            \x3cdiv class\x3d"lastUnit size1of1"\x3e\n                \x3cdiv class\x3d"c-media"\x3e\n                    \x3cdiv class\x3d"c-mediaImage v-isFreddicon"\x3e\n                        \x3cspan class\x3d"freddicon warn-circle"\x3e\x3c/span\x3e\n                    \x3c/div\x3e\n                    \x3cdiv class\x3d"c-mediaBody--centered"\x3e\n                        \x3cp data-dojo-attach-point\x3d"feedbackNode"\x3e\x3c/p\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3cdiv data-dojo-attach-point\x3d"uploadOverlay" class\x3d"mojoImageListOverlay alignc absolute pos-tb0 pos-lr0 padding--lv5 !padding-left-right--lv0"\x3e\n        \x3cp class\x3d"!margin--lv0 full-width fwb dim-el"\x3eHang on, we\'re uploading here...\x3c/p\x3e\n        \x3cimg src\x3d"/images/loading_bar.gif" class\x3d"border-radius--lv1" /\x3e\n    \x3c/div\x3e\n\n\x3c/div\x3e\n',
"url:mojo/neapolitan/widgets/templates/imageRowMobile.html":'\x3cdiv class\x3d"relative dojoDndItem mojoItems--mobile" dndType\x3d"dndImageListItem"\x3e\n    \x3cdiv class\x3d"mojoImageItem"\x3e\n        \x3cdiv class\x3d"c-media"\x3e\n            \x3cdiv class\x3d"flex-auto text-align--center"\x3e\n                \x3cimg data-dojo-attach-point\x3d"imageNode" class\x3d"max-width--50" src\x3d"/images/icons/empty-image.svg"\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n        \x3cdiv class\x3d"padding-top--lv2 text-align--center"\x3e\n            \x3cp class\x3d"full-width !margin-bottom--lv0 fwb overflow-ellipsis breakall wsnormal" data-dojo-attach-point\x3d"titleNode"\x3e\x3c/p\x3e\n            \x3cp class\x3d"full-width !margin-bottom--lv0 small-meta overflow-ellipsis" data-dojo-attach-point\x3d"subtitleNode"\x3e\x3c/p\x3e\n            \x3cp class\x3d"full-width !margin-bottom--lv0 small-meta overflow-ellipsis" data-dojo-attach-point\x3d"dimensionNode"\x3e\x3c/p\x3e\n\n\n            \x3cdiv data-dojo-attach-point\x3d"altTextContainer" class\x3d"imageAlt selfclear hide margin--lv2 !margin-left-right--lv0 hide-dnd-avatar"\x3e\n                \x3clabel for\x3d"imagealt_${id}"\x3eImage Alt-Text \x3cspan class\x3d"small-meta"\x3e(\x3ca href\x3d"http://kb.mailchimp.com/article/what-is-alt-text" target\x3d"_blank"\x3eWhat\'s this?\x3c/a\x3e)\x3c/span\x3e\x3c/label\x3e\n\n                \x3cinput data-dojo-attach-point\x3d"altTextInput" type\x3d"text" class\x3d"float-left altTextInput !margin-bottom--lv0" style\x3d"width:60%;" id\x3d"imagealt_${id}" value\x3d""\x3e\n\n                \x3ca data-dojo-attach-point\x3d"altTextBtn" class\x3d"button float-left margin--lv2 !margin-top-bottom--lv0 !margin-right--lv0" href\x3d"#"\x3eUpdate\x3c/a\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n        \x3cdiv data-dojo-attach-point\x3d"actionList" class\x3d"flex-row flex-between padding-top--lv2"\x3e\x3c/div\x3e\n        \x3cdiv data-dojo-attach-point\x3d"feedbackContainer" class\x3d"feedback-block warning margin--lv2 !margin-left-right--lv0 hide-dnd-avatar hide" role\x3d"status"\x3e\n            \x3cdiv class\x3d"lastUnit size1of1"\x3e\n                \x3cdiv class\x3d"c-media"\x3e\n                    \x3cdiv class\x3d"c-mediaImage v-isFreddicon"\x3e\n                        \x3cspan class\x3d"freddicon warn-circle"\x3e\x3c/span\x3e\n                    \x3c/div\x3e\n                    \x3cdiv class\x3d"c-mediaBody--centered"\x3e\n                        \x3cp data-dojo-attach-point\x3d"feedbackNode"\x3e\x3c/p\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3cdiv data-dojo-attach-point\x3d"uploadOverlay" class\x3d"mojoImageListOverlay alignc absolute pos-tb0 pos-lr0 padding--lv5 !padding-left-right--lv0"\x3e\n        \x3cp class\x3d"!margin--lv0 full-width fwb dim-el"\x3eHang on, we\'re uploading here...\x3c/p\x3e\n        \x3cimg src\x3d"/images/loading_bar.gif" class\x3d"border-radius--lv1" /\x3e\n    \x3c/div\x3e\n\n\x3c/div\x3e\n',
"url:mojo/widgets/input/templates/dateTime.html":'\x3cdiv\x3e\n    \x3c!--True date value --\x3e\n    \x3cinput type\x3d"hidden" name\x3d"${name}" value\x3d"${value}" data-dojo-attach-point\x3d"formInput"\x3e\n\n    \x3cdiv class\x3d"inline-block margin--lv3 !margin-top-bottom--lv0 !margin-left--lv0"\x3e\n        \x3clabel for\x3d"${id}_datebox"\x3e${label}\x3c/label\x3e\n        \x3cinput id\x3d"${id}_datebox" type\x3d"text" required\x3d"true" data-dojo-attach-point\x3d"dateInput"\x3e\n    \x3c/div\x3e\n\n    \x3cdiv class\x3d"inline-block"\x3e\n        \x3cdiv class\x3d"schedule-meta !padding--lv0"\x3e\n\n            \x3cselect data-dojo-attach-point\x3d"hourSelect" class\x3d"select-small" style\x3d"width:auto"\x3e\n                \x3coption value\x3d"1"\x3e1\x3c/option\x3e\n                \x3coption value\x3d"2"\x3e2\x3c/option\x3e\n                \x3coption value\x3d"3"\x3e3\x3c/option\x3e\n                \x3coption value\x3d"4"\x3e4\x3c/option\x3e\n                \x3coption value\x3d"5"\x3e5\x3c/option\x3e\n                \x3coption value\x3d"6"\x3e6\x3c/option\x3e\n                \x3coption value\x3d"7"\x3e7\x3c/option\x3e\n                \x3coption value\x3d"8"\x3e8\x3c/option\x3e\n                \x3coption value\x3d"9"\x3e9\x3c/option\x3e\n                \x3coption value\x3d"10"\x3e10\x3c/option\x3e\n                \x3coption value\x3d"11"\x3e11\x3c/option\x3e\n                \x3coption value\x3d"12"\x3e12\x3c/option\x3e\n            \x3c/select\x3e\n\n            \x3cspan class\x3d"p inline-block-i"\x3e:\x3c/span\x3e\n\n            \x3cselect data-dojo-attach-point\x3d"minuteSelect" class\x3d"select-small" style\x3d"width:auto"\x3e\x3c/select\x3e\n\n            \x3cselect data-dojo-attach-point\x3d"meridiemSelect" class\x3d"select-small" style\x3d"width:auto"\x3e\n                \x3coption value\x3d"AM"\x3eAM\x3c/option\x3e\n                \x3coption value\x3d"PM"\x3ePM\x3c/option\x3e\n            \x3c/select\x3e\n\n            \x3cspan style\x3d"display:inline-block; margin: 0"\x3e${tzLabel}\x3c/span\x3e\n\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',
"url:dojox/form/resources/_CheckedMultiSelectMenuItem.html":'\x3ctr class\x3d"dijitReset dijitMenuItem" dojoAttachPoint\x3d"focusNode" role\x3d"menuitemcheckbox" tabIndex\x3d"-1"\n\tdojoAttachEvent\x3d"ondijitclick:_onClick"\n\t\x3e\x3ctd class\x3d"dijitReset dijitMenuItemIconCell" role\x3d"presentation"\n\t\t\x3e\x3cdiv src\x3d"${_blankGif}" alt\x3d"" class\x3d"dijitMenuItemIcon ${_iconClass}" dojoAttachPoint\x3d"iconNode"\n\t\t\t\x3e\x3cinput class\x3d"dojoxCheckedMultiSelectCheckBoxInput" dojoAttachPoint\x3d"inputNode" type\x3d"${_type.type}"\n\t\t/\x3e\x3c/div\x3e\x3c/td\n\t\x3e\x3ctd class\x3d"dijitReset dijitMenuItemLabel" colspan\x3d"2" dojoAttachPoint\x3d"containerNode,labelNode"\x3e\x3c/td\n\t\x3e\x3ctd class\x3d"dijitReset dijitMenuItemAccelKey" style\x3d"display: none" dojoAttachPoint\x3d"accelKeyNode"\x3e\x3c/td\n\t\x3e\x3ctd class\x3d"dijitReset dijitMenuArrowCell" role\x3d"presentation"\x3e\x26nbsp;\x3c/td\n\x3e\x3c/tr\x3e',
"url:dojox/form/resources/_CheckedMultiSelectItem.html":'\x3cdiv class\x3d"dijitReset ${baseClass}"\n\t\x3e\x3cinput class\x3d"${baseClass}Box" data-dojo-type\x3d"dijit.form.CheckBox" data-dojo-attach-point\x3d"checkBox" \n\t\tdata-dojo-attach-event\x3d"_onClick:_changeBox" type\x3d"${_type.type}" data-dojo-props\x3d\'disabled:${disabled}, readOnly:${readOnly}\' baseClass\x3d"${_type.baseClass}"\n\t/\x3e\x3cdiv class\x3d"dijitInline ${baseClass}Label" data-dojo-attach-point\x3d"labelNode" data-dojo-attach-event\x3d"onclick:_onClick"\x3e\x3c/div\n\x3e\x3c/div\x3e\n',
"url:dojox/form/resources/CheckedMultiSelect.html":'\x3cdiv class\x3d"dijit dijitReset dijitInline dijitLeft" id\x3d"widget_${id}"\n\t\x3e\x3cdiv data-dojo-attach-point\x3d"comboButtonNode"\n\t\x3e\x3c/div\n\t\x3e\x3cdiv data-dojo-attach-point\x3d"selectNode" class\x3d"dijit dijitReset dijitInline ${baseClass}Wrapper" data-dojo-attach-event\x3d"onmousedown:_onMouseDown,onclick:focus"\n\t\t\x3e\x3cselect class\x3d"${baseClass}Select dojoxCheckedMultiSelectHidden" multiple\x3d"true" data-dojo-attach-point\x3d"containerNode,focusNode"\x3e\x3c/select\n\t\t\x3e\x3cdiv data-dojo-attach-point\x3d"wrapperDiv"\x3e\x3c/div\n\t\x3e\x3c/div\n\x3e\x3c/div\x3e',
"url:mojo/widgets/input/templates/fontInput.html":'\x3cdiv class\x3d"line mojoFontInput"\x3e\n\n    \x3clabel\x3eText\x3c/label\x3e\n\n    \x3cdiv class\x3d"flex flex-row hide" data-dojo-attach-point\x3d"familyContainer"\x3e\x3c/div\x3e\n\n    \x3cdiv class\x3d"flex flex-row hide" data-dojo-attach-point\x3d"sizeColorContainer"\x3e\n        \x3cdiv class\x3d"margin--lv3 margin-top-bottom--lv0 margin-left--lv0 hide" data-dojo-attach-point\x3d"sizeContainer"\x3e\x3c/div\x3e\n        \x3cdiv class\x3d"hide" data-dojo-attach-point\x3d"colorContainer"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3cdiv class\x3d"flex flex-row hide" data-dojo-attach-point\x3d"styleAlignContainer"\x3e\n        \x3cdiv class\x3d"flex-grow-1 hide" data-dojo-attach-point\x3d"styleContainer"\x3e\x3c/div\x3e\n        \x3cdiv class\x3d"flex-grow-1 hide" data-dojo-attach-point\x3d"alignContainer"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3cdiv class\x3d"flex flex-row hide" data-dojo-attach-point\x3d"lineHeightSpacingContainer"\x3e\n        \x3cdiv class\x3d"flex-grow-1 margin--lv3 margin-top-bottom--lv0 margin-left--lv0 hide"\n             data-dojo-attach-point\x3d"lineHeightContainer"\x3e\x3c/div\x3e\n\n        \x3cdiv class\x3d"flex-grow-1 margin--lv3 margin-top-bottom--lv0 margin-left--lv0 hide"\n            data-dojo-attach-point\x3d"spacingContainer"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n\n\x3c/div\x3e',
"url:mojo/widgets/input/templates/optGroupLabel.html":'\x3ctr class\x3d"dijitMenuSeparator" role\x3d"separator"\x3e\n    \x3ctd class\x3d"dijitMenuSeparatorIconCell"\x3e\n        \x3cdiv class\x3d"dijitMenuSeparatorTop"\x3e\x3c/div\x3e\n        \x3cdiv class\x3d"dijitMenuSeparatorBottom"\x3e\x3c/div\x3e\n    \x3c/td\x3e\n    \x3ctd colspan\x3d"3" class\x3d"dijitMenuSeparatorLabelCell"\x3e\n        \x3cdiv class\x3d"dijitMenuSeparatorTop dijitMenuSeparatorLabel padding--lv2 padding-left-right--lv0"\x3e\n            \x3cspan class\x3d"font-weight--bold small-meta dim6 padding--lv3 padding-top-bottom--lv0"\x3e${label}\x3c/span\x3e\n        \x3c/div\x3e\n        \x3cdiv class\x3d"dijitMenuSeparatorBottom"\x3e\x3c/div\x3e\n    \x3c/td\x3e\n\x3c/tr\x3e\n',
"url:mojo/widgets/input/templates/fontSize.html":'\x3cdiv class\x3d"mojoFontSizeInput relative"\x3e\n    \x3cinput type\x3d"text" data-dojo-type\x3d"dijit/form/TextBox" data-dojo-attach-point\x3d"textInput"/\x3e\n\n    \x3cdiv data-dojo-attach-point\x3d"_buttonNode" class\x3d"absolute button mojoFontSizeInput_button"\x3e\n        \x3cdiv class\x3d"freddicon menu-down !margin--lv0 valign-middle" role\x3d"presentation"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',"url:mojo/widgets/input/templates/textAlignInput.html":'\x3cdiv class\x3d"lastGroup size1of1"\x3e\n\n    \x3cdiv class\x3d"flex"\x3e\n        \x3cinput type\x3d"radio" class\x3d"v-visuallyHidden v-buttonGroupControl" id\x3d"${id}_left" name\x3d"${name}" value\x3d"left"\x3e\n        \x3clabel for\x3d"${id}_left" class\x3d"v-buttonGroupLabel"\x3e\n            \x3cspan class\x3d"freddicon left-align" aria-label\x3d"Left align" role\x3d"img"\x3e\x3c/span\x3e\n        \x3c/label\x3e\n\n        \x3cinput type\x3d"radio" class\x3d"v-visuallyHidden v-buttonGroupControl" id\x3d"${id}_center" name\x3d"${name}" value\x3d"center"\x3e\n        \x3clabel for\x3d"${id}_center" class\x3d"v-buttonGroupLabel"\x3e\n            \x3cspan class\x3d"freddicon center-align" aria-label\x3d"Center align" role\x3d"img"\x3e\x3c/span\x3e\n        \x3c/label\x3e\n\n        \x3cinput type\x3d"radio" class\x3d"v-visuallyHidden v-buttonGroupControl" id\x3d"${id}_right" name\x3d"${name}" value\x3d"right"\x3e\n        \x3clabel for\x3d"${id}_right" class\x3d"v-buttonGroupLabel"\x3e\n            \x3cspan class\x3d"freddicon right-align" aria-label\x3d"Right align" role\x3d"img"\x3e\x3c/span\x3e\n        \x3c/label\x3e\n\n        \x3cinput type\x3d"radio" class\x3d"v-visuallyHidden v-buttonGroupControl" id\x3d"${id}_justify" name\x3d"${name}" value\x3d"justify"\x3e\n        \x3clabel for\x3d"${id}_justify" class\x3d"v-buttonGroupLabel"\x3e\n            \x3cspan class\x3d"freddicon justify" aria-label\x3d"Justify" role\x3d"img"\x3e\x3c/span\x3e\n        \x3c/label\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/input/templates/tagAutocomplete.html":'\x3cli class\x3d"c-tagList_item view-mode relative inline-block border-radius--lv1 valign-middle small-meta fwb textcolor selfclear" data-dojo-attach-point\x3d"tagDom"\x3e\n    \x3cdiv class\x3d"c-tagList_inner float-left padding--lv1 padding-top-bottom--lv0"\x3e\n        \x3cdiv class\x3d"c-tagList_label" data-dojo-attach-point\x3d"tagLabel"\x3e\x3c/div\x3e\n\n        \x3cdiv class\x3d"c-tagList_input small-meta fwb textcolor absolute pos-t0 pos-l0 pos-r0"\x3e\n            \x3cdiv data-dojo-type\x3d"dojo/store/Memory"\n                data-dojo-id\x3d"stateStore"\n                data-dojo-props\x3d"data: [{id: \'y\', name: \'yes\'}, {id: \'n\', name: \'no\'}]"\x3e\x3c/div\x3e\n            \x3cinput data-dojo-type\x3d"dijit/form/FilteringSelect"\n                   data-dojo-props\x3d"store:stateStore, searchAttr:\'name\'" data-dojo-attach-point\x3d"inputField"\n                   name\x3d"state" /\x3e\n        \x3c/div\x3e\n\n    \x3c/div\x3e\n    \x3cbutton class\x3d"c-tagList_remove float-left padding--lv1 padding-top-bottom--lv0 margin--lv0" data-dojo-attach-point\x3d"removeBtn" tabindex\x3d"-1"\x3e\n        \x3cspan class\x3d"freddicon cross !margin-right--lv0"\x3e\x3c/span\x3e\n    \x3c/button\x3e\n\x3c/li\x3e\n',
"url:mojo/widgets/ecommerce/templates/productPicker.html":'\x3cfieldset\x3e\n    \x3cdiv class\x3d"dijitDialogPaneContentArea"\x3e\n        \x3cdiv class\x3d"padding--lv3 !padding-left-right--lv0 padding-top--lv0" data-dojo-attach-point\x3d"storeContainer"\x3e\n            \x3clabel\x3eStore\x3c/label\x3e\n            \x3cselect class\x3d"!margin--lv0" data-dojo-type\x3d"dijit/form/Select" data-dojo-attach-point\x3d"storeSelect"\x3e\x3c/select\x3e\n        \x3c/div\x3e\n\n        \x3cdiv class\x3d"padding--lv3 !padding-left-right--lv0 padding-top--lv0" data-dojo-attach-point\x3d"productSearchContainer"\x3e\n            \x3clabel\x3eProduct\x3c/label\x3e\n            \x3cinput type\x3d"text" data-dojo-attach-point\x3d"productSearchInput"/\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3cdiv class\x3d"dijitDialogPaneActionBar" data-dojo-attach-point\x3d"buttonGroup"\x3e\n        \x3cbutton class\x3d"button p0" data-dojo-attach-point\x3d"saveBtn"\x3eInsert\x3c/button\x3e\n        \x3ca href\x3d"#" data-dojo-attach-point\x3d"cancelBtn" class\x3d"small-meta fwb"\x3eCancel\x3c/a\x3e\n    \x3c/div\x3e\n\x3c/fieldset\x3e',
"url:mojo/widgets/ecommerce/templates/productResultItem.html":'\x3cdiv class\x3d"c-media padding--lv1 padding-left-right--lv0"\x3e\n    \x3cdiv class\x3d"c-mediaImage"\x3e\n        \x3cdiv style\x3d"background: url({image_url}) no-repeat center/contain; width:48px; height:48px;" class\x3d"border-gray border-radius--lv1"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"c-mediaBody"\x3e\n        \x3cp class\x3d"font-weight--bold small-meta margin-bottom--lv0"\x3e{title}\x3c/p\x3e\n        \x3cp class\x3d"fwn small-meta margin-bottom--lv0"\x3e{price} \x26middot; SKU {sku}\x3c/p\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/content-manager/templates/DeselectAll.html":'\x3cdiv class\x3d"flex align-items--center"\x3e\n    \x3cp class\x3d"small-meta font-weight--bold margin--lv3 margin-top-bottom--lv0 margin-left--lv0 hide-mobile"\x3e\n        \x3cspan data-dojo-attach-point\x3d"desktopLabel"\x3eSomething\x3c/span\x3e selected\n    \x3c/p\x3e\n    \x3cbutton data-dojo-attach-point\x3d"deselectBtn"\x3e\n        \x3cspan class\x3d"hide-mobile"\x3eDeselect All\x3c/span\x3e\n        \x3cspan class\x3d"show-mobile"\x3e\n            Deselect \x3cspan data-dojo-attach-point\x3d"mobileLabel"\x3e\x3c/span\x3e\n        \x3c/span\x3e\n    \x3c/button\x3e\n\x3c/div\x3e\n',
"url:mojo/analytics/parts/templates/displayToggle.html":'\x3cdiv\x3e\n    \x3cul class\x3d"flex"\x3e\n        \x3cli class\x3d"c-buttonGroupItem"\x3e\n            \x3cbutton\n                type\x3d"button"\n                data-dojo-attach-point\x3d"grid"\n                class\x3d"c-buttonGroupButton v-buttonGroupBordered"\n                title\x3d"Toggle grid view"\x3e\n                    \x3cspan class\x3d"freddicon grid-view inline-block !margin-right--lv0"\x3e\x3c/span\x3e\n            \x3c/button\x3e\n        \x3c/li\x3e\n        \x3cli class\x3d"c-buttonGroupItem"\x3e\n            \x3cbutton\n                type\x3d"button"\n                data-dojo-attach-point\x3d"list"\n                class\x3d"c-buttonGroupButton v-buttonGroupBordered"\n                title\x3d"Toggle list view"\x3e\n                    \x3cspan class\x3d"freddicon list-view inline-block !margin-right--lv0"\x3e\x3c/span\x3e\n            \x3c/button\x3e\n        \x3c/li\x3e\n    \x3c/ul\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/campaigns/templates/Slat.html":'\x3cli class\x3d"c-campaignManager_slat flex flex-row position--relative flex-between flex-justify--start padding--lv2 padding-left--lv1 padding-right--lv0"\x3e\n    \x3cdiv class\x3d"c-campaignManager_slat_checkbox padding-right--lv2 hide-mobile"\x3e\n        \x3cinput type\x3d"checkbox" data-dojo-type\x3d"mojo/analytics/parts/SelectCheckBox" value\x3d"${campaignId}" \x3e\n    \x3c/div\x3e\n    \x3cdiv \n        class\x3d"c-campaignManager_slat_icon margin--lv3 position--relative margin-left--lv0 margin-top--lv0 margin-bottom--lv0"\n        data-dojo-attach-point\x3d"node_channelIcon"\n    \x3e\x3c/div\x3e\n    \x3cdiv class\x3d"c-campaignManager_slat_details flex-grow-0"\x3e\n        \x3ch4 class\x3d"margin-bottom--lv0 overflow-ellipsis"\x3e\n            \x3ca class\x3d"textcolor normal-meta" title\x3d"${title}" data-dojo-attach-point\x3d"node_titleLink"\x3e${title}\x3c/a\x3e\n        \x3c/h4\x3e\n        \x3cp class\x3d"margin-bottom--lv0 small-meta"\x3e\n            \x3cspan data-dojo-attach-point\x3d"node_typeName"\x3e\x3c/span\x3e\n            \x3cb\x3e\x26middot;\x3c/b\x3e\n            \x3cspan data-dojo-attach-point\x3d"node_listName"\x3e${listName}\x3c/span\x3e \n        \x3c/p\x3e\n        \n        \x3cp class\x3d"margin-bottom--lv0 small-meta" data-dojo-attach-point\x3d"node_additionalMetaData"\x3e\x3c/p\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"c-campaignManager_status hide-mobile"\x3e\n        \x3cspan data-dojo-attach-point\x3d"node_badge" class\x3d"badge"\x3e\x3c/span\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"flex-grow-1 padding-left--lv3"\x3e\n        \x3cdiv data-dojo-attach-point\x3d"node_stats" class\x3d"c-campaignManager_slat_stats flex justify-content--center hide-mobile"\x3e\n            \n        \x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"c-campaignManager_slat_actions"\x3e\n        \x3cdiv data-dojo-attach-point\x3d"node_actions"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n    \x3cscript data-dojo-attach-point\x3d"template_statWrapper" type\x3d"text/template"\x3e\n        \x3cdiv class\x3d\'c-campaignManager_slat_stat\'\x3e\x3c/div\x3e\n    \x3c/script\x3e\n    \x3cscript data-dojo-attach-point\x3d"template_statDetails" type\x3d"text/template"\x3e\n        \x3cdiv class\x3d"{type} padding-right--lv6"\x3e\n            \x3cp class\x3d"textcolor normal-meta font-weight--bold margin--lv0 full-width"\x3e{value}\x3c/p\x3e\n            \x3cp class\x3d"small-meta margin--lv0 full-width"\x3e{name}\x3c/p\x3e\n        \x3c/div\x3e\n    \x3c/script\x3e\n\x3c/li\x3e\n\n',
"url:mojo/widgets/campaigns/templates/CampaignActions.html":'\x3cdiv class\x3d"c-campaignManager_actionBar padding-bottom--lv2 zin-lv2 justify-content--space-between" mc:role\x3d"author"\x3e\n    \x3cdiv\x3e\n        \x3cspan class\x3d"c-campaignManager_actionBar_selectionCount padding-right--lv2"\x3e\x3cspan data-dojo-attach-point\x3d"node_selectionCount"\x3e0 campaigns\x3c/span\x3e selected\x3c/span\x3e\n        \x3cbutton class\x3d"button margin-right--lv0" type\x3d"button" data-dojo-attach-point\x3d"node_deselectButton"\x3eDeselect All\x3c/button\x3e\n    \x3c/div\x3e\n    \x3cdiv\x3e\n        \x3cdiv mc:role\x3d"author" data-dojo-attach-point\x3d"node_folderMoveButton"\x3e\x3c/div\x3e\n        \x3cbutton class\x3d"button margin-right--lv0" type\x3d"button" data-dojo-attach-point\x3d"node_deleteCampaignButton"\x3e\x3cspan class\x3d"hide-mobile"\x3eDelete\x3c/span\x3e\x3cspan class\x3d"show-mobile hide-desktop freddicon trash !margin--lv0"\x3e\x3c/span\x3e\x3c/button\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/campaigns/templates/CampaignArchiveUrl.html":'\x3cdiv data-dojo-attach-point\x3d"campaignArchive" class\x3d"c-campaignArchiveUrl"\x3e\n    \x3cdiv class\x3d"flex flex-between"\x3e\n        \x3clabel data-dojo-attach-point\x3d"label" for\x3d"url_token"\x3e${label}\x3c/label\x3e\n        \x3cspan data-dojo-attach-point\x3d"urlTokenCharCount" class\x3d"small-meta char-count-container font-weight--bold"\x3e\n            \x3cspan class\x3d"char-count float-right"\x3e\n                \x3cspan data-dojo-attach-point\x3d"campaignTokenNum" id\x3d"campaign-token-num"\x3e150\x3c/span\x3e\n                characters remaining\n            \x3c/span\x3e\n        \x3c/span\x3e\n    \x3c/div\x3e\n    \x3cinput id\x3d"url_token" type\x3d"text" name\x3d"url_token" class\x3d"!margin-bottom--lv0" data-dojo-attach-point\x3d"urlTokenInput" /\x3e\n    \x3cdiv\x3e\n        \x3cspan data-dojo-attach-point\x3d"campaignUrlPreview" class\x3d"word-wrap--break-all white-space--normal"\x3e\n            \x3cspan data-dojo-attach-point\x3d"rootDomainTokenWrap"\x3ehttp://${rootDomain}/${brandToken}/\x3c/span\x3e\x3cspan data-dojo-attach-point\x3d"campaignTokenWrap" class\x3d"c-campaignArchiveUrl_token font-weight--bold"\x3e${campaignToken}\x3c/span\x3e\n        \x3c/span\x3e\n        \x3cspan data-dojo-attach-point\x3d"containerNode"\x3e\x3c/span\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/campaigns/templates/CampaignBreadCrumb.html":'\x3ca href\x3d"#0"\x3eBack to Ongoing\x3c/a\x3e\n',"url:mojo/widgets/campaigns/templates/CampaignDownload.html":'\x3ca title\x3d"Download all sent campaigns and ads as zip"\x3eDownload Completed Campaigns\x3c/a\x3e\n',"url:mojo/widgets/campaigns/templates/SlatGroup.html":'\x3cdiv class\x3d"c-campaignManager_list_group margin--lv4 margin-bottom--lv0 margin-right--lv0 margin-left--lv0"\x3e\n    \x3ch6 class\x3d"c-campaignManager_list_group_heading small-meta font-weight--bold padding--lv1 padding-top--lv0 border-bottom-light"\x3e${name} \x3cspan data-dojo-attach-point\x3d"node_count"\x3e\x3c/span\x3e\x3c/h6\x3e\n    \x3cul data-dojo-attach-point\x3d"node_list"\x3e\x3c/ul\x3e\n    \x3cdiv class\x3d"text-align--center"\x3e\n        \x3cbutton data-dojo-attach-point\x3d"node_loadButton"\x3e${loadButtonText}\x3c/button\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/campaigns/templates/CampaignNav.html":'\x3cdiv\x3e\n    \x3cul class\x3d"" data-dojo-attach-point\x3d"node_bucketList"\x3e\x3c/ul\x3e\n    \x3cdiv class\x3d"border-bottom-light c-campaignManager_sidebar_divider margin--lv2 margin-left--lv0 margin-right--lv0"\x3e\x3c/div\x3e\n    \x3ca \n        href\x3d"#0" \n        data-dojo-attach-point\x3d"node_createFolderLink"\n        class\x3d"display--block font-weight--bold padding--lv1 margin-bottom--lv1"\n    \x3e\n        \x3cspan class\x3d"freddicon add-circle padding-right--lv1"\x3e\x3c/span\x3eCreate Folder\n    \x3c/a\x3e\n    \x3cul class\x3d"" data-dojo-attach-point\x3d"node_folderList"\x3e\x3c/ul\x3e\n    \x3cscript data-dojo-attach-point\x3d"template_bucketFilter" type\x3d"text/template"\x3e\n        \x3cli\x3e\n            \x3ca data-mc-el\x3d\'bucket-link\' href\x3d"#0" class\x3d"c-campaignManager_sidebar_link padding--lv1 border-radius--lv1"\x3e\n                \x3cspan class\x3d"freddicon {icon} !textcolor--gray4 padding-right--lv2"\x3e\x3c/span\x3e{label}\n            \x3c/a\x3e\n        \x3c/li\x3e\n    \x3c/script\x3e\n    \x3cscript data-dojo-attach-point\x3d"template_folderFilter" type\x3d"text/template"\x3e\n        \x3cli\x3e\n            \x3cspan data-action\x3d"view" class\x3d"position--relative c-campaignManager_sidebar_link flex align-items--center padding--lv1 border-radius--lv1 cursor--pointer" title\x3d"{name}"\x3e\n                \x3cspan class\x3d"freddicon no-comment !textcolor--gray4 padding-right--lv2"\x3e\x3c/span\x3e\n                \x3cspan class\x3d"overflow-ellipsis flex-grow-1"\x3e{name}\x3c/span\x3e\n                \x3cspan class\x3d"c-campaignManager_sidebar_badge badge "\x3e{count}\x3c/span\x3e\n                \x3ca href\x3d"#0" data-action\x3d"delete" class\x3d"freddicon cross c-campaignManager_sidebar_action position--absolute right--0 top--0 padding-top--lv1 padding-right--lv1 cursor--pointer zin-lv1"\x3e\x3c/a\x3e\n                \x3ca href\x3d"#0" data-action\x3d"edit" class\x3d"freddicon edit c-campaignManager_sidebar_action position--absolute right--0 top--0 padding-top--lv1 padding-right--lv5 cursor--pointer zin-0"\x3e\x3c/a\x3e\n            \x3c/span\x3e\n        \x3c/li\x3e\n    \x3c/script\x3e\n    \x3cscript data-dojo-attach-point\x3d"template_folderEdit" type\x3d"text/template"\x3e\n        \x3cinput type\x3d"text" class\x3d"c-campaignManager_sidebar_editInput display--inline-block" placeholder\x3d"Folder Name" value\x3d"{name}" /\x3e\n    \x3c/script\x3e\n\x3c/div\x3e\n\n',
"url:mojo/widgets/campaigns/templates/CampaignUrlErrorDialog.html":'\x3cdiv class\x3d"dijitDialogPaneContentArea"\x3e\n    \x3cdiv class\x3d"feedback-block warning section" role\x3d"status"\x3e\n      \x3cdiv class\x3d"lastUnit size1of1"\x3e\n        \x3cdiv class\x3d"c-media"\x3e\n          \x3cdiv class\x3d"c-mediaImage v-isFreddicon"\x3e\n            \x3cspan class\x3d"freddicon warn-circle"\x3e\x3c/span\x3e\n          \x3c/div\x3e\n          \x3cdiv class\x3d"c-mediaBody--centered"\x3e\n            \x3ch4\x3eCouldn\'t save campaign URL.\x3c/h4\x3e\n          \x3c/div\x3e\n        \x3c/div\x3e\n      \x3c/div\x3e\n    \x3c/div\x3e\n    \x3cp\x3e\n        We\'re having trouble saving your custom campaign URL. This issue could resolve in about 2 hours.\n    \x3c/p\x3e\n    \x3cp\x3e\n        You can choose to save your campaign as a draft and try again later, or continue to build your campaign now and\n        send with this default campaign URL:\n    \x3c/p\x3e\n    \x3cp class\x3d"full-width"\x3e\n        ${campaignUrl}\n    \x3c/p\x3e\n    \x3cdiv class\x3d"dijitDialogPaneActionBar"\x3e\n        \x3cbutton data-dojo-attach-point\x3d"continueButton" class\x3d"button p0" tabindex\x3d"1"\x3e\n            Continue\n        \x3c/button\x3e\n        \x3ca data-save-on-click href\x3d"${saveAndExitUrl}" class\x3d"small-meta font-weight--bold"\x3eSave for later\x3c/a\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/campaigns/templates/plainTextForm.html":'\x3cdiv\x3e\n    \x3ctextarea class\x3d"full-width" data-dojo-attach-point\x3d"textInput"\x3e\x3c/textarea\x3e\n\n    \x3cdiv class\x3d"dijitDialogPaneActionBar"\x3e\n        \x3ca href\x3d"#" data-dojo-attach-point\x3d"saveBtn" class\x3d"button p0"\x3eSave\x3c/a\x3e\n        \x3ca href\x3d"#" data-dojo-attach-point\x3d"cancelBtn" class\x3d"small-meta fwb"\x3eCancel\x3c/a\x3e\n        \x3ca href\x3d"#" data-dojo-attach-point\x3d"regenBtn" class\x3d"button float-right !margin-right--lv0"\x3eRegenerate from HTML\x3c/a\x3e\n    \x3c/div\x3e\n\n\x3c/div\x3e',
"url:mojo/widgets/automation/transactional/templates/TxEmailItem.html":'\x3cdiv\x3e\n    \x3cdiv data-dojo-attach-point\x3d"txEmailTitleWrapper" class\x3d"flex flex-between padding--lv2 padding-left-right--lv0 margin--lv3 margin-left-right--lv0 margin-top--lv0 border-bottom"\x3e\n        \x3cdiv class\x3d""\x3e\n            \x3cp data-dojo-attach-point\x3d"txEmailItemTitle" class\x3d"margin-bottom--lv0 font-weight--bold"\x3e\x3c/p\x3e\n        \x3c/div\x3e\n        \x3cdiv data-dojo-attach-point\x3d"txOrderStatusSwitchWrapper"\x3e\n            \x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"orderStatusSwitch" data-mc-group\x3d"orderStatusSwitch" data-dojo-type\x3d"mojo/widgets/Switch" data-dojo-props\x3d"sizeClass:\'switch-small !margin--lv0\'" title\x3d"Order Status"/\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3cdiv class\x3d"line flex"\x3e\n        \x3c!-- Preview and Edit email action --\x3e\n        \x3cdiv class\x3d"size1of3"\x3e\n            \x3c!-- Thumbnail Image and overlay --\x3e\n            \x3cdiv class\x3d"margin-bottom--lv3"\x3e\n                \x3cdiv data-dojo-type\x3d"mojo/widgets/ThumbnailPreview" data-dojo-attach-point\x3d"thumbnailPreview" data-dojo-props\x3d"imageUrl: \'${screenshotUrl}\'" data-dojo-attach-event\x3d"click: previewContent"\x3e\x3c/div\x3e\n            \x3c/div\x3e\n            \x3c!-- Design Button --\x3e\n            \x3cdiv class\x3d"text-align--center"\x3e\n                \x3ca data-dojo-attach-point\x3d"editDesignBtn" class\x3d"size1of1 button disabled" href\x3d"javascript:;"\x3eEdit design\x3c/a\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3c!-- Meta data order status email --\x3e\n        \x3cdiv class\x3d"size2of3 margin--lv3 margin-top--lv0 margin-right--lv0"\x3e\n            \x3c!-- Description Wrapper --\x3e\n            \x3cdiv data-dojo-attach-point\x3d"txEmailDescriptionWrapper" class\x3d"padding--lv4 padding-left-right--lv0 padding-top--lv0"\x3e\n                \x3cp class\x3d"!margin--lv0 small-meta fwb"\x3eDescription\x3c/p\x3e\n                \x3cp data-dojo-attach-point\x3d"txEmailDescription"\x3e\n                    Transactional Email Description\n                \x3c/p\x3e\n            \x3c/div\x3e\n            \x3c!-- Subject Wrapper --\x3e\n            \x3cdiv data-dojo-attach-point\x3d"txSubjectWrapper" class\x3d"hide"\x3e\n                \x3cp class\x3d"!margin--lv0 small-meta fwb"\x3e\n                    Subject\n                    \x3cspan data-dojo-attach-point\x3d"subjectCharCountWrapper" class\x3d"small-meta float-right dim-el hide"\x3e\n                        \x3cspan data-dojo-attach-point\x3d"subjectCharRemaining"\x3e0\x3c/span\x3e characters remaining\n                    \x3c/span\x3e\n                \x3c/p\x3e\n                \x3cp data-dojo-attach-point\x3d"txSubjectContainer"\x3e\n                    \x3cspan data-dojo-attach-point\x3d"txSubjectString"\x3e\x3c/span\x3e \x3ca data-dojo-attach-event\x3d"click: txEditSubject" class\x3d"small-meta margin--lv1 margin-top-bottom--lv0 margin-right--lv0" href\x3d"javascript:;"\x3eEdit\x3c/a\x3e\n                \x3c/p\x3e\n            \x3c/div\x3e\n            \x3c!-- Subject form --\x3e\n            \x3cdiv data-dojo-attach-point\x3d"txSubjectFormWrapper" class\x3d"field-wrapper readable-max-width hide"\x3e\n                \x3cdiv data-dojo-attach-point\x3d"txEmojiPicker" data-dojo-type\x3d"mojo/widgets/EmojiPicker" class\x3d"relative"\x3e\n                    \x3cinput data-dojo-attach-point\x3d"subjectData" data-dojo-attach-event\x3d"keyup: checkSubjectLength" type\x3d"text" spellcheck\x3d"true"/\x3e\n                \x3c/div\x3e\n\n                \x3cdiv class\x3d"line"\x3e\n                    \x3cbutton class\x3d"button p0" data-dojo-attach-point\x3d"txSaveSubjectBtn" data-dojo-attach-event\x3d"click: txSaveSubject"\x3eSave Subject\x3c/button\x3e\n                    \x3ca href\x3d"javascript:;" data-dojo-attach-event\x3d"click: txCancelEditSubject"\x3eCancel\x3c/a\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n            \x3c!-- Order Status Validation --\x3e\n            \x3cdiv data-dojo-attach-point\x3d"txOrderStatusValidationWrapper" class\x3d"hide"\x3e\n                \x3cul\x3e\n                    \x3cli class\x3d"small-meta small-meta padding--lv1 padding-left-right--lv0 padding-top--lv0"\x3e\n                        \x3cspan class\x3d"freddicon tick-circle v-textColorGreen padding--lv1 padding-top-bottom--lv0 padding-left--lv0"\x3e\x3c/span\x3e A plain-text version of this email will be included.\n                    \x3c/li\x3e\n                    \x3cli data-dojo-attach-point\x3d"txValidationHasPrex" class\x3d"small-meta small-meta padding--lv1 padding-left-right--lv0 padding-top--lv0 hide"\x3e\n                        \x3cspan class\x3d"freddicon info-circle-color padding--lv1 padding-top-bottom--lv0 padding-left--lv0"\x3e\x3c/span\x3e This email includes Product recommendations.\n                    \x3c/li\x3e\n                    \x3cli data-dojo-attach-point\x3d"txValidationBadUrls" class\x3d"small-meta padding--lv1 padding-left-right--lv0 padding-top--lv0 hide"\x3e\n                        \x3cspan class\x3d"freddicon cross-circle v-textColorRedLight padding--lv1 padding-top-bottom--lv0 padding-left--lv0"\x3e\x3c/span\x3e Your content includes URLs or links to external sites.\n                    \x3c/li\x3e\n                    \x3cli data-dojo-attach-point\x3d"txValidationBadLength" class\x3d"small-meta padding--lv1 padding-left-right--lv0 padding-top--lv0 hide"\x3e\n                        \x3cspan class\x3d"freddicon cross-circle v-textColorRedLight padding--lv1 padding-top-bottom--lv0 padding-left--lv0"\x3e\x3c/span\x3e Your content exceeds the maximum character count.\n                    \x3c/li\x3e\n                \x3c/ul\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/ads/templates/FacebookPreview.html":'\x3cdiv\x3e\n    \x3cdiv data-dojo-attach-point\x3d"buttons" class\x3d"flex justify-content--center"\x3e\x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"childButtons" class\x3d"flex justify-content--center"\x3e\x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"containerNode"\x3e\x3c/div\x3e\n\x3c/div\x3e\n',"url:mojo/widgets/ads/templates/FacebookPreviewButtonItemBordered.html":'\x3cli class\x3d"c-buttonGroupItem"\x3e\n    \x3cbutton type\x3d"button"\n            data-mc-value\x3d"{value}"\n            title\x3d"{title}"\n            class\x3d"c-buttonGroupButton v-buttonGroupBordered flex align-items--center"\x3e\n        \x3cimg role\x3d"presentation"\n             src\x3d"/images/icons/{value}_2x18.png"\n             width\x3d"18"\n             height\x3d"18"\n             alt\x3d""\n             class\x3d"margin--lv2 margin-left--lv0 margin-top-bottom--lv0"\x3e\n        \x3cspan\x3e{label}\x3c/span\x3e\n    \x3c/button\x3e\n\x3c/li\x3e\n',
"url:mojo/widgets/ads/templates/FacebookPreviewButtonItemUnderlined.html":'\x3cli class\x3d"c-buttonGroupItem"\x3e\n    \x3cbutton type\x3d"button"\n            data-mc-value\x3d"{value}"\n            title\x3d"{title}"\n            class\x3d"c-buttonGroupButton v-buttonGroupUnderlined"\x3e\n        {label}\n    \x3c/button\x3e\n\x3c/li\x3e\n',"url:mojo/widgets/ads/templates/PreviewOverlayTemplate.html":'\x3cdiv class\x3d"c-adPreview padding--lv6 padding-left-right--lv0"\x3e\n    \x3cdiv class\x3d"mc-content"\x3e\n        \x3cp class\x3d"full-width text-align--center margin-bottom--lv5"\x3e\x3cstrong\x3eThese are sample previews.\x3c/strong\x3e Each ad will be generated in a variety of sizes to give them more opportunities for great placement.\x3c/p\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"mc-content c-ghostBrowser border-radius--lv2 border-gray position--relative"\x3e\n        \x3cdiv class\x3d"flex-row justify-content--center margin--lv6 margin-left-right--lv0 padding--lv3 padding-left-right--lv0 padding-bottom--lv0 border-top-light"\x3e\n            \x3cdiv class\x3d"c-adPreview--970x90 overflow--hidden border-gray"\x3e\n                \x3cdiv class\x3d"c-adProduct--970 display--table-cell vertical-align--middle"\x3e\n                    \x3cimg src\x3d"{_product}" class\x3d"padding--lv1" width\x3d"171" height\x3d"90"\x3e\n                \x3c/div\x3e\n                \x3cdiv class\x3d"c-adHeadline--970 display--table-cell vertical-align--middle padding--lv2 padding-top-bottom--lv0 position--relative"\x3e\n                    {_headline}\n                    \x3cdiv class\x3d"c-adUrl--970 position--absolute"\x3e{_url}\x3c/div\x3e\n                \x3c/div\x3e\n                \x3cdiv class\x3d"c-adDescription--970 display--table-cell vertical-align--middle padding--lv5 padding-top-bottom--lv0"\x3e{_description}\x3c/div\x3e\n                \x3cdiv class\x3d"c-adButton--970 display--table-cell vertical-align--middle"\x3e\x3cimg src\x3d"/images/ads/google-preview-button.svg" alt\x3d"" width\x3d"42" height\x3d"42"\x3e\x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n        \x3cdiv class\x3d"flex-row padding--lv4 padding-top-bottom--lv0"\x3e\n            \x3cdiv class\x3d"flex--1"\x3e\n                \x3cimg src\x3d"/images/ads/jailblimp.svg" alt\x3d"" class\x3d"margin--lv3 margin-top--lv0 margin-left-right--lv0"\x3e\n                \x3cdiv class\x3d"flex-row"\x3e\n                    \x3cdiv class\x3d"c-adPreview--300x250 overflow--hidden border-gray display--inline-block vertical-align--top margin--lv3 margin-top-bottom--lv0 margin-left--lv0"\x3e\n                        \x3cdiv class\x3d"c-adProduct--300"\x3e\n                            \x3cimg src\x3d"{_product}" class\x3d"padding--lv1" width\x3d"300" height\x3d"157"\x3e\n                        \x3c/div\x3e\n                        \x3cdiv class\x3d"c-adHeadline--300 padding--lv2 padding-top-bottom--lv0"\x3e{_headline}\x3c/div\x3e\n                        \x3cdiv class\x3d"c-adDescription--300 margin--lv2 position--relative"\x3e\n                            {_description}\n\n                            \x3cdiv class\x3d"c-adButton--300 position--absolute pos-t0" style\x3d"right: -56px"\x3e\x3cimg src\x3d"/images/ads/google-preview-button.svg" alt\x3d"" width\x3d"39" height\x3d"39"\x3e\x3c/div\x3e\n                        \x3c/div\x3e\n                        \x3cdiv class\x3d"c-adUrl--300 margin--lv2 margin-top-bottom--lv0"\x3e{_url}\x3c/div\x3e\n                    \x3c/div\x3e\n                    \x3cdiv class\x3d"flex--1 v-stripedBackground--gray" style\x3d"height: 270px"\x3e\x3c/div\x3e\n                \x3c/div\x3e\n                \x3cdiv class\x3d"v-stripedBackground--gray" style\x3d"height: 210px"\x3e\x3c/div\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"c-adPreview--160x600 overflow--hidden border-gray text-align--center margin--lv3 margin-top--lv0 margin-right--lv0"\x3e\n                \x3cdiv class\x3d"c-adProduct--160"\x3e\n                    \x3cimg src\x3d"{_product}" class\x3d"padding--lv1" alt\x3d"" width\x3d"160" height\x3d"83"\x3e\n                \x3c/div\x3e\n                \x3cdiv class\x3d"c-adHeadline--160 padding--lv4 padding-top-bottom--lv0 flex align-items--center"\x3e{_headline}\x3c/div\x3e\n                \x3cdiv class\x3d"c-adDescription--160 margin--lv3 margin-top-bottom--lv0 flex align-items--center"\x3e{_description}\x3c/div\x3e\n                \x3cdiv class\x3d"c-adButton--160" style\x3d"height: 44px"\x3e\x3cimg src\x3d"/images/ads/google-preview-button.svg" alt\x3d"" width\x3d"44" height\x3d"44"\x3e\x3c/div\x3e\n                \x3cdiv class\x3d"c-adUrl--160 margin--lv2 margin-top-bottom--lv0"\x3e{_url}\x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n        \x3cdiv class\x3d"flex-row justify-content--space-between padding--lv4 padding-top--lv0"\x3e\n            \x3cdiv class\x3d"flex--1"\x3e\n                \x3cdiv class\x3d"v-stripedBackground--gray full-height"\x3e\x3c/div\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"c-adPreview--320x50 display--inline-block vertical-align--top margin--lv3 margin-top-bottom--lv0"\x3e\n                \x3cdiv class\x3d"display--table overflow--hidden border-gray full-width"\x3e\n                    \x3cdiv class\x3d"c-adProduct--320 display--table-cell vertical-align--middle"\x3e\n                        \x3cimg src\x3d"{_product}" class\x3d"padding--lv1" width\x3d"95" height\x3d"50"\x3e\n                    \x3c/div\x3e\n                    \x3cdiv class\x3d"c-adHeadline--320 display--table-cell vertical-align--middle"\x3e{_headline}\x3c/div\x3e\n                    \x3cdiv class\x3d"c-adButton--320 display--table-cell vertical-align--middle text-align--center" style\x3d"width: 54px"\x3e\x3cimg src\x3d"/images/ads/google-preview-button.svg" alt\x3d"" width\x3d"30" height\x3d"30"\x3e\x3c/div\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"flex--1"\x3e\n                \x3cdiv class\x3d"v-stripedBackground--gray full-height"\x3e\x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/ads/templates/SliderPaneWrapper.html":'\x3cdiv class\x3d"c-topSliderPane position--fixed top-bottom--0 left-right--0 bg-white overflow--hidden" style\x3d"display:none;"\x3e\n    \x3cdiv class\x3d"flex-auto flex-col"\x3e\n        \x3c!-- GRAY NAV --\x3e\n        \x3cdiv class\x3d"bg-gray selfclear border-bottom"\x3e\n            \x3cdiv class\x3d"wizard-header float--left selfclear"\x3e\n                \x3cdiv class\x3d"padding--lv3 !padding-top-bottom--lv0"\x3e\n                    \x3cul class\x3d"linear-list small-meta flex align-items--baseline"\x3e\n                        \x3cli class\x3d"textcolor"\x3e\n                            \x3cspan class\x3d"badge !margin-left--lv0"\x3ePreview\x3c/span\x3e\n                        \x3c/li\x3e\n                        \x3cli class\x3d"textcolor"\x3eWeb retargeting campaign\x3c/li\x3e\n                    \x3c/ul\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n            \x3cnav class\x3d"float--right selfclear"\x3e\n                \x3cul class\x3d"linear-list small-meta" data-dojo-attach-point\x3d"topBarActions"\x3e\n                    \x3cli class\x3d"hover-item noborder"\x3e\n                        \x3ca href\x3d"#0" data-dojo-attach-point\x3d"closeLink" class\x3d"c-wizardLink--overlay nolink padding--lv3"\x3e\n                            \x3cspan class\x3d"freddicon cross"\x3e\x3c/span\x3e\n                        \x3c/a\x3e\n                    \x3c/li\x3e\n                \x3c/ul\x3e\n            \x3c/nav\x3e\n        \x3c/div\x3e\n\n        \x3c!-- PREVIEW PAGER --\x3e\n        \x3cdiv class\x3d"flex-col border-bottom"\x3e\n            \x3cdiv class\x3d"line"\x3e\n                \x3cdiv class\x3d"size1of1 lastUnit centered"\x3e\n                    \x3cnav data-dojo-attach-point\x3d"previewPager" class\x3d"c-previewPager margin--lv2 margin-left-right--lv0"\x3e\n                        \x3cul class\x3d"flex flex-row justify-content--center"\x3e\n                            \x3cli class\x3d"c-previewPager_item flex"\x3e\n                                \x3ca href\x3d"#0" data-preview-pager\x3d"prev" class\x3d"flex align-items--center textcolor padding--lv2 padding-top-bottom--lv0"\x3e\n                                    \x3cspan class\x3d"freddicon menu-left" role\x3d"navigation" aria-label\x3d"Previous"\x3e\x3c/span\x3e\n                                \x3c/a\x3e\n                            \x3c/li\x3e\n\n                            \x3cli data-dojo-attach-point\x3d"previewPagerPlaceholder"\x3e\x3c/li\x3e\n\n                            \x3cli class\x3d"c-previewPager_item flex"\x3e\n                                \x3ca href\x3d"#0" data-preview-pager\x3d"next" class\x3d"flex align-items--center textcolor padding--lv2 padding-top-bottom--lv0"\x3e\n                                    \x3cspan class\x3d"freddicon menu-right" role\x3d"navigation" aria-label\x3d"Next"\x3e\x3c/span\x3e\n                                \x3c/a\x3e\n                            \x3c/li\x3e\n                        \x3c/ul\x3e\n                    \x3c/nav\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3c!-- PREVIEW --\x3e\n        \x3cdiv data-dojo-attach-point\x3d"content" class\x3d"c-previewContent overflow-y--auto will-change--transform"\x3e{_content}\x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/ads/templates/PreviewTemplate.html":'\x3cdiv class\x3d"c-adPreview lastUnit size1of1"\x3e\n    \x3cdiv class\x3d"c-adsVertical display--inline-block vertical-align--top margin--lv2 margin-top--lv0 margin-left--lv0"\x3e\n        \x3cdiv class\x3d"c-adPreview--160x600 border-gray text-align--center"\x3e\n            \x3cdiv class\x3d"c-adProduct--160"\x3e\n                \x3cimg src\x3d"${product}" class\x3d"padding--lv1" alt\x3d"" width\x3d"160" height\x3d"83"\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"c-adHeadline--160 padding--lv4 padding-top-bottom--lv0 flex align-items--center"\x3e${headline}\x3c/div\x3e\n            \x3cdiv class\x3d"c-adDescription--160 margin--lv3 margin-top-bottom--lv0 flex align-items--center"\x3e${description}\x3c/div\x3e\n            \x3cdiv class\x3d"c-adButton--160" style\x3d"height: 44px"\x3e\x3cimg src\x3d"/images/ads/google-preview-button.svg" alt\x3d"" width\x3d"44" height\x3d"44"\x3e\x3c/div\x3e\n            \x3cdiv class\x3d"c-adUrl--160 margin--lv2 margin-top-bottom--lv0"\x3e${url}\x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3cdiv class\x3d"c-adsHorizontal display--inline-block vertical-align--top"\x3e\n        \x3cdiv class\x3d"c-adPreview--970x90 border-gray"\x3e\n            \x3cdiv class\x3d"c-adProduct--970 display--table-cell vertical-align--middle"\x3e\n                \x3cimg src\x3d"${product}" class\x3d"padding--lv1" width\x3d"171" height\x3d"90"\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"c-adHeadline--970 display--table-cell vertical-align--middle padding--lv3 padding-top-bottom--lv0 position--relative"\x3e\n                ${headline}\n                \x3cdiv class\x3d"c-adUrl--970 position--absolute"\x3e${url}\x3c/div\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"c-adDescription--970 display--table-cell vertical-align--middle padding--lv5 padding-top-bottom--lv0"\x3e${description}\x3c/div\x3e\n            \x3cdiv class\x3d"c-adButton--970 display--table-cell vertical-align--middle"\x3e\x3cimg src\x3d"/images/ads/google-preview-button.svg" alt\x3d"" width\x3d"42" height\x3d"42"\x3e\x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3cdiv class\x3d"c-adsHorizontal--300x250"\x3e\n            \x3cdiv class\x3d"c-adPreview--300x250 border-gray display--inline-block vertical-align--top margin--lv2 margin-bottom--lv0 margin-left--lv0"\x3e\n                \x3cdiv class\x3d"c-adProduct--300"\x3e\n                    \x3cimg src\x3d"${product}" class\x3d"padding--lv1" width\x3d"300" height\x3d"157"\x3e\n                \x3c/div\x3e\n                \x3cdiv class\x3d"c-adHeadline--300 padding--lv2 padding-top-bottom--lv0"\x3e${headline}\x3c/div\x3e\n                \x3cdiv class\x3d"c-adDescription--300 margin--lv2 position--relative"\x3e\n                    ${description}\n\n                    \x3cdiv class\x3d"c-adButton--300 position--absolute pos-t0" style\x3d"right: -56px"\x3e\x3cimg src\x3d"/images/ads/google-preview-button.svg" alt\x3d"" width\x3d"39" height\x3d"39"\x3e\x3c/div\x3e\n                \x3c/div\x3e\n                \x3cdiv class\x3d"c-adUrl--300 margin--lv2 margin-top-bottom--lv0"\x3e${url}\x3c/div\x3e\n            \x3c/div\x3e\n\n            \x3cdiv class\x3d"c-adPreview--320x50 display--inline-block vertical-align--top margin--lv2 margin-bottom--lv0 margin-left-right--lv0"\x3e\n                \x3cdiv class\x3d"display--table border-gray full-width"\x3e\n                    \x3cdiv class\x3d"c-adProduct--320 display--table-cell vertical-align--middle"\x3e\n                        \x3cimg src\x3d"${product}" class\x3d"padding--lv1" width\x3d"95" height\x3d"50"\x3e\n                    \x3c/div\x3e\n                    \x3cdiv class\x3d"c-adHeadline--320 display--table-cell vertical-align--middle"\x3e${headline}\x3c/div\x3e\n                    \x3cdiv class\x3d"c-adButton--320 display--table-cell vertical-align--middle text-align--center" style\x3d"width: 54px"\x3e\x3cimg src\x3d"/images/ads/google-preview-button.svg" alt\x3d"" width\x3d"30" height\x3d"30"\x3e\x3c/div\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/ads/facebook/ad-placement/templates/PageInput.html":'\x3cdiv\x3e\n    \x3cdiv class\x3d"margin-bottom--lv3"\x3e\n        \x3cdiv data-dojo-attach-point\x3d"dropDownAnchor"\x3e\n            \x3cimg role\x3d"presentation"\n                 src\x3d"/images/icons/fb_2x18.png"\n                 width\x3d"18"\n                 height\x3d"18"\n                 alt\x3d""\n                 class\x3d"margin--lv1 margin-top-bottom--lv0 margin-left--lv0"\x3e\n\n            \x3cspan class\x3d"normal-meta font-weight--bold padding-right--lv2" data-dojo-attach-point\x3d"label"\x3e\x3c/span\x3e\n            \x3ca href\x3d"#0" data-dojo-attach-point\x3d"editLink" class\x3d"noborder small-meta"\x3eChange page\n                \x3cspan class\x3d"freddicon menu-down"\x3e\x3c/span\x3e\n            \x3c/a\x3e\n        \x3c/div\x3e\n        \x3cdiv data-dojo-attach-point\x3d"inputContainer" class\x3d"hide"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3c!--Error messaging attach point--\x3e\n    \x3cdiv data-mc-name\x3d"page_id"\x3e\x3c/div\x3e\n\n    \x3cscript type\x3d"text/template" data-dojo-attach-point\x3d"tplLabelStandard"\x3e\n        \x3cdiv class\x3d"c-media"\x3e\n            \x3cdiv class\x3d"c-mediaImage"\x3e\n                \x3cimg src\x3d"{iconUrl}" alt\x3d"" /\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"c-mediaBody--centered"\x3e\n                \x3cp class\x3d"small-meta margin-bottom--lv0"\x3e{label}\x3c/p\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/script\x3e\n\n    \x3cscript type\x3d"text/template" data-dojo-attach-point\x3d"tplLabelInstagram"\x3e\n        \x3cdiv class\x3d"c-media"\x3e\n            \x3cdiv class\x3d"c-mediaImage"\x3e\n                \x3cimg src\x3d"{iconUrl}" alt\x3d"" /\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"c-mediaBody--centered"\x3e\n                \x3cp class\x3d"small-meta margin-bottom--lv0"\x3e{label}\x3c/p\x3e\n                \x3cp class\x3d"small-meta margin-bottom--lv0 font-weight--normal"\x3eInstagram connected\x3c/p\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/script\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/ads/facebook/ad-placement/templates/PlacementInput.html":'\x3cdiv\x3e\n    \x3cdiv data-dojo-attach-point\x3d"dropDownAnchor"\x3e\n        \x3cspan class\x3d"font-weight--bold padding-right--lv2"\x3e${label}\x3c/span\x3e\n        \x3ca href\x3d"#0" data-dojo-attach-point\x3d"editLink" class\x3d"noborder small-meta u-adsItem--hidden@summary"\x3eEdit \x3cspan class\x3d"freddicon menu-down"\x3e\x3c/span\x3e\x3c/a\x3e\n    \x3c/div\x3e\n    \x3cp data-dojo-attach-point\x3d"summary" class\x3d"margin-bottom--lv0 dim-el c-adsChannelItem_placementList"\x3e\x3c/p\x3e\n    \x3cdiv data-dojo-attach-point\x3d"inputContainer" class\x3d"hide"\x3e\x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"hiddenInputs" class\x3d"hide"\x3e\x3c/div\x3e\n\n    \x3cscript type\x3d"text/template" data-dojo-attach-point\x3d"tplLabelStandard"\x3e\n        \x3cp class\x3d"small-meta margin-bottom--lv0"\x3e{label}\x3c/p\x3e\n        \x3cp class\x3d"small-meta margin-bottom--lv0 font-weight--normal"\x3e{description}\x3c/p\x3e\n    \x3c/script\x3e\n\n    \x3cscript type\x3d"text/template" data-dojo-attach-point\x3d"tplLabelRequired"\x3e\n        \x3cp class\x3d"small-meta margin-bottom--lv0"\x3e{label}\n            \x3cspan class\x3d"font-weight--normal"\x3e(required)\x3c/span\x3e\n        \x3c/p\x3e\n        \x3cp class\x3d"small-meta margin-bottom--lv0 font-weight--normal"\x3e{description}\x3c/p\x3e\n    \x3c/script\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/ads/facebook/ad-placement/templates/ChannelItem.html":'\x3cdiv class\x3d"c-adsChannelItem margin-bottom--lv1"\x3e\n    \x3cdiv class\x3d"flex justify-content--space-between"\x3e\n        \x3cdiv data-dojo-attach-point\x3d"detailContainer"\x3e\n            \x3cdiv class\x3d"c-media"\x3e\n                \x3cdiv class\x3d"c-mediaImage"\x3e\n                    \x3cdiv data-dojo-attach-point\x3d"icon"\x3e\n                        \x3cdiv class\x3d"v-channelAvatarThumbnail position--relative border-gray border-radius--lv1"\x3e\n                            \x3cdiv class\x3d"position--absolute top-bottom--0 left-right--0 v-containedBackgroundImage border-radius--lv1"\n                                 style\x3d"background-image: url(${data.iconUrl});"\x3e\n                            \x3c/div\x3e\n                            \x3cimg role\x3d"presentation"\n                                 src\x3d"/images/icons/${data.identifier}_2x18.png"\n                                 width\x3d"18"\n                                 height\x3d"18"\n                                 alt\x3d""\n                                 class\x3d"v-channelIndicator position--absolute border-radius--lv1"\x3e\n                        \x3c/div\x3e\n                    \x3c/div\x3e\n                    \x3cimg role\x3d"presentation"\n                         src\x3d"/images/icons/${data.identifier}_2x36.png"\n                         data-dojo-attach-point\x3d"disabledIcon"\n                         width\x3d"36"\n                         height\x3d"36"\n                         alt\x3d""\n                         class\x3d"hide grayscale"\x3e\n                \x3c/div\x3e\n                \x3cdiv class\x3d"c-mediaBody"\x3e\n                    \x3cdiv data-dojo-attach-point\x3d"placements"\x3e\x3c/div\x3e\n                    \x3cdiv data-dojo-attach-point\x3d"disabledMsg" class\x3d"dim-el hide"\x3e\n                        \x3cp class\x3d"small-meta font-weight--bold margin-bottom--lv0"\x3e${data.label}\x3c/p\x3e\n                        \x3cp class\x3d"small-meta margin-bottom--lv0 font-weight--normal"\x3e${data.description}\x3c/p\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n        \x3cdiv data-dojo-attach-point\x3d"controlContainer" class\x3d"u-adsItem--hidden@summary"\x3e\n            \x3cinput type\x3d"checkbox"\n                   title\x3d"Run ad on ${data.label}"\n                   id\x3d"${data.identifier}_selected"\n                   name\x3d"${data.identifier}_selected"\n                   data-dojo-attach-point\x3d"switch"\n                   data-dojo-type\x3d"mojo/widgets/Switch"\n                   data-dojo-props\x3d"sizeClass:\'switch-small !margin-right--lv0\'"/\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/ads/facebook/ad-placement/templates/AdPlacement.html":'\x3cdiv\x3e\n    \x3cdiv data-dojo-attach-point\x3d"loadingState"\x3e\n        \x3cdiv class\x3d"c-media margin-bottom--lv3"\x3e\n            \x3cdiv class\x3d"c-mediaImage"\x3e\n                \x3cdiv data-dojo-type\x3d"mojo/widgets/CircularLoader" data-dojo-props\x3d"loaderSize:20, strokeWidth: 3,"\x3e\x3c/div\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"c-mediaBody"\x3e\n                \x3cp class\x3d"small-meta font-weight--bold margin-bottom--lv0 dim-el"\x3eFetching your Facebook Pages\x3c/p\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"readyState" class\x3d"margin-bottom--lv1 hide"\x3e\n        \x3cdiv data-dojo-attach-point\x3d"pageInput" class\x3d"size1of2 full-width-mobile"\x3e\x3c/div\x3e\n        \x3cdiv class\x3d"padding--lv3 padding-left-right--lv0 padding-bottom--lv1 border-top-dotted"\x3e\n            \x3cdiv data-dojo-attach-point\x3d"channelItems" class\x3d"flex justify-content--space-between flex-col-tablet"\x3e\x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/ads/facebook/ad-placement/templates/Summary.html":'\x3cdiv\x3e\n    \x3cp data-dojo-attach-point\x3d"description" class\x3d"margin-bottom--lv4"\x3e\x3c/p\x3e\n    \x3cdiv data-dojo-attach-point\x3d"channelItems" class\x3d"flex justify-content--space-between flex-col-tablet"\x3e\x3c/div\x3e\n\x3c/div\x3e\n',"url:mojo/app/templates/avatar.html":'\x3cdiv class\x3d"line section"\x3e\n    \x3cdiv class\x3d"lastUnit size1of1"\x3e\n        \x3ch3\x3eProfile photo\x3c/h3\x3e\n        \x3cdiv class\x3d"media"\x3e\n            \x3cfieldset class\x3d"media-image margin--lv3 !margin-top-bottom--lv0 !margin-left--lv0"\x3e\n                \x3cdiv class\x3d"img-overlay inline-block-i" data-dojo-attach-point\x3d"avatar"\x3e\n                    \x3ca title\x3d"Edit Photo" class\x3d"edit-img" href\x3d"javascript:;" data-dojo-attach-point\x3d"editBtn" data-dojo-attach-event\x3d"onclick:_loadAviary"\x3e\x3cspan class\x3d"freddicon edit"\x3e\x3c/span\x3e\x3c/a\x3e\n                    \x3cdiv id\x3d"uploader-status" class\x3d"loader hide" data-dojo-attach-point\x3d"uploadingStatus"\x3e\n                        \x3cimg class\x3d"pulse" src\x3d"/css/icons/pulse.gif"\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n            \x3c/fieldset\x3e\n            \x3cdiv class\x3d"media-body"\x3e\n                \x3ch4 class\x3d"!margin--lv0"\x3eUpload your photo \x26hellip;\x3c/h4\x3e\n                \x3cp\x3e\n                    Photo should be at least 300px \x26times; 300px \n                    \x3cspan data-dojo-attach-point\x3d"removePhotoContainer" class\x3d"hide"\x3e \x26bull; \x3ca data-dojo-attach-point\x3d"removePhoto" href\x3d"#"\x3eRemove current photo\x3c/a\x3e\x3c/span\x3e\n                \x3c/p\x3e\n                \x3cform method\x3d"post" data-dojo-attach-point\x3d"avatarForm" enctype\x3d"multipart/form-data" \x3e\n                    \x3cinput class\x3d"button button-small p0 !margin-bottom--lv2" name\x3d"avatar" multiple\x3d"false" type\x3d"file" data-dojo-type\x3d"dojox/form/Uploader" label\x3d"Upload Photo" id\x3d"uploader" uploadOnSelect\x3d"true" data-dojo-attach-point\x3d"uploader"/\x3e\n                    \x3cbutton data-dojo-attach-point\x3d"takePictureButton" class\x3d"button button-small hide !margin-bottom--lv2"\x3eTake a Photo!\x3c/button\x3e\n                \x3c/form\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3cdiv data-dojo-attach-point\x3d"cameraContainer" class\x3d"take-picture-modal relative hide"\x3e\n        \x3cdiv class\x3d"video-container line"\x3e\n            \x3cdiv data-dojo-attach-point\x3d"loadingContainer" class\x3d"alignc" style\x3d"height:480px;width:480px;"\x3e\n                \x3ch2 class\x3d"section"\x3eWaiting for permission to access your webcam...\x3c/h2\x3e\n                \x3cimg class\x3d"pulse section" src\x3d"/css/icons/pulse-dark.gif"\x3e\n                \x3cp\x3eYou \x3cem\x3edo\x3c/em\x3e have a webcam, right?\x3c/p\x3e\n            \x3c/div\x3e\n            \x3cvideo data-dojo-attach-point\x3d"video" width\x3d"640" height\x3d"480" autoplay\x3e\x3c/video\x3e\n            \x3ccanvas data-dojo-attach-point\x3d"canvas" width\x3d"480" height\x3d"480" class\x3d"hide"\x3e\x3c/canvas\x3e\n        \x3c/div\x3e\n        \x3cdiv class\x3d"save-cancel-group absolute alignc"\x3e\n            \x3cbutton class\x3d"button p0 hide" data-dojo-attach-point\x3d"savePicture"\x3eSave\x3c/button\x3e\n            \x3cbutton class\x3d"button hide" data-dojo-attach-point\x3d"retakePicture"\x3eRetake\x3c/button\x3e\n            \x3cbutton class\x3d"button p0 hide" data-dojo-attach-point\x3d"snap"\x3eSnap!\x3c/button\x3e\n            \x3ca href\x3d"#" data-dojo-attach-point\x3d"cancelPicture"\x3eCancel\x3c/a\x3e\n            \x3ch4 data-dojo-attach-point\x3d"savingIndicator" class\x3d"hide"\x3eLookin\' good! Saving...\n                \x3cimg class\x3d"pulse" src\x3d"/css/icons/pulse-dark.gif"\x3e\n            \x3c/h4\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n\x3c/div\x3e\n\n',
"url:mojo/app/mvt/templates/contentLinkStats.html":'\x3cdiv\x3e\n    \x3ch4 class\x3d"!margin--lv0 selfclear" data-dojo-attach-point\x3d"header"\x3e\x3c/h4\x3e\n    \x3cp class\x3d"selfclear"\x3e\n        \x3cspan data-dojo-attach-point\x3d"leftDetails" class\x3d"overflow-ellipsis dim-el small-meta float-left" style\x3d"width: 65%"\x3e\x3c/span\x3e\n\n        \x3cspan class\x3d"small-meta float-right"\x3e\n            \x3cspan data-dojo-attach-point\x3d"rightDetails" class\x3d"fwb"\x3e\x3c/span\x3e\n            \x3cspan class\x3d"dim-el"\x3eAverage click rate\x3c/span\x3e\n        \x3c/span\x3e\n    \x3c/p\x3e\n    \x3cul class\x3d"dotted-list topborder" data-dojo-attach-point\x3d"comboList"\x3e\x3c/ul\x3e\n\x3c/div\x3e',
"url:mojo/analytics/templates/noDataCT.html":'\x3cdiv class\x3d"line section"\x3e\n    \x3cdiv class\x3d"lastUnit size1of1"\x3e\n        \x3cdiv class\x3d"no-data no-border-radius-top alignc"\x3e\n            \x3cimg class\x3d"icon" src\x3d"/css/icons/no-data/goose-egg.svg" role\x3d"presentation"\x3e\n            \x3ch2\x3eGoose egg.\x3c/h2\x3e\n            \x3cp\x3eNo contacts match your selection.\x3c/p\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',"url:mojo/app/lists/templates/segmentBar.html":'\x3cdiv class\x3d"st-segment-bar selfclear"\x3e\n    \x3cdiv class\x3d"left-nav float-left nofloat-small selfclear" data-dojo-attach-point\x3d"leftNavContainer"\x3e\n        \x3cdiv class\x3d"bar-button padding--lv3 float-left" data-dojo-attach-point\x3d"segmentsBtn"\x3e\n            View Saved Segments\n            \x3cspan class\x3d"freddicon menu-down"\x3e\x3c/span\x3e\n        \x3c/div\x3e\n\n        \x3cdiv data-dojo-attach-point\x3d"btnContainer" class\x3d"float-left"\x3e\n            \x3cdiv class\x3d"bar-button secondary float-left selfclear hide" aria-label\x3d"Filter subscriber table" data-dojo-attach-point\x3d"subscriberFilterContainer"\x3e\x3c/div\x3e\n            \x3cdiv class\x3d"float-left bar-button padding--lv3" data-dojo-attach-point\x3d"createAction"\x3eCreate A Segment\x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3cdiv class\x3d"status-container float-left fwb padding--lv3"\x3e\n        \x3cspan class\x3d"bar-status"\x3e\n            \x3cspan class\x3d"circular-loader hide" data-dojo-attach-point\x3d"loadIcon" data-dojo-type\x3d"mojo/widgets/CircularLoader"\n                  data-dojo-props\x3d"loaderSize:18, strokeWidth: 3, color:\'#6dc5dc\', bgColor:\'#484848\'"\x3e\x3c/span\x3e\n\n            \x3cspan data-dojo-attach-point\x3d"errorIcon" class\x3d"freddicon not-allowed-color margin--lv1 !margin-top-bottom--lv0 !margin-left--lv0 hide"\x3e\x3c/span\x3e\n            \x3cspan data-dojo-attach-point\x3d"successIcon" class\x3d"freddicon tick-circle-color margin--lv1 !margin-top-bottom--lv0 !margin-left--lv0 hide"\x3e\x3c/span\x3e\n        \x3c/span\x3e\n\n        \x3cspan data-dojo-attach-point\x3d"statusMessage"\x3e\x3c/span\x3e\n    \x3c/div\x3e\n\n    \x3cdiv class\x3d"right-nav float-right selfclear flex align-items--center"\x3e\n\n        \x3cdiv class\x3d"bar-button padding--lv3 hide" data-dojo-attach-point\x3d"viewAction"\x3eView Subscribers\x3c/div\x3e\n\n        \x3cdiv class\x3d"bar-button padding--lv3 hide" data-dojo-attach-point\x3d"saveAction"\x3eSave as segment\x3c/div\x3e\n\n        \x3cdiv class\x3d"bar-button padding--lv3 hide" data-dojo-attach-point\x3d"rerunAction"\x3eRerun\x3c/div\x3e\n\n        \x3cdiv class\x3d"bar-button padding--lv3 hide" data-dojo-attach-point\x3d"editAction"\x3eEdit\x3c/div\x3e\n\n        \x3cdiv class\x3d" bar-button" data-dojo-type\x3d"dijit/form/DropDownButton" data-dojo-attach-point\x3d"moreActions"\x3e\n            \x3cspan\x3eMore\x3c/span\x3e\n\n            \x3cdiv data-dojo-type\x3d"dijit/DropDownMenu"\x3e\n                \x3cdiv data-dojo-type\x3d"dijit/MenuItem" data-dojo-attach-point\x3d"emailAction" data-dojo-attach-event\x3d"onClick:onSendAction"\x3eSend an email campaign\x3c/div\x3e\n                \x3cdiv data-dojo-type\x3d"dijit/MenuItem" data-dojo-attach-point\x3d"adAction" data-dojo-attach-event\x3d"onClick:onAdAction"\x3ePublish an Ad campaign to these contacts\x3c/div\x3e\n                \x3cdiv data-dojo-type\x3d"dijit/MenuItem" data-dojo-attach-point\x3d"lookalikeAction" data-dojo-attach-event\x3d"onClick:onLookalikeAction"\x3ePublish an Ad campaign to people similar to these contacts\x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3cdiv class\x3d"float-right bar-button padding--lv3 hide" data-dojo-attach-point\x3d"closeAction"\x3e\n            \x3cspan class\x3d"freddicon cross-fill"\x3e\x3c/span\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n\x3c/div\x3e\n',
"url:mojo/app/lists/templates/segmentDropDown.html":'\x3cdiv\x3e\n    \x3cdiv data-dojo-type\x3d"dijit/form/DropDownButton" data-dojo-attach-point\x3d"dropdown"\x3e\n        \x3cspan\x3eSegments\x3c/span\x3e\n        \x3cdiv data-dojo-type\x3d"dijit/TooltipDialog" data-dojo-attach-point\x3d"segmentsMenu" class\x3d"mc-dijitMenu"\x3e\n            \x3ch4 class\x3d"title show-phone alignc full-width !margin--lv0"\x3eSegments\x3c/h4\x3e\n            \x3cul tabindex\x3d"0" class\x3d"popup-list height-normal relative" data-dojo-attach-point\x3d"segmentsList"\x3e\n                \x3cli data-dojo-attach-point\x3d"emptyMessage" class\x3d"empty-message noborder"\x3e\n                    \x3cdiv class\x3d"no-data alignc"\x3e\n                        \x3cimg class\x3d"icon" src\x3d"/css/icons/no-data/no-segment.svg" role\x3d"presentation"\x3e\n                        \x3ch4 class\x3d"!margin-bottom--lv0"\x3eYou have no saved segments.\x3c/h4\x3e\n                        \x3cp class\x3d"fwn"\x3eCreate segments to target subscribers by location, engagement, activity and more.\x3c/p\x3e\n                        \x3cp\x3e\x3ca href\x3d"http://kb.mailchimp.com/article/can-i-save-a-segment-of-my-list-in-the-list-area" target\x3d"_blank" class\x3d"!padding--lv0 inline-i"\x3eLearn more.\x3c/a\x3e\x3c/p\x3e\n                    \x3c/div\x3e\n                \x3c/li\x3e\n            \x3c/ul\x3e\n\n            \x3cdiv class\x3d"cp-footer" data-dojo-attach-point\x3d"actionsContainer"\x3e\n                \x3cdiv class\x3d"line"\x3e\n                    \x3cdiv\x3e\n                        \x3ca tabindex\x3d"0" class\x3d"button-small p0 full-width full-height" href\x3d"#" data-dojo-attach-point\x3d"newBtn"\x3eNew Segment\x3c/a\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n\n            \x3cdiv class\x3d"close-popover show-phone cursor-pointer" data-dojo-attach-point\x3d"closeSegmentMenu"\x3e\n                \x3cdiv class\x3d"freddicon cross-fill"\x3e\x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/app/lists/templates/segmentListOverlay.html":'\x3cdiv class\x3d"border-gray full-height padding--lv2 !padding-left-right--lv0 !padding-bottom--lv0 overflow-auto hide"\x3e\n\n    \x3cdiv class\x3d"margin--lv4 !margin-top--lv0 !margin-bottom--lv5" data-dojo-attach-point\x3d"tabsContainer"\x3e\x3c/div\x3e\n\n    \x3cdiv data-dojo-attach-point\x3d"tabSections"\x3e\x3c/div\x3e\n\x3c/div\x3e',"url:mojo/app/lists/templates/segmentListOverlay/pane.html":'\x3cdiv\x3e\n    \x3cdiv class\x3d"lastUnit size1of1 !padding--lv0 slats with-hover"\x3e\n\n        \x3cul data-dojo-attach-point\x3d"segmentList" class\x3d"!padding--lv0"\x3e\x3c/ul\x3e\n\n        \x3cdiv class\x3d"lastUnit size1of1 hide" data-dojo-attach-point\x3d"advancedNotPro"\x3e\n            \x3cdiv class\x3d"alignc padding--lv6 !margin-bottom--lv8"\x3e\n                \x3cimg src\x3d"/images/pro/freddie_pro.svg" alt\x3d"MailChimp logo" height\x3d"40" class\x3d"!margin-bottom--lv2"\x3e\n                \x3ch4 class\x3d"!margin--lv0"\x3eAdvanced Segmentation\x3c/h4\x3e\n                \x3cp class\x3d"full-width"\x3eAdvanced Segmentation helps you send more effective campaigns \x3cbr\x3ethan ever before by creating highly targeted segments. \x3c/p\x3e\n\n                \x3ca mc:role\x3d"admin" class\x3d"button p0" href\x3d"/account/buy-mailchimp-pro"\x3eUpgrade To Pro\x3c/a\x3e\n                \x3ca href\x3d"http://kb.mailchimp.com/segments/about-advanced-segmentation" target\x3d"_blank"\x3eLearn more\x3c/a\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3cdiv class\x3d"lastUnit size1of1 hide" data-dojo-attach-point\x3d"advancedNoData"\x3e\n            \x3cdiv class\x3d"alignc padding--lv6 !margin-bottom--lv8" data-dojo-attach-point\x3d"advancedDataLoadingComplete"\x3e\n                \x3ch4 class\x3d"!margin--lv0"\x3eYou haven\'t created any Advanced Segments.\x3c/h4\x3e\n                \x3cp class\x3d"full-width !margin--lv0"\x3eBuild a more complex segment for targeting subscribers\x3c/p\x3e\n                \x3cp class\x3d"full-width !margin-bottom--lv3"\x3e\x3ca href\x3d"http://kb.mailchimp.com/segments/about-advanced-segmentation" target\x3d"_blank"\x3eLearn more about Advanced Segmentation\x3c/a\x3e\x3c/p\x3e\n\n                \x3ca href\x3d"#" class\x3d"button p0" data-dojo-attach-event\x3d"onClick:createNewSegment"\x3eCreate An Advanced Segment\x3c/a\x3e\n            \x3c/div\x3e\n\n            \x3c!-- User import not complete --\x3e\n            \x3cdiv class\x3d"alignc padding--lv6 !margin-bottom--lv8" data-dojo-attach-point\x3d"advancedDataLoading"\x3e\n                \x3cdiv data-dojo-attach-point\x3d"advancedDataLoadingLoader"\x3e\x3c/div\x3e\n                \x3ch4 class\x3d"!margin--lv0"\x3eAdvanced Segments\x3c/h4\x3e\n                \x3cp class\x3d"full-width !margin--lv0"\x3eWe\'re currently importing your data. This could take a while for accounts with a lot of subscribers or campaigns. We\'ll send an email when that process is complete.\x3c/p\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3cdiv class\x3d"lastUnit size1of1 hide" data-dojo-attach-point\x3d"savedNoData"\x3e\n            \x3cdiv class\x3d"alignc padding--lv6 !margin-bottom--lv8"\x3e\n                \x3ch4 class\x3d"!margin--lv0"\x3eYou haven\'t created any segments.\x3c/h4\x3e\n                \x3cp class\x3d"full-width !margin--lv0"\x3eCreate segments to target contacts by location, engagement, activity, and more.\x3c/p\x3e\n                \x3cp class\x3d"full-width !margin-bottom--lv3"\x3e\x3ca href\x3d"http://kb.mailchimp.com/segments/how-to-use-groups-and-segments" target\x3d"_blank"\x3eLearn more about segmentation\x3c/a\x3e\x3c/p\x3e\n\n                \x3ca href\x3d"#" class\x3d"button p0" data-dojo-attach-event\x3d"onClick:createNewSegment"\x3eCreate A Segment\x3c/a\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3cdiv class\x3d"lastUnit size1of1 hide" data-dojo-attach-point\x3d"staticNoData"\x3e\n            \x3cdiv class\x3d"alignc padding--lv6 !margin-bottom--lv8"\x3e\n                \x3ch4 class\x3d"!margin--lv0"\x3eYou haven\'t created any static segments.\x3c/h4\x3e\n                \x3cp class\x3d"full-width !margin-bottom--lv3"\x3e\x3ca href\x3d"#" data-mc-group\x3d"addStaticSegment" target\x3d"_blank"\x3eUpload a CSV or paste in a list of emails.\x3c/a\x3e\x3c/p\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',
"url:mojo/app/lists/templates/segmentListOverlay/row.html":'\x3cli class\x3d"selfclear no-last-border"\x3e\n    \x3cdiv class\x3d"padding--lv4 !padding-top-bottom--lv0 no-unit-padding"\x3e\n        \x3cdiv class\x3d"unit size3of4"\x3e\n            \x3ch4 class\x3d"p fwb !margin--lv0"\x3e${segment.name}${segment.whitelist_name}\x3c/h4\x3e\n            \x3cp class\x3d"!margin--lv0 small-meta" data-dojo-attach-point\x3d"infoContainer"\x3e\x3c/p\x3e\n        \x3c/div\x3e\n\n        \x3cdiv class\x3d"meta-actions report lastUnit size1of4 alignr" data-dojo-attach-point\x3d"actionsContainer"\x3e\n            \x3ca href\x3d"#" class\x3d"button" data-dojo-attach-point\x3d"deleteAction"\x3eDelete\x3c/a\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/li\x3e',
"url:mojo/app/campaigns/templates/recipientCountBar.html":'\x3cdiv class\x3d"c-recipientCountBar margin-bottom--lv3 valign-middle"\x3e\n    \x3cspan data-dojo-attach-point\x3d"loadingNode" class\x3d"c-recipientCountBar_circularLoader hide inline-block valign-middle padding--lv1 padding-top--lv0 padding-bottom--lv0 padding-left--lv0" data-dojo-type\x3d"mojo/widgets/CircularLoader" data-dojo-props\x3d"loaderSize:20, strokeWidth: 3,"\x3e\x3c/span\x3e\n\n    \x3cspan data-dojo-attach-point\x3d"countNode" class\x3d"fwb valign-middle"\x3e0\x3c/span\x3e\n\n    \x3cspan data-dojo-attach-point\x3d"copyNode" class\x3d"valign-middle margin--lv3 margin-top-bottom--lv0 margin-left--lv0"\x3erecipients. Everyone in your list will receive this email.\x3c/span\x3e\n    \x3cbutton data-dojo-attach-point\x3d"updateBtn" type\x3d"button"\x3eUpdate Recipient Count\x3c/button\x3e\n\x3c/div\x3e\n',
"url:mojo/app/campaigns/templates/fixedRecipientCountBar.html":'\x3cdiv class\x3d"c-contextualScrollRow c-recipientCountBar fixed zin-lv2 pos-lr0 bg-white border-bottom-light invisible valign-middle"\x3e\n    \x3cspan data-dojo-attach-point\x3d"loadingNode" class\x3d"c-recipientCountBar_circularLoader hide inline-block valign-middle padding--lv1 padding-top--lv0 padding-bottom--lv0 padding-left--lv0" data-dojo-type\x3d"mojo/widgets/CircularLoader" data-dojo-props\x3d"loaderSize:20, strokeWidth: 3,"\x3e\x3c/span\x3e\n\n    \x3cspan data-dojo-attach-point\x3d"countNode" class\x3d"fwb valign-middle"\x3e0\x3c/span\x3e\n\n    \x3cspan data-dojo-attach-point\x3d"copyNode" class\x3d"valign-middle margin--lv3 margin-top-bottom--lv0 margin-left--lv0"\x3erecipients. Everyone in your list will receive this email.\x3c/span\x3e\n    \x3cbutton data-dojo-attach-point\x3d"updateBtn" type\x3d"button"\x3eUpdate Recipient Count\x3c/button\x3e\n\x3c/div\x3e\n',
"url:mojo/marketing/templates/overlay.html":'\x3cdiv class\x3d"mk-overlay-container c-baseOverlay selfclear" role\x3d"search" aria-hidden\x3d"true"\x3e\n\n    \x3c!-- CLOSE OVERLAY --\x3e\n    \x3cdiv title\x3d"Close menu" data-dojo-attach-point\x3d"closeButton" class\x3d"close-overlay close-right freddicon cross absolute cursor-pointer"\x3e\x3c/div\x3e\n\n    \x3cdiv class\x3d"mk-overlay-container c-baseOverlay selfclear visible opaque"\x3e\n\n        \x3cdiv data-dojo-attach-point\x3d"contentPanel" class\x3d"global-search mc-small-content selfclear"\x3e\n            \x3cdiv data-dojo-attach-point\x3d"contentContainer"\x3e\n\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/segmentation/templates/segment.html":'\x3cdiv class\x3d"adv-segmentation"\x3e\n    \x3cdiv class\x3d"hide" data-dojo-attach-point\x3d"loaderContainer"\x3e\n        \x3cdiv class\x3d"margin--lv8"\x3e\n            \x3cdiv data-dojo-attach-point\x3d"loaderDom" class\x3d"alignc padding--lv6"\x3e\x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3cdiv class\x3d"hide" data-dojo-attach-point\x3d"segmentContainer"\x3e\n        \x3cdiv data-dojo-attach-point\x3d"mainGroupDom"\x3e\x3c/div\x3e\n\n        \x3cdiv data-dojo-attach-point\x3d"subGroupsContainer"\x3e\x3c/div\x3e\n\n        \x3cdiv class\x3d"action-row fwb border-top-light"\x3e\n            \x3ca href\x3d"javascript:;" data-dojo-attach-point\x3d"addSubGroupBtn"\x3e\n                \x3cspan class\x3d"freddicon add-circle"\x3e\x3c/span\x3e Add group\n            \x3c/a\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n\x3c/div\x3e',
"url:mojo/segmentation/templates/group.html":'\x3cdiv class\x3d"edit-mode"\x3e\n\n    \x3cdiv class\x3d"padding--lv3 !padding-bottom--lv0"\x3e\n        \x3cdiv class\x3d"line"\x3e\n            \x3cdiv class\x3d"unit size3of4 !padding-left--lv0"\x3e\n\n                Find subscribers that match\n\n                \x3cdiv class\x3d"inline-block padding--lv1 !padding-top-bottom--lv0 valign-middle"\x3e\n                    \x3cselect maxHeight\x3d"-1" data-dojo-type\x3d"dijit/form/Select" data-dojo-attach-point\x3d"matchOpSelect" class\x3d"match-op-input !margin--lv0"\x3e\n                        \x3coption value\x3d"any"\x3eany\x3c/option\x3e\n                        \x3coption selected value\x3d"all"\x3eall\x3c/option\x3e\n                    \x3c/select\x3e\n                \x3c/div\x3e\n\n                of the following conditions:\n            \x3c/div\x3e\n\n            \x3cdiv class\x3d"lastUnit size1of4 alignr !padding-right--lv0 hide" data-dojo-attach-point\x3d"removeAllContainer"\x3e\n                \x3cp class\x3d"small-meta fwb"\x3e\n                    \x3ca href\x3d"javascript:;" data-dojo-attach-point\x3d"removeAllBtn"\x3eRemove all\x3c/a\x3e\n                \x3c/p\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3cdiv data-dojo-attach-point\x3d"conditionList"\x3e\x3c/div\x3e\n\n    \x3cdiv class\x3d"action-row fwb"\x3e\n        \x3ca href\x3d"javascript:;" data-dojo-attach-point\x3d"addConditionBtn"\x3e\n            \x3cspan class\x3d"freddicon add-circle"\x3e\x3c/span\x3e Add\n        \x3c/a\x3e\n    \x3c/div\x3e\n\n\x3c/div\x3e',
"url:mojo/segmentation/templates/nestedConditionRow.html":'\x3cli\x3e\n    \x3cdiv data-dojo-attach-point\x3d"editContainer" class\x3d"flex-container full-width"\x3e\n        \x3cdiv class\x3d"condition-block segment-field"\x3e\n            \x3cdiv class\x3d"view-mode-label condition-value"\x3e${fieldConfig.label}\x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3cdiv class\x3d"condition-block segment-op" data-dojo-attach-point\x3d"opSelectContainer"\x3e\x3c/div\x3e\n\n        \x3cdiv class\x3d"condition-block segment-value !margin-right--lv0" data-dojo-attach-point\x3d"valueContainer"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3cdiv data-dojo-attach-point\x3d"viewContainer" class\x3d"flex-container full-width"\x3e\n\n        \x3cdiv class\x3d"condition-block segment-field"\x3e\n            \x3cdiv class\x3d"view-mode-label"\x3e${fieldConfig.label}\x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3cdiv class\x3d"condition-block segment-op"\x3e\n            \x3cdiv class\x3d"view-mode-label" data-dojo-attach-point\x3d"opLabel"\x3e\x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3cdiv class\x3d"condition-block segment-value !margin-right--lv0" data-dojo-attach-point\x3d"valueLabelContainer"\x3e\n            \x3cdiv class\x3d"view-mode-label full-width wordwrap" data-dojo-attach-point\x3d"valueLabel"\x3e\x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/li\x3e',
"url:mojo/segmentation/templates/conditionRow.html":'\x3cdiv class\x3d"condition-row"\x3e\n\n    \x3cdiv class\x3d"relative"\x3e\n        \x3cdiv class\x3d"remove-row"\x3e\n            \x3ca href\x3d"#" data-dojo-attach-point\x3d"removeBtn" title\x3d"Remove row"\x3e\x3cspan class\x3d"freddicon remove-circle"\x3e\x3c/span\x3e\x3c/a\x3e\n        \x3c/div\x3e\n\n        \x3cdiv class\x3d"full-width padding--lv5 !padding-top-bottom--lv0 !padding-right--lv0"\x3e\n            \x3cdiv class\x3d"flex-container selfclear hide" data-dojo-attach-point\x3d"editContainer"\x3e\n                \x3cdiv class\x3d"condition-block segment-field" data-dojo-attach-point\x3d"fieldSelectContainer"\x3e\x3c/div\x3e\n\n                \x3cdiv class\x3d"condition-block segment-op" data-dojo-attach-point\x3d"opSelectContainer"\x3e\x3c/div\x3e\n\n                \x3cdiv class\x3d"condition-block segment-value !margin-right--lv0" data-dojo-attach-point\x3d"valueContainer" data-mojo-container\x3d"regular"\x3e\x3c/div\x3e\n\n            \x3c/div\x3e\n\n            \x3cdiv class\x3d"flex-container selfclear hide" data-dojo-attach-point\x3d"viewContainer"\x3e\n                \x3cdiv class\x3d"condition-block segment-field"\x3e\n                    \x3cdiv class\x3d"view-mode-label" data-dojo-attach-point\x3d"fieldLabel"\x3e\x3c/div\x3e\n                \x3c/div\x3e\n\n                \x3cdiv class\x3d"condition-block segment-op"\x3e\n                    \x3cdiv class\x3d"view-mode-label" data-dojo-attach-point\x3d"opLabel"\x3e\x3c/div\x3e\n                \x3c/div\x3e\n\n                \x3cdiv class\x3d"condition-block segment-value !margin-right--lv0" data-dojo-attach-point\x3d"valueLabelContainer" data-mojo-container\x3d"regular"\x3e\n                    \x3cdiv class\x3d"view-mode-label full-width wordwrap" data-dojo-attach-point\x3d"valueLabel"\x3e\x3c/div\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n\n            \x3cul class\x3d"nested-conditions selfclear padding--lv5 !padding-top-bottom--lv0 !padding-right--lv0" data-dojo-attach-point\x3d"nestedConditionsContainer"\x3e\x3c/ul\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n\x3c/div\x3e',
"url:mojo/segmentation/templates/subgroup.html":'\x3cdiv class\x3d"nested-group edit-mode"\x3e\n\n    \x3cdiv class\x3d"padding--lv3 !padding-bottom--lv0"\x3e\n        \x3cdiv class\x3d"line"\x3e\n            \x3cdiv class\x3d"unit size3of4 !padding-left--lv0"\x3e\n                \x3cdiv class\x3d"inline-block padding--lv1 !padding-top-bottom--lv0 !padding-left--lv0 valign-middle"\x3e\n                    \x3cselect maxHeight\x3d"-1" data-dojo-type\x3d"dijit/form/Select" data-dojo-attach-point\x3d"matchOpSelect" class\x3d"match-op-input !margin--lv0"\x3e\n                        \x3coption value\x3d"any"\x3eany\x3c/option\x3e\n                        \x3coption selected value\x3d"all"\x3eall\x3c/option\x3e\n                    \x3c/select\x3e\n                \x3c/div\x3e\n\n                of the following conditions:\n            \x3c/div\x3e\n\n            \x3cdiv class\x3d"lastUnit size1of4 alignr !padding-right--lv0" data-dojo-attach-point\x3d"removeAllContainer"\x3e\n                \x3cp class\x3d"small-meta fwb"\x3e\n                    \x3ca href\x3d"javascript:;" data-dojo-attach-point\x3d"removeAllBtn"\x3eRemove group\x3c/a\x3e\n                \x3c/p\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3cdiv data-dojo-attach-point\x3d"conditionList"\x3e\x3c/div\x3e\n\n    \x3cdiv class\x3d"action-row fwb"\x3e\n        \x3ca href\x3d"javascript:;" data-dojo-attach-point\x3d"addConditionBtn"\x3e\n            \x3cspan class\x3d"freddicon add-circle"\x3e\x3c/span\x3e Add to group\n        \x3c/a\x3e\n    \x3c/div\x3e\n\n\x3c/div\x3e',
"url:mojo/signup-forms/templates/form.html":'\x3cdiv class\x3d"modalContent"\x3e\n    \x3cdiv class\x3d"flash-block" data-dojo-attach-point\x3d"formResponseMessages"\x3e\x3c/div\x3e\n    \x3cdiv class\x3d"modalContent__content" data-dojo-attach-point\x3d"formContentContainer"\x3e\n        \n        \x3c!-- Title \x26 Description - Holds HTML from CK editor --\x3e\n        \x3cdiv class\x3d"content__titleDescription" data-dojo-attach-point\x3d"descriptionContainer"\x3e\x3c/div\x3e\n\n        \x3c!-- Form Fields --\x3e\n\t\t\x3cform action\x3d"${subscribeUrl}" accept-charset\x3d"UTF-8" method\x3d"post" enctype\x3d"multipart/form-data" data-dojo-attach-point\x3d"formNode" novalidate\x3e\n\t\t\t\x3cdiv class\x3d"content__formFields" data-dojo-attach-point\x3d"formFieldsContainer"\x3e\x3c/div\x3e\n\t\t    \x3cdiv class\x3d"content__button"\x3e\n\t\t        \x3cinput class\x3d"button" type\x3d"submit" value\x3d"${buttonLabel}" data-dojo-attach-point\x3d"submitButton"/\x3e\n\t\t    \x3c/div\x3e\n\t\t\x3c/form\x3e\n\n        \x3c!-- Footer - Holds HTML from CK editor --\x3e\n        \x3cdiv class\x3d"content__footer" data-dojo-attach-point\x3d"footerContainer"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"modalContent__image" data-dojo-attach-point\x3d"formImageContainer"\x3e\x3c/div\x3e\n\x3c/div\x3e',
"url:mojo/signup-forms/inputs/templates/Text.html":'\x3cdiv class\x3d"field-wrapper"\x3e\n\t\x3clabel for\x3d"mc-${name}"\x3e${label}\x3c/label\x3e\n\t\x3cinput type\x3d"text" name\x3d"${name}" value\x3d"" id\x3d"mc-${name}" /\x3e\n\x3c/div\x3e',"url:mojo/signup-forms/inputs/templates/Address.html":'\x3cdiv class\x3d"field-wrapper address"\x3e\n\t\x3cdiv\x3e\n\t    \x3clabel for\x3d"mc-${name}-addr1"\x3e${label}\x3c/label\x3e\n\t\t\x3cinput class\x3d"address1" type\x3d"text" name\x3d"${name}[addr1]" value\x3d"" id\x3d"mc-${name}-addr1" data-dojo-attach-point\x3d"address1Node" /\x3e\n\t\x3c/div\x3e\n\t\x3cdiv\x3e\n\t    \x3clabel for\x3d"mc-${name}-addr2"\x3eAddress Line 2\x3c/label\x3e\n\t\t\x3cinput class\x3d"address2" type\x3d"text" name\x3d"${name}[addr2]" value\x3d"" id\x3d"mc-${name}-addr2" /\x3e\n\t\x3c/div\x3e\n\t\x3cdiv\x3e\n\t    \x3clabel for\x3d"mc-${name}-city"\x3eCity\x3c/label\x3e\n\t\t\x3cinput class\x3d"city" type\x3d"text" name\x3d"${name}[city]" value\x3d"" id\x3d"mc-${name}-city" data-dojo-attach-point\x3d"cityNode" /\x3e\n\t\x3c/div\x3e\n\t\x3cdiv\x3e\n\t    \x3clabel for\x3d"mc-${name}-state"\x3eState/Province/Region\x3c/label\x3e\n\t\t\x3cinput class\x3d"state" type\x3d"text" name\x3d"${name}[state]" value\x3d"" id\x3d"mc-${name}-state" data-dojo-attach-point\x3d"stateNode" /\x3e\n\t\x3c/div\x3e\n\t\x3cdiv\x3e\n\t    \x3clabel for\x3d"mc-${name}-zip"\x3ePostal / Zip Code\x3c/label\x3e\n\t\t\x3cinput class\x3d"zip" type\x3d"text" name\x3d"${name}[zip]" value\x3d"" id\x3d"mc-${name}-zip" data-dojo-attach-point\x3d"zipNode" /\x3e\n\t\x3c/div\x3e\n\t\x3cdiv\x3e\n\t    \x3clabel for\x3d"mc-${name}-country"\x3eCountry\x3c/label\x3e\n\t    \x3c!-- TODO: Is there a formatting option for which country should be top of the list? --\x3e\n\t\t\x3cselect class\x3d"country" name\x3d"${name}[country]" id\x3d"mc-${name}-country" data-dojo-attach-point\x3d"countrySelectNode"\x3e\n\t\t    \x3coption value\x3d"" selected\x3e\x3c/option\x3e\n\t\t    \x3coption value\x3d"164"\x3eUSA\x3c/option\x3e\n\t\t\x3c/select\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e',
"url:mojo/signup-forms/inputs/templates/Email.html":'\x3cdiv class\x3d"field-wrapper"\x3e\n\t\x3clabel for\x3d"mc-${name}"\x3e${label}\x3c/label\x3e\n\t\x3cinput type\x3d"text" name\x3d"${name}" value\x3d"" id\x3d"mc-${name}" /\x3e\n\x3c/div\x3e',"url:mojo/signup-forms/inputs/templates/Birthday.html":'\x3cdiv class\x3d"field-wrapper birthday"\x3e\n\t\x3clabel for\x3d"mc-${name}-month"\x3e${label}\x3c/label\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"inputsContainer"\x3e \n        \x3cinput class\x3d"birthday-month" type\x3d"text" placeholder\x3d"MM" maxlength\x3d"2" name\x3d"${name}[month]" value\x3d"" id\x3d"mc-${name}-month" data-dojo-attach-point\x3d"monthNode" /\x3e\n        \x3cinput class\x3d"birthday-day" type\x3d"text" placeholder\x3d"DD" maxlength\x3d"2" name\x3d"${name}[day]" value\x3d"" id\x3d"mc-${name}-day" data-dojo-attach-point\x3d"dayNode" /\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e',
"url:mojo/signup-forms/inputs/templates/Date.html":'\x3cdiv class\x3d"field-wrapper date"\x3e\n\t\x3clabel for\x3d"mc-${name}-month"\x3e${label}\x3c/label\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"inputsContainer"\x3e\n\t\t\x3cinput class\x3d"date-year" type\x3d"text" maxlength\x3d"4" placeholder\x3d"YYYY" name\x3d"${name}[year]" value\x3d"" id\x3d"mc-${name}-year" data-dojo-attach-point\x3d"yearNode" /\x3e\n\t\t\x3cinput class\x3d"date-month" type\x3d"text" maxlength\x3d"2" placeholder\x3d"MM" name\x3d"${name}[month]" value\x3d"" id\x3d"mc-${name}-month" data-dojo-attach-point\x3d"monthNode" /\x3e\n\t\t\x3cinput class\x3d"date-day" type\x3d"text" maxlength\x3d"2" placeholder\x3d"DD" name\x3d"${name}[day]" value\x3d"" id\x3d"mc-${name}-day" data-dojo-attach-point\x3d"dayNode" /\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e',
"url:mojo/signup-forms/inputs/templates/Phone.html":'\x3cdiv class\x3d"field-wrapper phone"\x3e\n\t\x3clabel for\x3d"mc-${name}-area"\x3e${label}\x3c/label\x3e\n    \x3cdiv\x3e\n        \x3cinput class\x3d"phone-area" type\x3d"text" maxlength\x3d"3" placeholder\x3d"###" name\x3d"${name}[area]" value\x3d"" id\x3d"mc-${name}-area" data-dojo-attach-point\x3d"phoneAreaNode" /\x3e\n        \x3cinput class\x3d"phone-detail1" type\x3d"text" maxlength\x3d"3" placeholder\x3d"###" name\x3d"${name}[detail1]" value\x3d"" id\x3d"mc-${name}-detail1" data-dojo-attach-point\x3d"phoneDetail1Node" /\x3e\n       \t\x3cinput class\x3d"phone-detail2" type\x3d"text" maxlength\x3d"4" placeholder\x3d"####" name\x3d"${name}[detail2]" value\x3d"" id\x3d"mc-${name}-detail2" data-dojo-attach-point\x3d"phoneDetail2Node" /\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',
"url:mojo/signup-forms/inputs/templates/Number.html":'\x3cdiv class\x3d"field-wrapper"\x3e\n\t\x3clabel for\x3d"mc-${name}"\x3e${label}\x3c/label\x3e\n\t\x3cinput type\x3d"text" name\x3d"${name}" value\x3d"" id\x3d"mc-${name}" /\x3e\n\x3c/div\x3e',"url:mojo/signup-forms/inputs/templates/Url.html":'\x3cdiv class\x3d"field-wrapper"\x3e\n\t\x3clabel for\x3d"mc-${name}"\x3e${label}\x3c/label\x3e\n\t\x3cinput type\x3d"text" placeholder\x3d"http://" name\x3d"${name}" value\x3d"" id\x3d"mc-${name}" /\x3e\n\x3c/div\x3e',
"url:mojo/signup-forms/inputs/templates/RadioCheckbox.html":'\x3cdiv class\x3d"field-wrapper radio-group"\x3e\n\t\x3clabel for\x3d"mc-${name}"\x3e${label}\x3c/label\x3e\n\t\x3cul class\x3d"radioCheckboxContainer" data-dojo-attach-point\x3d"choicesContainer"\x3e\x3c/ul\x3e\n\x3c/div\x3e',"url:mojo/signup-forms/inputs/templates/Select.html":'\x3cdiv class\x3d"field-wrapper"\x3e\n\t\x3clabel for\x3d"mc-${name}"\x3e${label}\x3c/label\x3e\n\t\x3cselect name\x3d"${name}" id\x3d"mc-${name}" data-dojo-attach-point\x3d"choicesContainer"\x3e\x3c/select\x3e\n\x3c/div\x3e',
"url:mojo/signup-forms/templates/modal.html":'\x3cdiv\x3e\n    \x3c!-- MC BANNER --\x3e\n    \x3cdiv class\x3d"mc-banner" data-dojo-attach-point\x3d"bannerContainer"\x3e\n        \x3cdiv class\x3d"mc-layout__bannerContent"\x3e\n            \x3ciframe src\x3d"about:blank" frameborder\x3d"0" marginwidth\x3d"0" marginheight\x3d"0" scrolling\x3d"no" src\x3d"about:blank" style\x3d"width:100%;" data-dojo-attach-point\x3d"iframeBannerContainer"\x3e\x3c/iframe\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3c!-- MC MODAL --\x3e\n    \x3cdiv class\x3d"mc-modal" data-dojo-attach-point\x3d"modalContainer"\x3e\n        \x3cdiv class\x3d"mc-closeModal" data-action\x3d"close-mc-modal" data-dojo-attach-point\x3d"modalClose"\x3e${closeLabel}\x3c/div\x3e\n        \x3cdiv class\x3d"mc-layout__modalContent"\x3e\n            \x3ciframe src\x3d"about:blank" frameborder\x3d"0" marginwidth\x3d"0" marginheight\x3d"0" scrolling\x3d"no" src\x3d"about:blank" style\x3d"width:100%;" data-dojo-attach-point\x3d"iframeModalContainer"\x3e\x3c/iframe\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3c!-- MC MODAL OVERLAY --\x3e\n    \x3cdiv class\x3d"mc-modal-bg" data-dojo-attach-point\x3d"modalOverlay"\x3e\x3c/div\x3e\n\x3c/div\x3e',
"url:mojo/signup-forms/templates/banner.html":'\x3cdiv class\x3d"bannerContent" data-dojo-attach-point\x3d"bannerContainer"\x3e\n    \x3c!-- Description text from CK editor --\x3e\n    \x3cdiv class\x3d"bannerContent__description" data-dojo-attach-point\x3d"bannerDescription"\x3e${description}\x3c/div\x3e\n    \x3c!-- Banner Actions - Open or close full modal --\x3e\n    \x3cbutton class\x3d"button bannerContent__subscribeButton" data-dojo-attach-point\x3d"bannerClose"\x3e${subscribeLabel}\x3c/button\x3e\n    \x3cbutton class\x3d"button bannerContent__closeButton" data-dojo-attach-point\x3d"modalOpen"\x3e${closeLabel}\x3c/button\x3e\n\x3c/div\x3e',
"url:mojo/intent-overlay/templates/IntentOverlay.html":'\x3c!-- Wrapper for intent cards --\x3e\n\x3cdiv class\x3d"width--100 white-space--nowrap"\x3e\n    \x3cdiv data-dojo-attach-point\x3d"intentsIntroContainer" class\x3d"alignc vertical-align--top display--inline-block width--100 white-space--normal iosSafariMenuFix"\x3e\n            \x3c!-- Intro Title --\x3e\n            \x3ch1 class\x3d"c-frontDoorIntro_heading text-transform--none alignc margin--lv5"\x3eWhat do you want to create?\x3c/h1\x3e\n\n            \x3c!-- Intro Explore --\x3e\n            \x3cdiv class\x3d"c-frontDoorIntro_exploreContainer padding-bottom--lv5 margin-bottom--lv5 centered width--100"\x3e\n                \x3cimg src\x3d"/images/front-door/space-illo.svg" class\x3d"c-frontDoorIntro_explore-image margin-bottom--lv2"\x3e\n                \x3cp class\x3d"centered"\x3eWe know all the shortcuts because we live here!\x3cbr\x3eWe\'ll help you find and create the campaigns you need.\x3c/p\x3e\n                \x3cbutton type\x3d"submit" tabindex\x3d"0" data-dojo-attach-point\x3d"exploreIntentsButton" class\x3d"button p1 margin-bottom--lv2 margin-left-right--lv0 display--block centered text-transform--none"\x3eLet us guide you\x3c/button\x3e\n            \x3c/div\x3e\n\n            \x3c!-- Intro Shortcuts --\x3e\n            \x3cul class\x3d"c-frontDoorIntro_shortcut-container flex justify-content--center margin-bottom--lv4 centered width--100"\x3e\n                \x3ca tabindex\x3d"0" href\x3d"#/create-campaign/explore/emailCampaign" class\x3d"fwb display--block"\x3e\n                    \x3cli class\x3d"c-frontDoorIntro_shortcut position--relative c-choiceCard margin-top--lv0 margin-bottom--lv3 margin--lv8 padding--lv3 text-align--center"\x3e\n                        \x3cimg src\x3d"/images/front-door/email-illo.svg" class\x3d"c-frontDoorIntro_shortcutImage"\x3e\n                        \x3cdiv\x3eCreate an Email\x3c/div\x3e\n                    \x3c/li\x3e\n                \x3c/a\x3e\n                \x3ca tabindex\x3d"0" href\x3d"#/create-campaign/explore/genericSocialAd" class\x3d"fwb display--block"\x3e\n                    \x3cli class\x3d"c-frontDoorIntro_shortcut position--relative c-choiceCard margin-top--lv0 margin-bottom--lv3 margin--lv8 padding--lv3 text-align--center"\x3e\n                        \x3cimg src\x3d"/images/front-door/ad-illo.svg" class\x3d"c-frontDoorIntro_shortcutImage"\x3e\n                        \x3cdiv\x3eCreate an Ad\x3c/div\x3e\n                    \x3c/li\x3e\n                \x3c/a\x3e\n            \x3c/ul\x3e\n    \x3c/div\x3e\n\n    \x3c!-- Intents search results containers --\x3e\n    \x3cdiv data-dojo-attach-point\x3d"intentsSearchResultsContainer" style\x3d"display: none" class\x3d"vertical-align--top width--100 border-bottom white-space--normal iosSafariMenuFix"\x3e\n        \x3cdiv\n            class\x3d"noborder"\n            data-dojo-attach-point\x3d"noResults"\n            data-dojo-type\x3d"mojo/widgets/NoDataBlock"\n            data-dojo-props\x3d"message: \'We couldn\\\'t find any campaigns that match \x3cstrong\x3e\x3c/strong\x3e. Try broadening your search.\'"\n        \x3e\n        \x3c/div\x3e\n        \x3cdiv class\x3d"c-blueprintCard_container_heading padding--lv8 hide" data-dojo-attach-point\x3d"resultsHeader"\x3e\n            \x3ch2 class\x3d"margin-bottom--lv0 text-align--center"\x3eWe found \x3cspan data-dojo-attach-point\x3d"intentsSearchCount"\x3e\x3c/span\x3e results based on \x26quot;\x3cspan data-dojo-attach-point\x3d"intentsSearchTerm"\x3e\x3c/span\x3e\x26quot;\x3c/h2\x3e\n        \x3c/div\x3e\n        \x3cdiv\x3e\n            \x3cul data-dojo-attach-point\x3d"intentSearchCards" class\x3d"c-blueprintCard_container flex flex-wrap--wrap justify-content--space-between centered margin-bottom--lv8"\x3e\x3c/ul\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3c!-- Intents Container --\x3e\n    \x3cdiv data-dojo-attach-point\x3d"intentsContainer" style\x3d"display: none;" class\x3d"vertical-align--top width--100 white-space--normal iosSafariMenuFix"\x3e\n        \x3cdiv data-dojo-attach-point\x3d"pathwaysList"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3cdiv data-dojo-attach-point\x3d"configurationViewContainer" style\x3d"display: none;" class\x3d"vertical-align--top width--100 white-space--normal iosSafariMenuFix"\x3e\n        \x3cdiv data-dojo-attach-point\x3d"configurationView"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/intent-overlay/templates/SliderPaneWrapper.html":'\x3cdiv class\x3d"front-door c-interstitial position--relative" style\x3d"display:none;"\x3e\n    \x3cdiv class\x3d"flex justify-content--center position--fixed top-bottom--0 left-right--0 background-color--underlay align-items--flex-start"\x3e\n        \x3cdiv class\x3d"c-interstitial_popup c-interstitial_hybrid-height_container margin--lv8 bg-white overflow--hidden border-radius--lv1"\x3e\n            \x3cdiv class\x3d"full-width textcolor zin-lv2 position--static selfclear border-bottom" data-dojo-attach-point\x3d"topBarActions"\x3e\n                \x3cdiv class\x3d"flex flex-between"\x3e\n                    \x3cul class\x3d"linear-list small-meta selfclear float--left full-width flex align-items--center"\x3e\n                        \x3cli class\x3d"noborder"\x3e\n                            \x3ca href\x3d"javascript:" data-dojo-attach-point\x3d"backLink" class\x3d"c-interstitial_button nolink padding--lv4 invisible" tabindex\x3d"-1"\x3e\n                                \x3cspan class\x3d"freddicon arrow-left"\x3e\x3c/span\x3e\n                            \x3c/a\x3e\n                        \x3c/li\x3e\n                        \x3cli class\x3d"c-interstitial_search-container flex"\x3e\n                            \x3c!-- Search/Filter Container --\x3e\n                            \x3cdiv data-dojo-attach-point\x3d"intentsSearchContainer" class\x3d"width--100 readable-max-width"\x3e\n                                \x3c!-- Filtered Search Widget container --\x3e\n                                \x3cdiv data-dojo-attach-point\x3d"intentsFilteredSearch"\x3e\x3c/div\x3e\n                            \x3c/div\x3e\n                        \x3c/li\x3e\n                    \x3c/ul\x3e\n                    \x3cul class\x3d"linear-list small-meta selfclear float--right"\x3e\n                        \x3cli class\x3d"noborder"\x3e\n                            \x3ca href\x3d"javascript:" data-dojo-attach-point\x3d"closeLink" class\x3d"c-interstitial_button nolink padding--lv4" tabindex\x3d"0"\x3e\n                                \x3cspan class\x3d"freddicon cross"\x3e\x3c/span\x3e\n                            \x3c/a\x3e\n                        \x3c/li\x3e\n                    \x3c/ul\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n            \x3cdiv data-dojo-attach-point\x3d"content" class\x3d"c-interstitial_hybrid-height_content position--static flex justify-content--center overflow--auto margin--lv0"\x3e{_content}\x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/intent-overlay/templates/PathwayCardList.html":'\x3cdiv tabindex\x3d"0" class\x3d"c-pathwayCardList border-bottom position--relative"\x3e\n    \x3ch2 data-dojo-attach-point\x3d"detailsSummary" class\x3d"c-blueprintCard_container_meta disclosure-closed padding-top--lv6 padding-bottom--lv6 margin-bottom--lv0"\x3e\n        \x3cspan class\x3d"c-blueprintCard_container_heading"\x3e${title}\x3c/span\x3e\n        \x3cspan class\x3d"c-blueprintCard_container_count float--right normal-meta textcolor dim-el font-weight--normal"\x3e${blueprintCountText}\x3c/span\x3e\n    \x3c/h2\x3e\n    \x3cdiv data-dojo-attach-point\x3d"detailsContent" class\x3d"display--none padding-top--lv4"\x3e\n        \x3cp class\x3d"c-blueprintCard_container_description textcolor normal-meta full-width"\x3e${description}\x3c/p\x3e\n        \x3cul data-dojo-attach-point\x3d"list" class\x3d"c-blueprintCard_container flex flex-wrap--wrap centered"\x3e\x3c/ul\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/intent-overlay/templates/BlueprintCard.html":'\x3cli\x3e\n    \x3ca\n        data-dojo-attach-point\x3d"cardLink"\n        tabindex\x3d"0"\n        class\x3d"c-blueprintCard c-choiceCard c-choiceCard--thick c-choiceCard_label nolink position--relative border-default border-radius--lv1"\n        href\x3d"#/create-campaign/explore/${blueprint.id}"\x3e\n        \x3cdiv class\x3d"c-blueprintCard--icon" data-dojo-attach-point\x3d"cardType"\x3e\x3c/div\x3e\n        \x3cdiv class\x3d"fwb margin-bottom--lv1"\x3e${title}\x3c/div\x3e\n        \x3cp class\x3d"fwn dim-el small-meta"\x3e${description}\x3c/p\x3e\n        \x3cdiv class\x3d"c-blueprintCard--automation dim-el display--none" data-dojo-attach-point\x3d"cardAutomation"\x3e\n            \x3cimg src\x3d"/images/front-door/automation-icon.svg" alt\x3d"" class\x3d"c-blueprintCard--automation_img"\x3e\n            Automation\n        \x3c/div\x3e\n    \x3c/a\x3e\n\x3c/li\x3e\n',
"url:mojo/intent-overlay/templates/ConfigOverlay.html":'\x3cdiv\x3e\n    \x3cdiv data-dojo-attach-point\x3d"configView"\x3e\x3c/div\x3e\n\x3c/div\x3e\n',"url:mojo/intent-overlay/templates/ConfigurationView.html":'\x3cdiv class\x3d"readable-max-width centered fd-configContainer"\x3e\n    \x3cdiv class\x3d"padding-left--lv3 padding-right--lv3 margin-bottom--lv6 width--100"\x3e\n        \x3ch2 class\x3d"!margin-bottom--lv4 fwb"\x3e${title}\x3c/h2\x3e\n        \x3cp class\x3d"margin-bottom--lv4"\x3e${description}\x3c/p\x3e\n\n        \x3cform data-dojo-attach-point\x3d"form"\x3e\n            \x3cdiv data-dojo-attach-point\x3d"formInputs"\x3e\x3c/div\x3e\n            \x3cdiv class\x3d"text-align--center"\x3e\n                \x3cbutton tabindex\x3d"0" data-dojo-attach-point\x3d"formSubmit" type\x3d"submit" class\x3d"button p0"\x3eBegin\x3c/button\x3e\n                \x3ca tabindex\x3d"0" href\x3d"javascript:" data-dojo-attach-point\x3d"cancelLink" class\x3d"cancel-button small-meta font-weight--bold"\x3eCancel\x3c/a\x3e\n            \x3c/div\x3e\n        \x3c/form\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/intent-overlay/templates/NoOptions.html":'\x3cdiv class\x3d"feedback-block info section" role\x3d"status"\x3e\n  \x3cdiv class\x3d"lastUnit size1of1"\x3e\n    \x3cdiv class\x3d"c-media"\x3e\n      \x3cdiv class\x3d"c-mediaBody--centered"\x3e\n          \x3ch4\x3e${title}\x3c/h4\x3e\n          \x3cp\x3e${description}\x3c/p\x3e\n      \x3c/div\x3e\n    \x3c/div\x3e\n  \x3c/div\x3e\n\x3c/div\x3e\n',"url:mojo/intent-overlay/templates/TextInput.html":'\x3cfieldset\x3e\n  \x3clabel\x3e${label}\x3c/label\x3e\n  \x3cinput tabindex\x3d"0" data-dojo-attach-point\x3d"input" type\x3d"text" name\x3d"${name}" class\x3d"av-text"\x3e\n\x3c/fieldset\x3e\n',
"url:mojo/neapolitan/templates/socialShare.html":'\x3cdiv id\x3d"share-settings" class\x3d"slider-editor" style\x3d"visibility: hidden;"\x3e\n    \x3cdiv class\x3d"viewcol split-left padding--lv6"\x3e\n\n        \x3cdiv class\x3d"line section hide" data-dojo-attach-point\x3d"noData"\x3e\n            \x3cdiv class\x3d"lastUnit size1of1"\x3e\n                \x3cdiv data-dojo-type\x3d"mojo/widgets/NoDataBlock" data-dojo-props\x3d"type: \'default\', title: \'No image found\', message: \'\'"\x3e\n                    \x3cp class\x3d"c-noDataBlock_message"\x3eYou\'ll need to add an image to this campaign to use Social Cards. \x3ca href\x3d"http://kb.mailchimp.com/campaigns/previews-and-tests/enable-and-customize-social-cards" target\x3d"_blank"\x3eLearn more\x3c/a\x3e\x3c/p\x3e\n                    \x3ca href\x3d"#0" data-dojo-attach-point\x3d"editCampaign" class\x3d"c-noDataBlock_action button p0"\x3eEdit Campaign\x3c/a\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3cdiv data-dojo-attach-point\x3d"promotionPreview" style\x3d"margin: auto; max-width: 700px;"\x3e\n            \x3cul class\x3d"mini-tabs"\x3e\n                \x3cli\x3e\x3ca class\x3d"pr-preview-link active" href\x3d"#" data-tag\x3d"twitter"\x3eTwitter\x3c/a\x3e\x3c/li\x3e\n                \x3cli\x3e\x3ca class\x3d"pr-preview-link" href\x3d"#" data-tag\x3d"facebook"\x3eFacebook\x3c/a\x3e\x3c/li\x3e\n                \x3cli\x3e\x3ca class\x3d"pr-preview-link" href\x3d"#" data-tag\x3d"pinterest"\x3ePinterest\x3c/a\x3e\x3c/li\x3e\n            \x3c/ul\x3e\n            \x3cdiv class\x3d"promotion-preview"\x3e\n                \x3cdiv class\x3d"pr-preview" id\x3d"pr-twitter"\x3e\n                    \x3cdiv class\x3d"media centered section"\x3e\n                        \x3cdiv class\x3d"media-image"\x3e\n                            \x3cimg class\x3d"pr-img" src\x3d"/images/blank.gif" /\x3e\n                        \x3c/div\x3e\n                        \x3cdiv class\x3d"media-body"\x3e\n                            \x3cdiv class\x3d"pr-title"\x3e\x26nbsp;\x3c/div\x3e\n                            \x3cdiv class\x3d"pr-desc"\x3e\x26nbsp;\x3c/div\x3e\n                            \x3ca href\x3d"#" class\x3d"pr-url"\x3eView on web\x3c/a\x3e\n                        \x3c/div\x3e\n                    \x3c/div\x3e\n                    \x3cp class\x3d"alignc centered small-meta dim-el"\x3e\n                        This Twitter Card preview is just an approximation.\x3cbr /\x3e\n                        We recommend testing with \x3ca href\x3d"https://cards-dev.twitter.com/validator" target\x3d"_blank"\x3eTwitter\'s Card Validator\x3c/a\x3e.\n                    \x3c/p\x3e\n                \x3c/div\x3e\n                \x3cdiv class\x3d"pr-preview" id\x3d"pr-facebook" style\x3d"display:none;"\x3e\n                    \x3cdiv id\x3d"pr-facebook-large"\x3e\n                        \x3cdiv class\x3d"media centered section"\x3e\n                            \x3cdiv class\x3d"media-image pr-img-bg" style\x3d"background-image: url(\'/images/blank.gif\')"\x3e\x3c/div\x3e\n                            \x3cdiv class\x3d"media-body"\x3e\n                                \x3cdiv class\x3d"pr-title"\x3e\x26nbsp;\x3c/div\x3e\n                                \x3cdiv class\x3d"pr-desc"\x3e\x26nbsp;\x3c/div\x3e\n                                \x3cdiv class\x3d"pr-domain"\x3e\x26nbsp;\x3c/div\x3e\n                                \x3ca href\x3d"#" class\x3d"pr-url"\x3e\x26nbsp;\x3c/a\x3e\n                            \x3c/div\x3e\n                        \x3c/div\x3e\n                    \x3c/div\x3e\n                    \x3cdiv id\x3d"pr-facebook-small"\x3e\n                        \x3cdiv class\x3d"media centered section"\x3e\n                            \x3cdiv class\x3d"media-image pr-img-bg" style\x3d"background-image: url(\'/images/blank.gif\')"\x3e\x3c/div\x3e\n                            \x3cdiv class\x3d"media-body"\x3e\n                                \x3cdiv class\x3d"pr-title"\x3e\x26nbsp;\x3c/div\x3e\n                                \x3cdiv class\x3d"pr-desc"\x3e\x26nbsp;\x3c/div\x3e\n                                \x3cdiv class\x3d"pr-domain"\x3e\x26nbsp;\x3c/div\x3e\n                                \x3ca href\x3d"#" class\x3d"pr-url"\x3e\x26nbsp;\x3c/a\x3e\n                            \x3c/div\x3e\n                        \x3c/div\x3e\n                    \x3c/div\x3e\n                    \x3cp class\x3d"alignc centered small-meta dim-el"\x3e\n                        The two possible Facebook formats above are just an approximation.\x3cbr /\x3e\n                        We recommend testing with \x3ca href\x3d"https://developers.facebook.com/tools/debug/" target\x3d"_blank"\x3eFacebook\'s Open Graph Debugger\x3c/a\x3e.\n                    \x3c/p\x3e\n                \x3c/div\x3e\n                \x3cdiv class\x3d"pr-preview" id\x3d"pr-pinterest" style\x3d"display:none;"\x3e\n                    \x3cdiv class\x3d"media centered section"\x3e\n                        \x3cdiv class\x3d"media-image"\x3e\n                            \x3cimg class\x3d"pr-img" src\x3d"/images/blank.gif" /\x3e\n                        \x3c/div\x3e\n                        \x3cdiv class\x3d"media-body"\x3e\n                            \x3cdiv class\x3d"pr-domain-wrap"\x3eFound on \x3cspan class\x3d"pr-domain"\x3e\x26nbsp;\x3c/span\x3e\x3c/div\x3e\n                            \x3cdiv class\x3d"pr-title"\x3e\x26nbsp;\x3c/div\x3e\n                            \x3cdiv class\x3d"pr-favicon"\x3e\x3cspan class\x3d"pr-domain"\x3e\x26nbsp;\x3c/span\x3e\x3c/div\x3e\n                            \x3cdiv class\x3d"pr-desc"\x3e\x26nbsp;\x3c/div\x3e\n                        \x3c/div\x3e\n                    \x3c/div\x3e\n                    \x3cp class\x3d"alignc centered small-meta dim-el"\x3e\n                        This Pinterest Rich Pin preview is just an approximation.\x3cbr /\x3e\n                        We recommend testing with \x3ca href\x3d"https://developers.pinterest.com/tools/rich-pins/validator/" target\x3d"_blank"\x3ePinterest\'s Rich Pins Validator\x3c/a\x3e.\n                    \x3c/p\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n\n    \x3cdiv class\x3d"mobile-view viewcol split-right"\x3e\n        \x3cdiv class\x3d"colheader drillnavbar alignc border-bottom"\x3e\n            \x3ch4\x3eSocial Cards Settings\x3c/h4\x3e\n        \x3c/div\x3e\n        \x3cdiv class\x3d"colbody promotion-settings"\x3e\n            \x3cdiv class\x3d"unit size1of1"\x3e\n                \x3cdiv class\x3d"section border-bottom" style\x3d"padding: 18px 0;"\x3e\n                    \x3cdiv class\x3d"unit size2of3 !padding--lv0" style\x3d"vertical-align: middle; line-height:42px;"\x3eEnable Customized Social Cards\x3c/div\x3e\n                    \x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"enableSwitch" data-dojo-type\x3d"mojo/widgets/Switch" class\x3d"alignr lastUnit size1of3 !padding--lv0 !margin-right--lv0"/\x3e\n                \x3c/div\x3e\n\n                \x3cdiv class\x3d"hide" data-dojo-attach-point\x3d"disabledView"\x3e\n                    \x3cp class\x3d"small-meta dim-el"\x3eWhen your campaign is shared on Twitter and Facebook, we\'ll show a preview image and a summary of your content.\x3c/p\x3e\n                \x3c/div\x3e\n\n                \x3cdiv class\x3d"hide" data-dojo-attach-point\x3d"settingsView"\x3e\n                    \x3cdiv data-dojo-attach-point\x3d"incompleteWarning" class\x3d"feedback-block warning section hide"\x3e\n                        \x3cdiv class\x3d"lastUnit size1of1"\x3e\n                            \x3cdiv class\x3d"media"\x3e\n                                \x3cdiv class\x3d"media-image"\x3e\x3cspan class\x3d"freddicon warn-circle-large"\x3e\x3c/span\x3e\x3c/div\x3e\n                                \x3cdiv class\x3d"media-body"\x3e\n                                    \x3ch4\x3eIncomplete Social Card\x3c/h4\x3e\n                                    \x3cp\x3e\n                                        Facebook requires only an image, but a title and short description are required for Twitter cards.\n                                        \x3ca href\x3d"#" data-dojo-attach-point\x3d"saveAndCloseAnyway"\x3eSave \x26amp; Close Anyway\x3c/a\x3e\n                                    \x3c/p\x3e\n                                \x3c/div\x3e\n                            \x3c/div\x3e\n                        \x3c/div\x3e\n                    \x3c/div\x3e\n                    \x3cdiv class\x3d"media !margin-bottom--lv4"\x3e\n                        \x3cp class\x3d"fwb"\x3eFeatured Image\x3c/p\x3e\n                        \x3cdiv class\x3d"media-image pr-img-bg !margin-bottom--lv2"\x3e\x3c/div\x3e\n                        \x3cdiv data-dojo-attach-point\x3d"imageDetails" class\x3d"!margin-bottom--lv4 hide"\x3e\n                            \x3cp class\x3d"fwb" data-dojo-attach-point\x3d"imageCount"\x3eImage \x3cspan data-dojo-attach-point\x3d"imageIndex"\x3e1\x3c/span\x3e of \x3cspan data-dojo-attach-point\x3d"totalImages"\x3e\x3c/span\x3e\x3c/p\x3e\n                            \x3cp class\x3d"fwb" data-dojo-attach-point\x3d"chooseCampaign"\x3eChoose a campaign image\x3c/p\x3e\n                            \x3ca href\x3d"#" data-dojo-attach-point\x3d"prevImage" class\x3d"button"\x3eBack\x3c/a\x3e\n                            \x3ca href\x3d"#" data-dojo-attach-point\x3d"nextImage" class\x3d"button p0"\x3eNext\x3c/a\x3e\n                        \x3c/div\x3e\n\n                        \x3cp class\x3d"small-meta upload-image clear" data-dojo-attach-point\x3d"uploadNoImages"\x3e\x3ca href\x3d"#"\x3eUpload an image\x3c/a\x3e\x3c/p\x3e\n                        \x3cp class\x3d"small-meta clear"  data-dojo-attach-point\x3d"uploadWithImages"\x3eor \x3ca href\x3d"#" class\x3d"upload-image"\x3eupload an image\x3c/a\x3e\x3c/p\x3e\n                    \x3c/div\x3e\n\n                    \x3cfieldset\x3e\n                        \x3cdiv class\x3d"field-wrapper"\x3e\n                            \x3clabel for\x3d"promo-title"\x3eTitle\x3c/label\x3e\n                            \x3cinput type\x3d"text" name\x3d"promo-title" id\x3d"promo-title" data-dojo-attach-point\x3d"socialShareTitle" /\x3e\n                            \x3cdiv class\x3d"invalid-error hide" data-dojo-attach-point\x3d"invalidTitle"\x3e\n                                Please remove any merge tags from the title.\n                            \x3c/div\x3e\n                        \x3c/div\x3e\n                    \x3c/fieldset\x3e\n\n                    \x3cfieldset\x3e\n                        \x3cdiv class\x3d"field-wrapper"\x3e\n                            \x3clabel for\x3d"promo-desc"\x3eWrite a short description about this image.\x3c/label\x3e\n                            \x3ctextarea id\x3d"promo-desc" data-dojo-attach-point\x3d"socialShareDescription" spellcheck\x3d"true"\x3e\x3c/textarea\x3e\n                            \x3cdiv class\x3d"field-help always-show"\x3eA two to four sentence description is recommended to increase engagement.\x3c/div\x3e\n                        \x3c/div\x3e\n                    \x3c/fieldset\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n\n\n            \x3cdiv class\x3d"lastUnit size1of1" id\x3d"promote-nodata" style\x3d"display:none;"\x3e\n                \x3cdiv class\x3d"no-data alignc"\x3e\n                    \x3cdiv class\x3d"freddicon campaign"\x3e\n                    \x3c/div\x3e\n                    \x3ch2\x3e\n                        No promotion preview available\n                    \x3c/h2\x3e\n                    \x3cp\x3e\n                        Without adding meta information to your campaign, we have no control over how it will display in Twitter or Facebook.\n                    \x3c/p\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"lastUnit size1of2" id\x3d"promote-preview"\x3e\n\n            \x3c/div\x3e\n\n        \x3c/div\x3e\n        \x3cdiv class\x3d"save-cancel-group"\x3e\n            \x3cbutton class\x3d"button p0" data-dojo-attach-point\x3d"saveAndClose"\x3eSave \x26amp; Close\x3c/button\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n\n\n\x3c/div\x3e\n',
"url:mojo/views/account/clients/templates/FilteringSelectUser.html":'\x3cdiv class\x3d"c-media padding--lv1 padding-left-right--lv0"\x3e\n    \x3cdiv class\x3d"c-mediaImage"\x3e\n        \x3cdiv style\x3d"background: url({avatar}) no-repeat center/contain; width:48px; height:48px;" class\x3d"border-gray border-radius--lv1"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"c-mediaBody"\x3e\n        \x3cp class\x3d"font-weight--bold small-meta margin-bottom--lv0"\x3e{fname} {lname}\x3c/p\x3e\n        \x3cp class\x3d"font-weight--normal small-meta margin-bottom--lv0"\x3e{contact_email} \x26middot; {username}\x3c/p\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/analytics/parts/templates/listMemberPagingTotal.html":'\x3cdiv class\x3d"member-count border-radius--rounded float-right alignr"\x3e\n    \x3cspan data-dojo-attach-point\x3d"totalCount"\x3e\x3c/span\x3e\n    \x3cspan data-dojo-attach-point\x3d"displayTxt" id\x3d"member-count-type"\x3e\x3c/span\x3e\n\x3c/div\x3e\n',"url:mojo/analytics/parts/templates/search.html":'\x3cdiv\x3e\n    \x3cdiv class\x3d"size1of1 lastUnit !padding--lv0"\x3e\n        \x3cdiv class\x3d"relative form-inline with-button"\x3e\n            \x3cinput data-dojo-attach-point\x3d"search" type\x3d"search" name\x3d"search" placeholder\x3d"" class\x3d"!margin--lv0"\x3e\n            \x3c!-- when not using freddicon, remove aria-label, remove the span and replace with button text --\x3e\n            \x3ca class\x3d"button-small" aria-label\x3d"Search button" data-dojo-attach-point\x3d"submit"\x3e\x3cspan class\x3d"freddicon search !margin--lv0" role\x3d"presentation"\x3e\x3c/span\x3e\x3c/a\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',
"url:dojox/form/resources/TriStateCheckBox.html":'\x3cdiv class\x3d"dijit dijitReset dijitInline" role\x3d"presentation"\n\t\x3e\x3cdiv class\x3d"dojoxTriStateCheckBoxInner" dojoAttachPoint\x3d"stateLabelNode"\x3e\x3c/div\n\t\x3e\x3cinput ${!nameAttrSetting} type\x3d"${type}" role\x3d"${type}" dojoAttachPoint\x3d"focusNode"\n\tclass\x3d"dijitReset dojoxTriStateCheckBoxInput" dojoAttachEvent\x3d"onclick:_onClick"\n/\x3e\x3c/div\x3e\n',"*now":function(h){h(['dojo/i18n!*preload*dojo/nls/mccommon*["ar","ca","cs","da","de","el","en-gb","en-us","es-es","fi-fi","fr-fr","he-il","hu","it-it","ja-jp","ko-kr","nl-nl","nb","pl","pt-br","pt-pt","ru","sk","sl","sv","th","tr","zh-tw","zh-cn","ROOT"]'])}}});
define("dojo/mccommon",[],1);